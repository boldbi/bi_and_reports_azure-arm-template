if(!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){var e;window.ej=window.Syncfusion=window.Syncfusion||{},function(f,_,h){"use strict";_.version="14.4.0.15",_.consts={NamespaceJoin:"-"},_.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},_.Orientation={Horizontal:"horizontal",Vertical:"vertical"},_.serverTimezoneOffset=0,_.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==h}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},_.defineClass=function(e,t,i,s){if(!e||!i)return h;for(var a=e.split("."),n=window,o=0;o<a.length-1;o++)_.isNullOrUndefined(n[a[o]])&&(n[a[o]]={}),n=n[a[o]];return(s||_.isNullOrUndefined(n[a[o]]))&&(n[a[o]]=t="function"==typeof t?t:function(){},n[a[o]].prototype=i),n[a[o]]},_.util={getNameSpace:function(e){e=e.toLowerCase().split(".");return"ej"===e[0]&&(e[0]="e"),e.join(_.consts.NamespaceJoin)},getObject:function(e,t){var i,s,a;if(!t)return h;for(i=t,s=e.split("."),a=0;a<s.length&&!_.util.isNullOrUndefined(i);a++)i=i[s[a]];return i},createObject:function(e,t,i){for(var s,a=e.split("."),e=i||window,n=e,o=a.length,l=0;l<o;l++)s=a[l],l+1==o?n[s]=t===h?{}:t:_.isNullOrUndefined(n[s])&&(n[s]={}),n=n[s];return e},isNullOrUndefined:function(e){return e===h||null===e},print:function(e,t){var i,s=_.buildTag("div"),e=e.clone();s.append(e),(t=t||window.open("","print","height=452,width=1024,tabbar=no")).document.write("<!DOCTYPE html>"),e=f("head").find("link").add("style"),"msie"===_.browserInfo().name?(i="",e.each(function(e,t){"LINK"==t.tagName&&f(t).attr("href",t.href),i+=t.outerHTML}),t.document.write("<html><head></head><body>"+i+s[0].innerHTML+"</body></html>")):(i="",t.document.write("<html><head>"),e.each(function(e,t){"LINK"==t.tagName&&f(t).attr("href",t.href),i+=t.outerHTML}),t.document.writeln(i+"</head><body>"),t.document.writeln(s[0].innerHTML+"</body></html>")),t.document.close(),t.focus(),setTimeout(function(){_.isNullOrUndefined(t.window)||(t.print(),setTimeout(function(){t.close()},1e3))},1e3)},ieClearRemover:function(e){var t=f(e).height();e.style.paddingTop=parseFloat(t/2)+"px",e.style.paddingBottom=parseFloat(t/2)+"px",e.style.height="1px",e.style.lineHeight="1px"},sendAjaxRequest:function(e){f.ajax({type:e.type,cache:e.cache,url:e.url,dataType:e.dataType,data:e.data,contentType:e.contentType,async:e.async,success:e.successHandler,error:e.errorHandler,beforeSend:e.beforeSendHandler,complete:e.completeHandler})},buildTag:function(e,t,i,s){var a=/^[a-z]*[0-9a-z]+/gi.exec(e)[0],n=(n=/#([_a-z]+[-_0-9a-z]+)/gi.exec(e))?n[n.length-1]:h,e=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(e);return e=e?e[e.length-1]:h,f(document.createElement(a)).attr(n?{id:n}:{}).addClass(e||"").css(i||{}).attr(s||{}).html(t||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var e=1;return e=(e=Math.max.apply(null,f.map(f("body *"),function(e){if("absolute"==f(e).css("position")||"fixed"==f(e).css("position"))return parseInt(f(e).css("z-index"))||1})))!=h&&null!=e?e:1},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(e,t){var i,s,a,n=f(e).parents().andSelf().filter(":hidden");return n&&(s={visibility:"hidden",display:"block"},a=[],n.each(function(){var e,t={};for(e in s)t[e]=this.style[e],this.style[e]=s[e];a.push(t)}),i=/(outer)/g.test(t)?f(e)[t](!0):f(e)[t](),n.each(function(e){var t,i=a[e];for(t in s)this.style[t]=i[t]})),i},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[_.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[_.userAgent()]},startEvent:function(){return _.isTouchDevice()||f.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return _.isTouchDevice()||f.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return _.isTouchDevice()||f.support.hasPointer?f.support.hasPointer&&!_.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return _.isTouchDevice()||f.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return _.isTouchDevice()||f.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return _.isTouchDevice()||f.support.hasPointer?"taphold":"click"},isDevice:function(){return _.getBooleanVal(f("head"),"data-ej-forceset",!1)?_.getBooleanVal(f("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&_.isPortrait()&&_.isDevice()||window.innerWidth<=800&&!_.isDevice()||window.innerWidth<=800&&!_.isPortrait()&&_.isWindows()&&_.isDevice()||_.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===_.getBooleanVal(f("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===_.getBooleanVal(f("head"),"data-ej-tablet",!1)||!_.isMobile()&&_.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&_.isMobile())&&this.isDevice()},getClearString:function(e){return f.trim(e.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(e,t,i){e=f(e).attr(t);return null!=e?"true"==e.toLowerCase():i},_getSkewClass:function(e,t,i){var s=e.width(),a=e.height(),n=e.offset().left,o=e.offset().left+s,l=e.offset().top,e=e.offset().top+a,s=.3*s,a=.3*a;return t<n+s&&i<l+a?"e-m-skew-topleft":o-s<t&&i<l+a?"e-m-skew-topright":o-s<t&&e-a<i?"e-m-skew-bottomright":t<n+s&&e-a<i?"e-m-skew-bottomleft":n+s<t&&i<l+a&&t<o-s?"e-m-skew-top":t<n+s?"e-m-skew-left":o-s<t?"e-m-skew-right":e-a<i?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(e){f(e).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){e&&(e=e.touches?e.touches[0]:e,t._distX=0,t._distY=0,t._moved=!1,t._pointX=e.pageX,t._pointY=e.pageY)},_isTouchMoved:function(e,t){var i,s;if(e)return s=(e=e.touches?e.touches[0]:e).pageX-t._pointX,i=e.pageY-t._pointY,Date.now(),t._pointX=e.pageX,t._pointY=e.pageY,t._distX+=s,t._distY+=i,e=Math.abs(t._distX),s=Math.abs(t._distY),!(e<5&&s<5)},listenEvents:function(e,t,i,s,a,n){for(var o=0;o<e.length;o++)_.listenTouchEvent(e[o],t[o],i[o],s,a,n)},listenTouchEvent:function(e,t,i,s,a,n){for(var o,l=s?"removeEventListener":"addEventListener",r=s?"off":"on",h=f(e),d=0;d<h.length;d++)switch(o=h[d],t){case"touchstart":_._bindEvent(o,l,t,i,"mousedown","MSPointerDown","pointerdown",n);break;case"touchmove":_._bindEvent(o,l,t,i,"mousemove","MSPointerMove","pointermove",n);break;case"touchend":_._bindEvent(o,l,t,i,"mouseup","MSPointerUp","pointerup",n);break;case"touchcancel":_._bindEvent(o,l,t,i,"mousecancel","MSPointerCancel","pointercancel",n);break;case"tap":case"taphold":case"ejtouchmove":case"click":f(o)[r](t,i);break;default:"msie"==_.browserInfo().name&&_.browserInfo().version<9?a._on(f(o),t,i):o[l](t,i,!0)}},_bindEvent:function(e,t,i,s,a,n,o){f.support.hasPointer?e[t](window.navigator.pointerEnabled?o:n,s,!0):e[t](i,s,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),t=0,i=e.length;t<i;t++)if(e[t]+"ransform"in _.styles)return e[t].substr(0,e[t].length-1);return!1},addPrefix:function(e){return""===_.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),_.userAgent()+e)},destroyWidgets:function(e){f(e).find("[data-role *= ejm]").each(function(e,t){var t=f(t),i=t.data("ejWidgets");i&&t[i]("destroy")})},getAttrVal:function(e,t,i){e=f(e).attr(t);return null!=e?e:i},getOffset:function(e){var t={},e=e.offset()||{left:0,top:0};return f.extend(!0,t,e),"static"!=f("body").css("position")&&(e=f("body").offset(),t.left-=e.left,t.top-=e.top),t},getZindexPartial:function(e,t){var i,s,a;if(!_.isNullOrUndefined(e)&&0<e.length)return i=e.parents(),s=f("body").children(),!_.isNullOrUndefined(e)&&0<e.length&&s.splice(s.index(t),1),f(s).each(function(e,t){i.push(t)}),!(a=Math.max.apply(a,f.map(i,function(e){if("static"!=f(e).css("position"))return parseInt(f(e).css("z-index"))||1})))||a<1e4?a=1e4:a+=1,a},isValidAttr:function(e,t){var i;return void 0!==(e=f(e)[0])[t]||(i=!1,f.each(e,function(e){if(e.toLowerCase()==t.toLowerCase())return!(i=!0)}),i)}},f.extend(_,_.util),_.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(e,t,i,s){var a=null;return(a="object"==typeof e||e.startsWith("#")||e.startsWith(".")?f(e).attr("type"):a)&&(a=a.toLowerCase(),_.template[a])?_.template[a](this,e,t,i,s):_.template.render(this,e,t,i,s)},destroy:function(){var e,t,i,s;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),f(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(e=this.element.data("ejWidgets")||[],s=0;s<e.length;s++)e[s]==this.pluginName&&e.splice(s,1);for(e.length||this.element.removeData("ejWidgets");this._events&&(i=[],t=this._events.pop());){for(s=0;s<t[1].length;s++)f.isPlainObject(t[1][s])||i.push(t[1][s]);f.fn.off.apply(t[0],i)}this._events=null,this.element.removeClass(_.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(e){this._events||(this._events=[]);for(var t=[].splice.call(arguments,1,arguments.length-1),i={},s=t.length;i&&"function"!=typeof i;)i=t[--s];return t[s]=_.proxy(t[s],this),this._events.push([e,t,i,t[s]]),f.fn.on.apply(e,t),this},_off:function(e,t,i,s){var a,n,o,l,r=this._events;if(r&&r.length)for("function"==typeof i&&(a=s,s=i,i=a),n=t.match(/\S+/g)||[""],o=0;o<r.length;o++)if((l=r[o])[0].length&&(!s||l[2]===s)&&(l[1][0]===t||n[0])&&(!i||l[1][1]===i)&&-1<f.inArray(e[0],l[0])){f.fn.off.apply(e,s?[t,i,l[3]]:[t,i]),r.splice(o,1);break}return this},_trigger:function(e,t){var i,s,a=null,n={};return f.extend(n,t),(a=e in this.model?this.model[e]:a)&&("string"==typeof a&&(a=_.util.getObject(a,window)),f.isFunction(a))&&(i=_.event(e,this.model,t),a=a.call(this,i),(s=this.model._applyScope)&&s.call(),t&&f.extend(t,i),i.cancel||!_.isNullOrUndefined(a))?!1===a||i.cancel:(s=Boolean(t),(t=t||{}).originalEventType=e,t.type=this.pluginName+e,i=f.Event(t.type,_.event(t.type,this.model,t)),this.element.trigger(i),s&&f.extend(t,i),_.isOnWebForms&&0==i.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&_.raiseWebFormsServerEvents(e,t,n),i.cancel)},setModel:function(e,t){var i,s,a;if(!this._trigger("modelChange",{changes:e})){for(i in e){if(!t){if(this.model[i]===e[i]){delete e[i];continue}if(f.isPlainObject(e[i])&&(n(this.model[i],e[i]),f.isEmptyObject(e[i]))){delete e[i];continue}}if(this.dataTypes&&!0!==(s=this._isValidModelValue(i,this.dataTypes,e)))throw"setModel - Invalid input for property :"+i+" - "+s;this.model.notifyOnEachPropertyChanges&&this.model[i]!==e[i]&&(s={oldValue:this.model[i],newValue:e[i]},e[i]=this._trigger(i+"Change",s)?this.model[i]:s.newValue)}f.isEmptyObject(e)||(this._setFirst?((a=e.dataSource)&&delete e.dataSource,f.extend(!0,this.model,e),a&&(this.model.dataSource=a instanceof Array?a.slice():a,e.dataSource=this.model.dataSource),this._setModel&&this._setModel(e)):this._setModel&&!1===this._setModel(e)||f.extend(!0,this.model,e),"enablePersistence"in e&&this._setState(e.enablePersistence))}},option:function(e,t,i){if(!e)return this.model;if(f.isPlainObject(e))return this.setModel(e,i);if("string"==typeof e){e=e.replace(/^model\./,"");var s=_.getObject(e,this.model);if(t===h&&!i)return s;if("enablePersistence"===e)return this._setState(t);if(i&&t===_.extensions.modelGUID)return this._setModel(_.createObject(e,_.getObject(e,this.model),{}));if(i||_.getObject(e,this.model)!==t)return this.setModel(_.createObject(e,t,{}),i)}return h},_isValidModelValue:function(e,t,i){var s,a,n,o=t[e],l=i[e];if(o){if("string"==typeof o){if("enum"==o&&(i[e]=l&&l.toString().toLowerCase(),o="string"),"array"===o){if("[object Array]"===Object.prototype.toString.call(l))return!0}else if("data"===o||"parent"===o||typeof l===o)return!0;return"Expected type - "+o}if(l instanceof Array){for(a=0;a<l.length;a++)if(!0!==(s=this._isValidModelValue(e,t,l[a])))return" ["+a+"] - "+s}else for(n in l)if(s=this._isValidModelValue(n,o,l),!0!==s)return n+" : "+s}return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var t,i=this.observables,s=0;s<i.length;s++)t=_.getObject(i[s],e),_.isNullOrUndefined(t)||"function"!=typeof t||this._returnFn(e,i[s]);return JSON.stringify(e)},_setState:function(e){!0===e?(this._persistHandler=_.proxy(this.persistState,this),f(window).on("unload",this._persistHandler)):(this.deleteState(),f(window).off("unload",this._persistHandler))},_removeProp:function(e,t){_.isNullOrUndefined(e)||(-1!=t.indexOf(".")?this._removeProp(e[t.split(".")[0]],t.split(".").slice(1).join(".")):delete e[t])},persistState:function(){var e,t;if(this._ignoreOnPersist){for(e=v({},this.model),t=0;t<this._ignoreOnPersist.length;t++)this._removeProp(e,this._ignoreOnPersist[t]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},t=0;t<this._addToPersist.length;t++)_.createObject(this._addToPersist[t],_.getObject(this._addToPersist[t],this.model),e);e.addToPersist=this._addToPersist}else e=v({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(_.isNullOrUndefined(_.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",_.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(_.isNullOrUndefined(_.persistStateVersion)||null!=_.cookie.get("persistKey")||_.cookie.set("persistKey",_.persistStateVersion),_.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&_.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(e){var t,i,s=null;if(window.localStorage?s=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(s=_.cookie.get("$ej$"+this.pluginName+this._id)),s&&(t=JSON.parse(s),this._restoreState&&(this._restoreState(t.customPersists),delete t.customPersists),!1===_.isNullOrUndefined(t))&&(_.isNullOrUndefined(t.ignoreOnPersist)?_.isNullOrUndefined(t.addToPersist)||(this._addToPersist=t.addToPersist,delete t.addToPersist):(this._ignoreOnPersist=t.ignoreOnPersist,delete t.ignoreOnPersist)),_.isNullOrUndefined(t)||_.isNullOrUndefined(this._ignoreOnPersist))this.model=f.extend(!0,this.model,t);else{for(i in this._ignoreOnPersist)-1!==this._ignoreOnPersist[i].indexOf(".")?_.createObject(this._ignoreOnPersist[i],_.getObject(this._ignoreOnPersist[i],this.model),t):t[this._ignoreOnPersist[i]]=this.model[this._ignoreOnPersist[i]];this.model=t}!e&&s&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,i,s=[];if("object"==typeof e?s=e:"string"==typeof e&&s.push(e),this._addToPersist===h)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<s.length;t++)this._ignoreOnPersist.push(s[t]);else for(t=0;t<s.length;t++)i=this._addToPersist.indexOf(s[t]),this._addToPersist.splice(i,1)},addToPersist:function(e){var t,i,s=[];if("object"==typeof e?s=e:"string"==typeof e&&s.push(e),this._addToPersist===h)for(this._ignoreOnPersist=this._ignoreOnPersist||[],i=0;i<s.length;i++)t=this._ignoreOnPersist.indexOf(s[i]),this._ignoreOnPersist.splice(t,1);else for(i=0;i<s.length;i++)-1===f.inArray(s[i],this._addToPersist)&&this._addToPersist.push(s[i])},formatting:function(e,t,i){var s,a;if(e=e.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),i=_.preferredCulture(i)?i:"en-US",o=(s=e).split("{0:"),a=e.split("}"),o=o[0],a=a[1],"string"==typeof t&&f.isNumeric(t)&&(t=Number(t)),-1!=e.indexOf("{0:"))return null!=(e=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(e))&&null!=t?null!=o&&null!=a?o+_.format(t,e[2],i)+a:_.format(t,e[2],i):null!=t?t:"";if(!s.startsWith("{")||s.startsWith("{0:"))return null!=this.data&&null==this.data.Value?(f.each(this.data,function(e,t){s=s.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),s):this.data.Value;for(var n=s.split(""),o=(t=(t||"")+"").split(""),l=/[0aA\*CN<>\?]/gm,r=0,h=0;r<n.length;r++)n[r]=l.test(n[r])?"{"+h+++"}":n[r];return String.format.apply(String,[n.join("")].concat(o)).replace("{","").replace("}","")}},_.WidgetBase=function(){},n=function(e,t){for(var i in e)e[i]===t[i]&&delete t[i],f.isPlainObject(t[i])&&f.isPlainObject(e[i])&&n(e[i],t[i])},_.widget=function(c,u,m){var e,t,p;if("object"==typeof c)for(e in m=u,c)t=c[e],t instanceof Array&&(m._rootCSS=t[1],t=t[0]),_.widget(e,t,m),c[e]instanceof Array&&(m._rootCSS="");else p=m._rootCSS||_.getNameSpace(u),m=_.defineClass(u,function(e,t){var i,s,a,n,o,l,r,h,d;if(this.sfType=u,this.pluginName=c,this.instance=b,_.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},f.extend(this,_.widgetBase),this.dataTypes)for(i in t)if(s=this._isValidModelValue(i,this.dataTypes,t),!0!==s)throw"setModel - Invalid input for property :"+i+" - "+s;for((h=e.data("ejWidgets")||[]).push(c),e.data("ejWidgets",h),n=0;_.widget.observables&&this.observables&&n<this.observables.length;n++)(a=_.getObject(this.observables[n],t))&&_.createObject(this.observables[n],_.widget.observables.register(a,this.observables[n],this,e),t);if(this.element=e.jquery?e:f(e),this.model=v(!0,{},m.prototype.defaults,t),this.model.keyConfigs=v(this.keyConfigs),this.element.addClass(p+" e-js").data(c,this),this._id=e[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!_.isNullOrUndefined(_.persistStateVersion)&&window.localStorage.getItem("persistKey")!=_.persistStateVersion)for(n in window.localStorage)-1!=n.indexOf("$ej$")&&window.localStorage.removeItem(n);else if(document.cookie&&!_.isNullOrUndefined(_.persistStateVersion)&&_.cookie.get("persistKey")!=_.persistStateVersion)for(o in document.cookie.split(/; */))-1!=o.indexOf("$ej$")&&_.cookie.set(o.split("=")[0],model,new Date);this._persistHandler=_.proxy(this.persistState,this),f(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(t),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(r in l=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==r){l=!0;break}l&&this._keyPressed&&(h=e,d="keydown",this.keySettings&&(h=this.keySettings.getElement&&this.keySettings.getElement()||h,d=this.keySettings.event||d),this._on(h,d,function(e){var t,i;this.model.keyConfigs&&(t=g.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey},t)&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}))}this._trigger("create")},m),f.fn[c]=function(e){for(var t=e,i=0;i<this.length;i++){var s=f(this[i]),a=s.data(c),n=a&&s.hasClass(p),o=null;if(0<this.length&&f.isPlainObject(t)&&(e=_.copyObject({},t)),n){if(e)if(n=[].slice.call(arguments,1),0<this.length&&n[0]&&"option"===t&&f.isPlainObject(n[0])&&(n[0]=_.copyObject({},n[0])),f.isPlainObject(e))a.setModel(e);else if(0!==e.indexOf("_")&&!_.isNullOrUndefined(o=_.getObject(e,a))||0===e.indexOf("model."))if(o&&f.isFunction(o)){if((n=o.apply(a,n))!==h)return n}else{if(1==arguments.length)return o;a.option(e,arguments[1])}else l(u+": function/property - "+e+" does not exist")}else!0!==m.prototype._requiresID||f(this[i]).attr("id")||s.attr("id",r("ejControl_")),e&&"object"!=typeof e?l(c+": methods/properties can be accessed only after plugin creation"):(m.prototype.defaults&&!_.isNullOrUndefined(_.setCulture)&&"locale"in m.prototype.defaults&&"ejChart"!=c&&(!e||"locale"in e?_.isNullOrUndefined(e)&&((e={}).locale=_.setCulture().name):e.locale=_.setCulture().name),new m(s,e))}return-1!=c.indexOf("ejm")&&_.widget.registerInstance(s,c,u,m.prototype),this},_.widget.register(c,u,m.prototype)},f.extend(_.widget,{register:function(e,t,i){_.isNullOrUndefined(s[e])||l("ej.widget : The widget named "+e+" is trying to register twice."),s[e]={name:e,className:t,proto:i},_.widget.extensions&&_.widget.extensions.registerWidget(e)},registerInstance:function(e,t,i,s){o.push({element:e,pluginName:t,className:i,proto:s})},registeredWidgets:s={},registeredInstances:o=[]}),_.widget.destroyAll=function(e){var t,i,s,a;if(e&&e.length)for(t=0;t<e.length;t++)if((s=(i=e.eq(t).data()).ejWidgets)&&s.length)for(a=0;a<s.length;a++)i[s[a]]&&i[s[a]].destroy&&i[s[a]].destroy()},_.cookie={get:function(e){e=RegExp(e+"=([^;]+)").exec(document.cookie);return e&&1<e.length?e[1]:h},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},g={getActionFromCode:function(e,t,i,s,a){var n,o,l;for(n in i=i||!1,s=s||!1,a=a||!1,e)if("focus"!==n)for(o=g.getKeyObject(e[n]),l=0;l<o.length;l++)if(t===o[l].code&&i==o[l].isCtrl&&s==o[l].isShift&&a==o[l].isAlt)return n;return null},getKeyObject:function(e){for(var t,i,s,a={isCtrl:!1,isShift:!1,isAlt:!1},n=f.extend(!0,{},a),o=e.split(","),l=[],r=0;r<o.length;r++){if(t=null,-1!=o[r].indexOf("+"))for(i=o[r].split("+"),s=0;s<i.length;s++)t=g.getResult(f.trim(i[s]),a);else t=g.getResult(f.trim(o[r]),f.extend(!0,{},n));l.push(t)}return l},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},_.getScrollableParents=function(e){return f(e).parentsUntil("html").filter(function(){return"visible"!=f(this).css("overflow")}).add(f(window))},_.browserInfo=function(){var e,t,i,s,a={},n=[],o={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(e in o)if(o.hasOwnProperty(e)&&(n=navigator.userAgent.match(o[e]),n)){if(a.name="opr"==n[1].toLowerCase()?"opera":n[1].toLowerCase(),a.version=n[2],a.culture={},a.culture.name=a.culture.language=navigator.language||navigator.userLanguage,void 0!==_.globalize){for(t=_.preferredCulture().name,i=navigator.language||navigator.userLanguage?_.preferredCulture(navigator.language||navigator.userLanguage):_.preferredCulture("en-US"),s=0;navigator.languages&&s<navigator.languages.length&&(i=_.preferredCulture(navigator.languages[s])).language!=navigator.languages[s];s++);_.preferredCulture(t),f.extend(!0,a.culture,i)}navigator.userAgent.match(/Trident\/7\./)&&(a.name="msie");break}return a.isMSPointerEnabled="msie"==a.name&&9<a.version&&window.navigator.msPointerEnabled,a.pointerEnabled=window.navigator.pointerEnabled,a},_.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},_.event=function(e,t,i){return f.extend(i||{},{type:e,model:t,cancel:!1})},_.proxy=function(t,i,s){return t&&"function"==typeof t?"on"in t&&i?s?t.on(i,s):t.on(i):function(){var e=s?[s]:[];return e.push.apply(e,arguments),t.apply(i||this,e)}:null},_.hasStyle=function(e){var t,i,s=document.documentElement.style;if(e in s)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in s)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0!==i)for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var n,g,a,l,s,o,v=_.copyObject=function(e,t){var i,s,a,n,o,l="boolean"!=typeof e?1:2,r=[].slice.call(arguments,l);for(1===l&&(t=e,e=h),a=0;a<r.length;a++)for(n in r[a])if(i=t[n],s=r[a][n],s!==h&&i!==s&&r[a]!==s&&t!==s)if(s instanceof Array)if(0===a&&e)for(t[n]=[],o=0;o<s.length;o++)v(!0,t[n],s);else t[n]=s.slice();else _.isPlainObject(s)?(t[n]=i||{},e?v(e,t[n],s):v(t[n],s)):t[n]=s;return t},b=function(){return this},t=0,r=function(e){return e+t++};_.template={},_.template.render=_.template["text/x-jsrender"]=function(e,t,i,s,a){"#"!==t.slice(0,1)&&(t=["<div>",t,"</div>"].join(""));a={prop:a,index:s};return f(t).render(i,a)},_.isPlainObject=function(e){if(!e||_.DataManager!==h&&e instanceof _.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var t,i=_.support.isOwnLast;for(t in e)if(i)break;return t===h||e.hasOwnProperty(t)},a=!1,_.util.valueFunction=function(s){return function(e,t){var i=_.getObject(s,this.model);if(!1===a&&(a=_.getObject("observables.getValue",_.widget)),e===h)return _.isNullOrUndefined(a)?"function"==typeof i?i.call(this):i:a(i,t);"function"==typeof i?(this["ob.values"][s]=e,i.call(this,e)):_.createObject(s,e,this.model)}},_.util.getVal=function(e){return"function"==typeof e?e():e},_.support={isOwnLast:function(){function e(){this.a=1}for(var t in e.prototype.b=1,new e)return"b"===t}(),outerHTML:document.createElement("div").outerHTML!==h},l=_.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},_.getRandomValue=function(e,t){var i;return e===h||t===h?_.throwError("Min and Max values are required for generating a random number"):0|("crypto"in window&&"getRandomValues"in crypto?(i=new Uint16Array(1),window.crypto.getRandomValues(i),i[0]%(t-e)+e):Math.random()*(t-e)+e)},_.extensions={},_.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),$.fn.addEleAttrs=function(e){var i=$(this);$.each(e,function(e,t){t&&t.specified&&i.attr(t.name,t.value)})},$.fn.removeEleAttrs=function(s){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&s.test(t.name)&&i.removeAttr(t.name)})})},$.fn.attrNotStartsWith=function(e){var t,s=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;s.push(t[i])}return s},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&""===t.value&&i.removeAttr(t.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var s=e.attributes,a=0;a<s.length;a++)if(0===s[a].nodeName.indexOf(i[3]))return!1;return!0}}),e=$.fn.andSelf||$.fn.addBack,$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}),!function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){var a,n,o,l,r,h;r=jQuery,(h=Syncfusion).widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:null,clone:!1,distance:1,dragOnTaphold:!1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,create:null,destroy:null,helper:function(){return r('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},helpers={},this._wireEvents(),this._browser=h.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,"msie"==this._browser.name&&this.element.addClass("e-pinch")},_setModel:function(e){for(var t in e)switch(t){case"dragArea":this.model.dragArea=e[t];break;case"dragOnTaphold":this.model.dragOnTaphold=e[t]}},_destroy:function(){r(document).off(h.eventType.mouseUp,this._destroyHandler).off(h.eventType.mouseUp,this._dragStopHandler).off(h.eventType.mouseMove,this._dragStartHandler).off(h.eventType.mouseMove,this._dragHandler).off("mouseleave",this._dragMouseOutHandler).off("selectstart",!1),h.widgetBase.droppables[this.scope]=null},_initialize:function(e){var t,i=e;e.preventDefault(),e=this._getCoordinate(e),this.target=r(i.currentTarget),this._initPosition={x:e.pageX,y:e.pageY},r(document).on(h.eventType.mouseMove,this._dragStartHandler).on(h.eventType.mouseUp,this._destroyHandler),this.model.clone||(t=this.element.offset(),this._relXposition=e.pageX-t.left,this._relYposition=e.pageY-t.top),r(document.documentElement).trigger(h.eventType.mouseDown,i)},_setDragArea:function(){var e,t,i,s,a,n,o=r(this.model.dragArea)[0];if(o){if(i=["left","right","bottom","top"],h.isNullOrUndefined(o.getBoundingClientRect)){for(e=r(this.model.dragArea).outerWidth(),t=r(this.model.dragArea).outerHeight(),n=0;n<i.length;n++)this["border-"+i[n]+"-width"]=0,this["padding-"+i[n]]=0;s=a=0}else{for(e=(o=o.getBoundingClientRect()).width||o.right-o.left,t=o.height||o.bottom-o.top,n=0;n<i.length;n++)this["border-"+i[n]+"-width"]=isNaN(parseFloat(r(r(this.model.dragArea)[0]).css("border-"+i[n]+"-width")))?0:parseFloat(r(r(this.model.dragArea)[0]).css("border-"+i[n]+"-width")),this["padding-"+i[n]]=isNaN(parseFloat(r(r(this.model.dragArea)[0]).css("padding-"+i[n])))?0:parseFloat(r(r(this.model.dragArea)[0]).css("padding-"+i[n]));s=r(this.model.dragArea).offset().top,a=r(this.model.dragArea).offset().left}this._left=h.isNullOrUndefined(r(this.model.dragArea).offset())?0+this["border-left-width"]+this["padding-left"]:a+this["border-left-width"]+this["padding-left"],this._top=h.isNullOrUndefined(r(this.model.dragArea).offset())?0+this["border-top-width"]+this["padding-top"]:s+this["border-top-width"]+this["padding-top"],this._right=a+e-[this["border-right-width"]+this["padding-right"]],this._bottom=s+t-[this["border-bottom-width"]+this["padding-bottom"]]}},_dragStart:function(e){var t,i=e,s=(e=this._getCoordinate(e),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.position=this._getMousePosition(i),this._initPosition.x-e.pageX),e=this._initPosition.y-e.pageY,s=Math.sqrt(s*s+e*e);if(s>=this.model.distance&&(e=this.model.helper({sender:i,element:this.target}))&&!h.isNullOrUndefined(e)){if(s=this.model.handle=this.helper=e,this.model.dragStart&&(e=null,e="touchmove"==i.type?(t=i.originalEvent.changedTouches[0],document.elementFromPoint(t.clientX,t.clientY)):i.originalEvent.target||i.target,this._trigger("dragStart",{event:i,element:this.element,target:e})))return this._destroy(),!1;this.model.dragArea?this._setDragArea():(this._left=this._top=this._right=this._bottom=0,this["border-top-width"]=this["border-left-width"]=0),t=s.offsetParent().offset(),r(document).off(h.eventType.mouseMove,this._dragStartHandler).off(h.eventType.mouseUp,this._destroyHandler).on(h.eventType.mouseMove,this._dragHandler).on(h.eventType.mouseUp,this._dragStopHandler).on("mouseleave",this._dragMouseOutHandler).on("selectstart",!1),h.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:s.css({position:"absolute",left:this.position.left-t.left,top:this.position.top-t.top}),destroy:this._destroyHandler}}},_drag:function(e){var t,i,s,a,n;e.preventDefault(),this.position=this._getMousePosition(e),this.position.top<0&&(this.position.top=0),r(document).height()<this.position.top&&(this.position.top=r(document).height()),r(document).width()<this.position.left&&(this.position.left=r(document).width()),a=h.widgetBase.droppables[this.model.scope].helper,this.model.drag&&(n=null,n="touchmove"==e.type?(s=e.originalEvent.changedTouches[0],document.elementFromPoint(s.clientX,s.clientY)):e.originalEvent.target||e.target,this._trigger("drag",{event:e,element:this.target,target:n})),s=this._checkTargetElement(e),h.isNullOrUndefined(s)?this._hoverTarget&&(e.target=e.toElement=this._hoverTarget,this._hoverTarget.object._out(e),this._hoverTarget=null):((e.target=e.toElement=s).object._over(e),this._hoverTarget=s),n=(a=h.widgetBase.droppables[this.model.scope].helper).offsetParent().offset(),s=(h.isNullOrUndefined(e.pageX)?e.originalEvent.changedTouches[0]:e).pageX,e=(h.isNullOrUndefined(e.pageY)?e.originalEvent.changedTouches[0]:e).pageY,this.model.dragArea?(this._pageX!=s&&(t=this._left>this.position.left?this._left:this._right<this.position.left+a.outerWidth(!0)?this._right-a.outerWidth(!0):this.position.left),this._pageY!=e&&(i=this._top>this.position.top?this._top:this._bottom<this.position.top+a.outerHeight(!0)?this._bottom-a.outerHeight(!0):this.position.top)):(t=this.position.left,i=this.position.top),(i<0||i-[n.top+this["border-top-width"]]<0)&&(i=[n.top+this["border-top-width"]]),(t<0||t-[n.left+this["border-left-width"]]<0)&&(t=[n.left+this["border-left-width"]]),a.css({left:t-[n.left+this["border-left-width"]],top:i-[n.top+this["border-top-width"]]}),this.position.left=t,this.position.top=i,this._pageX=s,this._pageY=e},_dragStop:function(e){var t,i;"mouseup"!=e.type&&"touchend"!=e.type||this._destroy(e),this.model.dragStop&&(t=null,t="touchend"==e.type?(i=e.originalEvent.changedTouches[0],document.elementFromPoint(i.clientX,i.clientY)):e.originalEvent.target||e.target,this._trigger("dragStop",{event:e,element:this.target,target:t})),this._dragEnd(e)},_dragEnd:function(e){var t=this._checkTargetElement(e);h.isNullOrUndefined(t)||(e.target=e.toElement=t).object._drop(e)},_dragMouseEnter:function(e){r(document).off("mouseenter",this._dragMouseEnterHandler),this._isIE9?this._dragManualStop(e):this._isIE8?0==e.button&&this._dragManualStop(e):0==e.buttons&&this._dragManualStop(e)},_dragManualStop:function(e){null!=this.model.dragStop&&this._trigger("dragStop",{event:e,element:this.target,target:e.originalEvent.target||e.target}),this._destroy(e)},_dragMouseOut:function(){r(document).on("mouseenter",this._dragMouseEnterHandler)},_checkTargetElement:function(e){var t=e.target;return this.helper&&this._contains(this.helper[0],t)&&(this.helper.hide(),t=this._elementUnderCursor(e),this.helper.show()),this._withDropElement(t)},_withDropElement:function(e){if(e&&(dropObj=r(e).data("ejDroppable"),h.isNullOrUndefined(dropObj)&&(dropObj=this._checkParentElement(r(e))),!h.isNullOrUndefined(dropObj)))return r.extend(e,{object:dropObj})},_checkParentElement:function(e){e=r(e).closest(".e-droppable");if(0<e.length&&(dropObj=r(e).data("ejDroppable"),!h.isNullOrUndefined(dropObj)))return dropObj},_elementUnderCursor:function(e){return"touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type?document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY):document.elementFromPoint(e.clientX,e.clientY)},_contains:function(e,t){try{return r.contains(e,t)||e==t}catch(e){return!1}},_wireEvents:function(){1==h.isDevice()&&1==this.model.dragOnTaphold?this._on(this.element,"taphold",this._initialize):this._on(this.element,h.eventType.mouseDown,this._initialize),this._dragStartHandler=r.proxy(this._dragStart,this),this._destroyHandler=r.proxy(this._destroy,this),this._dragStopHandler=r.proxy(this._dragStop,this),this._dragHandler=r.proxy(this._drag,this),this._dragMouseEnterHandler=r.proxy(this._dragMouseEnter,this),this._dragMouseOutHandler=r.proxy(this._dragMouseOut,this)},_getMousePosition:function(e){e=this._getCoordinate(e);var t=this.model.clone?e.pageX:e.pageX-this._relXposition,e=this.model.clone?e.pageY:e.pageY-this._relYposition;return{left:t-[this.margins.left+this.model.cursorAt.left],top:e-[this.margins.top+this.model.cursorAt.top]}},_getCoordinate:function(e){var t=e;return t="touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type&&"msie"!=h.browserInfo().name?e.originalEvent.changedTouches[0]:t}}),o=jQuery,(l=Syncfusion).widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],defaults:{accept:null,scope:"default",drop:null,over:null,out:null,create:null,destroy:null},_init:function(){this.model.accept?o(this.element).delegate(this.accept,"mouseup",o.proxy(this._drop,this)):o(this.element).on("mouseup",o.proxy(this._drop,this)),this._on(o(document),"touchend",this._drop),this._mouseOver=!1},_setModel:function(){},_destroy:function(){o(this.element).off("mouseup",o.proxy(this._drop,this))},_over:function(e){this._mouseOver||(this._trigger("over",e),this._mouseOver=!0)},_out:function(e){this._mouseOver&&(this._trigger("out",e),this._mouseOver=!1)},_drop:function(e){var t=l.widgetBase.droppables[this.model.scope],i=!l.isNullOrUndefined(t.helper)&&t.helper.is(":visible"),s=this._isDropArea(e);t&&!l.isNullOrUndefined(this.model.drop)&&i&&s.canDrop&&this.model.drop(o.extend(e,{dropTarget:s.target},!0),t)},_isDropArea:function(e){var t,i,s,a,n={canDrop:!0,target:o(e.target)};if("touchend"==e.type)for(e=e.originalEvent.changedTouches[0],t=document.elementFromPoint(e.clientX,e.clientY),n.canDrop=!1,i=o(t).parents(),s=0;s<this.element.length;s++){if(o(t).is(o(this.element[s])))n={canDrop:!0,target:o(t)};else for(a=0;a<i.length;a++)if(o(this.element[s]).is(o(i[a]))){n={canDrop:!0,target:o(t)};break}if(n.canDrop)break}return n}}),a=jQuery,(n=Syncfusion).widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,create:null,destroy:null,helper:function(){return a('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this._browser=n.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,null!=this.handle?a(this.target).delegate(this.handle,n.eventType.mouseDown,a.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):a(this.target).on("mousedown",a.proxy(this._mousedown,this)),this._resizeStartHandler=a.proxy(this._resizeStart,this),this._destroyHandler=a.proxy(this._destroy,this),this._resizeStopHandler=a.proxy(this._resizeStop,this),this._resizeHandler=a.proxy(this._resize,this),this._resizeMouseEnterHandler=a.proxy(this._resizeMouseEnter,this)},_mouseover:function(e){a(e.target).hasClass("e-resizable")?(a(e.target).css({cursor:"se-resize"}),a(this.target).on(n.eventType.mouseDown,a.proxy(this._mousedown,this))):(a(this.target).off(n.eventType.mouseDown),a(this.target).css({cursor:""}))},_blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},_setModel:function(){},_mousedown:function(e){var t=e;return e=this._getCoordinate(e),this.target=a(t.currentTarget),this._initPosition={x:e.pageX,y:e.pageY},this._pageX=e.pageX,this._pageY=e.pageY,a(document).on(n.eventType.mouseMove,this._resizeStartHandler).on(n.eventType.mouseUp,this._destroyHandler),a(document.documentElement).trigger(n.eventType.mouseDown,t),!1},_resizeStart:function(e){var t,i,s;a(e.target).hasClass("e-resizable")&&(e=this._getCoordinate(e),t=this._initPosition.x-e.pageX,i=this._initPosition.y-e.pageY,Math.sqrt(t*t+i*i)>=this.model.distance)&&(null!=this.model.resizeStart&&this._trigger("resizeStart",{event:e,element:this.target})||(t=this.model.helper({element:this.target}),i=e.pageX-this._pageX+t.outerWidth(),s=e.pageY-this._pageY+t.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,this.getElementPosition(t),a(document).off(n.eventType.mouseMove,this._resizeStartHandler).off(n.eventType.mouseUp,this._destroyHandler).on(n.eventType.mouseMove,this._resizeHandler).on(n.eventType.mouseUp,this._resizeStopHandler).on("mouseenter",this._resizeMouseEnterHandler).on("selectstart",!1),n.widgetBase.resizables[this.scope]={resizable:this.target,helper:t.css({width:i,height:s}),destroy:this._destroyHandler}))},_resize:function(e){var t,i,s;e=this._getCoordinate(e),this.getElementPosition(n.widgetBase.resizables[this.scope].helper),s=this.model.helper({element:this.target}),t=e.pageX-this._pageX+s.outerWidth(),s=e.pageY-this._pageY+s.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,t<this.model.minWidth&&(i=this.model.minWidth-t,t=this.model.minWidth,this._pageX=e.pageX+i),s<this.model.minHeight&&(i=this.model.minHeight-s,s=this.model.minHeight,this._pageY=e.pageY+i),null!=this.model.maxHeight&&s>this.model.maxHeight&&(i=s-this.model.maxHeight,s=this.model.maxHeight,this._pageY=e.pageY-i),null!=this.model.maxWidth&&t>this.model.maxWidth&&(i=t-this.model.maxWidth,t=this.model.maxWidth,this._pageX=e.pageX-i),n.widgetBase.resizables[this.scope].helper.css({width:t,height:s}),this._trigger("resize",{element:this.target})},_resizeStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),"mouseup"!=e.type&&"touchend"!=e.type||this._destroy(e)},_resizeMouseEnter:function(e){this._isIE9?this._resizeManualStop(e):this._isIE8?0==e.button&&this._resizeManualStop(e):0==e.buttons&&this._resizeManualStop(e)},_resizeManualStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),this._destroy(e)},_destroy:function(){a(document).off(n.eventType.mouseUp,this._destroyHandler).off(n.eventType.mouseUp,this._resizeStopHandler).off(n.eventType.mouseMove,this._resizeStartHandler).off(n.eventType.mouseMove,this._resizeHandler).off("mouseenter",this._resizeMouseEnterHandler).off("selectstart",!1),n.widgetBase.resizables[this.scope]=null},getElementPosition:function(e){return null!=e&&0<e.length?{left:e[0].offsetLeft,top:e[0].offsetTop}:null},_getCoordinate:function(e){var t=e;return t="touchmove"!=e.type&&"touchstart"!=e.type&&"touchend"!=e.type?t:e.originalEvent.changedTouches[0]}})}),!function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){function L(e,t){return 0===e.indexOf(t)}function o(e,t){return e.substr(e.length-t.length)===t}function F(e){return(e+"").replace(t,"")}function g(e,t,i){for(var s=e.length;s<t;s++)e=i?"0"+e:e+"0";return e}function h(e,t,i){var s,a=t["-"],n=t["+"];switch(i){case"n -":a=" "+a,n=" "+n;case"n-":o(e,a)?s=["-",e.substr(0,e.length-a.length)]:o(e,n)&&(s=["+",e.substr(0,e.length-n.length)]);break;case"- n":a+=" ",n+=" ";case"-n":L(e,a)?s=["-",e.substr(a.length)]:L(e,n)&&(s=["+",e.substr(n.length)]);break;case"(n)":L(e,"(")&&o(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]}function s(e,t,i){var s,a;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var n,o,l=i.numberFormat,r=Math.abs(e),h=-1;switch(1<t.length&&(h=parseInt(t.slice(1),10)),s=t.charAt(0).toUpperCase()){case"D":n="n",o=r,r=isNaN(o)?NaN:Math[o<0?"ceil":"floor"](o),-1!==h&&(r=g(""+r,h,!0)),e<0&&(r=-r);break;case"N":(a=l).pattern=a.pattern||["-n"];case"C":(a=a||l.currency).pattern=a.pattern||["-$n","$n"];case"P":(a=a||l.percent).pattern=a.pattern||["-n %","n %"],n=e<0?a.pattern[0]||"-n":a.pattern[1]||"n",r=function(e,t,i){var s=i.groupSizes||[3],a=s[0],n=1,o=Math.pow(10,t),o=Math.round(e*o)/o,l=(e=o=isFinite(o)?o:e)+"",r="",e=1<(o=l.split(/e/i)).length?parseInt(o[1],10):0;l=(o=(l=o[0]).split("."))[0],r=1<o.length?o[1]:"",0<e?(l+=(r=g(r,e,!1)).slice(0,e),r=r.substr(e)):e<0&&(r=(l=g(l,1+(e=-e))).slice(-e,l.length)+r,l=l.slice(0,-e));for(var o=i["."]||".",r=0<t?o+(r.length>t?r.slice(0,t):g(r,t)):"",h=l.length-1,d=i[","]||",",c="";0<=h;){if(0===a||h<a)return l.slice(0,h+1)+(c.length?d+c+r:r);c=l.slice(h-a+1,h+1)+(c.length?d+c:""),h-=a,n<s.length&&(a=s[n],n++)}return l.slice(0,h+1)+d+c+r}(r*("P"===s?100:1),h=-1===h?a.decimals:h,a);break;default:throw"Bad number format specifier: "+s}for(var d,c,u=r,m=n,p=l,f=/n|\$|-|%/g,_="";d=f.lastIndex,c=f.exec(m),_+=m.slice(d,c?c.index:m.length),c;)switch(c[0]){case"n":_+=u;break;case"$":_+=p.currency.symbol||"$";break;case"-":/[1-9]/.test(u)&&(_+=p["-"]||"-");break;case"%":_+=p.percent.symbol||"%"}return _}function j(e,t,i){return e<t||i<e}function N(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}function H(e){return e.split(" ").join(" ").toUpperCase()}function z(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=H(e[i]);return t}function w(e,t){for(var i,s=0,a=!1,n=0,o=e.length;n<o;n++)a="'"==(i=e.charAt(n))?(a?t.push("'"):s++,!1):"\\"==i?(a&&t.push("\\"),!a):(t.push(i),!1);return s}function x(e,t){var e=e.patterns,i=(t=t||"F").length;if(1===i){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function d(e,t,i){e=F(e),t=F(t);var s,a,n,o,l=i.calendar,i=ej.globalize._getDateParseRegExp(l,t),r=new RegExp(i.regExp).exec(e);if(null===r)return null;for(var h,d,c,u,m,p,f,_,g,v=i.groups,b=null,y=null,w=null,x=0,D=0,T=0,C=0,S=null,k=!1,O=0,I=v.length;O<I;O++)if(s=r[O+1]){var M=v[O],E=M.length,P=parseInt(s,10);switch(M){case V.DAY_OF_MONTH_DOUBLE_DIGIT:case V.DAY_OF_MONTH_SINGLE_DIGIT:if(j(w=P,1,31))return null;break;case V.MONTH_THREE_LETTER:case V.MONTH_FULL_NAME:if(u=s,m=3===E,g=_=f=p=void 0,p=(c=l).months,f=c.monthsGenitive||c.months,_=c._upperMonths,g=c._upperMonthsGen,_||(c._upperMonths=_=[z(p.names),z(p.namesAbbr)],c._upperMonthsGen=g=[z(f.names),z(f.namesAbbr)]),u=H(u),j(y=p=(p=N(m?_[1]:_[0],u))<0?N(m?g[1]:g[0],u):p,0,11))return null;break;case V.MONTH_SINGLE_DIGIT:case V.MONTH_DOUBLE_DIGIT:if(j(y=P-1,0,11))return null;break;case V.YEAR_SINGLE_DIGIT:case V.YEAR_DOUBLE_DIGIT:case V.YEAR_FULL:if(j(b=E<4?(c=l,f=P,_=void 0,_=new Date,f<100&&("string"==typeof(c=c.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(c,10):c)<(f+=(c=_.getFullYear())-c%100)&&(f-=100),f):P,0,9999))return null;break;case V.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case V.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(j(x=12===(x=P)?0:x,0,11))return null;break;case V.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case V.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(j(x=P,0,23))return null;break;case V.MINUTES_SINGLE_DIGIT:case V.MINUTES_DOUBLE_DIGIT:if(j(D=P,0,59))return null;break;case V.SECONDS_SINGLE_DIGIT:case V.SECONDS_DOUBLE_DIGIT:if(j(T=P,0,59))return null;break;case V.MERIDIAN_INDICATOR_FULL:case V.MERIDIAN_INDICATOR_SINGLE:if((k=l.PM&&(s===l.PM[0]||s===l.PM[1]||s===l.PM[2]))||l.AM&&(s===l.AM[0]||s===l.AM[1]||s===l.AM[2]))break;return null;case V.DECISECONDS:case V.CENTISECONDS:case V.MILLISECONDS:if(j(C=P*Math.pow(10,3-E),0,999))return null;break;case V.DAY_OF_WEEK_THREE_LETTER:w=function(l,i,e){if(!l)return null;var t,s,a=0,r=0,n=null;for(i=i.split(""),length=i.length;a<length;a++)"d"===(ch=i[a])&&(count=function(e){for(var t=0;i[a]===e;)t++,a++;return 0<t&&--a,t}("d"),e._lowerDays||(e._lowerDays=function(e){var t,i={};for(t in e)i[t]=function(e){for(var t=0,i=e.length,s=[];t<i;t++)s[t]=(e[t]+"").toLowerCase();return s}(e[t]);return i}(e.days)),n=count<3?(t=2,s=void 0,s=new RegExp("^\\d{1,"+t+"}"),(t=l.substr(r,t).match(s))?(t=t[0],r+=t.length,parseInt(t,10)):null):function(e,t){for(var i,s,a,n=0,o=e.length;n<o;n++)if(s=(i=e[n]).length,a=l.substr(r,s),(a=t?a.toLowerCase():a)==i)return r+=s,n+1;return null}(e._lowerDays[3==count?"namesAbbr":"names"],!0));return n}(e,t,l);break;case V.DAY_OF_WEEK_FULL_NAME:m=s,g=3===E,p=u=void 0,u=(d=l).days,(p=d._upperDays)||(d._upperDays=p=[z(u.names),z(u.namesAbbr),z(u.namesShort)]),m=H(m),g?-1===N(p[1],m)&&N(p[2],m):N(p[0],m);break;case V.TIME_ZONE_OFFSET_FULL:if(2!==(d=s.split(/:/)).length||j(h=parseInt(d[0],10),-12,13)||j(a=parseInt(d[1],10),0,59))return null;S=60*h+(L(s,"-")?-a:a);break;case V.TIME_ZONE_OFFSET_SINGLE_DIGIT:case V.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(j(h=P,-12,13))return null;S=60*h}}if(i=new Date,o=(n=l.convert)?n.fromGregorian(i)[0]:i.getFullYear(),null===b&&(b=o),null===y&&(y=0),null===w&&(w=1),n){if(null===(i=n.toGregorian(b,y,w)))return null}else if(i.setFullYear(b,y,w),i.getDate()!==w)return null;return k&&x<12&&(x+=12),i.setHours(x,D,T,C),null!==S&&(o=i.getMinutes()-(S+i.getTimezoneOffset()),i.setHours(i.getHours()+parseInt(o/60,10),o%60)),i}function D(e,t,i){function s(e,t){var i,e=e+"";return 1<t&&e.length<t?(i=f[t-2]+e).substr(i.length-t,t):e}var a,n,o,l,r=i.calendar,h=r.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?h?D(e,r.patterns.F,i):e.toLocaleString():e.toString();i="s"===t,t=x(r,t);var d,c,u,m,p=[],f=["0","00","000"],_=/([^d]|^)(d|dd)([^d]|$)/g,g=0,v=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!i&&h&&(m=h.fromGregorian(e));;){var b=v.lastIndex,y=v.exec(t);if(g+=w(t.slice(b,y?y.index:t.length),p),!y)break;if(g%2)p.push(y[0]);else switch(n=(a=y[0]).length,a){case V.DAY_OF_WEEK_THREE_LETTER:case V.DAY_OF_WEEK_FULL_NAME:o=3===n?r.days.namesAbbr:r.days.names,p.push(o[e.getDay()]);break;case V.DAY_OF_MONTH_SINGLE_DIGIT:case V.DAY_OF_MONTH_DOUBLE_DIGIT:c=!0,p.push(s(m?m[2]:e.getDate(),n));break;case V.MONTH_THREE_LETTER:case V.MONTH_FULL_NAME:l=m?m[1]:e.getMonth(),p.push((r.monthsGenitive&&(c||u||(c=_.test(t),u=!0),c)?r.monthsGenitive:r.months)[3===n?"namesAbbr":"names"][l]);break;case V.MONTH_SINGLE_DIGIT:case V.MONTH_DOUBLE_DIGIT:p.push(s((m?m[1]:e.getMonth())+1,n));break;case V.YEAR_SINGLE_DIGIT:case V.YEAR_DOUBLE_DIGIT:case V.YEAR_FULL:l=m?m[0]:e.getFullYear(),n<4&&(l%=100),p.push(s(l,n));break;case V.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case V.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0===(d=e.getHours()%12)&&(d=12),p.push(s(d,n));break;case V.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case V.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:p.push(s(e.getHours(),n));break;case V.MINUTES_SINGLE_DIGIT:case V.MINUTES_DOUBLE_DIGIT:p.push(s(e.getMinutes(),n));break;case V.SECONDS_SINGLE_DIGIT:case V.SECONDS_DOUBLE_DIGIT:p.push(s(e.getSeconds(),n));break;case V.MERIDIAN_INDICATOR_SINGLE:case V.MERIDIAN_INDICATOR_FULL:l=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",p.push(1===n?l.charAt(0):l);break;case V.DECISECONDS:case V.CENTISECONDS:case V.MILLISECONDS:p.push(s(e.getMilliseconds(),3).substr(0,n));break;case V.TIME_ZONE_OFFSET_SINGLE_DIGIT:case V.TIME_ZONE_OFFSET_DOUBLE_DIGIT:d=e.getTimezoneOffset()/60,p.push((d<=0?"+":"-")+s(Math.floor(Math.abs(d)),n));break;case V.TIME_ZONE_OFFSET_FULL:d=e.getTimezoneOffset()/60,p.push((d<=0?"+":"-")+s(Math.floor(Math.abs(d)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case V.DATE_SEPARATOR:p.push(r["/"]||"/");break;default:throw"Invalid date format pattern '"+a+"'."}}return p.join("")}var l,t,c,u,m,V;l=jQuery,ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=l.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard,t=/^\s+|\s+$/g,c=/^[+-]?infinity$/i,u=/^0x[a-f0-9]+$/i,m=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,V={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(e,t){var i,s,a,n,o,l=e._parseRegExp;if(l){if(o=l[t])return o}else e._parseRegExp=l={};for(var r,h=x(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),d=["^"],c=[],u=0,m=0,p=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(r=p.exec(h));)if(i=h.slice(u,r.index),u=p.lastIndex,(m+=w(i,d))%2)d.push(r[0]);else{switch(a=(s=r[0]).length,s){case V.DAY_OF_WEEK_THREE_LETTER:case V.DAY_OF_WEEK_FULL_NAME:case V.MONTH_FULL_NAME:case V.MONTH_THREE_LETTER:n="(\\D+)";break;case V.MERIDIAN_INDICATOR_FULL:case V.MERIDIAN_INDICATOR_SINGLE:n="(\\D*)";break;case V.YEAR_FULL:case V.MILLISECONDS:case V.CENTISECONDS:case V.DECISECONDS:n="(\\d{"+a+"})";break;case V.DAY_OF_MONTH_DOUBLE_DIGIT:case V.DAY_OF_MONTH_SINGLE_DIGIT:case V.MONTH_DOUBLE_DIGIT:case V.MONTH_SINGLE_DIGIT:case V.YEAR_DOUBLE_DIGIT:case V.YEAR_SINGLE_DIGIT:case V.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case V.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case V.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case V.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case V.MINUTES_DOUBLE_DIGIT:case V.MINUTES_SINGLE_DIGIT:case V.SECONDS_DOUBLE_DIGIT:case V.SECONDS_SINGLE_DIGIT:n="(\\d\\d?)";break;case V.TIME_ZONE_OFFSET_FULL:n="([+-]?\\d\\d?:\\d{2})";break;case V.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case V.TIME_ZONE_OFFSET_SINGLE_DIGIT:n="([+-]?\\d\\d?)";break;case V.DATE_SEPARATOR:n="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+s+"'."}n&&d.push(n),c.push(r[0])}return w(h.slice(u),d),d.push("$"),o=d.join("").replace(/\s+/g,"\\s+"),l[t]={regExp:o,groups:c}},ej.globalize.addCulture=function(e,t){ej.cultures[e]=l.extend(!0,l.extend(!0,{},ej.cultures.default,t),ej.cultures[e]),ej.cultures[e].calendar=ej.cultures[e].calendars.standard},ej.globalize.preferredCulture=function(e){return e=void 0!==e&&typeof e==typeof this.cultureObject?e.name:e,this.cultureObject=ej.globalize.findCulture(e),this.cultureObject},ej.globalize.setCulture=function(e){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(e)),(e=void 0!==e&&typeof e==typeof this.globalCultureObject?e.name:e)&&(this.globalCultureObject=ej.globalize.findCulture(e)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(e){ej.cultures.current=ej.globalize.findCulture(e)},ej.globalize.findCulture=function(e){var t,i,s,a,n;if(e){if(l.isPlainObject(e)&&e.numberFormat&&(t=e),"string"==typeof e){if((i=ej.cultures)[e])return i[e];if(-1<e.indexOf("-")){if(i[s=e.split("-")[0]])return i[s]}else for(a=l.map(i,function(e){return e}),n=0;n<a.length;n++)if(a[n].name.split("-")[0]===e)return a[n];return ej.cultures.default}}else t=ej.cultures.current||ej.cultures.default;return t},ej.globalize.format=function(e,t,i){i=ej.globalize.findCulture(i);return"number"==typeof e?e=s(e,t,i):e instanceof Date&&(e=D(e,t,i)),e},ej.globalize.parseInt=function(e,t,i){return Math.floor(this.parseFloat(e,t,i))},ej.globalize.parseFloat=function(e,t,i){"string"==typeof t&&(i=t,t=10);var s,a,n,o=NaN,l=(i=ej.globalize.findCulture(i)).numberFormat,r=i.numberFormat.pattern[0];return-1<(e=e.replace(/ /g,"")).indexOf(i.numberFormat.currency.symbol)?(e=(e=e.replace(i.numberFormat.currency.symbol||"$","")).replace(i.numberFormat.currency["."]||".",i.numberFormat["."]||"."),r=F(i.numberFormat.currency.pattern[0].replace("$",""))):-1<e.indexOf(i.numberFormat.percent.symbol)&&(e=(e=e.replace(i.numberFormat.percent.symbol||"%","")).replace(i.numberFormat.percent["."]||".",i.numberFormat["."]||"."),r=F(i.numberFormat.percent.pattern[0].replace("%",""))),e=F(e),c.test(e)?o=parseFloat(e,t):!t&&u.test(e)?o=parseInt(e,16):(t=(i=h(e,l,r))[0],n=i[1],""===t&&"-n"!==l.pattern[0]&&(t=(i=h(e,l,"-n"))[0],n=i[1]),t=t||"+",i=(e=(e=n.indexOf("e"))<0?n.indexOf("E"):e)<0?(a=n,null):(a=n.substr(0,e),n.substr(e+1)),n=l["."]||".",a=(e=a.indexOf(n))<0?(s=a,null):(s=a.substr(0,e),a.substr(e+n.length)),e=l[","]||",",s=s.split(e).join(""),n=e.replace(/\u00A0/g," "),t=t+(s=e!==n?s.split(n).join(""):s),null!==a&&(t+="."+a),null!==i&&(t+="e"+((e=h(i,l,r))[0]||"+")+e[1]),m.test(t)&&(o=parseFloat(t))),o},ej.globalize.parseDate=function(e,t,i){var s,a,n,o,l,r;if(i=ej.globalize.findCulture(i),t){if((t="string"==typeof t?[t]:t).length)for(o=0,l=t.length;o<l&&(!(r=t[o])||!(s=d(e,r,i)));o++);}else for(a in n=i.calendar.patterns)if(s=d(e,n[a],i),s)break;return s||null},ej.globalize.getLocalizedConstants=function(e,t){e=e.replace("ej.","").split("."),e=function e(t,i){return i.length?e(t[i[0]],i.slice(1)):t}(ej,e);return l.extend(!0,{},e.Locale.default,e.Locale[t||this.cultureObject.name])},l.extend(ej,ej.globalize)}),!function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){(function(n,o){"use strict";o.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:o.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content="horizontal"===this.model.orientation?this.element.find(".e-hhandle"):this.element.find(".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.model.orientation===o.ScrollBar.Orientation.Horizontal?this.element.addClass("e-hscrollbar"):this.element.addClass("e-vscrollbar"),0===this.value()&&0===this.model.minimum||(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){n.fn.jquery;this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(e){for(var t in e){if("value"!==t){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(e,t,i,s){var a={};n.fn.jquery;return a.dimension=e,a.xy=t,a.position=i,a.css=s,a.uDimension=e,this._calculateLayout(a),this._createLayout(a),t=this[a.main].find(".e-button"),this._off(t,"mousedown")._on(t,"mousedown",{d:a,step:1},this._spaceMouseDown),this._off(this[a.scroll],"mousedown")._on(this[a.scroll],"mousedown",{d:a},this._spaceMouseDown),this._off(this[a.handler],"mousedown touchstart")._on(this[a.handler],"mousedown touchstart",{d:a},this._mouseDown),a},_createLayout:function(e){var t="<div class='"+e.css+"{0}' style='"+e.dimension+":{1}px'>{2}</div>",i=n.fn.jquery,s={};s[e.dimension]=e.modelDim,t=o.buildTag("div."+e.css+"scroll e-box",String.format(t,"up e-chevron-up_01 e-icon e-box e-button",e.buttonSize)+String.format(t,"handlespace",e.handleSpace,String.format(t,"handle e-box e-pinch",e.handle))+String.format(t,"down e-chevron-down_01 e-icon e-box e-button",e.buttonSize),s),this.element.append(t),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),"1.7.1"===i||"1.7.2"===i?e.uDimension.toLowerCase():e.uDimension,this[e.handler]=this.element.find("."+e.handler),this[e.handler].css("transition","none"),this[e.scroll]=this[e.handler].parent(),this[e.main]=this[e.scroll].parent(),this[e.main].find(".e-button")["outer"+e.uDimension](e.buttonSize)},_calculateLayout:function(e){var t;e.scrollDim="scroll"+e.dimension,e.lPosition=e.position.toLowerCase(),e.clientXy="page"+e.xy,e.scrollVal="scroll"+e.position,e.scrollOneStepBy=this.model.smallChange,e.modelDim=this.model[e.dimension=e.dimension.toLowerCase()],e.handler=e.css+"handle",e.buttonSize=this.model.buttonSize,e.main=e.css+"scroll",e.scroll=e.css+"ScrollSpace",e.handleSpace=e.modelDim-2*e.buttonSize,e.scrollable=this.model.maximum-this.model.minimum,t=this.model.height,"horizontal"===this.model.orientation&&(t=this.model.width),e.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(t-2*this.model.buttonSize),t=!o.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),e.handle<20&&!t&&(e.handle=20),e.onePx=e.scrollable/(e.handleSpace-e.handle),e.fromScroller=!1,e.up=!0,e.vInterval=void 0},_updateLayout:function(e){this.element.height(this.model.height),this.element.width(this.model.width);var t=this.element.find("."+e.css+"handle"),i=this.element.find("."+e.css+"handlespace"),s="width"==e.dimension?t.css("left"):t.css("top"),i="width"==e.dimension?i.outerWidth():i.outerHeight();void 0===s||"auto"===s||i>=e.handle+parseFloat(s)||(this.model.enableRTL?t.css("width"===e.dimension?"left":"top",parseFloat(i)-e.handle):t.css("width"===e.dimension?"left":"top",0<parseFloat(i)-e.handle?parseFloat(i)-e.handle:0)),this.element.find("."+e.css+"scroll").css(e.dimension,e.modelDim+"px").find(".e-button").css(e.dimension,this.model.buttonSize).end().find("."+e.css+"handlespace").css(e.dimension,e.handleSpace+"px").find("."+e.css+"handle").css(e.dimension,e.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(e,t,i,s){var a=this._scrollData;if(!i)if(this.model.orientation===o.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:t||"custom",scrollData:this._scrollData,scrollLeft:e,originalEvent:s}))return}else if(this._trigger("scroll",{source:t||"custom",scrollData:this._scrollData,scrollTop:e,originalEvent:s}))return;!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"==o.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"!=o.browserInfo().name?this.value(e):this.value(-1*e):this.value(-a.scrollable+e),0<this.content().length&&(this.model.orientation===o.ScrollBar.Orientation.Horizontal?(e=(i=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(e-this.model.minimum)/this._scrollData.onePx?i:(e-this.model.minimum)/this._scrollData.onePx,!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"==o.browserInfo().name||0<(e=i-e)&&(e*=-1),!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"!=o.browserInfo().name||(e=-e),this._scrollData.enableRTL&&0<e&&!this._scrollData._scrollleftflag&&(e=0),this._scrollData._scrollleftflag&&(0<e&&(e*=-1),this.value(e)),this.content()[0].style.left=e+"px",this._scrollData._scrollleftflag=!1):(e=(t=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(e-this.model.minimum)/this._scrollData.onePx?t:(e-this.model.minimum)/this._scrollData.onePx,this.content()[0].style.top=e+"px"))},_changeTop:function(e,t,i){var s,a;return e.dimension,a=(s=this.value())+t,e.step=t,e.enableRTL&&t<0||0<t&&!e.enableRTL?e.enableRTL?a<-1*this.model.maximum&&(a=-1*this.model.maximum):a>this.model.maximum&&(a=this.model.maximum):e.enableRTL?a>this.model.minimum&&(a=this.model.minimum):a<this.model.minimum&&(a=this.model.minimum),a===s&&!this.model.infiniteScrolling||this.scroll(a,i),a!==s},_mouseUp:function(e){var t;e.data&&(t=e.data.d,clearInterval(t.vInterval),"touchend"==e.type&&n(e.target).removeClass("e-touch"),"mouseup"!==e.type&&"touchend"!==e.type&&(e.toElement||e.relatedTarget||e.target)||(this._prevY=this._d=this._data=null,this._off(n(document),"mousemove touchmove",this._mouseMove),n(document).off("mouseup touchend",o.proxy(this._mouseUp,this)),t.fromScroller=!1,this[t.scroll].off("mousemove"),this[t.handler].off("mousemove").css("transition",""),"thumb"!==e.data.source)||o.isNullOrUndefined(this.model)||n.when(this.content()).done(o.proxy(function(){this._trigger("thumbEnd",{originalEvent:e,scrollData:t})},this)),t.up=!0)},_mouseDown:function(e){this._enabled&&(this._d=e,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(n(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),n(document).one("mouseup touchend",{d:this._data,source:"thumb"},o.proxy(this._mouseUp,this)),"touchstart"==e.type)&&n(e.target).addClass("e-touch")},_mouseCall:function(e){e.type="mouseup",this._mouseUp(e)},_mouseMove:function(e){var t,i,s,a=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(e.preventDefault(),o.isNullOrUndefined(e.target.tagName)){if(n(e.target).is(document))return void this._mouseCall(e)}else if("iframe"===e.target.tagName.toLowerCase())return void this._mouseCall(e);s=("mousemove"==e.type?e:e.originalEvent.changedTouches[0])[this._data.clientXy],this._prevY&&s!==this._prevY&&(i=s-this._prevY,this.model.infiniteScrolling?(a+=i,this._data.step=i,(a=(this._data.enableRTL?0<a:a<0)?0:a)*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(a=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),t=Math.ceil(a*this._data.onePx),this.scroll(t,"thumb")):(t=i*this._data.onePx,this._changeTop(this._data,t,"thumb",this._d)),this._trigger("thumbMove",{originalEvent:e,scrollData:this._data})),this._prevY=s},_spaceMouseDown:function(e){var t,i,s;e.data&&this._enabled&&(t=e.data.d,1===e.which)&&e.target!==this[t.handler][0]&&(i=e.data.step?this.model.smallChange:this.model.largeChange,s=e.data.top||this[t.handler].offset()[t.lPosition],e[t.clientXy]=e[t.clientXy]||0,e[t.clientXy]<s&&(i*=-1),t.target=e.target,this._changeTop(t,i,3===i?"track":"button",e),1!==e.data.step&&this[t.scroll].mousemove(function(){t.up=!0}),t.up=!1,t.vInterval=setInterval(o.proxy(function(){(i<0?s+i/t.onePx<e[t.clientXy]:s+t.handle+i/t.onePx>e[t.clientXy])&&(t.up=!0),t.up?clearInterval(t.vInterval):(this._changeTop(t,i,3===i?"track":"button",e),s=e.data&&e.data.top||this[t.handler].offset()[t.lPosition])},this),150),n(document).one("mouseup",{d:t},o.proxy(this._mouseUp,this)),n(document).mouseout({d:t},o.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===o.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===o.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),o.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}})(jQuery,Syncfusion,window),function(h,d,c,u){"use strict";d.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:u,enableTouchScroll:!0,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:d.util.valueFunction("scrollTop"),scrollLeft:d.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){d.isNullOrUndefined(this.content()[0])||(this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=d.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this.model.enableRTL===u&&(this.model.enableRTL="rtl"===this.element.css("direction")),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),this._prevScrollWidth===this.content()[0].scrollWidth&&this._prevScrollHeight===this.content()[0].scrollHeight)||this.refresh(),this._addActionClass()},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){d.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):h(this.content()[0]).height("")),d.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):h(this.content()[0]).width(""))},_setScrollLeftValue:function(e){this.model.enableRTL&&(e="mozilla"==d.browserInfo().name?e<0?e:-1*e:!d.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==d.browserInfo().name||0<this._rtlScrollLeftValue)?e<0?this._rtlScrollLeftValue+e:this._rtlScrollLeftValue-e:Math.abs(e)),this.content().scrollLeft(e)},_ensureScrollers:function(){var e,t,i,s=h.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),0<this.content().length&&(this.isVScroll()?(this._vScrollbar||(this._vScrollbar=this._createScrollbar(d.ScrollBar.Orientation.Vertical,this.isHScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._hScrollbar||(this._hScrollbar=this._createScrollbar(d.ScrollBar.Orientation.Horizontal,this.isVScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),0<this.element.find(".e-hscroll").length||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),s="1.7.1"===s||"1.7.2"===s?(i="height","width"):(i="outerHeight","outerWidth"),t=(e=this._exactElementDimension(this.element)).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[i](t-(this._hScroll&&!this.model.autoHide?this.model.scrollerSize:0)),i=e.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[s](i-(this._vScroll&&!this.model.autoHide?this.model.scrollerSize:0)),isNaN(this._eleWidth)&&0<this._eleWidth.indexOf("%")&&isNaN(this._eleHeight)&&0<this._eleHeight.indexOf("%")&&h(c).on("resize",h.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=h(this.element).parent().height(),this._parentWidth=h(this.element).parent().width())},_convertPercentageToPixel:function(e,t){return Math.floor(e*t/100)},isHScroll:function(){var e;return d.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?0<this.model.width&&(e=this.content().find(this.model.targetPane),null!=this.model.targetPane&&e.length?e[0].scrollWidth+e.siblings().width()>this.model.width:this.content()[0].scrollWidth>this.model.width||this.content()[0].scrollWidth==this.model.width&&0<h(this.content()[0]).find("> *").length&&h(this.content()[0]).find("> *")[0].scrollWidth>this.model.width):this.content()[0].scrollWidth>this.element.width()},isVScroll:function(){return d.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(0<this.model.height&&(this.content()[0].scrollHeight>this.model.height||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(e){for(var t in e)if("enableRTL"===t)e[t]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),d.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),d.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));else if("scrollLeft"===t)(parseFloat(e[t])<0||!this._hScroll)&&(e[t]=0),this._externalCall=!0,this._hScrollbar&&(e[t]=parseFloat(e[t])>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e[t])),this._setScrollLeftValue(parseFloat(e[t])),this.scrollLeft(e[t]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(e[t]);else if("scrollTop"===t)this._vScrollbar&&(e[t]=parseFloat(e[t])>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e[t])),(parseFloat(e[t])<0||!this._vScroll)&&(e[t]=0),this._externalCall=!0,this.content().scrollTop(parseFloat(e[t])),this.scrollTop(e[t]),this.scrollY(e[t]);else if("touchScroll"===t)this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");else if("scrollOneStepBy"===t)this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=e[t],this._vScrollbar.model.smallChange=e[t]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=e[t],this._hScrollbar.model.smallChange=e[t]);else{if("buttonSize"!==t){"height"===t&&(this._eleHeight=e[t]),"width"===t&&(this._eleWidth=e[t]),this.refresh();break}this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh()}},_createScrollbar:function(e,t){var i,s,a,n,o=document.createElement("div"),l=e===d.ScrollBar.Orientation.Vertical?(s=this.model.scrollerSize,n=i=d.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(t?this.model.scrollerSize:0):this.element.height()-(t?this.model.scrollerSize:0),a=this.content()[0].scrollHeight,this.scrollTop()):(s=i=this.model.width-(t?this.model.scrollerSize:0),n=this.model.scrollerSize,a=d.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(l=this.content().find(this.model.targetPane),null!=this.model.targetPane&&l.length?l[0].scrollWidth+l.parent().width()-l.width():this.content()[0].scrollWidth):(s=i=this.element.width()-(t?this.model.scrollerSize:0),this.content()[0].scrollWidth),this.scrollLeft());return 0<this.element.children(".e-hscrollbar").length?h(this.element.children(".e-hscrollbar")).before(o):this.element.append(o),h(o).ejScrollBar({elementHeight:this._eleHeight,elementWidth:this._eleWidth,buttonSize:this.model.buttonSize,orientation:e,viewportSize:i,height:n,width:s,maximum:a-i,value:l,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:d.proxy(this._scrollChanged,this),thumbEnd:d.proxy(this._thumbEnd,this),thumbStart:d.proxy(this._thumbStart,this),thumbMove:d.proxy(this._thumbMove,this)}),n=h(o).ejScrollBar("instance"),e!==d.ScrollBar.Orientation.Vertical&&t||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:n._scrollData},this._mouseWheel),e===d.ScrollBar.Orientation.Horizontal?this._scrollXdata=n._scrollData:this._scrollYdata=n._scrollData,e===d.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(n._scrollData.enableRTL=!0),n._enabled=this.model.enabled,n},_updateScrollbar:function(e,t){var i=e===d.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;i&&(e===d.ScrollBar.Orientation.Vertical?(i.model.width=this.model.scrollerSize,i.model.height=i.model.viewportSize=this.model.height-(t?this.model.scrollerSize:0),i.model.maximum=this.content()[0].scrollHeight-i.model.viewportSize,i.model.value=this.scrollTop()):(i.model.width=i.model.viewportSize=this.model.width-(t?this.model.scrollerSize:0),i.model.height=this.model.scrollerSize,i.model.maximum=(null!=this.model.targetPane&&0<this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-h(this.model.targetPane).outerWidth()):this.content()[0].scrollWidth)-i.model.viewportSize,this.model.enableRTL||(i.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").hide()):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_scrollChanged:function(e){this._updateScroll=!0,e.scrollTop!==u?this.scrollY(e.scrollTop,!0,"",e.source):e.scrollLeft!==u&&this.scrollX(e.scrollLeft,!0,"",e.source),this._updateScroll=!1;var t=this;h.when(this.content()).done(d.proxy(function(){t._trigger("scrollEnd",{scrollData:e})}))},_bindBlurEvent:function(e,t){this._scrollEle=h(e).data("ejScrollBar"),this._event=t;this._listener=function(){this._scrollEle._off(h(document),"mousemove touchmove",this._scrollEle._mouseMove),h(document).off("mouseup touchend",d.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(h(document),"mousemove touchmove",this._mouseMove),this._off(h(document),"mouseup touchend",this._mouseUp),this._off(h(c),"blur"),this._evtData.handler,this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(h(c),"blur",this._listener)},_thumbStart:function(e){this._evtData=e.scrollData;e.scrollData.handler,this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");e.scrollData.handler;var t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");this._bindBlurEvent(t,e),this._trigger("thumbStart",e)},_thumbMove:function(e){this._trigger("thumbMove",e)},_thumbEnd:function(e){this._trigger("thumbEnd",e),this._off(h(c),"blur")},refresh:function(e){var t;e||this.element.find(">.e-content").removeAttr("style"),d.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==h(this.element).parent().height()||(t=(t=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),t)),d.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==h(this.element).parent().width()||(t=(t=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),t)),this._ensureScrollers(),e=this.scrollLeft(),!this.model.enableRTL||(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),0<e)?this.content().scrollLeft(e):this._setScrollLeftValue(e),(this.scrollTop()&&null==this._vScrollbar||null!==this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(d.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll)&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(d.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll)&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData),"msie"==d.browserInfo().name&&"8.0"==d.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(e){for(var t=e.get(0).getBoundingClientRect(),i=["left","right","top","bottom"],s=t.width||t.right-t.left,t=t.height||t.bottom-t.top,a=0;a<i.length;a++)this["border_"+i[a]]=isNaN(parseFloat(e.css("border-"+i[a]+"-width")))?0:parseFloat(e.css("border-"+i[a]+"-width")),this["padding_"+i[a]]=isNaN(parseFloat(e.css("padding-"+i[a])))?0:parseFloat(e.css("padding-"+i[a]));return{width:s,height:t}},_keyPressed:function(e,t){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(t.tagName.toLowerCase()))return!0;var i,s;if(-1!==["up","down","pageUp","pageDown"].indexOf(e))this._vScrollbar&&("msie"==d.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),i=this._vScrollbar._scrollData),s="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(e))return!0;this._hScrollbar&&(i=this._hScrollbar._scrollData),s="i"}return!i||!this._changeTop(i,(e.indexOf(s)<0?-1:1)*("p"!==e[0]?1:3)*i.scrollOneStepBy,"key")}},scrollY:function(e,t,i,s,a){if(""!==e){if(t)return a={source:s||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:a},this._trigger("scroll",a)?void 0:(e=a.scrollTop,this.scrollTop(e),void this.content().scrollTop(e));!d.isNullOrUndefined(i)&&""!==i||(i=100),this._vScrollbar&&(e=parseFloat(e)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e)),this.scrollTop(e),this.content().stop().animate({scrollTop:e},i,"linear"),this._trigger("scroll",{source:s||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:a})}},scrollX:function(e,t,i,s,a){var n;if(""!==e){if(this._hScrollbar&&(e=parseFloat(e)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e)),this._externalCall=!0,n=d.browserInfo().name,this.model.enableRTL&&"mozilla"!=n&&(e<0&&(e=Math.abs(e)),(null!=this.model.targetPane?this.content().find(this.model.targetPane):this.content())[0],"mousemove"!=a)&&"touchmove"!=a&&"msie"!=n&&(e=this._hScrollbar._scrollData.scrollable-e),this.scrollLeft(e),t)return this._trigger("scroll",{source:s||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:a})?void 0:void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane):this.content()).scrollLeft(e);!d.isNullOrUndefined(i)&&""!==i||(i=100),(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane):this.content()).stop().animate({scrollLeft:e},i,"linear"),this._trigger("scroll",{source:s||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:a})}},enable:function(){var e=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");e.hasClass("e-disable")&&(e.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(e,t,i,s){var a=(null!=this.model.targetPane&&"height"!=e.dimension?this.content().find(this.model.targetPane):this.content())[e.scrollVal](),t=(a="height"==e.dimension&&0==a?0!=this.scrollTop()?this.scrollTop():0:a)+t;return(e.enableRTL?t<e.scrollable:t>e.scrollable)&&(t=e.scrollable),(t=(e.enableRTL?0<t:t<0)?0:t)!==a&&(this["scroll"+e.xy](t,!0,"",i,s),"X"!==e.xy||d.isNullOrUndefined(this._hScrollbar)?d.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(t,i,!0,s):this._hScrollbar.scroll(t,i,!0,s)),t!==a},_mouseWheel:function(e){var t;if((this._vScrollbar||e.shiftKey)&&e.data&&this.model.enabled){var i,s=0,a=e.data.d,n=e;if(e=e.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:e,scrollData:n.data.d}),this._wheelStart=!1,clearTimeout(h.data(this,"timer")),1==this._wheelx||0!=e.wheelDeltaX&&0!=e.wheelDeltaY||(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?e.axis==e.HORIZONTAL_AXIS?a=this._scrollXdata:this._scrollYdata:"msie"==this._browser?("wheel"==e.type&&(s=e.deltaX/120),"mousewheel"==e.type&&e.shiftKey&&(a=this._scrollXdata,e.preventDefault?e.preventDefault():e.returnValue=!1)):this._wheelx&&0!=e.wheelDeltaX&&0==e.wheelDeltaY&&this._scrollXdata&&(a=this._scrollXdata),0==e.wheelDeltaX&&(this._wheelx=e.wheelDeltaX),e.wheelDelta?(s=0==navigator.platform.indexOf("Mac")?-e.wheelDelta/3:-e.wheelDelta/120,c.opera&&parseFloat(c.opera.version,10)<10&&(s=-s)):e.detail&&(s=e.detail/3),s&&(n.originalEvent&&(i=n.originalEvent.wheelDelta&&0<n.originalEvent.wheelDelta||n.originalEvent.detail&&n.originalEvent.detail<0?-1:1),this._changeTop(a,s*a.scrollOneStepBy,"wheel",e)?((e.preventDefault?e:n).preventDefault(),n.stopImmediatePropagation(),n.stopPropagation(),this._trigger("wheelMove",{originalEvent:e,scrollData:n.data.d,direction:i})):(this._trigger("scrollEnd",{originalEvent:e,scrollData:n}),this._wheelx=0),h.data(t=this,"timer",setTimeout(function(){t._wheelStart=!0,t._trigger("wheelStop",{originalEvent:e,scrollData:n.data.d,direction:i})},250)))}},_scrollerHover:function(e){"mouseenter"!=e.type&&"touchstart"!=e.type||this.content().siblings().is(":visible")?"mouseleave"!=e.type&&"touchend"!=e.type||this.content().siblings().hide():this.content().siblings().css("display","block")},_mouseUp:function(e){var t;e.data&&(t=e.data.d,"mouseup"!==e.type&&"touchend"!==e.type&&(e.toElement||e.relatedTarget)||(this.content().css("cursor","default"),this._off(h(document),"mousemove touchmove"),this._off(h(document),"mouseup touchend",this._mouseUp),!(t.fromScroller=!1)!==this._mouseMoved)||"thumb"!==e.data.source||d.isNullOrUndefined(this.model)||(h.when(this.content()).done(d.proxy(function(){this._trigger("thumbEnd",{originalEvent:e,scrollData:t})},this)),this._off(h(c),"blur")),t.up=!0)},_mouseDownOnContent:function(e){var n,t,o,l,r;this._velocity=0,!this.model.enabled||(n=e.data.d,this._evtData=e.data,this._startX=e.clientX!=u?e.clientX:e.originalEvent.changedTouches[0][n.clientXy],this._startY=e.clientY!=u?e.clientY:e.originalEvent.changedTouches[0][n.clientXy],this._timeStart=e.timeStamp||Date.now(),n.handler,t=this.element.find("."+n.handler).closest(".e-scrollbar"),this._bindBlurEvent(t,e),this._trigger("thumbStart",{originalEvent:e,scrollData:n}))||3==e.which&&2==e.button||(n.fromScroller=!0,o=null,l=1,this._document=h(document),this._window=h(c),this._mouseMove=function(e){var t,i,s,a;this._relDisX=(this._startx=e.clientX!=u?e.clientX:e.originalEvent.changedTouches[0][n.clientXy])-this._startX,this._relDisY=(this._starty=e.clientY!=u?e.clientY:e.originalEvent.changedTouches[0][n.clientXy])-this._startY,this._duration=(e.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,e.preventDefault(),"iframe"===e.target.tagName.toLowerCase()?(e.type="mouseup",this._mouseUp(e)):(a=("mousemove"==e.type?e:e.originalEvent.changedTouches[0])[n.clientXy],o&&a!==o&&(this._mouseMoved=!0,i=a-o,t=this.model[n.scrollVal]-i,1==l&&5<Math.abs(i)&&(r=n.position,l=0),0==l&&(o=a),0<=t)&&t<=n.scrollable&&r===n.position&&(i=.5<this._velocityY&&this._duration<50&&"Top"==n.position,s=.5<this._velocityX&&this._duration<50&&"Left"==n.position,(.5<this._velocityY||.5<this._velocityX)&&this._duration<50?i?(t=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(t+=this.scrollTop())>n.scrollable&&(t=n.scrollable):t<this.scrollTop()&&(t=Math.abs(t-this.scrollTop())),this.scrollTop()<=n.scrollable&&this.scrollY(t,!1,this.model.animationSpeed,"thumb")):s&&(t=Math.abs(this._relDisX),this._startX>this._startx?(t+=this.scrollLeft())>n.scrollable&&(t=n.scrollable):(t-=this.scrollLeft(),((t=Math.abs(t))>n.scrollable||t>=this.scrollLeft())&&(t=0)),this.scrollLeft()<=n.scrollable)&&this.scrollX(t,!1,this.model.animationSpeed,"thumb"):(this["scroll"+n.xy](t,!0,"","thumb",e.type),"X"===n.xy?this._hScrollbar.scroll(t,"thumb",!0,e.type):d.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(t,"thumb",!0,e.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:e,scrollData:n}))),null==o&&(o=a))},this._on(h(document),"mousemove touchmove",{d:n,source:"thumb"},this._mouseMove),this._mouseMoved=!1,this._on(h(document),"mouseup touchend",{d:n,source:"thumb"},this._mouseUp))},_scroll:function(e){for(var t,i,s=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null],a=0;a<2;a++)if((t=s[a])&&!t.skipChange){if(this._externalCall||("height"===t.dimension?this.scrollTop(e.target[t.scrollVal]):this.scrollLeft(e.target[t.scrollVal])),t.sTop=this.model&&null!=this.model.targetPane&&1==a&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][t.scrollVal]:"scrollTop"==t.scrollVal?this.scrollTop():this.scrollLeft(),this[t.scrollVal](t.sTop),t.fromScroller)return;(1===a?(i=this.content()[0],this._rtlScrollLeftValue&&i.scrollWidth-i.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=i.scrollWidth-i.clientWidth),t.sTop=this.model&&"mozilla"!=d.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*t.sTop:t.sTop-this._rtlScrollLeftValue:t.sTop,this._hScrollbar):this._vScrollbar).scroll(t.sTop,"",!0),(2==s.length&&1==a||1==s.length&&0==a)&&(this._externalScroller=!1)}},_changevHandlerPosition:function(e){var t=this._vScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t)&&0<=e&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px")},_changehHandlerPosition:function(e){var t=this._hScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t)&&0<=top&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px")},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""})}})}(jQuery,Syncfusion,window)}),!function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.scroller.min","./ej.datepicker.min","./ej.timepicker.min"],e):e()}(function(){var c,u,s;c=jQuery,(u=Syncfusion).widget("ejDateTimePicker","ej.DateTimePicker",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,_rootCSS:"e-datetimepicker",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},defaults:{cssClass:"",locale:"en-US",readOnly:!1,showRoundedCorner:!1,enableRTL:!1,htmlAttributes:{},enabled:!0,value:"",minDateTime:new Date("1/1/1900 12:00:00 AM"),maxDateTime:new Date("12/31/2099 11:59:59 PM"),height:"",width:"",dateTimeFormat:"",showPopupButton:!0,enableStrictMode:!1,buttonText:{today:"Today",timeNow:"Time Now",done:"Done",timeTitle:"Time"},watermarkText:"Select datetime",enablePersistence:!1,interval:30,timeDisplayFormat:"",timePopupWidth:105,popupPosition:"bottom",dayHeaderFormat:"short",startLevel:"month",depthLevel:"",startDay:-1,stepMonths:1,showOtherMonths:!0,enableAnimation:!0,headerFormat:"MMMM yyyy",validationRules:null,validationMessage:null,timeDrillDown:{enabled:!1,interval:5,showMeridian:!1,autoClose:!0,showFooter:!0},beforeOpen:null,beforeClose:null,open:null,close:null,change:null,create:null,destroy:null,focusIn:null,focusOut:null},dataTypes:{cssClass:"string",locale:"string",readOnly:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",enabled:"boolean",enableAnimation:"boolean",dateTimeFormat:"string",showPopupButton:"boolean",buttonText:"data",watermarkText:"string",enablePersistence:"boolean",enableStrictMode:"boolean",interval:"number",timeDrillDown:"data",timeDisplayFormat:"string",dayHeaderFormat:"string",startLevel:"string",depthLevel:"string",startDay:"number",stepMonths:"number",showOtherMonths:"boolean",headerFormat:"string",validationRules:"data",validationMessage:"data",htmlAttributes:"data"},_setModel:function(e){var t,i,s,a=!1;for(t in e)switch(t){case"cssClass":this._changeSkin(e[t]);break;case"locale":this._localize(e[t]);break;case"readOnly":this._readOnly(e[t]);break;case"showRoundedCorner":this._setRoundedCorner(e[t]);break;case"enableRTL":this._setRtl(e[t]);break;case"enabled":this._enabled(e[t]);break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[t],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[t],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"value":e[t]=this._setValue(e[t]),this._specificFormat()&&(this._stopRefresh=!0),a=!0;break;case"enableStrictMode":this.model.enableStrictMode=e[t],a=!0;break;case"minDateTime":i=this._stringToObject(e[t]),s=this._getFormat(i,this.timePicker.model.timeFormat),this._isValidDate(i)?(this.datePicker.option("minDate",i),this.timePicker.option("minTime",s),e[t]=i,this.model.minDateTime=i):e[t]=this.model[t],a=!0;break;case"maxDateTime":i=this._stringToObject(e[t]),s=this._getFormat(e[t],this.timePicker.model.timeFormat),this._isValidDate(i)?(this.datePicker.option("maxDate",i),this.timePicker.option("maxTime",s),e[t]=i,this.model.maxDateTime=i):e[t]=this.model[t],a=!0;break;case"height":this.wrapper.height(e[t]);break;case"width":this.wrapper.width(e[t]);break;case"dateTimeFormat":this.model.dateTimeFormat=e[t],this.isValidState&&this._setValue(this.model.value);break;case"showPopupButton":this._showButton(e[t]);break;case"watermarkText":u.isNullOrUndefined(this._options)&&(this._options={}),this._options[t]=this.model.watermarkText=e[t],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark();break;case"buttonText":u.isNullOrUndefined(this._options)||(this._options=[]),this._options.buttonText=this.model.buttonText=e[t],this._localizedLabels.buttonText=this.model.buttonText,this._buttonText(e[t]);break;case"interval":this._updateTimeHeight(),this.timePicker.option("interval",e[t]);break;case"timeDisplayFormat":this._updateTimeHeight(),this.timePicker.option("timeFormat",e[t]);break;case"timePopupWidth":this._updateTimeHeight(),this.timePicker.option("popupWidth",e[t]);break;case"dayHeaderFormat":this.datePicker.option("dayHeaderFormat",e[t]);break;case"startLevel":this.datePicker.option("startLevel",e[t]);break;case"depthLevel":this.datePicker.option("depthLevel",e[t]);break;case"startDay":this.datePicker.option("startDay",e[t]),this.model.startDay=this.datePicker.model.startDay,e[t]=this.model.startDay;break;case"stepMonths":this.datePicker.option("stepMonths",e[t]);break;case"showOtherMonths":this.datePicker.option("showOtherMonths",e[t]);break;case"headerFormat":this.datePicker.option("headerFormat",e[t]);break;case"htmlAttributes":this._addAttr(e[t]);break;case"popupPosition":this.model.popupPosition=e[t],this._setListPosition();break;case"timeDrillDown":u.isNullOrUndefined(e[t].enabled)||(this.model.timeDrillDown.enabled=e[t].enabled,this._changeDesign()),u.isNullOrUndefined(e[t].interval)||(this.model.timeDrillDown.interval=e[t].interval,this._generateMins(c.trim(u.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)))),u.isNullOrUndefined(e[t].showMeridian)||(this.model.timeDrillDown.showMeridian=e[t].showMeridian,this._sfTimeHour.empty(),this._renderHourTable()),u.isNullOrUndefined(e[t].showFooter)||(this.model.timeDrillDown.showFooter=e[t].showFooter,this._changeDesign())}a&&this._validateMinMax(),this._valueChange(!0),"value"==t&&(e[t]=this.model.value),this._updateTimeHeight(),this._checkErrorClass()},observables:["value"],_destroy:function(){this.isPopupOpen&&this._hideResult(),this.wrapper&&(this.element.insertAfter(this.wrapper),this.wrapper.remove()),this._cloneElement.removeClass("e-js e-input").removeClass(u.util.getNameSpace(this.sfType)),this._cloneElement.insertAfter(this.element),this.element.remove(),u.isNullOrUndefined(this.datePicker)||this.datePicker.destroy(),u.isNullOrUndefined(this.timePicker)||this.timePicker.destroy(),this.popup.remove()},_init:function(e){if(!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this._options=e,this._cloneElement=this.element.clone(),this._ISORegex(),this._isSupport=document.createElement("input").placeholder!=s,this._validateMeridian(),this._initialize(),this._initial=!0,this._interval=60,this._render(),this._wireEvents(),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._changeDesign(),e&&e.value!=s&&e.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()})},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_changeDesign:function(){var e;this.model.timeDrillDown.enabled?(e=this.model.timeDrillDown.showFooter?"block":"none",this.popup.addClass("e-drill-down"),this._timeContainer.css("display","none"),this._buttonContainer.css("display","none"),this.datePicker.option("showFooter",this.model.timeDrillDown.showFooter),c(".e-footer",this._sfTimeHour).css("display",e),c(".e-footer",this._sfTimeMins).css("display",e)):(this.popup.removeClass("e-drill-down"),this._sfTimeHour.hide(),this._sfTimeMins.hide(),this._updateTimeHeight(),this._dateContainer.show(),this._timeContainer.show(),this._buttonContainer.show(),this.datePicker.option("showFooter",!1),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle())},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var e,t,i,s;for(t in this.element.rules("add",this.model.validationRules),e=(e=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=this.element.attr("name"),e.settings.messages[name]={},this.model.validationRules)if(i=null,!u.isNullOrUndefined(this.model.validationRules[t])){if(u.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[t]))for(s in e.settings.messages[name][t]=c.validator.messages[t],this.model.validationMessage)t==s&&(i=this.model.validationMessage[t]);else i=this.model.validationRules.messages[t];e.settings.messages[name][t]=null!=i?i:c.validator.messages[t]}},_addAttr:function(e){var s=this;c.map(e,function(e,t){var i=t.toLowerCase();"class"==i?s.wrapper.addClass(e):"disabled"==i&&"disabled"==e?s._enabled(!1):"readOnly"==i&&"readOnly"==e?s._readOnly(!0):"style"==i||"id"==i?s.wrapper.attr(t,e):(u.isValidAttr(s.element[0],i)?s.element:s.wrapper).attr(i,e)})},_validateMeridian:function(){var e=u.preferredCulture(this.model.locale);e&&(this.model.locale="en"==e.name?"en-US":e.name),(u.isNullOrUndefined(this._options)||u.isNullOrUndefined(this._options.timeDrillDown)||u.isNullOrUndefined(this._options.timeDrillDown.showMeridian))&&(this.model.timeDrillDown.showMeridian=!u.isNullOrUndefined(u.preferredCulture(this.model.locale).calendars.standard.AM))},_initialize:function(){var e;this.popup=null,this.isPopupOpen=!1,this.isValidState=!0,this.model.value=(""===this.model.value?this.element[0]:this.model).value,this._localizedLabels=this._getLocalizedLabels(),u.isNullOrUndefined(this._options)||(u.isNullOrUndefined(this._options.buttonText)||c.extend(this._localizedLabels.buttonText,this._options.buttonText),u.isNullOrUndefined(this._options.watermarkText))||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this._isIE8="msie"==u.browserInfo().name&&"8.0"==u.browserInfo().version,this._isIE9="msie"==u.browserInfo().name&&"9.0"==u.browserInfo().version,this.model.dateTimeFormat&&this.model.timeDisplayFormat||this._getDateTimeFormat(),(e=!this.model.value||"object"==typeof JSON&&"{}"===JSON.stringify(this.model.value)?null:this.model.value instanceof Date?this.model.value:u.parseDate(this.model.value,this.model.dateTimeFormat,this.model.locale)||this._checkJSONString(this.model.value)||null)&&(this.model.value=e),(e=this.model.minDateTime=this._stringToObject(this.model.minDateTime))&&this._isValidDate(e)||(this.model.minDateTime=this.defaults.minDateTime),(e=this.model.maxDateTime=this._stringToObject(this.model.maxDateTime))&&this._isValidDate(e)||(this.model.maxDateTime=this.defaults.maxDateTime)},_checkJSONString:function(e){var t=new Date(e);return isNaN(Date.parse(t))?this._extISORegex.exec(e)||this._basicISORegex.exec(e)?this._dateFromISO(e):void 0:t.toJSON()===this.model.value||t.toGMTString()===this.model.value||t.toISOString()===this.model.value||t.toLocaleString()===this.model.value||t.toString()===this.model.value||t.toUTCString()===this.model.value?t:"string"==typeof e?this._dateFromISO(e):void 0},_render:function(){this._renderWrapper(),this._renderIcon(),this._setDimentions(),this._renderDropdown(),this._checkProperties()},_renderWrapper:function(){var e;this.element.addClass("e-input").attr({"aria-atomic":"true","aria-live":"assertive",tabindex:"0",value:this.model.value}),this.wrapper=u.buildTag("span.e-datetime-wrap e-widget "+this.model.cssClass+"#"+this.element[0].id+"_wrapper").insertAfter(this.element),u.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.container=u.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),this._isSupport||(this._hiddenInput=u.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block"),c((e=this)._hiddenInput).focus(function(){e.element.focus()}))},_removeWatermark:function(){""==this.element.val()||this._isSupport||this._hiddenInput.css("display","none")},_renderIcon:function(){if(!this.model.showPopupButton)return!1;this.datetimeIcon=u.buildTag("span.e-select","",{}).attr(this._isIE8?{unselectable:"on"}:{});var e=u.buildTag("span.e-icon e-datetime","",{},{"aria-label":"select"}).attr(this._isIE8?{unselectable:"on"}:{});this.datetimeIcon.append(e),this.container.append(this.datetimeIcon).addClass("e-padding"),this._on(this.datetimeIcon,"click",this._iconClick),this._on(this.datetimeIcon,"mousedown",function(e){e.preventDefault()})},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_renderDropdown:function(){var e,t,i,s=c("#"+this.element[0].id+"_popup").get(0);s&&c(s).remove(),this.popup=u.buildTag("div.e-datetime-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.element[0].id+"_popup").css("visibility","hidden"),u.isTouchDevice()||this.popup.addClass("e-ntouch"),c("body").append(this.popup),this._renderControls(),s=u.buildTag("div.e-header",this._localizedLabels.buttonText.timeTitle).attr(this._isIE8?{unselectable:"on"}:{}),this._dateContainer=u.buildTag("div.e-datecontainer").append(this.datePicker.popup).attr(this._isIE8?{unselectable:"on"}:{}),this._timeContainer=u.buildTag("div.e-timecontainer").append(s,this.timePicker.popup).attr(this._isIE8?{unselectable:"on"}:{}),this._drillDownContainer=u.buildTag("div.e-drillDowncontainer").append().attr(this._isIE8?{unselectable:"on"}:{}),s=u.buildTag("div.e-popup-container").append(this._dateContainer,this._timeContainer,this._drillDownContainer).attr(this._isIE8?{unselectable:"on"}:{}),e=u.buildTag("div.e-dt-button e-dt-today",this._localizedLabels.buttonText.today).attr(this._isIE8?{unselectable:"on"}:{}),t=u.buildTag("div.e-dt-button e-dt-now",this._localizedLabels.buttonText.timeNow).attr(this._isIE8?{unselectable:"on"}:{}),i=u.buildTag("div.e-dt-button e-dt-done",this._localizedLabels.buttonText.done).attr(this._isIE8?{unselectable:"on"}:{}),this._buttonContainer=u.buildTag("div.e-button-container").append(e,t,i).attr(this._isIE8?{unselectable:"on"}:{}),this._renderDrillDown(),this.popup.append(s,this._buttonContainer),this._checkForResponsive(),this._updateTimeHeight(),this._bindOperations(),this._updateValues(),this.popup.css({visibility:"visible",display:"none"}),this._on(e,"click",this._todayClick),this._on(t,"click",this._nowClick),this._on(i,"click",this._doneClick)},_renderControls:function(){this._renderDateControl(),this._renderTimeControl();var e=u.buildTag("span").append(this.datePicker.wrapper,this.timePicker.wrapper);e.find("span").css("display","none"),this.popup.append(e)},_renderDrillDown:function(){this._renderHourPopup(),this._renderMinsPopup()},_renderHourPopup:function(){this._sfTimeHour=u.buildTag("div.e-timepicker e-popup e-widget "+this.model.cssClass+" e-time-hours ","",{},{id:this._id?"e-hours-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}),u.isTouchDevice()||this._sfTimeHour.addClass("e-ntouch"),this._drillDownContainer.append(this._sfTimeHour),this._renderHourTable()},_renderHourTable:function(){var e,t,s,a;if(u.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(u.buildTag("span.e-prev").append(u.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(u.buildTag("span.e-text").append(u.buildTag("span.e-hours-headertext").text("October 2015").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(u.buildTag("span.e-next").append(u.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeHour),this._interval<1)return!1;e=6e4*this._interval,t=this.model.timeDrillDown.showMeridian?2:1,rowCount=this.model.timeDrillDown.showMeridian?6:4;var n=this.model.timeDrillDown.showMeridian?"hh":"HH:00",o=["AM","PM"],l=0,r="",h=this.timePicker._createObject("12:00:00 AM"),d=this.model.timeDrillDown.showMeridian?this.timePicker._createObject("11:59:59 AM"):this.timePicker._createObject("11:59:59 PM");for(i=0;i<t;i++){for(this.model.timeDrillDown.showMeridian&&(r=o[i].toLowerCase(),s=u.isNullOrUndefined(u.preferredCulture(this.model.locale).calendars.standard[o[i]])?"":u.preferredCulture(this.model.locale).calendars.standard[o[i]][0],u.buildTag("div.e-header-"+r).attr(this._isIE8?{unselectable:"on"}:{}).append(u.buildTag("span.e-text").append(u.buildTag("span.e-hours-meridiantxt-"+r).text(s).attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeHour)),table=u.buildTag("table.e-dp-viewhours","",{},{cellspacing:2}).data("e-table","data").attr({role:"grid","aria-activedescendant":""}).attr(this._isIE8?{unselectable:"on"}:{}),this._sfTimeHour.append(table),tbody=u.buildTag("tbody.e-timepicker-hours").attr(this._isIE8?{unselectable:"on"}:{}),tr=u.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{});this.timePicker._compareTime(d,h,!0);)a=this._localizeTime(h,n),a=u.buildTag("td.e-hour e-state-default",a),this.model.timeDrillDown.showMeridian&&a.addClass("e-hour-"+r),this._isIE8&&a.attr("unselectable","on"),tr.append(a),++l>=rowCount&&(l=0,tbody.append(tr),tr=u.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{})),h=this.timePicker._createObject(h).getTime()+e;table.append(tbody),this.model.timeDrillDown.showMeridian&&(h=this.timePicker._createObject("12:00:00 PM"),d=this.timePicker._createObject("11:59:59 PM"))}u.buildTag("div.e-footer").append(u.buildTag("span.e-footer-icon")).append(u.buildTag("span.e-footer-text")).appendTo(this._sfTimeHour),c(".e-footer-text",this._sfTimeHour).html(this._localizedLabels.buttonText.timeNow),c(".e-hours-headertext",this._sfTimeHour).text(u.format(this.datePicker.model.value,"dd MMM yyyy")),this._on(this._sfTimeHour.find(".e-hour"),"click",c.proxy(this._hourNavHandler,this)),this._on(c(".e-next",this._sfTimeHour),"click",c.proxy(this._prevNextHourHandler,this)),this._on(c(".e-prev",this._sfTimeHour),"click",c.proxy(this._prevNextHourHandler,this)),this._on(c(".e-footer",this._sfTimeHour),"click",this._todayBtn),c(".e-hours-headertext",this._sfTimeHour).on("click",c.proxy(this._forwardNavHandler,this)),this._sfTimeHour.hide()},_localizeTime:function(e,t){return c.trim(u.format(this.timePicker._createObject(e),t,this.model.locale))},_renderMinsPopup:function(){var e,t,i,s,a,n;if(this._sfTimeMins=u.buildTag("div.e-timepicker e-popup e-widget "+this.model.cssClass+" e-time-minitues ","",{},{id:this._id?"e-time-minitues-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}),u.isTouchDevice()||this._sfTimeMins.addClass("e-ntouch"),this._drillDownContainer.append(this._sfTimeMins),u.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(u.buildTag("span.e-prev").append(u.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(u.buildTag("span.e-text").append(u.buildTag("span.e-minitues-headertext").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(u.buildTag("span.e-next").append(u.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeMins),u.buildTag("div.e-mins-header").attr(this._isIE8?{unselectable:"on"}:{}).append(u.buildTag("span.e-text").append(u.buildTag("span.e-minitues-meridiantxt").text("AM").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeMins),e=u.buildTag("table.e-dp-viewmins","",{},{cellspacing:2}).data("e-table","data").attr({role:"grid","aria-activedescendant":""}).attr(this._isIE8?{unselectable:"on"}:{}),this._sfTimeMins.append(e),tbody=u.buildTag("tbody.e-timepicker-mins").attr(this._isIE8?{unselectable:"on"}:{}),this._intervall<1)return!1;for(s=6e4*this._interval,t=this.timePicker._createObject("12:00:00 AM"),i=this.timePicker._createObject("11:59:59 PM"),tr=u.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),a=0;this.timePicker._compareTime(i,t,!0);)n=this._localizeTime(t,"HH:00"),n=u.buildTag("td.e-mins e-state-default",n),this._isIE8&&n.attr("unselectable","on"),tr.append(n),4<=++a&&(a=0,tbody.append(tr),tr=u.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{})),t=this.timePicker._createObject(t).getTime()+s;e.append(tbody),c(".e-minitues-headertext",this._sfTimeMins).text(c(".e-hours-headertext",this._sfTimeHour).text()),u.buildTag("div.e-footer").append(u.buildTag("span.e-footer-icon")).append(u.buildTag("span.e-footer-text")).appendTo(this._sfTimeMins),c(".e-footer-text",this._sfTimeMins).html(this._localizedLabels.buttonText.timeNow),c(".e-minitues-headertext",this._sfTimeMins).text(u.format(this.datePicker.model.value,"dd MMM yyyy")),this.model.timeDrillDown.showMeridian||c(".e-mins-header",this._sfTimeMins).css("display","none"),this._on(e.find(".e-mins"),"click",c.proxy(this._minsNavHandler,this)),this._on(c(".e-next",this._sfTimeMins),"click",c.proxy(this._prevNextMinsHandler,this)),this._on(c(".e-prev",this._sfTimeMins),"click",c.proxy(this._prevNextMinsHandler,this)),this._on(c(".e-footer",this._sfTimeMins),"click",this._todayBtn),c(".e-minitues-headertext",this._sfTimeMins).on("click",c.proxy(this._forwardNavHandler,this)),this._sfTimeMins.hide()},_todayBtn:function(){this._nowClick(),this._hideResult()},_hourNavHandler:function(e){if(this.model.readOnly||!this.model.enabled||e&&c(e.target).hasClass("e-disable"))return!1;e&&e.type&&e.preventDefault(),c("table",this._sfTimeHour).find("td").removeClass("e-active"),c(e.target).addClass("e-active"),this._sfTimeHour.hide(),this._sfTimeMins.show(),this._addFocus(this._sfTimeMins),t=this.model.timeDrillDown.showMeridian?(t=c(e.target).hasClass("e-hour-am")?"AM":"PM",c(e.target).text()+":00 "+t):c(e.target).text(),this._generateMins(t);var e=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),t=c.trim(u.format(this.timePicker._createObject(e),"HH:mm",this.model.locale)),e=c.trim(u.format(this.timePicker._createObject(e),"HH:00",this.model.locale));index=(this.timePicker._parse(t)-this.timePicker._parse(e))/(6e4*this.model.timeDrillDown.interval),index=Math.ceil(index),this._hoverMins=this._setFocusByIndex("mins",index,this._sfTimeMins)},_minsNavHandler:function(e){if(this.model.readOnly||!this.model.enabled||e&&c(e.target).hasClass("e-disable"))return!1;e&&e.type&&e.preventDefault(),c("table",this._sfTimeMins).find("td").removeClass("e-active").removeClass("e-state-hover"),c(e.target).addClass("e-active"),value=this.model.timeDrillDown.showMeridian?(value=c(e.target).text()+" "+u.format(this._datetimeValue,"tt","en-US"),this.timePicker._localizeTime(value)):c(e.target).text(),this.timePicker.option("value",value),this.datePicker.option("value",this._datetimeValue),this._datetimeValue=new Date(this.model.value.toString()),this.model.timeDrillDown.autoClose&&this._hideResult(e),this._updateInput()},_generateMins:function(e){var t,i,s,a,n,o,l=c("table",this._sfTimeMins);for(l.empty(),this.model.timeDrillDown.showMeridian?c(".e-mins-header",this._sfTimeMins).show():c(".e-mins-header",this._sfTimeMins).hide(),t=this.model.timeDrillDown.showMeridian?"hh:mm":"HH:mm",c(".e-minitues-headertext",this._sfTimeMins).text(c(".e-hours-headertext",this._sfTimeHour).text()),tbody=u.buildTag("tbody.e-timepicker-mins").attr(this._isIE8?{unselectable:"on"}:{}),a=0,n=6e4*this.model.timeDrillDown.interval,i=this.timePicker._createObject(e),this._datetimeValue.setHours(i.getHours()),s=this.timePicker._createObject(i).getTime()+354e4,tr=u.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),tbody.append(tr);this.timePicker._compareTime(s,i,!0);)4<=a&&(a=0,tr=u.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),tbody.append(tr)),o=this._localizeTime(i,t),o=u.buildTag("td.e-mins e-state-default",o),this._isIE8&&o.attr("unselectable","on"),tr.append(o),a++,i=this.timePicker._createObject(i).getTime()+n;l.append(tbody),c(".e-mins-header",this._sfTimeMins).find(".e-minitues-meridiantxt").text(u.format(this._datetimeValue,"tt",this.model.locale)),this._disableRange("mins"),this._on(l.find(".e-mins"),"click",c.proxy(this._minsNavHandler,this))},_prevNextHourHandler:function(e){if(this.model.readOnly||!this.model.enabled)return!1;e.preventDefault();e=!!(c(e.target).is("a")?c(e.target.parentNode):c(e.target)).hasClass("e-prev");this._processNextPrev(e,this._sfTimeHour)},_prevNextMinsHandler:function(e){if(this.model.readOnly||!this.model.enabled)return!1;e.preventDefault();e=!!(c(e.target).is("a")?c(e.target.parentNode):c(e.target)).hasClass("e-prev");this._processNextPrev(e,this._sfTimeMins)},_processNextPrev:function(e,t){if(e&&t.find(".e-arrow-sans-left").hasClass("e-disable")||!e&&t.find(".e-arrow-sans-right").hasClass("e-disable"))return!1;switch(c("table",t).get(0).className){case"e-dp-viewhours":incVal=e?-1:1,this._datetimeValue.setDate(this._datetimeValue.getDate()+incVal),this._disableRange("hour"),this._hoverHour=this._setFocusByIndex("hour",this._hoverHour,this._sfTimeHour),c(".e-hours-headertext",this._sfTimeHour).text(u.format(this._datetimeValue,"dd MMM yyyy")),c(".e-minitues-headertext",this._sfTimeMins).text(u.format(this._datetimeValue,"dd MMM yyyy"));break;case"e-dp-viewmins":incVal=e?-1:1,this._datetimeValue.setHours(this._datetimeValue.getHours()+incVal),this._generateMins(c.trim(u.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)));var i=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),s=c.trim(u.format(this.timePicker._createObject(i),"HH:mm",this.model.locale)),i=c.trim(u.format(this.timePicker._createObject(i),"HH:00",this.model.locale));index=(this.timePicker._parse(s)-this.timePicker._parse(i))/(6e4*this.model.timeDrillDown.interval),index=Math.ceil(index),this._disableRange("mins"),this._hoverMins=this._setFocusByIndex("mins",index,this._sfTimeMins),c(".e-hours-headertext",this._sfTimeHour).text(u.format(this._datetimeValue,"dd MMM yyyy")),c(".e-minitues-headertext",this._sfTimeMins).text(u.format(this._datetimeValue,"dd MMM yyyy"))}},_forwardNavHandler:function(e,t){var i;if(this.model.readOnly||!this.model.enabled)return!1;switch(e&&e.preventDefault(),(e?c(e.currentTarget):t.find(".e-text>span")).get(0).className){case"e-hours-headertext":this._sfTimeHour.css("display","none"),this._dateContainer.css("display","block"),this._addFocus(this._dateContainer.find(".e-datepicker"));break;case"e-minitues-headertext":this._sfTimeMins.css("display","none"),this._disableRange("hour"),start=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),i=c.trim(u.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),indx=(this.timePicker._parse(i)-this.timePicker._parse(start))/(6e4*this._interval),indx=Math.floor(indx),this._hoverHour=this._setFocusByIndex("hour",indx,this._sfTimeHour),c(".e-hours-headertext",this._sfTimeHour).text(u.format(this._datetimeValue,"dd MMM yyyy")),c(".e-minitues-headertext",this._sfTimeMins).text(u.format(this._datetimeValue,"dd MMM yyyy")),this._sfTimeHour.css("display","block"),this._addFocus(this._sfTimeHour)}},_renderDateControl:function(){var e=u.buildTag("input#"+this.element[0].id+"_date","",{},{type:"text"});this.popup.append(e),e.ejDatePicker({height:"0px",width:"0px",displayInline:!0,showDateIcon:!1,showFooter:!!this.model.timeDrillDown.enabled&&this.model.timeDrillDown.showFooter,enableStrictMode:!0,buttonText:this._localizedLabels.buttonText.today,minDate:this._stringToObject(this.model.minDateTime),maxDate:this._stringToObject(this.model.maxDateTime),dayHeaderFormat:this.model.dayHeaderFormat,startLevel:this.model.startLevel,depthLevel:this.model.depthLevel,startDay:this.model.startDay,stepMonths:this.model.stepMonths,showOtherMonths:this.model.showOtherMonths,headerFormat:this.model.headerFormat,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale}),this.datePicker=e.data("ejDatePicker"),this.model.startDay=this.datePicker.model.startDay,this.datePicker._getInternalEvents=!0,this.datePicker._dt_drilldown=!0,this.datePicker.popup.css({position:"static",display:"block"})},_renderTimeControl:function(){var e,t=u.buildTag("input#"+this.element[0].id+"_time","",{},{type:"text"});this.popup.append(t),t.ejTimePicker({height:"0px",width:"0px",interval:this.model.interval,timeFormat:this.model.timeDisplayFormat,popupWidth:this.model.timePopupWidth,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale}),this.timePicker=t.data("ejTimePicker"),this.timePicker._getInternalEvents=!0,this.timePicker.showDropdown=!0,this.timePicker._dateTimeInternal=!0,this.timePicker.popup.css({position:"static",display:"block"}),t=this.model.minDateTime?this._stringToObject(this.model.minDateTime):this.defaults.minDateTime,e=this.model.maxDateTime?this._stringToObject(this.model.maxDateTime):this.defaults.maxDateTime,""==this.model.value&&(this.timePicker.option("minTime",this._getFormat(t,this.timePicker.model.timeFormat)),this.timePicker.option("maxTime",this._getFormat(e,this.timePicker.model.timeFormat)))},_updateTimeHeight:function(){var e=this.datePicker.popup.height()-this.popup.find(".e-header").height(),e=this.popup.hasClass("e-dt-responsive")?"98px":e;this.timePicker.option("popupHeight",e)},_bindOperations:function(){var t=this;this.datePicker.option("layoutChange",function(){t._updateTimeHeight()}),this.datePicker.option("outOfRange",function(){t.isValidState=!1}),this.timePicker.option("outOfRange",function(){t.isValidState=!1}),this.datePicker.option("change",function(e){t._refreshTimes(e)}),this.datePicker.option("select",function(e){t._updateInput(e)}),this.datePicker.option("dt_drilldown",function(e){t.model.timeDrillDown.enabled&&(t._updateInput(e),t._switchToDrilDown(e))}),this.timePicker.option("select",function(){t._updateInput()})},_switchToDrilDown:function(){var e;this._dateContainer.hide(),this._sfTimeHour.show(),this._addFocus(this._sfTimeHour),e=new Date(this.model.value.toString()),this._datetimeValue=new Date(e.setHours(this._datetimeValue.getHours(),this._datetimeValue.getMinutes(),this._datetimeValue.getSeconds(),this._datetimeValue.getMilliseconds())),this._disableRange("hour"),start=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),e=c.trim(u.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),indx=(this.timePicker._parse(e)-this.timePicker._parse(start))/(6e4*this._interval),indx=Math.floor(indx),this._hoverHour=this._setFocusByIndex("hour",indx,this._sfTimeHour),c(".e-hours-headertext",this._sfTimeHour).text(u.format(this._datetimeValue,"dd MMM yyyy")),c(".e-minitues-headertext",this._sfTimeMins).text(u.format(this._datetimeValue,"dd MMM yyyy"))},_disableRange:function(e){var t,s,a,n="hour"==e?this._interval:this.model.timeDrillDown.interval,o="hour"==e?this._sfTimeHour:this._sfTimeMins,l="hour"==e?"e-hide-hour e-disable":"e-hide-mins e-disable";if(o.find("tbody tr td.e-"+e).removeClass(l),o.find(".e-arrow-sans-left").removeClass("e-disable"),o.find(".e-arrow-sans-right").removeClass("e-disable"),start="hour"==e?this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"):this._localizeTime(c.trim(u.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),"HH:00"),this._compareDate(this.model.minDateTime,this._datetimeValue)){if("mins"==e&&this.model.minDateTime.getHours()!==this._datetimeValue.getHours())return!1;for(t=c.trim(u.format(this.timePicker._createObject(this.model.minDateTime),"HH:mm",this.model.locale)),indx=(this.timePicker._parse(t)-this.timePicker._parse(start))/(6e4*n),indx="hour"==e?Math.floor(indx):Math.ceil(indx),i=0;i<indx;i++)a=o.find("tbody tr td.e-"+e)[i],c(a).addClass(l);o.find(".e-arrow-sans-left").addClass("e-disable")}if(this._compareDate(this.model.maxDateTime,this._datetimeValue)){if("mins"==e&&this.model.maxDateTime.getHours()!==this._datetimeValue.getHours())return!1;for(t=c.trim(u.format(this.timePicker._createObject(this.model.maxDateTime),"HH:mm",this.model.locale)),indx=(this.timePicker._parse(t)-this.timePicker._parse(start))/(6e4*n),indx=Math.floor(indx)+1,s=o.find("tbody tr td.e-"+e).length,i=indx;i<s;i++)a=o.find("tbody tr td.e-"+e)[i],c(a).addClass(l);o.find(".e-arrow-sans-right").addClass("e-disable")}},_setFocusByName:function(e,i,t){var s,a,n=t.find("tbody tr td.e-"+e);return c(n).each(function(e,t){t.innerHTML==i&&(s=e)}),a=(a=n[s])||n.last(),t.find("table td").removeClass("e-state-hover").removeClass("e-active"),c(a).hasClass("e-hide-"+e)||c(a).addClass("e-state-hover"),this._setActiveState(e,t),s},_setFocusByIndex:function(e,t,i){var s=i.find("tbody tr td.e-"+e),a=s[t];return a=a||s.last(),i.find("table td").removeClass("e-state-hover").removeClass("e-active"),c(a).hasClass("e-hide-"+e)||c(a).addClass("e-state-hover"),this._setActiveState(e,i),t},_setActiveState:function(e,t){var i,s,a=t.find("tbody tr td.e-"+e),n=-1;switch(e){case"hour":this._compareDate(this.model.value,this._datetimeValue)&&(start=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),i=c.trim(u.format(this.timePicker._createObject(this.model.value),"HH:00",this.model.locale)),n=(this.timePicker._parse(i)-this.timePicker._parse(start))/(6e4*this._interval),n=Math.floor(n));break;case"mins":this._compareDate(this.model.value,this._datetimeValue)&&this.model.value.getHours()===this._datetimeValue.getHours()&&(s=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),i=c.trim(u.format(this.timePicker._createObject(s),"HH:mm",this.model.locale)),s=c.trim(u.format(this.timePicker._createObject(s),"HH:00",this.model.locale)),n=(this.timePicker._parse(i)-this.timePicker._parse(s))/(6e4*this.model.timeDrillDown.interval),n=Math.ceil(n))}(e=a[n])&&(t.find("table td").removeClass("e-active"),c(e).removeClass("e-state-hover").addClass("e-active"))},_compareDate:function(e,t){return+new Date(e.toString()).setHours(0,0,0,0)==+new Date(t.toString()).setHours(0,0,0,0)},_updateInput:function(e){var t=(new Date).setHours(0,0,0,0),i=this._getDate()||new Date,t=this._getTime()||this.timePicker._createObject(t);this.model.value=new Date(i.getFullYear(),i.getMonth(),i.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),this._preVal=this._objectToString(this.model.value),this._updateDateTime(),this._raiseChangeEvent(),this._updateModel(e),e&&(e.cancel=!0)},_updateDateTime:function(){this.isValidState=!0;var e=this._objectToString(this.model.value);this.element.val(e),this._removeWatermark()},_refreshTimes:function(e){var t,e=this._getDateObj(e.value,this.datePicker.model.dateFormat);if(!e)return!1;this.isValidState=!0,this._compare(e,this._setEmptyTime(this.model.minDateTime))?(t=this._getFormat(this.model.minDateTime,this.timePicker.model.timeFormat),this._getTime(),this.timePicker.option("minTime",t),this.model.enableStrictMode||this._updateInput()):this.timePicker.option("minTime",this._defaultMinVal()),this._compare(e,this._setEmptyTime(this.model.maxDateTime))?(t=this._getFormat(this.model.maxDateTime,this.timePicker.model.timeFormat),this._getTime(),this.timePicker.option("maxTime",t),this.model.enableStrictMode||this._updateInput()):this.timePicker.option("maxTime",this._defaultMaxVal()),this.timePicker._changeActiveEle()},_defaultMinVal:function(){var e=(new Date).setHours(0,0,0,0);return u.format(this.timePicker._createObject(e),this.timePicker.model.timeFormat,this.timePicker.model.locale)},_defaultMaxVal:function(){var e=(new Date).setHours(23,59,59,59);return u.format(this.timePicker._createObject(e),this.timePicker.model.timeFormat,this.timePicker.model.locale)},_updateValues:function(){var e=this.model.value;null!=this.model.value&&(this.datePicker.option("value",this.model.value),this.timePicker.option("value",this.model.value)),this._setValue(e),this._validateMinMax(),this._preVal=this.element.val(),this._checkErrorClass()},_specificFormat:function(){var e=u.globalize._getDateParseRegExp(u.globalize.findCulture(this.model.locale).calendar,this.model.dateFormat);return-1<c.inArray("dddd",e.groups)||-1<c.inArray("ddd",e.groups)},_setValue:function(e){return!e||"object"==typeof JSON&&"{}"===JSON.stringify(e)?(this.element.val(""),this.model.value=null,this.isValidState=!0):"string"==typeof e?this._extISORegex.exec(e)||this._basicISORegex.exec(e)?this._checkObject(this._dateFromISO(e)):(this.element.val(e),this._updateModel(),this._validateMinMax(),this._checkStrictMode()):e instanceof Date&&this._isValidDate(e)&&this._checkObject(e),this._checkErrorClass(),this.model.value},_checkObject:function(e){e instanceof Date&&this._isValidDate(e)&&(this.model.value=e,this._updateDateTime(),this._validateMinMax(),this._checkStrictMode())},_dateFromISO:function(e){var t,i,s,a,n,o,l,r=this._extISORegex.exec(e)||this._basicISORegex.exec(e),h="",d="",c="";if(r){for(t=0;t<this._dates.length;t++)if(this._dates[t][1].exec(r[1])){h=this._dates[t][0];break}if(r[3])for(i=0;i<this._times.length;i++)if(this._times[i][1].exec(r[3])){d=(r[2]||" ")+this._times[i][0];break}for(s=(h+d+(c=r[4]&&this._zeroRegex.exec(r[4])?"Z":c)).match(this._tokens),a=[],o=0;o<s.length;o++)l=s[o],n=this._checkLiteral(s[o]),l=this._numberRegex[n?s[o].toLowerCase():l.length]||new RegExp("^\\d{1,"+l.length+"}"),(l=e.match(l))&&(0<=e.substr(0,e.indexOf(l))&&!n&&(0<=s[o].indexOf("M")?a.push(parseInt(l[0])-1):a.push(parseInt(l[0]))),e=e.slice(e.indexOf(l[0])+l[0].length));return new Date(a[0],a[1],a[2],a[3],a[4],a[5])}},_checkLiteral:function(e){return"t"==(char=e.toLowerCase())||"z"==char||":"==char||"-"==char},_validateValue:function(e){e=u.parseDate(e,this.model.dateTimeFormat);!e||e<this.model.minDateTime||e>this.model.maxDateTime?(this.model.value=null,this._change("value",this.model.value),this.isValidState=!1):(this._change("value",this.model.value),this.isValidState=!0)},_validateMinMax:function(){var e=this.model.value?this._stringToObject(this.model.value):null,t=this.model.minDateTime?this._stringToObject(this.model.minDateTime):this.defaults.minDateTime,i=this.model.maxDateTime?this._stringToObject(this.model.maxDateTime):this.defaults.maxDateTime;if(!e||!t||!i)return!1;i<t&&(this.model.minDateTime=this.model.maxDateTime),e<t&&(this.model.enableStrictMode?this.model.enableStrictMode&&(this.datePicker.option("minDate",this._getFormat(t,this.datePicker.model.dateFormat)),this.timePicker.option("minTime",this._getFormat(t,this.timePicker.model.timeFormat)),this.isValidState=!1):(this._setValue(t),this.isValidState=!0)),i<e&&(this.model.enableStrictMode?this.model.enableStrictMode&&(this.datePicker.option("maxDate",this._getFormat(i,this.datePicker.model.dateFormat)),this.timePicker.option("maxTime",this._getFormat(i,this.timePicker.model.timeFormat)),this.isValidState=!1):(this._setValue(i),this.isValidState=!0)),e<t||i<e||(this.isValidState=!0)},_checkProperties:function(){this.model.readOnly&&this._readOnly(!0),this.model.showRoundedCorner&&this._setRoundedCorner(!0),this.model.enableRTL&&this._setRtl(!0),this.model.enabled&&this._enabled(!0),this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this._enabled(!0):this._enabled(!1),this.element.attr("name")||this.element.attr({name:this.element[0].id}),this._checkStrictMode(),this._checkErrorClass(),this._datetimeValue=new Date(this.datePicker._dateValue.toString()),u.isNullOrUndefined(this.model.value)||(this._datetimeValue=new Date(this.model.value.toString())),this._setWaterMark()},_checkStrictMode:function(){this.model.enableStrictMode||this.isValidState||(this.model.value<this.model.minDateTime?(this.element.val(this._objectToString(this.model.minDateTime)),this.model.value=this.model.minDateTime):this.model.value>this.model.maxDateTime?(this.element.val(this._objectToString(this.model.maxDateTime)),this.model.value=this.model.maxDateTime):(this.model.value="",this.element.val("")),this.isValidState=!0)},_targetFocus:function(e){e.preventDefault(),this.isFocused=!0,this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),this._isSupport||this._hiddenInput.css("display","none"),this._prevDateTimeVal=this.element.val(),this.model.showPopupButton||this.model.readOnly||this._showResult(),this.model.showPopupButton||this._on(this.element,"click",this._elementClick),this._trigger("focusIn",{value:this.model.value})},_targetBlur:function(){var e;this.isFocused=!1,this.wrapper.removeClass("e-focus"),this.model.showPopupButton||this._hideResult(),(e=u.parseDate(this.element.val(),this.model.dateTimeFormat))&&!this.model.enableStrictMode&&(e<this.model.minDateTime||e>this.model.maxDateTime)&&(e=e<this.model.minDateTime?this.model.minDateTime:this.model.maxDateTime,this.element.val(this._objectToString(e))),null!=u.parseDate(this.element.val(),this.model.dateTimeFormat)||this.model.enableStrictMode||(null==this._prevDateTimeVal||""==this.element.val()?this.element.val(""):this.element.val(this._preVal)),this._valueChange(),this.model.enableStrictMode?""!=this.element.val()&&this._validateValue(this.element.val()):this.isValidState?this._prevDateTimeVal=this.element.val():(this.element.val(this._prevDateTimeVal),this._preVal=this._prevDateTimeVal,this.model.value=this._stringToObject(this._prevDateTimeVal),this.isValidState=!0),this._isSupport||""!=this.element.val()||this._hiddenInput.css("display","block"),this._checkErrorClass(),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),this._trigger("focusOut",{value:this.model.value})},_elementClick:function(){this.isPopupOpen||this._showResult()},_keyDownOnInput:function(e){switch(e.keyCode){case 40:e.altKey&&this._showhidePopup();break;case 37:case 39:this.model.timeDrillDown.enabled||e.altKey&&this.isPopupOpen&&(e.preventDefault(),this._addPrevNextFocus(37==e.keyCode));break;case 27:e.preventDefault();case 9:this._hideResult();break;case 13:this.model.timeDrillDown.enabled||this._valueChange()}},_addFocus:function(e){e.hasClass("e-focus")||(this._removeFocus(),e.addClass("e-focus"),e.hasClass("e-datepicker e-popup")?c(document).on("keydown",c.proxy(this.datePicker._keyboardNavigation,this.datePicker)):e.hasClass("e-timecontainer")?c(document).on("keydown",c.proxy(this.timePicker._keyDownOnInput,this.timePicker)):e.hasClass("e-time-hours")?c(document).on("keydown",c.proxy(this._keyDownOnHours,this)):e.hasClass("e-time-minitues")?c(document).on("keydown",c.proxy(this._keyDownOnMinutes,this)):e.hasClass("e-dt-button")&&c(document).on("keydown",c.proxy(this._buttonClick,this)))},_removeFocus:function(){var e=this._getFocusedElement();0<e.length&&(e.removeClass("e-focus"),e.hasClass("e-datepicker e-popup")?c(document).off("keydown",c.proxy(this.datePicker._keyboardNavigation,this.datePicker)):e.hasClass("e-timecontainer")?c(document).off("keydown",c.proxy(this.timePicker._keyDownOnInput,this.timePicker)):e.hasClass("e-time-hours")?c(document).off("keydown",c.proxy(this._keyDownOnHours,this)):e.hasClass("e-time-minitues")?c(document).off("keydown",c.proxy(this._keyDownOnMinutes,this)):e.hasClass("e-dt-button")&&c(document).off("keydown",c.proxy(this._buttonClick,this)))},_addPrevNextFocus:function(e){var t,i=this._getFocusedElement();0<i.length?i.hasClass("e-datepicker e-popup")?t=e?this.popup.find(".e-dt-done"):this.popup.find(".e-timecontainer"):i.hasClass("e-timecontainer")?t=e?this.popup.find(".e-datecontainer >.e-datepicker.e-popup"):this.popup.find(".e-dt-today"):i.hasClass("e-dt-today")?t=e?this.popup.find(".e-timecontainer"):this.popup.find(".e-dt-now"):i.hasClass("e-dt-now")?t=e?this.popup.find(".e-dt-today"):this.popup.find(".e-dt-done"):i.hasClass("e-dt-done")&&(t=e?this.popup.find(".e-dt-now"):this.popup.find(".e-datecontainer >.e-datepicker.e-popup")):t=e?this.popup.find(".e-dt-done"):this.popup.find(".e-datecontainer >.e-datepicker.e-popup"),this._addFocus(t)},_getFocusedElement:function(){return this.popup.children("div").find("div.e-focus")},_keyDownOnHours:function(e){var t;37!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&40!=e.keyCode&&13!=e.keyCode&&36!=e.keyCode&&35!=e.keyCode||(e.preventDefault&&e.preventDefault(),(t={row:null,col:null}).col=this._sfTimeHour.find("tbody tr td.e-state-hover").index(),t.row=this._sfTimeHour.find("tbody tr td.e-state-hover").parent().index(),t.col=-1!=t.col?t.col+1:this._sfTimeHour.find("tbody tr td.e-active").index()+1,-1!=t.row?(t.row=t.row+1,this.model.timeDrillDown.showMeridian&&this._sfTimeHour.find("tbody tr td.e-state-hover").hasClass("e-hour-pm")&&(t.row=t.row+2)):(t.row=this._sfTimeHour.find("tbody tr td.e-active").parent().index()+1,this.model.timeDrillDown.showMeridian&&this._sfTimeHour.find("tbody tr td.e-active").hasClass("e-hour-pm")&&(t.row=t.row+2)),this._sfTimeHour.find("table")[0].className,rowLength=this._sfTimeHour.find("tbody.e-timepicker-hours tr").length,colLength=this.model.timeDrillDown.showMeridian?6:4,t=this._changeRowCol(t,e.keyCode,rowLength,colLength,"hours",e.ctrlKey),e.ctrlKey||(this._hoverHour=this._sfTimeHour.find("tbody.e-timepicker-hours tr td").index(t)),e.ctrlKey)||(this._sfTimeHour.find("table td").removeClass("e-state-hover"),t.addClass("e-state-hover"))},_changeRowCol:function(e,t,i,s,a,n){var o,l,r,h={parent:null,child:null};switch(a){case"hours":o="tbody.e-timepicker-hours tr td.e-hour",h.parent=".e-timepicker-hours",h.child=".e-hour",hiddenClass=".e-hide-hour",l=this._sfTimeHour;break;case"mins":o="tbody.e-timepicker-mins tr td.e-mins",h.parent=".e-timepicker-mins",h.child=".e-mins",hiddenClass=".e-hide-mins",s=(l=this._sfTimeMins).find("tbody"+h.parent+" tr:nth-child("+e.row+") td"+h.child).length}if(e.row<=0&&e.col<=0)return l.find(o+":not(.e-disable):first");switch(t){case 36:return l.find(o+":not(.e-disable):first");case 35:return l.find(o+":not(.e-disable):last");case 38:if(n)this._forwardNavHandler(null,l);else{if(!(1<e.row))return this._processNextPrev(!0,l),l.find(o+":nth-child("+e.col+"):last");--e.row}if((r=this._getCell(e,h,l).not(hiddenClass)).length<=0){if(null!==(r=this._findVisible(e,h,"up",l)))return r;this._processNextPrev(!0,l),r=l.find(o+":nth-child("+e.col+"):last")}return r;case 37:if(n)return this._processNextPrev(!0,l),l.find("tbody tr td.e-state-hover");if(1<e.col)--e.col;else{if(!(1<e.row))return this._processNextPrev(!0,l),l.find(o+":not(.e-disable):last");e={row:e.row-1,col:s},"mins"==a&&(e.col=s=l.find("tbody"+h.parent+" tr:nth-child("+e.row+") td"+h.child).length)}if((r=this._getCell(e,h,l).not(hiddenClass)).length<=0){if(null!==(r=this._findVisible(e,h,"left",l)))return r;this._processNextPrev(!0,l),r=l.find(o+":not(.e-disable):last")}return r;case 39:if(n)return this._processNextPrev(!1,l),l.find("tbody tr td.e-state-hover");if(e.col<s)e.col+=1;else{if(!(e.row<i))return this._processNextPrev(!1,l),l.find(o+":not(.e-disable):first");e={row:e.row+1,col:1}}if((r=this._getCell(e,h,l).not(hiddenClass)).length<=0){if(null!==(r=this._findVisible(e,h,"right",l)))return r;this._processNextPrev(!1,l),r=l.find(o+":not(.e-disable):first")}return r;case 40:if(!n){if(!(e.row<i))return this._processNextPrev(!1,l),l.find(o+":nth-child("+e.col+"):first");if(e.row+=1,(r=this._getCell(e,h,l).not(hiddenClass)).length<=0){if(null!==(r=this._findVisible(e,h,"down",l)))return r;this._processNextPrev(!1,l),r=l.find(o+":nth-child("+e.col+"):first")}return r}case 13:r=this._getCell(e,h,l),c(r)[0],args={type:null,target:r},"hours"==a&&this._hourNavHandler(args),"mins"==a&&this._minsNavHandler(args)}return this._getCell(e,h,l).not(hiddenClass)},_getCell:function(e,t,i){var s=e.row;return this.model.timeDrillDown.showMeridian&&2<e.row&&i.hasClass("e-time-hours")&&(s-=2),s=i.find("tbody"+t.parent+" tr:nth-child("+s+") td"+t.child+":nth-child("+e.col+")"),s=this.model.timeDrillDown.showMeridian&&0<s.length&&i.hasClass("e-time-hours")?e.row<=2?c(s[0]):c(s[1]):s},_findVisible:function(e,t,s,a){var n=e.col,o=e.row,l=t.child.slice(1,t.child.length);for(i=0;0<=i;i++){if((nextElement=this._getCell({row:o,col:n},t,a)).length<=0)return null;if(nextElement.hasClass("e-disable")||!nextElement.is(":visible")){if("right"==s||"left"==s?"right"==s?n++:n--:"down"==s?o++:o--,o<=0||o>a.find("tbody"+t.parent+" tr").length||(n>a.find("tbody"+t.parent+" tr:nth-child("+o+") td").length&&(o++,n=1),n<=0&&(o--,n=a.find("tbody"+t.parent+" tr:nth-child("+o+") td").length),o<=0)||o>a.find("tbody"+t.parent+" tr").length)return null}else if(nextElement.hasClass(l))return e.col=n,e.row=o,nextElement=this._getCell(e,t,a)}},_keyDownOnMinutes:function(e){var t;37!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&40!=e.keyCode&&13!=e.keyCode&&36!=e.keyCode&&35!=e.keyCode||(e.preventDefault&&e.preventDefault(),(t={row:null,col:null}).col=this._sfTimeMins.find("tbody tr td.e-state-hover").index(),t.row=this._sfTimeMins.find("tbody tr td.e-state-hover").parent().index(),t.col=-1!=t.col?t.col+1:this._sfTimeMins.find("tbody tr td.e-active").index()+1,t.row=-1!=t.row?t.row+1:this._sfTimeMins.find("tbody tr td.e-active").parent().index()+1,this._sfTimeMins.find("table")[0].className,rowLength=this._sfTimeMins.find("tbody.e-timepicker-mins tr").length,colLength=4,t=this._changeRowCol(t,e.keyCode,rowLength,colLength,"mins",e.ctrlKey),e.ctrlKey||(this._hoverHour=this._sfTimeMins.find("tbody.e-timepicker-mins tr td").index(t)),e.ctrlKey)||(this._sfTimeMins.find("table td").removeClass("e-state-hover"),t.addClass("e-state-hover"))},_valueChange:function(e){this.model.enableStrictMode?this.model.enableStrictMode&&(this._preVal!=this.element.val()||this.model.value<this.model.minDateTime||this.model.value>this.model.maxDateTime)&&(this._updateModel(),this._raiseChangeEvent(e)):(this._preVal!=this.element.val()&&(this._preVal=this.element.val(),this._updateModel(),this._validateMinMax(),this._raiseChangeEvent(e)),this._setWaterMark())},_updateModel:function(e){var t;this._stopRefresh?this._stopRefresh=!1:""==(t=this.element.val())?(this.model.value=null,this._change("value",this.model.value),this.isValidState=!0):(e=e!=s&&"select"==e.type||this._prevDateTimeVal==this.element.val()?this.model.value:u.parseDate(t,this.model.dateTimeFormat,this.model.locale))?(this.model.value=e,this.isValidState=!0,this._refreshPopup(),this._specificFormat()&&this._prevDateTimeVal!=this.element.val()&&this.element.val(this._objectToString(this.model.value))):(this.model.value=null,this._change("value",this.model.value),this.isValidState=!1)},_refreshPopup:function(){var e,t,i,s;this.isValidState&&this.isPopupOpen&&(e=this._setEmptyTime(this.model.value),t=this._setEmptyDate(this.model.value),i=this._getDate(),s=this._getTime(),i&&this._compare(i,e)||this.datePicker.option("value",e),s&&this._compare(s,t)||this.timePicker.option("value",t))},_buttonClick:function(e){13==e.keyCode&&(e.preventDefault(),(e=this._getFocusedElement()).hasClass("e-dt-today")?this._todayClick():e.hasClass("e-dt-now")?this._nowClick():e.hasClass("e-dt-done")&&this._doneClick())},_todayClick:function(){if(!this.model.enabled||this.model.readOnly)return!1;this.datePicker.popup.find(".today").hasClass("e-active")&&this.datePicker.popup.children("table").hasClass("e-dp-viewdays")&&""!=this.element.val()&&this.isValidState||(this.datePicker._setCurrDate(),this._updateInput())},_nowClick:function(){if(!this.model.enabled||this.model.readOnly)return!1;this.timePicker.setCurrentTime();var e=this.model.minDateTime,t=this.model.maxDateTime,i=this.datePicker.model.value,s=new Date,i=u.isNullOrUndefined(i)?new Date:i;(i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()))<e?this.timePicker.option("value",this.timePicker._localizeTime(e)):t<i&&this.timePicker.option("value",this.timePicker._localizeTime(t)),this._updateInput()},_doneClick:function(){this._hideResult()},_iconClick:function(e){e.preventDefault(),this.isFocused||u.isTouchDevice()||this.element.focus(),this._showhidePopup(),this._isIE9&&this.popup.find(".e-popup-container").css("display","inline-block")},_setInitialSelection:function(){var e,t,i=this.timePicker.ul.find("li");i.hasClass("e-hover")||(t=e=this.timePicker._setEmptyDate(new Date),this.timePicker.minTime&&!this._compareTime(this._createObject(e),this.timePicker.minTime,!0)&&(t=this.timePicker.minTime),this.timePicker.maxTime&&!this._compareTime(this.timePicker.maxTime,this._createObject(e),!0)&&(t=this.timePicker.maxTime),e=i.first().html(),t=(this.timePicker._parse(t)-this.timePicker._parse(e))/(6e4*this.timePicker.model.interval),t=Math.round(t),((activeItem=t==i.length?t:t+1)<0||activeItem>i.length||isNaN(activeItem))&&(activeItem=1),c(this.timePicker.ul.find("li")[activeItem-1]).addClass("e-hover"),this._calcScrollTop())},_calcScrollTop:function(){this.timePicker.ul.outerHeight();var e=this.timePicker.ul.find("li").outerHeight(),e=e*this.timePicker.ul.find("li.e-hover").index()-(this.timePicker.popupList.outerHeight()-e)/2;this.timePicker.scrollerObj.setModel({scrollTop:e})},_showhidePopup:function(){if(this.model.readOnly)return!1;this.isPopupOpen?this._hideResult():this._showResult()},_showResult:function(){if(this.isPopupOpen||!this.model.enabled||this._trigger("beforeOpen",{element:this.popup}))return!1;this.isPopupOpen=!0,this._setListPosition(),this._checkForResponsive();var e=this;this.popup.slideDown(this.model.enableAnimation?200:0,function(){e._on(c(document),"mousedown",e._OnDocumentClick),e.model.timeDrillDown.enabled&&e._addFocus(e._dateContainer.find(".e-datepicker")),e.timePicker.model.value||e._setInitialSelection()}),this._updateModel(),this._updateTimeHeight(),this._validateMinMax(),this._on(c(window),"resize",this._OnWindowResize),this._on(u.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._raiseEvent("open"),this._initial&&(this.timePicker._refreshScroller(),this.timePicker._changeActiveEle(),this._initial=!1),this.wrapper.addClass("e-active")},_hideResult:function(e){var t=this;if(!this.isPopupOpen||this._trigger("beforeClose",{element:this.popup}))return!1;this.isPopupOpen=!1,this._removeFocus(),this._popClose&&e&&"click"!=e.type?this.isPopupOpen=!0:(this.popup.slideUp(this.model.enableAnimation?100:0,function(){t.model&&(t.model.timeDrillDown.enabled&&(t._sfTimeHour.hide(),t._sfTimeMins.hide(),t._dateContainer.show()),u.isNullOrUndefined(t.model.value)||(t._datetimeValue=new Date(t.model.value.toString())))}),this._raiseEvent("close"),this._off(c(document),"mousedown",this._OnDocumentClick),this._off(c(window),"resize",this._OnWindowResize),this._off(u.getScrollableParents(this.wrapper),"scroll",this._hideResult),this.wrapper.removeClass("e-active"))},_setListPosition:function(){var e=this.wrapper,t=this._getOffset(e),i=c(document).scrollTop()+c(window).height()-(t.top+c(e).outerHeight()),s=t.top-c(document).scrollTop(),a=this.popup.outerHeight(),n=this.popup.outerWidth(),o=t.left,l=e.outerHeight(),r=(l-e.height())/2,h=this._getZindexPartial(),i=(this.model.popupPosition,this.model.popupPosition==u.PopupPosition.Bottom?(a<i||s<a?t.top+l+3:t.top-a-3)-r:(s<a?t.top+l+3:t.top-a-3)-r),s=c(document).scrollLeft()+c(window).width()-o;(this.model.enableRTL||s<n&&n<o+e.outerWidth())&&(o-=this.popup.outerWidth()-e.outerWidth()),this.popup.css({left:o+"px",top:i+"px","z-index":h})},_getOffset:function(e){return u.util.getOffset(e)},_OnDocumentClick:function(e){this.model&&(c(e.target).is(this.popup)||c(e.target).parents(".e-datetime-popup").is(this.popup)||c(e.target).is(this.wrapper)||c(e.target).parents(".e-datetime-wrap").is(this.wrapper)?(c(e.target).is(this.popup)||c(e.target).parents(".e-datetime-popup").is(this.popup))&&(e.preventDefault(),0<c(e.target).parents(".e-datepicker").length?this._addFocus(c(e.target).parents(".e-datepicker")):0<c(e.target).parents(".e-timecontainer").length?this._addFocus(c(e.target).parents(".e-timecontainer")):c(e.target).hasClass("e-dt-button")?this._addFocus(c(e.target)):0<c(e.target).parents(".e-time-hours").length?this._addFocus(c(e.target).parents(".e-time-hours")):0<c(e.target).parents(".e-time-minitues").length?this._addFocus(c(e.target).parents(".e-time-minitues")):this._removeFocus()):this._hideResult())},_OnWindowResize:function(){this._setListPosition(),this._checkForResponsive(),this._updateTimeHeight()},_raiseChangeEvent:function(e){var t;+u.parseDate(this._prevDateTimeVal,this.model.dateTimeFormat)==+u.parseDate(this.element.val(),this.model.dateTimeFormat)?this._prevDateTimeVal!=this.element.val()&&(t={prevDateTime:this._prevDateTimeVal,value:this.element.val(),isValidState:this.isValidState},this._prevDateTimeVal=this.element.val(),this._trigger("_change",t)):(t={prevDateTime:this._prevDateTimeVal,value:this.element.val(),isInteraction:!e,isValidState:this.isValidState},this._trigger("_change",t),t.value=""==c.trim(this.element.val())?null:this.element.val(),this._trigger("change",t),this._prevDateTimeVal=this.element.val())},_raiseEvent:function(e){return!(null==this.element||!this.model[e])&&this._trigger(e,{prevDateTime:this._preVal,value:this.element.val()})},_getDateTimeFormat:function(){var e=u.preferredCulture(this.model.locale).calendar.patterns;this.model.dateTimeFormat||(this.model.dateTimeFormat=e.d+" "+e.t),this.model.timeDisplayFormat||(this.model.timeDisplayFormat=e.t)},_getZindexPartial:function(){return u.util.getZindexPartial(this.element,this.popup)},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},_getDate:function(){return this.datePicker.model.value},_getTime:function(){return this._getDateObj(this.timePicker.model.value,this.timePicker.model.timeFormat)},_setEmptyTime:function(e){e=new Date(e);return e.setMilliseconds(0),e.setSeconds(0),e.setMinutes(0),e.setHours(0),e},_setEmptyDate:function(e){e=new Date(e);return e.setDate(1),e.setMonth(0),e.setFullYear(2e3),e},_objectToString:function(e){return this._getFormat(e,this.model.dateTimeFormat)},_stringToObject:function(e){return this._getDateObj(e,this.model.dateTimeFormat)},_getFormat:function(e,t){return e instanceof Date?(t=this._checkFormat(t),u.format(e,t,this.model.locale)):e},_checkFormat:function(e){var t=this,i=this._regExp();return e.replace(i,function(e){return"/"===e&&"/"!==u.preferredCulture(t.model.locale).calendars.standard["/"]?"'/'":e})},_regExp:function(){return/\/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},_getDateObj:function(e,t){var i,s;return"string"==typeof e?(t=this._checkFormat(t),null!=(t=u.parseDate(e,t,this.model.locale))?t:""==e||null==e?null:(t=/^\s*(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d).*Z\s*$/.exec(e),s=new Date,t&&(s=new Date,i=+t[2],s.setUTCFullYear(t[1],i-1,t[3]),s.setUTCHours(t[4],t[5],t[6]),i!=s.getUTCMonth()+1)&&s.setTime(),this._isValidDate(s)?s:void 0)):e},_compare:function(e,t){return e&&t&&e.getTime()==t.getTime()},_isValidDate:function(e){return e&&"function"==typeof e.getTime&&isFinite(e.getTime())},_change:function(e,t){this.datePicker.option(e,t),this.timePicker.option(e,t)},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.popup.removeClass(this.model.cssClass).addClass(e),this._change("cssClass",e)},_localize:function(e){var t,s;if(this.model.locale=e,this.model.dateTimeFormat=this.model.timeDisplayFormat="",t=["AM","PM"],this._getDateTimeFormat(),this._localizedLabels=this._getLocalizedLabels(),u.isNullOrUndefined(this._options)||(u.isNullOrUndefined(this._options.buttonText)||c.extend(this._localizedLabels.buttonText,this._options.buttonText),u.isNullOrUndefined(this._options.watermarkText))||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this._buttonText(this._localizedLabels.buttonText),(this.isValidState||this.model.value instanceof Date&&this._isValidDate(this.model.value))&&this.element.val(this._objectToString(this.model.value)),this._preVal=this.element.val(),this._change("locale",e),this.model.startDay=this.datePicker.model.startDay,this._validateMeridian(),this._sfTimeHour.empty(),this._renderHourTable(),this.model.timeDrillDown.showMeridian)for(i=0;i<2;i++)s=u.isNullOrUndefined(u.preferredCulture(this.model.locale).calendars.standard[t[i]])?"":u.preferredCulture(this.model.locale).calendars.standard[t[i]][0],c("span.e-hours-meridiantxt-"+t[i].toLowerCase(),this._sfTimeHour).text(s)},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?c(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_readOnly:function(e){(this.model.readOnly=e)?this.element.attr("readonly","readonly"):this.element.prop("readonly",!1),this._change("readOnly",e)},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.popup.addClass("e-corner")):(this.container.removeClass("e-corner"),this.popup.removeClass("e-corner")),this.datePicker.option("showRoundedCorner",e)},_setRtl:function(e){e?(this.wrapper.addClass("e-rtl"),this.popup.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popup.removeClass("e-rtl")),this._change("enableRTL",e)},_enabled:function(e){e?(this.model.enabled=!1,this.enable()):(this.model.enabled=!0,this.disable())},_showButton:function(e){(this.model.showPopupButton=e)?(this.container.addClass("e-padding"),this._renderIcon()):(this.container.removeClass("e-padding"),this.datetimeIcon.remove(),this.datetimeIcon=null)},_buttonText:function(e){c.extend(this.model.buttonText,e),this.popup.find(".e-dt-today").html(this.model.buttonText.today),this.popup.find(".e-dt-now").html(this.model.buttonText.timeNow),this.popup.find(".e-dt-done").html(this.model.buttonText.done),this.popup.find(".e-timecontainer").find(".e-header").html(this.model.buttonText.timeTitle)},_checkForResponsive:function(){var e;200<c(window).outerWidth()&&c(window).outerWidth()<=500?this.popup.hasClass("e-dt-responsive")||(this.popup.addClass("e-dt-responsive"),this.timePicker.option("popupWidth",this.datePicker.popup.outerWidth()),this.timePicker.option("popupHeight",98),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle()):this.popup.hasClass("e-dt-responsive")&&(this.popup.removeClass("e-dt-responsive"),this.timePicker.option("popupWidth",this.model.timePopupWidth),e=this.datePicker.popup.height()-this.popup.find(".e-header").height(),this.timePicker.option("popupHeight",e),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle())},enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.model.enabled=!0,this.element.prop("disabled",!1),this.element.removeClass("e-disable").attr("aria-disabled",!1),this._isSupport||this._hiddenInput.prop("disabled",!1),this.datetimeIcon&&this.datetimeIcon.removeClass("e-disable").attr("aria-disabled",!1),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().removeClass("e-disable"),this.popup.children("div").removeClass("e-disable").attr("aria-disabled",!1),this._change("enabled",!0))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.element.addClass("e-disable").attr("aria-disabled",!0),this.element.attr("disabled","disabled"),this._isSupport||this._hiddenInput.attr("disabled","disabled"),this.datetimeIcon&&this.datetimeIcon.addClass("e-disable").attr("aria-disabled",!0),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().addClass("e-disable"),this.popup.children("div").addClass("e-disable").attr("aria-disabled",!0),this._hideResult(),this._change("enabled",!1),this.datePicker.popup.removeClass("e-disable").attr("aria-disabled",!1),this.timePicker.popup.removeClass("e-disable").attr("aria-disabled",!1))},getValue:function(){return this._objectToString(this.model.value)},setCurrentDateTime:function(){this.model.readOnly||this._setValue(new Date)},show:function(){this._showResult()},hide:function(){this._hideResult()},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"keydown",this._keyDownOnInput),this.popup.on("mouseenter touchstart",c.proxy(function(){this._popClose=!0},this)),this.popup.on("mouseleave touchend",c.proxy(function(){this._popClose=!1},this))},_getLocalizedLabels:function(){return u.getLocalizedConstants(this.sfType,this.model.locale)}}),u.DateTimePicker.Locale=u.DateTimePicker.Locale||{},u.DateTimePicker.Locale.default=u.DateTimePicker.Locale["en-US"]={watermarkText:"Select datetime",buttonText:{today:"Today",timeNow:"Time Now",done:"Done",timeTitle:"Time"}},u.PopupPosition={Bottom:"bottom",Top:"top"}}),!function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.touch.min"],e):e()}(function(){var b,w,x;b=jQuery,(w=Syncfusion).widget("ejDatePicker","ej.DatePicker",{element:null,_rootCss:"e-datepicker",model:null,validTags:["input","div","span"],_setFirst:!1,_addToPersist:["value"],_cancelValue:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},defaults:{dayHeaderFormat:"min",showPopupButton:!0,enableAnimation:!0,showFooter:!0,displayInline:!1,htmlAttributes:{},dateFormat:"",watermarkText:"Select date",value:null,minDate:new Date(1900,0,1),maxDate:new Date(2099,11,31),startLevel:"month",depthLevel:"",cssClass:"",startDay:-1,stepMonths:1,locale:"en-US",showOtherMonths:!0,enableStrictMode:!1,enablePersistence:!1,enabled:!0,width:"",height:"",enableRTL:!1,showRoundedCorner:!1,headerFormat:"MMMM yyyy",buttonText:"Today",readOnly:!1,specialDates:null,fields:{date:"date",tooltip:"tooltip",iconClass:"iconClass",cssClass:"cssClass"},showTooltip:!0,showDisabledRange:!0,highlightSection:"none",highlightWeekend:!1,validationRules:null,validationMessage:null,allowEdit:!0,tooltipFormat:"ddd MMM dd yyyy",allowDrillDown:!0,blackoutDates:[],beforeDateCreate:null,open:null,close:null,select:null,change:null,focusIn:null,focusOut:null,beforeOpen:null,beforeClose:null,navigate:null,create:null,destroy:null},dataTypes:{startDay:"number",stepMonths:"number",showOtherMonths:"boolean",enableStrictMode:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",displayInline:"boolean",showPopupButton:"boolean",locale:"string",readOnly:"boolean",cssClass:"string",dateFormat:"string",watermarkText:"string",headerFormat:"string",buttonText:"string",specialDates:"data",showTooltip:"boolean",highlightSection:"enum",highlightWeekend:"boolean",enableAnimation:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",tooltipFormat:"string",allowEdit:"boolean",allowDrillDown:"boolean"},_setModel:function(e){var t,i,s=!1,a=!1,n=!1;for(t in e)switch(t){case"dayHeaderFormat":this.model.dayHeaderFormat=e[t],s=a=!0;break;case"showPopupButton":this._renderDateIcon(e[t],!0);break;case"displayInline":this._setDisplayInline(e[t]),this.model.allowEdit||e[t]||!this._isInputBox()||this.element.on("mousedown",b.proxy(this._showDatePopUp,this));break;case"value":w.isPlainObject(e[t])&&(e[t]=null),w.isNullOrUndefined(e.minDate)&&w.isNullOrUndefined(e.maxDate)?(this._setDateValue(e[t]),this._specificFormat()&&(this._stopRefresh=!0),e[t]=this.model.value):this._updateDateValue(e[t]),n=s=a=!0;break;case"specialDates":this.model.specialDates=e[t],this._createSpecialDateObject(),s=a=!0;break;case"fields":this.model.fields=e[t],this._mapField=this._getMapper(),s=a=!0;break;case"showTooltip":this.model.showTooltip=e[t],s=a=!0;break;case"highlightWeekend":this.model.highlightWeekend=e[t],s=a=!0;break;case"highlightSection":this.model.highlightSection=e[t],s=a=!0;break;case"dateFormat":this.model.dateFormat=e[t],this._ensureValue();break;case"minDate":this._setMinDate(e[t]),e[t]=this.model.minDate,this._ensureValue(),n=s=a=!0;break;case"maxDate":this._setMaxDate(e[t]),e[t]=this.model.maxDate,this._ensureValue(),n=s=a=!0;break;case"locale":this.model.locale=e[t],this.model.startDay=w.isNullOrUndefined(this._options.startDay)&&this.model.startDay===this.culture.calendar.firstDay||this._options.startDay===this.defaults.startDay?-1:this.model.startDay,this.model.dateFormat=w.isNullOrUndefined(this._options.dateFormat)&&this.model.dateFormat===this.culture.calendar.patterns.d?"":this.model.dateFormat,this._setCulture(e[t]),this.model.value&&this._setDateValue(this.model.value),e[t]=this.model.locale,s=a=!0;break;case"showOtherMonths":this.model.showOtherMonths=e[t],this._otherMonthsVisibility();break;case"enableStrictMode":this.model.enableStrictMode=e[t],n=s=a=!0;break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[t],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[t],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"readOnly":this.model.readOnly=e[t],this._disbleMaualInput();break;case"width":this._setWidth(e[t]);break;case"height":this._setHeight(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"showRoundedCorner":this._setRoundedCorner(e[t]);break;case"enabled":e[t]?this.enable():this.disable();break;case"buttonText":w.isNullOrUndefined(this._options)&&(this._options={}),this._options.buttonText=this.model.buttonText=e[t],this._localizedLabels.buttonText=this.model.buttonText,this._setFooterText(e[t]);break;case"showFooter":this._enableFooter(e[t]);break;case"watermarkText":w.isNullOrUndefined(this._options)&&(this._options={}),this._options.watermarkText=this.model.watermarkText=e[t],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark();break;case"startDay":i=e[t],(parseInt(e[t])<0||6<parseInt(e[t]))&&(e[t]=this.culture.calendar.firstDay,i=-1),this.model.startDay=e[t],w.isNullOrUndefined(this._options)&&(this._options={}),this._options.startDay=i,s=a=!0;break;case"startLevel":this.model.startLevel=e[t],s=a=!0;break;case"headerFormat":this.model.headerFormat=e[t],s=a=!0;break;case"depthLevel":this.model.depthLevel=e[t],s=a=!0;break;case"htmlAttributes":this._addAttr(e[t]);break;case"allowEdit":this._changeEditable(e[t]);break;case"tooltipFormat":this.model.tooltipFormat=e[t],s=a=!0;break;case"allowDrillDown":this._allowQuickPick(e[t]),s=a=!0;break;case"showDisabledRange":this._setRestrictDateState(e[t]);break;case"blackoutDates":this.model.blackoutDates=e[t],this._initDisableObj(this.model.blackoutDates),s=a=!0}n&&(this._validateMinMaxDate(),e.value=this.model.value,e.maxDate=this.model.maxDate,e.minDate=this.model.minDate),this._setWaterMark(),s&&(this.isValidState||this.model.displayInline)&&this._refreshDatepicker(),a&&this._startLevel(this.model.startLevel),this._triggerChangeEvent(),this._checkErrorClass()},observables:["value"],_destroy:function(){this.model.displayInline&&b(window).off("resize",b.proxy(this._OnWindowResize,this)),this._isOpen&&this.hide(),this.sfCalendar.remove(),this.wrapper&&(this.element.insertAfter(this.wrapper),this.wrapper.remove()),this._cloneElement.removeClass("e-js e-input").removeClass(w.util.getNameSpace(this.sfType)),this._cloneElement.insertAfter(this.element),this.element.remove()},_init:function(e){this._options=e,this._cloneElement=this.element.clone(),this._dt_drilldown=!1,this._ISORegex(),this._initDisableObj(this.model.blackoutDates),this.animation={open:{duration:200},close:{duration:100}},this._animating=!1,this._isSupport=document.createElement("input").placeholder!=x,this._checkAttribute(),this._setValues(),this._createDatePicker(),this._setRestrictDateState(this.model.showDisabledRange),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),e&&e.value!=x&&e.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()})},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var e,t,i,s;for(t in this.element.rules("add",this.model.validationRules),e=(e=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=this.element.attr("name"),e.settings.messages[name]={},this.model.validationRules)if(i=null,!w.isNullOrUndefined(this.model.validationRules[t])){if(w.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[t]))for(s in e.settings.messages[name][t]=b.validator.messages[t],this.model.validationMessage)t==s&&(i=this.model.validationMessage[t]);else i=this.model.validationRules.messages[t];e.settings.messages[name][t]=null!=i?i:b.validator.messages[t]}},_checkAttribute:function(){for(var e,t,i=["min","max","readonly","disabled"],s=["minDate","maxDate","readOnly","enabled"],a=0;a<i.length;a++)e=this.element.attr(i[a]),t=s[a],w.isNullOrUndefined(e)||(w.isNullOrUndefined(this._options)||w.isNullOrUndefined(this._options[t]))&&(this.model[t]="enabled"!=t&&"readOnly"!=t?new Date(e):"readOnly"==t?this.element.is("[readonly]"):!this.element.is("[disabled]"))},_updateDateValue:function(e){var t=this._checkDateObject(e);null!=t?(this.isValidState=!0,""==t?(this.element.val(""),this.model.value=null):(this.model.value=t,this._preTxtValue=this.element.val(this._formatter(this.model.value,this.model.dateFormat)))):("string"==typeof t&&this.model.enableStrictMode?this.element.val(e):this.element.val(""),this.model.value=null,this.isValidState=""==this.element.val()),this._removeWatermark()},_ensureValue:function(){var e=this._parseDate(this.element.val(),this.model.dateFormat);this.model.value?this._setDateValue(this.model.value):e&&this._setDateValue(e)},_changeEditable:function(e){var t=e?"_on":"_off";this.element.is(":input")&&(e?(this.model.readOnly||this.element.attr("readonly",!1),this.element.off("mousedown",b.proxy(this._showDatePopUp,this))):(this.model.readOnly||this.element.attr("readonly","readonly"),this.model.displayInline||this.element.on("mousedown",b.proxy(this._showDatePopUp,this))),this[t](this.element,"blur",this._onFocusOut),this[t](this.element,"focus",this._onFocusIn),this[t](this.element,"keydown",this._onKeyDown))},_allowQuickPick:function(e){b(".e-datepicker-headertext",this.sfCalendar)[e?"on":"off"]("click",b.proxy(this._forwardNavHandler,this))},_setRestrictDateState:function(e){this.sfCalendar[e?"addClass":"removeClass"]("e-dp-restrict-show")},_setValues:function(){this.Date=new Date,this._id=this.element[0].id,this.isValidState=!0,this._setCulture(this.model.locale),this._setMinDate(this.model.minDate),this._setMaxDate(this.model.maxDate),this._calendarDate=this._zeroTime(new Date),(this.model.startDay<0||6<this.model.startDay)&&(this.model.startDay=0),this.Date.firstDayOfWeek=this.model.startDay,this.Date.fullYearStart="20",this._showHeader=!0,w.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),this._validateMinMaxDate(),this._dateValue=new Date(this._calendarDate.toString()),this._isIE7=this._checkIE7(),this._isIE8="msie"==w.browserInfo().name&&"8.0"==w.browserInfo().version,this._isIE9="msie"==w.browserInfo().name&&"9.0"==w.browserInfo().version,this._getInternalEvents=!1,this._flag=!0,this._ejHLWeekEnd=!1,this._isOpen=!1,this._prevDate=null,this._preValue=null,this._isFocused=!1},_addAttr:function(e){var s=this;b.map(e,function(e,t){var i=t.toLowerCase();"class"==i?s.wrapper.addClass(e):"disabled"==i&&"disabled"==e?s.disable():"readOnly"==i&&"readOnly"==e?s.model.readOnly=!0:("style"!=i&&"id"!=i&&w.isValidAttr(s.element[0],t)?s.element:s.wrapper).attr(t,e)})},_createDatePicker:function(){this._createWrapper(),this._wireEvents(),this.model.displayInline&&this.show(),this.model.enableRTL&&this._setRTL(!0),this.model.showRoundedCorner&&this._setRoundedCorner(!0)},_checkNameAttr:function(){!this.element.attr("name")&&this._isInputBox()&&this.element.attr("name",this.element[0].id),this.model.displayInline&&!this._isInputBox()&&this._hiddenInput.attr("name",this.element[0].id)},_createWrapper:function(){var e;this._mapField=this._getMapper(),this.model.specialDates&&this._createSpecialDateObject(),this._isInputBox()&&(this.element.addClass("e-input").attr({"aria-atomic":"true","aria-live":"assertive",tabindex:"0"}),this.wrapper=w.buildTag("span.e-datewidget e-widget "+this.model.cssClass),w.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.innerWrapper=w.buildTag("span.e-in-wrap e-box"),this.wrapper.append(this.innerWrapper).insertBefore(this.element),this.innerWrapper.append(this.element),this.innerWrapper.addClass("e-padding"),this.dateIcon=w.buildTag("span.e-select#"+this._id+"-img","",{},this._isIE8?{unselectable:"on"}:{}).append(w.buildTag("span.e-icon e-calendar","",{},{"aria-label":"Select"}).attr(this._isIE8?{unselectable:"on"}:{})).insertAfter(this.element)),this._isSupport&&(!this.model.displayInline||this._isInputBox())||(this._hiddenInput=w.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._isInputBox()&&this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block"),b((e=this)._hiddenInput).focus(function(){e.element.focus()})),this._checkNameAttr(),this._setHeight(this.model.height),this._setWidth(this.model.width),this._id&&b("#e-"+this._id).remove(),this.sfCalendar=w.buildTag("div.e-datepicker e-popup e-widget "+this.model.cssClass+" e-calendar "+(this.model.specialDates&&this.model.specialDates[0][this._mapField._icon]?"e-icons ":""),"",{},{id:this._id?"e-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}).insertBefore(this.element),this.model.displayInline&&!this.element.is("input")&&this.sfCalendar.addClass("e-inline"),this.popup=this.sfCalendar,w.isTouchDevice()||this.sfCalendar.addClass("e-ntouch"),this._resizeCalender(),this._setDateValue(this.model.value),this._preValue=this._parseDate(this.element.val(),this.model.dateFormat),this._setWaterMark(),this._dateValue=new Date(this._calendarDate.toString()),this._createCalender(),this._setDisplayInline(this.model.displayInline),this.model.readOnly&&this._disbleMaualInput(),this.model.enabled?this.model.enabled&&b(this.element).hasClass("e-disable")&&this.enable():this.disable(),this._layoutChanged(),this._checkErrorClass(),this._addAttr(this.model.htmlAttributes)},_isInputBox:function(){return this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))},_renderDateIcon:function(e,t){t&&this.model.showPopupButton==e||(!e&&this.dateIcon?(this._bindInputEvent(),this.dateIcon.css("display","none"),this.innerWrapper.removeClass("e-padding")):(this.innerWrapper&&(this.innerWrapper.addClass("e-padding"),this.dateIcon.css("display","block")),this.model.displayInline||this._bindDateButton()),this.model.showPopupButton=e)},_resizeCalender:function(){"short"==this.model.dayHeaderFormat||"min"==this.model.dayHeaderFormat||"none"==this.model.dayHeaderFormat?this.sfCalendar.removeClass("e-headerlong"):"long"==this.model.dayHeaderFormat&&this.sfCalendar.addClass("e-headerlong")},_setWidth:function(e){e?(this.wrapper||this.element).width(e):this.model.width=this.wrapper?this.wrapper.outerWidth():this.element.width()},_setHeight:function(e){e?(this.wrapper||this.element).height(e):this.model.height=this.wrapper?this.wrapper.outerHeight():this.element.height(),this._isIE7&&this.element.height(this.innerWrapper.height())},_setRTL:function(e){e?(this.wrapper&&this.wrapper.addClass("e-rtl"),this.sfCalendar.addClass("e-rtl")):(this.wrapper&&this.wrapper.removeClass("e-rtl"),this.sfCalendar.removeClass("e-rtl"))},_setRoundedCorner:function(e){e?(this.innerWrapper&&this.innerWrapper.addClass("e-corner"),this.sfCalendar.addClass("e-corner")):(this.innerWrapper&&this.innerWrapper.removeClass("e-corner"),this.sfCalendar.removeClass("e-corner"))},_refreshDatepicker:function(){var e,t;this._stopRefresh?this._stopRefresh=!1:(e=this.element.val(),t=this._specificFormat()&&this._formatter(this._preValue,this.model.dateFormat,this.model.locale)!=e?this._parseDate(e,!0):this._parseDate(e),t=this._validateYearValue(t),this._setDateValue(t),this._specificFormat()&&this._compareDate(this.model.value,this._calendarDate)&&this.element.val(e),b(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._calendarDate,this.model.headerFormat)),this._resizeCalender(),this._dateValue=new Date(this._calendarDate.toString()),this._hoverDate=this._calendarDate.getDate()-1,this._renderCalendar(this,this._dateValue),this._setFooterText(this._localizedLabels.buttonText),this._enableFooter(this.model.showFooter),this._layoutChanged())},_validateYearValue:function(e){var t;return null!=e&&(t="string"==typeof(t=w.preferredCulture(this.model.locale).calendars.standard.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(t,10):t,this._calendarDate.getFullYear()-e.getFullYear()==100)&&this._calendarDate.getFullYear()>t&&e.setFullYear(this._calendarDate.getFullYear()),e},_setFooterText:function(e){b(".e-footer-text",this.sfCalendar).html(e)},_setSkin:function(e){(this.wrapper?(this.wrapper.removeClass(this.model.cssClass),this.wrapper):(this.element.removeClass(this.model.cssClass),this.element)).addClass(e),this.sfCalendar.removeClass(this.model.cssClass),this.sfCalendar.addClass(e)},_setDisplayInline:function(e){(this.model.displayInline=e)&&this._isInputBox()?(this.sfCalendar.insertAfter(this.wrapper),this._setDatePickerPosition()):e?(this.element.append(this.sfCalendar),this._isSupport&&this._isInputBox()||this._hiddenInput.css("display","none")):(this.sfCalendar.css("display","none"),b("body").append(this.sfCalendar),this._isOpen=!1),e?(this.show(),this._off(this.dateIcon,"mousedown",this._showDatePopUp),this.element.off("mousedown",b.proxy(this._showDatePopUp,this))):this._isInputBox()&&this._renderDateIcon(this.model.showPopupButton,!1)},_disbleMaualInput:function(){this.model.readOnly?(b(this.element).attr("readonly","readonly"),this.model.displayInline||this.hide()):this.model.allowEdit&&b(this.element).prop("readonly",!1)},_checkDateObject:function(e,t){return e&&("object"!=typeof JSON||"{}"!==JSON.stringify(e))&&(e instanceof Date||(e=(t=(t=this._specificFormat()?this._parseDate(e,!0):this._parseDate(e,t))||this._checkJSONString(e))||null),!isNaN(Date.parse(e)))&&(this._dateValue=this._calendarDate=this._zeroTime(e),this._validateDate(e))?this._dateValue:null},_checkJSONString:function(e){return isNaN(Date.parse(e))?this._extISORegex.exec(e)||this._basicISORegex.exec(e)?this._dateFromISO(e):void 0:new Date(e).toJSON()===e||new Date(e).toDateString()===e||new Date(e).toGMTString()===e||new Date(e).toISOString()===e||new Date(e).toLocaleString()===e||new Date(e).toString()===e||new Date(e).toUTCString()===e?new Date(e):"string"==typeof e?this._dateFromISO(e):void 0},_dateFromISO:function(e){var t,i,s,a,n,o,l,r=this._extISORegex.exec(e)||this._basicISORegex.exec(e),h="",d="",c="";if(r){for(t=0;t<this._dates.length;t++)if(this._dates[t][1].exec(r[1])){h=this._dates[t][0];break}if(r[3])for(i=0;i<this._times.length;i++)if(this._times[i][1].exec(r[3])){d=(r[2]||" ")+this._times[i][0];break}for(s=(h+d+(c=r[4]&&this._zeroRegex.exec(r[4])?"Z":c)).match(this._tokens),a=[],o=0;o<s.length;o++)l=s[o],n=this._checkLiteral(s[o]),l=this._numberRegex[n?s[o].toLowerCase():l.length]||new RegExp("^\\d{1,"+l.length+"}"),(l=e.match(l))&&(0<=e.substr(0,e.indexOf(l))&&!n&&(0<=s[o].indexOf("M")?a.push(parseInt(l[0])-1):a.push(parseInt(l[0]))),e=e.slice(e.indexOf(l[0])+l[0].length));return new Date(a[0],a[1],a[2],a[3],a[4],a[5])}},_checkLiteral:function(e){return"t"==(char=e.toLowerCase())||"z"==char||":"==char||"-"==char},_checkInstanceType:function(e){return!(e=this._stringToObject(e))||(e instanceof Date||(e=this._parseDate(e)),isNaN(Date.parse(e)))?null:this._zeroTime(e)},_stringToObject:function(e){var t;return e="string"==typeof e?null!=(t=w.parseDate(e,this.model.dateFormat,this.model.locale))?t:new Date(e):e},_validateMinMaxDate:function(){var e=!1,t=!1;this.model.maxDate<this.model.minDate&&(this.model.minDate=this.model.maxDate),this.model.enableStrictMode?this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.minDate,t=!(this.isValidState=!1)):this.model.value>this.model.maxDate?(this._calendarDate=this.model.maxDate,t=!(this.isValidState=!1)):this.isValidState=!0:this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate):(this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.value=this.model.minDate,e=!0):this.model.value>this.model.maxDate&&(this._calendarDate=this.model.value=this.model.maxDate,e=!0):(this.element.val(""),this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)),this.isValidState=!0),e&&this.element.val(this._formatter(this.model.value,this.model.dateFormat)),t&&this._getInternalEvents&&this._trigger("outOfRange")},_setCulture:function(e){this.culture=w.preferredCulture(e),this.culture&&(this.model.locale="en"==this.culture.name?"en-US":this.culture.name,this.Date.dayNames=this.culture.calendar.days.names,this.Date.dayNamesMin=this.culture.calendar.days.namesShort,this.Date.abbrDayNames=this.culture.calendar.days.namesAbbr,this.Date.monthNames=this.culture.calendar.months.names,this.Date.abbrMonthNames=this.culture.calendar.months.namesAbbr,this.Date.format=this.culture.calendar.patterns.d,""==this.model.dateFormat&&(this.model.dateFormat=this.culture.calendar.patterns.d),-1==this.model.startDay)&&(this.model.startDay=this.culture.calendar.firstDay),this._separator=this._getSeparator(),this._localizedLabels=this._getLocalizedLabels(),w.isNullOrUndefined(this._options)||(w.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),w.isNullOrUndefined(this._options.buttonText))||(this._localizedLabels.buttonText=this._options.buttonText),this._localizedLabelToModel()},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?b(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_setDatePickerPosition:function(){var e,t,i,s,a,n,o,l,r;this.model.displayInline&&!this._isInputBox()||(e=this.element.is("input")?this.wrapper:this.element,t=this._getOffset(e),o=b(document).scrollTop()+b(window).height()-(t.top+b(e).outerHeight()),l=t.top-b(document).scrollTop(),i=this.sfCalendar.outerHeight(),s=this.sfCalendar.outerWidth(),a=t.left,r=e.outerHeight(),e.height(),n=this._getZindexPartial(),o=i<o||l<i?t.top+r+3:t.top-i-3,l=b(document).scrollLeft()+b(window).width()-a,r=b(document).scrollLeft()+a+e.width(),(this.model.enableRTL||l<s&&s<a+e.outerWidth()&&!w.isNullOrUndefined(this.wrapper))&&(a+=this.wrapper.width()-this.sfCalendar.width()),r<s&&(a=t.left),this.sfCalendar.css({left:a+"px",top:o+"px","z-index":n}))},_getOffset:function(e){return w.util.getOffset(e)},_getZindexPartial:function(){return w.util.getZindexPartial(this.element,this.sfCalendar)},_setMinDate:function(e){this.model.minDate=this._checkInstanceType(e),this.model.minDate||(this.model.minDate=new Date("11/31/1899"))},_setMaxDate:function(e){this.model.maxDate=this._checkInstanceType(e),this.model.maxDate||(this.model.maxDate=new Date("12/31/2099"))},_setDateValue:function(e,t){t=this._checkDateObject(e,t);null!=t?(this.isValidState=!0,this.model.value=new Date(t.toString()),this._validateMinMaxDate(),this._preTxtValue=this.element.val(this._formatter(this.model.value,this.model.dateFormat))):(e instanceof Date&&(this._validateMinMaxDate(),e=this._formatter(e,this.model.dateFormat)),this.model.enableStrictMode?this.element.val(e):this.element.val(null),this.model.value=null,this._triggerChangeEvent(),this.isValidState=!(""!=this.element.val()&&!w.isNullOrUndefined(this.element.val()))),this._removeWatermark()},_updateInputVal:function(){null==this._validateValue()&&this.model.enableStrictMode||!this.sfCalendar.find(".e-datepicker-days").is(":visible")||this._refreshDatepicker()},_validateInputVal:function(){var e=this._validateValue();null==e||this.model.enableStrictMode||(e<=this.model.maxDate&&e>=this.model.minDate||(this.model.value=null),this.isValidState=!0)},_validateValue:function(){var e=this._specificFormat()&&this.element.val()!=this._formatter(this._preValue,this.model.dateFormat,this.model.locale)?this._parseDate(this.element.val(),!0):this._parseDate(this.element.val());return this._validateYearValue(e)},_getSeparator:function(){var e,t;for(formats=this.culture?this.culture.calendar.patterns.d:this.model.dateFormat,e=new RegExp("^[a-zA-Z0-9]+$"),t=0;t<formats.length;t++)if(!e.test(formats[t]))return formats[t]},_checkIE7:function(){if("Microsoft Internet Explorer"==navigator.appName){var e=-1;if(7<=(e=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)?parseFloat(RegExp.$1):e)&&e<8)return!0}return!1},_isValidDate:function(e){return e&&"function"==typeof e.getTime&&isFinite(e.getTime())},_formatter:function(e,t){t=this._checkFormat(t);return w.format(e,t,this.model.locale)},_parseDate:function(e,t){var i=this._checkFormat(this.model.dateFormat);return DateValue=e,this._specificFormat()&&DateValue!=x&&""!=e&&1!=t&&w.format(w.parseDate(DateValue,i,this.model.locale),this.model.dateFormat,this.model.locale)!=DateValue?this._dateValue:w.parseDate(e,i,this.model.locale)},_checkFormat:function(e){var t=this,i=this._regExp();return e.replace(i,function(e){return"/"===e&&"/"!==w.preferredCulture(t.model.locale).calendars.standard["/"]?"'/'":e})},_regExp:function(){return/\/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},_zeroTime:function(e){e="string"==typeof e?this._parseDate(e):new Date(e);return e.setMilliseconds(0),e.setSeconds(0),e.setMinutes(0),e.setHours(0),e},_getDaysInMonth:function(e){return[31,this.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][e.getMonth()]},_addDays:function(e,t){return e.setDate(e.getDate()+t),e},_addYears:function(e,t){return e.setFullYear(e.getFullYear()+t),e},_addMonths:function(e,t){var i=e.getDate();return e.setMonth(e.getMonth()+t),i>e.getDate()&&this._addDays(e,-e.getDate()),e},_isWeekend:function(e){return 0==e.getDay()||6==e.getDay()},_isSpecialDates:function(e){if(this.model.specialDates)for(var t=0;t<this.model.specialDates.length;t++)if(this.model.specialDates[t]&&this.model.specialDates[t][this._mapField._date]&&e.getDate()==this.model.specialDates[t][this._mapField._date].getDate()&&e.getMonth()==this.model.specialDates[t][this._mapField._date].getMonth()&&e.getFullYear()==this.model.specialDates[t][this._mapField._date].getFullYear())return this._getIndex=t,!0;return!1},_getMapper:function(){var e=this.model.fields,t={_date:null,_tooltip:null,_icon:null,_custom:null};return t._date=e&&e.date?e.date:"date",t._tooltip=e&&e.tooltip?e.tooltip:"tooltip",t._icon=e&&e.iconClass?e.iconClass:"iconClass",t._custom=e&&e.cssClass?e.cssClass:"cssClass",t},_createSpecialDateObject:function(){for(var e=0;e<this.model.specialDates.length;e++)this.model.specialDates[e][this._mapField._date]=this._checkInstanceType(this.model.specialDates[e][this._mapField._date])},_getMonthName:function(e,t){return(e?this.Date.abbrMonthNames:this.Date.monthNames)[t.getMonth()]},_displayNewMonth:function(e,t){return this._setDisplayedMonth(this.displayedMonth+e,this.displayedYear+t,!0),!1},_setDisplayedMonth:function(e,t,i){var s,a,n;this.model.minDate==x||this.model.maxDate==x||((n=new Date(this.model.minDate.getTime())).setDate(1),(s=new Date(this.model.maxDate.getTime())).setDate(1),!e&&!t||isNaN(e)&&isNaN(t)?(a=this._zeroTime(new Date)).setDate(1):a=isNaN(e)?new Date(t,this.displayedMonth,1):isNaN(t)?new Date(this.displayedYear,e,1):new Date(t,e,1),a.getTime()<n.getTime()?a=n:a.getTime()>s.getTime()&&(a=s),t=this.displayedMonth,e=this.displayedYear,this.displayedMonth=a.getMonth(),this.displayedYear=a.getFullYear(),n=a,!i)||this.displayedMonth==t&&this.displayedYear==e||(this._renderCalendar(this,n),this._dateValue=n,this._trigger("monthChanged",[this.displayedMonth,this.displayedYear]))},_clearSelected:function(){this.numSelected=0,"week"==this.model.highlightSection?b("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().removeClass("e-selected-week"):"month"==this.model.highlightSection?b("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().parent().removeClass("e-selected-month"):"workdays"==this.model.highlightSection?b("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().removeClass("e-work-week"):b("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1)},_addSelected:function(){"week"==this.model.highlightSection?b("td.e-active",this.sfCalendar).parent().addClass("e-selected-week"):"month"==this.model.highlightSection?b("td.e-active, this.sfCalendar").parent().parent().addClass("e-selected-month"):"workdays"==this.model.highlightSection&&b("td.e-active",this.sfCalendar).parent().addClass("e-work-week")},_hideOtherMonths:function(e){b("td.other-month",e).css("visibility","hidden")},_showOtherMonths:function(e){b("td.other-month",e).css({visibility:"visible"})},_otherMonthsVisibility:function(){this.model.showOtherMonths?this._showOtherMonths(this.sfCalendar):this._hideOtherMonths(this.sfCalendar)},_createCalender:function(){w.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(w.buildTag("span.e-prev").append(w.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(w.buildTag("span.e-text").append(w.buildTag("span.e-datepicker-headertext").text(this._formatter(this._calendarDate,this.model.headerFormat)).attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(w.buildTag("span.e-next").append(w.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this.sfCalendar),this._enableHeader(this._showHeader);var e=w.buildTag("table.e-dp-viewdays","",{},{cellspacing:2}).data("e-table","data").attr({role:"grid","aria-activedescendant":""}).attr(this._isIE8?{unselectable:"on"}:{});this.sfCalendar.append(e),this._renderCalendar(this),this._startLevel(this.model.startLevel),w.buildTag("div.e-footer").append(w.buildTag("span.e-footer-icon")).append(w.buildTag("span.e-footer-text")).appendTo(this.sfCalendar),b(".e-footer-text",this.sfCalendar).html(this._localizedLabels.buttonText),this._enableFooter(this.model.showFooter)},_enableHeader:function(e){e?b(".e-header",this.sfCalendar).show():b(".e-header",this.sfCalendar).hide()},_enableFooter:function(e){e?b(".e-footer",this.sfCalendar).show():b(".e-footer",this.sfCalendar).hide()},_checkArrows:function(e,t){this._preArrowCondition(e,this.model.minDate.getFullYear()),this._nextArrowCondition(t,this.model.maxDate.getFullYear())},_checkDateArrows:function(){this._preArrowCondition(this._tempMinDate,this.model.minDate),this._nextArrowCondition(this._tempMaxDate,this.model.maxDate)},_preArrowCondition:function(e,t){e<=t?this.sfCalendar.find(".e-arrow-sans-left").addClass("e-disable").attr({"aria-disabled":!0}):this.sfCalendar.find(".e-arrow-sans-left").removeClass("e-disable").attr({"aria-disabled":!1})},_nextArrowCondition:function(e,t){t<=e?this.sfCalendar.find(".e-arrow-sans-right").addClass("e-disable").attr({"aria-disabled":!0}):this.sfCalendar.find(".e-arrow-sans-right").removeClass("e-disable").attr({"aria-disabled":!1})},_previousNextHandler:function(e){var t,i;if(this.model.readOnly||!this.model.enabled||b(e.target).hasClass("e-disable"))return!1;switch(e.preventDefault(),t=b("table",this.sfCalendar),t=this._navigateFrom(t),e=!!(b(e.target).is("a")?b(e.target.parentNode):b(e.target)).hasClass("e-prev"),this._processNextPrevDate(e),b("table",this.sfCalendar).get(0).className){case"e-dp-viewdays":i="month";break;case"e-dp-viewmonths":i="year";break;case"e-dp-viewyears":i="decade";break;case"e-dp-viewallyears":i="century"}this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:i,navigateFrom:t})},_processNextPrevDate:function(e){var t,i,a,n;if(this._DRPdisableFade&&(s=new Date(this.sfCalendar.find("td.current-month").attr("date")),this._dateValue=s),e&&this.sfCalendar.find(".e-arrow-sans-left").hasClass("e-disable")||!e&&this.sfCalendar.find(".e-arrow-sans-right").hasClass("e-disable"))return!1;switch((t=b("table",this.sfCalendar)).get(0).className){case"e-dp-viewdays":if(a=this.model.stepMonths,e){if(this._dateValue<=this.model.minDate)return this._flag=!1}else if(this._dateValue>=this.model.maxDate)return this._flag=!1;this._flag=!0,this._addMonths(this._dateValue,e?-a:a),this._clickedDate&&(this._calendarDate=this._clickedDate),this._dateValue=this._dateValue<this.model.minDate?new Date(this.model.minDate.toString()):this._dateValue,this._dateValue=this._dateValue>this.model.maxDate?new Date(this.model.maxDate.toString()):this._dateValue,this._renderCalendar(this,this._dateValue),b(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat)),this._addFocus("day",this._hoverDate),a=this._findFirstLastDay(new Date(this._dateValue.toString())),this._preArrowCondition(a.firstDay,this.model.minDate),this._nextArrowCondition(a.lastDay,this.model.maxDate);break;case"e-dp-viewmonths":if((a=this._dateValue).setFullYear(b(".e-datepicker-headertext",this.sfCalendar).text()),e){if(a.getFullYear()<=this.model.minDate.getFullYear())return this._flag=!1}else if(a.getFullYear()>=this.model.maxDate.getFullYear())return this._flag=!1;this._flag=!0,this._addYears(a,e?-1:1),this._renderCalendar(this,a),i=a.getFullYear(),b(".e-datepicker-headertext",this.sfCalendar).text(i),b("tbody,tr.e-week-header",t).not(".e-datepicker-months").hide(),b(b(t).find(".e-datepicker-months")).show(),this._addFocus("month",this._hoverMonth),this._checkArrows(i,i);break;case"e-dp-viewyears":if((a=this._dateValue).setFullYear(b(t).find(".e-state-hover").text()),e){if(parseInt(b("td.e-year-first:first").text())<=this.model.minDate.getFullYear())return this._flag=!1}else if(parseInt(b("td.e-year-last:first").prev().text())>=this.model.maxDate.getFullYear())return this._flag=!1;this._flag=!0,b(t).find(".e-state-hover").hasClass("e-year-first")&&e||b(t).find(".e-state-hover").hasClass("e-year-last")&&!e?this._dateValue.setFullYear(a.getFullYear()):b(t).find(".e-state-hover").hasClass("e-year-first")&&!e?this._dateValue.setFullYear(a.getFullYear()+11):b(t).find(".e-state-hover").hasClass("e-year-last")&&e?this._dateValue.setFullYear(a.getFullYear()-11):this._dateValue.setFullYear(a.getFullYear()+(e?-10:10)),this._renderCalendar(this,this._dateValue),n=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),b(".e-datepicker-headertext",this.sfCalendar).text(n+1+" - "+(n+10)),b("tbody,tr.e-week-header",t).not(".e-datepicker-years").hide(),b(b(t).find(".e-datepicker-years")).show(),this._addFocus("year",this._hoverYear+(b(".e-year-first.e-hidedate").length?-1:0)),this._checkArrows(n+1,n+10);break;case"e-dp-viewallyears":if(e){if(parseFloat(b("td.e-allyear-first",t.get(0)).text().split("-")[1])<=this.model.minDate.getFullYear())return this._flag=!1}else if(parseFloat(b("td.e-allyear-last",t.get(0)).prev().text().split("-")[1])>=this.model.maxDate.getFullYear())return this._flag=!1;this._flag=!0,this._dateValue.setFullYear((this._lastHoveredYear||this._dateValue.getFullYear())+(e?-100:100)),this._lastHoveredYear=this._dateValue.getFullYear(),this._renderCalendar(this,this._dateValue),n=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%100+1),i=parseFloat(b("td.e-allyear-last",t.get(0)).prev().text().split("-")[1]),b(".e-datepicker-headertext",this.sfCalendar).text(n+1+" - "+i),b("tbody,tr.e-week-header",t).not(".e-datepicker-allyears").hide(),b(b(t).find(".e-datepicker-allyears")).show(),this._addFocus("allyear",this._hoverAllYear+(b(".e-allyear-first.e-hidedate").length?-1:0)),this._checkArrows(n+1,i)}this._layoutChanged()},_addFocus:function(e,i){var t,s="day"==e?"current-month":"e-current-"+e,s=this.sfCalendar.find("tbody tr td."+s);return"month"==e&&b(s).each(function(e,t){parseInt(b(t).attr("index"))==parseInt(i)&&(i=e)}),t=(t=s[i])||s.last(),this.sfCalendar.find("table td").removeClass("e-state-hover"),b(t).addClass("e-state-hover"),this._setActiveState(e),i},_setActiveState:function(e){var i,t,s;if(this.model.value instanceof Date){var a=this.sfCalendar.find("tbody tr td.e-current-"+e),n=this,o=-1;switch(e){case"month":this.model.value.getFullYear()===parseInt(b(".e-text",this.sfCalendar).text())&&b(a).each(function(e,t){parseInt(b(t).attr("index"))==parseInt(n.model.value.getMonth())&&(o=e)});break;case"year":i=this.model.value.getFullYear(),b(a).each(function(e,t){parseInt(t.innerHTML)==parseInt(i)&&(o=e)});break;case"allyear":t=parseInt(this.model.value.getFullYear())-(parseInt(this.model.value.getFullYear())%10+1),s=1+t+" - "+(10+t),b(a).each(function(e,t){parseInt(t.innerHTML)==parseInt(s)&&(o=e)})}(e=a[o])&&(this.sfCalendar.find("table td").removeClass("e-active"),b(e).hasClass("e-hidedate")||b(e).addClass("e-active"))}},_setFocusByName:function(e,i){var s,t,a=this.sfCalendar.find("tbody tr td.e-current-"+e);return b(a).each(function(e,t){parseInt(t.innerHTML)==parseInt(i)&&(s=e)}),t=(t=a[s])||a.last(),this.sfCalendar.find("table td").removeClass("e-state-hover"),b(t).addClass("e-state-hover"),this._setActiveState(e),s},_getHeaderTxt:function(){return this.sfCalendar.find(".e-datepicker-headertext").text()},_findFirstLastDay:function(e){return y=e.getFullYear(),m=e.getMonth(),{firstDay:new Date(y,m,1),lastDay:new Date(y,m+1,0)}},_forwardNavHandler:function(e){if(this.model.readOnly||!this.model.enabled)return!1;e&&e.preventDefault();var t,i,s=b("table",this.sfCalendar),e=b("table",this.sfCalendar).get(0).className;switch(navFrom=this._navigateFrom(s),e){case"e-dp-viewdays":this._hoverMonth=this._getDateObj(s.find(".e-state-hover")).getMonth()||this._getDateObj(s.find(".e-active")).getMonth()||0,this._DRPdisableFade&&(this._renderCalendar(this,this._calendarDate),b(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat))),this._startLevel("year"),i="year",this._addFocus("month",this._hoverMonth);break;case"e-dp-viewmonths":t=this._getHeaderTxt(),this._startLevel("decade"),i="decade",this._hoverYear=this._setFocusByName("year",t);break;case"e-dp-viewyears":t=this._getHeaderTxt(),this._startLevel("century"),i="century",this._hoverAllYear=this._setFocusByName("allyear",t)}"century"!=navFrom&&this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:i,navigateFrom:navFrom}),this._layoutChanged()},_cellSelection:function(){var e;b("table",this.sfCalendar);switch(b("table",this.sfCalendar).get(0).className){case"e-dp-viewmonths":this._hoverMonth=this._addFocus("month",this._dateValue.getMonth());break;case"e-dp-viewyears":e=new Date(this._dateValue.toString()),this._navigationToPrevNext("year"),this._dateValue=e,this._hoverYear=this._setFocusByName("year",this._dateValue.getFullYear());break;case"e-dp-viewallyears":e=new Date(this._dateValue.toString()),this._navigationToPrevNext("allyear"),this._dateValue=e,e=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),this._hoverAllYear=this._setFocusByName("allyear",1+e+" - "+e+10)}this._layoutChanged()},_navigationToPrevNext:function(e){var i,t=this.sfCalendar.find("tbody tr td.e-current-"+e),s=this._dateValue.getFullYear();b(t).each(function(e,t){parseInt(t.innerHTML)==parseInt(s)&&(i=e)}),(t=t[i])&&(b(t).hasClass("e-"+e+"-last")?this._processNextPrevDate(!1):b(t).hasClass("e-"+e+"-first")&&this._processNextPrevDate(!0))},_navigateFrom:function(e){var t;switch(e.get(0).className){case"e-dp-viewdays":t="month";break;case"e-dp-viewmonths":t="year";break;case"e-dp-viewyears":t="decade";break;case"e-dp-viewallyears":t="century"}return t},_backwardNavHandler:function(e){if(this._animating=!0,this.model.readOnly||!this.model.enabled)return!1;var t,i,s=e.type?(e.preventDefault(),b(e.currentTarget)):e,a=b("table",this.sfCalendar),n=b("table",this.sfCalendar).get(0).className,o=this;switch(navFrom=this._navigateFrom(a),n){case"e-dp-viewmonths":a.removeClass("e-dp-viewmonths").addClass("e-dp-viewdays"),this._lastHoveredMonth=parseInt(b(s).attr("index")),this._dateValue=new Date(this._dateValue.getFullYear(),this._lastHoveredMonth,this._dateValue.getDate()),this._DRPdisableFade&&this._trigger("_month_Loaded",{currentTarget:e.currentTarget}),this._renderCalendar(this,this._dateValue),b("tbody",a).not(".e-datepicker-days,.e-week-header").hide(),b(b(a).find(".e-datepicker-days,.e-week-header")).fadeIn("fast",function(){o._addFocus("day",o._hoverDate||0),o._animating=!1}),b(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat)),i="month";break;case"e-dp-viewyears":a.removeClass("e-dp-viewyears").addClass("e-dp-viewmonths"),this._lastHoveredYear=parseInt(s.text()),this._dateValue.setFullYear(this._lastHoveredYear),this._renderCalendar(this,this._dateValue),b("tbody,tr.e-week-header",a).not(".e-datepicker-months").hide(),w.isNullOrUndefined(this._hoverMonth)&&!w.isNullOrUndefined(this._dateValue)&&(this._hoverMonth=this._dateValue.getMonth()),b(b(a).find(".e-datepicker-months")).fadeIn("fast",function(){o._addFocus("month",o._hoverMonth||0),o._animating=!1}),t=s.text(),b(".e-datepicker-headertext",this.sfCalendar).text(t),this._checkArrows(t,t),i="year";break;case"e-dp-viewallyears":t=s.text().split("-"),a.removeClass("e-dp-viewallyears").addClass("e-dp-viewyears"),t[0]<this.model.minDate.getFullYear()?t[0]=this.model.minDate.getFullYear().toString():t[0]>this.model.maxDate.getFullYear()&&(t[0]=this.model.maxDate.getFullYear().toString()),this._renderCalendar(this,new Date(t[0],0,1)),b("tbody,tr.e-week-header",a).not(".e-datepicker-years").hide(),b(b(a).find(".e-datepicker-years")).fadeIn("fast",function(){o._addFocus("year",o._hoverYear||0),o._animating=!1}),b(".e-datepicker-headertext",this.sfCalendar).text(t[0]+" - "+t[1]),this._checkArrows(t[0],t[1]),i="decade",this._dateValue=new Date(this._dateValue.setFullYear(parseInt(b.trim(t[0]))+(this._lastHoveredYear?this._lastHoveredYear%10:this._dateValue.getFullYear()%10)));break;default:this._clearSelected(),this.sfCalendar.find("table td").removeClass("e-state-hover"),s.not("td.other-month.e-hidedate").addClass("e-active").attr("aria-selected",!0),this._addSelected(),this._hoverDate=this._getDateObj(s).getDate()-1,this._dateValue=new Date(s.attr("date")),this._clickedDate=new Date(s.attr("date")),this._animating=!1}"month"!=navFrom&&this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:i,navigateFrom:navFrom}),this._layoutChanged()},_startLevel:function(e){var t,i,s,a=b("table",this.sfCalendar),n=b(".e-datepicker-headertext",this.sfCalendar),o=this._dateValue;switch(e){case"decade":a.removeClass("e-dp-viewallyears e-dp-viewmonths e-dp-viewdays").addClass("e-dp-viewyears"),b("tbody,tr.e-week-header",a).not(".e-datepicker-years").hide(),b(b(a).find(".e-datepicker-years")).show(),o=this.model.enableStrictMode&&this._calendarDate<this._dateValue?this._calendarDate:o,s=parseInt(o.getFullYear())-(parseInt(o.getFullYear())%10+1),n.text((t=s+1)+" - "+(i=s+10)),this._checkArrows(t,i),this._hoverYear=this._setFocusByName("year",o.getFullYear());break;case"century":this._calendarDate<this._dateValue||this._renderCalendar(this,o),a.removeClass("e-dp-viewyears e-dp-viewdays e-dp-viewmonths").addClass("e-dp-viewallyears"),b("tbody,tr.e-week-header",a).not(".e-datepicker-allyears").hide(),b(b(a).find(".e-datepicker-allyears")).show(),t=parseFloat(b("td.e-allyear-first",a.get(0)).text().split("-")[1])+1,i=parseFloat(b("td.e-allyear-last",a.get(0)).prev().text().split("-")[1]),n.text(t+" - "+i),this._checkArrows(t,i),s=parseInt(o.getFullYear())-(parseInt(o.getFullYear())%10+1),this._hoverAllYear=this._setFocusByName("allyear",s+1+" - "+(s+10));break;case"year":a.removeClass("e-dp-viewyears e-dp-viewallyears e-dp-viewdays").addClass("e-dp-viewmonths"),b("tbody,tr.e-week-header",a).hide(),b(b(a).find(".e-datepicker-months")).show(),t=(this.model.enableStrictMode&&this._calendarDate<this._dateValue?this._calendarDate:o).getFullYear(),n.text(t),this._checkArrows(t,t),this._hoverMonth=o.getMonth(),this._addFocus("month",this._hoverMonth);break;case"month":a.removeClass("e-dp-viewyears e-dp-viewallyears e-dp-viewmonths").addClass("e-dp-viewdays ")}},_depthLevel:function(e){var t=this.sfCalendar;switch(e){case"year":b(t.find(".e-current-year,.e-current-allyear")).on("click",b.proxy(this._backwardNavHandler,this)),this._on(b(".e-current-month",this.sfCalendar),"click",b.proxy(this._onDepthSelectHandler,this));break;case"decade":b(t.find(".e-current-allyear")).on("click",b.proxy(this._backwardNavHandler,this)),b(".e-current-year",this.sfCalendar).on("click",b.proxy(this._onDepthSelectHandler,this));break;case"century":b(t.find(".e-current-allyear")).on("click",b.proxy(this._onDepthSelectHandler,this));break;case"month":this._on(t.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",b.proxy(this._backwardNavHandler,this)),this._on(t.find(".current-month , .other-month"),"click",b.proxy(this._onSetCancelDateHandler,this))}},_onDepthSelectHandler:function(e){if(this.model.readOnly||!this.model.enabled)return!1;b(e.target).hasClass("e-current-month")?this._dateValue=new Date(this._dateValue.setMonth(parseInt(e.target.attributes.index.value))):(b(e.target).hasClass("e-current-year")||b(e.target).hasClass("e-current-allyear"))&&(this._dateValue=new Date(this._dateValue.setFullYear(parseInt(e.target.innerHTML)))),this._onSetCancelDateHandler(e)},_datepickerMonths:function(e,t,i){function s(e){return document.createElement(e)}for(var a,n,o,l=0,r=0;r<3;r++){for(a=b(s("tr")),n=0;n<4;n++)o=b(s("td")).addClass("e-current-month e-state-default").attr({index:l}).attr(this._isIE8?{unselectable:"on"}:{}).html(this.Date.abbrMonthNames[l++]),(i.getFullYear()<this.model.minDate.getFullYear()||i.getFullYear()>this.model.maxDate.getFullYear()||i.getFullYear()<=this.model.minDate.getFullYear()&&l<this.model.minDate.getMonth()+1||i.getFullYear()>=this.model.maxDate.getFullYear()&&l>this.model.maxDate.getMonth()+1)&&(o.addClass("e-hidedate"),o.removeClass("e-current-month")),a.append(o);e.append(a)}t.append(e),t=i.getFullYear(),this._checkArrows(t,t)},_datepickerYears:function(e,t,i){function s(e){return document.createElement(e)}for(var a,n,o,l,r=parseInt(i)-(parseInt(i)%10+1),h=[],d=0;d<12;d++)h.push(r+d);for(n=a=0;n<3;n++){for(o=b(s("tr")),d=0;d<4;d++)(l=b(s("td"))).attr(this._isIE8?{unselectable:"on"}:{}),0==a?l.addClass("e-year-first e-current-year "):11==a?l.addClass("e-year-last e-current-year "):l.addClass("e-current-year e-state-default"),(h[a]<this.model.minDate.getFullYear()||h[a]>this.model.maxDate.getFullYear())&&(l.addClass("e-hidedate"),l.removeClass("e-current-year")),l.html(h[a++]),o.append(l);e.append(o)}t.append(e),this._checkArrows(h[0],h[h.length])},_datepickerAllYears:function(e,t,i){for(var s,a,n,o,l=parseInt(i)-(parseInt(i)%100+10),r=[],h=this._isIE8||this._isIE9?"":"\n",d=0;d<12;d++)r.push(parseInt(l)+" -"+h+parseInt(l+9)),l+=10;for(a=s=0;a<3;a++){for(n=b(document.createElement("tr")),d=0;d<4;d++)(o=b(document.createElement("td"))).attr(this._isIE8?{unselectable:"on"}:{}),0==s?o.addClass("e-allyear-first e-current-allyear "):11==s?o.addClass("e-allyear-last e-current-allyear "):o.addClass("e-current-allyear e-state-default"),(parseInt(r[s].split("-\n")[1])<this.model.minDate.getFullYear()||parseInt(r[s].split("-\n")[0])>this.model.maxDate.getFullYear())&&(o.addClass("e-hidedate"),o.removeClass("e-current-allyear")),o.html(r[s++]),n.append(o);e.append(n)}t.append(e)},_renderHeader:function(e){var t,i,s,a,n,o=b(document.createElement("thead")),l=w.preferredCulture(this.model.locale).calendars.standard.days;if("none"!=e.model.dayHeaderFormat)for(t=w.buildTag("tr.e-week-header").attr({role:"columnheader"}).attr(this._isIE8?{unselectable:"on"}:{}),i=this.Date.firstDayOfWeek;i<this.Date.firstDayOfWeek+7;i++)n=l.names[s=i%7],a="short"==e.model.dayHeaderFormat?l.namesAbbr[s]:"long"==e.model.dayHeaderFormat?n:l.namesShort[s],n=w.buildTag("th","",{},{scope:"col",abbr:n,date:n,title:this._formatter(n,"dddd"),class:0==s||6==s?"e-week-end":"e-week-day"}).attr(this._isIE8?{unselectable:"on"}:{}).html(a),t.append(n);return o.append(t)},_renderCalendar:function(e,t){e=b.extend({},w.DatePicker.prototype.defaults,e),this.Date.firstDayOfWeek=this.model.startDay,t=t||this._calendarDate||this._zeroTime(new Date),(i=b("table",this.sfCalendar)).empty(),i.append(this._renderHeader(e)),d=w.buildTag("tbody.e-datepicker-allyears","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerAllYears(d,i,t.getFullYear()),d=w.buildTag("tbody.e-datepicker-years","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerYears(d,i,t.getFullYear());var i,s,a,n,o,l,r=e.model.month==x?t.getMonth():e.model.month,e=e.model.year||t.getFullYear(),h=new Date(e,r,1,0,0,0),e=this.Date.firstDayOfWeek-h.getDay()+1;1<e&&(e-=7),s=Math.ceil((-1*e+1+this._getDaysInMonth(h))/7),this._addDays(h,e-1),a=this._zeroTime(new Date),n=this._calendarDate,d=w.buildTag("tbody.e-datepicker-months","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerMonths(d,i,t);for(var d=w.buildTag("tbody.e-datepicker-days","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),c=0,u=!0,m=!0;c++<s;){for(o=jQuery(document.createElement("tr")),l=0;l<7;l++){var p=h.getMonth()==r,f=this._isSpecialDates(h),_=this._checkDisableRange(h),g=this._getIndex,v=b(document.createElement("td")).html(f?"<span></span>"+h.getDate():h.getDate()+"").attr({date:h.toDateString(),title:this.model.showTooltip?f&&this.model.specialDates[g][this._mapField._tooltip]?this.model.specialDates[g][this._mapField._tooltip]:this._formatter(h,this.model.tooltipFormat):"","aria-selected":!1,role:"gridcell"}).attr(this._isIE8?{unselectable:"on"}:{}).addClass((p?"current-month e-state-default ":"other-month e-state-default ")+(this._isWeekend(h)?this._ejHLWeekEnd?"e-dp-weekend e-week-end ":this.model.highlightWeekend?"e-week-end ":"":"e-week-day ")+(p&&h.getTime()==a.getTime()?"today ":""));v.find("span:first-of-type").addClass(f?this.model.specialDates[g][this._mapField._icon]?"e-special-date-icon "+this.model.specialDates[g][this._mapField._icon]+" ":"e-special-day":""),v.addClass(f&&this.model.specialDates[g][this._mapField._custom]||""),_&&this._disableDates({date:h,element:v}),n.getTime()==h.getTime()&&p&&(v.hasClass("e-hidedate")||(this.model.value?(v.addClass("e-active").attr({"aria-selected":!0}),"week"==this.model.highlightSection&&o.addClass("e-selected-week"),"month"==this.model.highlightSection&&d.addClass("e-selected-month"),"workdays"==this.model.highlightSection&&o.addClass("e-work-week")):v.addClass("e-state-hover").attr({"aria-selected":!1})),this._hoverDate||(v.hasClass("e-hidedate")||v.addClass("e-state-hover"),this._hoverDate=h.getDate()-1)),f=!0,(h<this.model.minDate||h>this.model.maxDate)&&(v.addClass("e-hidedate"),v.removeClass("current-month"),this.model.showOtherMonths&&v.removeClass("other-month"),f=m=!1),p&&(f&&u&&(this._tempMinDate=h,m=!(u=!1)),m)&&(this._tempMaxDate=h),this._trigger("beforeDateCreate",{date:h,value:this._formatter(h,this.model.dateFormat),element:v}),o.append(v),h=new Date(h.getFullYear(),h.getMonth(),h.getDate()+1,0,0,0)}d.append(o)}i.append(d),this._DRPdisableFade?(b(d).css("display","block"),b(d).css({display:"table-row-group","vertical-align":"middle","border-color":"inherit"})):this._isIE8||this._isIE7?b(d).css("display","block"):b(d).fadeIn("fast"),this.model.startLevel===this.model.depthLevel||"month"!=this.model.depthLevel&&""!=this.model.depthLevel&&("century"==this.model.startLevel||"decade"==this.model.startLevel&&"century"!=this.model.depthLevel||"year"==this.model.startLevel&&"decade"!=this.model.depthLevel&&"century"!=this.model.depthLevel)?this._depthLevel(this.model.depthLevel):(this._on(i.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",b.proxy(this._backwardNavHandler,this)),this._on(i.find(".current-month , .other-month"),"click",b.proxy(this._onSetCancelDateHandler,this))),this._otherMonthsVisibility(),this._checkDateArrows()},_checkDisableRange:function(e){return!w.isNullOrUndefined(this._disableCollection[e.getFullYear()])&&-1!==jQuery.inArray(e.getMonth(),this._disableCollection[e.getFullYear()])},_initDisableObj:function(){var e,t;for(this._disableCollection={},i=0;i<this.model.blackoutDates.length;i++)(t=this._checkInstanceType(this.model.blackoutDates[i]))&&(e=t.getFullYear(),t=t.getMonth(),w.isNullOrUndefined(this._disableCollection[e])&&(this._disableCollection[e]=[]),-1==jQuery.inArray(t,this._disableCollection[e]))&&this._disableCollection[e].push(t)},_disableDates:function(e){for(i=0;i<this.model.blackoutDates.length;i++){var t=this._checkInstanceType(this.model.blackoutDates[i]);t&&+e.date==+t&&e.element.removeClass("current-month").addClass("e-hidedate")}},_keyboardNavigation:function(e){var t;if(this._animating)return!1;if(!this._isOpen||37!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&40!=e.keyCode&&13!=e.keyCode&&36!=e.keyCode&&35!=e.keyCode)if(this.model.displayInline||27!=e.keyCode&&9!=e.keyCode){if(e.altKey&&40==e.keyCode)return this.show(),!1}else this.hide();else{if(e.preventDefault&&e.preventDefault(),e.altKey)return 13==e.keyCode?(this._setCurrDate(e),!1):void 0;(t={row:null,col:null}).col=this.sfCalendar.find("tbody tr td.e-state-hover").index(),t.row=this.sfCalendar.find("tbody tr td.e-state-hover").parent().index(),t.col=-1!=t.col?t.col+1:this.sfCalendar.find("tbody tr td.e-active").index()+1,t.row=-1!=t.row?t.row+1:this.sfCalendar.find("tbody tr td.e-active").parent().index()+1;var i,s;switch(this.sfCalendar.find("table")[0].className){case"e-dp-viewallyears":i=this._changeRowCol(t,e.keyCode,3,4,"yearall",e.ctrlKey),e.ctrlKey||(this._hoverAllYear=this.sfCalendar.find("tbody.e-datepicker-allyears tr td").index(i));break;case"e-dp-viewyears":i=this._changeRowCol(t,e.keyCode,3,4,"year",e.ctrlKey),e.ctrlKey||(this._hoverYear=this.sfCalendar.find("tbody.e-datepicker-years tr td").index(i));break;case"e-dp-viewmonths":i=this._changeRowCol(t,e.keyCode,3,4,"month",e.ctrlKey),e.ctrlKey||(this._hoverMonth=this.sfCalendar.find("tbody.e-datepicker-months tr td").index(i));break;case"e-dp-viewdays":s=this.sfCalendar.find("tbody.e-datepicker-days tr").length,i=this._changeRowCol(t,e.keyCode,s,7,"day",e.ctrlKey),e.ctrlKey||(this._hoverDate=this._getDateObj(i).getDate()-1)}e.ctrlKey||(this.sfCalendar.find("table td").removeClass("e-state-hover"),i.addClass("e-state-hover"))}},_changeRowCol:function(e,t,i,s,a,n){var o,l,r,h,d={parent:null,child:null};switch(a){case"day":o="tbody.e-datepicker-days tr td.current-month",d.parent=".e-datepicker-days",d.child=".current-month";break;case"month":o="tbody.e-datepicker-months tr td.e-current-month",d.parent=".e-datepicker-months",d.child=".e-current-month";break;case"year":o="tbody.e-datepicker-years tr td.e-current-year",d.parent=".e-datepicker-years",d.child=".e-current-year";break;case"yearall":o="tbody.e-datepicker-allyears tr td.e-current-allyear",d.parent=".e-datepicker-allyears",d.child=".e-current-allyear"}if(e.row<=0&&e.col<=0)return this.sfCalendar.find(o+":first");switch(t){case 36:return this.sfCalendar.find(o+":first");case 35:return this.sfCalendar.find(o+":last");case 38:if(n&&this.model.allowDrillDown)this._forwardNavHandler();else{if(!(1<e.row))return this._processNextPrevDate(!0),this.sfCalendar.find(o+":nth-child("+e.col+"):last");--e.row}if((l=this._getCell(e,d)).length<=0){if(null!==(l=this._findVisible(e,d,"up")))return l;this._processNextPrevDate(!0),l=this.sfCalendar.find(o+":nth-child("+e.col+"):last")}return l;case 37:if(n)return this._processNextPrevDate(!0),this.sfCalendar.find("tbody tr td.e-state-hover");if(1<e.col)--e.col;else{if(!(1<e.row))return this._processNextPrevDate(!0),this.sfCalendar.find(o+":last");e={row:e.row-1,col:s}}if((l=this._getCell(e,d)).length<=0){if(null!==(l=this._findVisible(e,d,"left")))return l;this._processNextPrevDate(!0),l=this.sfCalendar.find(o+":last")}return l;case 39:if(n)return this._processNextPrevDate(!1),this.sfCalendar.find("tbody tr td.e-state-hover");if(e.col<s)e.col+=1;else{if(!(e.row<i))return this._processNextPrevDate(!1),this.sfCalendar.find(o+":first");e={row:e.row+1,col:1}}if((l=this._getCell(e,d)).length<=0){if(null!==(l=this._findVisible(e,d,"right")))return l;this._processNextPrevDate(!1),l=this.sfCalendar.find(o+":first")}return l;case 40:if(!n){if(!(e.row<i))return this._processNextPrevDate(!1),this.sfCalendar.find(o+":nth-child("+e.col+"):first");if(e.row+=1,(l=this._getCell(e,d)).length<=0){if(null!==(l=this._findVisible(e,d,"down")))return l;this._processNextPrevDate(!1),l=this.sfCalendar.find(o+":nth-child("+e.col+"):first")}return l}case 13:l=b("table",this.sfCalendar).get(0).className,r=this._getCell(e,d),h=b(r)[0],"e-dp-viewmonths"==l&&"year"==this.model.startLevel&&"year"==this.model.depthLevel?(this._dateValue=new Date(this._dateValue.setMonth(parseInt(h.attributes.index.value))),this._onSetCancelDateHandler({type:null,target:r})):"e-dp-viewyears"==l&&"decade"==this.model.startLevel&&"decade"==this.model.depthLevel||"e-dp-viewallyears"==l&&"century"==this.model.startLevel&&"century"==this.model.depthLevel?(this._dateValue=new Date(this._dateValue.setFullYear(parseInt(h.innerHTML))),this._onSetCancelDateHandler({type:null,target:r})):"e-dp-viewdays"==l?(this._backwardNavHandler(r),this._onSetCancelDateHandler({type:null,target:r})):this._backwardNavHandler(r)}return this._getCell(e,d)},_findVisible:function(e,t,s){var a=e.col,n=e.row,o=t.child.slice(1,t.child.length);for(i=0;0<=i;i++){if((nextElement=this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+n+") td:nth-child("+a+")")).length<=0)return null;if(nextElement.hasClass("e-hidedate")||!nextElement.is(":visible")){if("right"==s||"left"==s?"right"==s?a++:a--:"down"==s?n++:n--,n<=0||n>this.sfCalendar.find("tbody"+t.parent+" tr").length||(a>this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+n+") td").length&&(n++,a=1),a<=0&&(n--,a=this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+n+") td").length),n<=0)||n>this.sfCalendar.find("tbody"+t.parent+" tr").length)return null}else{if(nextElement.hasClass("other-month"))return null;if(nextElement.hasClass(o))return e.col=a,e.row=n,nextElement}}},_getCell:function(e,t){return this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+e.row+") td"+t.child+":nth-child("+e.col+")")},_getDateObj:function(e){return new Date(e.attr("date"))},_touchCalendar:function(e){var t=this.sfCalendar.find("table")[0].className;switch(e.type){case"pinchin":"e-dp-viewdays"!=t&&this._keyboardNavigation({keyCode:13});break;case"pinchout":"e-dp-viewallyears"!=t&&this.model.allowDrillDown&&this._forwardNavHandler();break;case"swipeleft":this._processNextPrevDate(!1);break;case"swiperight":this._processNextPrevDate(!0)}},show:function(e){var t,i;if(this._isOpen)return!1;if((t=this)._popupOpen=!0,i=null!=this._preValue?new Date(this._preValue.toString()):this._preValue,this.model.enabled){if(this.model.displayInline||this._setDatePickerPosition(),this._trigger("beforeOpen",{element:this.sfCalendar,events:e}))return!1;this.sfCalendar.attr({"aria-hidden":"false"}),t._isOpen=!0,this.sfCalendar.slideDown(this.model.enableAnimation?this.animation.open.duration:0,function(){t.model&&!t.model.displayInline&&b(document).on("mousedown",b.proxy(t._onDocumentClick,t))}),this._updateInputVal(),this._refreshLevel(i),this._trigger("open",{prevDate:i,date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}),b(window).on("resize",b.proxy(this._OnWindowResize,this)),this.model.displayInline||this._on(w.getScrollableParents(this.wrapper),"scroll",this.hide),this._isInputBox()&&this.wrapper.addClass("e-active")}},hide:function(e){if(!this._isOpen||this._getInternalEvents||this._trigger("beforeClose",{element:this.sfCalendar,events:e}))return!1;var t=this;this._popupOpen=!1,this.sfCalendar.attr({"aria-hidden":"true"}),this._popClose&&e!=x&&"click"!=e.type||(this.sfCalendar.slideUp(this.model.enableAnimation?this.animation.close.duration:0,function(){t._isOpen=!1,b(document).off("mousedown",b.proxy(t._onDocumentClick,t)),t._setWaterMark()}),""!=this.element.val()&&this._validateInputVal(),this._trigger("close",{prevDate:this._prevDate,date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}),b(window).off("resize",b.proxy(this._OnWindowResize,this)),this._off(w.getScrollableParents(this.wrapper),"scroll",this.hide),this._isInputBox()&&this.wrapper.removeClass("e-active"))},enable:function(){this.model.enabled=!0,this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.prop("disabled",!1),this.dateIcon&&this.dateIcon.removeClass("e-disable").attr({"aria-disabled":!1}),this._isIE8&&this.dateIcon&&this.dateIcon.children().removeClass("e-disable"),this.element.prop("disabled",!1),this._isSupport||this._hiddenInput.prop("disabled",!1),this.sfCalendar.removeClass("e-disable").attr({"aria-disabled":!1})},disable:function(){this.model.enabled=!1,this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.element.attr("disabled","disabled"),this.dateIcon&&this.dateIcon.addClass("e-disable").attr({"aria-disabled":!0}),this._isIE8&&this.dateIcon&&this.dateIcon.children().addClass("e-disable"),this.element.attr("disabled","disabled"),this._isSupport||this._hiddenInput.attr("disabled","disabled"),this.sfCalendar.addClass("e-disable").attr({"aria-disabled":!0}),this._isOpen&&(this.element.is(":input")&&this.element.blur(),this.model.displayInline||this.hide())},getValue:function(){return this._formatter(this.model.value,this.model.dateFormat)},_wireEvents:function(){this._allowQuickPick(this.model.allowDrillDown),this._on(b(".e-next",this.sfCalendar),"click",b.proxy(this._previousNextHandler,this)),this._on(b(".e-prev",this.sfCalendar),"click",b.proxy(this._previousNextHandler,this)),this.model.displayInline||(this.sfCalendar.on("mouseenter touchstart",b.proxy(function(){this._popClose=!0},this)),this.sfCalendar.on("mouseleave touchend",b.proxy(function(){this._popClose=!1},this))),this.element.is(":input")&&this.model.allowEdit&&(this._on(this.element,"blur",this._onFocusOut),this._on(this.element,"focus",this._onFocusIn),this._on(this.element,"keydown",this._onKeyDown)),this.model.allowEdit||(this.element.attr("readonly","readonly"),this.element.on("mousedown",b.proxy(this._showDatePopUp,this))),this.model.showFooter&&this._on(b(".e-footer",this.sfCalendar),"click",this._setCurrDate),this._on(this.sfCalendar,"pinchin pinchout swipeleft swiperight",b.proxy(this._touchCalendar,this))},_bindDateButton:function(){this._on(this.dateIcon,"mousedown",this._showDatePopUp),this.model.allowEdit&&this.element.off("mousedown",b.proxy(this._showDatePopUp,this))},_bindInputEvent:function(){this._off(this.dateIcon,"mousedown",this._showDatePopUp)},_specificFormat:function(){var e=w.globalize._getDateParseRegExp(w.globalize.findCulture(this.model.locale).calendar,this.model.dateFormat);return-1<b.inArray("dddd",e.groups)||-1<b.inArray("ddd",e.groups)},_onFocusOut:function(e){var t;this._isFocused=!1,t=null!=this._preValue?new Date(this._preValue.toString()):this._preValue,this._validateOnFocusOut(this._validateValue(),e),this.wrapper.removeClass("e-focus"),this._isOpen&&!this.model.displayInline||this._setWaterMark()||this._compareDate(this._preValue,this._parseDate(this.element.val(),this.model.dateFormat))||this._updateInputVal(),this._isOpen&&!this.model.displayInline||this._refreshLevel(t),""==this.element.val()||this._isOpen&&!this.model.displayInline||this._validateInputVal(),this.element.off("keydown",b.proxy(this._keyboardNavigation,this)),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),e=this.element.val(),t={prevDate:this._prevDate,value:e},this._specificFormat()?this._prevDate!=e&&this._setDateValue(e,!0):this._setDateValue(e),this.model.value||this._clearSelected(),this._trigger("focusOut",t),this._checkErrorClass()},_onFocusIn:function(e){this._isSupport&&(e.preventDefault(),this._isFocused=!0),this.wrapper.removeClass("e-error").attr("aria-invalid","false"),this.isValidState=!0,this.wrapper.addClass("e-focus"),this.model.readOnly||(this._isSupport||this._hiddenInput.css("display","none"),this.element.on("keydown",b.proxy(this._keyboardNavigation,this)),this.model.showPopupButton||this.model.readOnly||this.show(e),this.model.showPopupButton||this._on(this.element,"click",this._elementClick),this._trigger("focusIn",{date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}))},_elementClick:function(e){this._popupOpen||this.show(e)},_removeWatermark:function(){""==this.element.val()||this._isSupport||this._hiddenInput.css("display","none")},_refreshPopup:function(){this._refreshDatepicker(),this._startLevel(this.model.startLevel)},_refreshLevel:function(e){var t;this.model.startLevel==this.model.depthLevel&&"month"!=this.model.startLevel&&(t=this._stringToObject(this.element.val()),t=this._validateYearValue(t))&&!this._compareDate(e,t)&&this._refreshPopup()},_validateOnFocusOut:function(e,t){var i,s=null!=this._preValue?this._calendarDate:this._preValue,a=this._formatter(s,this.model.dateFormat);this._specificFormat()&&e>this.model.minDate&&e<this.model.maxDate?null==e?this.model.value=s:(this.model.value=e,this._formatter(e,this.model.dateFormat,this.model.locale)):this._formatter(this._parseDate(this._formatter(new Date,"MM/dd/yyyy")),this.model.dateFormat),i=s=!1,null==e||this.model.enableStrictMode?null!=e||this.model.enableStrictMode?e?(e<this.model.minDate||e>this.model.maxDate?(i=!(this.isValidState=!1),this._calendarDate=e<this.model.minDate?this.model.minDate:this.model.maxDate):this.isValidState=!0,this._triggerChangeEvent(t),i&&this._getInternalEvents&&this._trigger("outOfRange")):(this.isValidState=!1,this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)):(null==this._preTxtValue||""==this.element.val()?(this.element.val(""),this._isSupport||this._hiddenInput.css("display","block")):this.element.val(a),this._triggerChangeEvent(t)):(w.isNullOrUndefined(this.model.value)&&(this.model.value=this._parseDate(this.element.val())),this.model.maxDate<this.model.minDate&&(this.model.minDate=this.model.maxDate),this.model.enableStrictMode||(e?(e<this.model.minDate||e>this.model.maxDate)&&(s=!0,this._calendarDate=e=e<this.model.minDate?this.model.minDate:this.model.maxDate):(this.element.val(""),this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)),this.isValidState=!0),s&&this.element.val(this._formatter(e,this.model.dateFormat)),this._compareDate(this._preValue,this._parseDate(this.element.val(),!0))||this._triggerChangeEvent(t))},_onKeyDown:function(e){var t;13===e.keyCode&&(t=null!=this._preValue?new Date(this._preValue.toString()):this._preValue,this._validateOnFocusOut(this._validateValue(),e),this._isOpen&&!this.model.displayInline||this._setWaterMark()||this._compareDate(this._preValue,this._parseDate(this.element.val(),this.model.dateFormat))||this._updateInputVal(),this._isOpen&&!this.model.displayInline||this._refreshLevel(t),""==this.element.val()||this._isOpen&&!this.model.displayInline||this._validateInputVal(),this._checkErrorClass())},_showhidePopup:function(e){if(!this.model.enabled)return!1;this._isOpen?(this._isFocused||!this.element.is(":input")||w.isTouchDevice()||this.element.focus(),this._cancelValue||this.hide(e)):(this._isFocused||!this.element.is(":input")||w.isTouchDevice()||this.element.focus(),this.show(e))},_compareDate:function(e,t){return+e==+t},_validateDate:function(e){var t,s=!0;if(null!=e){for(i=0;i<this.model.blackoutDates.length;i++)(t=this._checkInstanceType(this.model.blackoutDates[i]))&&+e==+t&&(s=!1);(e<this.model.minDate||e>this.model.maxDate)&&this.model.enableStrictMode&&(this.isValidState=s=!1)}return s},_triggerChangeEvent:function(e){var t,i=""==this.element.val()?null:this.element.val();this._prevDate=this._formatter(this._preValue,this.model.dateFormat),t={prevDate:this._prevDate,value:i,isInteraction:!!e},e=this._specificFormat()&&e!=x&&"keydown"==e.type&&this._formatter(this._preValue,this.model.dateFormat,this.model.locale)!=this.element.val()?this._parseDate(this.element.val(),!0):this._specificFormat()&&e!=x&&"blur"==e.type?this.model.value:this._parseDate(i),e=this._validateYearValue(e),this._validateDate(e)||(e=null),this._compareDate(this._preValue,e)?""==this.element.val()&&null==this._prevDate||this.element.val()==this._prevDate||(t.value=this.element.val(),this._trigger("_change",t)):(this._preValue=this.model.value=e,t.value=this._formatter(this.model.value,this.model.dateFormat),this.model.value&&(this._clickedDate=this._calendarDate=this.model.value),this.model.displayInline&&!this._isInputBox()&&this._hiddenInput.attr("value",i),this.model.value||this.model.enableStrictMode||this._setDateValue(this.model.value),t.value=i,this._trigger("_change",t),t.value=this._formatter(this.model.value,this.model.dateFormat),this._trigger("change",t),this._checkErrorClass())},_triggerSelectEvent:function(){var e,t=this.element.val();this._parseDate(t)&&(e={prevDate:this._prevDate,date:this.model.value,value:t,isSpecialDay:this._isSpecialDates(this.model.value)},this._prevDate!=t&&this._parseDate(e.value)&&this.model.value>=this.model.minDate&&this.model.value<=this.model.maxDate&&(this._cancelValue=this._trigger("select",e)),this._dt_drilldown)&&this._trigger("dt_drilldown",e)},_onDocumentClick:function(e){this.model&&(b(e.target).is(this.popup)||b(e.target).parents(".e-popup").is(this.popup)||b(e.target).is(this.wrapper)||b(e.target).parents(".e-datewidget").is(this.wrapper)?(b(e.target).is(this.popup)||b(e.target).parents(".e-popup").is(this.popup))&&e.preventDefault():this.hide(e))},_OnWindowResize:function(){this._setDatePickerPosition()},_showDatePopUp:function(e){var t=!1;if(e.button?t=2==e.button:e.which&&(t=3==e.which),!t&&(this._isSupport||this.model.showPopupButton||(e.preventDefault(),this._onFocusIn()),!this.model.readOnly)){if(e.preventDefault(),!this.model.enabled&&this.model.displayInline)return!1;this._showhidePopup(e)}},_layoutChanged:function(){this._getInternalEvents&&this._trigger("layoutChange")},_setCurrDate:function(e){if(this.model.readOnly||!this.model.enabled)return!1;e&&e.preventDefault();this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._dateValue=this._zeroTime(new Date),this.model.value=this._calendarDate=new Date(this._dateValue.toString()),this._setDateValue(this.model.value),this._triggerSelectEvent(e),this._triggerChangeEvent(e),this._refreshDatepicker(),this._changeDayClass(),this._startLevel(this.model.startLevel),this._onSetCancelDateHandler(e),this._layoutChanged()},_changeDayClass:function(){var e=this.popup.children("table")[0].className;"e-dp-viewdays"!=e&&this.popup.children("table").removeClass(e).addClass("e-dp-viewdays")},_onSetCancelDateHandler:function(e){if(this.model.readOnly||!this.model.enabled||e&&(b(e.target).hasClass("e-disable")||b(e.target).hasClass("e-hidedate")))return!1;e&&e.type&&e.preventDefault(),this._specificFormat()?this._prevDate=this.element.val():this.model.value=this._parseDate(this.element.val()),this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._setDateValue(this._dateValue),this._triggerSelectEvent(e),this._triggerChangeEvent(e),this._dateValue=new Date(this.model.value.toString()),this.element.is(":input")&&!this.model.displayInline&&this._showhidePopup(e),e&&b(e.currentTarget).hasClass("other-month")&&this._refreshDatepicker(),this._cellSelection()},_closeCalendar:function(e){e&&e!=this.element||this.sfCalendar.empty().remove()},_checkErrorClass:function(){this.wrapper&&(this.isValidState?this.wrapper.removeClass("e-error").attr("aria-invalid","false"):this.wrapper.addClass("e-error").attr("aria-invalid","true"))},_getLocalizedLabels:function(){return w.getLocalizedConstants(this.sfType,this.model.locale)}}),w.DatePicker.Locale=w.DatePicker.Locale||{},w.DatePicker.Locale.default=w.DatePicker.Locale["en-US"]={watermarkText:"Select date",buttonText:"Today"},w.DatePicker.Header={None:"none",Short:"short",Min:"min",Long:"long"},w.DatePicker.HighlightSection={Month:"month",Week:"week",WorkDays:"workdays",None:"none"},w.DatePicker.Level={Month:"month",Year:"year",Decade:"decade",Century:"century"}}),!function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.scroller.min"],e):e()}(function(){var d,h,s;d=jQuery,(h=Syncfusion).widget("ejTimePicker","ej.TimePicker",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_rootCSS:"e-timepicker",_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},defaults:{cssClass:"",timeFormat:"",value:null,enableAnimation:!0,locale:"en-US",htmlAttributes:{},readOnly:!1,showPopupButton:!0,enableStrictMode:!1,interval:30,hourInterval:1,minutesInterval:1,secondsInterval:1,height:"",width:"",minTime:"12:00 AM",maxTime:"11:59 PM",showRoundedCorner:!1,enableRTL:!1,popupHeight:"191px",popupWidth:"auto",enabled:!0,enablePersistence:!1,disableTimeRanges:null,validationRules:null,validationMessages:null,focusIn:null,focusOut:null,beforeChange:null,change:null,select:null,create:null,destroy:null,beforeOpen:null,open:null,close:null},dataTypes:{timeFormat:"string",minTime:"string",maxTime:"string",readOnly:"boolean",interval:"number",showPopupButton:"boolean",locale:"string",hourInterval:"number",minutesInterval:"number",secondsInterval:"number",enabled:"boolean",enablePersistence:"boolean",enableAnimation:"boolean",enableStrictMode:"boolean",disableTimeRanges:"data",htmlAttributes:"data",validationRules:"data",validationMessages:"data"},observables:["value"],enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.element.prop("disabled",!1),this.model.enabled=!0,this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.showPopupButton&&(this.timeIcon.removeClass("e-disable").attr("aria-disabled",!1),this.popupList.removeClass("e-disable").attr("aria-disabled",!1)),this._isIE8&&this.timeIcon.children().removeClass("e-disable"))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.element.attr("disabled","disabled"),this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.showPopupButton&&(this.timeIcon.addClass("e-disable").attr("aria-disabled",!0),this.popupList.addClass("e-disable").attr("aria-disabled",!0)),this._isIE8&&this.timeIcon.children().addClass("e-disable"),this._hideResult())},getValue:function(){return this.element.val()},setCurrentTime:function(){this.model.readOnly||this._setMask()},show:function(){this.showDropdown||this._getInternalEvents||this._showResult()},hide:function(){this.showDropdown&&this._hideResult()},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_timeFormat:function(e){var t;return e=e||h.preferredCulture(this.model.locale).calendars.standard.patterns.t,(e=this._validateTimeFormat(e))&&(this.model.timeFormat=e,this.model.minTime=h.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=h.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),this.model.value?(this._setModelOption=!0,this.model.value=this._localizeTime(this.model.value),this.element.val(this.model.value)):(this._setModelOption=!1,(t=this._localizeTime(this.element.val()))&&this._checkMinMax(t)&&(this.model.value=t,this.element.val(t)))),e},_getTimeFormat:function(){this.model.timeFormat=h.preferredCulture(this.model.locale).calendar.patterns.t||"h:mm tt",this.seperator=this._getSeperator()},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.popupList&&this.popupList.removeClass(this.model.cssClass).addClass(e)},_localize:function(e){var t=this._createObject(this.model.value,!0);this.model.locale=e,this._getTimeFormat(),this.model.minTime=h.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=h.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),t?(this.model.value=this._localizeTime(t),this.element.val(this.model.value)):(t=this._localizeTime(this.element.val()))&&this._checkMinMax(t)&&(this.model.value=t,this.element.val(t)),this._getAmPm()},_setLocalize:function(e){(e=h.preferredCulture(e))&&(this.model.locale="en"==e.name?"en-US":e.name,h.isNullOrUndefined(this._options)||!h.isNullOrUndefined(this._options.timeFormat)&&this._options.timeFormat||(this.model.timeFormat=h.preferredCulture(this.model.locale).calendars.standard.patterns.t))},_updateInput:function(){var e;h.isNullOrUndefined(this._options)||(e=this._localizeTime(this._options.value),h.isNullOrUndefined(e))||"string"==typeof e&&this.model.enableStrictMode&&!this.model.value&&(this.element.val(this._options.value),this.isValidState=""==this.element.val(),this._checkErrorClass())},_createMinMaxObj:function(){this._minTimeObj=this._createObject(this.model.minTime),this._minTimeObj||(this.model.minTime=h.format(this._createObject((new Date).setHours(0,0,0,0)),this.model.timeFormat,this.model.locale)),this._maxTimeObj=this._createObject(this.model.maxTime),this._maxTimeObj||(this.model.maxTime=h.format(this._createObject((new Date).setHours(23,59,59,59)),this.model.timeFormat,this.model.locale))},_setMinMax:function(){var e=(new Date).setHours(0,0,0,0),t=(new Date).setHours(23,59,59,59);!h.isNullOrUndefined(this._options)&&h.isNullOrUndefined(this._options.minTime)&&(this.model.minTime=h.format(this._createObject(e),this.model.timeFormat,this.model.locale)),!h.isNullOrUndefined(this._options)&&h.isNullOrUndefined(this._options.maxTime)&&(this.model.maxTime=h.format(this._createObject(t),this.model.timeFormat,this.model.locale)),this._createMinMaxObj()},_init:function(e){if(this._options=e,this._cloneElement=this.element.clone(),this._ISORegex(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this._initialize(),this._render(),this._wireEvents(),e&&e.value!=s&&e.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()}),this._updateInput(),this._updateTextbox(),null!=this.model.validationRules&&(this._initTimeValidator(),this._setTimeValidation())},_updateTextbox:function(){this._options!==s&&(this._options.value!==s||this.model.value)||this._setTime(this._localizeTime(this.model.minTime))},_setMinMaxTime:function(e,t){!h.isNullOrUndefined(t.minTime)&&d.trim(t.minTime)&&this._isValid(t.minTime)&&(this.model.minTime=t.minTime,this._minTimeObj=this._createObject(this.model.minTime),this._validateTimes()),!h.isNullOrUndefined(t.maxTime)&&d.trim(t.maxTime)&&this._isValid(t.maxTime)&&(this.model.maxTime=t.maxTime,this._maxTimeObj=this._createObject(this.model.maxTime),this._validateTimes()),this._validateMinMax(),this._createMinMaxObj(),h.isNullOrUndefined(t.minTime)||(t.minTime=this.model.minTime),h.isNullOrUndefined(t.maxTime)||(t.maxTime=this.model.maxTime),this._checkMinMax(this.model.value)||(this.model.enableStrictMode?(this.isValidState=!1,this.model.value=null):(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime))),e!==this.model.value&&this._isValid(this.model.value,!0)&&this.element.val(this.model.value)},_setModel:function(e){var t,i,s,a,n=!1,o=this.model.value;for(t in e)switch(t){case"timeFormat":s=this._createObject(this.model.value),this._preTimeformat=this.model.timeFormat,i=this._timeFormat(e[t]),e[t]=this.model.timeFormat,i&&(this.seperator=this._getSeperator()),n=+s!=+this._createObject(this.model.value);break;case"locale":s=this._createObject(this.model.value),this._localize(e[t]),this.model.minTime=h.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=h.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),n=+s!=+this._createObject(this.model.value);break;case"interval":this.model.interval=e[t];break;case"cssClass":this._changeSkin(e[t]);break;case"showRoundedCorner":this._setRoundedCorner(e[t]);break;case"enableRTL":this._setRtl(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this.wrapper.width(e[t]),this._setListWidth();break;case"value":h.isPlainObject(e[t])&&(e[t]=null),this.model.value=h.format(this._createObject(e[t],!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(e[t],!0)&&(a=this._isValid(e[t])?this._localizeTime(e[t]):e[t],this.element.val(a)),e[t]=this.model.value,n=!0;break;case"enableStrictMode":this.model.enableStrictMode=e[t];break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=jsondata[key],null!=this.model.validationRules&&(this._initTimeValidator(),this._setTimeValidation());break;case"validationMessages":this.model.validationMessages=jsondata[key],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"popupHeight":this.model.popupHeight=e[t],this._setListHeight();break;case"popupWidth":this.model.popupWidth=e[t],this._setListWidth();break;case"enabled":e[t]?this.enable():this.disable();break;case"htmlAttributes":this._addAttr(e[t]);break;case"disableTimeRanges":this.model.disableTimeRanges=e[t],this._initStartEnd(),this.model.value=h.format(this._createObject(this.element.val(),!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(this.element.val(),!0)&&this.element.val(this.element.val()),n=!0}h.isNullOrUndefined(e.minTime)&&h.isNullOrUndefined(e.maxTime)||(this._setMinMaxTime(o,e),n=!0),h.isNullOrUndefined(e.showPopupButton)?!this.model.showPopupButton||!i&&h.isNullOrUndefined(e.minTime)&&h.isNullOrUndefined(e.maxTime)&&h.isNullOrUndefined(e.locale)&&h.isNullOrUndefined(e.interval)&&h.isNullOrUndefined(e.disableTimeRanges)||this._reRenderDropdown():this._showButton(e[t]),n&&(this._raiseChangeEvent(o,!0),e.value=this.model.value),this._checkErrorClass()},_destroy:function(){this.element.insertAfter(this.wrapper),this.wrapper.remove(),this.element.removeClass("e-input").removeAttr("ondragstart draggable aria-atomic aria-live aria-readonly").val(this.element.attr("value")),this._cloneElement.attr("name")||this.element.removeAttr("name"),this.popupList&&this.popupList.remove()},_initialize:function(){this.target=this.element[0],this.timeIcon=null,this._disabledItems=[],this.popupList=null,this.focused=!1,this.start=0,this.end=0,this.min=null,this.max=null,this.incomplete=!1,this.downPosition=0,this._setLocalize(this.model.locale),this._setMinMax(),this._getAmPm(),this.showDropdown=!1,this._activeItem=0,this.isValidState=!0,this._manualFocus=!1,this._isIE7=this._checkIE7(),this._initStartEnd(),h.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),this._isIE8="msie"==h.browserInfo().name&&"8.0"==h.browserInfo().version,this._getInternalEvents=!1,this._dateTimeInternal=!1,this.model.timeFormat?this.seperator=this._getSeperator():this._getTimeFormat()},_render:function(){this._renderWrapper(),this._setDimentions(),this._renderTimeIcon(),this._validateTimes(),this._createMinMaxObj(),this._renderDropdown(),this._addAttr(this.model.htmlAttributes),this._checkProperties(),this._enableMask(),this._checkErrorClass(),this.element.attr({"aria-atomic":"true","aria-live":"assertive","aria-readonly":this.model.readOnly,value:this.model.value}),!this.model.showPopupButton&&h.isNullOrUndefined(this.popupList)||this.ul.find("li").attr({tabindex:-1,"aria-selected":!1})},_renderWrapper:function(){this.element.addClass("e-input").attr("tabindex","0"),this.wrapper=h.buildTag("span.e-timewidget e-widget "+this.model.cssClass+"#"+this.target.id+"_timewidget").insertAfter(this.element),h.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.container=h.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container)},_addAttr:function(e){var s=this;d.map(e,function(e,t){var i=t.toLowerCase();"class"==i?s.wrapper.addClass(e):"disabled"==i&&"disabled"==e?s.disable():"readOnly"==i&&"readOnly"==e?s.model.readOnly=!0:("style"!=i&&"id"!=i&&h.isValidAttr(s.element[0],t)?s.element:s.wrapper).attr(t,e)})},_initTimeValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setTimeValidation:function(){var e,t,i,s;for(t in this.element.rules("add",this.model.validationRules),e=(e=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=this.element.attr("name"),e.settings.messages[name]={},this.model.validationRules)if(i=null,!h.isNullOrUndefined(this.model.validationRules[t])){if(h.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[t]))for(s in e.settings.messages[name][t]=d.validator.messages[t],this.model.validationMessages)t==s&&(i=this.model.validationMessages[t]);else i=this.model.validationRules.messages[t];e.settings.messages[name][t]=null!=i?i:d.validator.messages[t]}},_renderTimeIcon:function(){var e;this.model.showPopupButton&&(this.timeIcon=h.buildTag("span.e-select").attr({role:"button","aria-label":"select"}),e=h.buildTag("span.e-icon e-arrow-sans-down").attr("role","presentation"),this._isIE8&&(this.timeIcon.attr("unselectable","on"),e.attr("unselectable","on")),this.timeIcon.append(e),this.container.append(this.timeIcon).addClass("e-padding"),this._on(this.timeIcon,"mousedown",this._timeIconClick))},_elementClick:function(){this.showDropdown||this._showResult()},_renderDropdown:function(){var e=d("#"+this.element[0].id+"_popup").get(0);if(e&&d(e).remove(),!this.model.showPopupButton||this.popupList)return!1;this.popupList=h.buildTag("div.e-time-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_popup","",{},{tabindex:0,"aria-activedescendant":""}),h.isTouchDevice()||this.popupList.addClass("e-ntouch"),this.popup=this.popupList,this.ul=h.buildTag("ul.e-ul"),this._isIE8&&this.ul.attr("unselectable","on"),e=h.buildTag("div").append(this.ul),d("body").append(this.popupList.append(e)),this._renderLiTags(),this._setListHeight(),this._setListWidth(),this.popupList.ejScroller({height:this.popupList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.css("display","none"),this._listSize=this.ul.find("li").length},_renderLiTags:function(){var e,t,i,s,a,n,o,l;for(this._disabledItems=[],s=6e4*this.model.interval,a=!h.isNullOrUndefined(this.model.disableTimeRanges)&&0<this.model.disableTimeRanges.length,e=this._minTimeObj,t=this._maxTimeObj,n=0;this._compareTime(t,e,!0);)i=this._localizeTime(e),(o=d(document.createElement("li")))[0].appendChild(document.createTextNode(i)),this._isIE8&&o.attr("unselectable","on"),a&&(this._ensureTimeRange(i)?(o.addClass("e-disable"),this._disabledItems.push(n)):o.removeClass("e-disable")),this.ul[0].appendChild(o[0]),e=new Date(e).getTime()+s,n++;l=this.ul.find("li"),h.isTouchDevice()||(this._on(l,"mouseenter",d.proxy(this._OnMouseEnter,this)),this._on(l,"mouseleave",d.proxy(this._OnMouseLeave,this))),this._on(l,"click",d.proxy(this._OnMouseClick,this))},_ensureTimeRange:function(e){if(!h.isNullOrUndefined(this.model.disableTimeRanges)){var t=this._makeDateTimeObj(e);for(i=0;i<this.model.disableTimeRanges.length;i++)if(+t>=+this._makeDateTimeObj(this.model.disableTimeRanges[i].startTime)&&+t<=+this._makeDateTimeObj(this.model.disableTimeRanges[i].endTime))return!0}return!1},_initStartEnd:function(){if(this._startTime=[],this._endTime=[],!h.isNullOrUndefined(this.model.disableTimeRanges))for(i=0;i<this.model.disableTimeRanges.length;i++)this._startTime[i]=this._makeDateTimeObj(this.model.disableTimeRanges[i].startTime),this._endTime[i]=this._makeDateTimeObj(this.model.disableTimeRanges[i].endTime)},_makeDateTimeObj:function(e){if("string"!=typeof e)return e instanceof Date?this._setEmptyDate(e):null;var t=h.preferredCulture(this.model.locale).calendar.patterns.d,i=h.format(new Date("1/1/2000"),t,this.model.locale),i=h.parseDate(i+" "+e,t+" "+this.model.timeFormat);if(!i){if(t=new Date(e),!isNaN(Date.parse(t))&&!h.isNullOrUndefined(e))return this._setEmptyDate(e);i=new Date("1/1/2000 "+e)}return i},_reRenderDropdown:function(){this.ul.empty(),this._renderLiTags(),this._refreshScroller(),this._changeActiveEle()},_refreshScroller:function(){var e="none"==this.popupList.css("display");this.popupList.css("height","auto"),this.popupList.find(".e-content, .e-vscroll").removeAttr("style"),this.popupList.find(".e-vscroll div").removeAttr("style"),e&&this.popupList.css("display","block"),this.scrollerObj.model.height=this.popupList.height(),this.scrollerObj.model.scrollTop=0,this.scrollerObj.refresh(),this._isIE8&&(d("#"+this.scrollerObj._id).children(".e-vscroll").children().attr("unselectable","on"),d("#"+this.scrollerObj._id).find(".e-vhandle").attr("unselectable","on")),e&&this.popupList.css("display","none")},_setListWidth:function(){var e;this.popupList&&((e=this.model.popupWidth)&&"auto"!=e?this.popupList.css({width:e}):this.popupList.css({width:this.wrapper.width()})),this.scrollerObj&&(this._refreshScroller(),this._updateScrollTop())},_setListHeight:function(){this.popupList&&this.popupList.css({"max-height":this.model.popupHeight||"191px"}),this.scrollerObj&&(this._refreshScroller(),this._updateScrollTop())},_updateScrollTop:function(){this.scrollerObj.setModel({scrollTop:this._calcScrollTop()})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.popupList.css({width:this.wrapper.width()}),this._setListPosition(),this._refreshScroller()},_setListPosition:function(){var e=this.wrapper,t=this._getOffset(e),i=d(document).scrollTop()+d(window).height()-(t.top+d(e).outerHeight()),s=t.top-d(document).scrollTop(),a=this.popupList.outerHeight(),n=this.popupList.outerWidth(),o=t.left,l=e.outerHeight(),r=(l-e.height())/2,h=this._getZindexPartial(),i=(a<i||s<a?t.top+l+3:t.top-a-3)-r,s=d(document).scrollLeft()+d(window).width()-o;(this.model.enableRTL||s<n&&n<o+e.outerWidth())&&(o-=this.popupList.outerWidth()-e.outerWidth()),this.popupList.css({left:o+"px",top:i+"px","z-index":h})},_getOffset:function(e){return h.util.getOffset(e)},_getZindexPartial:function(){return h.util.getZindexPartial(this.element,this.popupList)},_enableMask:function(){this.isValidState=!(this.model.minTime&&this._compareTime(this.model.minTime,this.model.value)||this.model.maxTime&&this._compareTime(this.model.value,this.model.maxTime)),this._setTime(this.model.value),this._getInternalEvents&&!this.isValidState&&this._trigger("outOfRange"),this._changeActiveEle(),this._preVal=this.element.val()},_setTime:function(e){e=this._localizeTime(e);this.element.val(e),this.model.value=e},_timeFromISO:function(e){var t,i,s,a,n,o,l,r=this._extISORegex.exec(e)||this._basicISORegex.exec(e),h="",d="",c="";if(r){for(t=0;t<this._dates.length;t++)if(this._dates[t][1].exec(r[1])){h=this._dates[t][0];break}if(r[3])for(i=0;i<this._times.length;i++)if(this._times[i][1].exec(r[3])){d=(r[2]||" ")+this._times[i][0];break}for(s=(h+d+(c=r[4]&&this._zeroRegex.exec(r[4])?"Z":c)).match(this._tokens),a=[],o=0;o<s.length;o++)l=s[o],n=this._checkLiteral(s[o]),l=this._numberRegex[n?s[o].toLowerCase():l.length]||new RegExp("^\\d{1,"+l.length+"}"),(l=e.match(l))&&(0<=e.substr(0,e.indexOf(l))&&!n&&(0<=s[o].indexOf("M")?a.push(parseInt(l[0])-1):a.push(parseInt(l[0]))),e=e.slice(e.indexOf(l[0])+l[0].length));return new Date(a[0],a[1],a[2],a[3],a[4],a[5])}},_checkLiteral:function(e){return"t"==(char=e.toLowerCase())||"z"==char||":"==char||"-"==char},_setMask:function(){this.model.value=new Date,this._enableMask()},_validateTimes:function(){var e=this._validateTimeFormat(this.model.timeFormat);this.model.timeFormat=e||"h:mm tt",this._isValid(this.model.minTime)||(this.model.minTime="12:00 AM"),this._isValid(this.model.maxTime)||(this.model.maxTime="11:59 PM"),this._isValid(this.model.value,!0)||(this.model.value=null),this._checkMinMax(this.model.value)||this.model.enableStrictMode||(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime)),this._validateMinMax()},_ensureValue:function(){!this._checkMinMax(this.model.value)&&this._isValid(this.model.value,!0)&&(this.model.enableStrictMode?this.isValidState=!1:(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime)))},_validateMinMax:function(){this.model.minTime&&this.model.maxTime&&this._compareTime(this.model.minTime,this.model.maxTime)&&(this.model.minTime=this.model.maxTime)},_checkProperties:function(){this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&(this.model.enabled=!1,this.enable()):(this.model.enabled=!0,this.disable()),this._addProperty(),this._checkAttributes()},_addProperty:function(){this._setRtl(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner)},_setRtl:function(e){e?(this.wrapper.addClass("e-rtl"),this.popupList&&this.popupList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popupList&&this.popupList.removeClass("e-rtl"))},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.popupList&&this.popupList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.popupList&&this.popupList.removeClass("e-corner"))},_showButton:function(e){(this.model.showPopupButton=e)?(this.container.addClass("e-padding"),this._renderTimeIcon(),this._renderDropdown(),this._addProperty()):(this.container.removeClass("e-padding"),this.timeIcon.remove(),this.popupList.remove(),this.timeIcon=this.popupList=null,d(document).off("mousedown",d.proxy(this._OnDocumentClick,this)))},_checkAttributes:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id}),"ondragstart"in document.createElement("input")&&this.element.attr({ondragstart:"return false"}),"draggable"in document.createElement("input")&&this.element.attr({draggable:"false"})},_getAmPm:function(){var e=new Date;e.setHours(0),this.ttAM=d.trim(this._localizeMeridian(e)),e.setHours(23),this.ttPM=d.trim(this._localizeMeridian(e))},_setDimentions:function(){this._setHeight(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_setHeight:function(e){e&&this.wrapper.height(e),this._isIE7&&this.element.height(this.container.height())},_validateTimeFormat:function(e){var e=e.split(" "),i="";return 1==e.length||2==e.length?(d(e).each(function(e,t){i+=d.trim(t)+" "}),d.trim(i)):null},_getSeperator:function(){for(var e=this._getElePlace(),t=this.model.timeFormat.split(" ")[e.time],i=new RegExp("^[a-zA-Z0-9]+$"),s=0;s<t.length;s++)if(!i.test(t.charAt(s)))return t.charAt(s)},_checkInComplete:function(){var e=this._getCaretSelection(),t=this._getStartEnd(e),i="00",s=this._getSelectedValue(t),t=this._getCategory(t);e.end-e.start==this.element.val().length&&this._checkAll(),t&&"tt"!=t&&(this._findCategoryPosition(t),"__"==s?this._changeToDefault(i="h"!=t&&"hh"!=t?i:"12"):1!=t.length&&1==s.length&&(s=this._changeWhole(s),this.element.val(this._replaceAt(this.target.value,this.start,this.end,s))))},_checkAll:function(){for(var e,t=this._getElePlace(),i=this.model.timeFormat.split(" ")[t.time].split(this.seperator),s=0;s<i.length;s++)this._findCategoryPosition(i[s]),e=this._getSelectedValue({start:this.start,end:this.end}),1!=i[s].length&&1==e.length&&(e=this._changeWhole(e),this.element.val(this._replaceAt(this.element.val(),this.start,this.end,e)))},_changeToDefault:function(e){var t;this.incomplete=!0,t=this.element[0].value,this.element[0].value=this._replaceAt(this.target.value,this.start,this.end,e),(e=this._checkExceedRange(this.target.value))&&this._setTime(this.model[e]),this._setSelection(this.start,this.end),this._raiseChangeEvent(t)},_setSelection:function(e,t){var i=this.element[0];i.setSelectionRange?i.setSelectionRange(e,t):i.createTextRange&&((i=i.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())},_getSelectedValue:function(e){return this.target.value.substring(e.start,e.end)},_getMinMax:function(e,t){"hh"==e||"h"==e?(this.min=1,this.max=11,t&&(this.max=12)):"HH"==e||"H"==e?(this.min=0,this.max=23):"mm"!=e&&"m"!=e&&"ss"!=e&&"s"!=e||(this.min=0,this.max=59)},_focusElement:function(){this._manualFocus=!0,this.element.focus()},_targetFocus:function(e){this._clearRange(),e.preventDefault(),this.focused=!0,this.element.on("mousewheel DOMMouseScroll",d.proxy(this._mouseWheel,this)),this.wrapper.addClass("e-focus").removeClass("e-error").attr("aria-invalid","false"),this._manualFocus||(this._findCategoryPosition(this._getLeast(!1)),this._setSelection(this.start,this.end)),this._manualFocus=!1,this._prevTimeVal=this.element.val(),this._raiseEvent("focusIn")},_targetBlur:function(){this.focused=!1,this.element.off("mousewheel DOMMouseScroll",d.proxy(this._mouseWheel,this)),this.wrapper.removeClass("e-focus"),this.model.enableStrictMode||-1<this.target.value.indexOf("_")&&this.element.val(""),!this._checkMinMax(this.target.value)&&this._isValid(this.target.value,!0)?this.model.enableStrictMode?this.isValidState=!1:(this.model.minTime&&!this._compareTime(this._createObject(this.target.value),this.model.minTime,!0)&&this.element.val(this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this._createObject(this.target.value),!0)&&this.element.val(this.model.maxTime),this._isValid(this.model.value,!0)||this.element.val(null),this.isValidState=!0):this.isValidState=!0,this._ensureValue(),this._raiseChangeEvent(),this._checkErrorClass(),this._raiseEvent("focusOut"),this.model.enableStrictMode||this._checkInComplete()},_clearRange:function(){var e=this.element[0];isNaN(e.selectionStart)||(e.selectionStart=0,e.selectionEnd=0)},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error").attr("aria-invalid","false"):this.wrapper.addClass("e-error").attr("aria-invalid","true")},_getCaretSelection:function(){var e,t,i=this.element[0];return isNaN(i.selectionStart)?(t=document.selection.createRange().getBookmark(),(e=i.createTextRange()).moveToBookmark(t),(t=i.createTextRange()).collapse(!0),t.setEndPoint("EndToStart",e),{start:t=t.text.length,end:t+e.text.length}):(t=i.selectionStart,e=i.selectionEnd,{start:Math.abs(t),end:Math.abs(e)})},_mouseDownOnInput:function(){this.focused||h.isTouchDevice()||this._focusElement(),this.downPosition=this._getCaretSelection(),d(document).on("mouseup",d.proxy(this._mouseUpOnInput,this))},_mouseUpOnInput:function(e){e.preventDefault(),d(document).off("mouseup",d.proxy(this._mouseUpOnInput,this));e=this._getCaretSelection();this.incomplete&&(this.incomplete=!1,e=this.downPosition),this.target.value!=this._getSelectedText()&&(e=this._getStartEnd(e),this._setSelection(e.start,e.end))},_getCategoryPosition:function(e){var t,i,s=0,a=0,n=this.target.value.split(" "),o=this._getElePlace(),l=this.seperator,r=!1,h=this.model.timeFormat.split(" ")[o.time].split(l),d=n[o.time].split(l);if(!(h.length>d.length))if("tt"==e)n[o.tt]!=this.ttAM&&n[o.tt]!=this.ttPM||(a=(s=0==o.tt?0:n[o.time].length+1)+n[o.tt].length,r=!0);else if(s=0==o.time?0:n[o.tt].length+1,-1!=(t=h.indexOf(e))){for(i=0;i<h.length&&(a=d[i].length+1,i!=t);i++)s+=a;a+=s-1,r=!0}return{start:s,end:a,isValid:r}},_getCategory:function(e){var t=this.model.timeFormat.split(" "),i=this.seperator,s=this._getElePlace();return e.isTT?t[s.tt]:t[s.time].split(i)[e.index]},_getStartEnd:function(e){for(var t=this.seperator,i=this.element.val().split(" "),s=0,a=0,n=tt=null,o=0;o<i.length;o++)if(i[o]!=this.ttAM&&i[o]!=this.ttPM)for(var l=i[o].split(t),r=s,h=s+l[0].length,d=0;d<l.length;d++){if(a=l[d].length+s,e.start<=a){n=d,tt=!1,o=i.length;break}s+=l[d].length+1}else{if(e.start<=s+i[o].length){a=i[o].length+s,tt=!(n=0),o=i.length;break}s+=i[o].length+1}return null==n&&(s=r,a=h,n=0,tt=!1),{start:s,end:a,index:n,isTT:tt}},_modifyValue:function(e){var t,i;this._isValid(this.target.value)&&(this.model.enableStrictMode||this._checkInComplete(),i=(t=this._getCaretSelection()).start==t.end?(i=this._getLeast(!0),i=this._getCategoryPosition(i),this._getStartEnd(i)):this._getStartEnd(t),this.start=i.start,this.end=i.end,this._changeValue(i,e))},_keyUpOnInput:function(e){e.preventDefault(),this._preVal!=this.element.val()&&(this._preVal=this.element.val())},_getNextCategory:function(e,t){var i=[],s=this.seperator,a=this.model.timeFormat.split(" ");return d(a).each(function(e,t){"tt"==t?i.push(t):(t=t.split(s),i=t.concat(i))}),-1!=(a=i.indexOf(e))?(t=t?0==a?i.length-1:a-1:a==i.length-1?0:a+1,i[t]):e},_getElePlace:function(){var e,t="tt"==this.model.timeFormat.split(" ")[0]?(e=1,0):(e=0,1);return{time:e,tt:t}},_movePosition:function(e,t){var e=this._getStartEnd(e),i=(i=this._getCategory(e))||this._getLeast(t),i=this._getNextCategory(i,t);(e=this._getCategoryPosition(i)).isValid&&this._setSelection(e.start,e.end)},_findActiveIndex:function(){var e=this.ul.find("li"),t=this.element.val(),i=e.first().html(),t=(this._parse(t)-this._parse(i))/(6e4*this.model.interval);t=Math.round(t),this._activeItem=t==e.length?t:t+1,(this._activeItem<0||this._activeItem>e.length||isNaN(this._activeItem))&&(this._activeItem=0)},_keyDownOnInput:function(e){var t,i,s,a,n,o,l,r,h,d,c;if(this.model.readOnly&&!this._readOnlyKeys(e)||(s=e.keyCode,this._getInternalEvents&&38!=s&&40!=s&&36!=s&&35!=s&&9!=s))return!1;if(!this.model.enableStrictMode){if(this.showDropdown&&38!=s&&40!=s&&27!=s&&!this._readOnlyKeys(e))return!1;!this.showDropdown||37!=s&&39!=s||(e.keyCode=37==s?38:40)}switch(t=this._getCaretSelection(),c=this._getStartEnd(t),i=this._getCategory(c),e.keyCode){case 38:e.preventDefault(),this.showDropdown?this.showDropdown&&(e.preventDefault(),this._findActiveIndex(),prevActiveItem=this._activeItem,this._activeItem=this._disableItemSelectUp(this._activeItem-1),0==this._activeItem&&(this._activeItem=prevActiveItem),this._addListHover(),(activeItem=this._getActiveItem()).length)&&this._selectTimeItem(activeItem):this._isValid(this.target.value)&&this._modifyValue(!0);break;case 40:e.preventDefault(),e.altKey&&this.model.showPopupButton?this._showhidePopup():this.showDropdown?this.showDropdown&&(e.preventDefault(),this._findActiveIndex(),prevActiveItem=this._activeItem,this._activeItem=this._disableItemSelectDown(this._activeItem),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=prevActiveItem,this._addListHover(),this._selectTimeItem(this._getActiveItem())):this._isValid(this.target.value)&&this._modifyValue(!1);break;case 37:e.preventDefault(),t.start==t.end?this._setSelection(t.start-1,t.start-1):this._movePosition(t,!0);break;case 39:e.preventDefault(),t.start==t.end?this._setSelection(t.start+1,t.start+1):this._movePosition(t,!1);break;case 36:e.preventDefault(),this.showDropdown?(this._activeItem=0,prevActiveItem=this._activeItem,this._activeItem=this._disableItemSelectDown(this._activeItem),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=prevActiveItem,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(o=this._firstlastVal(!0),(o=this._getCategoryPosition(o)).isValid&&this._setSelection(o.start,o.end));break;case 35:e.preventDefault(),this.showDropdown?(this._activeItem=this._listSize+1,prevActiveItem=this._activeItem,this._activeItem=this._disableItemSelectUp(this._activeItem-1),0==this._activeItem&&(this._activeItem=prevActiveItem),this._addListHover(),this._selectTimeItem(this._getActiveItem())):(o=this._firstlastVal(!1),(o=this._getCategoryPosition(o)).isValid&&this._setSelection(o.start,o.end));break;case 9:this._getInternalEvents||(this._hideResult(),o=null,e.shiftKey&&0<t.start?o=!0:!e.shiftKey&&t.end<this.element.val().length&&(o=!1),null!=o&&(e.preventDefault(),this._checkInComplete(),this._movePosition(t,o)));break;case 13:if(!this.showDropdown){this._raiseChangeEvent();break}case 27:e.preventDefault(),this._hideResult();break;case 8:case 46:if(this.model.enableStrictMode)return;this.target.value!=this._getSelectedText()&&(e.preventDefault(),i)&&"tt"!=i&&(this._findCategoryPosition(i),o=8==s&&t.start!=this.start,a=46==s&&t.end!=this.end,n=this.end-this.start,t.start==t.end&&1!=n||!o&&!a&&t.start==t.end?o?(this.element[0].value=this._replaceAt(this.target.value,t.start-1,t.start,""),this._setSelection(t.start-1,t.start-1)):a&&(this.element[0].value=this._replaceAt(this.target.value,t.end,t.end+1,""),this._setSelection(t.end,t.end)):(n=this.start,o=this.end,this.element[0].value=this._replaceAt(this.target.value,n,o,"__"),this._setSelection(n,o-n!=2?o+1:o)))}l=this._getSelectedValue(c),h=e.keyCode||e.charCode,47<e.keyCode&&e.keyCode<58?r=String.fromCharCode(h):95<e.keyCode&&e.keyCode<106&&(r=String.fromCharCode(h-48)),"tt"==i&&(!e.shiftKey&&!e.ctrlKey&&!e.altKey&&64<e.keyCode&&e.keyCode<91||47<e.keyCode&&e.keyCode<58||95<e.keyCode&&e.keyCode<106)&&(e.preventDefault(),h=this._getCategoryPosition(i),this.start=h.start,this.end=h.end,this._changeAmPm(l),this._raiseChangeEvent()),this.target.value!=this._getSelectedText()||e.shiftKey||e.ctrlKey||e.altKey||(64<e.keyCode&&e.keyCode<91&&!this.model.enableStrictMode&&e.preventDefault(),(47<e.keyCode&&e.keyCode<58||95<e.keyCode&&e.keyCode<106)&&(c=this._getStartEnd(t),this._setSelection(c.start,c.end))),!e.shiftKey&&!e.ctrlKey&&!e.altKey&&47<e.keyCode&&e.keyCode<58||95<e.keyCode&&e.keyCode<106?"tt"!=i&&(this._getMinMax(i,!0),t.start==t.end?(this._findCategoryPosition(i),t.start==this.start?(d=r+l,this.element.val(this.model.minTime),c=this._getStartEnd(t),this._setSelection(c.start,c.end)):d=l+r,!(2<d.length)&&Number(d)>=this.min&&this.max>=Number(d)||this.model.enableStrictMode||e.preventDefault()):Number(r)>=this.min&&this.max>=Number(r)||this.model.enableStrictMode||e.preventDefault()):this._allowKeyCodes(e)||(this.model.enableStrictMode||8==e.keyCode||46==e.keyCode?e.stopPropagation():e.preventDefault())},_getSelectedText:function(){var e;return window.getSelection?(e=d("#"+this.element[0].id).get(0)).value.substring(e.selectionStart,e.selectionEnd):document.selection.createRange().text},_allowKeyCodes:function(e){return!((!e.ctrlKey||65!=e.keyCode&&67!=e.keyCode&&90!=e.keyCode&&89!=e.keyCode)&&9!=e.keyCode&&116!=e.keyCode&&13!=e.keyCode)},_readOnlyKeys:function(e){return!(35!=e.keyCode&&36!=e.keyCode&&37!=e.keyCode&&39!=e.keyCode&&!this._allowKeyCodes(e))},_firstlastVal:function(e){var t=this.model.timeFormat.split(" "),i=this.seperator;return e?"tt"!=t[0]?t[0].split(i)[0]:"tt":"tt"==t[0]&&t[1]&&(e=t[1].split(i)).length?e[e.length-1]:"tt"},_mouseWheel:function(e){if(e.preventDefault(),this.model.readOnly)return!1;var t,e=e.originalEvent;e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),0<t?this._modifyValue(!0):t<0&&this._modifyValue(!1)},_addListHover:function(){this._addSelected(),this._updateScrollTop()},_addSelected:function(){this.ul.find("li").removeClass("e-active e-hover");var e=this._getActiveItem();e.length&&!e.hasClass("e-disable")&&e.addClass("e-active")},_disableItemSelectDown:function(e){return(e=null==e||e<0?0:e)<this._listSize?d.inArray(e,this._disabledItems)<0?e:this._disableItemSelectDown(e+1):this._listSize},_disableItemSelectUp:function(e){if((e=null==(e-=1)||e<0?0:e)<this._listSize){if(d.inArray(e,this._disabledItems)<0)return e+1;if(0<e)return this._disableItemSelectUp(e)}return 0},_getActiveItem:function(){return d(this.ul.find("li")[this._activeItem-1])},_timeIconClick:function(e){var t=!1;if(e.button?t=2==e.button:e.which&&(t=3==e.which),!t){if(e.preventDefault(),!this.model.enabled||this.model.readOnly||this.ul.find("li").length<1)return!1;this._showhidePopup(),t=this.element.val().length,h.isTouchDevice()||this._setSelection(t,t)}},_showhidePopup:function(){if(this._getInternalEvents)return!1;this.showDropdown?this._hideResult():this._showResult()},_showResult:function(){this._raiseEvent("beforeOpen"),this._refreshPopup(),this.focused||h.isTouchDevice()||this._focusElement(),this.model.value?this._changeActiveEle():this.ul.find("li").removeClass("e-active");var e=this,t=this._vissibleAndCalculateTop();this.popupList.slideDown(this.model.enableAnimation?200:0,function(){d(document).on("mousedown",d.proxy(e._OnDocumentClick,e))}),this.scrollerObj.setModel({scrollTop:t}),this.showDropdown=!0,this._listSize=this.ul.find("li").length,d(window).on("resize",d.proxy(this._OnWindowResize,this)),this._on(h.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._raiseEvent("open"),this.wrapper.addClass("e-active")},_hideResult:function(){this.showDropdown&&!this._getInternalEvents&&(this.showDropdown=!1,this.popupList.slideUp(this.model.enableAnimation?100:0),d(document).off("mousedown",d.proxy(this._OnDocumentClick,this)),d(window).off("resize",d.proxy(this._OnWindowResize,this)),this._off(h.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._raiseEvent("close"),this.wrapper.removeClass("e-active"))},_vissibleAndCalculateTop:function(){this.popupList.css({display:"block"});var e=this._calcScrollTop();return this.popupList.css({display:"none"}),e},_calcScrollTop:function(){this.ul.outerHeight();var e=this.ul.find("li").outerHeight();return e*this.ul.find("li.e-active").index()-(this.popupList.outerHeight()-e)/2},_changeActiveEle:function(){if(!this.model.showPopupButton||!this.popupList)return!1;var e=this.ul.find("li"),t=this.element.val(),i=e.first().html(),i=(this._parse(t)-this._parse(i))/(6e4*this.model.interval);i=Math.round(i),this._activeItem=i==e.length?i:i+1,(this._activeItem<0||this._activeItem>e.length||isNaN(this._activeItem)||this._ensureTimeRange(t))&&(this._activeItem=0),this._addListHover()},_OnDocumentClick:function(e){d(e.target).is(this.popupList)||d(e.target).parents(".e-time-popup").is(this.popupList)||d(e.target).is(this.wrapper)||d(e.target).parents(".e-timewidget").is(this.wrapper)?(d(e.target).is(this.popupList)||d(e.target).parents(".e-time-popup").is(this.popupList))&&e.preventDefault():this._hideResult()},_OnWindowResize:function(){this._refreshPopup()},_OnMouseEnter:function(e){e=e.target;this.ul.find("li").removeClass("e-hover"),d(e).hasClass("e-disable")||d(e).addClass("e-hover")},_OnMouseLeave:function(){this._dateTimeInternal&&!this.model.value||this.ul.find("li").removeClass("e-hover")},_OnMouseClick:function(e){e.preventDefault(),d(e.target).hasClass("e-disable")||(this.model.enabled&&!this.model.readOnly&&(this._activeItem=d(e.target).index()+1,this.ul.find("li").attr({tabindex:-1,"aria-selected":!1}),d(e.target).attr({"aria-selected":!0,tabindex:0}),this._addSelected(),this._selectTimeItem(d(e.target))),this._showhidePopup())},_selectTimeItem:function(e){this._beforeChange(e),this._raiseChangeEvent()&&this._trigger("select",{value:this.model.value,prevTime:this._previousValue})},_findCategoryPosition:function(e){"least"==e&&(e=this._getLeast(!0));e=this._getCategoryPosition(e);this.start=e.start,this.end=e.end},_getLeast:function(i){var e=this.model.timeFormat.split(" "),s=this.seperator,a=null;return d(e).each(function(e,t){"tt"!=t&&(t=t.split(s),a=i?t[t.length-1]:t[0])}),a},_changeValue:function(e,t){this.target.value;var s,a=this._getCategory(e);if(!a)return!1;if(this._setSelection(this.start,this.end),s=this.target.value.substring(this.start,this.end),this._checkMinMax(this.target.value))if(s!=this.ttAM&&s!=this.ttPM){if(s=this._changeCurrentValue(s,a,t),1!=a.length&&(s=this._changeWhole(s)),this._findCategoryPosition(a),this.element.val(this._replaceAt(this.target.value,this.start,this.end,s)),this.end=this.start+s.toString().length,this._setSelection(this.start,this.end),this._ensureTimeRange(this.target.value)&&this._checkMinMax(this.target.value)){var n=this._createObject(this.target.value),o=n.getHours(),l=t?this._startTime:this._endTime,r=t?this._endTime:this._startTime;if(!h.isNullOrUndefined(this.model.disableTimeRanges))for(i=0;i<this.model.disableTimeRanges.length;i++)(l[i].getHours()===o||+n>=+this._startTime[i]&&+n<=+this._endTime[i])&&(this.target.value=this._localizeTime(r[i]),this._setSelection(this.start,this.end),this._changeValue(e,t))}}else this._changeAmPm(s);else s=this._checkExceedRange(this.target.value),this._setTime(this.model[s]),this._findCategoryPosition(a),this._setSelection(this.start,this.end);this._checkMinMax(this.target.value)?this._raiseChangeEvent():(this.element.val(this.model.value),this._findCategoryPosition(a),this._setSelection(this.start,this.end))},_checkMinMax:function(e){e=this._checkExceedRange(e);return!(e=null==e?!1:e)},_checkExceedRange:function(e){if(e){if(this.model.minTime&&!this._compareTime(e,this.model.minTime,!0))return"minTime";if(this.model.maxTime&&!this._compareTime(this.model.maxTime,e,!0))return"maxTime"}return null},_changeWhole:function(e){return 9<e?""+e:"0"+e},_changeAmPm:function(e){e=e==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,e)),this._setSelection(this.start,this.end)},_changeMinute:function(e){var t,i=this._getExactFormat(["mm","m"]);i&&(this._findCategoryPosition(i),t=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(i),e?t==this.max?(t=this.min,this._changeHour(e)):t+=1:t==this.min?(t=this.max,this._changeHour(e)):--t,this._findCategoryPosition(i),1!=i.length&&(t=this._changeWhole(t)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))},_changeHour:function(e){var t,i=this._getExactFormat(["hh","h","HH","H"]);i&&(this._findCategoryPosition(i),t=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(i),e?t==this.max?(t+=1,this._changeMeridian()):t>this.max?t=this.min:t+=1:t==this.min?t=this.max+1:t>this.max?(t=this.max,this._changeMeridian()):--t,this._findCategoryPosition(i),1!=i.length&&(t=this._changeWhole(t)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))},_getExactFormat:function(e){for(var t=this.model.timeFormat,i=0;i<e.length;i++)if(-1!=t.indexOf(e[i]))return e[i];return null},_changeMeridian:function(){var e;-1!=this.model.timeFormat.indexOf("tt")&&(this._findCategoryPosition("tt"),e=this.target.value.substring(this.start,this.end)==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,e)))},_changeCurrentValue:function(e,t,i){e=Number(e);var s=1,a=!0;return this._getMinMax(t),"hh"==t||"h"==t||"HH"==t||"H"==t?s=this.model.hourInterval:"mm"==t||"m"==t?s=this.model.minutesInterval:"ss"!=t&&"s"!=t||(s=this.model.secondsInterval),s<=0||(i?(("hh"==t||"h"==t)&&e>this.max?e=this.min-1+s:e<this.max?e+=s:(a=!1,"hh"!=t&&"h"!=t?e=this.min-1+s:e+=s,this._changeAdjacent(t,i)),"hh"!=t&&"h"!=t||e!=this.max+1?e>this.max+1&&(e-=this.max+1,a)&&this._changeAdjacent(t,i):a&&this._changeAdjacent(t,i),"hh"!=t&&"h"!=t&&e==this.max+1&&(e=this.min,a)&&this._changeAdjacent(t,i)):("hh"!=t&&"h"!=t&&e>this.min||("hh"==t||"h"==t)&&e>this.min&&e<=this.max?e-=s:"hh"!=t&&"h"!=t||e!=this.min?(a=!1,e=this.max+1-s,this._changeAdjacent(t,i)):e=this.max+2-s,e<this.min&&(e+=this.max+1,a)&&this._changeAdjacent(t,i))),e},_changeAdjacent:function(e,t){"ss"==e||"s"==e?this._changeMinute(t):"mm"==e||"m"==e?this._changeHour(t):"hh"!=e&&"h"!=e&&"HH"!=e&&"H"!=e||this._changeMeridian()},_valueChange:function(){this._raiseChangeEvent()},_beforeChange:function(e){return this._raiseEvent("beforeChange")||this.element.val(e.text()),!0},_raiseChangeEvent:function(e,t){return e=e===s?this.model.value:e,(this._previousValue=e)!=(current=this.target.value||null)&&(this.isValidState=!!(this._checkMinMax(this.target.value)&&this._isValid(this.target.value,this.model.enableStrictMode)||!this.target.value),this.model.value=this._isValid(this.target.value,!0)&&this._checkMinMax(this.target.value)?this.target.value:null,this.model.value||this.model.enableStrictMode||this._setTime(this.model.value),this.model.value!=this._previousValue)&&(this._raiseEvent("change",t),this._raiseEvent("_change",t),!0)},_raiseEvent:function(e,t){var i={value:this.model.value,prevTime:this._previousValue};return"change"==e&&(i.isInteraction=!t),this._trigger(e,i)},_checkIE7:function(){if("Microsoft Internet Explorer"==navigator.appName){var e=-1;if(7<=(e=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)?parseFloat(RegExp.$1):e)&&e<8)return!0}return!1},_replaceAt:function(e,t,i,s){return e.substring(0,t)+s+e.substring(i)},_localizeTime:function(e){return e?d.trim(h.format(this._createObject(e),this.model.timeFormat,this.model.locale)):null},_localizeMeridian:function(e){return d.trim(h.format(e,"tt",this.model.locale))},_compareTime:function(e,t,i){return(i=!!i)?this._parse(e)>=this._parse(t):this._parse(e)>this._parse(t)},_isValid:function(e,t){return(e=this._createObject(e,t))&&"function"==typeof e.getTime&&isFinite(e.getTime())},_parse:function(e){return Date.parse(this._createObject(e))},_setEmptyDate:function(e){e=new Date(e);return e.setDate(1),e.setMonth(0),e.setFullYear(2e3),e},_createObject:function(e,t){var i,s,a,n=null;return"string"==typeof e?(i=this._setModelOption?this._preTimeformat:this.model.timeFormat,s=h.preferredCulture(this.model.locale).calendar.patterns.d,a=h.format(new Date("1/1/2000"),s,this.model.locale),n=h.parseDate(a+" "+e,s+" "+i,this.model.locale),(this._extISORegex.exec(e)||this._basicISORegex.exec(e))&&(this.model.value=n=this._timeFromISO(e)),this._setModelOption=!1,n||(a=new Date(e),n=isNaN(Date.parse(a))||h.isNullOrUndefined(e)?this._dateTimeInternal&&""!=e?new Date("1/1/2000 "+e):null:this._setEmptyDate(e))):"number"==typeof e?n=new Date(e):e instanceof Date&&(n=this._setEmptyDate(e)),n=n&&!this._dateTimeInternal&&t&&(s=this._localizeTime(n),this._ensureTimeRange(s))?null:n},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"mousedown",this._mouseDownOnInput),this._on(this.element,"keydown",this._keyDownOnInput),this._on(this.element,"keyup",this._keyUpOnInput)}})}),!function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.scroller.min","./../common/ej.draggable.min"],e):e()}(function(){var l,n;l=jQuery,(n=Syncfusion).widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(e){var t,i;for(t in e)switch(t){case"closeIconTooltip":this._dialogClose.attr("title",e[t]);break;case"tooltip":this._tooltipText(e[t]);break;case"title":this.model.title=e[t],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(e[t]),this._updateCaptionWidth();break;case"width":this.model.width=e[t],this._changeSize(),this._updateCaptionWidth(),e[t]=this.model.width;break;case"height":this.model.height=e[t],this._changeSize(),e[t]=this.model.height;break;case"position":this.model.position=e[t],this._dialogPosition();break;case"cssClass":this._changeSkin(e[t]);break;case"showRoundedCorner":this.model.showRoundedCorner=e[t],this._roundedCorner(e[t]);break;case"contentType":this.model.contentType=e[t],this._appendContent(e[t]);break;case"enabled":this.model.enabled=e[t],this._enabledAction(e[t]);break;case"contentUrl":this.model.contentUrl=e[t],this._appendContent(this.model.contentType);break;case"content":case"target":this._ejDialog.appendTo(l(e[t])),this.model.target=this.model.content=e[t],this._dialogPosition();break;case"containment":this._setDragArea(e[t]),n.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=e[t]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=e[t],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._tooltipText(this.model.tooltip);break;case"minHeight":this.model.minHeight=e[t],this._ejDialog.css("minHeight",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=e[t],this._ejDialog.css("minWidth",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=e[t],this._ejDialog.css("maxHeight",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=e[t],this._ejDialog.css("maxWidth",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",e[t]);break;case"faviconCSS":this.model.faviconCSS=e[t],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=e[t],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=e[t],e[t]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=e[t],e[t]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=e[t],e[t]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(this._ejDialog.outerHeight(!0)-this._dialogTitlebar.outerHeight(!0),this._ejDialog.width()-2)):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(this._ejDialog.outerHeight(!0),this._ejDialog.width()-2)),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=e[t],(e[t]?(this._appendContent(),this._ejDialog.find(".e-resizable")):this._ejDialog.find(".e-footerbar")).remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=e[t],this.model.showFooter&&(l(".e-footerbar").empty(),i=l("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(i),this._enableResize());break;case"enableRTL":this.model.enableRTL=e[t],this.model.faviconCSS&&this._favIcon(),e[t]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl")):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr")),this.scroller&&this._resetScroller();break;case"actionButtons":n.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(e[t])),this.model.actionButtons=e[t],this._updateCaptionWidth();break;case"enableModal":this._enableModal(e[t]);break;case"htmlAttributes":this._addAttr(e[t])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:l(window).outerWidth(),outerHeight:l(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),(scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"))&&scrObj._resetScroller(),this.hidden=!1,this._init=!1},_responsive:function(){this.width=this.model.width,l(this.element).width(this.width),this.height=this.model.height,l(this.element).height(this.height),l(window).on("resize",l.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=l(this._dialogTitlebar).outerWidth(),l(this.contentDiv).width(this.width),l(this.contentDiv).children().width(this.width),this.model.height=this.height=l(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-l(this._dialogTitlebar).outerHeight()-l(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),this._resetScroller()},_setLocaleCulture:function(e){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=e.closeIconTooltip),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=e.tooltip)},_setDragArea:function(e){n.isNullOrUndefined(e)?this._target=null:"string"==typeof e?("parent"==e&&(this._target=l(this.element).parent()),"document"==e.toLowerCase()&&(this._target=l(document)),"window"==e.toLowerCase()?this._target=l(window):0<l(e).length&&(this._target=l(e))):"object"==typeof e?0<e.length&&(this._target=e):this._target=null},_addAttr:function(e){var i=this;l.map(e,function(e,t){"class"==t?i._ejDialog.addClass(e):"disabled"==t&&"disabled"==e?(i.model.enabled=!1,i._enabledAction(!1)):i._ejDialog.attr(t,e)})},_tooltipText:function(e){l.extend(this.model.tooltip,e),this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin)},_renderControl:function(){var e,t;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=n.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),n.isNullOrUndefined(this.model.containment)||n.isNullOrUndefined(this._target)?n.isNullOrUndefined(this.model.target)||(e=this.model.target):e=this._target,e=n.isNullOrUndefined(e)?document.body:e,(t=l(e).find("#"+this._id+"_wrapper").get(0))&&l(t).remove(),this._ejDialog.appendTo(e),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS)&&this._favIcon(),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize()._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){var e;return"auto"!=this.model.height&&(e=this._ejDialog.outerHeight()-(this.model.showHeader?l(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?l(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1,this.contentDiv.height(e),this.element.outerHeight(e)),this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){var e;return this.model.enableResize&&(this._ejDialog.addClass("e-resizable"),e=n.buildTag("div.e-icon e-resize-handle"),this.model.showFooter?e.appendTo(this._dialogFooterbar):e.appendTo(this._ejDialog),this._resizeDialog()),this},_changeSkin:function(e){this.model.cssClass!=e&&this._ejDialog.removeClass(this.model.cssClass).addClass(e)},_enableModal:function(e){e?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(e){e?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),n.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),n.buildTag("div.e-disable-overlay").appendTo(this.wrapper),n.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=n.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header e-dialog").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=n.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-dialog e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=n.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var e=this.model.faviconCSS&&!n.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-e),this},_iconsRender:function(e){for(var t=0;t<e.length;t++)switch("msie"==n.browserInfo().name&&n.browserInfo().version<=8?l.trim(e[t]):e[t].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(e[t])}},_customIconsRender:function(e){this._customIcon=n.util.buildTag("div#"+this.element[0].id+"_"+e+"button.e-dialog-icon e-icon e-"+e,null,null).attr("tabIndex","0").attr("title",e),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(){var e;this.element.hasClass("e-disable")||(e={cancel:!1,buttonID:l(event.target).attr("id"),event:event.type,model:this.model,currentTarget:event.currentTarget.title},this._trigger("actionButtonClick",e))},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(e){var t,i,s,a;this.contentDiv=n.isNullOrUndefined(this.contentDiv)?n.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),n.isNullOrUndefined((t=this).model.contentUrl)||n.isNullOrUndefined(e)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],n.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==e?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==e?(0<this.element.children(".e-iframe").length?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=n.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&l(this.iframe).load(function(){t.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:e,url:this.model.contentUrl})):"image"==e?(a=n.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(a).show().appendTo(this.contentDiv),l(a).on("load",function(){t._dialogPosition()}),this._trigger("contentLoad",{contentType:e,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),0<this._ejDialog.find("div.e-resize-handle").length?this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(i=this.element.children().find("iframe").contents()[0],n.isNullOrUndefined(i)?this.contentDiv.appendTo(this._ejDialog):(this.contentDiv.appendTo(this._ejDialog),s=l("#"+this.contentDiv.find("iframe").attr("id")),setTimeout(function(){l(s[0].contentDocument.lastChild).remove(),s[0].contentDocument.appendChild(i)},500))),this.model.showFooter&&(this._renderFooterBar(),null!=this.model.footerTemplateId)&&(a=l("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(a))},_roundedCorner:function(e){this._ejDialog[e?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):this.model.showHeader||this.model.showFooter||this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){var e,t,i,s;null==this.scroller||(this.scroller.refresh(),this.model.enableRTL)||(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize&&(s=this.model.showFooter?(e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),i=0):(e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),i=2,this._ejDialog.find("div.e-resize-handle").outerHeight()),Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1))&&(this.scroller._vScrollbar.model.height-=s+i,this.scroller._vScrollbar._scrollData.handle-=s,this.scroller._vScrollbar._scrollData.handleSpace-=s+i,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(e-s-i)),this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData||!this.scroller._hScrollbar||!this.scroller._hScrollbar._scrollData||!this.model.enableResize||(s=this.model.showFooter?(t=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),i=0):(t=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),i=2,this._ejDialog.find("div.e-resize-handle").outerWidth()),this.scroller._hScrollbar.model.width-=s+i,this.scroller._hScrollbar._scrollData.handle-=s+i,this.scroller._hScrollbar._scrollData.handleSpace-=s+i,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(t-s-i)))},_dialogMaxZindex:function(){var e,i=this.element.parents(),t=l("body").children();return index=t.index(this.popup),t.splice(index,1),l(t).each(function(e,t){i.push(t)}),t=l(this.model.target).children(),cindex=t.index(this.popup),t.splice(cindex,1),l(t).each(function(e,t){i.push(t)}),!(e=Math.max.apply(e,l.map(i,function(e){if("static"!=l(e).css("position"))return parseInt(l(e).css("z-index"))||1})))||e<1e4?e=1e4:e+=1,e},_setZindex:function(){var e=this._dialogMaxZindex();this.model.zIndex<=e&&this._ejDialog.css({zIndex:e+1})},_createOverlay:function(){var e=this._ejDialog.css("zIndex"),e=(n.isNullOrUndefined(this._overLay)||this._overLay.remove(),this._overLay=n.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:e-1}),n.isNullOrUndefined(this.model.containment)||n.isNullOrUndefined(this._target)?n.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,this._overLay.appendTo(n.isNullOrUndefined(i)?document.body:i),n.isNullOrUndefined(this.model.containment)||n.isNullOrUndefined(this._target)?"fixed":"absolute"),t=n.isNullOrUndefined(i)||"fixed"==e||"static"!=l(i).css("position").toLowerCase()?0:l(i).offset().left,i=n.isNullOrUndefined(i)||"fixed"==e||"static"!=l(i).css("position").toLowerCase()?0:l(i).offset().top;this._overLay.css({top:i,left:t,position:e})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var s=this,a=this.model.title,e={success:function(e){try{s._ajaxSuccessHandler(e,t,i,a)}catch(e){}},error:function(e){try{s._ajaxErrorHandler({status:e.status,responseText:e.responseText,statusText:e.statusText},t,i,a)}catch(e){}},complete:function(){try{s._setContainerSize(),s._resetScroller(),s.model.showOnInit||s._setHiddenDialogSize()}catch(e){}}};l.extend(!0,e,this.model.ajaxSettings),this._sendAjaxRequest(e)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(e){l.ajax({type:e.type,cache:e.cache,url:e.url,dataType:e.dataType,data:e.data,contentType:e.contentType,async:e.async,success:e.success,error:e.error,beforeSend:e.beforeSend,complete:e.complete})},_ajaxSuccessHandler:function(e,t,i){t.removeClass("e-load"),t.html(e).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:e,url:i})},_ajaxErrorHandler:function(e,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:e,url:i})},_closeIcon:function(){this._dialogClose=n.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):("close"==this.model.closeIconTooltip&&this.model.tooltip.close,this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close)),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=n.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=n.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=n.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=n.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){var e;this._dialogFavIcon?e=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom"):(this._dialogFavIcon=n.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")}),(e=n.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"})).appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)),this.model.faviconCSS?e.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),i=parseInt(this.model.maxWidth),s=parseInt(this.model.maxHeight),a=parseInt(this.model.width),n=parseInt(this.model.height),o=this._getParentObj();isNaN(this.model.minWidth)&&0<this.model.minWidth.indexOf("%")&&(e=this._convertPercentageToPixel(o.outerWidth(),e)),isNaN(this.model.minHeight)&&0<this.model.minHeight.indexOf("%")&&(t=this._convertPercentageToPixel(o.outerHeight(),t)),isNaN(this.model.maxWidth)&&0<this.model.maxWidth.indexOf("%")&&(i=this._convertPercentageToPixel(o.innerWidth(),i)),isNaN(this.model.maxHeight)&&0<this.model.maxHeight.indexOf("%")&&(s=this._convertPercentageToPixel(o.innerHeight(),s)),isNaN(this.model.width)&&0<this.model.width.indexOf("%")&&(a=this._convertPercentageToPixel(o.innerWidth(),a)),isNaN(this.model.height)&&0<this.model.height.indexOf("%")&&(n=this._convertPercentageToPixel(o.innerHeight(),n)),(i&&i<a||e&&a<e)&&(this.model.width=i<a?i:e),(s&&s<n||t&&n<t)&&(this.model.height=s<n?s:t)},_setSize:function(){var e=this.model;return this._minMaxValidation(),this._ejDialog.css({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth}),this._ejDialog.css({height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var e=this._ejDialog.outerHeight(!0)-(this.model.showHeader?l(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?l(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),e={width:this._ejDialog.width()-2,enableRTL:this.model.enableRTL,height:e,enableTouchScroll:!1};"auto"!=this.model.height||!(this.element.height()<this.model.maxHeight)&&this.model.maxHeight||this._maximize||(e.height="auto"),"auto"!=this.model.width||this._maximize||(e.width=this.model.width),this.contentDiv.ejScroller(e),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(l(this.element).css("padding-top"))+parseInt(l(this.element).css("padding-bottom")),"none"==l(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!n.isNullOrUndefined(this.contentDiv.height())&&0<this.contentDiv.height()&&(e=n.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:(this.scroller._hScrollbar||!this.scroller._vScrollbar)&&this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:e}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?l(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth(this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(e,t){this.contentDiv.ejScroller({width:t,height:e,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var i=this;this._ejDialog.parents(".e-dialog-scroller");return this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(e){return e.element.attr("aria-grabbed",!0),i._clickHandler(),i.dialogPin||!i.model.allowDraggable||!i.model.enabled||i._trigger("dragStart",{event:e})?!(e.cancel=!0):void 0},drag:function(e){i._trigger("drag",{event:e})},dragStop:function(e){i._ejDialog.focus(),e.element.attr("aria-grabbed",!1),i.element.find("> .e-draggable.e-titlebar")&&(dragobject=l("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&dragobject.option("cursorAt",i.element.offset());var t=this.helper.offsetParent().offset();i._trigger("dragStop",{event:e}),i.model.position.X=n.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[t.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],i.model.position.Y=n.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[t.top+parseFloat(this.helper.offsetParent().css("border-top-width"))]},helper:function(){return l(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){var i,s,e,t,a,n,o;if(this.model.enableResize)return i=this,s=!1,e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),a=parseInt(this.model.maxWidth),n=parseInt(this.model.maxHeight),o=this._getParentObj(),isNaN(this.model.minWidth)&&0<this.model.minWidth.indexOf("%")&&(e=this._convertPercentageToPixel(o.outerWidth(),e)),isNaN(this.model.minHeight)&&0<this.model.minHeight.indexOf("%")&&(t=this._convertPercentageToPixel(o.outerHeight(),t)),isNaN(this.model.maxWidth)&&0<this.model.maxWidth.indexOf("%")&&(a=this._convertPercentageToPixel(o.innerWidth(),a)),isNaN(this.model.maxHeight)&&0<this.model.maxHeight.indexOf("%")&&(n=this._convertPercentageToPixel(o.innerHeight(),n)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:t,minWidth:e,maxHeight:n,maxWidth:a,handle:"e-widget-content",resizeStart:function(e){if(!i.model.enabled)return!1;s||i._trigger("resizeStart",{event:e}),s=!0,i.model.position={X:i._ejDialog.css("left"),Y:i._ejDialog.css("top")},i._dialogPosition()},resize:function(e){var t=l(e.element).parents("div.e-dialog-wrap");i.model.height=l(t).outerHeight(),i.model.width=l(t).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),i._updateCaptionWidth(),i._trigger("resize",{event:e}),i._sizeType={width:"px",height:"px"},(scrObj=i._ejDialog.closest(".e-dialog.e-js").data("ejDialog"))&&scrObj._resetScroller()},resizeStop:function(e){i._ejDialog.focus(),i._sizeInPercent();var t=l(e.element).parents("div.e-dialog-wrap");i.model.height=l(t).outerHeight(),i.model.width=l(t).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),s&&i._trigger("resizeStop",{event:e}),s=!1,i._setDimension()},helper:function(){return l(i._ejDialog)}}),this},_dialogPosition:function(){return 0<this._ejDialog.parents("form").length&&n.isNullOrUndefined(this.model.containment)&&n.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y?(this._ejDialog.css("position","absolute"),this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):this._centerPosition(),this},_centerPosition:function(){var e,t,i,s=0,a=0;n.isNullOrUndefined(this.model.target)&&(n.isNullOrUndefined(this._target)||l(this._target).is(l(document))||l(this._target).is(l(window)))?(i=document.documentElement,s=(l(window).outerWidth()>this._ejDialog.width()?(l(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||i.scrollLeft),a=(l(window).outerHeight()>this._ejDialog.height()?(l(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||i.scrollTop)):("static"==(i=n.isNullOrUndefined(this._target)?l(this.model.target):l(this._target)).css("position")&&(e=i.offsetParent().offset(),s=(t=i.offset()).left-e.left,a=t.top-e.top),i.outerWidth()>this._ejDialog.width()&&(s+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(a+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:a,left:s}),this._ejDialog.css("position","absolute")},_closeClick:function(e){this.model.enabled&&(e.stopPropagation(),this.close(e))},_collapsibleClick:function(e){this.model.enabled&&(l(e.target).hasClass("e-arrowhead-up")?this._actionCollapse(e):l(e.target).hasClass("e-arrowhead-down")&&this._actionExpand(e))},_actionCollapse:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!e}),this._collapsible=!0)},_actionExpand:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!e}),this._collapsible=!1)},_maximizeClick:function(e){var t;this.model.enabled&&(e=l(e.target),t=this._dialogMaximize,e.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize)&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),e.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):e.hasClass("e-restore")&&(this._actionRestore(),e.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!n.isNullOrUndefined(t)&&l(t).hasClass("e-arrowhead-down")&&(l(t).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))),this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var e=this;this._dialogCollapsible&&!n.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",function(){e.refresh(),e._reRenderScroller()}),this._resetScroller()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(e){var t;this.model.enabled&&(e=l(e.target),t=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize,e.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):e.hasClass("e-restore")&&(this._actionRestore(),e.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!n.isNullOrUndefined(t)&&l(t).hasClass("e-arrowhead-down")&&(l(t).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0)))},_actionMinimize:function(){var e;l(window).height(),this._ejDialog.height(),this.element.height();this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?e=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),e=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",e+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(e){var t=this._dialogCollapsible||null;e?(n.isNullOrUndefined(t)||l(t).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(n.isNullOrUndefined(t)||l(t).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(e){this.model.enabled&&((e=l(e.target)).hasClass("e-unpin")?(this.dialogPin=!0,e.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):e.hasClass("e-pin")&&(this.dialogPin=!1,e.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin)))},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible)&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse))},_clickHandler:function(){var e=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<e&&this._ejDialog.css({zIndex:e+1})},_mouseClick:function(e){e.currentTarget==this._id&&(l(e.target).hasClass("e-dialog")||l(e.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),l(e.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(e){code=e.keyCode||e.which||e.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&l(e.target).hasClass("e-dialog")&&-1<l.inArray(code,this.keyConfigs)&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(code,e.ctrlKey),e.preventDefault()),this.model.closeOnEscape&&27===code&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(e),e.preventDefault())),13===code&&this.model.enabled&&(l(e.target).hasClass("e-close")?this.close(e):(l(e.target).hasClass("e-arrowhead-up")||l(e.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(e),l(e.target).hasClass("e-maximize")||l(e.target).hasClass("e-restore")&&l(e.target).is(this._dialogMaximize)?this._maximizeClick(e):(l(e.target).hasClass("e-minus")||l(e.target).hasClass("e-restore")&&l(e.target).is(this._dialogMinimize))&&this._minimizeClick(e),l(e.target).hasClass("e-pin")||l(e.target).hasClass("e-unpin"))&&this._pinClick(e),9==code&&this.model.enableModal&&this._focusOnTab(e)},_focusOnTab:function(e){var t=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')"),t=l(t).find("a, button, :input, select, [tabindex]:not('')");e.shiftKey?t[t.index(e.target)-1]||(e.preventDefault(),t.last().focus()):t[t.index(e.target)+1]||(e.preventDefault(),t[0].focus())},_keyPressed:function(e,t){switch(e){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:3<this._ejDialog.position().top?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:3<this._ejDialog.position().left?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(e,t){this.model.enableResize&&this.option(e,t)},_sizeInPercent:function(){var e;return this._enableWindowResize()&&(e=this._getParentObj(),this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(e.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(e.outerHeight(),this._ejDialog.outerHeight()),100<=this._widthPercent&&(this._widthPercent=100,this._ejDialog.outerWidth(e.outerWidth()),this.model.width=this._ejDialog.width()),100<=this._heightPercent)&&(this._heightPercent=100,this._ejDialog.outerHeight(e.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return n.isNullOrUndefined(this.model.containment)?n.isNullOrUndefined(this.model.target)?l(document):l(this.model.target):l(this.model.containment)},_convertPercentageToPixel:function(e,t){return Math.round(t*e/100)},_convertPixelToPercentage:function(e,t){return Math.round(t/e*100)},_reSizeHandler:function(){var e;this._maximize?this._resetScroller():(this._minimize||this._centerPosition(),e=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=l(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(e):this._pixelsWidthDimension(e):this._windowSize.outerHeight!=l(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(e):this._pixelsHeightDimension(e)),this._change&&this._resizeContainer(e),this._windowSize={outerWidth:l(window).outerWidth(),outerHeight:l(window).outerHeight()})},_setDimension:function(){n.isNullOrUndefined(this.model.maxWidth)?n.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:"px"!=this._sizeType.width&&"auto"!=this._sizeType.width||(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,n.isNullOrUndefined(this.model.maxHeight)?n.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:"px"!=this._sizeType.height&&"auto"!=this._sizeType.height||(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(e){this._ejDialog.outerWidth(this._convertPercentageToPixel(e.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(e){this._ejDialog.outerHeight(this._convertPercentageToPixel(e.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(e){l(e).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(e),l(e).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(e),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<l(e).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(e.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(e){l(e).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(e),l(e).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(e),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<l(e).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(e.outerHeight()),this._change=!0)},_setWidth:function(e){this._ejDialog.outerWidth(e.outerWidth()),this._change=!0},_setHeight:function(e){this._ejDialog.outerHeight(e.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width()),this.contentDiv.height(this._ejDialog.height()-(this.model.showHeader?l(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1),this.element.outerHeight(this._ejDialog.height()-(this.model.showHeader?l(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1),this.scroller=this.contentDiv.ejScroller({width:this._ejDialog.width()-2,height:this.element.outerHeight(),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._minimize?this._ejDialog.css("height",this._dialogTitlebar.outerHeight()):this._centerPosition(),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return n.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&0<this.model.width.indexOf("%")&&isNaN(this.model.height)&&0<this.model.height.indexOf("%")&&"auto"!=this.model.height)},_wireResizing:function(){l(window)[this._enableWindowResize()?"on":"off"]("resize",l.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var e,t,i,s;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),t={},(e=this)._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),t="slide"==this.model.animation.show.effect?(s=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),{left:s,opacity:1}):{opacity:1}),this._ejDialog.animate(t,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){e.model&&("none"==e._ejDialog.css("display")&&e._ejDialog.show(),e._ejDialog.eq(0).focus(),e._ejDialog.css({opacity:""}),e.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),e._trigger("open"),e._updateCaptionWidth(),e.model.maxHeight||e.model.maxWidth)&&(i=e._ejDialog.outerHeight(!0)-(e._dialogTitlebar?e._dialogTitlebar.outerHeight(!0):0),"auto"!=e.model.height&&"100%"!=e.model.height||(i=e.model.height),e._updateScroller(i,e._ejDialog.width()-2))}),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&(dragobject=l("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&dragobject.option("cursorAt",this.element.offset()),this)},close:function(e){var t,i,s;return!this._isOpen||!this.model.enabled||1!=this._trigger("beforeClose",{event:e,isInteraction:t=!!e})&&(this._isOpen=!1,s={},(i=this).model.enableAnimation&&(s="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(s,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){i._trigger("close",{event:e,isInteraction:t}),i._ejDialog.hide()}),this.model.enableModal&&this._overLay&&this._overLay.remove(),this)},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(e){return this.model.title=e,this._titleText.text(e),this._updateCaptionWidth(),this},setContent:function(e){return!!this.model.enabled&&(this.element.html(e),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),l(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),l(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),l(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this.contentDiv.show(),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){var e;if(this.model.showHeader)return e=this._minimize,this._actionRestore(),l(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(e?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,l(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,l(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),n.Dialog.Locale=n.Dialog.Locale||{},n.Dialog.Locale.default=n.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},closeIconTooltip:"close"}}),!function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var t,i;t=jQuery,(i=Syncfusion).widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(e){var i=this;t.map(e,function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e),"disabled"==t&&"disabled"==e&&i.disable()})},_destroy:function(){this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(e){for(var t in e)switch(t){case"size":this._setSize(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"contentType":this._setContentType(e[t]);break;case"imagePosition":this._setImagePosition(e[t]);break;case"text":this._setText(e[t]);break;case"prefixIcon":this._setMajorIcon(e[t]);break;case"suffixIcon":this._setMinorIcon(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"timeInterval":this.model.timeInterval=e[t];break;case"htmlAttributes":this._addAttr(e[t])}},_setSize:function(e){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+e)},_setType:function(e){this.element.prop({type:e})},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(e){this.element.css("width",e)},_setText:function(e){"inputButton"==this.buttonType?this.element.val(e):(this.model.contentType==i.ContentType.TextOnly?this.element:this.textspan).html(e),this.model.text=e},_setMajorIcon:function(e){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(e),this.model.prefixIcon=e},_setMinorIcon:function(e){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(e),this.model.suffixIcon=e},_setContentType:function(e){e!=this.model.contentType&&(this.element.empty(),this.model.contentType=e,this._renderButtonNormal())},_setImagePosition:function(e){this.model.contentType==i.ContentType.TextAndImage&&e!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=e,this._renderButtonNormal())},_setRTL:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(e){e?this.enable():this.disable()},_setSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass),this.element.addClass(e))},_initialize:function(){i.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.model.text&&this.element.attr("aria-describedby",this.model.text)},_renderButtonNormal:function(){if(null!=this.model.text&&""!=this.model.text||(this.model.text=this.element.html()),this.element.empty(),this.textspan=i.buildTag("span.e-btntxt",this.model.text),-1<this.model.contentType.indexOf("image")&&(this.majorimgtag=i.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=i.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=i.buildTag("div")),this.model.contentType==i.ContentType.TextAndImage){switch(this.model.imagePosition){case i.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case i.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case i.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case i.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==i.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==i.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==i.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(e){1==e?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(e){e&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(t(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(t(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(e){if(!this.model.enabled)return!1;this.element.hasClass("e-disable")||(e={target:e.currentTarget,e:e,status:this.model.enabled},this._trigger("click",e))},_btnRepatMouseClickEvent:function(e){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(t.model.enabled,0!=e.button&&1!=e.which)||(t._timeout=setInterval(function(){t._trigger("click",{target:e.currentTarget,status:t.model.enabled})},this.model.timeInterval))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(e){var t;this.element.hasClass("e-disable")||(t={status:this.model.enabled},32!=e.keyCode&&13!=e.keyCode)||this._trigger("click",t)},_btnRepatKeyUpEvent:function(e){32!=e.keyCode&&13!=e.keyCode||clearTimeout(this._timeout)}}),i.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},i.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},i.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},i.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}),!function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min"],e):e()}(function(){var m,p;m=jQuery,(p=Syncfusion).widget({ejNumericTextbox:["ej.NumericTextbox","e-numerictextbox"],ejPercentageTextbox:["ej.PercentageTextbox","e-percentagetextbox"],ejCurrencyTextbox:["ej.CurrencyTextbox","e-currencytextbox"]},{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0,requireParser:!0},defaults:{width:"",height:"",value:null,name:null,htmlAttributes:{},minValue:-Number.MAX_VALUE,maxValue:Number.MAX_VALUE,incrementStep:1,decimalPlaces:0,validateOnType:!1,cssClass:"",enablePersistence:!1,showSpinButton:!0,locale:"en-US",enableStrictMode:!1,showRoundedCorner:!1,readOnly:!1,enabled:!0,enableRTL:!1,watermarkText:"",validationRules:null,validationMessage:null,groupSeparator:null,groupSize:null,positivePattern:null,negativePattern:null,change:null,focusIn:null,focusOut:null,create:null,destroy:null},dataTypes:{minValue:"number",maxValue:"number",incrementStep:"number",decimalPlaces:"number",showSpinButton:"boolean",enableStrictMode:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",locale:"string",watermarkText:"string",cssClass:"string",readOnly:"boolean",enabled:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",validateOnType:"boolean",groupSeparator:"string"},observables:["value"],_setModel:function(e){var t,i=!1;for(t in e)switch(t){case"value":p.isNullOrUndefined(e.minValue)&&p.isNullOrUndefined(e.maxValue)?(this._setValue(e[t],!0),e[t]=this.model.value):(this.model.value=this._checkNumValue(e[t]),this._localizedFormat(),this._raiseChangeEvent(!0),i=!0);break;case"enableRTL":this._enableRTL(e[t]);break;case"width":this._setWidth(e[t]);break;case"height":this._setHeight(e[t]);break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[t],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[t],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"minValue":if(isNaN(e[t]))return;this.model.minValue=parseFloat(e[t].toFixed(this.model.decimalPlaces)),i=!0;break;case"maxValue":if(isNaN(e[t]))return;this.model.maxValue=parseFloat(e[t].toFixed(this.model.decimalPlaces)),i=!0;break;case"incrementStep":if(isNaN(e[t]))return;this.model.incrementStep=parseFloat(e[t].toFixed(this.model.decimalPlaces));break;case"enableStrictMode":this.model.enableStrictMode=e[t];break;case"showSpinButton":this._showSpin(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"locale":this.model.decimalPlaces=p.isNullOrUndefined(this._options.decimalPlaces)&&this.model.decimalPlaces===this.culture.numberFormat.decimals||-1===this._options.decimalPlaces?-1:this.model.decimalPlaces,this._setLocalize(e[t]),this._options.decimalPlaces=this.model.decimalPlaces,e[t]=this.model.locale;break;case"decimalPlaces":this._setDecimal(e[t]),p.isNullOrUndefined(this._options)&&(this._options={}),this._options.decimalPlaces=e[t];break;case"cssClass":this._setSkin(e[t]);break;case"readOnly":this._setReadOnly(e[t]);break;case"enabled":e[t]?this.enable():this.disable();break;case"watermarkText":p.isNullOrUndefined(this._options)||(this._options=[]),this._options.watermarkText=this.model.watermarkText=e[t],this._localizedLabels.watermarkText=this.model.watermarkText,this._changeWatermark(e[t]);break;case"htmlAttributes":this._addAttr(e[t]);break;case"groupSeparator":this._checkSeparator(e[t]),e[t]=this.model.groupSeparator;break;case"positivePattern":case"negativePattern":case"groupSize":this.model[t]=e[t],this._options[t]=e[t],this._initCustomValue(),e[t]=this.model[t],this._setValue(this.model.value,!0)}i&&(this._validateMinMaxValue(!0,!0),e.value=this.model.value,e.maxValue=this.model.maxValue,e.minValue=this.model.minValue,this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),this.element.attr({"aria-valuemin":this.model.minValue,"aria-valuemax":this.model.maxValue,"aria-valuenow":this.model.value})),this._checkSeparator(this.model.groupSeparator),this.element.val(this._removeSeparator(this.model.value)),this._updateSeparator(),this._checkErrorClass()},_destroy:function(){this.wrapper&&(this.element.insertBefore(this.wrapper),this.wrapper.remove()),this._isWatermark&&this.element.removeAttr("placeholder"),this.element.val("").removeClass("e-input e-disable").empty(),this.element.removeAttr("disabled aria-disabled aria-valuemin aria-valuemax aria-valuenow aria-live"),this._cloneElement.attr("role")||this.element.removeAttr("role"),this.element.css("display","block")},_init:function(e){if(this._cloneElement=this.element.clone(),this._options=p.isNullOrUndefined(e)?{}:e,!this.element.is("input")||!this.element.is("input[type=text]")&&this.element.attr("type"))return this._destroy(),!1;this._isWatermark="placeholder"in document.createElement("input"),this.model.locale="en"==p.preferredCulture(this.model.locale).name?"en-US":p.preferredCulture(this.model.locale).name,this._localizedLabels=this._getLocalizedLabels(),this.culture=p.preferredCulture(this.model.locale),this._initCustomValue(),this._prevSeparator=null,this._checkSeparator(this.model.groupSeparator),this._checkAttribute(),this._renderControl(),this._setValues(),this._wireEvents(),this._initObjects(),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._updateSeparator(),e&&null!=e.value&&this._trigger("_change",{value:this.model.value})},_checkAttribute:function(){for(var e,t,i=["min","max","step","readonly","disabled","placeholder"],s=["minValue","maxValue","incrementStep","readOnly","enabled","watermarkText"],a=0;a<i.length;a++)e=this.element.attr(i[a]),t=s[a],p.isNullOrUndefined(e)||p.isNullOrUndefined(this._options)||!p.isNullOrUndefined(this._options[t])||("watermarkText"==t?this._options[t]=e:this.model[t]="disabled"!=t&&"readOnly"!=t?p.parseFloat(e,this.model.locale):"readOnly"==t?this.element.is("[readonly]"):!this.element.is("[disabled]"))},_addAttr:function(e){var s=this;m.map(e,function(e,t){var i=t.toLowerCase();"class"==i?s.wrapper.addClass(e):"accesskey"==i?s._hiddenInput.attr(t,e):"disabled"==i&&"disabled"==e?s.disable():"readonly"==i&&"readOnly"==e?s._setReadOnly(!0):("tabindex"==i?(s._hiddenInput.attr(t,e),s.element):"style"!=i&&"id"!=i&&p.isValidAttr(s.element[0],t)?s.element:s.wrapper).attr(t,e)})},_setValues:function(){this._id=this.element[0].id,this._textBox=this._hiddenInput[0],this._error=!1,this._timeout=null,this.isValidState=!0,this._allowkeyboard=!0,this._validateOnType=!1,this._focused=!1,this._startValue=0,"ej.CurrencyTextbox"===this.sfType&&this.model.minValue==-Number.MAX_VALUE&&(this.model.minValue=0),(p.isNullOrUndefined(this.model.decimalPlaces)||this.model.decimalPlaces<0)&&(this.model.decimalPlaces=("ej.CurrencyTextbox"===this.sfType?p.preferredCulture(this.model.locale).numberFormat.currency:p.preferredCulture(this.model.locale).numberFormat).decimals),this.model.minValue=parseFloat(this.model.minValue.toFixed(this.model.decimalPlaces)),this.model.maxValue=parseFloat(this.model.maxValue.toFixed(this.model.decimalPlaces)),this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),p.isNullOrUndefined(this._options)||p.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this._localizedFormat(),this._validateMinMaxValue(!0),this._updateSymbol(this.model.locale),value=p.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(value)},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var e,t,i,s,a=this.model.validationRules;for(t in this.element.rules("add",a),e=(e=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=this.element.attr("name"),e.settings.messages[name]={},a)if(i=null,!p.isNullOrUndefined(a[t])){if(p.isNullOrUndefined(a.messages&&a.messages[t]))for(s in e.settings.messages[name][t]=m.validator.messages[t],this.model.validationMessage)t==s&&(i=this.model.validationMessage[t]);else i=a.messages[t];e.settings.messages[name][t]=null!=i?i:m.validator.messages[t]}},_renderControl:function(){this.wrapper=p.buildTag("span.e-widget e-pinch"),this.innerWrap=p.buildTag("span.e-in-wrap e-box "),this.wrapper.attr("style",this.element.attr("style")),"ej.NumericTextbox"===this.sfType?this.wrapper.addClass("e-numeric"):"ej.PercentageTextbox"===this.sfType?this.wrapper.addClass("e-percent"):"ej.CurrencyTextbox"===this.sfType&&this.wrapper.addClass("e-currency"),this.wrapper.append(this.innerWrap).insertAfter(this.element),this.innerWrap.append(this.element),this._hiddenInput=p.buildTag("input","",{},{type:"text"}).insertBefore(this.element),this._hiddenInput.attr("data-role","none"),this._hiddenInput[0].tabIndex=this.element[0].tabIndex,this._hiddenInput.attr("accesskey",this.element[0].accessKey),this.element[0].accessKey="",this._hiddenInput.css("display","block"),this.element.css("display","none"),this._isWatermark||(this._hiddenSpan=p.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this._localizedLabels.watermarkText),this._hiddenSpan.css("display","none"),this._on(this._hiddenSpan,"mousedown",this._focusIn),this._on(this._hiddenSpan,"mousewheel",this._mouseWheel),this._on(this._hiddenSpan,"DOMMouseScroll",this._mouseWheel)),this.model.name=null!=this.element.attr("name")?this.element.attr("name"):null!=this.model.name?this.model.name:this.element[0].id,null==this.element.attr("name")&&this.element.attr("name",this.model.name),this.element.addClass("e-input"),this.model.value=p.isNullOrUndefined(this.model.value)&&""!=this.element[0].value?this._checkNumValue(this.element[0].value):this._checkNumValue(this.model.value),this._hiddenInput.attr({value:this.model.value}).addClass("e-input"),this.element.attr({role:"spinbutton","aria-valuemin":this.model.minValue,"aria-valuemax":this.model.maxValue,"aria-valuenow":this.model.value,"aria-live":"assertive",value:this.model.value});var e=m('<span class="e-select"><span class="e-spin e-spin-up " role="button" "aria-label"="Increase Value" unselectable="on" /><span class="e-spin e-spin-down" role="button" "aria-label"="Decrease Value" unselectable="on" /></span>');e.find(".e-spin-up").append(p.buildTag("span.e-icon e-arrow e-arrow-sans-up").attr({role:"presentation",unselectable:"on"})),e.find(".e-spin-down").append(p.buildTag("span.e-icon e-arrow e-arrow-sans-down").attr({role:"presentation",unselectable:"on"})),this.innerWrap.append(e),this.spin=this.wrapper.find(".e-select"),this.spinUp=this.wrapper.find(".e-spin-up"),this.spinDown=this.wrapper.find(".e-spin-down"),this._setWidth(this.model.width),this._setHeight(this.model.height),""!=this.model.cssClass&&this._setSkin(this.model.cssClass),this._showSpin(this.model.showSpinButton),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._enableRTL(this.model.enableRTL),this.model.readOnly&&this._setReadOnly(this.model.readOnly),this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this.enable():this.disable()},_initObjects:function(){this._preVal=this.model.value,null===this.model.value?(this.isValidState=!0,this._hiddenInput.val(null)):(this.model.value<this.model.minValue||this.model.value>this.model.maxValue)&&(this.isValidState=!1),this._checkErrorClass(),this._setWaterMark()},_showSpin:function(e){e?(this.spin&&(this.spin.show(),this.innerWrap.addClass("e-padding")),this._spinEvents("_on")):(this.spin&&(this.spin.hide(),this.innerWrap.removeClass("e-padding")),this._spinEvents("_off"))},_roundedCorner:function(e){e&&!this.innerWrap.hasClass("e-corner")?this.innerWrap.addClass("e-corner"):this.innerWrap.hasClass("e-corner")&&this.innerWrap.removeClass("e-corner")},_enableRTL:function(e){e?(this.spin?this.wrapper:this.element).addClass("e-rtl"):(this.spin?this.wrapper:this.element).removeClass("e-rtl")},_setWidth:function(e){""!=e?this.wrapper.width(e):this.model.width=this.wrapper.outerWidth()},_setHeight:function(e){""!=e?this.wrapper.height(e):this.model.height=this.wrapper.outerHeight()},_setSkin:function(e){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(e)},_setValue:function(e,t){this._isWatermark||this._hiddenSpan.css("display","none"),this.model.value=this._checkNumValue(e),this._validateMinMaxValue(!1),this._checkErrorClass(),this._localizedFormat(),this._raiseChangeEvent(t),this._setWaterMark()},_setLocalize:function(e){var t=p.preferredCulture(this.model.locale).numberFormat[","];this.model.locale="en"==p.preferredCulture(e).name?"en-US":p.preferredCulture(e).name,this.model.groupSeparator=p.isNullOrUndefined(this._options.groupSeparator)&&t===this.model.groupSeparator?p.preferredCulture(this.model.locale).numberFormat[","]:this.model.groupSeparator,this._localizedLabels=this._getLocalizedLabels(),p.isNullOrUndefined(this._options)||p.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this.culture=p.preferredCulture(this.model.locale),this._initCustomValue(),this._updateSymbol(this.model.locale),this._localizedFormat(),this._changeWatermark(this.model.watermarkText),value=p.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(value)},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText},_updateSymbol:function(e){this._percentSymbol=p.preferredCulture(e).numberFormat.percent.symbol,this._currencySymbol=p.preferredCulture(e).numberFormat.currency.symbol},_setDecimal:function(e){this.model.decimalPlaces=e,this._localizedFormat()},_validateMinMaxValue:function(e,t){var i=!1;this.model.minValue>this.model.maxValue&&(this.model.minValue=this.model.maxValue),!p.isNullOrUndefined(this.model.value)&&this.model.minValue>this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this._startValue=this.model.value=this.model.minValue):this.isValidState=!1,i=!0):!p.isNullOrUndefined(this.model.value)&&this.model.maxValue<this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this.model.value=this.model.maxValue):this.isValidState=!1,i=!0):this.isValidState=!0,this.model.minValue==this.model.maxValue&&(this._startValue=this.model.minValue),i&&e&&(i=this._formatValue(this.model.value,"n",!0),this._hiddenInput.val(i),i=p.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(i),this._localizedFormat(),this._raiseChangeEvent(t))},_convertToExponetial:function(e){var t,i,s,a="",n=e<0;for(e=e.toString(),i=p.preferredCulture(this.model.locale).numberFormat,e=e.replace(".",i["."]),unformattedValue=e,"ej.NumericTextbox"===this.sfType?(t=n?i.pattern[0]:"n",e=n?e.replace("-",""):e,symbol=""):"ej.PercentageTextbox"===this.sfType?(t=n?i.percent.pattern[0]:i.percent.pattern[1],e=n?e.replace("-",""):e,symbol=i.percent.symbol):"ej.CurrencyTextbox"===this.sfType&&(t=n?i.currency.pattern[0]:i.currency.pattern[1],e=n?e.replace("-",""):e,symbol=i.currency.symbol),idx=0,s=t.length;idx<s;idx++)a+="n"===(ch=t.charAt(idx))?e:"$"===ch||"%"===ch?symbol:ch;return{formattedValue:a,unformattedValue:unformattedValue}},_localizedFormat:function(){var e;this.culture=p.preferredCulture(this.model.locale),p.isNullOrUndefined(this.model.value)?this._textBox.value="":-1==this.model.value.toString().indexOf("e")?(this._textBox.value=this._removeSeparator(this.model.value),this._focused||""==this._textBox.value||(this._textBox.value=this._formatValue(this.model.value,"n",!0),"ej.PercentageTextbox"===this.sfType?this._appendPercentSymbol(this._textBox.value):"ej.CurrencyTextbox"===this.sfType&&this._appendCurrencySymbol(this._textBox.value))):(e=this._convertToExponetial(this.model.value),this._textBox.value=e.unformattedValue,this._focused||""==this._textBox.value||(this._textBox.value=e.formattedValue))},_checkNumValue:function(e){return"string"!=typeof(e="string"==typeof e?this._changeSeparator?this._replaceSeparator(e,this.model.groupSeparator,p.preferredCulture(this.model.locale).numberFormat[","]):e:e)||isNaN(this._parseValue(e))?"number"!=typeof e||isNaN(e)?null:e:(e=this._parseValue(e),parseFloat(e))},_setReadOnly:function(e){(this.model.readOnly=e)?(this.element.attr("readonly",!0),this._hiddenInput.attr("readonly",!0)):(this.element.prop("readonly",!1),this._hiddenInput.prop("readonly",!1))},_setWaterMark:function(){null!=this._localizedLabels.watermarkText&&""===this._textBox.value&&""===m.trim(this._hiddenInput.val())&&(this._isWatermark?(this._hiddenInput.attr("placeholder",this._localizedLabels.watermarkText),this.element.attr("placeholder",this._localizedLabels.watermarkText)):this._hiddenSpan.css("display","block").text(this._localizedLabels.watermarkText))},_changeWatermark:function(e){if(!this.model.enabled)return!1;this._isWatermark?(this._hiddenInput.attr("placeholder",e),this.element.attr("placeholder",e)):this._hiddenSpan.text(e)},_setSelectionRange:function(t,i){function s(e){e.collapse(!0),e.moveEnd("character",i),e.moveStart("character",t),e.select()}var a,e=this._textBox;try{e.setSelectionRange?e.setSelectionRange(t,i):e.createTextRange&&s(e.createTextRange())}catch(e){a=this,window.setTimeout(function(){document.body.focus(),a._textBox.select(),s(document.selection.createRange())},1)}},_getSelection:function(e){var t;return document.selection?""===(t=document.selection.createRange()).text?t.text:this._removeFormats(t.text):null==e?this.model.value:this._removeFormats(e.substring(this._textBox.selectionStart,this._textBox.selectionEnd))},_caretPosition:function(){var e,t=this._textBox,i=0;return document.selection?(t.focus(),(e=document.selection.createRange()).moveStart("character",-t.value.length),i=e.text.length):!t.selectionStart&&"0"!=t.selectionStart||(i=t.selectionEnd),i},_appendPercentSymbol:function(e){(e=this._percentSymbol?e.replace(this._percentSymbol,""):e).indexOf(p.preferredCulture(this.model.locale).numberFormat.percent.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(e)/100,"p",!0)),this._percentSymbol=p.preferredCulture(this.model.locale).numberFormat.percent.symbol},_appendCurrencySymbol:function(e){(e=this._currencySymbol?e.replace(this._currencySymbol,""):e).indexOf(p.preferredCulture(this.model.locale).numberFormat.currency.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(e),"c",!0)),this._currencySymbol=p.preferredCulture(this.model.locale).numberFormat.currency.symbol},_removeFormats:function(e){var t=p.preferredCulture(this.model.locale).numberFormat[","];return null!=e?"."==t?e.toString().replace(/["."]/g,""):e.toString().match(new RegExp(t,"g"))?e.toString().replace(new RegExp(t,"g"),""):e:null},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},enable:function(){this.model.enabled=!0,this.element[0].disabled=!1,this.element.prop("disabled",!1),this._hiddenInput.prop("disabled",!1),this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this._hiddenInput.removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select").removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select span.e-icon.e-arrow").removeClass("e-disable"),this.wrapper.removeClass("e-disable-wrap")},disable:function(){this.model.enabled=!1,this.element[0].disabled=!0,this.element.attr("disabled","disabled"),this._hiddenInput.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this._hiddenInput.addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select").addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select span.e-icon.e-arrow").addClass("e-disable"),this.wrapper.addClass("e-disable-wrap")},getValue:function(){return this.model.value},_wireEvents:function(){this._on(this._hiddenInput,"focus",this._focusIn),this._on(this.element,"blur",this._focusOut),this._on(this.element,"keydown",this._keyDown),this._on(this.element,"keypress",this._keyPress),this._on(this.element,"mousewheel",this._mouseWheel),this._on(this.element,"DOMMouseScroll",this._mouseWheel)},_spinEvents:function(e){this[e](this.spinUp,"mousedown mouseup touchstart touchend",this._spinUpClick),this[e](this.spinDown,"mousedown mouseup touchstart touchend",this._spinDownClick)},_isIE8:function(){var e=!1,t=p.browserInfo();return e="msie"==t.name&&"8.0"==t.version?!0:e},_spinUpClick:function(e){var t,i=!1;e.button?i=this._isIE8()?1!=e.button:0!=e.button:e.which&&(i=3==e.which),i||(e.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this._on(this.spinUp,"mouseleave",this._mouseUpClick),this.spinUp.addClass("e-active"),t=this,"mouseup"==e.type||"touchend"==e.type?(this._updateInputField("increment"),this.spinUp.removeClass("e-active"),this._off(m(document),"mouseup",this._mouseUpClick)):"mousedown"!=e.type&&"touchstart"!=e.type||(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval(function(){t._updateInputField("increment")},150),this._on(m(document),"mouseup",this._mouseUpClick))))},_spinDownClick:function(e){var t,i=!1;e.button?i=this._isIE8()?1!=e.button:0!=e.button:e.which&&(i=3==e.which),i||(t=this,e.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this._on(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.addClass("e-active"),"mouseup"==e.type||"touchend"==e.type?(this._updateInputField("decrement"),this.spinDown.removeClass("e-active"),this._off(m(document),"mouseup",this._mouseUpClick)):"mousedown"!=e.type&&"touchstart"!=e.type||(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval(function(){t._updateInputField("decrement")},150),this._on(m(document),"mouseup",this._mouseUpClick))))},_mouseUpClick:function(e){e.stopPropagation(),clearTimeout(this._timeout),this._off(this.spinUp,"mouseleave",this._mouseUpClick),this._off(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.removeClass("e-active"),this.spinUp.removeClass("e-active")},_mouseWheel:function(e){var t,i;e.preventDefault(),this._focused||this.element[0].focus(),this.model.enabled&&!this.model.readOnly&&((i=e.originalEvent).wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),0<t?this._updateInputField("increment"):t<0&&this._updateInputField("decrement"),this._cancelEvent(e))},_numberValue:function(){var e=this._textBox.value;return"ej.NumericTextbox"===this.sfType&&(e=this._formatValue(this.model.value,"n",!0)),"string"!=typeof(e="ej.PercentageTextbox"!==this.sfType&&"ej.CurrencyTextbox"!==this.sfType?e:this._formatValue(this.model.value,"n",!0))||isNaN(this._parseValue(e))?"":e},_formatValue:function(e,t,i){i&&this._updateCultureInfo();e=p.format(e,t+this.model.decimalPlaces,this.model.locale);return i&&this._restCultureInfo(),e},_parseValue:function(e){this._updateCultureInfo();e=p.parseFloat(e,this.model.locale);return this._restCultureInfo(),e},_initCustomValue:function(){var e,t="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";switch(t){case"percent":case"currency":e=this.culture.numberFormat[t],p.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=e.pattern[0]),p.isNullOrUndefined(this._options.positivePattern)&&(this.model.positivePattern=e.pattern[1]),p.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=e.groupSizes[0]);break;case"numeric":e=this.culture.numberFormat,p.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=e.pattern[0]),p.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=e.groupSizes[0])}},_updateCultureInfo:function(){var e="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric",t="numeric"==e?this.culture.numberFormat:this.culture.numberFormat[e];this._oldNegativePattern=t.pattern[0],this._oldGroupSize=t.groupSizes[0],t.pattern[0]=this.model.negativePattern,t.groupSizes[0]=this.model.groupSize,"numeric"!=e&&(this._oldPositivePattern=t.pattern[1],t.pattern[1]=this.model.positivePattern)},_restCultureInfo:function(){var e="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric",t="numeric"==e?this.culture.numberFormat:this.culture.numberFormat[e];t.pattern[0]=this._oldNegativePattern,t.groupSizes[0]=this._oldGroupSize,"numeric"!=e&&(t.pattern[1]=this._oldPositivePattern)},_toggleTextbox:function(e){this._hiddenInput.toggle(e),this.element.toggle(!e)},_focusIn:function(){var e;this.model.readOnly||(this._focused=!0,p.isNullOrUndefined(this.model.value)||this.element.val(this._removeSeparator(this.model.value)),this._toggleTextbox(!1),this._textBox=this.element[0],this.element[0].focus(),this._preVal=this.model.value,this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),this._error||(""!=this._textBox.value&&(e=this._formatValue(this._textBox.value,"n",!0),this._textBox.value=e,this._hiddenInput.val(e)),this._setSelectionRange(0,this._textBox.value.length)),this._trigger("focusIn",{value:this.model.value}))},_focusOut:function(){var e;this._focused=!1,this.wrapper.removeClass("e-focus"),this._error||(""!=this._textBox.value?((e=p.parseFloat(this._textBox.value,this.model.locale))<this.model.minValue?this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.minValue,"n",!0):e>this.model.maxValue&&(this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.maxValue,"n",!0)),this.model.value=p.parseFloat(this._textBox.value,this.model.locale),isNaN(this.model.value)&&!this.model.value&&(this.model.value=null,this.isValidState=!1),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0],this._localizedFormat(),this._checkErrorClass()):(e=""==this._textBox.value?null:this._textBox.value,this.model.value=e,this._hiddenInput.val(e),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0]),null===this.model.value||this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue?this.isValidState=!0:this.model.enableStrictMode&&(this.isValidState=!1),this._raiseChangeEvent(),this._setWaterMark(),e=p.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(e),this._updateSeparator(),this._trigger("focusOut",{value:this.model.value})),this._checkErrorClass()},_cancelEvent:function(e){return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation(),e.preventDefault(),!1},_updateInputField:function(e){var t,i,s;this.isValidState=!0,this._focused||m(this._hiddenInput[0]).focus(),t=this.model.incrementStep,this.model.value,""===this._textBox.value?(this._textBox.value=this._formatValue(this._startValue,"n",!0),t=0):0<=this._textBox.value.indexOf(" ")&&(this._textBox.value=this._textBox.value.replace(" ","")),"ej.PercentageTextbox"===this.sfType||"ej.CurrencyTextbox"===this.sfType?(-1<(s=i=this._textBox.value).indexOf(p.preferredCulture(this.model.locale).numberFormat.percent.symbol)&&(s=i.substring(0,i.length-1)),this.model.value=this._parseValue(s)):"ej.NumericTextbox"==this.sfType&&(this.model.value=p.parseFloat(this._textBox.value,this.model.locale)),isNaN(this.model.value)&&!this.model.value&&(this.model.value=this._startValue),this.model.value>=this.model.minValue&&this.model.value>this.model.maxValue?(this.model.value=this.model.maxValue,this._setValue(this.model.value)):this.model.value<this.model.minValue&&this.model.value<=this.model.maxValue?(this.model.value=this.model.minValue,this._setValue(this.model.value)):this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue&&(s="increment"==e?this.model.value+t:this.model.value-t)>=this.model.minValue&&s<=this.model.maxValue&&this._setValue(s),this._checkErrorClass()},_validateDecimal:function(e){var t=String.fromCharCode(e.keyCode),t=188==e.keyCode?",":190==e.keyCode?".":110==e.keyCode?p.preferredCulture(this.model.locale).numberFormat["."]:t;return p.preferredCulture(this.model.locale).numberFormat["."].charCodeAt(0)==t.charCodeAt(0)},_allowKeyCodes:function(e){for(var t=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110,173,86,88,67],i=0;i<t.length;i++)if(e.keyCode==t[i]||this._validateDecimal(e)&&0!=this.model.decimalPlaces)return!0;return!1},_raiseChangeEvent:function(e){var t=this.model.value;this._checkNumValue(this._preVal)!==this._checkNumValue(t)&&(this._preVal=t,this.model.value=this._checkNumValue(this._formatValue(this._preVal,"n",!1)),this._updateHiddenField(),t=p.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(t),this.element.attr("aria-valuenow",t),this._updateSeparator(),this.element.trigger("change"),this._trigger("_change",{value:this.model.value,isInteraction:!e}),this._trigger("change",{value:this.model.value,isInteraction:!e}))},_updateHiddenField:function(){var e=this._textBox;this._textBox=this._hiddenInput[0],this._localizedFormat(),this._textBox=e},_removeSeparator:function(e){var t;if(!p.isNullOrUndefined(e))return e=(e=this._checkNumValue(this._formatValue(e,"n",!1))).toString(),t=p.preferredCulture(this.model.locale).numberFormat,e.replace(".",t["."])},_updateSeparator:function(){var e;this._changeSeparator&&this.model.value&&("ej.NumericTextbox"===this.sfType?e=this._formatValue(this.model.value,"n",!0):"ej.PercentageTextbox"===this.sfType?e=this._formatValue(this.model.value/100,"p",!0):"ej.CurrencyTextbox"===this.sfType&&(e=this._formatValue(this.model.value,"c",!0)),this._hiddenInput.val(this._replaceSeparator(e,p.preferredCulture(this.model.locale).numberFormat[","],this.model.groupSeparator)))},_replaceSeparator:function(e,t,i){var s,t=""===t?new RegExp("\\s","g"):new RegExp("\\"+t,"g");return this.model.groupSeparator==p.preferredCulture(this.model.locale).numberFormat["."]?(s=this.model.decimalPlaces,s=e.length-s-1,e.substring(0,s).replace(t,i)+e.substring(s,e.length)):e.replace(t,i)},_checkSeparator:function(e){this.model.groupSeparator=null!=e?this._validateSeparator(e):p.preferredCulture(this.model.locale).numberFormat[","],this._changeSeparator=p.preferredCulture(this.model.locale).numberFormat[","]!=this.model.groupSeparator,this._prevSeparator=this.model.groupSeparator},_validateSeparator:function(e){var e=e.toString(),t=new RegExp("[a-zA-Z0-9]"),e=1<e.length?e[0]:e;return t.test(e)?null!=this._prevSeparator?this._prevSeparator:p.preferredCulture(this.model.locale).numberFormat[","]:e},_keyPress:function(e){if(0!==e.which&&!e.metaKey&&!e.ctrlKey&&8!==e.keyCode&&13!==e.keyCode)return cursor=this._caretPosition(),beforeCursor=this._textBox.value.toString().substring(0,cursor),afterCursor=this._textBox.value.toString().substring(cursor),numberFormat=p.preferredCulture(this.model.locale).numberFormat,e=String.fromCharCode(e.which),value=beforeCursor+e+afterCursor,e="."===(e=numberFormat["."])?"\\"+e:e,!!(0===this.model.decimalPlaces?/^(-)?(\d*)$/:new RegExp("^(-)?(((\\d+("+e+"\\d*)?)|("+e+"\\d*)))?$")).test(value)&&void 0},_validateDecimalOnType:function(e){var t,i=this._caretPosition(),s=(this._textBox.value.toString().substring(0,i),this._textBox.value.toString().substring(i),this._getSelection(this._textBox.value)),a=p.preferredCulture(this.model.locale).numberFormat["."],n=p.isNullOrUndefined(this.model.value)?"":this.model.value.toString(),n=0!=this.model.decimalPlaces&&(t=this._textBox.value.split(a)[1],0<n.indexOf(a)&&n.substring(n.indexOf(a)+1,n.length).length>this.model.decimalPlaces||!!(0==s.length&&i>this._textBox.value.indexOf(a)&&t&&t.length>=this.model.decimalPlaces));return n?(this._keypressFlag=!1,this._cancelEvent(e),!1):void 0},_keyDown:function(e){var t,i;if(!this.model.readOnly)if(this._CurrentCultureInfo=JSON.parse(JSON.stringify(p.preferredCulture())),48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||this._allowKeyCodes(e)){if(e.shiftKey&&(35==e.keyCode||36==e.keyCode||37==e.keyCode||39==e.keyCode||46==e.keyCode||127==e.keyCode)||e.ctrlKey&&(86==e.keyCode||118==e.keyCode||67==e.keyCode||88==e.keyCode))return!0;if(1==e.ctrlKey&&9!=e.keyCode&&17!=e.keyCode&&86!=e.keyCode&&67!=e.keyCode||67==e.keyCode||86==e.keyCode||88==e.keyCode)return this._keypressFlag=!1,this._cancelEvent(e),!1;if((48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||110==e.keyCode)&&(t=this._caretPosition(),this._textBox.value.toString().substring(0,t),this._textBox.value.toString().substring(t),i=this._getSelection(this._textBox.value),96<=e.keyCode&&e.keyCode<=105&&(e.keyCode-=48),this.model.validateOnType&&this._validateDecimalOnType(e),this._validateOnType)){var s,a,n=p.preferredCulture(this.model.locale).numberFormat["."],o=this.model.value.toString(),l=o.indexOf(n),r=this.model.value,h=this.model.minValue.toFixed(this.model.decimalPlaces),d=this.model.maxValue.toFixed(this.model.decimalPlaces),c=!1;if((c=0<h.toString().indexOf("e")||0<d.toString().indexOf("e")||c)?0!=this.model.decimalPlaces&&(u=this._textBox.value.split(".")[1],(0<o.indexOf(n)||Number(o)<Number(h)||Number(o)>Number(d))&&o.substring(o.indexOf(n)+1,o.length).length>this.model.decimalPlaces||!!(0==i.length&&t>this._textBox.value.indexOf(n)&&u&&u.length>=this.model.decimalPlaces)):("."!=n&&(o=this._textBox.value.toString(),this.model.minValue.toString().match(new RegExp(".","g"))&&(h=this.model.minValue.toString().replace(/["."]/g,n)),this.model.maxValue.toString().match(new RegExp(".","g")))&&(d=this.model.maxValue.toString().replace(/["."]/g,n)),s=0<h.toString().indexOf(n)?Number(h.toString().substring(0,h.toString().indexOf(n))):this.model.minValue,a=0<d.toString().indexOf(n)?Number(d.toString().toString().substring(0,d.toString().indexOf(n))):this.model.maxValue,0<l?(r=Number(o.substring(o.indexOf(n)+1,o.toString().length)),s=0<h.toString().indexOf(n)?Number(h.toString().substring(h.toString().indexOf(n)+1,h.toString().length)):0,a=0<d.toString().indexOf(n)?Number(d.toString().substring(d.toString().indexOf(n)+1,d.toString().length)):0,u=Number(o.substring(0,o.indexOf(n))),l=Number(h.toString().substring(0,h.toString().indexOf(n))),o=Number(d.toString().substring(0,d.toString().indexOf(n))),!this._validateValue(r,s,a,!0,u,l,o)):!this._validateValue(r,s,a,!1)))return this._keypressFlag=!1,this._cancelEvent(e),!1}if(38==e.keyCode&&this._allowkeyboard&&(this._updateInputField("increment"),this._cancelEvent(e)),40==e.keyCode&&this._allowkeyboard&&(this._updateInputField("decrement"),this._cancelEvent(e)),8==e.keyCode&&(t=this._caretPosition(),this._textBox.value.substring(0,t),this._textBox.value.substring(t),i=this._getSelection(this._textBox.value)),46!=e.keyCode&&127!=e.keyCode||(t=this._caretPosition(),this._textBox.value.substring(0,t),this._textBox.value.substring(t),i=this._getSelection(this._textBox.value)),this._validateDecimal(e)&&0!=this.model.decimalPlaces&&46!=e.keyCode){if(h=p.preferredCulture(this.model.locale).numberFormat["."],null==(d=this._textBox.value.split(h))[1]){var n=this._caretPosition(),u=d[0].substring(0,n),l=d[0].substring(n);if((0<this.model.minValue.toString().indexOf("e")||0<this.model.maxValue.toString().indexOf("e"))&&(c=!0),l.length>this.model.decimalPlaces&&1==this.model.validateOnType)return this._keypressFlag=!1,this._cancelEvent(e),!1;if(this._validateOnType&&!c&&(this.model.minValue.toString().match(new RegExp(".","g"))&&(s=this.model.minValue.toString().replace(/["."]/g,h)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(a=this.model.maxValue.toString().replace(/["."]/g,h)),s=0<s.indexOf(h)?Number(s.substring(0,s.indexOf(h))):Number(s),a=0<a.indexOf(h)?Number(a.substring(0,a.indexOf(h))):Number(a),!this._validateValue(this.model.value,s,a,"DecimalKeyPressed")))return this._keypressFlag=!1,this._cancelEvent(e),!1;this._textBox.value=u+h+l,this._setSelectionRange(n+1,n+1)}this._cancelEvent(e)}else 190!=e.keyCode&&110!=e.keyCode||this._cancelEvent(e);109!=e.keyCode&&189!=e.keyCode&&173!=e.keyCode||(0!=this._caretPosition()&&this._getSelection(this._removeFormats(this._textBox.value))!=this.model.value||0<=this.model.minValue&&!this.model.enableStrictMode||this._textBox.value.toString().match(new RegExp("-","g"))&&""===this._getSelection(this._textBox.value)?this._cancelEvent(e):this._getSelection()==this.model.value&&(this.model.value=null)),13==e.keyCode&&this._checkNumValue(this._preVal)!==this._checkNumValue(this._textBox.value)&&this._setValue(this._textBox.value)}else(27!=e.keyCode&&!e.ctrlKey||e.ctrlKey&&90==e.keyCode&&""===m.trim(this._textBox.value))&&(this._keypressFlag=!1,this._cancelEvent(e))},_getLocalizedLabels:function(){return p.getLocalizedConstants(this.sfType,this.model.locale)}}),p.NumericTextbox.Locale=p.NumericTextbox.Locale||{},p.NumericTextbox.Locale.default=p.NumericTextbox.Locale["en-US"]={watermarkText:"Enter value"},p.PercentageTextbox.Locale=p.PercentageTextbox.Locale||{},p.PercentageTextbox.Locale.default=p.PercentageTextbox.Locale["en-US"]={watermarkText:"Enter value"},p.CurrencyTextbox.Locale=p.CurrencyTextbox.Locale||{},p.CurrencyTextbox.Locale.default=p.CurrencyTextbox.Locale["en-US"]={watermarkText:"Enter value"}}),!function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var s,i;s=jQuery,(i=Syncfusion).widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=i.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var e=this.model.template;"string"==typeof e&&(e=s(e)),this.templateObj="object"==typeof e&&"function"==typeof e.css?e:i.buildTag("div","",{"text-align":"center"}).append(e),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){s(window).on("resize",s.proxy(this._resizeHandler,this))},_unwireEvents:function(){s(window).off("resize",s.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(e){for(var t in e)switch(t){case"text":this._setText(e[t]);break;case"cssClass":this._setTheme(e[t]);break;case"htmlAttributes ":this._addAttr(e[t]);break;case"showOnInit":this._setVisibility(e[t]);break;case"showImage":this._showImage(e[t]),this._setContentPosition();break;case"target":this.model.target=e[t],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=e[t],this._setTarget(),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?s("body").append(this.maindiv):this.maindiv.appendTo(s(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),e[t]?(this.model.template=e[t],this._setTemplate()):(this.model.template=e[t]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?s(document):"window"==this.model.target?s(window):this.model.target?s(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var e=s("#"+this.element[0].id+"_WaitingPopup").get(0);e&&s(e).remove(),this.maindiv=i.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?s("body").append(this.maindiv):this.maindiv.appendTo(s(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(e){var i=this;s.map(e,function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)})},_setPanelPosition:function(){var e=i.util.getOffset(this.targetElement);null!=this.model.appendTo&&0<s(this.model.appendTo).length&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==s(this.model.appendTo)[0]?(e.left-=this.targetElement.offsetParent().offset().left,e.top-=this.targetElement.offsetParent().offset().top):e={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(e.left)+"px",top:Math.ceil(e.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){var e,t,i,s;null==this.model.template?(t=e=0,i=null,s=this.targetElement.outerHeight(),this.popupText&&(e=this.popupText.outerHeight()),this.popupImage&&(t=this.popupImage.outerHeight()),this.popupImage&&(i=Math.ceil((s-(t+e))/2),this.popupImage.css("top",i+"px")),this.popupText&&(i=i||Math.ceil((s-e)/2),this.popupText.css("top",i+"px"))):this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=i.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return i.util.getZindexPartial(this.element)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(r){r.extend(r.fn,{validate:function(e){var s;if(this.length)return(s=r.data(this[0],"validator"))||(this.attr("novalidate","novalidate"),s=new r.validator(e,this[0]),r.data(this[0],"validator",s),s.settings.onsubmit&&(this.on("click.validate",":submit",function(e){s.settings.submitHandler&&(s.submitButton=e.target),r(this).hasClass("cancel")&&(s.cancelSubmit=!0),void 0!==r(this).attr("formnovalidate")&&(s.cancelSubmit=!0)}),this.on("submit.validate",function(i){function e(){var e,t;return!s.settings.submitHandler||(s.submitButton&&(e=r("<input type='hidden'/>").attr("name",s.submitButton.name).val(r(s.submitButton).val()).appendTo(s.currentForm)),t=s.settings.submitHandler.call(s,s.currentForm,i),s.submitButton&&e.remove(),void 0!==t&&t)}return s.settings.debug&&i.preventDefault(),s.cancelSubmit?(s.cancelSubmit=!1,e()):s.form()?s.pendingRequest?!(s.formSubmitted=!0):e():(s.focusInvalid(),!1)})),s);e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,i;return r(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,t=r(this[0].form).validate(),this.each(function(){e=t.element(this)&&e,i=i.concat(t.errorList)}),t.errorList=i),e},rules:function(e,t){var i,s,a,n,o,l=this[0];if(e)switch(i=r.data(l.form,"validator").settings,s=i.rules,a=r.validator.staticRules(l),e){case"add":r.extend(a,r.validator.normalizeRule(t)),delete a.messages,s[l.name]=a,t.messages&&(i.messages[l.name]=r.extend(i.messages[l.name],t.messages));break;case"remove":return t?(o={},r.each(t.split(/\s/),function(e,t){o[t]=a[t],delete a[t],"required"===t&&r(l).removeAttr("aria-required")}),o):(delete s[l.name],a)}return(e=r.validator.normalizeRules(r.extend({},r.validator.classRules(l),r.validator.attributeRules(l),r.validator.dataRules(l),r.validator.staticRules(l)),l)).required&&(n=e.required,delete e.required,e=r.extend({required:n},e),r(l).attr("aria-required","true")),e.remote&&(n=e.remote,delete e.remote,e=r.extend(e,{remote:n})),e}}),r.extend(r.expr[":"],{blank:function(e){return!r.trim(""+r(e).val())},filled:function(e){return!!r.trim(""+r(e).val())},unchecked:function(e){return!r(e).prop("checked")}}),r.validator=function(e,t){this.settings=r.extend(!0,{},r.validator.defaults,e),this.currentForm=t,this.init()},r.validator.format=function(i,e){return 1===arguments.length?function(){var e=r.makeArray(arguments);return e.unshift(i),r.validator.format.apply(this,e)}:((e=2<arguments.length&&e.constructor!==Array?r.makeArray(arguments).slice(1):e).constructor!==Array&&(e=[e]),r.each(e,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})}),i)},r.extend(r.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:r([]),errorLabelContainer:r([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==r.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):r(e)).addClass(t).removeClass(i)},unhighlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):r(e)).removeClass(t).addClass(i)}},setDefaults:function(e){r.extend(r.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:r.validator.format("Please enter no more than {0} characters."),minlength:r.validator.format("Please enter at least {0} characters."),rangelength:r.validator.format("Please enter a value between {0} and {1} characters long."),range:r.validator.format("Please enter a value between {0} and {1}."),max:r.validator.format("Please enter a value less than or equal to {0}."),min:r.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=r.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),s=t.settings;s[i]&&!r(this).is(s.ignore)&&s[i].call(t,this,e)}this.labelContainer=r(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||r(this.currentForm),this.containers=r(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,s=this.groups={};r.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),r.each(e,function(e,t){s[t]=i})}),i=this.settings.rules,r.each(i,function(e,t){i[e]=r.validator.normalizeRule(t)}),r(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&r(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),r(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),r.extend(this.submitted,this.errorMap),this.invalid=r.extend({},this.errorMap),this.valid()||r(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t=this.clean(e),i=this.validationTargetFor(t),s=!0;return void 0===(this.lastElement=i)?delete this.invalid[t.name]:(this.prepareElement(i),this.currentElements=r(i),(s=!1!==this.check(i))?delete this.invalid[i.name]:this.invalid[i.name]=!0),r(e).attr("aria-invalid",!s),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),s},showErrors:function(t){if(t){for(var e in r.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[e],element:this.findByName(e)[0]});this.successList=r.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){r.fn.resetForm&&r(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,t=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,"");else t.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{r(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===r.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var e=this,t={};return r(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in t||!e.objectLength(r(this).rules())||(t[this.name]=!0,0))})},clean:function(e){return r(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return r(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=r([]),this.toHide=r([]),this.currentElements=r([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=r(e),i=e.type;return"radio"===i||"checkbox"===i?this.findByName(e.name).filter(":checked").val():"number"===i&&void 0!==e.validity?!e.validity.badInput&&t.val():"string"==typeof(i=t.val())?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,s,a=r(t).rules(),n=r.map(a,function(e,t){return t}).length,o=!1,l=this.elementValue(t);for(i in a){s={method:i,parameters:a[i]};try{if("dependency-mismatch"===(e=r.validator.methods[i].call(this,l,t,s.parameters))&&1===n)o=!0;else{if(o=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,s),!1}}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+s.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+s.method+"' method."),e}}if(!o)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(e,t){return r(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||r(e).data("msg")},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||void 0,r.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t.method),s=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,t.parameters,e):s.test(i)&&(i=r.validator.format(i.replace(s,"{$1}"),t.parameters)),this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return e=this.settings.wrapper?e.add(e.parent(this.settings.wrapper)):e},defaultShowErrors:function(){for(var e,t,i=0;this.errorList[i];i++)t=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,e=this.validElements();e[i];i++)this.settings.unhighlight.call(this,e[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return r(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i,s,a=this.errorsFor(e),n=this.idOrName(e),o=r(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(t)):(s=a=r("<"+this.settings.errorElement+">").attr("id",n+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(s=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(s):this.settings.errorPlacement?this.settings.errorPlacement(s,r(e)):s.insertAfter(e),a.is("label")?a.attr("for",n):0===a.parents("label[for='"+n+"']").length&&(s=a.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),o?o.match(new RegExp("\\b"+s+"\\b"))||(o+=" "+s):o=s,r(e).attr("aria-describedby",o),i=this.groups[e.name])&&r.each(this.groups,function(e,t){t===i&&r("[name='"+e+"']",this.currentForm).attr("aria-describedby",a.attr("id"))})),!t&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var t=this.idOrName(e),e=r(e).attr("aria-describedby"),t="label[for='"+t+"'], label[for='"+t+"'] *";return e&&(t=t+", #"+e.replace(/\s+/g,", #")),this.errors().filter(t)},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),r(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return r(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return r("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!r(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!r.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(r(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(r(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return r.data(e,"previousValue")||r.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},destroy:function(){this.resetForm(),r(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:r.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=r(e).attr("class");return e&&r.each(e.split(" "),function(){this in r.validator.classRuleSettings&&r.extend(t,r.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,i,s){(s=/min|max/.test(i)&&(null===t||/number|range|text/.test(t))&&(s=Number(s),isNaN(s))?void 0:s)||0===s?e[i]=s:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(e){var t,i,s={},a=r(e),n=e.getAttribute("type");for(t in r.validator.methods)i="required"===t?(i=e.getAttribute(t),""===i&&(i=!0),!!i):a.attr(t),this.normalizeAttributeRule(s,n,t,i);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(e){var t,i,s={},a=r(e),n=e.getAttribute("type");for(t in r.validator.methods)i=a.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),this.normalizeAttributeRule(s,n,t,i);return s},staticRules:function(e){var t={},i=r.data(e.form,"validator");return t=i.settings.rules?r.validator.normalizeRule(i.settings.rules[e.name])||{}:t},normalizeRules:function(s,a){return r.each(s,function(e,t){if(!1===t)delete s[e];else if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!r(t.depends,a.form).length;break;case"function":i=t.depends.call(a,a)}i?s[e]=void 0===t.param||t.param:delete s[e]}}),r.each(s,function(e,t){s[e]=r.isFunction(t)?t(a):t}),r.each(["minlength","maxlength"],function(){s[this]&&(s[this]=Number(s[this]))}),r.each(["rangelength","range"],function(){var e;s[this]&&(r.isArray(s[this])?s[this]=[Number(s[this][0]),Number(s[this][1])]:"string"==typeof s[this]&&(e=s[this].replace(/[\[\]]/g,"").split(/[\s,]+/),s[this]=[Number(e[0]),Number(e[1])]))}),r.validator.autoCreateRanges&&(null!=s.min&&null!=s.max&&(s.range=[s.min,s.max],delete s.min,delete s.max),null!=s.minlength)&&null!=s.maxlength&&(s.rangelength=[s.minlength,s.maxlength],delete s.minlength,delete s.maxlength),s},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},r.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,i){r.validator.methods[e]=t,r.validator.messages[e]=void 0!==i?i:r.validator.messages[e],t.length<3&&r.validator.addClassRules(e,r.validator.normalizeRule(e))},methods:{required:function(e,t,i){return this.depend(i,t)?"select"===t.nodeName.toLowerCase()?(i=r(t).val())&&0<i.length:this.checkable(t)?0<this.getLength(e,t):0<e.length:"dependency-mismatch"},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,s,a=0,n=0,o=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(i=e.length-1;0<=i;i--)s=e.charAt(i),n=parseInt(s,10),o&&9<(n*=2)&&(n-=9),a+=n,o=!o;return a%10==0},minlength:function(e,t,i){e=r.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=e},maxlength:function(e,t,i){e=r.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e<=i},rangelength:function(e,t,i){e=r.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e>=i[0]&&e<=i[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},equalTo:function(e,t,i){i=r(i);return this.settings.onfocusout&&i.off(".validate-equalTo").on("blur.validate-equalTo",function(){r(t).valid()}),e===i.val()},remote:function(s,a,e){var n,t,o;return this.optional(a)?"dependency-mismatch":(o=this.previousValue(a),this.settings.messages[a.name]||(this.settings.messages[a.name]={}),o.originalMessage=this.settings.messages[a.name].remote,this.settings.messages[a.name].remote=o.message,e="string"==typeof e?{url:e}:e,o.old===s?o.valid:(o.old=s,(n=this).startRequest(a),(t={})[a.name]=s,r.ajax(r.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:t,context:n.currentForm,success:function(e){var t,i=!0===e||"true"===e;n.settings.messages[a.name].remote=o.originalMessage,i?(t=n.formSubmitted,n.prepareElement(a),n.formSubmitted=t,n.successList.push(a),delete n.invalid[a.name],n.showErrors()):(t={},e=e||n.defaultMessage(a,"remote"),t[a.name]=o.message=r.isFunction(e)?e(s):e,n.invalid[a.name]=!0,n.showErrors(t)),o.valid=i,n.stopRequest(a,i)}},e)),"pending"))}}});var s,a={};r.ajaxPrefilter?r.ajaxPrefilter(function(e,t,i){var s=e.port;"abort"===e.mode&&(a[s]&&a[s].abort(),a[s]=i)}):(s=r.ajax,r.ajax=function(e){var t=("mode"in e?e:r.ajaxSettings).mode,i=("port"in e?e:r.ajaxSettings).port;return"abort"===t?(a[i]&&a[i].abort(),a[i]=s.apply(this,arguments),a[i]):s.apply(this,arguments)})}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,s,a){return jQuery.easing[jQuery.easing.def](e,t,i,s,a)},easeInQuad:function(e,t,i,s,a){return s*(t/=a)*t+i},easeOutQuad:function(e,t,i,s,a){return-s*(t/=a)*(t-2)+i},easeInOutQuad:function(e,t,i,s,a){return(t/=a/2)<1?s/2*t*t+i:-s/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,s,a){return s*(t/=a)*t*t+i},easeOutCubic:function(e,t,i,s,a){return s*((t=t/a-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,a){return(t/=a/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,s,a){return s*(t/=a)*t*t*t+i},easeOutQuart:function(e,t,i,s,a){return-s*((t=t/a-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,s,a){return(t/=a/2)<1?s/2*t*t*t*t+i:-s/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,s,a){return s*(t/=a)*t*t*t*t+i},easeOutQuint:function(e,t,i,s,a){return s*((t=t/a-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,s,a){return(t/=a/2)<1?s/2*t*t*t*t*t+i:s/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,s,a){return-s*Math.cos(t/a*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,a){return s*Math.sin(t/a*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,a){return-s/2*(Math.cos(Math.PI*t/a)-1)+i},easeInExpo:function(e,t,i,s,a){return 0==t?i:s*Math.pow(2,10*(t/a-1))+i},easeOutExpo:function(e,t,i,s,a){return t==a?i+s:s*(1-Math.pow(2,-10*t/a))+i},easeInOutExpo:function(e,t,i,s,a){return 0==t?i:t==a?i+s:(t/=a/2)<1?s/2*Math.pow(2,10*(t-1))+i:s/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,s,a){return-s*(Math.sqrt(1-(t/=a)*t)-1)+i},easeOutCirc:function(e,t,i,s,a){return s*Math.sqrt(1-(t=t/a-1)*t)+i},easeInOutCirc:function(e,t,i,s,a){return(t/=a/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,s,a){e=1.70158;var n=0,o=s;return 0==t?i:1==(t/=a)?i+s:(n=n||.3*a,e=o<Math.abs(s)?(o=s,n/4):n/(2*Math.PI)*Math.asin(s/o),-(o*Math.pow(2,10*--t)*Math.sin(2*(t*a-e)*Math.PI/n))+i)},easeOutElastic:function(e,t,i,s,a){e=1.70158;var n=0,o=s;return 0==t?i:1==(t/=a)?i+s:(n=n||.3*a,e=o<Math.abs(s)?(o=s,n/4):n/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*t)*Math.sin(2*(t*a-e)*Math.PI/n)+s+i)},easeInOutElastic:function(e,t,i,s,a){e=1.70158;var n=0,o=s;return 0==t?i:2==(t/=a/2)?i+s:(n=n||.3*a*1.5,e=o<Math.abs(s)?(o=s,n/4):n/(2*Math.PI)*Math.asin(s/o),t<1?-.5*o*Math.pow(2,10*--t)*Math.sin(2*(t*a-e)*Math.PI/n)+i:o*Math.pow(2,-10*--t)*Math.sin(2*(t*a-e)*Math.PI/n)*.5+s+i)},easeInBack:function(e,t,i,s,a,n){return s*(t/=a)*t*(((n=null==n?1.70158:n)+1)*t-n)+i},easeOutBack:function(e,t,i,s,a,n){return s*((t=t/a-1)*t*(((n=null==n?1.70158:n)+1)*t+n)+1)+i},easeInOutBack:function(e,t,i,s,a,n){return null==n&&(n=1.70158),(t/=a/2)<1?s/2*t*t*((1+(n*=1.525))*t-n)+i:s/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+i},easeInBounce:function(e,t,i,s,a){return s-jQuery.easing.easeOutBounce(e,a-t,0,s,a)+i},easeOutBounce:function(e,t,i,s,a){return(t/=a)<1/2.75?7.5625*s*t*t+i:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+i:s*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,s,a){return t<a/2?.5*jQuery.easing.easeInBounce(e,2*t,0,s,a)+i:.5*jQuery.easing.easeOutBounce(e,2*t-a,0,s,a)+.5*s+i}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(s){"use strict";s.fn.emulateTransitionEnd=function(e){var t=!1,i=this;s(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||s(i).trigger(s.support.transition.end)},e),this},s(function(){s.support.transition=function(){var e,t=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in i)if(void 0!==t.style[e])return{end:i[e]};return!1}(),s.support.transition&&(s.event.special.bsTransitionEnd={bindType:s.support.transition.end,delegateType:s.support.transition.end,handle:function(e){return s(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(n){"use strict";function s(e){n(e).on("click",t,this.close)}var t='[data-dismiss="alert"]',e=(s.VERSION="3.2.0",s.prototype.close=function(e){function t(){a.detach().trigger("closed.bs.alert").remove()}var i=n(this),s=i.attr("data-target"),a=(s||(s=(s=i.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,"")),n(s));e&&e.preventDefault(),(a=a.length?a:i.hasClass("alert")?i:i.parent()).trigger(e=n.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),n.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",t).emulateTransitionEnd(150):t())},n.fn.alert);n.fn.alert=function(i){return this.each(function(){var e=n(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new s(this)),"string"==typeof i&&t[i].call(e)})},n.fn.alert.Constructor=s,n.fn.alert.noConflict=function(){return n.fn.alert=e,this},n(document).on("click.bs.alert.data-api",t,s.prototype.close)}(jQuery),function(n){"use strict";function i(i){return this.each(function(){var e=n(this),t=e.data("bs.button");t||e.data("bs.button",t=new s(this,"object"==typeof i&&i)),"toggle"==i?t.toggle():i&&t.setState(i)})}function s(e,t){this.$element=n(e),this.options=n.extend({},s.DEFAULTS,t),this.isLoading=!1}s.VERSION="3.2.0",s.DEFAULTS={loadingText:"loading..."},s.prototype.setState=function(e){var t="disabled",i=this.$element,s=i.is("input")?"val":"html",a=i.data();e+="Text",null==a.resetText&&i.data("resetText",i[s]()),i[s]((null==a[e]?this.options:a)[e]),setTimeout(n.proxy(function(){"loadingText"==e?(this.isLoading=!0,i.addClass(t).attr(t,t)):this.isLoading&&(this.isLoading=!1,i.removeClass(t).removeAttr(t))},this),0)},s.prototype.toggle=function(){var e,t=!0,i=this.$element.closest('[data-toggle="buttons"]');i.length&&("radio"==(e=this.$element.find("input")).prop("type")&&(e.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t)&&e.prop("checked",!this.$element.hasClass("active")).trigger("change"),t&&this.$element.toggleClass("active")};var e=n.fn.button;n.fn.button=i,n.fn.button.Constructor=s,n.fn.button.noConflict=function(){return n.fn.button=e,this},n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=n(e.target);t.hasClass("btn")||(t=t.closest(".btn")),i.call(t,"toggle"),e.preventDefault()})}(jQuery),function(h){"use strict";function a(a){return this.each(function(){var e=h(this),t=e.data("bs.carousel"),i=h.extend({},n.DEFAULTS,e.data(),"object"==typeof a&&a),s="string"==typeof a?a:i.slide;t||e.data("bs.carousel",t=new n(this,i)),"number"==typeof a?t.to(a):s?t[s]():i.interval&&t.pause().cycle()})}function n(e,t){this.$element=h(e).on("keydown.bs.carousel",h.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))}n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||e<0?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(i<e?"next":"prev",h(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,t){var i,s,a=this.$element.find(".item.active"),n=t||a[e](),t=this.interval,o="next"==e?"left":"right",l="next"==e?"first":"last",r=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(".item")[l]()}return n.hasClass("active")?this.sliding=!1:(l=n[0],i=h.Event("slide.bs.carousel",{relatedTarget:l,direction:o}),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(this.sliding=!0,t&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),i=h(this.$indicators.children()[this.getItemIndex(n)]))&&i.addClass("active"),s=h.Event("slid.bs.carousel",{relatedTarget:l,direction:o}),h.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,a.addClass(o),n.addClass(o),a.one("bsTransitionEnd",function(){n.removeClass([e,o].join(" ")).addClass("active"),a.removeClass(["active",o].join(" ")),r.sliding=!1,setTimeout(function(){r.$element.trigger(s)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(s)),t&&this.cycle(),this))};var e=h.fn.carousel;h.fn.carousel=a,h.fn.carousel.Constructor=n,h.fn.carousel.noConflict=function(){return h.fn.carousel=e,this},h(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var t,i=h(this),s=h(i.attr("data-target")||(s=i.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,""));s.hasClass("carousel")&&(t=h.extend({},s.data(),i.data()),(i=i.attr("data-slide-to"))&&(t.interval=!1),a.call(s,t),i&&s.data("bs.carousel").to(i),e.preventDefault())}),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var e=h(this);a.call(e,e.data())})})}(jQuery),function(o){"use strict";function l(s){return this.each(function(){var e=o(this),t=e.data("bs.collapse"),i=o.extend({},a.DEFAULTS,e.data(),"object"==typeof s&&s);!t&&i.toggle&&"show"==s&&(s=!s),t||e.data("bs.collapse",t=new a(this,i)),"string"==typeof s&&t[s]()})}function a(e,t){this.$element=o(e),this.options=o.extend({},a.DEFAULTS,t),this.transitioning=null,this.options.parent&&(this.$parent=o(this.options.parent)),this.options.toggle&&this.toggle()}a.VERSION="3.2.0",a.DEFAULTS={toggle:!0},a.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},a.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=o.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){e=this.$parent&&this.$parent.find("> .panel > .in");if(e&&e.length){var t=e.data("bs.collapse");if(t&&t.transitioning)return;l.call(e,"hide"),t||e.data("bs.collapse",null)}var i=this.dimension(),t=(this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1,function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")});if(!o.support.transition)return t.call(this);e=o.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",o.proxy(t,this)).emulateTransitionEnd(350)[i](this.$element[0][e])}}},a.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e,t=o.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented())return t=this.dimension(),this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1,e=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")},o.support.transition?void this.$element[t](0).one("bsTransitionEnd",o.proxy(e,this)).emulateTransitionEnd(350):e.call(this)}},a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var e=o.fn.collapse;o.fn.collapse=l,o.fn.collapse.Constructor=a,o.fn.collapse.noConflict=function(){return o.fn.collapse=e,this},o(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=o(this),e=t.attr("data-target")||e.preventDefault()||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),e=o(e),i=e.data("bs.collapse"),s=i?"toggle":t.data(),a=t.attr("data-parent"),n=a&&o(a);i&&i.transitioning||(n&&n.find('[data-toggle="collapse"][data-parent="'+a+'"]').not(t).addClass("collapsed"),t[e.hasClass("in")?"addClass":"removeClass"]("collapsed")),l.call(e,s)})}(jQuery),function(a){"use strict";function n(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(l).each(function(){var e=o(a(this)),t={relatedTarget:this};e.hasClass("open")&&(e.trigger(i=a.Event("hide.bs.dropdown",t)),i.isDefaultPrevented()||e.removeClass("open").trigger("hidden.bs.dropdown",t))}))}function o(e){var t=e.attr("data-target"),t=(t=t?t:(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""))&&a(t);return t&&t.length?t:e.parent()}function s(e){a(e).on("click.bs.dropdown",this.toggle)}var l='[data-toggle="dropdown"]',e=(s.VERSION="3.2.0",s.prototype.toggle=function(e){var t=a(this);if(!t.is(".disabled, :disabled")){var i=o(t),s=i.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",n);s={relatedTarget:this};if(i.trigger(e=a.Event("show.bs.dropdown",s)),e.isDefaultPrevented())return;t.trigger("focus"),i.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var t=a(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var i=o(t),s=i.hasClass("open");if(!s||27==e.keyCode)return 27==e.which&&i.find(l).trigger("focus"),t.trigger("click");s=" li:not(.divider):visible a",t=i.find('[role="menu"]'+s+', [role="listbox"]'+s);t.length&&(i=t.index(t.filter(":focus")),38==e.keyCode&&0<i&&i--,40==e.keyCode&&i<t.length-1&&i++,t.eq(i=~i?i:0).trigger("focus"))}}},a.fn.dropdown);a.fn.dropdown=function(i){return this.each(function(){var e=a(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new s(this)),"string"==typeof i&&t[i].call(e)})},a.fn.dropdown.Constructor=s,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=e,this},a(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",l,s.prototype.toggle).on("keydown.bs.dropdown.data-api",l+', [role="menu"], [role="listbox"]',s.prototype.keydown)}(jQuery),function(n){"use strict";function a(s,a){return this.each(function(){var e=n(this),t=e.data("bs.modal"),i=n.extend({},o.DEFAULTS,e.data(),"object"==typeof s&&s);t||e.data("bs.modal",t=new o(this,i)),"string"==typeof s?t[s](a):i.show&&t.show(a)})}function o(e,t){this.options=t,this.$body=n(document.body),this.$element=n(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}o.VERSION="3.2.0",o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},o.prototype.show=function(i){var s=this,e=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.backdrop(function(){var e=n.support.transition&&s.$element.hasClass("fade"),t=(s.$element.parent().length||s.$element.appendTo(s.$body),s.$element.show().scrollTop(0),e&&s.$element[0].offsetWidth,s.$element.addClass("in").attr("aria-hidden",!1),s.enforceFocus(),n.Event("shown.bs.modal",{relatedTarget:i}));e?s.$element.find(".modal-dialog").one("bsTransitionEnd",function(){s.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(300):s.$element.trigger("focus").trigger(t)}))},o.prototype.hide=function(e){e&&e.preventDefault(),e=n.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},o.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",n.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},o.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(e){var t,i=this,s=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(t=n.support.transition&&s,this.$backdrop=n('<div class="modal-backdrop '+s+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),t&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e&&(t?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),s=function(){i.removeBackdrop(),e&&e()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(150):s()):e&&e()},o.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},o.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},o.prototype.measureScrollbar=function(){var e=document.createElement("div"),t=(e.className="modal-scrollbar-measure",this.$body.append(e),e.offsetWidth-e.clientWidth);return this.$body[0].removeChild(e),t};var e=n.fn.modal;n.fn.modal=a,n.fn.modal.Constructor=o,n.fn.modal.noConflict=function(){return n.fn.modal=e,this},n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=n(this),i=t.attr("href"),s=n(t.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),i=s.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(i)&&i},s.data(),t.data());t.is("a")&&e.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),a.call(s,i,this)})}(jQuery),function(r){"use strict";function s(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)}s.VERSION="3.2.0",s.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},s.prototype.init=function(e,t,i){this.enabled=!0,this.type=e,this.$element=r(t),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&r(this.options.viewport.selector||this.options.viewport);for(var s=this.options.trigger.split(" "),a=s.length;a--;){var n,o=s[a];"click"==o?this.$element.on("click."+this.type,this.options.selector,r.proxy(this.toggle,this)):"manual"!=o&&(n="hover"==o?"mouseleave":"focusout",this.$element.on(("hover"==o?"mouseenter":"focusin")+"."+this.type,this.options.selector,r.proxy(this.enter,this)),this.$element.on(n+"."+this.type,this.options.selector,r.proxy(this.leave,this)))}this.options.selector?this._options=r.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},s.prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.getOptions=function(e){return(e=r.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},s.prototype.getDelegateOptions=function(){var i={},s=this.getDefaults();return this._options&&r.each(this._options,function(e,t){s[e]!=t&&(i[e]=t)}),i},s.prototype.enter=function(e){var t=e instanceof this.constructor?e:r(e.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),r(e.currentTarget).data("bs."+this.type,t)),clearTimeout(t.timeout),t.hoverState="in",t.options.delay&&t.options.delay.show?void(t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)):t.show()},s.prototype.leave=function(e){var t=e instanceof this.constructor?e:r(e.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),r(e.currentTarget).data("bs."+this.type,t)),clearTimeout(t.timeout),t.hoverState="out",t.options.delay&&t.options.delay.hide?void(t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)):t.hide()},s.prototype.show=function(){var e,t,i,s,a,n,o,l=r.Event("show.bs."+this.type);this.hasContent()&&this.enabled&&(this.$element.trigger(l),a=r.contains(document.documentElement,this.$element[0]),!l.isDefaultPrevented())&&a&&(l=(e=this).tip(),a=this.getUID(this.type),this.setContent(),l.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&l.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,l[0],this.$element[0]):this.options.placement,(o=(t=/\s?auto?\s?/i).test(a))&&(a=a.replace(t,"")||"top"),l.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?l.appendTo(this.options.container):l.insertAfter(this.$element),t=this.getPosition(),i=l[0].offsetWidth,s=l[0].offsetHeight,o&&(o=a,n=this.$element.parent(),n=this.getPosition(n),a="bottom"==a&&t.top+t.height+s-n.scroll>n.height?"top":"top"==a&&t.top-n.scroll-s<0?"bottom":"right"==a&&t.right+i>n.width?"left":"left"==a&&t.left-i<n.left?"right":a,l.removeClass(o).addClass(a)),n=this.getCalculatedOffset(a,t,i,s),this.applyPlacement(n,a),o=function(){e.$element.trigger("shown.bs."+e.type),e.hoverState=null},r.support.transition&&this.$tip.hasClass("fade")?l.one("bsTransitionEnd",o).emulateTransitionEnd(150):o())},s.prototype.applyPlacement=function(e,t){var i=this.tip(),s=i[0].offsetWidth,a=i[0].offsetHeight,n=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10),n=(isNaN(n)&&(n=0),isNaN(o)&&(o=0),e.top=e.top+n,e.left=e.left+o,r.offset.setOffset(i[0],r.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),i.addClass("in"),i[0].offsetWidth),o=i[0].offsetHeight,t=("top"==t&&o!=a&&(e.top=e.top+a-o),this.getViewportAdjustedDelta(t,e,n,o)),s=(t.left?e.left+=t.left:e.top+=t.top,t.left?2*t.left-s+n:2*t.top-a+o),n=t.left?"left":"top",a=t.left?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(s,i[0][a],n)},s.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},s.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},s.prototype.hide=function(){function e(){"in"!=t.hoverState&&i.detach(),t.$element.trigger("hidden.bs."+t.type)}var t=this,i=this.tip(),s=r.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(s),s.isDefaultPrevented()?void 0:(i.removeClass("in"),r.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},s.prototype.fixTitle=function(){var e=this.$element;!e.attr("title")&&"string"==typeof e.attr("data-original-title")||e.attr("data-original-title",e.attr("title")||"").attr("title","")},s.prototype.hasContent=function(){return this.getTitle()},s.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],i="BODY"==t.tagName;return r.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:i?r(window).width():e.outerWidth(),height:i?r(window).height():e.outerHeight()},i?{top:0,left:0}:e.offset())},s.prototype.getCalculatedOffset=function(e,t,i,s){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-s,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-s/2,left:t.left-i}:{top:t.top+t.height/2-s/2,left:t.left+t.width}},s.prototype.getViewportAdjustedDelta=function(e,t,i,s){var a,n,o={top:0,left:0};return this.$viewport&&(a=this.options.viewport&&this.options.viewport.padding||0,n=this.getPosition(this.$viewport),/right|left/.test(e)?(e=t.top-a-n.scroll,s=t.top+a-n.scroll+s,e<n.top?o.top=n.top-e:s>n.top+n.height&&(o.top=n.top+n.height-s)):(e=t.left-a,s=t.left+a+i,e<n.left?o.left=n.left-e:s>n.width&&(o.left=n.left+n.width-s))),o},s.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},s.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},s.prototype.tip=function(){return this.$tip=this.$tip||r(this.options.template)},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},s.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},s.prototype.enable=function(){this.enabled=!0},s.prototype.disable=function(){this.enabled=!1},s.prototype.toggleEnabled=function(){this.enabled=!this.enabled},s.prototype.toggle=function(e){var t=this;e&&!(t=r(e.currentTarget).data("bs."+this.type))&&(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),r(e.currentTarget).data("bs."+this.type,t)),t.tip().hasClass("in")?t.leave(t):t.enter(t)},s.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var e=r.fn.tooltip;r.fn.tooltip=function(i){return this.each(function(){var e=r(this),t=e.data("bs.tooltip");!t&&"destroy"==i||(t||e.data("bs.tooltip",t=new s(this,"object"==typeof i&&i)),"string"!=typeof i)||t[i]()})},r.fn.tooltip.Constructor=s,r.fn.tooltip.noConflict=function(){return r.fn.tooltip=e,this}}(jQuery),function(s){"use strict";function a(e,t){this.init("popover",e,t)}if(!s.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.2.0",a.DEFAULTS=s.extend({},s.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((a.prototype=s.extend({},s.fn.tooltip.Constructor.prototype)).constructor=a).prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},a.prototype.tip=function(){return this.$tip||(this.$tip=s(this.options.template)),this.$tip};var e=s.fn.popover;s.fn.popover=function(i){return this.each(function(){var e=s(this),t=e.data("bs.popover");!t&&"destroy"==i||(t||e.data("bs.popover",t=new a(this,"object"==typeof i&&i)),"string"!=typeof i)||t[i]()})},s.fn.popover.Constructor=a,s.fn.popover.noConflict=function(){return s.fn.popover=e,this}}(jQuery),function(a){"use strict";function s(e,t){var i=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(e).is("body")?window:e),this.options=a.extend({},s.DEFAULTS,t),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function t(i){return this.each(function(){var e=a(this),t=e.data("bs.scrollspy");t||e.data("bs.scrollspy",t=new s(this,"object"==typeof i&&i)),"string"==typeof i&&t[i]()})}s.VERSION="3.2.0",s.DEFAULTS={offset:10},s.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},s.prototype.refresh=function(){var i="offset",s=0,e=(a.isWindow(this.$scrollElement[0])||(i="position",s=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),this);this.$body.find(this.selector).map(function(){var e=a(this),e=e.data("target")||e.attr("href"),t=/^#./.test(e)&&a(e);return t&&t.length&&t.is(":visible")?[[t[i]().top+s,e]]:null}).sort(function(e,t){return e[0]-t[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},s.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),s=this.options.offset+i-this.$scrollElement.height(),a=this.offsets,n=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),s<=t)return o!=(e=n[n.length-1])&&this.activate(e);if(o&&t<=a[0])return o!=(e=n[0])&&this.activate(e);for(e=a.length;e--;)o!=n[e]&&t>=a[e]&&(!a[e+1]||t<=a[e+1])&&this.activate(n[e])},s.prototype.activate=function(e){this.activeTarget=e,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");e=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',e=a(e).parents("li").addClass("active");(e=e.parent(".dropdown-menu").length?e.closest("li.dropdown").addClass("active"):e).trigger("activate.bs.scrollspy")};var e=a.fn.scrollspy;a.fn.scrollspy=t,a.fn.scrollspy.Constructor=s,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=e,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var e=a(this);t.call(e,e.data())})})}(jQuery),function(o){"use strict";function t(i){return this.each(function(){var e=o(this),t=e.data("bs.tab");t||e.data("bs.tab",t=new s(this)),"string"==typeof i&&t[i]()})}function s(e){this.element=o(e)}s.VERSION="3.2.0",s.prototype.show=function(){var e,t,i=this.element,s=i.closest("ul:not(.dropdown-menu)"),a=i.data("target");a||(a=(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(e=s.find(".active:last a")[0],t=o.Event("show.bs.tab",{relatedTarget:e}),i.trigger(t),t.isDefaultPrevented())||(t=o(a),this.activate(i.closest("li"),s),this.activate(t,t.parent(),function(){i.trigger({type:"shown.bs.tab",relatedTarget:e})}))},s.prototype.activate=function(e,t,i){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),n?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var a=t.find("> .active"),n=i&&o.support.transition&&a.hasClass("fade");n?a.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),a.removeClass("in")};var e=o.fn.tab;o.fn.tab=t,o.fn.tab.Constructor=s,o.fn.tab.noConflict=function(){return o.fn.tab=e,this},o(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t.call(o(this),"show")})}(jQuery),function(o){"use strict";function i(i){return this.each(function(){var e=o(this),t=e.data("bs.affix");t||e.data("bs.affix",t=new l(this,"object"==typeof i&&i)),"string"==typeof i&&t[i]()})}function l(e,t){this.options=o.extend({},l.DEFAULTS,t),this.$target=o(this.options.target).on("scroll.bs.affix.data-api",o.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",o.proxy(this.checkPositionWithEventLoop,this)),this.$element=o(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()}l.VERSION="3.2.0",l.RESET="affix affix-top affix-bottom",l.DEFAULTS={offset:0,target:window},l.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(l.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},l.prototype.checkPositionWithEventLoop=function(){setTimeout(o.proxy(this.checkPosition,this),1)},l.prototype.checkPosition=function(){var e,t,i,s,a,n;this.$element.is(":visible")&&(e=o(document).height(),n=this.$target.scrollTop(),a=this.$element.offset(),t=(s=this.options.offset).top,i=s.bottom,"object"!=typeof s&&(i=t=s),"function"==typeof t&&(t=s.top(this.$element)),"function"==typeof i&&(i=s.bottom(this.$element)),s=!(null!=this.unpin&&n+this.unpin<=a.top)&&(null!=i&&a.top+this.$element.height()>=e-i?"bottom":null!=t&&n<=t&&"top"),this.affixed!==s)&&(null!=this.unpin&&this.$element.css("top",""),n=o.Event((a="affix"+(s?"-"+s:""))+".bs.affix"),this.$element.trigger(n),n.isDefaultPrevented()||(this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(l.RESET).addClass(a).trigger(o.Event(a.replace("affix","affixed"))),"bottom"==s&&this.$element.offset({top:e-this.$element.height()-i})))};var e=o.fn.affix;o.fn.affix=i,o.fn.affix.Constructor=l,o.fn.affix.noConflict=function(){return o.fn.affix=e,this},o(window).on("load",function(){o('[data-spy="affix"]').each(function(){var e=o(this),t=e.data();t.offset=t.offset||{},t.offsetBottom&&(t.offset.bottom=t.offsetBottom),t.offsetTop&&(t.offset.top=t.offsetTop),i.call(e,t)})})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t()}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(){!function(y){"use strict";function f(e){return y.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){e=e.replace(this.re,this.ch)}),e}function l(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(t).join("|")+")",s=new RegExp(i),i=new RegExp(i,"g"),e=null==e?"":""+e;return s.test(e)?e.replace(i,function(e){return t[e]}):e}function t(e,t){var n=arguments,o=e,l=t;[].shift.apply(n);var r,e=this.each(function(){var e=y(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof o&&o;if(t){if(i)for(var s in i)i.hasOwnProperty(s)&&(t.options[s]=i[s])}else{var a=y.extend({},h.DEFAULTS,y.fn.selectpicker.defaults||{},e.data(),i);e.data("selectpicker",t=new h(this,a,l))}"string"==typeof o&&(r=t[o]instanceof Function?t[o].apply(t,n):t.options[o])}});return void 0!==r?r:e}function e(e){if(null==this)throw TypeError();var t=String(this);if(e&&"[object RegExp]"==r.call(e))throw TypeError();var i=t.length,s=String(e),a=s.length,e=1<arguments.length?arguments[1]:void 0,e=e?Number(e):0,n=(e!=e&&(e=0),Math.min(Math.max(e,0),i));if(i<a+n)return!1;for(var o=-1;++o<a;)if(t.charCodeAt(n+o)!=s.charCodeAt(o))return!1;return!0}var r,n,i,o;function s(e){if(null==this)throw TypeError();var t=String(this);if(e&&"[object RegExp]"==n.call(e))throw TypeError();var i=t.length,e=String(e),s=e.length,a=1<arguments.length?arguments[1]:void 0;return(a=a?Number(a):0)!=a&&(a=0),!(i<s+Math.min(Math.max(a,0),i))&&-1!=o.call(t,e,a)}String.prototype.includes||(n={}.toString,i=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),o="".indexOf,i?i(String.prototype,"includes",{value:s,configurable:!0,writable:!0}):String.prototype.includes=s),String.prototype.startsWith||(i=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),r={}.toString,i?i(String.prototype,"startsWith",{value:e,configurable:!0,writable:!0}):String.prototype.startsWith=e),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),y.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?("function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):(i.fireEvent&&((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)),this.trigger(e))},y.expr[":"].icontains=function(e,t,i){e=y(e);return(e.data("tokens")||e.text()).toUpperCase().includes(i[3].toUpperCase())},y.expr[":"].ibegins=function(e,t,i){e=y(e);return(e.data("tokens")||e.text()).toUpperCase().startsWith(i[3].toUpperCase())},y.expr[":"].aicontains=function(e,t,i){e=y(e);return(e.data("tokens")||e.data("normalizedText")||e.text()).toUpperCase().includes(i[3].toUpperCase())},y.expr[":"].aibegins=function(e,t,i){e=y(e);return(e.data("tokens")||e.data("normalizedText")||e.text()).toUpperCase().startsWith(i[3].toUpperCase())};function h(e,t,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=y(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=t,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=h.prototype.val,this.render=h.prototype.render,this.refresh=h.prototype.refresh,this.setStyle=h.prototype.setStyle,this.selectAll=h.prototype.selectAll,this.deselectAll=h.prototype.deselectAll,this.destroy=h.prototype.remove,this.remove=h.prototype.remove,this.show=h.prototype.show,this.hide=h.prototype.hide,this.init()}h.VERSION="1.7.2",h.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},h.prototype={constructor:h,init:function(){var t=this,e=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==e&&(this.$button.attr("data-id",e),y('label[for="'+e+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on("hide.bs.dropdown",function(e){t.$element.trigger("hide.bs.select",e)}),this.$newElement.on("hidden.bs.dropdown",function(e){t.$element.trigger("hidden.bs.select",e)}),this.$newElement.on("show.bs.dropdown",function(e){t.$element.trigger("show.bs.select",e)}),this.$newElement.on("shown.bs.dropdown",function(e){t.$element.trigger("shown.bs.select",e)}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple?" show-tick":"",t=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+l(this.options.liveSearchPlaceholder)+'"')+"></div>":"",n=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",o=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",e='<div class="btn-group bootstrap-select'+e+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+s+a+n+'<ul class="dropdown-menu inner" role="menu"></ul>'+o+"</div></div>";return y(e)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){function h(e,t,i,s){return"<li"+(void 0!==i&""!==i?' class="'+i+'"':"")+(void 0!==t&null!==t?' data-original-index="'+t+'"':"")+(void 0!==s&null!==s?'data-optgroup="'+s+'"':"")+">"+e+"</li>"}function d(e,t,i,s){return'<a tabindex="0"'+(void 0!==t?' class="'+t+'"':"")+(void 0!==i?' style="'+i+'"':"")+(c.options.liveSearchNormalize?' data-normalized-text="'+f(l(e))+'"':"")+(void 0!==s||null!==s?' data-tokens="'+s+'"':"")+">"+e+'<span class="'+c.options.iconBase+" "+c.options.tickIcon+' check-mark"></span></a>'}var e,c=this,u=[],m=0,t=document.createElement("option"),p=-1;return!this.options.title||this.multiple||(p--,this.$element.find(".bs-title-option").length)||(e=this.$element[0],t.className="bs-title-option",t.appendChild(document.createTextNode(this.options.title)),t.value="",e.insertBefore(t,e.firstChild),void 0===y(e.options[e.selectedIndex]).attr("selected")&&(t.selected=!0)),this.$element.find("option").each(function(e){var t,i,s,a,n,o,l,r=y(this);p++,r.hasClass("bs-title-option")||(t=this.className||"",i=this.style.cssText,s=r.data("content")?r.data("content"):r.html(),a=r.data("tokens")?r.data("tokens"):null,o=void 0!==r.data("subtext")?'<small class="text-muted">'+r.data("subtext")+"</small>":"",l=void 0!==r.data("icon")?'<span class="'+c.options.iconBase+" "+r.data("icon")+'"></span> ':"",n=this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled,""!==l&&n&&(l="<span>"+l+"</span>"),c.options.hideDisabled&&n?p--:(r.data("content")||(s=l+'<span class="text">'+s+o+"</span>"),"OPTGROUP"===this.parentElement.tagName&&!0!==r.data("divider")?(n=" "+this.parentElement.className||"",0===r.index()&&(m+=1,l=this.parentElement.label,o=void 0!==r.parent().data("subtext")?'<small class="text-muted">'+r.parent().data("subtext")+"</small>":"",l=(r.parent().data("icon")?'<span class="'+c.options.iconBase+" "+r.parent().data("icon")+'"></span> ':"")+'<span class="text">'+l+o+"</span>",0!==e&&0<u.length&&(p++,u.push(h("",null,"divider",m+"div"))),p++,u.push(h(l,null,"dropdown-header"+n,m))),u.push(h(d(s,"opt "+t+n,i,a),e,"",m))):!0===r.data("divider")?u.push(h("",e,"divider")):!0===r.data("hidden")?u.push(h(d(s,t,i,a),e,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(p++,u.push(h("",null,"divider",m+"div"))),u.push(h(d(s,t,i,a),e))),c.liObj[e]=p))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),u.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var t,s=this,e=(!1!==e&&this.$element.find("option").each(function(e){var t=s.findLis().eq(s.liObj[e]);s.setDisabled(e,this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled,t),s.setSelected(e,this.selected,t)}),this.tabIndex(),this.$element.find("option").map(function(){var e,t,i;if(this.selected)return(!s.options.hideDisabled||!(this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled))&&(t=(e=y(this)).data("icon")&&s.options.showIcon?'<i class="'+s.options.iconBase+" "+e.data("icon")+'"></i> ':"",i=s.options.showSubtext&&e.data("subtext")&&!s.multiple?' <small class="text-muted">'+e.data("subtext")+"</small>":"",void 0!==e.attr("title")?e.attr("title"):e.data("content")&&s.options.showContent?e.data("content"):t+e.html()+i)}).toArray()),i=this.multiple?e.join(this.options.multipleSeparator):e[0];this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")&&(1<(t=this.options.selectedTextFormat.split(">")).length&&e.length>t[1]||1==t.length&&2<=e.length)&&(t=this.options.hideDisabled?", [disabled]":"",t=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+t).length,i=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(e.length,t):this.options.countSelectedText).replace("{0}",e.length.toString()).replace("{1}",t.toString())),null==this.options.title&&(this.options.title=this.$element.attr("title")),i=(i="static"==this.options.selectedTextFormat?this.options.title:i)||(void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",y.trim(i.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(i),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));e=e||this.options.style;"add"==t?this.$button.addClass(e):"remove"==t?this.$button.removeClass(e):(this.$button.removeClass(this.options.style),this.$button.addClass(e))},liHeight:function(e){var t,i,s,a,n,o,l,r,h,d;(e||!1!==this.options.size&&!this.sizeInfo)&&(e=document.createElement("div"),d=document.createElement("div"),s=document.createElement("ul"),h=document.createElement("li"),t=document.createElement("li"),a=document.createElement("a"),i=document.createElement("span"),n=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(!0):null,o=this.options.liveSearch?document.createElement("div"):null,l=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,r=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,i.className="text",e.className=this.$menu[0].parentNode.className+" open",d.className="dropdown-menu open",s.className="dropdown-menu inner",h.className="divider",i.appendChild(document.createTextNode("Inner text")),a.appendChild(i),t.appendChild(a),s.appendChild(t),s.appendChild(h),n&&d.appendChild(n),o&&(i=document.createElement("span"),o.className="bs-searchbox",i.className="form-control",o.appendChild(i),d.appendChild(o)),l&&d.appendChild(l),d.appendChild(s),r&&d.appendChild(r),e.appendChild(d),document.body.appendChild(e),t=a.offsetHeight,i=n?n.offsetHeight:0,s=o?o.offsetHeight:0,a=l?l.offsetHeight:0,n=r?r.offsetHeight:0,o=y(h).outerHeight(!0),r=(l="function"==typeof getComputedStyle&&getComputedStyle(d))?null:y(d),d=(h=parseInt(l?l.paddingTop:r.css("paddingTop"))+parseInt(l?l.paddingBottom:r.css("paddingBottom"))+parseInt(l?l.borderTopWidth:r.css("borderTopWidth"))+parseInt(l?l.borderBottomWidth:r.css("borderBottomWidth")))+parseInt(l?l.marginTop:r.css("marginTop"))+parseInt(l?l.marginBottom:r.css("marginBottom"))+2,document.body.removeChild(e),this.sizeInfo={liHeight:t,headerHeight:i,searchHeight:s,actionsHeight:a,doneButtonHeight:n,dividerHeight:o,menuPadding:h,menuExtras:d})},setSize:function(){var s,a,n,o,l,e,t,r,h,d,c,u,i,m,p,f,_,g,v,b;this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(o=(n=this).$menu,l=this.$menuInner,e=y(window),t=this.$newElement[0].offsetHeight,r=this.sizeInfo.liHeight,h=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,c=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,i=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,p=this.sizeInfo.menuExtras,g=this.options.hideDisabled?".disabled":"",(f=function(){s=n.$newElement.offset().top-e.scrollTop(),a=e.height()-s-t})(),"auto"===this.options.size?((_=function(){function e(t,i){return function(e){return i?e.classList?e.classList.contains(t):y(e).hasClass(t):!(e.classList?e.classList.contains(t):y(e).hasClass(t))}}var t=n.$menuInner[0].getElementsByTagName("li"),t=Array.prototype.filter?Array.prototype.filter.call(t,e("hidden",!1)):n.$lis.not(".hidden"),i=Array.prototype.filter?Array.prototype.filter.call(t,e("dropdown-header",!0)):t.filter(".dropdown-header");f(),v=a-p,b=n.options.container?(o.data("height")||o.data("height",o.height()),o.data("height")):o.height(),n.options.dropupAuto&&n.$newElement.toggleClass("dropup",a<s&&v-p<b),n.$newElement.hasClass("dropup")&&(v=s-p),t=3<t.length+i.length?3*r+p-2:0,o.css({"max-height":v+"px",overflow:"hidden","min-height":t+h+d+c+u+"px"}),l.css({"max-height":v-h-d-c-u-m+"px","overflow-y":"auto","min-height":Math.max(t-m,0)+"px"})})(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",_),e.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",_)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(g).length>this.options.size&&(_=this.$lis.not(".divider").not(g).children().slice(0,this.options.size).last().parent().index(),g=this.$lis.slice(0,_+1).filter(".divider").length,v=r*this.options.size+g*i+m,b=n.options.container?(o.data("height")||o.data("height",o.height()),o.data("height")):o.height(),n.options.dropupAuto&&this.$newElement.toggleClass("dropup",a<s&&v-p<b),o.css({"max-height":v+h+d+c+u+"px",overflow:"hidden","min-height":""}),l.css({"max-height":v-m+"px","overflow-y":"auto","min-height":""})))},setWidth:function(){var e,t,i,s;"auto"===this.options.width?(this.$menu.css("min-width","0"),e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,i=e.children(".dropdown-menu").outerWidth(),s=t.css("width","auto").children("button").outerWidth(),e.remove(),t.remove(),this.$newElement.css("width",Math.max(i,s)+"px")):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){function e(e){a.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),i=e.hasClass("dropup")?0:e[0].offsetHeight,a.css({top:t.top+i,left:t.left,width:e[0].offsetWidth,position:"absolute"})}var t,i,s=this,a=y("<div />");this.$newElement.on("click",function(){s.isDisabled()||(e(y(this)),a.appendTo(s.options.container),a.toggleClass("open",!y(this).hasClass("open")),a.append(s.$menu))}),y(window).on("resize scroll",function(){e(s.$newElement)}),this.$element.on("hide.bs.select",function(){s.$menu.data("height",s.$menu.height()),a.detach()})},setSelected:function(e,t,i){(i=i||this.findLis().eq(this.liObj[e])).toggleClass("selected",t)},setDisabled:function(e,t,i){i=i||this.findLis().eq(this.liObj[e]),t?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var p=this,t=y(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("click",function(){p.setSize(),p.$element.on("shown.bs.select",function(){var e;p.options.liveSearch||p.multiple?p.multiple||"number"==typeof(e=p.liObj[p.$element[0].selectedIndex])&&!1!==p.options.size&&(e=(e=p.$lis.eq(e)[0].offsetTop-p.$menuInner[0].offsetTop)-p.$menuInner[0].offsetHeight/2+p.sizeInfo.liHeight/2,p.$menuInner[0].scrollTop=e):p.$menu.find(".selected a").focus()})}),this.$menu.on("click","li a",function(e){var t,i,s,a,n,o,l,r,h,d=y(this),c=d.parent().data("originalIndex"),u=p.$element.val(),m=p.$element.prop("selectedIndex");p.multiple&&e.stopPropagation(),e.preventDefault(),!p.isDisabled()&&!d.parent().hasClass("disabled")&&(i=(t=(e=p.$element.find("option")).eq(c)).prop("selected"),l=t.parent("optgroup"),s=p.options.maxOptions,a=l.data("maxOptions")||!1,p.multiple?(t.prop("selected",!i),p.setSelected(c,!i),d.blur(),(!1!==s||!1!==a)&&(n=s<e.filter(":selected").length,o=a<l.find("option:selected").length,s&&n||a&&o)&&(s&&1==s?(e.prop("selected",!1),t.prop("selected",!0),p.$menu.find(".selected").removeClass("selected"),p.setSelected(c,!0)):a&&1==a?(l.find("option:selected").prop("selected",!1),t.prop("selected",!0),l=d.parent().data("optgroup"),p.$menu.find('[data-optgroup="'+l+'"]').removeClass("selected"),p.setSelected(c,!0)):(l=(d="function"==typeof p.options.maxOptionsText?p.options.maxOptionsText(s,a):p.options.maxOptionsText)[0].replace("{n}",s),r=d[1].replace("{n}",a),h=y('<div class="notify"></div>'),d[2]&&(l=l.replace("{var}",d[2][1<s?0:1]),r=r.replace("{var}",d[2][1<a?0:1])),t.prop("selected",!1),p.$menu.append(h),s&&n&&(h.append(y("<div>"+l+"</div>")),p.$element.trigger("maxReached.bs.select")),a&&o&&(h.append(y("<div>"+r+"</div>")),p.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){p.setSelected(c,!1)},10),h.delay(750).fadeOut(300,function(){y(this).remove()})))):(e.prop("selected",!1),t.prop("selected",!0),p.$menu.find(".selected").removeClass("selected"),p.setSelected(c,!0)),p.multiple?p.options.liveSearch&&p.$searchbox.focus():p.$button.focus(),u!=p.$element.val()&&p.multiple||m!=p.$element.prop("selectedIndex")&&!p.multiple)&&(p.$element.triggerNative("change"),p.$element.trigger("changed.bs.select",[c,t.prop("selected"),i]))}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),(p.options.liveSearch&&!y(e.target).hasClass("close")?p.$searchbox:p.$button).focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(p.options.liveSearch?p.$searchbox:p.$button).focus()}),this.$menu.on("click",".popover-title .close",function(){p.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){(p.options.liveSearch?p.$searchbox:p.$button).focus(),e.preventDefault(),e.stopPropagation(),y(this).hasClass("bs-select-all")?p.selectAll():p.deselectAll(),p.$element.triggerNative("change")}),this.$element.change(function(){p.render(!1)})},liveSearchListener:function(){var s=this,t=y('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){s.$menuInner.find(".active").removeClass("active"),s.$searchbox.val()&&(s.$searchbox.val(""),s.$lis.not(".is-hidden").removeClass("hidden"),t.parent().length)&&t.remove(),s.multiple||s.$menuInner.find(".selected").addClass("active"),setTimeout(function(){s.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var e,i;s.$searchbox.val()?(e=s.$lis.not(".is-hidden").removeClass("hidden").children("a"),(e=s.options.liveSearchNormalize?e.not(":a"+s._searchStyle()+'("'+f(s.$searchbox.val())+'")'):e.not(":"+s._searchStyle()+'("'+s.$searchbox.val()+'")')).parent().addClass("hidden"),s.$lis.filter(".dropdown-header").each(function(){var e=y(this),t=e.data("optgroup");0===s.$lis.filter("[data-optgroup="+t+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),s.$lis.filter("[data-optgroup="+t+"div]").addClass("hidden"))}),(i=s.$lis.not(".hidden")).each(function(e){var t=y(this);t.hasClass("divider")&&(t.index()===i.eq(0).index()||t.index()===i.last().index()||i.eq(e+1).hasClass("divider"))&&t.addClass("hidden")}),s.$lis.not(".hidden, .no-results").length?t.parent().length&&t.remove():(t.parent().length&&t.remove(),t.html(s.options.noneResultsText.replace("{0}",'"'+l(s.$searchbox.val())+'"')).show(),s.$menuInner.append(t))):(s.$lis.not(".is-hidden").removeClass("hidden"),t.parent().length&&t.remove()),s.$lis.filter(".active").removeClass("active"),s.$searchbox.val()&&s.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),y(this).focus()})},_searchStyle:function(){var e="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":e="ibegins"}return e},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!0),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!1),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected"),this.render(!1)},keydown:function(e){var t,i,s,a,n,o,l,r,h=y(this),d=(h.is("input")?h.parent():h).parent(),c=d.data("this"),u=":not(.disabled, .hidden, .dropdown-header, .divider)",m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};c.options.liveSearch&&(d=h.parent().parent()),c.options.container&&(d=c.$menu),t=y("[role=menu] li a",d),!(o=c.$menu.parent().hasClass("open"))&&(48<=e.keyCode&&e.keyCode<=57||65<=e.keyCode&&e.keyCode<=90)&&(c.options.container?c.$newElement.trigger("click"):(c.setSize(),c.$menu.parent().addClass("open"),o=!0),c.$searchbox.focus()),c.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&o&&0===c.$menu.find(".active").length&&(e.preventDefault(),c.$menu.parent().removeClass("open"),c.options.container&&c.$newElement.removeClass("open"),c.$button.focus()),t=y("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",d),h.val()||/(38|40)/.test(e.keyCode.toString(10))||0===t.filter(".active").length&&(t=c.$newElement.find("li"),t=c.options.liveSearchNormalize?t.filter(":a"+c._searchStyle()+"("+f(m[e.keyCode])+")"):t.filter(":"+c._searchStyle()+"("+m[e.keyCode]+")"))),t.length&&(/(38|40)/.test(e.keyCode.toString(10))?(d=t.index(t.filter(":focus")),s=t.parent(u).first().data("originalIndex"),a=t.parent(u).last().data("originalIndex"),i=t.eq(d).parent().nextAll(u).eq(0).data("originalIndex"),l=t.eq(d).parent().prevAll(u).eq(0).data("originalIndex"),u=t.eq(i).parent().prevAll(u).eq(0).data("originalIndex"),c.options.liveSearch&&(t.each(function(e){y(this).hasClass("disabled")||y(this).data("index",e)}),d=t.index(t.filter(".active")),s=t.first().data("index"),a=t.last().data("index"),i=t.eq(d).nextAll().eq(0).data("index"),l=t.eq(d).prevAll().eq(0).data("index"),u=t.eq(i).prevAll().eq(0).data("index")),n=h.data("prevIndex"),38==e.keyCode?(c.options.liveSearch&&--d,(d=(d=d!=u&&l<d?l:d)<s?s:d)==n&&(d=a)):40==e.keyCode&&(c.options.liveSearch&&(d+=1),(d=a<(d=(d=-1==d?0:d)!=u&&d<i?i:d)?a:d)==n)&&(d=s),h.data("prevIndex",d),c.options.liveSearch?(e.preventDefault(),h.hasClass("dropdown-toggle")||(t.removeClass("active").eq(d).addClass("active").children("a").focus(),h.focus())):t.eq(d).focus()):h.is("input")||(r=[],t.each(function(){y(this).parent().hasClass("disabled")||y.trim(y(this).text().toLowerCase()).substring(0,1)==m[e.keyCode]&&r.push(y(this).parent().index())}),l=y(document).data("keycount"),l++,y(document).data("keycount",l),y.trim(y(":focus").text().toLowerCase()).substring(0,1)!=m[e.keyCode]?(l=1,y(document).data("keycount",l)):r.length<=l&&(y(document).data("keycount",0),r.length<l)&&(l=1),t.eq(r[l-1]).focus()),(/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&c.options.selectOnTab)&&o&&(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),c.options.liveSearch?/(32)/.test(e.keyCode.toString(10))||(c.$menu.find(".active a").click(),h.focus()):((u=y(":focus")).click(),u.focus(),e.preventDefault(),y(document).data("spaceSelect",!0)),y(document).data("keycount",0)),/(^9$|27)/.test(e.keyCode.toString(10))&&o&&(c.multiple||c.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!o)&&(c.$menu.parent().removeClass("open"),c.options.container&&c.$newElement.removeClass("open"),c.$button.focus())},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var a=y.fn.selectpicker;y.fn.selectpicker=t,y.fn.selectpicker.Constructor=h,y.fn.selectpicker.noConflict=function(){return y.fn.selectpicker=a,this},y(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',h.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()}),y(window).on("load.bs.select.data-api",function(){y(".selectpicker").each(function(){var e=y(this);t.call(e,e.data())})})}(jQuery)});var isSafariOrEdge=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")||-1!=navigator.userAgent.indexOf("Edge"),timeformat="",dateFormat="";function renderSchedulePopUp(){var i="",s="",a="",n="",o="";$.ajax({type:"POST",url:getRecurrenceTypeUrl,async:!1,success:function(e){null!=e.RecurrenceType&&0<e.RecurrenceType.length&&(i="<option value= "+e.RecurrenceType[0]+">"+window.Server.App.Localization.Daily+"</option><option value= "+e.RecurrenceType[1]+">"+window.Server.App.Localization.Weekly+"</option><option value= "+e.RecurrenceType[2]+">"+window.Server.App.Localization.Monthly+"</option><option value= "+e.RecurrenceType[3]+">"+window.Server.App.Localization.Yearly+"</option>");for(var t=0;t<e.Days.length;t++)"weekendday"!=e.Days[t].toString().toLowerCase()&&"day"!=e.Days[t].toString().toLowerCase()&&"weekday"!=e.Days[t].toString().toLowerCase()||("weekendday"==e.Days[t].toString().toLowerCase()?s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.WeekEndDay+"</option>":("weekday"==e.Days[t].toString().toLowerCase()&&(s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.WeekDay+"</option>"),"day"==e.Days[t].toString().toLowerCase()&&(s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Day+"</option>")));for(t=0;t<e.Days.length;t++)"weekendday"!=e.Days[t].toString().toLowerCase()&&"day"!=e.Days[t].toString().toLowerCase()&&"weekday"!=e.Days[t].toString().toLowerCase()&&("sunday"==e.Days[t].toString().toLowerCase()&&(s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Sunday+"</option>"),"monday"==e.Days[t].toString().toLowerCase()&&(s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Monday+"</option>"),"tuesday"==e.Days[t].toString().toLowerCase()&&(s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Tuesday+"</option>"),"wednesday"==e.Days[t].toString().toLowerCase()&&(s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Wednesday+"</option>"),"thursday"==e.Days[t].toString().toLowerCase()&&(s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Thursday+"</option>"),"friday"==e.Days[t].toString().toLowerCase()&&(s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Friday+"</option>"),"saturday"==e.Days[t].toString().toLowerCase())&&(s+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Saturday+"</option>");a="<option value= "+e.Weeks[0]+">"+window.Server.App.Localization.First+"</option><option value= "+e.Weeks[1]+">"+window.Server.App.Localization.Second+"</option><option value= "+e.Weeks[2]+">"+window.Server.App.Localization.Third+"</option><option value= "+e.Weeks[3]+">"+window.Server.App.Localization.Fourth+"</option><option value= "+e.Weeks[4]+">"+window.Server.App.Localization.Last+"</option>",n="<option value= "+e.Months[0]+">"+window.Server.App.Localization.January+"</option><option value= "+e.Months[1]+">"+window.Server.App.Localization.February+"</option><option value= "+e.Months[2]+">"+window.Server.App.Localization.March+"</option><option value= "+e.Months[3]+">"+window.Server.App.Localization.April+"</option><option value= "+e.Months[4]+">"+window.Server.App.Localization.May+"</option><option value= "+e.Months[5]+">"+window.Server.App.Localization.June+"</option><option value= "+e.Months[6]+">"+window.Server.App.Localization.July+"</option><option value= "+e.Months[7]+">"+window.Server.App.Localization.August+"</option><option value= "+e.Months[8]+">"+window.Server.App.Localization.September+"</option><option value= "+e.Months[9]+">"+window.Server.App.Localization.October+"</option><option value= "+e.Months[10]+">"+window.Server.App.Localization.November+"</option><option value= "+e.Months[11]+">"+window.Server.App.Localization.December+"</option>",o=e.TimeZoneDateTime.toString()},error:handleAjaxError(),complete:hideWaitingPopup($("#page_content_Div"))}),$("#recurrence-type").append(i),$("#monthly-dow-week").append(a),$("#monthly-dow-day").append(s),$("#yearly-month").append(n),$("#yearly-dow-week").append(a),$("#yearly-dow-day").append(s),$("#yearly-dow-month").append(n),$("#every-x-days, #monthly-date, #yearly-day").ejNumericTextbox({name:"numeric",value:4,minValue:1,maxValue:31,width:"93px",height:"28px",showRoundedCorner:!0}),$("#every-x-weeks, #monthly-every-x-months, #monthly-dow-every-x-months, #every-x-years").ejNumericTextbox({name:"numeric",value:4,minValue:1,maxValue:99,width:"93px",height:"28px",showRoundedCorner:!0}),$("#occurenceCount").ejNumericTextbox({name:"numeric",value:1,minValue:1,maxValue:999,width:"65px",height:"34px"}),"false"==timeformat.toLowerCase()?$("#start-date").ejTimePicker({interval:10,value:o,enableStrictMode:!1,popupHeight:"150px",timeFormat:"hh:mm tt"}):$("#start-date").ejTimePicker({interval:10,value:o,enableStrictMode:!1,popupHeight:"150px",timeFormat:"HH:mm"}),$("#start-date").css({cursor:"default"}),$("#recurrence-type, #monthly-dow-week, #monthly-dow-day, #yearly-dow-week, #yearly-dow-day, #yearly-dow-month, #yearly-month").selectpicker("refresh")}function createScheduleMessage(e,t){e.IsEnabled?($("#next-schedule").html(e.NextScheduleString),"daily"==e.RecurrenceType.toLowerCase()?1==e.RecurrenceInterval?$(".recurrence-information").html(window.Server.App.Localization.DailyInfoSync.format(e.NextScheduleString)):$(".recurrence-information").html(window.Server.App.Localization.DailyInfoDaySync.format(e.RecurrenceInterval,e.NextScheduleString)):"dailyweekday"==e.RecurrenceType.toLowerCase()?$(".recurrence-information").html(window.Server.App.Localization.DailyInfoWeekDaySync.format(e.NextScheduleString)):"weekly"==e.RecurrenceType.toLowerCase()?1==e.RecurrenceInterval?void 0!==t.lastDay?$(".recurrence-information").html(window.Server.App.Localization.WeeklyInfoDaySync.format(t.firstDay,t.lastDay,e.NextScheduleString)):$(".recurrence-information").html(window.Server.App.Localization.WeeklyInfoSync.format(t.firstDay,e.NextScheduleString)):void 0!==t.lastDay?$(".recurrence-information").html(window.Server.App.Localization.WeeklyInfoWDSync.format(e.RecurrenceInterval,t.firstDay,t.lastDay,e.NextScheduleString)):$(".recurrence-information").html(window.Server.App.Localization.WeeklyInfoWeekSync.format(e.RecurrenceInterval,t.firstDay,e.NextScheduleString)):"monthly"==e.RecurrenceType.toLowerCase()?$(".recurrence-information").html(window.Server.App.Localization.MonthlyInfoDM.format(e.DaysOfMonth.toString(),e.RecurrenceInterval.toString(),e.NextScheduleString)):"monthlydow"==e.RecurrenceType.toLowerCase()?(e.WeekOfMonth=$("#monthly-dow-week").find("option:selected").text(),e.DayOfWeek=$("#monthly-dow-day").find("option:selected").text(),$(".recurrence-information").html(window.Server.App.Localization.MonthlyInfoODM.format(e.WeekOfMonth.toString(),e.DayOfWeek.toString(),e.RecurrenceInterval.toString(),e.NextScheduleString))):"yearly"==e.RecurrenceType.toLowerCase()?(e.MonthOfYear=$("#yearly-month").find("option:selected").text(),1==e.RecurrenceInterval?$(".recurrence-information").html(window.Server.App.Localization.YearlyInfoSync.format(e.MonthOfYear.toString(),e.DaysOfMonth.toString(),e.NextScheduleString)):$(".recurrence-information").html(window.Server.App.Localization.YearlyInfoYMDSync.format(e.RecurrenceInterval,e.MonthOfYear.toString(),e.DaysOfMonth.toString(),e.NextScheduleString))):"yearlydow"==e.RecurrenceType.toLowerCase()&&(e.WeekOfMonth=$("#yearly-dow-week").find("option:selected").text(),e.DayOfWeek=$("#yearly-dow-day").find("option:selected").text(),e.MonthOfYear=$("#yearly-dow-month").find("option:selected").text(),1==e.RecurrenceInterval?$(".recurrence-information").html(window.Server.App.Localization.YearlyInfoODMSync.format(e.WeekOfMonth.toString(),e.DayOfWeek.toString(),e.MonthOfYear.toString(),e.NextScheduleString)):$(".recurrence-information").html(window.Server.App.Localization.YearlyInfoYODMSync.format(e.RecurrenceInterval,e.WeekOfMonth.toString(),e.DayOfWeek.toString(),e.MonthOfYear.toString(),e.NextScheduleString)))):($(".recurrence-information").html(""),$("#next-schedule").html("_ _ _"))}function validateSchedule(){var e=$("#start-date").data("ejTimePicker"),t=$("#enable-schedule").prop("checked");if(("h:mm tt"==!e.model.dateTimeFormat||""==$("#start-date").val())&&t)return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.ScheduleTimeValidator),!1;switch($("#start-date-error-container").css("display","none"),$("#recurrence-type").val().toString().toLowerCase()){case"hourly":if(""==$(".time-format").val())return $(".frequency-error").css("display","inline"),$(".time-format").parent("span").addClass("validation-error"),!1;var i=$(".time-format").val().split(":");if(!(3<60*i[0]+i[1]))return $(".frequency-error").css("display","inline"),$(".time-format").parent("span").addClass("validation-error"),!1;$(".frequency-error").css("display","none"),$(".time-format").parent("span").removeClass("validation-error");break;case"daily":if($("#daily-every-x-days").is(":checked")&&""==$("#every-x-days").val()&&t)return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.RecursInfoValidator),!1;break;case"weekly":if(!$("#days-check-box input[type='checkbox']").is(":checked"))return $("#weekly-day-error-container").css("display","block"),$("#weekly-days-validator").html(window.Server.App.Localization.WeekDaysValidator),!1;if(""==$("#every-x-weeks").val())return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.RecursInfoValidator),!1;$("#weekly-day-error-container").css("display","none");break;case"monthly":if($("#monthly").is(":checked")&&(""==$("#monthly-date").val()||""==$("#monthly-every-x-months").val()))return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.RecursInfoValidator),!1;if($("#monthly-dow").is(":checked")&&""==$("#monthly-dow-every-x-months").val())return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.RecursInfoValidator),!1;break;case"yearly":if(""==$("#every-x-years").val())return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.RecursInfoValidator),!1;if($("#yearly").is(":checked")&&""==$("#yearly-day").val())return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.RecursInfoValidator),!1;var i=$("#yearly-month").val().toString(),s=parseInt($("#yearly-day").val()),a=(new Date).getFullYear()+Number($("#every-x-years").val()),n=$("#yearly-day").data("ejNumericTextbox");switch(i.toLowerCase()){case"february":28<s&&n.option("value",a%4==0?29:28);break;case"april":case"june":case"september":case"november":30<s&&n.option("value",30);break;case"january":case"march":case"may":case"july":case"august":case"october":case"december":31<s&&n.option("value",31)}}return!0}function EnableSchedule(){$(".schedule-dropdown").removeAttr("disabled").selectpicker("refresh"),$(".numeric-text-box").each(function(){$(this).data("ejNumericTextbox").enable()}),$(".schedule-checkbox, #daily-every-x-days, #daily-week-days, #monthly, #monthly-dow,#yearly, #yearly-dow").prop("disabled",!1),$("#start-date").data("ejTimePicker").enable()}function DisableSchedule(){$(".schedule-dropdown").attr("disabled",!0).selectpicker("refresh"),$(".numeric-text-box").each(function(){$(this).data("ejNumericTextbox").disable()}),$(".schedule-checkbox, #daily-every-x-days, #daily-week-days, #monthly, #monthly-dow, #yearly, #yearly-dow").prop("disabled",!0),$("#start-date").data("ejTimePicker").disable()}function toggleDailyFileds(e){$("input[name='daily-recurrence-type']").prop("checked",!1),$(e).prop("checked",!0);var t=$("#every-x-days").data("ejNumericTextbox");"#daily-every-x-days"===e?t.enable():t.disable()}function toggleYealyFileds(e){$("input[name='yearly']").prop("checked",!1),$(e).prop("checked",!0);var t=$("#yearly-day").data("ejNumericTextbox");"#yearly"===e?($(".yearly-schedule-dropdown").removeAttr("disabled").selectpicker("refresh"),$(".yearly-dow-schedule-dropdown").attr("disabled",!0).selectpicker("refresh"),t.enable()):($(".yearly-dow-schedule-dropdown").removeAttr("disabled").selectpicker("refresh"),$(".yearly-schedule-dropdown").attr("disabled",!0).selectpicker("refresh"),t.disable())}function toggleMonthlyFields(e){$("input[name='monthly']").prop("checked",!1),$(e).prop("checked",!0);var t=$("#monthly-date").data("ejNumericTextbox"),i=$("#monthly-every-x-months").data("ejNumericTextbox"),s=$("#monthly-dow-every-x-months").data("ejNumericTextbox");"#monthly-dow"===e?($(".monthly-schedule-dropdown").removeAttr("disabled").selectpicker("refresh"),s.enable(),t.disable(),i.disable()):($(".monthly-schedule-dropdown").attr("disabled",!0).selectpicker("refresh"),s.disable(),t.enable(),i.enable())}function enableReccurrenceFields(){$("#daily-week-days").is(":checked")?toggleDailyFileds("#daily-week-days"):toggleDailyFileds("#daily-every-x-days"),$("#yearly").is(":checked")?toggleYealyFileds("#yearly"):toggleYealyFileds("#yearly-dow"),$("#monthly").is(":checked")?toggleMonthlyFields("#monthly"):toggleMonthlyFields("#monthly-dow")}$(document).ready(function(){$(".time-format").ejTimePicker({timeFormat:"HH:mm",minutesInterval:5,minTime:"00:05"}),timeformat=$("#timeFormat").val(),dateFormat=$("#dateFormat").val(),showWaitingPopup($("#server-app-container")),renderSchedulePopUp(),generateProfileAvatar(),1400<$(window).width()?$(".schedule-dialog").addClass("lg-flexible-editschedule"):$(".schedule-dialog").removeClass("lg-flexible-editschedule");var h="",d="";$("#weekly-day-error-container").hide(),$.ajax({type:"POST",url:getScheduleInfoUrl,success:function(e){var t={},i={};if(null!==e&&""!==e){switch(h=e.ScheduleItem,t.NextScheduleString=h.NextScheduleString.toString(),t.IsEnabled=e.ScheduleItem.IsEnabled,$("#hourly-schedule-option, #daily-schedule-option, #weekly-schedule-option, #monthly-schedule-option, #yearly-schedule-option").css("display","none"),$("#yearly, #daily-every-x-days, #monthly").prop("checked","checked"),h.RecurrenceType.toLowerCase()){case"daily":d="Daily",t.RecurrenceType="daily",t.RecurrenceInterval=h.Recurrence.DailySchedule.DaysInterval,$("#daily-schedule-option").css("display","block"),$("#daily-every-x-days").prop("checked","checked"),$("#every-x-days").data("ejNumericTextbox").option("value",t.RecurrenceInterval);break;case"dailyweekday":$("#daily-every-x-days").removeAttr("checked"),d="Daily",t.RecurrenceType="dailyweekday",$("#daily-schedule-option").css("display","block"),$("#daily-every-x-days").prop("checked",!1),$("#daily-week-days").prop("checked","checked");break;case"weekly":d="Weekly",t.RecurrenceType="weekly",t.RecurrenceInterval=h.Recurrence.WeeklySchedule.WeeksInterval,$("#weekly-schedule-option").css("display","block");$("#every-x-weeks").data("ejNumericTextbox").option("value",t.RecurrenceInterval),$("#sun").prop("checked",h.Recurrence.WeeklySchedule.DaysOfWeek.Sunday),$("#mon").prop("checked",h.Recurrence.WeeklySchedule.DaysOfWeek.Monday),$("#tues").prop("checked",h.Recurrence.WeeklySchedule.DaysOfWeek.Tuesday),$("#wed").prop("checked",h.Recurrence.WeeklySchedule.DaysOfWeek.Wednesday),$("#thu").prop("checked",h.Recurrence.WeeklySchedule.DaysOfWeek.Thursday),$("#fri").prop("checked",h.Recurrence.WeeklySchedule.DaysOfWeek.Friday),$("#sat").prop("checked",h.Recurrence.WeeklySchedule.DaysOfWeek.Saturday);for(var s=$(".schedule-checkbox:checked"),a=0;a<s.length;a++)1==s.length||0==a?i.firstDay=$(s[a]).siblings("label").text():0<a&&a!=s.length-1?i.firstDay=i.firstDay+", "+$(s[a]).siblings("label").text():i.lastDay=$(s[a]).siblings("label").text();break;case"monthly":d="Monthly",t.RecurrenceType="monthly",t.DaysOfMonth=h.Recurrence.MonthlySchedule.DayOfMonth,t.RecurrenceInterval=h.Recurrence.MonthlySchedule.Months,$("#monthly-schedule-option").css("display","block"),$("#monthly").prop("checked","checked"),$("#monthly-date").data("ejNumericTextbox").option("value",t.DaysOfMonth),$("#monthly-every-x-months").data("ejNumericTextbox").option("value",t.RecurrenceInterval);break;case"monthlydow":d="Monthly",$("#monthly").removeAttr("checked"),$("#monthly-schedule-option").css("display","block"),$("#monthly").prop("checked",!1),$("#monthly-dow").prop("checked","checked"),t.RecurrenceType="MonthlyDOW",t.WeekOfMonth=h.Recurrence.MonthlyDowSchedule.WeeksOfTheMonth,t.DayOfWeek=h.Recurrence.MonthlyDowSchedule.DaysOfTheWeek,t.RecurrenceInterval=h.Recurrence.MonthlyDowSchedule.Months,$("#monthly-dow-week").find("option[value='"+t.WeekOfMonth+"']").prop("selected","selected"),$("#monthly-dow-week").selectpicker("refresh"),$("#monthly-dow-day").find("option[value='"+t.DayOfWeek+"']").prop("selected","selected"),$("#monthly-dow-day").selectpicker("refresh"),$("#monthly-dow-every-x-months").data("ejNumericTextbox").option("value",t.RecurrenceInterval);break;case"yearly":d="Yearly",$("#yearly-schedule-option").css("display","block"),$("#yearly").prop("checked","checked");var n=$("#every-x-years").data("ejNumericTextbox");t.RecurrenceInterval=h.Recurrence.YearlySchedule.YearsInterval,t.RecurrenceType="Yearly",t.DaysOfMonth=h.Recurrence.YearlySchedule.DayOfMonth,t.MonthOfYear=h.Recurrence.YearlySchedule.MonthsOfTheYear,n.option("value",t.RecurrenceInterval),$("#yearly-month").find("option[value='"+t.MonthOfYear+"']").prop("selected","selected"),$("#yearly-month").selectpicker("refresh"),$("#yearly-day").data("ejNumericTextbox").option("value",t.DaysOfMonth);break;case"yearlydow":$("#yearly").removeAttr("checked"),d="Yearly",$("#yearly-schedule-option").css("display","block"),$("#yearly").prop("checked",!1),$("#yearly-dow").prop("checked","checked");n=$("#every-x-years").data("ejNumericTextbox");t.RecurrenceInterval=h.Recurrence.YearlyDowSchedule.YearsInterval,t.RecurrenceType="YearlyDOW",t.WeekOfMonth=h.Recurrence.YearlyDowSchedule.WeeksOfTheMonth,t.DayOfWeek=h.Recurrence.YearlyDowSchedule.DaysOfTheWeek,t.MonthOfYear=h.Recurrence.YearlyDowSchedule.MonthsOfTheYear,n.option("value",t.RecurrenceInterval),$("#yearly-dow-week").find("option[value='"+t.WeekOfMonth+"']").prop("selected","selected"),$("#yearly-dow-week").selectpicker("refresh"),$("#yearly-dow-day").find("option[value='"+t.DayOfWeek+"']").prop("selected","selected"),$("#yearly-dow-day").selectpicker("refresh"),$("#yearly-dow-month").find("option[value='"+t.MonthOfYear+"']").prop("selected","selected"),$("#yearly-dow-month").selectpicker("refresh")}$("#recurrence-type").find("option[value='"+d+"']").prop("selected","selected"),$("#recurrence-type").selectpicker("refresh");var o,l,e="",r=new Date(h.StartDateString);"false"==timeformat.toLowerCase()?(e=new Date(r),DateCustomFormat(dateFormat+" hh:mm",e,timeformat),l="PM"==(o=12<=e.getHours()?"PM":"AM")?e.getHours()-12:e.getHours(),$("#start-date").ejTimePicker({value:l+":"+e.getMinutes()+" "+o})):(e=new Date(r),DateCustomFormat(dateFormat+" HH:mm",e,timeformat),$("#start-date").ejTimePicker({value:e.getHours()+":"+e.getMinutes()+" "})),createScheduleMessage(t,i),$("#enable-schedule").prop("checked",h.IsEnabled).trigger("change"),enableReccurrenceFields()}else $("#enable-schedule").prop("checked",!1).trigger("change"),$(".recurrence-information").html("")},error:handleAjaxError(),complete:hideWaitingPopup($("#server-app-container"))}),$("#enable-checkbox,#enable-sunday,#enable-monday,#enable-tuesday,#enable-wednesday,#enable-thursday,#enable-friday,#enable-saturday").on("click",function(){isSafariOrEdge&&$(this).find("label").toggleClass("check")})}),$(document).on("change","#recurrence-type",function(){var e=$(this).find("option:selected").val();$("#hourly-schedule-option, #daily-schedule-option, #weekly-schedule-option, #monthly-schedule-option, #yearly-schedule-option").css("display","none"),$("#"+e.toString().toLowerCase()+"-schedule-option").css("display","block"),"daily"===e.toString().toLowerCase()?toggleDailyFileds("#daily-every-x-days"):"monthly"===e.toString().toLowerCase()?toggleMonthlyFields("#monthly"):"yearly"===e.toString().toLowerCase()&&toggleYealyFileds("#yearly"),$("#weekly-day-error-container").hide(),$("#start-date-error-container").css("display","none")}),$(document).on("click","#update-schedule-synchronization-bottom",function(){if(validateSchedule()){showWaitingPopup($("#server-app-container"));var t={},i={};switch($("#recurrence-type").val().toString().toLowerCase()){case"daily":$("#daily-every-x-days").is(":checked")?(t.RecurrenceType="Daily",t.RecurrenceInterval=$("#every-x-days").val()):t.RecurrenceType="DailyWeekDay";break;case"weekly":t.RecurrenceType="Weekly",t.RecurrenceInterval=$("#every-x-weeks").val(),t.Sunday=$("#sun").prop("checked"),t.Monday=$("#mon").prop("checked"),t.Tuesday=$("#tues").prop("checked"),t.Wednesday=$("#wed").prop("checked"),t.Thursday=$("#thu").prop("checked"),t.Friday=$("#fri").prop("checked"),t.Saturday=$("#sat").prop("checked");for(var e=$(".schedule-checkbox:checked"),s=0;s<e.length;s++)1==e.length||0==s?i.firstDay=$(e[s]).siblings("label").text():0<s&&s!=e.length-1?i.firstDay=i.firstDay+", "+$(e[s]).siblings("label").text():i.lastDay=$(e[s]).siblings("label").text();break;case"monthly":$("#monthly").is(":checked")?(t.RecurrenceType="Monthly",t.DaysOfMonth=$("#monthly-date").val(),t.RecurrenceInterval=$("#monthly-every-x-months").val()):(t.RecurrenceType="MonthlyDOW",t.WeekOfMonth=$("#monthly-dow-week").val(),t.DayOfWeek=$("#monthly-dow-day").val(),t.RecurrenceInterval=$("#monthly-dow-every-x-months").val());break;case"yearly":t.RecurrenceInterval=$("#every-x-years").val(),$("#yearly").is(":checked")?(t.RecurrenceType="Yearly",t.DaysOfMonth=$("#yearly-day").val(),t.MonthOfYear=$("#yearly-month").val()):(t.RecurrenceType="YearlyDOW",t.WeekOfMonth=$("#yearly-dow-week").val(),t.DayOfWeek=$("#yearly-dow-day").val(),t.MonthOfYear=$("#yearly-dow-month").val())}t.StartDate=$("#start-date").val(),t.IsEnabled=$("#enable-schedule").prop("checked"),$.ajax({type:"POST",url:updateAdScheduleUrl,data:{scheduleSettingsData:JSON.stringify({ScheduleItem:t})},success:function(e){e.Status?(t.NextScheduleString=e.StartDateValue,createScheduleMessage(t,i),successToast(window.Server.App.Localization.UpdateSettingsSuccess,7e3)):e.AzureADSettingsNotConfigured?warningToast(window.Server.App.Localization.AzureADScheduleWarningMessage):e.DatabaseSettingsNotConfigured?warningToast(window.Server.App.Localization.DatabaseScheduleWarningMessage):e.WindowsADSettingsNotConfigured?warningToast(window.Server.App.Localization.WindowsADScheduleWarningMessage):warningToast(e.permissionDenied?window.Server.App.Localization.PermissionWarningAlert+" "+window.Server.App.Localization.ReloadPage:window.Server.App.Localization.SettingsWarningAlert,e.permissionDenied?null:e.Message,null,window.Server.App.Localization.ScheduleSyncSettings)},error:handleAjaxError(),complete:function(){hideWaitingPopup($("#server-app-container"))}})}}),$(document).on("change","#enable-schedule",function(){($(this).is(":checked")?(EnableSchedule(),enableReccurrenceFields):DisableSchedule)(),isSafariOrEdge&&($("#enable-sunday,#enable-monday,#enable-tuesday,#enable-wednesday,#enable-thursday,#enable-friday,#enable-saturday").find("label").toggleClass("check"),$("#daily-every-x-days, #daily-week-days, #monthly, #monthly-dow,#yearly, #yearly-dow").next().toggleClass("check")),$(".validation-message").hide()}),$(document).on("click","input[name='daily-recurrence-type']",function(){toggleDailyFileds("#"+$(this).attr("Id"))}),$(document).on("click","input[name='monthly']",function(){toggleMonthlyFields("#"+$(this).attr("Id"))}),$(document).on("click","input[name ='yearly']",function(){toggleYealyFileds("#"+$(this).attr("Id"))});