@using Syncfusion.Server.Base.Helpers

@{
    var isReportDesigner = ViewData["IsReportDesigner"] != null ? (bool)ViewData["IsReportDesigner"] : false;
    var globalAppSettings = _globalAppSettings;
    var reportServerResourceUrl = globalAppSettings.SystemSettings.CDNLink.TrimEnd('/');
}

<script nonce="@Context.Items["ScriptNonce"]">
    var isCategoryPopupInReportDesigner = false;
</script>

@if (isReportDesigner)
{
    <environment include="Development,CloudDevelopment">
        <script nonce="@Context.Items["ScriptNonce"]" asp-append-version="true" src="~/js/localizationcontent.js?c=@System.Globalization.CultureInfo.CurrentCulture"></script>
        <link rel="stylesheet" asp-append-version="true" href="@reportServerResourceUrl/cdn/css/add-category.css" integrity="@IntegrityTagHelper.GetIntegrity("wwwroot/cdn/css/add-category.css")" crossorigin="anonymous" />
        <link rel="stylesheet" asp-append-version="true" href="@ServerAppConfig.CustomFontUrl(globalAppSettings?.SystemSettings?.FontPreference, reportServerResourceUrl)" />
    </environment>
    <environment exclude="Development,CloudDevelopment">
        <script nonce="@Context.Items["ScriptNonce"]" asp-append-version="true" src="~/js/localizationcontent.js?c=@System.Globalization.CultureInfo.CurrentCulture"></script>
        <link rel="stylesheet" asp-append-version="true" href="@reportServerResourceUrl/cdn/css/add-category.min.css" integrity="@IntegrityTagHelper.GetIntegrity("wwwroot/cdn/css/add-category.min.css")" crossorigin="anonymous" />
        <link rel="stylesheet" asp-append-version="true" href="@ServerAppConfig.CustomFontUrl(globalAppSettings?.SystemSettings?.FontPreference, reportServerResourceUrl)" />
    </environment>
    <script nonce="@Context.Items["ScriptNonce"]">
        isCategoryPopupInReportDesigner = @Json.Serialize(isReportDesigner);
    </script>
}

<div id="AddSubCategoryPopup" style="display:none" role="dialog">
    <div style="background:white;" class="dialog">
        <form id="addSubCategoryForm" class="col-md-12 dialog-body">
                <table>
                    <tbody>
                        <tr>
                            <td><div class="margin-bottom sub-category-name">[[[Category Name]]]<span class="mandatory">*</span></div></td>
                            <td>
                                <span class="margin-bottom">
                                <input type="text" id="sub-category_name" class="popup form-control text-field text" data-maxlength="255" value="" tabindex="1" autofocus name="categoryName">
                                    <span id="validate-name" class="validation-message text"></span>
                                    <div id="plugin_validation" class="validation-message text"></div>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td><div class="margin-bottom">[[[Description]]]</div></td>
                            <td>
                                <textarea class="form-control text-field text" maxlength="1024" id="category_description" tabindex="2"></textarea>
                                <span class="help-text">
                                    <span class="help-text-mandatory">*</span>[[[1024 characters maximum]]]
                                </span>
                            </td>
                        </tr>
                </tbody>
            </table>
        </form>
    </div>
</div>
<div id="CreateCategoryPopup" style="display:none">
    <div style="background:white;" class="dialog">
            <div class="select-create-type">
                <div class="new-category-select select-database">
                    <input type="radio" id="new-category" class="css-radio" name="categoryType" value="0" checked>
                    <label for="new-category" class="radio-btn-label app-textbox-label"><span class="text">[[[New Category]]]</span></label>
                </div>
                <div class="new-subcategory-select select-database">
                    <input type="radio" id="new-subcategory" class="css-radio" name="categoryType" value="1">
                    <label for="new-subcategory" class="radio-btn-label app-textbox-label"><span class="text">[[[New Sub Category]]]</span></label>
                </div>
            </div>
        
        <form id="create_newcategory_content" class="col-md-12 dialog-body">
            <div id="create-category-section">
                <table>
                    <tbody>
                        <tr class="bottomPadding5">
                            <td class="text-right padding-right-15"><div class="bottom-margin30" >[[[Category Name]]]<span class="mandatory">*</span></div></td>
                            <td>
                                <span>
                                    <input type="text" id="add_category_name" class="popup form-control text-field" data-maxlength="255" value="" tabindex="1" autofocus name="categoryName">
                                    <span id="validate-name" class="validation-message text"></span>
                                    <div id="plugin_validation" class="validation-message text"></div>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td class="text-right padding-right-15"><div class="bottom-margin30">[[[Description]]]</div></td>
                            <td>
                                <textarea name="description" class="form-control text-field text" maxlength="1024" id="add-category_description" tabindex="2"></textarea>
                                <span class="help-text">
                                    <span class="help-text-mandatory">*</span>[[[1024 characters maximum]]]
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </form> 
        @* <div class="category-btns dialog-footer">
            <div class="float-end">
                <input type="button" title="" class="app-button app-primary-button app-btn-primary" id="validate-add-item" value="[[[Add]]]" tabindex="3">
                <input type="button" title="" class="app-button app-secondary-button app-btn-secondary" id="cancel-add-item-popup" value="[[[Cancel]]]" tabindex="4"> *@
<form id="create_subcategory_content" class="col-md-12 dialog-body" style="display:none">
            <div id="create-subcategory-section">
                <table>
                    <tbody>
                        <tr>
                            <td>
                                <div class="choose-category category-add-field">[[[Choose Category]]]<span class="mandatory">*</span></div>
                            </td>
                            <td>
                                <span>
                                    <input id="SubCategoryList" style="height:12px;" />
                                    <div id="categorylist_validation" class="validation-message text"></div>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td><div class="category-name category-add-field">[[[Category Name]]]<span class="mandatory">*</span></div></td>
                            <td>
                                <span>
                                    <input type="text" id="create_subcategory_name" class="form-control text-field sub-category-field" maxlength="255" value="" tabindex="1" autofocus name="categoryName">
                                    <span id="validate-name" class="validation-message text"></span>
                                    <div id="plugin_validation" class="validation-message text"></div>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td><div class="category-description category-add-field">[[[Description]]]</div></td>
                            <td>
                                <textarea class="form-control text-field" maxlength="1024" id="create_subcategory_description" tabindex="2"></textarea>
                                <span class="help-text">
                                    <span class="help-text-mandatory">*</span>[[[1024 characters maximum]]]
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </form>
    </div>
</div>
<environment include="Development,CloudDevelopment">
    <script nonce="@Context.Items["ScriptNonce"]" asp-append-version="true" src="@reportServerResourceUrl/cdn/scripts/add-category.js" integrity="@IntegrityTagHelper.GetIntegrity("wwwroot/cdn/scripts/add-category.js")" crossorigin="anonymous"></script>
  </environment>
<environment exclude="Development,CloudDevelopment">
    <script nonce="@Context.Items["ScriptNonce"]" asp-append-version="true" src="@reportServerResourceUrl/cdn/scripts/add-category.min.js" integrity="@IntegrityTagHelper.GetIntegrity("wwwroot/cdn/scripts/add-category.min.js")" crossorigin="anonymous"></script>
</environment>
