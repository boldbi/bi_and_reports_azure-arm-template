/*!
*  filename: ej.core.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
var itemUrl;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i){"use strict";var s,n,o,r;t.version="14.4.0.15",t.consts={NamespaceJoin:"-"},t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},t.Orientation={Horizontal:"horizontal",Vertical:"vertical"},t.serverTimezoneOffset=0,t.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==i}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t.defineClass=function(e,s,n,o){if(!e||!n)return i;for(var r=e.split("."),a=window,l=0;l<r.length-1;l++)t.isNullOrUndefined(a[r[l]])&&(a[r[l]]={}),a=a[r[l]];return(o||t.isNullOrUndefined(a[r[l]]))&&(s="function"==typeof s?s:function(){},a[r[l]]=s,a[r[l]].prototype=n),a[r[l]]},t.util={getNameSpace:function(e){var i=e.toLowerCase().split(".");return"ej"===i[0]&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(e,s){var n,o,r;if(!s)return i;for(n=s,o=e.split("."),r=0;r<o.length&&!t.util.isNullOrUndefined(n);r++)n=n[o[r]];return n},createObject:function(e,s,n){for(var o,r=e.split("."),a=n||window,l=a,c=r.length,d=0;d<c;d++)o=r[d],d+1==c?l[o]=s===i?{}:s:t.isNullOrUndefined(l[o])&&(l[o]={}),l=l[o];return a},isNullOrUndefined:function(e){return e===i||null===e},print:function(i,s){var n,o,r=t.buildTag("div"),a=i.clone();r.append(a),s||(s=window.open("","print","height=452,width=1024,tabbar=no")),s.document.write("<!DOCTYPE html>"),n=e("head").find("link").add("style"),"msie"===t.browserInfo().name?(o="",n.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML}),s.document.write("<html><head></head><body>"+o+r[0].innerHTML+"</body></html>")):(o="",s.document.write("<html><head>"),n.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML}),s.document.writeln(o+"</head><body>"),s.document.writeln(r[0].innerHTML+"</body></html>")),s.document.close(),s.focus(),setTimeout(function(){t.isNullOrUndefined(s.window)||(s.print(),setTimeout(function(){s.close()},1e3))},1e3)},ieClearRemover:function(t){var i=e(t).height();t.style.paddingTop=parseFloat(i/2)+"px",t.style.paddingBottom=parseFloat(i/2)+"px",t.style.height="1px",t.style.lineHeight="1px"},sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.successHandler,error:t.errorHandler,beforeSend:t.beforeSendHandler,complete:t.completeHandler})},buildTag:function(t,s,n,o){var r,a=/^[a-z]*[0-9a-z]+/gi.exec(t)[0],l=/#([_a-z]+[-_0-9a-z]+)/gi.exec(t);return l=l?l[l.length-1]:i,r=(r=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(t))?r[r.length-1]:i,e(document.createElement(a)).attr(l?{id:l}:{}).addClass(r||"").css(n||{}).attr(o||{}).html(s||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var t=1;return((t=Math.max.apply(null,e.map(e("body *"),function(t){if("absolute"==e(t).css("position")||"fixed"==e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))==i||null==t)&&(t=1),t},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(t,i){var s,n,o,r=e(t).parents().andSelf().filter(":hidden");return r&&(n={visibility:"hidden",display:"block"},o=[],r.each(function(){var e={};for(var t in n)e[t]=this.style[t],this.style[t]=n[t];o.push(e)}),s=/(outer)/g.test(i)?e(t)[i](!0):e(t)[i](),r.each(function(e){var t=o[e];for(var i in n)this.style[i]=t[i]})),s},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||e.support.hasPointer?e.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(e("head"),"data-ej-forceset",!1)?t.getBooleanVal(e("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&t.isPortrait()&&t.isDevice()||window.innerWidth<=800&&!t.isDevice()||window.innerWidth<=800&&!t.isPortrait()&&t.isWindows()&&t.isDevice()||t.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-tablet",!1)||!t.isMobile()&&t.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&t.isMobile())&&this.isDevice()},getClearString:function(t){return e.trim(t.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,s){var n=e(t).attr(i);return null!=n?"true"==n.toLowerCase():s},_getSkewClass:function(e,t,i){var s=e.width(),n=e.height(),o=e.offset().left,r=e.offset().left+s,a=e.offset().top,l=e.offset().top+n,c=.3*s,d=.3*n;return t<o+c&&i<a+d?"e-m-skew-topleft":t>r-c&&i<a+d?"e-m-skew-topright":t>r-c&&i>l-d?"e-m-skew-bottomright":t<o+c&&i>l-d?"e-m-skew-bottomleft":t>o+c&&i<a+d&&t<r-c?"e-m-skew-top":t<o+c?"e-m-skew-left":t>r-c?"e-m-skew-right":i>l-d?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){e(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){if(e){var i=e.touches?e.touches[0]:e;t._distX=0,t._distY=0,t._moved=!1,t._pointX=i.pageX,t._pointY=i.pageY}},_isTouchMoved:function(e,t){if(e){var i,s,n=e.touches?e.touches[0]:e,o=n.pageX-t._pointX,r=n.pageY-t._pointY;Date.now();return t._pointX=n.pageX,t._pointY=n.pageY,t._distX+=o,t._distY+=r,i=Math.abs(t._distX),s=Math.abs(t._distY),!(i<5&&s<5)}},listenEvents:function(e,i,s,n,o,r){for(var a=0;a<e.length;a++)t.listenTouchEvent(e[a],i[a],s[a],n,o,r)},listenTouchEvent:function(i,s,n,o,r,a){for(var l,c=o?"removeEventListener":"addEventListener",d=o?"off":"on",h=e(i),u=0;u<h.length;u++)switch(l=h[u],s){case"touchstart":t._bindEvent(l,c,s,n,"mousedown","MSPointerDown","pointerdown",a);break;case"touchmove":t._bindEvent(l,c,s,n,"mousemove","MSPointerMove","pointermove",a);break;case"touchend":t._bindEvent(l,c,s,n,"mouseup","MSPointerUp","pointerup",a);break;case"touchcancel":t._bindEvent(l,c,s,n,"mousecancel","MSPointerCancel","pointercancel",a);break;case"tap":case"taphold":case"ejtouchmove":case"click":e(l)[d](s,n);break;default:"msie"==t.browserInfo().name&&t.browserInfo().version<9?r._on(e(l),s,n):l[c](s,n,!0)}},_bindEvent:function(t,i,s,n,o,r,a){e.support.hasPointer?t[i](window.navigator.pointerEnabled?a:r,n,!0):t[i](s,n,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),i=0,s=e.length;i<s;i++)if(e[i]+"ransform"in t.styles)return e[i].substr(0,e[i].length-1);return!1},addPrefix:function(e){return""===t.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),t.userAgent()+e)},destroyWidgets:function(t){e(t).find("[data-role *= ejm]").each(function(t,i){var s=e(i),n=s.data("ejWidgets");n&&s[n]("destroy")})},getAttrVal:function(t,i,s){var n=e(t).attr(i);return null!=n?n:s},getOffset:function(t){var i,s={},n=t.offset()||{left:0,top:0};return e.extend(!0,s,n),"static"!=e("body").css("position")&&(i=e("body").offset(),s.left-=i.left,s.top-=i.top),s},getZindexPartial:function(i,s){var n,o,r;if(!t.isNullOrUndefined(i)&&i.length>0)return n=i.parents(),o=e("body").children(),!t.isNullOrUndefined(i)&&i.length>0&&o.splice(o.index(s),1),e(o).each(function(e,t){n.push(t)}),r=Math.max.apply(r,e.map(n,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})),!r||r<1e4?r=1e4:r+=1,r},isValidAttr:function(t,i){var s;return void 0!==(t=e(t)[0])[i]||(s=!1,e.each(t,function(e){if(e.toLowerCase()==i.toLowerCase())return s=!0,!1}),s)}},e.extend(t,t.util),t.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(i,s,n,o){var r=null;return("object"==typeof i||i.startsWith("#")||i.startsWith("."))&&(r=e(i).attr("type")),r&&(r=r.toLowerCase(),t.template[r])?t.template[r](this,i,s,n,o):t.template.render(this,i,s,n,o)},destroy:function(){var i,s,n,o;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),e(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(i=this.element.data("ejWidgets")||[],o=0;o<i.length;o++)i[o]==this.pluginName&&i.splice(o,1);for(i.length||this.element.removeData("ejWidgets");this._events&&(n=[],s=this._events.pop());){for(o=0;o<s[1].length;o++)e.isPlainObject(s[1][o])||n.push(s[1][o]);e.fn.off.apply(s[0],n)}this._events=null,this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(i){this._events||(this._events=[]);for(var s=[].splice.call(arguments,1,arguments.length-1),n={},o=s.length;n&&"function"!=typeof n;)n=s[--o];return s[o]=t.proxy(s[o],this),this._events.push([i,s,n,s[o]]),e.fn.on.apply(i,s),this},_off:function(t,i,s,n){var o,r,a,l,c=this._events;if(!c||!c.length)return this;for("function"==typeof s&&(o=n,n=s,s=o),r=i.match(/\S+/g)||[""],a=0;a<c.length;a++)if((l=c[a])[0].length&&(!n||l[2]===n)&&(l[1][0]===i||r[0])&&(!s||l[1][1]===s)&&e.inArray(t[0],l[0])>-1){e.fn.off.apply(t,n?[i,s,l[3]]:[i,s]),c.splice(a,1);break}return this},_trigger:function(i,s){var n,o,r,a,l=null,c={};return e.extend(c,s),i in this.model&&(l=this.model[i]),l&&("string"==typeof l&&(l=t.util.getObject(l,window)),e.isFunction(l)&&(o=t.event(i,this.model,s),n=l.call(this,o),(r=this.model._applyScope)&&r.call(),s&&e.extend(s,o),o.cancel||!t.isNullOrUndefined(n)))?!1===n||o.cancel:(a=Boolean(s),(s=s||{}).originalEventType=i,s.type=this.pluginName+i,o=e.Event(s.type,t.event(s.type,this.model,s)),this.element.trigger(o),a&&e.extend(s,o),t.isOnWebForms&&0==o.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,s,c),o.cancel)},setModel:function(t,i){var n,o,r,a;if(!this._trigger("modelChange",{changes:t})){for(n in t){if(!i){if(this.model[n]===t[n]){delete t[n];continue}if(e.isPlainObject(t[n])&&(s(this.model[n],t[n]),e.isEmptyObject(t[n]))){delete t[n];continue}}if(this.dataTypes&&!0!==(o=this._isValidModelValue(n,this.dataTypes,t)))throw"setModel - Invalid input for property :"+n+" - "+o;this.model.notifyOnEachPropertyChanges&&this.model[n]!==t[n]&&(r={oldValue:this.model[n],newValue:t[n]},t[n]=this._trigger(n+"Change",r)?this.model[n]:r.newValue)}e.isEmptyObject(t)||(this._setFirst?((a=t.dataSource)&&delete t.dataSource,e.extend(!0,this.model,t),a&&(this.model.dataSource=a instanceof Array?a.slice():a,t.dataSource=this.model.dataSource),this._setModel&&this._setModel(t)):this._setModel&&!1===this._setModel(t)||e.extend(!0,this.model,t),"enablePersistence"in t&&this._setState(t.enablePersistence))}},option:function(s,n,o){if(!s)return this.model;if(e.isPlainObject(s))return this.setModel(s,o);if("string"==typeof s){s=s.replace(/^model\./,"");var r=t.getObject(s,this.model);if(n===i&&!o)return r;if("enablePersistence"===s)return this._setState(n);if(o&&n===t.extensions.modelGUID)return this._setModel(t.createObject(s,t.getObject(s,this.model),{}));if(o||t.getObject(s,this.model)!==n)return this.setModel(t.createObject(s,n,{}),o)}return i},_isValidModelValue:function(e,t,i){var s,n,o,r=t[e],a=i[e];if(!r)return!0;if("string"==typeof r){if("enum"==r&&(i[e]=a?a.toString().toLowerCase():a,r="string"),"array"===r){if("[object Array]"===Object.prototype.toString.call(a))return!0}else if("data"===r||"parent"===r||typeof a===r)return!0;return"Expected type - "+r}if(a instanceof Array){for(n=0;n<a.length;n++)if(!0!==(s=this._isValidModelValue(e,t,a[n])))return" ["+n+"] - "+s;return!0}for(o in a)if(!0!==(s=this._isValidModelValue(o,r,a)))return o+" : "+s;return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var i,s=this.observables,n=0;n<s.length;n++)i=t.getObject(s[n],e),t.isNullOrUndefined(i)||"function"!=typeof i||this._returnFn(e,s[n]);return JSON.stringify(e)},_setState:function(i){!0===i?(this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler)):(this.deleteState(),e(window).off("unload",this._persistHandler))},_removeProp:function(e,i){t.isNullOrUndefined(e)||(-1!=i.indexOf(".")?this._removeProp(e[i.split(".")[0]],i.split(".").slice(1).join(".")):delete e[i])},persistState:function(){var e,i;if(this._ignoreOnPersist){for(e=a({},this.model),i=0;i<this._ignoreOnPersist.length;i++)this._removeProp(e,this._ignoreOnPersist[i]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},i=0;i<this._addToPersist.length;i++)t.createObject(this._addToPersist[i],t.getObject(this._addToPersist[i],this.model),e);e.addToPersist=this._addToPersist}else e=a({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(t.isNullOrUndefined(t.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",t.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(t.isNullOrUndefined(t.persistStateVersion)||null!=t.cookie.get("persistKey")||t.cookie.set("persistKey",t.persistStateVersion),t.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&t.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(i){var s,n,o=null;if(window.localStorage?o=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(o=t.cookie.get("$ej$"+this.pluginName+this._id)),o&&(s=JSON.parse(o),this._restoreState&&(this._restoreState(s.customPersists),delete s.customPersists),!1===t.isNullOrUndefined(s)&&(t.isNullOrUndefined(s.ignoreOnPersist)?t.isNullOrUndefined(s.addToPersist)||(this._addToPersist=s.addToPersist,delete s.addToPersist):(this._ignoreOnPersist=s.ignoreOnPersist,delete s.ignoreOnPersist))),t.isNullOrUndefined(s)||t.isNullOrUndefined(this._ignoreOnPersist))this.model=e.extend(!0,this.model,s);else{for(n in this._ignoreOnPersist)-1!==this._ignoreOnPersist[n].indexOf(".")?t.createObject(this._ignoreOnPersist[n],t.getObject(this._ignoreOnPersist[n],this.model),s):s[this._ignoreOnPersist[n]]=this.model[this._ignoreOnPersist[n]];this.model=s}!i&&o&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,s,n=[];if("object"==typeof e?n=e:"string"==typeof e&&n.push(e),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<n.length;t++)this._ignoreOnPersist.push(n[t]);else for(t=0;t<n.length;t++)s=this._addToPersist.indexOf(n[t]),this._addToPersist.splice(s,1)},addToPersist:function(t){var s,n,o=[];if("object"==typeof t?o=t:"string"==typeof t&&o.push(t),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],n=0;n<o.length;n++)s=this._ignoreOnPersist.indexOf(o[n]),this._ignoreOnPersist.splice(s,1);else for(n=0;n<o.length;n++)-1===e.inArray(o[n],this._addToPersist)&&this._addToPersist.push(o[n])},formatting:function(i,s,n){var o,r,a,l,c,d,h,u;if(i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),n=t.preferredCulture(n)?n:"en-US",o=i,r=i.split("{0:"),c=i.split("}"),a=r[0],l=c[1],"string"==typeof s&&e.isNumeric(s)&&(s=Number(s)),-1!=i.indexOf("{0:"))return null!=(d=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(i))&&null!=s?null!=a&&null!=l?a+t.format(s,d[2],n)+l:t.format(s,d[2],n):null!=s?s:"";if(o.startsWith("{")&&!o.startsWith("{0:")){var p=o.split(""),m=(s=(s||"")+"").split(""),g=/[0aA\*CN<>\?]/gm;for(h=0,u=0;h<p.length;h++)p[h]=g.test(p[h])?"{"+u+++"}":p[h];return String.format.apply(String,[p.join("")].concat(m)).replace("{","").replace("}","")}return null!=this.data&&null==this.data.Value?(e.each(this.data,function(e,t){o=o.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),o):this.data.Value}},t.WidgetBase=function(){},s=function(t,i){for(var n in t)t[n]===i[n]&&delete i[n],e.isPlainObject(i[n])&&e.isPlainObject(t[n])&&s(t[n],i[n])},t.widget=function(s,o,c){var h,u,p;if("object"!=typeof s)p=c._rootCSS||t.getNameSpace(o),c=t.defineClass(o,function(i,r){var d,h,u,m,g,f,v,b,_,w;if(this.sfType=o,this.pluginName=s,this.instance=l,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},e.extend(this,t.widgetBase),this.dataTypes)for(d in r)if(!0!==(h=this._isValidModelValue(d,this.dataTypes,r)))throw"setModel - Invalid input for property :"+d+" - "+h;for((u=i.data("ejWidgets")||[]).push(s),i.data("ejWidgets",u),g=0;t.widget.observables&&this.observables&&g<this.observables.length;g++)(m=t.getObject(this.observables[g],r))&&t.createObject(this.observables[g],t.widget.observables.register(m,this.observables[g],this,i),r);if(this.element=i.jquery?i:e(i),this.model=a(!0,{},c.prototype.defaults,r),this.model.keyConfigs=a(this.keyConfigs),this.element.addClass(p+" e-js").data(s,this),this._id=i[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!t.isNullOrUndefined(t.persistStateVersion)&&window.localStorage.getItem("persistKey")!=t.persistStateVersion)for(g in window.localStorage)-1!=g.indexOf("$ej$")&&window.localStorage.removeItem(g);else if(document.cookie&&!t.isNullOrUndefined(t.persistStateVersion)&&t.cookie.get("persistKey")!=t.persistStateVersion)for(f in document.cookie.split(/; */))-1!=f.indexOf("$ej$")&&t.cookie.set(f.split("=")[0],model,new Date);this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(r),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(b in v=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==b){v=!0;break}v&&this._keyPressed&&(_=i,w="keydown",this.keySettings&&(_=this.keySettings.getElement&&this.keySettings.getElement()||_,w=this.keySettings.event||w),this._on(_,w,function(e){if(this.model.keyConfigs){var t=n.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey};t&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}}))}this._trigger("create")},c),e.fn[s]=function(n){for(var a,l,h=n,u=0;u<this.length;u++){var m=e(this[u]),g=m.data(s),f=g&&m.hasClass(p),v=null;if(this.length>0&&e.isPlainObject(h)&&(n=t.copyObject({},h)),f){if(n)if(l=[].slice.call(arguments,1),this.length>0&&l[0]&&"option"===h&&e.isPlainObject(l[0])&&(l[0]=t.copyObject({},l[0])),e.isPlainObject(n))g.setModel(n);else if(0!==n.indexOf("_")&&!t.isNullOrUndefined(v=t.getObject(n,g))||0===n.indexOf("model.")){if(!v||!e.isFunction(v)){if(1==arguments.length)return v;g.option(n,arguments[1]);continue}if((a=v.apply(g,l))!==i)return a}else r(o+": function/property - "+n+" does not exist")}else!0!==c.prototype._requiresID||e(this[u]).attr("id")||m.attr("id",d("ejControl_")),n&&"object"!=typeof n?r(s+": methods/properties can be accessed only after plugin creation"):(c.prototype.defaults&&!t.isNullOrUndefined(t.setCulture)&&"locale"in c.prototype.defaults&&"ejChart"!=s&&(!n||"locale"in n?t.isNullOrUndefined(n)&&((n={}).locale=t.setCulture().name):n.locale=t.setCulture().name),new c(m,n))}return-1!=s.indexOf("ejm")&&t.widget.registerInstance(m,s,o,c.prototype),this},t.widget.register(s,o,c.prototype);else for(h in c=o,s)(u=s[h])instanceof Array&&(c._rootCSS=u[1],u=u[0]),t.widget(h,u,c),s[h]instanceof Array&&(c._rootCSS="")},e.extend(t.widget,function(){var e={},i=[];return{register:function(i,s,n){t.isNullOrUndefined(e[i])||r("ej.widget : The widget named "+i+" is trying to register twice."),e[i]={name:i,className:s,proto:n},t.widget.extensions&&t.widget.extensions.registerWidget(i)},registerInstance:function(e,t,s,n){i.push({element:e,pluginName:t,className:s,proto:n})},registeredWidgets:e,registeredInstances:i}}()),t.widget.destroyAll=function(e){var t,i,s,n;if(e&&e.length)for(t=0;t<e.length;t++)if((s=(i=e.eq(t).data()).ejWidgets)&&s.length)for(n=0;n<s.length;n++)i[s[n]]&&i[s[n]].destroy&&i[s[n]].destroy()},t.cookie={get:function(e){var t=RegExp(e+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},n={getActionFromCode:function(e,t,i,s,o){var r,a,l;for(r in i=i||!1,s=s||!1,o=o||!1,e)if("focus"!==r)for(a=n.getKeyObject(e[r]),l=0;l<a.length;l++)if(t===a[l].code&&i==a[l].isCtrl&&s==a[l].isShift&&o==a[l].isAlt)return r;return null},getKeyObject:function(t){for(var i,s,o,r={isCtrl:!1,isShift:!1,isAlt:!1},a=e.extend(!0,{},r),l=t.split(","),c=[],d=0;d<l.length;d++){if(i=null,-1!=l[d].indexOf("+"))for(s=l[d].split("+"),o=0;o<s.length;o++)i=n.getResult(e.trim(s[o]),r);else i=n.getResult(e.trim(l[d]),e.extend(!0,{},a));c.push(i)}return c},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},t.getScrollableParents=function(t){return e(t).parentsUntil("html").filter(function(){return"visible"!=e(this).css("overflow")}).add(e(window))},t.browserInfo=function(){var i,s,n,o,r={},a=[],l={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in l)if(l.hasOwnProperty(i)&&(a=navigator.userAgent.match(l[i]))){if(r.name="opr"==a[1].toLowerCase()?"opera":a[1].toLowerCase(),r.version=a[2],r.culture={},r.culture.name=r.culture.language=navigator.language||navigator.userLanguage,void 0!==t.globalize){for(s=t.preferredCulture().name,n=navigator.language||navigator.userLanguage?t.preferredCulture(navigator.language||navigator.userLanguage):t.preferredCulture("en-US"),o=0;navigator.languages&&o<navigator.languages.length&&(n=t.preferredCulture(navigator.languages[o])).language!=navigator.languages[o];o++);t.preferredCulture(s),e.extend(!0,r.culture,n)}!navigator.userAgent.match(/Trident\/7\./)||(r.name="msie");break}return r.isMSPointerEnabled="msie"==r.name&&r.version>9&&window.navigator.msPointerEnabled,r.pointerEnabled=window.navigator.pointerEnabled,r},t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},t.event=function(t,i,s){return e.extend(s||{},{type:t,model:i,cancel:!1})},t.proxy=function(e,t,i){return e&&"function"==typeof e?"on"in e&&t?i?e.on(t,i):e.on(t):function(){var s=i?[i]:[];return s.push.apply(s,arguments),e.apply(t||this,s)}:null},t.hasStyle=function(e){var t,i,s=document.documentElement.style;if(e in s)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in s)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var a=t.copyObject=function(e,s){var n,o,r,l,c,d,h=2;for("boolean"!=typeof e&&(h=1),r=[].slice.call(arguments,h),1===h&&(s=e,e=i),l=0;l<r.length;l++)for(c in r[l])if(n=s[c],(o=r[l][c])!==i&&n!==o&&r[l]!==o&&s!==o)if(o instanceof Array)if(0===l&&e)for(s[c]=[],d=0;d<o.length;d++)a(!0,s[c],o);else s[c]=o.slice();else t.isPlainObject(o)?(s[c]=n||{},e?a(e,s[c],o):a(s[c],o)):s[c]=o;return s},l=function(){return this},c=0,d=function(e){return e+c++};t.template={},t.template.render=t.template["text/x-jsrender"]=function(t,i,s,n,o){"#"!==i.slice(0,1)&&(i=["<div>",i,"</div>"].join(""));var r={prop:o,index:n};return e(i).render(s,r)},t.isPlainObject=function(e){if(!e||t.DataManager!==i&&e instanceof t.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var s,n=t.support.isOwnLast;for(s in e)if(n)break;return s===i||e.hasOwnProperty(s)},o=!1,t.util.valueFunction=function(e){return function(s,n){var r=t.getObject(e,this.model);if(!1===o&&(o=t.getObject("observables.getValue",t.widget)),s===i)return t.isNullOrUndefined(o)?"function"==typeof r?r.call(this):r:o(r,n);"function"==typeof r?(this["ob.values"][e]=s,r.call(this,s)):t.createObject(e,s,this.model)}},t.util.getVal=function(e){return"function"==typeof e?e():e},t.support={isOwnLast:function(){var e,t=function(){this.a=1};for(e in t.prototype.b=1,new t)return"b"===e}(),outerHTML:document.createElement("div").outerHTML!==i},r=t.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},t.getRandomValue=function(e,s){var n,o;return e===i||s===i?t.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(o=new Uint16Array(1),window.crypto.getRandomValues(o),n=o[0]%(s-e)+e):n=Math.random()*(s-e)+e,0|n)},t.extensions={},t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(e){var t=$(this);$.each(e,function(e,i){i&&i.specified&&t.attr(i.name,i.value)})},$.fn.removeEleAttrs=function(e){return this.each(function(){var t=$(this),i=$(this.attributes).clone();$.each(i,function(i,s){s&&s.specified&&e.test(s.name)&&t.removeAttr(s.name)})})},$.fn.attrNotStartsWith=function(e){var t,s=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;s.push(t[i])}return s},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var e=$(this),t=$(this.attributes).clone();$.each(t,function(t,i){i&&i.specified&&""===i.value&&e.removeAttr(i.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var s=e.attributes,n=0;n<s.length;n++)if(0===s[n].nodeName.indexOf(i[3]))return!1;return!0}});var e=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}()}),
/*!
*  filename: ej.waitingpopup.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=t.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var i=this.model.template;"string"==typeof i&&(i=e(i)),this.templateObj="object"==typeof i&&"function"==typeof i.css?i:t.buildTag("div","",{"text-align":"center"}).append(i),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){e(window).on("resize",e.proxy(this._resizeHandler,this))},_unwireEvents:function(){e(window).off("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(i){for(var s in i)switch(s){case"text":this._setText(i[s]);break;case"cssClass":this._setTheme(i[s]);break;case"htmlAttributes ":this._addAttr(i[s]);break;case"showOnInit":this._setVisibility(i[s]);break;case"showImage":this._showImage(i[s]),this._setContentPosition();break;case"target":this.model.target=i[s],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=i[s],this._setTarget(),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),i[s]?(this.model.template=i[s],this._setTemplate()):(this.model.template=i[s]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?e(document):"window"==this.model.target?e(window):this.model.target?e(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var i=e("#"+this.element[0].id+"_WaitingPopup").get(0);i&&e(i).remove(),this.maindiv=t.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)})},_setPanelPosition:function(){var i=t.util.getOffset(this.targetElement);null!=this.model.appendTo&&e(this.model.appendTo).length>0&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==e(this.model.appendTo)[0]?(i.left-=this.targetElement.offsetParent().offset().left,i.top-=this.targetElement.offsetParent().offset().top):i={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(i.left)+"px",top:Math.ceil(i.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(null==this.model.template){var e,t=0,i=0,s=null;e=this.targetElement.outerHeight(),this.popupText&&(t=this.popupText.outerHeight()),this.popupImage&&(i=this.popupImage.outerHeight()),this.popupImage&&(s=Math.ceil((e-(i+t))/2),this.popupImage.css("top",s+"px")),this.popupText&&(s||(s=Math.ceil((e-t)/2)),this.popupText.css("top",s+"px"))}else this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=t.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return t.util.getZindexPartial(this.element)}})}),
/*!
*  filename: ej.data.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i,s){"use strict";var n,o,r,a,l,c,d,h,u;t.DataManager=function(i,n,o){if(!(this instanceof t.DataManager))return new t.DataManager(i,n,o);i||(i=[]),"string"==typeof(o=o||i.adaptor)&&(o=new t[o]);var r=[],a=this;return i instanceof Array?r={json:i,offline:!0}:"object"==typeof i?e.isPlainObject(i)?(i.json||(i.json=[]),i.table&&(i.json=this._getJsonFromElement(i.table,i.headerOption)),r={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,timeTillExpiration:i.timeTillExpiration,cachingPageSize:i.cachingPageSize,enableCaching:i.enableCaching,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,jsonp:i.jsonp,dataType:i.dataType,offline:i.offline!==s?i.offline:!("remoteSaveAdaptor"==i.adaptor||i.adaptor instanceof t.remoteSaveAdaptor)&&!i.url,requiresFormat:i.requiresFormat}):(i.jquery||N(i))&&(r={json:this._getJsonFromElement(i),offline:!0,table:i}):"string"==typeof i&&(r={url:i,offline:!1,dataType:"json",json:[]}),r.requiresFormat!==s||t.support.cors||(r.requiresFormat=!!h(r.crossDomain)||r.crossDomain),r.dataType===s&&(r.dataType="json"),this.dataSource=r,this.defaultQuery=n,r.url&&r.offline&&!r.json.length?(this.isDataAvailable=!1,this.adaptor=o||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(n||t.Query()).done(function(e){a.dataSource.offline=!0,a.isDataAvailable=!0,r.json=e.result,a.adaptor=new t.JsonAdaptor})):this.adaptor=r.offline?new t.JsonAdaptor:new t.ODataAdaptor,!r.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(r.jsonp="callback"),this.adaptor=o||this.adaptor,r.enableCaching&&(this.adaptor=new t.CacheAdaptor(this.adaptor,r.timeTillExpiration,r.cachingPageSize)),this},t.DataManager.prototype={setDefaultQuery:function(e){this.defaultQuery=e},executeQuery:function(i,n,o,r){var a,c,d;return"function"==typeof i&&(r=o,o=n,n=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||u("DataManager - executeQuery() : A query is required to execute"),(a=e.Deferred()).then(n,o,r),c={query:i},this.dataSource.offline||this.dataSource.url==s?t.isNullOrUndefined(this.dataSource.async)||0!=this.dataSource.async?l(function(){this._localQueryProcess(i,c,a)},this):this._localQueryProcess(i,c,a):(d=this.adaptor.processQuery(this,i),t.isNullOrUndefined(d.url)?l(function(){c=this._getDeferedArgs(i,d,c),a.resolveWith(this,[c])},this):this._makeRequest(d,a,c,i)),a.promise()},_localQueryProcess:function(e,t,i){var s=this.executeLocal(e);t=this._getDeferedArgs(e,s,t),i.resolveWith(this,[t])},_getDeferedArgs:function(e,t,i){return e._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=B(e._fromTable,i.result,this),i.getKnockoutModel=R(i.result),i},executeLocal:function(i){var s,n;if(this.defaultQuery||i instanceof t.Query||u("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||u("DataManager - executeLocal() : Json data is required to execute"),i=i||this.defaultQuery,s=this.adaptor.processQuery(this,i),i._subQuery){var o=i._subQuery._fromTable,r=i._subQuery._lookup,a=i._requiresCount?s.result:s;for(r&&r instanceof Array&&p(i._subQuery._fKey,o,a,r,i._subQuery._key),n=0;n<a.length;n++)a[n][o]instanceof Array&&(a[n]=e.extend({},a[n]),a[n][o]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(a[n][o].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(s,this,i)},_makeRequest:function(i,s,n,o){var r,a=!!o._subQuerySelector,l=d(function(e){n.error=e,s.rejectWith(this,[n])},this),h=d(function(e,t,i,r,l,c,d){a||(n.xhr=i,n.count=parseInt(t,10),n.result=e,n.request=r,n.aggregates=c,n.getTableModel=B(o._fromTable,e,this),n.getKnockoutModel=R(e),n.actual=l,n.virtualSelectRecords=d,s.resolveWith(this,[n]))},this),u=d(function(t,i){var s,r,c=e.Deferred(),d={parent:n};return o._subQuery._isChild=!0,s=this.adaptor.processQuery(this,o._subQuery,t?this.adaptor.processResponse(t):i),r=this._makeRequest(s,c,d,o._subQuery),a||c.then(function(e){t&&(p(o._subQuery._fKey,o._subQuery._fromTable,t,e,o._subQuery._key),h(t))},l),r},this),m=c(function(e,i,s,n){-1==s.getResponseHeader("Content-Type").indexOf("xml")&&t.dateParse&&(e=t.parseJSON(e));var r=this.adaptor.processResponse(e,this,o,s,n),l=0,c=null,d=e.virtualSelectRecords;o._requiresCount&&(l=r.count,c=r.aggregates,r=r.result),o._subQuery?a||u(r):h(r,l,s,n,e,c,d)},this),g=e.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:d(this._beforeSend,this),processData:!1,success:m,error:l},i);return"async"in this.dataSource&&(g.async=this.dataSource.async),g=e.ajax(g),a&&((r=o._subQuerySelector.call(this,{query:o._subQuery,parent:o}))&&r.length?(g=e.when(g,u(null,r))).then(c(function(e,t,i){var s,n=this.adaptor.processResponse(e[0],this,o,e[2],i[0]),r=0;o._requiresCount&&(r=n.count,n=n.result),s=this.adaptor.processResponse(t[0],this,o._subQuery,t[2],i[1]),r=0,o._subQuery._requiresCount&&(r=s.count,s=s.result),p(o._subQuery._fKey,o._subQuery._fromTable,n,s,o._subQuery._key),a=!1,h(n,r,e[2])},this),l):a=!1),g},_beforeSend:function(e,t){var i,s,n,o;for(this.adaptor.beforeSend(this,e,t),i=this.dataSource.headers,n=0;i&&n<i.length;n++)for(o in s=[],i[n])s.push(o),e.setRequestHeader(o,i[n][o])},saveChanges:function(i,s,n,o){var r,a,l;return n instanceof t.Query&&(o=n,n=null),r={url:n,key:s||this.dataSource.key},a=this.adaptor.batchRequest(this,i,r,o),this.dataSource.offline?a:(l=e.Deferred(),e.ajax(e.extend({beforeSend:d(this._beforeSend,this),success:c(function(e,t,s,n){l.resolveWith(this,[this.adaptor.processResponse(e,this,null,s,n,i)])},this),error:function(e){l.rejectWith(this,[{error:e}])}},a)),l.promise())},insert:function(i,s,n){var o,r;return i=w.replacer(i),s instanceof t.Query&&(n=s,s=null),o=this.adaptor.insert(this,i,s,n),this.dataSource.offline?o:(r=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:d(this._beforeSend,this),success:c(function(e,i,s,n){try{t.isNullOrUndefined(e)?e=[]:w.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(w.parseJson(e),this,null,s,n),r.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){r.rejectWith(this,[{error:e,dataManager:this}])}},o)),r.promise())},remove:function(i,s,n,o){var r,a;return"object"==typeof s&&(s=s[i]),n instanceof t.Query&&(o=n,n=null),r=this.adaptor.remove(this,i,s,n,o),this.dataSource.offline?r:(a=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:d(this._beforeSend,this),success:c(function(e,i,s,n){try{t.isNullOrUndefined(e)?e=[]:w.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(w.parseJson(e),this,null,s,n),a.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){a.rejectWith(this,[{error:e,dataManager:this}])}},r)),a.promise())},update:function(i,s,n,o){var r,a;return s=w.replacer(s),n instanceof t.Query&&(o=n,n=null),r=this.adaptor.update(this,i,s,n,o),this.dataSource.offline?r:(a=e.Deferred(),e.ajax(e.extend({contentType:"application/json; charset=utf-8",beforeSend:d(this._beforeSend,this),success:c(function(e,i,s,n){try{t.isNullOrUndefined(e)?e=[]:w.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(w.parseJson(e),this,null,s,n),a.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){a.rejectWith(this,[{error:e,dataManager:this}])}},r)),a.promise())},_getJsonFromElement:function(i){"string"==typeof i&&(i=e(e(i).html()));var s=(i=i.jquery?i[0]:i).tagName.toLowerCase();return"table"!==s&&u("ej.DataManager : Unsupported htmlElement : "+s),t.parseTable(i)}};var p=function(e,i,s,n,o){var r,a,l={};for(n.result&&(n=n.result),n.GROUPGUID&&u("ej.DataManager: Do not have support Grouping in hierarchy"),r=0;r<n.length;r++)(l[a=t.getObject(e,n[r])]||(l[a]=[])).push(n[r]);for(r=0;r<s.length;r++)s[r][i]=l[t.getObject(o||e,s[r])]},m="application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",g="multipart/mixed",f="--changeset_",v="batch_",b="Content-Type: application/http\nContent-Transfer-Encoding: binary ",_="Content-Type: application/json; charset=utf-8 ",w={parseJson:function(e){var t=typeof e;return"string"===t?e=JSON.parse(e,w.jsonReviver):e instanceof Array?w.iterateAndReviveArray(e):"object"===t&&w.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)"object"==typeof e[t]?w.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{|\"/g.test(e[t])?w.parseJson(e[t]):w.jsonReviver("",e[t])},iterateAndReviveJson:function(e){var t;for(var i in e)i.startsWith("__")||("object"==typeof(t=e[i])?t instanceof Array?w.iterateAndReviveArray(t):w.iterateAndReviveJson(t):e[i]=w.jsonReviver(i,t))},jsonReviver:function(e,t){var i,s,n=t;if("string"==typeof t){if(i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t))return w.replacer(new Date(parseInt(i[1])));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=w.replacer(new Date(t)),isNaN(t)&&(s=n.split(/[^0-9]/),t=w.replacer(new Date(s[0],s[1]-1,s[2],s[3],s[4],s[5]))))}return t},isJson:function(e){return"string"==typeof e[0]?e:t.parseJSON(e)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(e){return t.isPlainObject(e)?w.jsonReplacer(e):e instanceof Array?w.arrayReplacer(e):e instanceof Date?w.jsonReplacer({val:e}).val:e},jsonReplacer:function(e){var i;for(var s in e)(i=e[s])instanceof Date&&(e[s]=new Date(+i+36e5*t.serverTimezoneOffset));return e},arrayReplacer:function(e){for(var i=0;i<e.length;i++)t.isPlainObject(e[i])?e[i]=w.jsonReplacer(e[i]):e[i]instanceof Date&&(e[i]=w.jsonReplacer({date:e[i]}).date);return e}};t.isJSON=w.isJson,t.parseJSON=w.parseJson,t.dateParse=!0,t.isGUID=w.isGuid,t.Query=function(e){return this instanceof t.Query?(this.queries=[],this._key="",this._fKey="","string"==typeof e?this._fromTable=e||"":e&&e instanceof Array&&(this._lookup=e),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(e)},t.Query.prototype={key:function(e){return"string"==typeof e&&(this._key=e),this},using:function(e){return e instanceof t.DataManager?(this.dataManagar=e,this):u("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(e,i,s,n){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeQuery(this,i,s,n):u("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(e){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeLocal(this):u("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var e=new t.Query;return e.queries=this.queries.slice(0),e._key=this._key,e._isChild=this._isChild,e.dataManagar=this.dataManager,e._fromTable=this._fromTable,e._params=this._params.slice(0),e._expands=this._expands.slice(0),e._sortedColumns=this._sortedColumns.slice(0),e._groupedColumns=this._groupedColumns.slice(0),e._subQuerySelector=this._subQuerySelector,e._subQuery=this._subQuery,e._fKey=this._fKey,e._requiresCount=this._requiresCount,e},from:function(e){return"string"==typeof e&&(this._fromTable=e),this},addParams:function(e,i){return"function"==typeof i||t.isPlainObject(i)?"function"==typeof i&&this._params.push({key:e,fn:i}):this._params.push({key:e,value:i}),this},expand:function(e){return this._expands="string"==typeof e?[].slice.call(arguments,0):e.slice(0),this},where:function(e,i,s,n){i=(i||t.FilterOperators.equal).toLowerCase();var o=null;return"string"==typeof e?o=new t.Predicate(e,i,s,n):e instanceof t.Predicate?o=e:u("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:o}),this},search:function(e,i,s,n){i&&"boolean"!=typeof i?"string"==typeof i&&(i=[i]):n=i=[],"boolean"==typeof s&&(n=s,s=null),(s=s||t.FilterOperators.contains).length<3&&(s=t.data.operatorSymbols[s]);var o=t.data.fnOperators[s]||t.data.fnOperators.processSymbols(s);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:s,searchKey:e,ignoreCase:n,comparer:o}}),this},sortBy:function(e,i,s){var n,o,r,a,l=t.sortOrder.Ascending;if("string"==typeof e&&e.toLowerCase().endsWith(" desc")&&(e=e.replace(/ desc$/i,""),i=t.sortOrder.Descending),e instanceof Array){for(r=0;r<e.length;r++)this.sortBy(e[r],i,s);return this}if("boolean"==typeof i?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:"function"==typeof i&&(l="custom"),i&&"string"!=typeof i||(l=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),s)for(n=y(this.queries,"onSortBy"),r=0;r<n.length;r++)if("string"==typeof(o=n[r].e.fieldName)){if(o===e)return this}else if(o instanceof Array)for(a=0;a<o.length;a++)if(o[a]===e||e.toLowerCase()===o[a]+" desc")return this;return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:i,direction:l}}),this},sortByDesc:function(e){return this.sortBy(e,t.sortOrder.Descending)},group:function(e,t){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,fn:t}}),this},page:function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},range:function(e,t){return("number"!=typeof e||"number"!=typeof t)&&u("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},take:function(e){return"number"!=typeof e&&u("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:e}}),this},skip:function(e){return"number"!=typeof e&&u("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:e}}),this},select:function(e){return"string"==typeof e&&(e=[].slice.call(arguments,0)),e instanceof Array||u("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},hierarchy:function(e,i){return e&&e instanceof t.Query||u("Query() - hierarchy : query must be instance of ej.Query"),"function"==typeof i&&(this._subQuerySelector=i),this._subQuery=e,this},foreignKey:function(e){return"string"==typeof e&&(this._fKey=e),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(e,t){this.queries.push({fn:"onAggregates",e:{field:t,type:e}})}},t.Adaptor=function(e){this.dataSource=e,this.pvt={},this.init.apply(this,[].slice.call(arguments,1))},t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"},init:function(){},extend:function(t){var i,s,n=function(t){this.dataSource=t,this.options&&(this.options=e.extend({},this.options)),this.init.apply(this,[].slice.call(arguments,0)),this.pvt={}};for(s in(n.prototype=new this.type).type=n,i=n.prototype.base={},t)n.prototype[s]&&(i[s]=n.prototype[s]);return e.extend(!0,n.prototype,t),n},processQuery:function(){},processResponse:function(e){return e.d?e.d:e},convertToQueryString:function(t){return e.param(t)},type:t.Adaptor},t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(e,t,i){var s,o,r,a,l,c,d=y(t.queries,"onSortBy"),u=y(t.queries,"onGroup"),p=y(t.queries,"onWhere"),m=y(t.queries,"onSearch"),g=y(t.queries,"onAggregates"),f=S(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),v=t._params,b=e.dataSource.url,_=null,w=this.options,C={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]};for(f.onPage?(s=f.onPage,o=((o=n(s.pageIndex,t))-1)*(_=n(s.pageSize,t))):f.onRange&&(o=(s=f.onRange).start,_=s.end-s.start),r=0;r<d.length;r++)s=n(d[r].e.fieldName,t),C.sorted.push($(this,"onEachSort",{name:s,direction:d[r].e.direction},t));for(i&&((s=this.getFiltersFrom(i,t))&&C.filters.push($(this,"onEachWhere",s.toJSON(),t))),r=0;r<p.length;r++)for(l in C.filters.push($(this,"onEachWhere",p[r].e.toJSON(),t)),C.filters[r])h(C[l])&&delete C[l];for(r=0;r<m.length;r++)s=m[r].e,C.searches.push($(this,"onEachSearch",{fields:s.fieldNames,operator:s.operator,key:s.searchKey,ignoreCase:s.ignoreCase},t));for(r=0;r<u.length;r++)C.grouped.push(n(u[r].e.fieldName,t));for(r=0;r<g.length;r++)s=g[r].e,C.aggregates.push({type:s.type,field:n(s.field,t)});for(l in(a={})[w.from]=t._fromTable,w.expand&&(a[w.expand]=t._expands),a[w.select]=f.onSelect?$(this,"onSelect",n(f.onSelect.fieldNames,t),t):"",a[w.count]=t._requiresCount?$(this,"onCount",t._requiresCount,t):"",a[w.search]=C.searches.length?$(this,"onSearch",C.searches,t):"",a[w.skip]=f.onSkip?$(this,"onSkip",n(f.onSkip.nos,t),t):"",a[w.take]=f.onTake?$(this,"onTake",n(f.onTake.nos,t),t):"",a[w.where]=C.filters.length||C.searches.length?$(this,"onWhere",C.filters,t):"",a[w.sortBy]=C.sorted.length?$(this,"onSortBy",C.sorted,t):"",a[w.group]=C.grouped.length?$(this,"onGroup",C.grouped,t):"",a[w.aggregates]=C.aggregates.length?$(this,"onAggregates",C.aggregates,t):"",a.param=[],$(this,"addParams",{dm:e,query:t,params:v,reqParams:a}),a)(h(a[l])||""===a[l]||0===a[l].length)&&delete a[l];return w.skip in a&&w.take in a||null===_||(a[w.skip]=$(this,"onSkip",o,t),a[w.take]=$(this,"onTake",_,t)),c=this.pvt,this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(a),url:b,ejPvtData:c,type:"POST",contentType:"application/json; charset=utf-8"}:(s=this.convertToQueryString(a,t,e),{type:"GET",url:(s=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+s).length?b.replace(/\/*$/,s):b,ejPvtData:c})},convertToQueryString:function(t,i,s){return s.dataSource.url&&-1!==s.dataSource.url.indexOf("?")?e.param(t):"?"+e.param(t)},processResponse:function(e,i,n,o,r,a){var l,c,d,h,u=r.ejPvtData||{},p=e.groupDs;if(o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return n._requiresCount?{result:[],count:0}:[];if((l=JSON.parse(r.data))&&"batch"===l.action&&e.added)return a.added=e.added,a;if(e.d&&(e=e.d),u&&u.aggregates&&u.aggregates.length){var m,g=u.aggregates,f={},v={};for(("count"in e&&(f.count=e.count),e.result&&(f.result=e.result),e.aggregate&&(e=e.aggregate),d=0);d<g.length;d++)(m=t.aggregates[g[d].type])&&(v[g[d].field+" - "+g[d].type]=m(e,g[d].field));f.aggregates=v,e=f}if(u&&u.groups&&u.groups.length){for((c=u.groups,f={},"count"in e&&(f.count=e.count),e.aggregates&&(f.aggregates=e.aggregates),e.result&&(e=e.result),d=0);d<c.length;d++)h=A(c[d],n.queries),t.isNullOrUndefined(p)||(p=t.group(p,c[d],null,h)),e=t.group(e,c[d],u.aggregates,h,null,p);return f.count!=s?f.result=e:f=e,f}return e},onGroup:function(e){this.pvt.groups=e},onAggregates:function(e){this.pvt.aggregates=e},batchRequest:function(e,t,i,s){var n={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:n}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(n)}},beforeSend:function(){},insert:function(e,t,i,s){var n={value:t,table:i,action:"insert"};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:n}),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(n)}},remove:function(e,t,i,s,n){var o={key:i,keyColumn:t,table:s,action:"remove"};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:o}),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(o)}},update:function(e,t,i,s,n){var o={value:i,action:"update",keyColumn:t,key:i[t],table:s};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:o}),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(o)}},getFiltersFrom:function(e,i){var s;e instanceof Array&&e.length||u("ej.SubQuery: Array of key values required");var n,o=i._fKey,r=o,a=i._key,l=[],c="object"!=typeof e[0];for("object"!=typeof e[0]&&(r=null),s=0;s<e.length;s++)n=c?e[s]:t.pvt.getObject(a||r,e[s]),l.push(new t.Predicate(o,"==",n));return t.Predicate.or(l)},addParams:function(e){var t,i,s=e.dm,n=e.query,o=e.params,r=e.reqParams;for(r.params={},t=0;i=o[t];t++)r[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),r[i.key]=i.value,i.fn&&(r[i.key]=i.fn.call(n,i.key,n,s)),r.params[i.key]=r[i.key]}}),t.WebMethodAdaptor=(new t.UrlAdaptor).extend({processQuery:function(e,i,s){var n=t.UrlAdaptor.prototype.processQuery(e,i,s),o=t.parseJSON(n.data),r={};return r.value=o,$(this,"addParams",{dm:e,query:i,params:i._params,reqParams:r}),{data:JSON.stringify(r),url:n.url,ejPvtData:n.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(e){var t,i,s,n,o=e.dm,r=e.query,a=e.params,l=e.reqParams;for(l.params={},t=0;i=a[t];t++)l[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),s=i.key,n=i.value,i.fn&&(n=i.fn.call(r,i.key,r,o)),l[s]=n,l.params[s]=l[s]}}),t.CacheAdaptor=(new t.UrlAdaptor).extend({init:function(e,i,s){var n,o;t.isNullOrUndefined(e)||(this.cacheAdaptor=e),this.pageSize=s,this.guidId=t.getGuid("cacheAdaptor"),n={keys:[],results:[]},window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify(n)),o=this.guidId,t.isNullOrUndefined(i)||setInterval(function(){for(var e=t.parseJSON(window.localStorage.getItem(o)),s=[],n=0;n<e.results.length;n++)e.results[n].timeStamp=new Date-new Date(e.results[n].timeStamp),new Date-new Date(e.results[n].timeStamp)>i&&s.push(n);for(n=0;n<s.length;n++)e.results.splice(s[n],1),e.keys.splice(s[n],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(e))},i)},generateKey:function(e,t){var i,s,n,o,r=y(t.queries,"onSortBy"),a=y(t.queries,"onGroup"),l=y(t.queries,"onWhere"),c=y(t.queries,"onSearch"),d=(y(t.queries,"onPage"),S(t.queries,["onSelect","onPage","onSkip","onTake","onRange"])),h=(t._params,e);for(d.onPage&&(h+=d.onPage.pageIndex),r.forEach(function(e){h+=e.e.direction+e.e.fieldName}),a.forEach(function(e){h+=e.e.fieldName}),c.forEach(function(e){h+=e.e.searchKey}),i=0;i<l.length;i++)if((s=l[i]).e.isComplex){for((n=t.clone()).queries=[],o=0;o<s.e.predicates.length;o++)n.queries.push({fn:"onWhere",e:s.e.predicates[o],filter:t.queries.filter});h+=s.e.condition+this.generateKey(e,n)}else h+=s.e.field+s.e.operator+s.e.value;return h},processQuery:function(e,i){var s,n,o=this.generateKey(e.dataSource.url,i);return window.localStorage&&(s=t.parseJSON(window.localStorage.getItem(this.guidId))),null==(n=s?s.results[s.keys.indexOf(o)]:null)||this._crudAction||this._insertAction?(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):n},processResponse:function(i,s,n,o,r,a){var l;if(this._insertAction||r&&this.cacheAdaptor.options.batch&&r.url.endsWith(this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase())return this.cacheAdaptor.processResponse(i,s,n,o,r,a);i=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0));var c=this.generateKey(s.dataSource.url,n),d={};for(window.localStorage&&(d=t.parseJSON(window.localStorage.getItem(this.guidId))),-1!=(l=e.inArray(c,d.keys))&&(d.results.splice(l,1),d.keys.splice(l,1)),d.results[d.keys.push(c)-1]={keys:c,result:i.result,timeStamp:new Date,count:i.count};d.results.length>this.pageSize;)d.results.splice(0,1),d.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(d)),i},update:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.update(e,t,i,s)},insert:function(e,t,i){return this._insertAction=!0,this.cacheAdaptor.insert(e,t,i)},remove:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.remove(e,t,i,s)},batchRequest:function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}});var y=function(e,t){return e.filter(function(e){return e.fn===t})||[]},S=function(e,t){for(var i=e.filter(function(e){return-1!==t.indexOf(e.fn)}),s={},n=0;n<i.length;n++)s[i[n].fn]||(s[i[n].fn]=i[n].e);return s},$=function(e,t,i,s){if(e[t]){var n=e[t](i,s);h(n)||(i=n)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(e,t){return e.isComplex?this.onComplexPredicate(e,t):this.onPredicate(e,t)},onPredicate:function(e,i,s){var n,o,r,a="",l=e.value,c=typeof l,d=this._p(e.field);return l instanceof Date&&(l="datetime'"+w.replacer(l).toJSON()+"'"),"string"===c&&(l="'"+l+"'",s&&(d="cast("+d+", 'Edm.String')"),t.isGUID(l)&&(o="guid"),e.ignoreCase&&(o||(d="tolower("+d+")"),l=l.toLowerCase())),(n=t.data.odBiOperator[e.operator])?(a+=d,a+=n,o&&(a+=o),a+l):(n=t.data.odUniOperator[e.operator])&&"string"===c?("substringof"===n&&(r=l,l=d,d=r),a+=n+"(",a+=d+",",o&&(a+=o),a+(l+")")):""},onComplexPredicate:function(e,t){for(var i=[],s=0;s<e.predicates.length;s++)i.push("("+this.onEachWhere(e.predicates[s],t)+")");return i.join(" "+e.condition+" ")},onWhere:function(e){return this.pvt.searches&&e.push(this.onEachWhere(this.pvt.searches,null,!0)),e.join(" and ")},onEachSearch:function(e){var i,s;for(0===e.fields.length&&u("Query() - Search : oData search requires list of field names to search"),i=this.pvt.searches||[],s=0;s<e.fields.length;s++)i.push(new t.Predicate(e.fields[s],e.operator,e.key,e.ignoreCase));this.pvt.searches=i},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(e){var t,i=[];if(e.name instanceof Array)for(t=0;t<e.name.length;t++)i.push(this._p(e.name[t]));else i.push(this._p(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},onSortBy:function(e){return e.reverse().join(",")},onGroup:function(e){return this.pvt.groups=e,""},onSelect:function(e){for(var t=0;t<e.length;t++)e[t]=this._p(e[t]);return e.join(",")},onAggregates:function(e){return this.pvt.aggregates=e,""},onCount:function(e){return!0===e?"allpages":""},beforeSend:function(e,t,i){i.url.endsWith(this.options.batch)&&"post"===i.type.toLowerCase()&&(t.setRequestHeader("Accept",g),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")),e.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,s,n,o,r,a){var l,c,d,u,p,m,g,f,v,b;if(!t.isNullOrUndefined(i.d)&&(l=n&&n._requiresCount?i.d.results:i.d,!t.isNullOrUndefined(l)))for(v=0;v<l.length;v++)t.isNullOrUndefined(l[v].__metadata)||delete l[v].__metadata;if(c=r&&r.ejPvtData,o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return n._requiresCount?{result:[],count:0}:[];if(r&&this.options.batch&&r.url.endsWith(this.options.batch)&&"post"===r.type.toLowerCase()){if(d=(d=o.getResponseHeader("Content-Type")).substring(d.indexOf("=batchresponse")+1),(i=i.split(d)).length<2)return;for(i=i[1],m=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(m[0],""),g=m[1],v=(i=i.split(g)).length;v>-1;v--)/\bContent-ID:/i.test(i[v])&&/\bHTTP.+201/.test(i[v])&&(u=parseInt(/\bContent-ID: (\d+)/i.exec(i[v])[1]),a.added[u]&&(p=w.parseJson(/^\{.+\}/m.exec(i[v])[0]),e.extend(a.added[u],this.processResponse(p))));return a}var _=o&&o.getResponseHeader("DataServiceVersion"),y=null,S={};if(_=_&&parseInt(_,10)||2,n&&n._requiresCount&&((i.__count||i["odata.count"])&&(y=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(y=i.__count||i["odata.count"])),3===_&&i.value&&(i=i.value),i.d&&(i=i.d),_<3&&i.results&&(i=i.results),c&&c.aggregates&&c.aggregates.length){var $,C=c.aggregates,x={};for(v=0;v<C.length;v++)($=t.aggregates[C[v].type])&&(x[C[v].field+" - "+C[v].type]=$(i,C[v].field));S=x}if(c&&c.groups&&c.groups.length)for(f=c.groups,v=0;v<f.length;v++)b=A(f[v],n.queries),i=t.group(i,f[v],c.aggregates,b);return h(y)?i:{result:i,count:y,aggregates:S}},convertToQueryString:function(e,t,i){var s,n=[],o=e.table||"";for(s in delete e.table,i.dataSource.requiresFormat&&(e.$format="json"),e)n.push(s+"="+e[s]);return n=n.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!o?n:n.length?o+"?"+n:o||""},insert:function(e,t,i){return{url:e.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(e,t,i,s){return{type:"DELETE",url:e.dataSource.url.replace(/\/*$/,s?"/"+s:"")+"("+i+")"}},update:function(e,t,i,s){return{type:"PUT",url:e.dataSource.url.replace(/\/*$/,s?"/"+s:"")+"("+i[t]+")",data:JSON.stringify(i),accept:this.options.accept}},batchRequest:function(e,i,s){var n=s.guid=t.getGuid(v),o=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch),r={url:s.url,key:s.key,cid:1,cSet:t.getGuid(f)},a="--"+n+"\n";return a+="Content-Type: multipart/mixed; boundary="+r.cSet.replace("--","")+"\n",this.pvt.changeSet=0,a+=this.generateInsertRequest(i.added,r),a+=this.generateUpdateRequest(i.changed,r),a+=this.generateDeleteRequest(i.deleted,r),a+=r.cSet+"--\n",{type:"POST",url:o,contentType:"multipart/mixed; charset=UTF-8;boundary="+n,data:a+="--"+n+"--"}},generateDeleteRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=b+"\n\n",i+="DELETE ",i+=t.url+"("+e[s][t.key]+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+m+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=_+"\n";return i+"\n"},generateInsertRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=b+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+m+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=_+"\n\n",i+=JSON.stringify(e[s])+"\n";return i},generateUpdateRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=b+"\n\n",i+="PUT ",i+=t.url+"("+e[s][t.key]+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+m+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=_+"\n\n",i+=JSON.stringify(e[s])+"\n\n";return i},_p:function(e){return e.replace(/\./g,"/")}}),t.ODataV4Adaptor=(new t.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(e){return!0===e?"true":""},onPredicate:function(e,i,s){var n="",o=e.value instanceof Date;return t.data.odUniOperator.contains="contains",n=t.ODataAdaptor.prototype.onPredicate.call(this,e,i,s),t.data.odUniOperator.contains="substringof",o&&(n=n.replace(/datetime'(.*)'$/,"$1")),n},onEachSearch:function(e){var t=this.pvt.search||[];t.push(e.key),this.pvt.search=t},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(e,i){for(var s,n,o=/\/[\d*\/]*/g,r="",a=i._expands.length-1;a>0;a--)if(r.indexOf(i._expands[a])>=0)i._expands.pop();else if(o.test(i._expands[a])){for(s=(r=i._expands.pop()).replace(o,"($expand="),n=0;n<r.split(o).length-1;n++)s+=")";i._expands.unshift(s),a++}return t.ODataAdaptor.prototype.processQuery.apply(this,[e,i])},processResponse:function(i,s,n,o,r,a){var l,c,d,u,p,m,g,f,v,b,_=r&&r.ejPvtData;if(o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return n._requiresCount?{result:[],count:0}:[];if(r&&this.options.batch&&r.url.endsWith(this.options.batch)&&"post"===r.type.toLowerCase()){if(l=(l=o.getResponseHeader("Content-Type")).substring(l.indexOf("=batchresponse")+1),(i=i.split(l)).length<2)return;for(i=i[1],u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(u[0],""),p=u[1],v=(i=i.split(p)).length;v>-1;v--)/\bContent-ID:/i.test(i[v])&&/\bHTTP.+201/.test(i[v])&&(c=parseInt(/\bContent-ID: (\d+)/i.exec(i[v])[1]),a.added[c]&&(d=w.parseJson(/^\{.+\}/m.exec(i[v])[0]),e.extend(a.added[c],this.processResponse(d))));return a}if(m=null,g={},n&&n._requiresCount&&"@odata.count"in i&&(m=i["@odata.count"]),i=t.isNullOrUndefined(i.value)?i:i.value,_&&_.aggregates&&_.aggregates.length){var y,S=_.aggregates,$={};for(v=0;v<S.length;v++)(y=t.aggregates[S[v].type])&&($[S[v].field+" - "+S[v].type]=y(i,S[v].field));g=$}if(_&&_.groups&&_.groups.length)for(f=_.groups,v=0;v<f.length;v++)b=A(f[v],n.queries),i=t.group(i,f[v],_.aggregates,b);return h(m)?i:{result:i,count:m,aggregates:g}}}),t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(e,t){for(var i,n,o=e.dataSource.json.slice(0),r=o.length,a=!0,l={},c=0;c<t.queries.length;c++)i=this[(n=t.queries[c]).fn].call(this,o,n.e,t),"onAggregates"==n.fn?l[n.e.field+" - "+n.e.type]=i:o=i!==s?i:o,("onPage"===n.fn||"onSkip"===n.fn||"onTake"===n.fn||"onRange"===n.fn)&&(a=!1),a&&(r=o.length);return t._requiresCount&&(o={result:o,count:r,aggregates:l}),o},batchRequest:function(e,t,i){for(var s=0;s<t.added.length;s++)this.insert(e,t.added[s]);for(s=0;s<t.changed.length;s++)this.update(e,i.key,t.changed[s]);for(s=0;s<t.deleted.length;s++)this.remove(e,i.key,t.deleted[s]);return t},onWhere:function(e,t){return e?e.filter(function(e){return t.validate(e)}):e},onAggregates:function(e,i){var s=t.aggregates[i.type];return e&&s&&0!=e.length?s(e,i.field):null},onSearch:function(e,i){return e&&e.length?(0===i.fieldNames.length&&t.pvt.getFieldList(e[0],i.fieldNames),e.filter(function(e){for(var s=0;s<i.fieldNames.length;s++)if(i.comparer.call(e,t.pvt.getObject(i.fieldNames[s],e),i.searchKey,i.ignoreCase))return!0;return!1})):e},onSortBy:function(e,i,s){var o,r,a;if(!e)return e;if(!(r=n(i.fieldName,s)))return e.sort(i.comparer);if(r instanceof Array){for(a=(r=r.slice(0)).length-1;a>=0;a--)r[a]&&(o=i.comparer,r[a].endsWith(" desc")&&(o=t.pvt.fnSort(t.sortOrder.Descending),r[a]=r[a].replace(" desc","")),e=P(e,r[a],o,[]));return e}return P(e,r,i.comparer,s?s.queries:[])},onGroup:function(e,i,s){var o,r,a,l,c;if(!e)return e;if(r=[],(o=y(s.queries,"onAggregates")).length)for(l=0;l<o.length;l++)a=o[l].e,r.push({type:a.type,field:n(a.field,s)});return c=A(i.fieldName,s.queries),t.group(e,n(i.fieldName,s),r,c)},onPage:function(e,t,i){var s=n(t.pageSize,i),o=(n(t.pageIndex,i)-1)*s,r=o+s;return e?e.slice(o,r):e},onRange:function(e,t){return e?e.slice(n(t.start),n(t.end)):e},onTake:function(e,t){return e?e.slice(0,n(t.nos)):e},onSkip:function(e,t){return e?e.slice(n(t.nos)):e},onSelect:function(e,i){return e?t.select(e,n(i.fieldNames)):e},insert:function(e,t){return e.dataSource.json.push(t)},remove:function(e,i,s){var n,o=e.dataSource.json;for("object"==typeof s&&(s=t.getObject(i,s)),n=0;n<o.length&&t.getObject(i,o[n])!==s;n++);return n!==o.length?o.splice(n,1):null},update:function(i,s,n){for(var o=i.dataSource.json,r=t.getObject(s,n),a=0;a<o.length&&t.getObject(s,o[a])!==r;a++);return a<o.length?e.extend(o[a],n):null}}),t.ForeignKeyAdaptor=function(i,n){var o=(new t[n||"JsonAdaptor"]).extend({init:function(){var e,s;for(this.foreignData=[],this.key=[],this.adaptorType=n,this.value=[],this.fValue=[],this.keyField=[],e=i,s=0;s<e.length;s++)this.foreignData[s]=e[s].dataSource,this.key[s]=e[s].foreignKeyField,this.fValue[s]=t.isNullOrUndefined(e[s].field)?e[s].foreignKeyValue:e[s].field+"_"+e[s].foreignKeyValue,this.value[s]=e[s].foreignKeyValue,this.keyField[s]=e[s].field||e[s].foreignKeyField,this.initial=!0},processQuery:function(e,i){var s,n,o,r=e.dataSource.json;if(this.initial){for(s=0;s<r.length;s++)for(n=this,o=0;o<this.foreignData.length;o++)this.foreignData[o].filter(function(e){t.getObject(n.key[o],e)==t.getObject(n.keyField[o],r[s])&&(r[s][n.fValue[o]]=t.getObject(n.value[o],e))});this.initial=!1}return this.base.processQuery.apply(this,[e,i])},setValue:function(i){for(var n,o,r,a=0;a<this.foreignData.length;a++)n=this,"string"!=typeof(o=i[this.fValue[a]])||isNaN(o)||(o=t.parseFloat(o)),r=e.grep(n.foreignData[a],function(e){return e[n.value[a]]==o})[0],t.isNullOrUndefined(r)&&(r=e.grep(n.foreignData[a],function(e){return e[n.key[a]]==o})[0],t.getObject(this.value[a],r)!=s&&t.createObject(n.value[a],t.getObject(this.value[a],r),i)),t.getObject(this.value[a],r)!=s&&t.createObject(this.keyField[a],t.getObject(this.key[a],r),i)},insert:function(e,t,i){return this.setValue(t),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},update:function(e,i,s,n){return this.setValue(s),t.JsonAdaptor.prototype.update(e,i,s,n),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:s,action:"update",keyColumn:i,key:s[i],table:n})}}});return e.extend(this,new o),this},t.remoteSaveAdaptor=(new t.JsonAdaptor).extend({beforeSend:t.UrlAdaptor.prototype.beforeSend,insert:t.UrlAdaptor.prototype.insert,update:t.UrlAdaptor.prototype.update,remove:t.UrlAdaptor.prototype.remove,addParams:t.UrlAdaptor.prototype.addParams,batchRequest:function(e,i,s){for(var n=0;n<i.added.length;n++)t.JsonAdaptor.prototype.insert(e,i.added[n]);for(n=0;n<i.changed.length;n++)t.JsonAdaptor.prototype.update(e,s.key,i.changed[n]);for(n=0;n<i.deleted.length;n++)t.JsonAdaptor.prototype.remove(e,s.key,i.deleted[n]);return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:i.changed,added:i.added,deleted:i.deleted,action:"batch",table:s.url,key:s.key})}}}),t.WebApiAdaptor=(new t.ODataAdaptor).extend({insert:function(e,t){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(e,t,i){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},processResponse:function(e,i,s,n,o){var r,a,l,c=o&&o.ejPvtData;if(o&&"post"!=o.type.toLowerCase()){var d=n&&n.getResponseHeader("DataServiceVersion"),u=null,p={};if(d=d&&parseInt(d,10)||2,s&&s._requiresCount&&(h(e.Count)||(u=e.Count)),d<3&&e.Items&&(e=e.Items),c&&c.aggregates&&c.aggregates.length){var m,g=c.aggregates,f={};for(a=0;a<g.length;a++)(m=t.aggregates[g[a].type])&&(f[g[a].field+" - "+g[a].type]=m(e,g[a].field));p=f}if(c&&c.groups&&c.groups.length)for(r=c.groups,a=0;a<r.length;a++)l=A(r[a],s.queries),e=t.group(e,r[a],c.aggregates,l);return h(u)?e:{result:e,count:u,aggregates:p}}}}),n=function(e,t){return"function"==typeof e?e.call(t||{}):e},t.TableModel=function(i,s,n,o){var r,a,l,c;if(!M(this,t.TableModel))return new t.TableModel(s);for(M(s,Array)||u("ej.TableModel - Json Array is required"),r=[],l=d(k,this),c=0;c<s.length;c++)(a=new t.Model(s[c],this)).state="unchanged",a.on("stateChange",l),o&&a.computes(o),r.push(a);return this.name=i||"table1",this.rows=t.NotifierArray(r),this._deleted=[],this._events=e({}),this.dataManager=n,this._isDirty=!1,this},t.TableModel.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},setDataManager:function(e){this.dataManagar=e},saveChanges:function(){if(this.dataManager&&M(this.dataManager,t.DataManager)||u("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var e=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);e.done(d(function(e){for(var t=this.toArray(),i=0;i<t.length;i++)"added"===t.state&&t.set(this.key,e.added.filter(function(e){return e[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this)),e.fail(d(function(e){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:e})},this)),this._isDirty=!1}},rejectChanges:function(){for(var e=this.toArray(),t=0;t<e.length;t++)e[t].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(e){var i=new t.Model(e);i._isDirty=this._isDirty=!0,this.rows.push(i),this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(e){var t;this.key||u("TableModel - update : Primary key should be assigned to TableModel.key");var i,s=e,n=this.key,o=s[n];for(t in i=this.rows.array.filter(function(e){return e.get(n)===o}),i=i[0],s)i.set(t,s[t]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:i,table:this})},remove:function(e){var t,i,n,o;for(this.key||u("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,e&&"object"==typeof e&&(e=e[t]!==s?e[t]:e.get(t)),o=0;o<this.rows.length();o++)if(this.rows.array[o].get(t)===e){i=o;break}i>-1&&((n=this.rows.removeAt(i)).markDelete(),this._deleted.push({model:n,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:n,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var e={added:[],changed:[]},i=this.toArray(),s=0;s<i.length;s++)e[i[s].state]&&e[i[s].state].push(i[s].json);return e.deleted=t.select(this._deleted,["model"]),e},toArray:function(){return this.rows.toArray()},setDirty:function(e,t){this._isDirty!==!!e&&(this._isDirty=!!e,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(e){return this.rows.array[e]},length:function(){return this.rows.array.length},bindTo:function(t){var i,s,n=o,a=e(t.html()),l=this.toArray();for(e.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(n=r),n.insertBefore(t),t.detach().empty(),s=0;s<l.length;s++)i=a.clone(),l[s].bindTo(i),t.append(i);t.insertAfter(n),n.remove()}},o=i?e(document.createElement("div")):{},r=i?e(document.createElement("tr")):{},t.Model=function(i,s,n){"string"==typeof s&&(n=s,s=null),this.$id=W("m"),this.json=i,this.table=s instanceof t.TableModel?s:null,this.name=n||this.table&&this.table.name,this.dataManager=s instanceof t.DataManager?s:s.dataManagar,this.actual={},this._events=e({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},t.Model.prototype={computes:function(t){e.extend(this.computed,t)},on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},set:function(e,t){var i,n,o=this.json,r=e;for(e=e.split("."),n=0;n<e.length-1;n++)o=o[(e=e[0])[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),i=o[e],this.actual[e]!==s||e in this.actual||(this.actual[e]=t),o[e]=t,this._updateValues(e,t),this._events.triggerHandler({type:r,current:t,previous:i,model:this})},get:function(e){return t.pvt.getObject(e,this.json)},revert:function(e){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,e?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,s){return i=i||this.dataManagar,s=s||i.dataSource.key,i||u("ej.Model - DataManager is required to commit the changes"),"added"===this.state?i.insert(this.json,this.name).done(t.proxy(function(t){e.extend(this.json,t.record)},this)):"changed"===this.state?i.update(s,this.json,this.name):"deleted"===this.state?i.remove(s,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if("added"===this.state){if("deleted"!==t)return;t="unchanged"}var s=t;i=i||{},this.state=t,this._events.triggerHandler(e.extend({type:"stateChange",current:t,previous:s,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var e in this.json)this._props.push(e),this._updates[e]={read:[],input:[]};return this._props},bindTo:function(t){var i,s,n,o,r=e(t),a=r.find("[ej-observe], [ej-computed], [ej-prop]"),l=a.length;for(r.data("ejModel",this),n={fields:[],props:[],computes:[]},o=0;o<l;o++)(s=(i=a.eq(o)).attr("ej-prop"))&&this._processAttrib(s,i,n),(s=i.attr("ej-observe"))&&-1!==this._props.indexOf(s)?this._processField(i,s,n):(s=i.attr("ej-computed"))&&this._processComputed(s,i,n);r.data("ejModelBinding"+this.$id,n)},unbind:function(t){var i,s,n,o,r,a,l,c={props:this._attrEls,computes:this._computeEls},d=!1;for(s in t&&(c=e(t).removeData("ejModel").data("ejModelBinding"+this.$id)||c,d=!0),this.computed)i=c.computes[s],s=this.computed[s],i&&s.deps&&(this.off(s.deps.join(" "),i.handle),d&&delete this._computeEls[s]);for(s in d||(this._computeEls={}),c.props)(i=c.props[s])&&(this.off(i.deps.join(" "),i.handle),delete c.props[s],d&&delete this._attrEls[s]);if(d||(this._attrEls={}),c.fields&&c.fields.length)for(n=c.fields.length,l=0;l<n;l++)o=c.fields[l],e(o).off("change",null,this._changeHandler),a=-1!==this.formElements.indexOf(o.tagName.toLowerCase())?"input":"read",-1!==(r=this._updates[a].indexOf(o))&&this._updates[a].splice(r,1)},_processComputed:function(e,t,i){if(e){var s,n,o=x(e),r=-1!==this.formElements.indexOf(t[0].tagName.toLowerCase())?"val":"html";this.computed[e]&&this.computed[o]||(this.computed[o]={value:new Function("var e = this; return "+e),deps:this._generateDeps(e)},e=o),(s=this.computed[e]).get||(s.get=function(){s.value.call(this.json)}),n=s.deps,s=s.value,this._updateDeps(n),this._updateElement(t,r,s),s={el:t,handle:d(this._computeHandle,this,{value:e,type:r})},this._computeEls[e]=s,i.computes[e]=s,this.on(n.join(" "),s.handle)}},_computeHandle:function(e){var t=this._computeEls[e.value];t&&this.computed[e.value]&&this._updateElement(t.el,e.type,this.computed[e.value].value)},_updateElement:function(t,i,s){t[i](s.call(e.extend({},this.json,this.computed)))},_updateDeps:function(e){for(var i=0;i<e.length;i++)!(e[i]in this.json)&&e[i]in this.computed&&t.merge(e,this.computed[e[i]].deps)},_generateDeps:function(e){for(var t,i=e.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),s=[],n=0;n<i.length;n++)i[n].startsWith("#ej.#")&&((t=i[n].replace("#ej.#","").split(" ")[0])&&-1!==this._props.indexOf(t)&&s.push(t));return s},_processAttrib:function(e,t,i){var s,n,o,r,a={};for(e=e.replace(/^ +| +$/g,"").split(";"),o=0;o<e.length;o++)e[o]=e[o].split(":"),e[o].length<2||(a[s=e[o][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,"")]=e[o][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));for(s in r=[],e=a)r.push(e[s]);this._updateDeps(r),this._updateProps(t,e),a=W("emak"),n={el:t,handle:d(this._attrHandle,this,a),value:e,deps:r},t.prop("ejmodelattrkey",a),i.props[a]=n,this._attrEls[a]=n,this.on(r.join(" "),n.handle)},_attrHandle:function(e){var t=this._attrEls[e];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var s,n=this.json,o=this.computed;for(var r in i)(s=i[r])in n?s=n[s]:s in o&&((s=o[s])&&(s=s.value.call(e.extend({},this.json,o)))),h(s)||t.prop(r,s)},_updateValues:function(e,t){var i=this._updates[e];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,s){if(t)for(var n=t.length-1;n>-1;n--)t[n].offsetParent?e(t[n])[i](s):t.splice(n,1)},_changeHandler:function(t){t.data.self.set(t.data.prop,e(this).val())},_processField:function(e,t,i){var s={self:this,prop:t},n=this.get(t);return i.fields.push(e[0]),-1===this.formElements.indexOf(e[0].tagName.toLowerCase())?(e.html(n),this._updates[t].read.push(e[0])):(e.val(n).off("change",null,this._changeHandler).on("change",null,s,this._changeHandler),this._updates[t].input.push(e[0]))},formElements:["input","select","textarea"]};var C=/[^\w]+/g,x=function(e){return e.replace(C,"_")},k=function(e){this.setDirty(!0,e.model)};if(t.Predicate=function(e,i,s,n){return this instanceof t.Predicate?("string"==typeof e?(this.field=e,this.operator=i,this.value=s,this.ignoreCase=n,this.isComplex=!1,this._comparer=t.data.fnOperators.processOperator(this.operator)):(e instanceof t.Predicate&&s instanceof t.Predicate||s instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[e],s instanceof Array?[].push.apply(this.predicates,s):this.predicates.push(s)),this):new t.Predicate(e,i,s,n)},t.Predicate.and=function(){return a._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return a._combinePredicates([].slice.call(arguments,0),"or")},t.Predicate.fromJSON=function(e){var t,i,s;if(M(e,Array)){for(t=[],i=0,s=e.length;i<s;i++)t.push(a._fromJSON(e[i]));return t}return a._fromJSON(e)},a={_combinePredicates:function(e,i){if(!e.length)return s;if(1===e.length){if(!M(e[0],Array))return e[0];e=e[0]}return new t.Predicate(e[0],i,e.slice(1))},_combine:function(e,i,s,n,o,r){return i instanceof t.Predicate?t.Predicate[o](e,i):"string"==typeof i?t.Predicate[o](e,new t.Predicate(i,s,n,r)):u("Predicate - "+o+" : invalid arguments")},_fromJSON:function(e){var i;if(!e||M(e,t.Predicate))return e;var s=e.predicates||[],n=s.length,o=[];for(i=0;i<n;i++)o.push(a._fromJSON(s[i]));return e.isComplex?new t.Predicate(o[0],e.condition,o.slice(1)):new t.Predicate(e.field,e.operator,t.parseJSON({val:e.value}).val,e.ignoreCase)}},t.Predicate.prototype={and:function(e,t,i,s){return a._combine(this,e,t,i,"and",s)},or:function(e,t,i,s){return a._combine(this,e,t,i,"or",s)},validate:function(e){var i,s,n,o=this.predicates;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,e),this.value,this.ignoreCase);for(i="and"===this.condition,n=0;n<o.length;n++)if(s=o[n].validate(e),i){if(!s)return!1}else if(s)return!0;return i},toJSON:function(){var e,t,i;if(this.isComplex)for(e=[],t=this.predicates,i=0;i<t.length;i++)e.push(t[i].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,condition:this.condition,predicates:e}}},t.dataUtil={swap:function(e,t,i){if(t!=i){var s=e[t];e[t]=e[i],e[i]=s}},mergeSort:function(e,i,s){return s&&"string"!=typeof s||(s=t.pvt.fnSort(s,!0)),"function"==typeof i&&(s=i,i=null),t.pvt.mergeSort(e,i,s)},max:function(e,i,s){return"function"==typeof i&&(s=i,i=null),t.pvt.getItemFromComparer(e,i,s||t.pvt.fnDescending)},min:function(e,i,s){return"function"==typeof i&&(s=i,i=null),t.pvt.getItemFromComparer(e,i,s||t.pvt.fnAscending)},distinct:function(e,t,i){for(var s,n=[],o={},r=0;r<e.length;r++)(s=E(e,t,r))in o||(n.push(i?e[r]:s),o[s]=1);return n},sum:function(e,t){for(var i,s=0,n="number"!=typeof E(e,t,0),o=0;o<e.length;o++)i=E(e,t,o),isNaN(i)||null===i||(n&&(i=+i),s+=i);return s},avg:function(e,i){return t.sum(e,i)/e.length},select:function(e,i){for(var s=[],n=0;n<e.length;n++)s.push(t.pvt.extractFields(e[n],i));return s},group:function(i,s,n,o,r,a){var l,c,d,h,u,p,m,g,f,v;if(r=r||1,i.GROUPGUID==t.pvt.consts.GROUPGUID){for(f=0;f<i.length;f++)t.isNullOrUndefined(a)?(i[f].items=t.group(i[f].items,s,n,o,i.level+1),i[f].count=i[f].items.length):(-1,v=e.grep(a,function(e){return e.key==i[f].key}),l=a.indexOf(v[0]),i[f].items=t.group(i[f].items,s,n,o,i.level+1,a[l].items),i[f].count=a[l].count);return i.childLevels+=1,i}for(c={},(d=[]).GROUPGUID=t.pvt.consts.GROUPGUID,d.level=r,d.childLevels=0,d.records=i,p=0;p<i.length;p++)h=E(i,s,p),t.isNullOrUndefined(o)||(h=o(h,s)),c[h]||(c[h]={key:h,count:0,items:[],aggregates:{},field:s},d.push(c[h]),t.isNullOrUndefined(a)||(u=e.grep(a,function(e){return e.key==c[h].key}),c[h].count=u[0].count)),c[h].count=t.isNullOrUndefined(a)?c[h].count+=1:c[h].count,c[h].items.push(i[p]);if(n&&n.length)for(p=0;p<d.length;p++){for(m={},f=0;f<n.length;f++)g=t.aggregates[n[f].type],t.isNullOrUndefined(a)?g&&(m[n[f].field+" - "+n[f].type]=g(d[p].items,n[f].field)):(v=e.grep(a,function(e){return e.key==d[p].key}),g&&(m[n[f].field+" - "+n[f].type]=g(v[0].items,n[f].field)));d[p].aggregates=m}return d},parseTable:function(i,s,n){var o,r,a,l,c,d,h,u=i.rows,p=[],m=[];if(!u.length)return[];switch(n=n||0,(s||"").toLowerCase()){case t.headerOption.tHead:o=i.tHead.rows[n];break;case t.headerOption.row:default:o=i.rows[n]}for(a=o.cells,r=0;r<a.length;r++)p.push(e.trim(a[r].innerHTML));for(r=n+1;r<u.length;r++){for(l={},c=u[r].cells,d=0;d<c.length;d++)h=c[d].innerHTML,l[p[d]]="string"==typeof h&&e.isNumeric(h)?Number(h):h;m.push(l)}return m}},t.headerOption={tHead:"thead",row:"row"},t.aggregates={sum:function(e,i){return t.sum(e,i)},average:function(e,i){return t.avg(e,i)},minimum:function(e,i){return t.getObject(i,t.min(e,i))},maximum:function(e,i){return t.getObject(i,t.max(e,i))},truecount:function(e,i){var s=t.Predicate(i,"equal",!0);return t.DataManager(e).executeLocal(t.Query().where(s)).length},falsecount:function(e,i){var s=t.Predicate(i,"equal",!1);return t.DataManager(e).executeLocal(t.Query().where(s)).length},count:function(e){return e.length}},t.pvt={filterQueries:y,mergeSort:function(e,i,s){if(e.length<=1)return e;var n=parseInt(e.length/2,10),o=e.slice(0,n),r=e.slice(n);return o=t.pvt.mergeSort(o,i,s),r=t.pvt.mergeSort(r,i,s),t.pvt.merge(o,r,i,s)},getItemFromComparer:function(e,i,s){var n,o,r,a=0,l="string"==typeof E(e,i,0);if(e.length)for(;t.isNullOrUndefined(n)&&a<e.length;)n=E(e,i,a),r=e[a++];for(;a<e.length;a++)o=E(e,i,a),t.isNullOrUndefined(o)||(l&&(n=+n,o=+o),s(n,o)>0&&(n=o,r=e[a]));return r},quickSelect:function(e,i,s,n,o,r){if(s==n)return e[s];var a=t.pvt.partition(e,i,s,n,r),l=a-s+1;return l==o?e[a]:o<l?t.pvt.quickSelect(e,i,s,a-1,o,r):t.pvt.quickSelect(e,i,a+1,n,o-l,r)},extractFields:function(e,i){var s,n={};if(1==i.length)return t.pvt.getObject(i[0],e);for(s=0;s<i.length;s++)n[i[s].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[s],e);return n},partition:function(e,i,s,n,o){var r,a=parseInt((s+n)/2,10),l=E(e,i,a);for(t.swap(e,a,n),a=s,r=s;r<n;r++)o(E(e,i,r),l)&&(t.swap(e,r,a),a++);return t.swap(e,a,n),a},fnSort:function(e){return(e=e?e.toLowerCase():t.sortOrder.Ascending)==t.sortOrder.Ascending?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(e,i){return function(s,n){return i(t.pvt.getObject(e,s),t.pvt.getObject(e,n))}},fnAscending:function(e,t){return null===t||t===s?-1:"string"==typeof e?e.localeCompare(t):null===e||e===s?1:e-t},fnDescending:function(e,t){return null===t||t===s?1:"string"==typeof e?-1*e.localeCompare(t):null===e||e===s?-1:t-e},merge:function(e,t,i,s){for(var n,o=[];e.length>0||t.length>0;)n=e.length>0&&t.length>0?s?s(E(e,i,0),E(t,i,0))<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,o.push(n.shift());return o},getObject:function(e,t){var i,n,o;if(!t)return s;if(!e)return t;if(-1===e.indexOf("."))return t[e];for(i=t,n=e.split("."),o=0;o<n.length&&null!=i;o++)i=i[n[o]];return i},createObject:function(e,t,i){for(var n=e.split("."),o=i||window,r=o,a=0;a<n.length;a++)a+1==n.length?r[n[a]]=t===s?{}:t:null==r[n[a]]&&(r[n[a]]={}),r=r[n[a]];return o},getFieldList:function(e,i,n){if(n===s&&(n=""),i===s||null===i)return t.pvt.getFieldList(e,[],n);for(var o in e)"object"!=typeof e[o]||e[o]instanceof Array?i.push(n+o):t.pvt.getFieldList(e[o],i,n+o+".");return i}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.data.fnOperators={equal:function(e,t,i){return i?j(e)==j(t):e==t},notequal:function(e,i,s){return!t.data.fnOperators.equal(e,i,s)},lessthan:function(e,t,i){return i?j(e)<j(t):e<t},greaterthan:function(e,t,i){return i?j(e)>j(t):e>t},lessthanorequal:function(e,t,i){return i?j(e)<=j(t):e<=t},greaterthanorequal:function(e,t,i){return i?j(e)>=j(t):e>=t},contains:function(e,t,i){return i?!h(e)&&!h(t)&&-1!=j(e).indexOf(j(t)):!h(e)&&!h(t)&&-1!=e.toString().indexOf(t)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(e,t,i){return i?e&&t&&j(e).startsWith(j(t)):e&&t&&e.startsWith(t)},endswith:function(e,t,i){return i?e&&t&&j(e).endsWith(j(t)):e&&t&&e.endsWith(t)},processSymbols:function(e){var i,s=t.data.operatorSymbols[e];return s&&(i=t.data.fnOperators[s])?i:u("Query - Process Operator : Invalid operator")},processOperator:function(e){var i=t.data.fnOperators[e];return i||t.data.fnOperators.processSymbols(e)}},t.NotifierArray=function(i){return M(this,t.NotifierArray)?(this.array=i,this._events=e({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},push:function(e){var t;return t=M(e,Array)?[].push.apply(this.array,e):this.array.push(e),this._raise("add",{item:e,index:this.length()-1}),t},pop:function(){var e=this.array.pop();return this._raise("remove",{item:e,index:this.length()-1}),e},addAt:function(e,t){return this.array.splice(e,0,t),this._raise("add",{item:t,index:e}),t},removeAt:function(e){var t=this.array.splice(e,1)[0];return this._raise("remove",{item:t,index:e}),t},remove:function(e){var t=this.array.indexOf(e);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:e,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(e.extend({type:t},i)),this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},e.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=0,s=this.length;i<s;++i)e.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(e){var t,i,s,n;if("function"!=typeof e)throw new TypeError;for(t=[],i=arguments[1]||this,s=0;s<this.length;s++)n=this[s],e.call(i,n,s,this)&&t.push(n);return t},String.prototype.endsWith=String.prototype.endsWith||function(e){return this.slice(-e.length)===e},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},t.support||(t.support={}),t.support.stableSort=function(){for(var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(function(){return 0}),t=0;t<17;t++)if(t!==e[t])return!1;return!0}(),t.support.cors=e.support.cors,!e.support.cors&&window.XDomainRequest){var I=/^https?:\/\//i,O=/^get|post$/i,T=new RegExp("^"+location.protocol,"i"),D=/\/xml/i;e.ajaxTransport("text html xml json",function(e,t){if(e.crossDomain&&e.async&&O.test(e.type)&&I.test(t.url)&&T.test(t.url)){var i=null,n=(t.dataType||"").toLowerCase();return{send:function(o,r){i=new XDomainRequest,/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout),i.ontimeout=function(){r(500,"timeout")},i.onload=function(){var e,t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,o={code:200,message:"success"},a={text:i.responseText};try{if("json"===n)try{a.json=JSON.parse(i.responseText)}catch(e){o.code=500,o.message="parseerror"}else if("xml"===n||"text"!==n&&D.test(i.contentType)){(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1;try{e.loadXML(i.responseText)}catch(t){e=s}if(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)throw o.code=500,o.message="parseerror","Invalid XML: "+i.responseText;a.xml=e}}catch(e){throw e}finally{r(o.code,o.message,a,t)}},i.onerror=function(){r(500,"error",{text:i.responseText})},-1!=navigator.userAgent.indexOf("MSIE 9.0")&&(i.onprogress=function(){}),i.open(e.type,e.url),i.send(t.data)},abort:function(){i&&i.abort()}}}})}e.support.cors=!0,t.sortOrder={Ascending:"ascending",Descending:"descending"},t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"},l=function(e,t){t&&(e=d(e,t)),(window.setImmediate||window.setTimeout)(e,0)},t.support.enableLocalizedSort=!1;var P=function(e,i,s,n){return t.support.stableSort?t.support.enableLocalizedSort||"string"!=typeof t.pvt.getObject(i,e[0]||{})||s!==t.pvt.fnAscending&&s!==t.pvt.fnDescending||1!==n.filter(function(e){return"onSortBy"===e.fn}).length?e.sort(t.pvt.fnGetComparer(i,s)):L(e,i,s===t.pvt.fnDescending):t.mergeSort(e,i,s)},A=function(i,s){for(var n=e.grep(s,function(e){return"onGroup"==e.fn}),o=0;o<n.length;o++)if(t.getObject("fieldName",n[o].e)==i)return t.getObject("fn",n[o].e)},L=function(e,i,s){var n=Object.prototype.toString;Object.prototype.toString=-1===i.indexOf(".")?function(){return this[i]}:function(){return t.pvt.getObject(i,this)},e=e.sort(),Object.prototype.toString=n,s&&e.reverse()},j=function(e){return e?e.toLowerCase?e.toLowerCase():e.toString().toLowerCase():0===e||!1===e?e.toString():""},E=function(e,i,s){return i?t.pvt.getObject(i,e[s]):e[s]},N=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&1===e.nodeType&&"object"==typeof e&&"string"==typeof e.nodeName},M=function(e,t){return e instanceof t},B=function(e,i,s,n){return function(o){return"object"==typeof o&&(n=o,o=null),new t.TableModel(o||e,i,s,n)}},R=function(t){return function(i,s){var n,o,r,a,l;for((s=s||window.ko)||u("Knockout is undefined"),o=[],l=0;l<t.length;l++){for(r in n={},t[l])r.startsWith("_")||(n[r]=s.observable(t[l][r]));for(r in i)a=i[r],e.isPlainObject(a)?(a.owner||(a.owner=n),a=s.computed(a)):a=s.computed(a,n),n[r]=a;o.push(n)}return s.observableArray(o)}},U=0,W=function(e){return e+(U+=1)};t.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(e,i){if("crypto"in window&&"getRandomValues"in crypto){var s=new Uint8Array(1);window.crypto.getRandomValues(s),t=s[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===i?3&t|8:t]})},c=function(e,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),e.apply(t||this,i)}},d=function(e,t,i){return"bind"in e?i?e.bind(t,i):e.bind(t):function(){var s=i?[i]:[];return s.push.apply(s,arguments),e.apply(t||this,s)}},t.merge=function(e,t){e&&t&&Array.prototype.push.apply(e,t)},h=function(e){return e===s||null===e},u=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}}}(window.jQuery,window.Syncfusion,window.document)}),
/*!
*  filename: ej.scroller.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){(function(e,t,i,s){"use strict";t.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:t.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content="horizontal"===this.model.orientation?this.element.find(".e-hhandle"):this.element.find(".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal?this.element.addClass("e-hscrollbar"):this.element.addClass("e-vscrollbar"),(0!==this.value()||0!==this.model.minimum)&&(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){e.fn.jquery;this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(e){for(var t in e){if("value"!==t){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(t,i,s,n){var o,r={};e.fn.jquery;return r.dimension=t,r.xy=i,r.position=s,r.css=n,r.uDimension=t,this._calculateLayout(r),this._createLayout(r),o=this[r.main].find(".e-button"),this._off(o,"mousedown")._on(o,"mousedown",{d:r,step:1},this._spaceMouseDown),this._off(this[r.scroll],"mousedown")._on(this[r.scroll],"mousedown",{d:r},this._spaceMouseDown),this._off(this[r.handler],"mousedown touchstart")._on(this[r.handler],"mousedown touchstart",{d:r},this._mouseDown),r},_createLayout:function(i){var s,n="<div class='"+i.css+"{0}' style='"+i.dimension+":{1}px'>{2}</div>",o=e.fn.jquery,r={};r[i.dimension]=i.modelDim,s=t.buildTag("div."+i.css+"scroll e-box",String.format(n,"up e-chevron-up_01 e-icon e-box e-button",i.buttonSize)+String.format(n,"handlespace",i.handleSpace,String.format(n,"handle e-box e-pinch",i.handle))+String.format(n,"down e-chevron-down_01 e-icon e-box e-button",i.buttonSize),r),this.element.append(s),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),"1.7.1"===o||"1.7.2"===o?i.uDimension.toLowerCase():i.uDimension,this[i.handler]=this.element.find("."+i.handler),this[i.handler].css("transition","none"),this[i.scroll]=this[i.handler].parent(),this[i.main]=this[i.scroll].parent(),this[i.main].find(".e-button")["outer"+i.uDimension](i.buttonSize)},_calculateLayout:function(e){var i,n;e.scrollDim="scroll"+e.dimension,e.lPosition=e.position.toLowerCase(),e.clientXy="page"+e.xy,e.scrollVal="scroll"+e.position,e.scrollOneStepBy=this.model.smallChange,e.modelDim=this.model[e.dimension=e.dimension.toLowerCase()],e.handler=e.css+"handle",e.buttonSize=this.model.buttonSize,e.main=e.css+"scroll",e.scroll=e.css+"ScrollSpace",e.handleSpace=e.modelDim-2*e.buttonSize,e.scrollable=this.model.maximum-this.model.minimum,i=this.model.height,"horizontal"===this.model.orientation&&(i=this.model.width),e.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(i-2*this.model.buttonSize),n=!t.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),e.handle<20&&!n&&(e.handle=20),e.onePx=e.scrollable/(e.handleSpace-e.handle),e.fromScroller=!1,e.up=!0,e.vInterval=s},_updateLayout:function(e){this.element.height(this.model.height),this.element.width(this.model.width);var t=this.element.find("."+e.css+"handle"),i=this.element.find("."+e.css+"handlespace"),n="width"==e.dimension?t.css("left"):t.css("top"),o="width"==e.dimension?i.outerWidth():i.outerHeight();n!==s&&"auto"!==n&&(o>=e.handle+parseFloat(n)||(this.model.enableRTL?t.css("width"===e.dimension?"left":"top",parseFloat(o)-e.handle):t.css("width"===e.dimension?"left":"top",parseFloat(o)-e.handle>0?parseFloat(o)-e.handle:0))),this.element.find("."+e.css+"scroll").css(e.dimension,e.modelDim+"px").find(".e-button").css(e.dimension,this.model.buttonSize).end().find("."+e.css+"handlespace").css(e.dimension,e.handleSpace+"px").find("."+e.css+"handle").css(e.dimension,e.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(e,i,s,n){var o,r,a=this._scrollData;if(!s)if(this.model.orientation===t.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollLeft:e,originalEvent:n}))return}else if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollTop:e,originalEvent:n}))return;!this._scrollData.enableRTL||"mousemove"!=n&&"touchmove"!=n||"msie"==t.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=n&&"touchmove"!=n||"msie"!=t.browserInfo().name?this.value(e):this.value(-1*e):this.value(-a.scrollable+e),this.content().length>0&&(this.model.orientation===t.ScrollBar.Orientation.Horizontal?(e=(o=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(e-this.model.minimum)/this._scrollData.onePx?o:(e-this.model.minimum)/this._scrollData.onePx,this._scrollData.enableRTL&&("mousemove"==n||"touchmove"==n)&&"msie"!=t.browserInfo().name&&((e=o-e)>0&&(e*=-1)),this._scrollData.enableRTL&&("mousemove"==n||"touchmove"==n)&&"msie"==t.browserInfo().name&&(e=-e),this._scrollData.enableRTL&&e>0&&!this._scrollData._scrollleftflag&&(e=0),this._scrollData._scrollleftflag&&(e>0&&(e*=-1),this.value(e)),this.content()[0].style.left=e+"px",this._scrollData._scrollleftflag=!1):(e=(r=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(e-this.model.minimum)/this._scrollData.onePx?r:(e-this.model.minimum)/this._scrollData.onePx,this.content()[0].style.top=e+"px"))},_changeTop:function(e,t,i){var s,n;return e.dimension,n=(s=this.value())+t,e.step=t,e.enableRTL&&t<0||t>0&&!e.enableRTL?e.enableRTL?n<-1*this.model.maximum&&(n=-1*this.model.maximum):n>this.model.maximum&&(n=this.model.maximum):e.enableRTL?n>this.model.minimum&&(n=this.model.minimum):n<this.model.minimum&&(n=this.model.minimum),(n!==s||this.model.infiniteScrolling)&&this.scroll(n,i),n!==s},_mouseUp:function(i){if(i.data){var s=i.data.d;clearInterval(s.vInterval),"touchend"==i.type&&e(i.target).removeClass("e-touch"),"mouseup"!==i.type&&"touchend"!==i.type&&(i.toElement||i.relatedTarget||i.target)||(this._prevY=this._d=this._data=null,this._off(e(document),"mousemove touchmove",this._mouseMove),e(document).off("mouseup touchend",t.proxy(this._mouseUp,this)),s.fromScroller=!1,this[s.scroll].off("mousemove"),this[s.handler].off("mousemove").css("transition",""),"thumb"!==i.data.source||t.isNullOrUndefined(this.model)||e.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:i,scrollData:s})},this))),s.up=!0}},_mouseDown:function(i){this._enabled&&(this._d=i,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(e(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),e(document).one("mouseup touchend",{d:this._data,source:"thumb"},t.proxy(this._mouseUp,this)),"touchstart"==i.type&&e(i.target).addClass("e-touch"))},_mouseCall:function(e){e.type="mouseup",this._mouseUp(e)},_mouseMove:function(i){var s,n,o=0,r=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(i.preventDefault(),t.isNullOrUndefined(i.target.tagName)){if(e(i.target).is(document))return void this._mouseCall(i)}else if("iframe"===i.target.tagName.toLowerCase())return void this._mouseCall(i);n="mousemove"==i.type?i[this._data.clientXy]:i.originalEvent.changedTouches[0][this._data.clientXy],this._prevY&&n!==this._prevY&&(o=n-this._prevY,this.model.infiniteScrolling?(r+=o,this._data.step=o,(this._data.enableRTL?r>0:r<0)&&(r=0),r*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(r=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),s=Math.ceil(r*this._data.onePx),this.scroll(s,"thumb")):(s=o*this._data.onePx,this._changeTop(this._data,s,"thumb",this._d)),this._trigger("thumbMove",{originalEvent:i,scrollData:this._data})),this._prevY=n},_spaceMouseDown:function(i){var s,n,o;i.data&&this._enabled&&(s=i.data.d,1===i.which&&i.target!==this[s.handler][0])&&(n=i.data.step?this.model.smallChange:this.model.largeChange,o=i.data.top||this[s.handler].offset()[s.lPosition],i[s.clientXy]=i[s.clientXy]||0,i[s.clientXy]<o&&(n*=-1),s.target=i.target,this._changeTop(s,n,3===n?"track":"button",i),1!==i.data.step&&this[s.scroll].mousemove(function(){s.up=!0}),s.up=!1,s.vInterval=setInterval(t.proxy(function(){(n<0?o+n/s.onePx<i[s.clientXy]:o+s.handle+n/s.onePx>i[s.clientXy])&&(s.up=!0),s.up?clearInterval(s.vInterval):(this._changeTop(s,n,3===n?"track":"button",i),o=i.data&&i.data.top||this[s.handler].offset()[s.lPosition])},this),150),e(document).one("mouseup",{d:s},t.proxy(this._mouseUp,this)),e(document).mouseout({d:s},t.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===t.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),t.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}})(jQuery,Syncfusion,window),function(e,t,i,s){"use strict";t.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:s,enableTouchScroll:!0,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:t.util.valueFunction("scrollTop"),scrollLeft:t.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){t.isNullOrUndefined(this.content()[0])||(this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=t.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this.model.enableRTL===s&&(this.model.enableRTL="rtl"===this.element.css("direction")),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),(this._prevScrollWidth!==this.content()[0].scrollWidth||this._prevScrollHeight!==this.content()[0].scrollHeight)&&this.refresh()),this._addActionClass()},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):e(this.content()[0]).height("")),t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):e(this.content()[0]).width(""))},_setScrollLeftValue:function(e){this.model.enableRTL&&(e="mozilla"==t.browserInfo().name?e<0?e:-1*e:!t.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==t.browserInfo().name||this._rtlScrollLeftValue>0)?e<0?this._rtlScrollLeftValue+e:this._rtlScrollLeftValue-e:Math.abs(e)),this.content().scrollLeft(e)},_ensureScrollers:function(){var s,n,o,r,a,l=e.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),this.content().length>0&&(this.isVScroll()?(this._vScrollbar||(this._vScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Vertical,this.isHScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._hScrollbar||(this._hScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Horizontal,this.isVScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),this.element.find(".e-hscroll").length>0||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),"1.7.1"===l||"1.7.2"===l?(s="height",n="width"):(s="outerHeight",n="outerWidth"),r=(o=this._exactElementDimension(this.element)).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[s](r-(this._hScroll&&!this.model.autoHide?this.model.scrollerSize:0)),a=o.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[n](a-(this._vScroll&&!this.model.autoHide?this.model.scrollerSize:0)),isNaN(this._eleWidth)&&this._eleWidth.indexOf("%")>0&&isNaN(this._eleHeight)&&this._eleHeight.indexOf("%")>0&&e(i).on("resize",e.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=e(this.element).parent().height(),this._parentWidth=e(this.element).parent().width())},_convertPercentageToPixel:function(e,t){return Math.floor(e*t/100)},isHScroll:function(){if(t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")){if(this.model.width>0){var i=this.content().find(this.model.targetPane);return null!=this.model.targetPane&&i.length?i[0].scrollWidth+i.siblings().width()>this.model.width:this.content()[0].scrollWidth>this.model.width||this.content()[0].scrollWidth==this.model.width&&e(this.content()[0]).find("> *").length>0&&e(this.content()[0]).find("> *")[0].scrollWidth>this.model.width}return!1}return this.content()[0].scrollWidth>this.element.width()},isVScroll:function(){return t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(this.model.height>0&&(this.content()[0].scrollHeight>this.model.height||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(e){for(var i in e)if("enableRTL"===i)e[i]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));else if("scrollLeft"===i)(parseFloat(e[i])<0||!this._hScroll)&&(e[i]=0),this._externalCall=!0,this._hScrollbar&&(e[i]=parseFloat(e[i])>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e[i])),this._setScrollLeftValue(parseFloat(e[i])),this.scrollLeft(e[i]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(e[i]);else if("scrollTop"===i)this._vScrollbar&&(e[i]=parseFloat(e[i])>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e[i])),(parseFloat(e[i])<0||!this._vScroll)&&(e[i]=0),this._externalCall=!0,this.content().scrollTop(parseFloat(e[i])),this.scrollTop(e[i]),this.scrollY(e[i]);else if("touchScroll"===i)this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");else if("scrollOneStepBy"===i)this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=e[i],this._vScrollbar.model.smallChange=e[i]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=e[i],this._hScrollbar.model.smallChange=e[i]);else{if("buttonSize"!==i){"height"===i&&(this._eleHeight=e[i]),"width"===i&&(this._eleWidth=e[i]),this.refresh();break}this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh()}},_createScrollbar:function(i,s){var n,o,r,a,l,c,d,h=this,u=document.createElement("div");return i===t.ScrollBar.Orientation.Vertical?(o=this.model.scrollerSize,r=n=t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(s?this.model.scrollerSize:0):this.element.height()-(s?this.model.scrollerSize:0),a=this.content()[0].scrollHeight,l=this.scrollTop()):(o=n=this.model.width-(s?this.model.scrollerSize:0),r=this.model.scrollerSize,t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(c=this.content().find(this.model.targetPane),a=null!=this.model.targetPane&&c.length?c[0].scrollWidth+c.parent().width()-c.width():this.content()[0].scrollWidth):(o=n=this.element.width()-(s?this.model.scrollerSize:0),a=this.content()[0].scrollWidth),l=this.scrollLeft()),this.element.children(".e-hscrollbar").length>0?e(this.element.children(".e-hscrollbar")).before(u):this.element.append(u),e(u).ejScrollBar({elementHeight:h._eleHeight,elementWidth:h._eleWidth,buttonSize:h.model.buttonSize,orientation:i,viewportSize:n,height:r,width:o,maximum:a-n,value:l,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:t.proxy(this._scrollChanged,this),thumbEnd:t.proxy(this._thumbEnd,this),thumbStart:t.proxy(this._thumbStart,this),thumbMove:t.proxy(this._thumbMove,this)}),d=e(u).ejScrollBar("instance"),i!==t.ScrollBar.Orientation.Vertical&&s||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:d._scrollData},this._mouseWheel),i===t.ScrollBar.Orientation.Horizontal?this._scrollXdata=d._scrollData:this._scrollYdata=d._scrollData,i===t.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(d._scrollData.enableRTL=!0),d._enabled=this.model.enabled,d},_updateScrollbar:function(i,s){var n=i===t.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;n&&(i===t.ScrollBar.Orientation.Vertical?(n.model.width=this.model.scrollerSize,n.model.height=n.model.viewportSize=this.model.height-(s?this.model.scrollerSize:0),n.model.maximum=this.content()[0].scrollHeight-n.model.viewportSize,n.model.value=this.scrollTop()):(n.model.width=n.model.viewportSize=this.model.width-(s?this.model.scrollerSize:0),n.model.height=this.model.scrollerSize,n.model.maximum=(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length>0?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-e(this.model.targetPane).outerWidth()):this.content()[0].scrollWidth)-n.model.viewportSize,this.model.enableRTL||(n.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").hide()):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_scrollChanged:function(i){this._updateScroll=!0,i.scrollTop!==s?this.scrollY(i.scrollTop,!0,"",i.source):i.scrollLeft!==s&&this.scrollX(i.scrollLeft,!0,"",i.source),this._updateScroll=!1;var n=this;e.when(this.content()).done(t.proxy(function(){n._trigger("scrollEnd",{scrollData:i})}))},_bindBlurEvent:function(s,n){this._scrollEle=e(s).data("ejScrollBar"),this._event=n;this._listener=function(){this._scrollEle._off(e(document),"mousemove touchmove",this._scrollEle._mouseMove),e(document).off("mouseup touchend",t.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(e(document),"mousemove touchmove",this._mouseMove),this._off(e(document),"mouseup touchend",this._mouseUp),this._off(e(i),"blur"),this._evtData.handler,this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(e(i),"blur",this._listener)},_thumbStart:function(e){this._evtData=e.scrollData;var t=(e.scrollData.handler,this.element.find("."+e.scrollData.handler).closest(".e-scrollbar"));e.scrollData.handler,t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");this._bindBlurEvent(t,e),this._trigger("thumbStart",e)},_thumbMove:function(e){this._trigger("thumbMove",e)},_thumbEnd:function(t){this._trigger("thumbEnd",t),this._off(e(i),"blur")},refresh:function(i){var s,n;i||this.element.find(">.e-content").removeAttr("style"),t.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==e(this.element).parent().height()||(s=(s=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),s)),t.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==e(this.element).parent().width()||(s=(s=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),s)),this._ensureScrollers(),n=this.scrollLeft(),this.model.enableRTL?(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),n>0?this.content().scrollLeft(n):this._setScrollLeftValue(n)):this.content().scrollLeft(n),(this.scrollTop()&&null==this._vScrollbar||null!==this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(t.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData)),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(t.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData)),"msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(e){var t,i,s,n=e.get(0).getBoundingClientRect(),o=["left","right","top","bottom"];for(t=n.width?n.width:n.right-n.left,i=n.height?n.height:n.bottom-n.top,s=0;s<o.length;s++)this["border_"+o[s]]=isNaN(parseFloat(e.css("border-"+o[s]+"-width")))?0:parseFloat(e.css("border-"+o[s]+"-width")),this["padding_"+o[s]]=isNaN(parseFloat(e.css("padding-"+o[s])))?0:parseFloat(e.css("padding-"+o[s]));return{width:t,height:i}},_keyPressed:function(e,i){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(i.tagName.toLowerCase()))return!0;var s,n;if(-1!==["up","down","pageUp","pageDown"].indexOf(e))this._vScrollbar&&("msie"==t.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),s=this._vScrollbar._scrollData),n="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(e))return!0;this._hScrollbar&&(s=this._hScrollbar._scrollData),n="i"}return!s||!this._changeTop(s,(e.indexOf(n)<0?-1:1)*("p"!==e[0]?1:3)*s.scrollOneStepBy,"key")}},scrollY:function(e,i,s,n,o){if(""!==e){if(i){o={source:n||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o};if(this._trigger("scroll",o))return;return e=o.scrollTop,this.scrollTop(e),void this.content().scrollTop(e)}(t.isNullOrUndefined(s)||""===s)&&(s=100),this._vScrollbar&&(e=parseFloat(e)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e)),this.scrollTop(e),this.content().stop().animate({scrollTop:e},s,"linear"),this._trigger("scroll",{source:n||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o})}},scrollX:function(e,i,s,n,o){var r;if(""!==e){if(this._hScrollbar&&(e=parseFloat(e)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e)),this._externalCall=!0,r=t.browserInfo().name,this.model.enableRTL&&"mozilla"!=r&&(e<0&&(e=Math.abs(e)),null!=this.model.targetPane?this.content().find(this.model.targetPane)[0]:this.content()[0],"mousemove"!=o&&"touchmove"!=o&&"msie"!=r&&"msie"!=r&&(e=this._hScrollbar._scrollData.scrollable-e)),this.scrollLeft(e),i){if(this._trigger("scroll",{source:n||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o}))return;return void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).scrollLeft(e):this.content().scrollLeft(e))}(t.isNullOrUndefined(s)||""===s)&&(s=100),null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).stop().animate({scrollLeft:e},s,"linear"):this.content().stop().animate({scrollLeft:e},s,"linear"),this._trigger("scroll",{source:n||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})}},enable:function(){var e=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");e.hasClass("e-disable")&&(e.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(e,i,s,n){var o,r=null!=this.model.targetPane&&"height"!=e.dimension?this.content().find(this.model.targetPane)[e.scrollVal]():this.content()[e.scrollVal]();return"height"==e.dimension&&0==r&&(r=0!=this.scrollTop()?this.scrollTop():0),o=r+i,(e.enableRTL?o<e.scrollable:o>e.scrollable)&&(o=e.scrollable),(e.enableRTL?o>0:o<0)&&(o=0),o!==r&&(this["scroll"+e.xy](o,!0,"",s,n),"X"!==e.xy||t.isNullOrUndefined(this._hScrollbar)?t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(o,s,!0,n):this._hScrollbar.scroll(o,s,!0,n)),o!==r},_mouseWheel:function(t){var s;if((this._vScrollbar||t.shiftKey)&&t.data&&this.model.enabled){var n,o=0,r=t.data.d,a=t;if(t=t.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:t,scrollData:a.data.d}),this._wheelStart=!1,clearTimeout(e.data(this,"timer")),1!=this._wheelx&&(0==t.wheelDeltaX||0==t.wheelDeltaY)&&(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?t.axis==t.HORIZONTAL_AXIS?r=this._scrollXdata:this._scrollYdata:"msie"==this._browser?("wheel"==t.type&&(o=t.deltaX/120),"mousewheel"==t.type&&t.shiftKey&&(r=this._scrollXdata,t.preventDefault?t.preventDefault():t.returnValue=!1)):this._wheelx&&0!=t.wheelDeltaX&&0==t.wheelDeltaY&&this._scrollXdata&&(r=this._scrollXdata),0==t.wheelDeltaX&&(this._wheelx=t.wheelDeltaX),t.wheelDelta?(o=0==navigator.platform.indexOf("Mac")?-t.wheelDelta/3:-t.wheelDelta/120,i.opera&&parseFloat(i.opera.version,10)<10&&(o=-o)):t.detail&&(o=t.detail/3),o&&(a.originalEvent&&(n=a.originalEvent.wheelDelta&&a.originalEvent.wheelDelta>0||a.originalEvent.detail&&a.originalEvent.detail<0?-1:1),this._changeTop(r,o*r.scrollOneStepBy,"wheel",t)?(t.preventDefault?t.preventDefault():a.preventDefault(),a.stopImmediatePropagation(),a.stopPropagation(),this._trigger("wheelMove",{originalEvent:t,scrollData:a.data.d,direction:n})):(this._trigger("scrollEnd",{originalEvent:t,scrollData:a}),this._wheelx=0),s=this,e.data(this,"timer",setTimeout(function(){s._wheelStart=!0,s._trigger("wheelStop",{originalEvent:t,scrollData:a.data.d,direction:n})},250)))}},_scrollerHover:function(e){"mouseenter"!=e.type&&"touchstart"!=e.type||this.content().siblings().is(":visible")?("mouseleave"==e.type||"touchend"==e.type)&&this.content().siblings().hide():this.content().siblings().css("display","block")},_mouseUp:function(s){if(s.data){var n=s.data.d;"mouseup"!==s.type&&"touchend"!==s.type&&(s.toElement||s.relatedTarget)||(this.content().css("cursor","default"),this._off(e(document),"mousemove touchmove"),this._off(e(document),"mouseup touchend",this._mouseUp),n.fromScroller=!1,!0!==this._mouseMoved||"thumb"!==s.data.source||t.isNullOrUndefined(this.model)||(e.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:s,scrollData:n})},this)),this._off(e(i),"blur"))),n.up=!0}},_mouseDownOnContent:function(n){var o,r;if(this._velocity=0,this.model.enabled&&(o=n.data.d,this._evtData=n.data,this._startX=n.clientX!=s?n.clientX:n.originalEvent.changedTouches[0][o.clientXy],this._startY=n.clientY!=s?n.clientY:n.originalEvent.changedTouches[0][o.clientXy],this._timeStart=n.timeStamp||Date.now(),o.handler,r=this.element.find("."+o.handler).closest(".e-scrollbar"),this._bindBlurEvent(r,n),!this._trigger("thumbStart",{originalEvent:n,scrollData:o}))&&(3!=n.which||2!=n.button)){o.fromScroller=!0;var a,l=null,c=1;this._document=e(document),this._window=e(i),this._mouseMove=function(e){var i,n,r;if(this._relDisX=(this._startx=e.clientX!=s?e.clientX:e.originalEvent.changedTouches[0][o.clientXy])-this._startX,this._relDisY=(this._starty=e.clientY!=s?e.clientY:e.originalEvent.changedTouches[0][o.clientXy])-this._startY,this._duration=(e.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,e.preventDefault(),"iframe"===e.target.tagName.toLowerCase())return e.type="mouseup",void this._mouseUp(e);if(i="mousemove"==e.type?e[o.clientXy]:e.originalEvent.changedTouches[0][o.clientXy],l&&i!==l&&(this._mouseMoved=!0,n=i-l,r=this.model[o.scrollVal]-n,1==c&&Math.abs(n)>5&&(a=o.position,c=0),0==c&&(l=i),r>=0&&r<=o.scrollable&&a===o.position)){var d=this._velocityY>.5&&this._duration<50&&"Top"==o.position,h=this._velocityX>.5&&this._duration<50&&"Left"==o.position;(this._velocityY>.5||this._velocityX>.5)&&this._duration<50?d?(r=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(r+=this.scrollTop())>o.scrollable&&(r=o.scrollable):r<this.scrollTop()&&(r=Math.abs(r-this.scrollTop())),this.scrollTop()<=o.scrollable&&this.scrollY(r,!1,this.model.animationSpeed,"thumb")):h&&(r=Math.abs(this._relDisX),this._startX>this._startx?(r+=this.scrollLeft())>o.scrollable&&(r=o.scrollable):(r-=this.scrollLeft(),((r=Math.abs(r))>o.scrollable||r>=this.scrollLeft())&&(r=0)),this.scrollLeft()<=o.scrollable&&this.scrollX(r,!1,this.model.animationSpeed,"thumb")):(this["scroll"+o.xy](r,!0,"","thumb",e.type),"X"===o.xy?this._hScrollbar.scroll(r,"thumb",!0,e.type):t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(r,"thumb",!0,e.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:e,scrollData:o}))}null==l&&(l=i)},this._on(e(document),"mousemove touchmove",{d:o,source:"thumb"},this._mouseMove),this._mouseMoved=!1,this._on(e(document),"mouseup touchend",{d:o,source:"thumb"},this._mouseUp)}},_scroll:function(e){for(var i,s,n=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null],o=0;o<2;o++)if((i=n[o])&&!i.skipChange){if(this._externalCall||("height"===i.dimension?this.scrollTop(e.target[i.scrollVal]):this.scrollLeft(e.target[i.scrollVal])),i.sTop=this.model&&null!=this.model.targetPane&&1==o&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][i.scrollVal]:"scrollTop"==i.scrollVal?this.scrollTop():this.scrollLeft(),this[i.scrollVal](i.sTop),i.fromScroller)return;1===o?(s=this.content()[0],this._rtlScrollLeftValue&&s.scrollWidth-s.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=s.scrollWidth-s.clientWidth),i.sTop=this.model&&"mozilla"!=t.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*i.sTop:i.sTop-this._rtlScrollLeftValue:i.sTop,this._hScrollbar.scroll(i.sTop,"",!0)):this._vScrollbar.scroll(i.sTop,"",!0),(2==n.length&&1==o||1==n.length&&0==o)&&(this._externalScroller=!1)}},_changevHandlerPosition:function(e){var t=this._vScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&e>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_changehHandlerPosition:function(e){var t=this._hScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&top>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""})}})}(jQuery,Syncfusion,window)}),
/*!
*  filename: ej.autocomplete.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.scroller.min"],e):e()}(function(){!function(e,t,i){t.widget("ejAutocomplete","ej.Autocomplete",{element:null,model:null,validTags:["input"],_ignoreOnPersist:["fields","dataSource","query","focusIn","focusOut","change","select","create","destroy","open","close","actionComplete","actionSuccess","actionFailure"],_setFirst:!1,_rootCSS:"e-autocomplete",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{dataSource:null,query:null,fields:{text:null,key:null,category:null,groupBy:null,htmlAttributes:null},locale:"en-US",template:null,allowGrouping:!1,enableDistinct:!1,allowSorting:!0,sortOrder:"ascending",htmlAttributes:{},multiSelectMode:"none",delimiterChar:",",allowAddNew:!1,addNewText:"Add New",showRoundedCorner:!1,readOnly:!1,cssClass:"",watermarkText:null,value:"",selectValueByKey:null,filterType:"startswith",caseSensitiveSearch:!1,showLoadingIcon:!0,showResetIcon:!1,itemsCount:0,minCharacter:1,delaySuggestionTimeout:200,showPopupButton:!1,highlightSearch:!1,enableAutoFill:!1,enableRTL:!1,enabled:!0,visible:!0,height:"",width:"",emptyResultText:"No suggestions",animateType:"slide",showEmptyResultText:!0,enablePersistence:!1,popupHeight:"152px",popupWidth:"auto",autoFocus:!1,multiColumnSettings:{enable:!1,showHeader:!0,stringFormat:"{0}",columns:[{field:null,headerText:null,textAlign:"left",headerTextAlign:"left",cssClass:"",type:"string",filterType:"startswith"}]},validationRules:null,validationMessage:null,focusIn:null,focusOut:null,change:null,select:null,create:null,open:null,close:null,destroy:null,actionBegin:null,actionComplete:null,actionSuccess:null,actionFailure:null},dataTypes:{autoFocus:"boolean",watermarkText:"string",locale:"string",cssClass:"string",filterType:"enum",caseSensitiveSearch:"boolean",showLoadingIcon:"boolean",template:"string",allowGrouping:"boolean",enableDistinct:"boolean",allowSorting:"boolean",sortOrder:"enum",allowAddNew:"boolean",addNewText:"string",showRoundedCorner:"boolean",showResetIcon:"boolean",readOnly:"boolean",itemsCount:"number",animateType:"enum",minCharacter:"number",showPopupButton:"boolean",highlightSearch:"boolean",enableAutoFill:"boolean",enableRTL:"boolean",multiSelectMode:"enum",delimiterChar:"string",emptyResultText:"string",showEmptyResultText:"boolean",enabled:"boolean",visible:"boolean",enablePersistence:"boolean",dataSource:"data",query:"data",fields:"data",validationRules:"data",validationMessage:"data",htmlAttributes:"data",multiColumnSettings:"data"},observables:["value","selectValueByKey"],value:t.util.valueFunction("value"),_selectValueByKey:t.util.valueFunction("selectValueByKey"),enable:function(){this.model.enabled||(this.model.enabled=!0,this.target.disabled=!1,this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.removeAttr("disabled"),this.model.showPopupButton&&this.dropdownbutton.removeClass("e-disable").attr({"aria-disabled":!1}),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable").attr({"aria-disabled":!1}))},disable:function(){this.model.enabled&&(this._hideResult(),this.model.enabled=!1,this.target.disabled=!0,this.element.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.model.showPopupButton&&this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),"visualmode"==this.model.multiSelectMode&&this._ulBox&&this._ulBox.addClass("e-disable").attr({"aria-disabled":!0}))},clearText:function(){"visualmode"==this.model.multiSelectMode&&this._deleteBox(this._ulBox.children("li")),this.element.val(""),this._valueChange(),this._isFocused?this.element.blur():this._focusOutAction(),this._hideResult()},getValue:function(){var e=this.value();return null==e?"":e},getSelectedItems:function(){return this._isFocused&&"visualmode"!=this.model.multiSelectMode&&this._updateSelectedItemArray(this.getValue()),this._selectedItems},_setValue:function(i){var s,n,o;if(this._isWatermark||this._hiddenSpan.css("display","none"),("object"==typeof i||"number"==typeof i&&isNaN(i)||""==e.trim(i))&&(i=""),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(""),this.element.val(""),i)if("visualmode"==this.model.multiSelectMode)if(this._selectedItems=[],this._modelValue=i,this._deleteBox(this._ulBox.children("li")),s=i.split(this.model.delimiterChar),this.element.width(1).val("").removeAttr("placeholder"),this._hiddenInput||(this._hiddenInput=t.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden",name:this.element.attr("name")}).insertBefore(this.element)),t.DataManager&&this.model.dataSource instanceof t.DataManager)this._createBoxForObjectType(s);else if(this.suggestionListItems=this.model.dataSource,this.suggestionListItems&&"object"!=typeof this.suggestionListItems[0])for(this._hiddenInput.val(i),n=0,o=s.length;n<o;n++)s[n]&&(this._ulBox.append(this._createBox(s[n])),this._selectedItems.push(s[n]));else this._createBoxForObjectType(s);else this.element.val(i),this._updateSelectedItemArray(i);return"visualmode"!=this.model.multiSelectMode&&this.value(this.element.val()),this._preVal=this.element.val(),this._isWatermark||this._setWatermarkTxt(),i},_createBoxForObjectType:function(i){for(var s,n=this,o=this._declareVariable(),r=0,a=i.length;r<a;r++)""!=(s=e.trim(i[r]))&&(t.DataManager&&this.model.dataSource instanceof t.DataManager?(this._dataQuery=this._getQuery().where(o[0],"equal",s,!1),this._promise=this.model.dataSource.executeQuery(this._dataQuery),this._promise.done(function(e){var i=e.result;n._strData=i instanceof Array&&i.length?i[0]:s,t.isNullOrUndefined(n._strData[o[1]])||n._selectKeyInit(),n._selectedItems.push(n._strData)}).fail(function(){n._selectedItems.push(s)})):(this._dataQuery=t.Query().where(o[0],"equal",s,!1),this._promise=t.DataManager(this.suggestionListItems).executeLocal(this._dataQuery),this._strData=this._promise instanceof Array&&this._promise.length?this._promise[0]:s,t.isNullOrUndefined(this._strData[o[1]])||this._selectKeyInit(),this._selectedItems.push(this._strData)),"visualmode"==this.model.multiSelectMode&&this._ulBox.append(this._createBox(s)))},_selectKeyInit:function(){var e,i=this._declareVariable();delimiterChar=this._delimiterChar(),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(this._hiddenInput.val()+(t.isNullOrUndefined(this._strData[i[1]]||this._strData[i[0]])?"":(this._strData[i[1]]||this._strData[i[0]])+this.model.delimiterChar)),t.isNullOrUndefined(this._strData[i[1]])||("none"!=this.model.multiSelectMode?(e=(e=null!=this._selectValueByKey()?this._selectValueByKey()+this._strData[i[1]]+delimiterChar:this._strData[i[1]]+delimiterChar).split(delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),this._selectValueByKey(e.join(delimiterChar))):this._selectValueByKey(this._strData[i[1]]))},_declareVariable:function(){var e=this.model.fields,i={_key:null,_text:null,_attr:null},s=[];if(!t.isNullOrUndefined(e))return i._text=e&&e.text?e.text:"text",i._key=e&&e.key?e.key:"key",s.push(i._text,i._key),s},selectValueByKey:function(t){var i,s=this;t=t.toString(),i="none"!=this.model.multiSelectMode?t.split(this.model.delimiterChar):t.split(","),"[object Array]"===Object.prototype.toString.call(i)&&e.each(i,function(t,i){s._setOperation(e.trim(i),"key")})},selectValueByText:function(e){this._setOperation(e,"text")},setValue:function(e){this._setText(e)},_setOperation:function(e,i){var s,n,o,r="",a=this,l=this.model.dataSource;if(t.isNullOrUndefined(l))return!1;if("object"==typeof l[0]||l instanceof t.DataManager)r=(o=this.model.fields)&&o[i]?o[i]:i;else if("key"==i)return!1;if(t.DataManager&&l instanceof t.DataManager)n=this._getQuery().where(r,"equal",e,!this.model.caseSensitiveSearch),(s=l.executeQuery(n)).done(function(e){a._setText(e.result[0])});else{if(!l||!l.length||l.length<1)return!1;n=t.Query().where(r,"equal",e,!this.model.caseSensitiveSearch),s=t.DataManager(l).executeLocal(n),this._setText(s[0])}},_setText:function(e){var t,i,s;if(!e)return!1;if(i=this.model.fields,t="object"==typeof this.model.dataSource[0]||"object"==typeof e?"string"==typeof e?e:i&&i.text?e[i.text]:e.text:e){if("visualmode"==this.model.multiSelectMode&&this._removeDuplicates(e))return!1;this._valueToTextBox(t,e,!0),s="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val(),this.value(s),this.model.showResetIcon&&this._showReset()}},_textFormateString:function(e){var i,s,n=this.model.multiColumnSettings.stringFormat;if(this._columnsIndex(),t.isNullOrUndefined(e)||"object"!=typeof e)n=t.isNullOrUndefined(e)||"object"==typeof e?this._currList[this._activeItem-1]:n.replace("{"+this._columnIndex[0]+"}",e);else for(i=0,s=this._columnIndex.length;i<s;i++)n=n.replace("{"+this._columnIndex[i]+"}",e[this.model.multiColumnSettings.columns[parseInt(this._columnIndex[i])].field]);return n},_columnsIndex:function(){var t=this;this._columnIndex=[],e.each(this.model.multiColumnSettings.stringFormat.match(/\{.+?\}/g),function(e,i){t._columnIndex[e]=i.slice(1,-1)})},_valueToTextBox:function(e,i,s){var n,o,r;!this._addNewTemplate&&this.model.multiColumnSettings.enable&&"string"!=typeof i&&(e=this._textFormateString(i)),"visualmode"==this.model.multiSelectMode?(i="string"==typeof i&&this._addNewTemplate&&i.substr(i.length-this._addNewTemplate.length)==this._addNewTemplate?i.replace(this._addNewTemplate,""):i,n=e.indexOf(this._addNewTemplate),this._addNewTemplate&&(e=e.substr(0,e.length-this._addNewTemplate.length)),r=this.model.delimiterChar,o=(o=this._getUniqueKey())||(this.model.fields&&this.model.fields.key?i[this.model.fields.key]:t.isNullOrUndefined(i.key)?o:i.key),(!(this._selectValueByKey()==o||null==o)||n>-1)&&this._selectValueByKey(null!=this._selectValueByKey()?this._selectValueByKey()+(n>-1?e:o)+r:(n>-1?e:o)+r),(!(this._hiddenInput.val()==o||null==o)||n>-1)&&this._hiddenInput.val(this._hiddenInput.val()+(o||e)+r),this._modelValue=t.isNullOrUndefined(this.value())?e+r:this.value()+e+r,this.element.val("").removeAttr("placeholder").width(1),this._ulBox.append(this._createBox(e)),this._addNewTemplate=null):"delimiter"==this.model.multiSelectMode?(r=this.target.value.lastIndexOf(this.model.delimiterChar),this._typed||""==this.element.val()||s||!this.model.showPopupButton?s?this.element.val(""==this.element.val()?e+this.model.delimiterChar:this.element.val()+e+this.model.delimiterChar):-1==r?this.element.val(this._queryString.substr(0,r+1)+e+this.model.delimiterChar):this.element.val(this._queryString.substr(0,r+this.model.delimiterChar.length)+e+this.model.delimiterChar):!this.model.enableAutoFill||this.showSuggestionBox?this._checkDeli()?this.element.val(this._queryString.substr(0,r)+this.model.delimiterChar+e+this.model.delimiterChar):this.element.val(this.element.val()+this.model.delimiterChar):this._checkDeli()||this.element.val(this.element.val()+this.model.delimiterChar),this._typed=!1):(this.element.val(e),this._selectedItems=[]),this._selectedItems.push(i),this._originalval.push(e),this._moveCaretToEnd(this.element[0])},_removeDuplicates:function(e){return 0!=this._selectedItems.length&&(-1!=this._selectedItems.indexOf(e)||void 0)},search:function(){this.model.enabled&&this._checkDelimiter()&&(this._hideResult(),this._autoFill=!1,this._queryString=e.trim(this._queryString),this._queryString.length>0&&this._OnTextEnter())},setVisible:function(e){e?this.wrapper.show():this.wrapper.hide()},hide:function(){this._hideResult()},open:function(){this._showFullList()},_changeWatermark:function(e){this._isWatermark?this.element.attr("placeholder",e):this._hiddenSpan.text(e)},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.suggestionList.removeClass(this.model.cssClass).addClass(e)},_setDropdown:function(e){this.model.showPopupButton=e,e?this._renderDropdown():this._destroyDropdown()},_changeHeight:function(e){this.wrapper.height(e)},_changeWidth:function(e){this.wrapper.width(e),this._setListWidth()},_setCulture:function(){this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.addNewText)||(this._localizedLabels.addNewText=this._options.addNewText),t.isNullOrUndefined(this._options.emptyResultText)||(this._localizedLabels.emptyResultText=this._options.emptyResultText)),this.model.addNewText=this._localizedLabels.addNewText,this.model.emptyResultText=this._localizedLabels.emptyResultText},_init:function(e){if(this._options=e,this._setCulture(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this.model.fields.groupBy=this.model.fields.groupBy?this.model.fields.groupBy:this.model.fields.category,this._initialize(),this._render(),this._wireEvents(),this.initialRender=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation())},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,n,o,r;if(this.model.validationRules)for(n in(i="visualmode"==this.model.multiSelectMode?this._hiddenInput:this.element).rules("add",this.model.validationRules),s=(s=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=i.attr("name"),s.settings.messages[name]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[n])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[n]))for(r in s.settings.messages[name][n]=e.validator.messages[n],this.model.validationMessage)n==r&&(o=this.model.validationMessage[n]);else o=this.model.validationRules.messages[n];s.settings.messages[name][n]=null!=o?o:e.validator.messages[n]}},_removeDuplicateValue:function(e){return e.split(this.model.delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]).join(this.model.delimiterChar)},_delimiterChar:function(){return"none"!=this.model.multiSelectMode?this.model.delimiterChar:""},_setModel:function(e){var i,s,n,o,r,a,l;for(i in e){switch(i){case"dataSource":this.model.dataSource=null;break;case"watermarkText":this._changeWatermark(e[i]);break;case"delaySuggestionTimeout":this.model.delaySuggestionTimeout=parseInt(e[i]);break;case"value":deli=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(l=e[i].substr(e[i].length-deli.length)==deli?e[i]:e[i]+deli,e[i]=""==e[i]?this.value():(this.value()?this.value():"")+l,"visualmode"==this.model.multiSelectMode&&(e[i]=e[i].split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),e[i]=e[i].join(deli))),this.value(this._setValue(e[i])),this._modelValue=this.value(),s="visualmode"==this.model.multiSelectMode?this._hiddenInput.val():this.element.val(),this._changeEvtTrigger(s),this.model.showResetIcon&&this._showReset();break;case"showPopupButton":this._setDropdown(e[i]);break;case"enableRTL":this._RightToLeft(e[i]);break;case"showRoundedCorner":this._setRoundedCorner(e[i]);break;case"readOnly":this._checkReadOnly(e[i]);break;case"delimiterChar":n=this.model.delimiterChar,e[i]=this._validateDelimiter(e[i]),this.model.delimiterChar=e[i],this.element.val(this.value().replace(new RegExp(n,"g"),this.model.delimiterChar)),this.value(this.element.val());break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[i],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[i],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"locale":t.Autocomplete.Locale[e[i]]?(this.model.locale=e[i],this._setCulture()):e[i]=this.model.locale;break;case"filterType":for(a in o=[],t.filterType)t.filterType.hasOwnProperty(a)&&o.push(t.filterType[a]);o.indexOf(e[i])>-1?this.model.filterType=e[i]:e[i]=this.model.filterType;break;case"multiSelectMode":this.model.multiSelectMode=e[i],r=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(a=this._selectValueByKey(),(l=this.value())&&(l=l.substr(l.length-r.length)==r?l:l+r,this.value(l),"visualmode"==this.model.multiSelectMode&&this.value(this._removeDuplicateValue(this.value()))),a&&(this._selectValueByKey(a.substr(a.length-r.length)==r?a:a+r),"visualmode"==this.model.multiSelectMode&&this._selectValueByKey(this._removeDuplicateValue(this._selectValueByKey())))),"visualmode"==e[i]?(null!=this.model.validationRules&&this.element.rules("remove"),""!=this.element.val()&&this._isWatermark&&this.element.removeAttr("placeholder"),this._renderBoxModel()):this.element.hasClass("e-visual-mode")&&this._destroyBoxModel(),this._setValue(this.value()),this._setValidation(),t.isNullOrUndefined(this.element.attr("placeholder"))&&this._isWatermark&&this._setWatermark();break;case"enabled":this._disabled(!e[i]);break;case"visible":this.setVisible(e[i]);break;case"height":this._changeHeight(e[i]);break;case"width":this._changeWidth(e[i]);break;case"cssClass":this._changeSkin(e[i]);break;case"itemsCount ":(e[i]<=0||isNaN(e[i]))&&(e[i]=0);break;case"popupHeight":this.suggestionList.css({"max-height":isNaN(e[i])?e[i]:e[i]+"px"});break;case"popupWidth":this.model.popupWidth=e[i],this._setListWidth();break;case"selectValueByKey":deli=this._delimiterChar(),a=t.util.getVal(e[i]),this.selectValueByKey(a),keyValue="none"!=this.model.multiSelectMode?this._selectValueByKey()+e[i]:e[i],keyValue=keyValue.split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),keyValue=keyValue.join(deli),e[i]=keyValue.substr(keyValue.length-deli.length)==deli?keyValue:keyValue+deli;break;case"htmlAttributes":this._addAttr(e[i]);break;case"emptyResultText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.emptyResultText=this.model.emptyResultText=e[i],this._setCulture();break;case"addNewText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.addNewText=this.model.emptyResultText=e[i],this._setCulture();break;case"multiColumnSettings":t.isNullOrUndefined(e[i].enable)||(this.model.multiColumnSettings.enable=e[i].enable),t.isNullOrUndefined(e[i].showHeader)||(this.model.multiColumnSettings.showHeader=e[i].showHeader),t.isNullOrUndefined(e[i].stringFormat)||(this.model.multiColumnSettings.stringFormat=e[i].stringFormat),t.isNullOrUndefined(e[i].columns)||(this.model.multiColumnSettings.columns=e[i].columns),this.suggestionList.remove(),this._renderSuggestionList();break;case"showResetIcon":this.model.showResetIcon=e[i],e[i]?this._showReset():this._removeReset()}this._hideResult()}},_destroy:function(){this.element.width("").removeAttr("role aria-label aria-expanded aria-haspopup aria-autocomplete autocomplete placeholder aria-owns aria-disabled disabled"),this.element.insertAfter(this.wrapper),"visualmode"==this.model.multiSelectMode&&this.element.removeClass("e-visual-mode").attr("name",this._hiddenInput.attr("name")),this.model.enabled||this.element.removeClass("e-disable"),this.wrapper.remove(),this.element.removeClass("e-input").val(""),this._isWatermark&&this.element.removeAttr("placeholder"),this._hideResult(),this.suggestionList.remove()},_initialize:function(){this.value(""===this.value()?this.element[0].value:this.value()),this.element.attr("role","combobox").attr("aria-label","Autocomplete textbox").attr("aria-expanded",!1).attr("tabindex",0).attr("aria-autocomplete","list"),/Edge\/12./i.test(navigator.userAgent)&&this.element.addClass("edge-browser"),this.target=this.element[0],this.dropdownbutton=null,this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this.showSuggestionBox=!1,this.noresult=!0,this._queryString=null,this.suggLen=0,this._selectedItems=[],this._modelValue="",this._activeItem=0,this._originalval=[],this.ctrlKeyPressed=!1,this._isFocused=!1,this._isOpened=!1,this._typed=!1,this._cancelEvent=!1,this._isWatermark=this._checkWatermarkSupport(),this._selectedObj=[]},_render:function(){this._renderWrapper(),this._addAttr(this.model.htmlAttributes),this._setDimentions(),this._renderDropdown(),this._checkProperties(),this._isWatermark?this._setWatermark():this._setWatermarkTxt(),this._renderSuggestionList(),this._RightToLeft(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this.setVisible(this.model.visible),this._setListPosition()},_renderWrapper:function(){var e,i;this.element.addClass("e-input").attr("autocomplete","off"),this.wrapper=t.buildTag("span.e-atc e-widget "+this.model.cssClass+"#"+this.target.id+"_wrapper").insertAfter(this.element),document.activeElement==this.element[0]&&(e=!0),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),this._isWatermark||(this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this.model.watermarkText),this._hiddenSpan.css("display","none"),i=this,this._hiddenSpan.click(function(){this._isFocused||i.element.focus()})),e&&this.element.focus()},_renderDropdown:function(){if(this.model.showPopupButton){var i=t.buildTag("span.e-icon e-search").attr(this._isIE8?{unselectable:"on"}:{});this.dropdownbutton=t.buildTag("span.e-select#"+this.target.id+"_dropdown").attr(this._isIE8?{unselectable:"on"}:{}).append(i),this.container.append(this.dropdownbutton).addClass("e-padding"),this.model.enabled||this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),this.dropdownbutton.on("mousedown",e.proxy(this._OnDropdownClick,this))}},_addAttr:function(t){var i=this;e.map(t,function(e,t){"required"==t&&i.element.attr(t,e),"class"==t?i.wrapper.addClass(e):"name"==t?i.element.attr(t,e):"disabled"==t&&"disabled"==e?i._disabled(!0):"readOnly"==t&&!0===e?i._checkReadOnly(!0):i.wrapper.attr(t,e)})},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_renderBoxModel:function(){this._ulBox=t.buildTag("ul.e-ul e-boxes");var i=this.model.enabled?"":"e-disable";this._ulBox.addClass(i),this._hiddenInput=t.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden"}).insertBefore(this.element),this._hiddenInput.attr("name",this.element.attr("name")),this.element.val("").removeAttr("name").addClass("e-visual-mode"),this._isWatermark||this.element.width(1),this.container.prepend(this._hiddenInput,this._ulBox),this.wrapper.height("auto"),this._on(this.container,"mousedown",function(t){if(!this.model.enabled)return!1;var i=e(t.target);i.is(this.element)||(t.preventDefault(),this._isFocused||this.element.focus(),i.hasClass("e-options")?(!t.ctrlKey&&i.siblings().hasClass("e-active")&&this._removeActive(),i.hasClass("e-active")?i.removeClass("e-active"):i.addClass("e-active")):this._moveCaretToEnd(this.element[0])),!t.ctrlKey&&(i.hasClass("e-boxes")||i.hasClass("e-input"))&&this._removeActive()})},_destroyBoxModel:function(){this.container.prepend(this.element),this.element.attr({name:this._hiddenInput.attr("name")}).removeAttr("style").removeClass("e-visual-mode"),this.wrapper.height(this.model.height),this._hiddenInput.remove(),this._hiddenInput=null,this._ulBox.remove(),this._off(this.container,"mousedown")},_deleteLastBox:function(){var e=this._ulBox.children().last(),t=e.hasClass("e-active");this._removeActive(),t?this._deleteBox(e):e.addClass("e-active")},_deleteBox:function(t){for(var i,s,n,o,r=0,a=t.length;r<a;r++)i=this._ulBox.children().index(t[r]),this._selectedItems.splice(i,1),s=this.model.delimiterChar,(n=this._hiddenInput.val().split(s)).splice(i,1),this._hiddenInput.val(n.join(s)),this._selectValueByKey(n.join(s)),(o=this._modelValue.split(s)).splice(i,1),this._modelValue=o.join(s),e(t[r]).remove();this.showSuggestionBox&&this._refreshPopup(),this._valueChange(),""==this._hiddenInput.val()&&this._setWatermark()},_removeActive:function(){this._ulBox.children("li.e-active").removeClass("e-active")},_adjustWidth:function(){var e,i=t.buildTag("span",this.element.val());this.container.append(i),e=i.width()+30,this.element.width()!=e&&this.element.width(e),""==this._hiddenInput.val()&&this._setWatermark(),i.remove()},_checkProperties:function(){var i,s;this._checkReadOnly(this.model.readOnly),this.model.delimiterChar=this._validateDelimiter(this.model.delimiterChar),this.model.enabled?this.model.enabled&&e(this.element).hasClass("e-disable")&&(this.model.enabled=!1,this._disabled(!1)):(this.model.enabled=!0,this._disabled(!0)),this._checkNameAttr(),"visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),null!=this._selectValueByKey()&&""==this.value()?(i=this._selectValueByKey().toString(),"none"!=this.model.multiSelectMode&&(i=i.substr(i.length-this.model.delimiterChar.length)==this.model.delimiterChar?i:i+this.model.delimiterChar,"visualmode"==this.model.multiSelectMode?this._selectValueByKey(null):this._selectValueByKey(i)),this.selectValueByKey(i),this.model.showResetIcon&&this._showReset()):(s=this.value(),"none"!=this.model.multiSelectMode&&(t.isNullOrUndefined(s)||""!=s)&&(s=s.substr(s.length-this.model.delimiterChar.length)==this.model.delimiterChar?s:s+this.model.delimiterChar),this.value(this._setValue(s)),this.model.showResetIcon&&""!=this.value()&&this._showReset())},_checkNameAttr:function(){this.element.attr("name")||this.element.attr("name",this.element[0].id)},_disabled:function(e){e?this.disable():this.enable()},_destroyDropdown:function(){this.dropdownbutton.off("mousedown",e.proxy(this._OnDropdownClick,this)),this.dropdownbutton.remove(),this.dropdownbutton=null,this.container.removeClass("e-padding")},_validateDelimiter:function(t){return e.trim(t).length!=t.length&&null==t.length||/^[a-zA-Z0-9]+$/.test(t)?",":t},_checkWatermarkSupport:function(){return"placeholder"in document.createElement("input")},_setWatermark:function(){(this.model.watermarkText&&(""==this.value()||t.isNullOrUndefined(this.value()))||"visualmode"!=this.model.multiSelectMode)&&this.element.attr("placeholder",this.model.watermarkText).width("")},_setWatermarkTxt:function(){null!=this.model.watermarkText&&""==e.trim(this.element.val())&&("visualmode"!=this.model.multiSelectMode||""==e.trim(this._hiddenInput.val()))&&this._hiddenSpan.css("display","block").text(this.model.watermarkText)},_renderSuggestionList:function(){var i,s,n,o,r,a,l=e("#"+this.element[0].id+"_suggestion").get(0);if(l&&e(l).remove(),this.suggestionList=t.buildTag("div.e-atc-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_suggestion","",{display:"none"}).attr("role","listbox"),this.element.attr("aria-owns",this.target.id+"_suggestion"),this.popup=this.suggestionList,i=t.buildTag("div"),this.model.multiColumnSettings.enable){if(this._tableColumn=t.buildTag("table","",{},{role:"listbox","border-collapse":"separate",border:0,cellspacing:0,cellpadding:0,class:"e-atc-tableContent"}),this._listEventBind(this._tableColumn,"tr"),this._headerColGroup=document.createElement("colgroup"),this.model.multiColumnSettings.showHeader){for(this._tableHeaderDiv=t.buildTag("div",{},{},{class:"e-atc-tableHeader "+(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll")}),s=t.buildTag("div",{},{},{class:"e-atc-tableHeaderContent e-atc-tableHeaderBorder"}),n=document.createElement("tr"),this._tableHeader=t.buildTag("table","",{},{cellspacing:"0.25px"}),o=0,r=this.model.multiColumnSettings.columns.length;o<r;o++)e(n).append(t.buildTag("th",this.model.multiColumnSettings.columns[o].headerText?this.model.multiColumnSettings.columns[o].headerText:"column"+o,{"text-align":this.model.multiColumnSettings.columns[o].headerTextAlign?this.model.multiColumnSettings.columns[o].headerTextAlign:"left"},{class:o==this.model.multiColumnSettings.columns.length-1?"":this.model.enableRTL?"e-atc-thleft":"e-atc-thright"})),e(this._headerColGroup).append(document.createElement("col"));e(this._tableHeaderDiv).append(e(s).append(e(this._tableHeader).append(n).append(this._headerColGroup))),this.suggestionList.append(this._tableHeaderDiv)}else{for(o=0,r=this.model.multiColumnSettings.columns.length;o<r;o++)e(this._headerColGroup).append(document.createElement("col"));this._tableColumn.append(this._headerColGroup)}(a=t.buildTag("div")).append(this._tableColumn),i.append(a)}else this.ul=t.buildTag("ul.e-ul").attr("role","listbox"),this._listEventBind(this.ul,"li:not('.e-category')"),i.append(this.ul);this.suggestionList.append(i),e("body").append(this.suggestionList),this._setListWidth(),this._setListHeight(),this.model.multiColumnSettings.enable?(i.ejScroller({height:i.height(),width:0,scrollerSize:20}),this.scrollerObj=i.ejScroller("instance")):(this.suggestionList.ejScroller({height:this.suggestionList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.suggestionList.ejScroller("instance"))},_listEventBind:function(t,i){t.on({mouseenter:e.proxy(this._OnMouseEnter,this),mouseleave:e.proxy(this._OnMouseLeave,this),click:e.proxy(this._OnMouseClick,this)},i)},_checkEmptyList:function(){"visualmode"==this.model.multiSelectMode&&this._removeRepeated(),0==this.suggestionListItems.length?(this.suggestionListItems.push(this.model.emptyResultText),this.noresult=!0):this.noresult=!1},_showSuggestionList:function(e){this.suggestionListItems=this.model.enableDistinct?t.dataUtil.distinct(this.suggestionListItems,"object"!=typeof this.suggestionListItems[0]?"":this.model.fields&&this.model.fields.text?this.model.fields.text:"text",!0):this.suggestionListItems,this.model.itemsCount>0&&(this.suggestionListItems=t.DataManager(this.suggestionListItems).executeLocal(t.Query().take(this.model.itemsCount))),this._checkEmptyList(),this._addNewTemplate=null,this.noresult&&"visualmode"==this.model.multiSelectMode&&this.model.allowAddNew&&""!=this.element.val()&&!this._repeatRemove&&(this.noresult=!1,this.suggestionListItems.pop(),this._addNewTemplate="   ("+this.model.addNewText+")",this.suggestionListItems.push(this.element.val()+this._addNewTemplate),this._checkEmptyList()),(!this.noresult||this.model.showEmptyResultText)&&this._generateSuggestionList(e)},_generateSuggestionList:function(i){var s,n,o,r,a,l,c,d,h,u,p,m=this.suggestionListItems;if(this.model.multiColumnSettings.enable?this._tableColumn.empty()&&this.model.multiColumnSettings.showHeader&&this._tableHeaderDiv.css("display",""):this.ul.empty(),s=this,n=document.createDocumentFragment(),"object"!=typeof m[0]){if(s.model.multiColumnSettings.enable){var g=t.buildTag("tbody"),f=t.buildTag("tr").attr("role","option").attr(s._isIE8?{unselectable:"on"}:{}),v=t.buildTag("td",{},{},{role:"option"});for(r=0,a=m.length;a>r;r++){var b=s.model.highlightSearch&&!s.noresult?s._highlightSuggestion(m[r]):m[r],_=f.clone(),w=v.clone();e(w).attr(s._isIE8?{unselectable:"on"}:{}).attr(m[r]!=m.length-1?{class:"e-atc-tdbottom"}:{}).html(b),_[0].appendChild(w[0]),g[0].appendChild(_[0]),n.appendChild(g[0]),s.model.showEmptyResultText&&s.model.emptyResultText==b&&s.model.multiColumnSettings.showHeader&&s._tableHeaderDiv.css("display","none")&&e(w).removeClass("e-atc-tdbottom"),s._addNewTemplate&&!t.isNullOrUndefined(s._tableHeaderDiv)&&s._tableHeaderDiv.css("display","none")}s._tableColumn[0].appendChild(n)}else{for(o=t.buildTag("li",{},{},{role:"option"}).attr(s._isIE8?{unselectable:"on"}:{}),r=0,a=m.length;a>r;r++)b=s.model.highlightSearch&&!s.noresult?s._highlightSuggestion(m[r]):m[r],(l=o.clone())[0].innerHTML=b,n.appendChild(l[0]);s.ul[0].appendChild(n)}this._currList=m,this._mapper={txt:null,key:null}}else c=this.model.fields,(d={_key:null,_text:null,_attr:null})._key=c&&c.key?c.key:"key",d._text=c&&c.text?c.text:"text",d._attr=c&&c.htmlAttributes?c.htmlAttributes:"htmlAttributes",this._mapper={txt:d._text,key:d._key},this._currList=[],this.model.fields.groupBy?(h=c&&c.groupBy?c.groupBy:"groupBy",p=t.Query().group(h),this._addSortingQuery(p,"key"),u=t.DataManager(m).executeLocal(p),this._swapUnCategorized(u),u.forEach(function(e,i){if(e.key)if(s.model.multiColumnSettings.enable){var n=t.buildTag("tr.e-category").attr("role","option").attr(s._isIE8?{unselectable:"on"}:{});n.append(t.buildTag("td",e.key).attr("role","option").attr(s._isIE8?{unselectable:"on"}:{}).attr(i!=m.length-1?{class:"e-atc-tdbottom"}:{})),s._tableColumn.append(n)}else s.ul.append(t.buildTag("li.e-category",e.key).attr("role","option").attr(s._isIE8?{unselectable:"on"}:{}));s._generateLi(e.items,d)})):this._generateLi(m,d);this._getLiTags().length>0&&(e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),this._showResult(i))},_swapUnCategorized:function(e){for(var t,i=e.length,s=0;s<i;s++)if(!e[s].key){for(t=s;t>0;t--)e[t]=e[t-1];return e[t]=e[s],!1}},_generateLi:function(i,s){var n,o,r,a,l,c,d,h,u,p,m,g=this,f=document.createDocumentFragment(),v=document.createDocumentFragment();if(g.model.multiColumnSettings.enable){for(n=g.model.multiColumnSettings.columns.length,this._tableColumn.append(t.buildTag("tbody")),o=t.buildTag("tr"),r=t.buildTag("td"),d=0,h=i.length;h>d;d++)if(u=i[d][s._text],p=i[d][s._key],!t.isNullOrUndefined(u)||g.model.multiColumnSettings.enable){for(g._getField(i[d]),(a=o.clone())[0].className=d%2?"e-atc-trbgcolor":"",l=0;l<n;l++)(c=r.clone())[0].innerHTML=g.model.highlightSearch&&e.inArray(l.toString(),g._columnIndex)>-1?g._highlightSuggestion(g._getField(i[d],g.model.multiColumnSettings.columns[l].field).toString()):g._getField(i[d],g.model.multiColumnSettings.columns[l].field),c[0].className=(d!=i.length-1?"e-atc-tdbottom ":"")+(l!=g.model.multiColumnSettings.columns.length-1?g.model.enableRTL?"e-atc-tdleft ":"e-atc-tdright ":"")+(g.model.multiColumnSettings.columns[l].cssClass?g.model.multiColumnSettings.columns[l].cssClass:""),c[0].style.textAlign=g.model.multiColumnSettings.columns[l].textAlign?g.model.multiColumnSettings.columns[l].textAlign:"left",v.appendChild(c[0]);a[0].appendChild(v),p&&a.attr("id",p),g._setAttributes(g._getField(i[d],s._attr),a[0]),f.appendChild(a[0]),g._currList=g._currList.concat([i[d]])}e(g._tableColumn).find("tbody")[0].appendChild(f)}else{for(d=0,h=i.length;h>d;d++)u=i[d][s._text],p=i[d][s._key],t.isNullOrUndefined(u)||(g.model.highlightSearch&&(u=g._highlightSuggestion(u)),g.model.template&&(u=g._getTemplatedString(i[d],s._text,u)),(m=document.createElement("li")).innerHTML+=u,p&&m.setAttribute("id",p),g._setAttributes(g._getField(i[d],s._attr),m),f.appendChild(m),g._currList=g._currList.concat([i[d]]));g.ul[0].appendChild(f)}},_getLiTags:function(){return this.model.multiColumnSettings.enable?this._tableColumn.find("tbody tr:not('.e-category')"):this.ul.children("li:not('.e-category')")},_getTemplatedString:function(e,t,i){for(var s=this.model.template,n=s.indexOf("${"),o=s.indexOf("}");-1!=n&&-1!=o;){var r=s.substring(n,o+1),a=r.replace("${","").replace("}",""),l=this._getField(e,a);t==a&&(l=i),l||(l=""),n=(s=s.split(r).join(l)).indexOf("${"),o=s.indexOf("}")}return s},_getField:function(e,i){return t.pvt.getObject(i,e)},_setAttributes:function(t,i){if(t)for(var s in"string"==typeof t&&(t=e.parseJSON(t)),t)i.setAttribute(s,t[s])},_setListWidth:function(){var e=this.model.popupWidth;e&&"auto"!=e?this.suggestionList.css({width:e}):this.suggestionList.css({width:this.wrapper.width()})},_setListHeight:function(){this.suggestionList.css({"max-height":this.model.popupHeight})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.wrapper.outerWidth()!=this.suggestionList.outerWidth()&&(this.suggestionList.css({width:this.wrapper.width()}),this._refreshScroller()),this._setListPosition()},_showResult:function(s){var n,o,r,a;this._refreshScroller(),this._refreshPopup(),this._isOpened?e(document).on("mousedown",e.proxy(this._OnDocumentClick,this)):(this.suggestionList.css("display","none"),n=this,clearTimeout(this._typing),this._typing=setTimeout(function(){n.suggestionList["slide"==n.model.animateType?"slideDown":"fadeIn"]("none"==n.model.animateType?0:300,function(){e(document).on("mousedown",e.proxy(n._OnDocumentClick,n))})},this.model.delaySuggestionTimeout),o=s!=i?{event:s,isInteraction:!0}:{isInteraction:!1},this._trigger("open",o),this.wrapper.addClass("e-active")),this._isOpened=!0,this.showSuggestionBox=!0,r=this._getLiTags(),this._listSize=r.length,e(window).on("resize",e.proxy(this._OnWindowResize,this)),(a=t.getScrollableParents(this.wrapper))[0]!=window&&this._on(a,"scroll",this._hideResult)},_hideResult:function(s){var n,o;this.showSuggestionBox&&(this.showSuggestionBox=!1,this._activeItem=0,clearTimeout(this._hiding),this.element.attr("aria-expanded",!1),n=this,this._isOpened?(this.suggestionList.css("display","none"),o=s!=i?{event:s,isInteraction:!0}:{isInteraction:!1},this._trigger("close",o)):this._hiding=setTimeout(function(){n.model&&n.suggestionList["slide"==n.model.animateType?"slideUp":"fadeOut"]("none"==n.model.animateType?0:100),n._activeItem=0},this.model.delaySuggestionTimeout),e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this.wrapper.removeClass("e-active"))},_refreshScroller:function(){this.suggestionList.css("height","auto"),this.suggestionList.find(".e-content , .e-scroller").removeAttr("style"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(e(this._tableColumn).attr("width","auto"),e(this._tableHeader).attr("width","auto")),this.suggestionList.css("display","block"),this.model.multiColumnSettings.enable&&(this.scrollerObj.option("height","auto"),this._columnBorderAlign());var i=this.suggestionList.height()>parseInt(e.isNumeric(this.model.popupHeight)?this.model.popupHeight:this.model.popupHeight.replace("px",""))-4;i||this.model.multiColumnSettings.enable&&(this.suggestionList.height()<=this._tableColumn.height()||this.suggestionList.width()<=this._tableColumn.width()||this.model.multiColumnSettings.showHeader&&this.suggestionList.width()<=this._tableHeader.width())?(i&&(this.scrollerObj.model.height=this.model.multiColumnSettings.showHeader&&this._tableHeader?parseInt(this.suggestionList.height())-parseInt(this._tableHeader.height()):this.suggestionList.height()),!this.model.multiColumnSettings.enable&&this.suggestionList.width()<this.suggestionList.find(".e-ul").width()&&this.suggestionList.find(".e-ul").width(this.suggestionList.find(".e-ul").width()),this.scrollerObj.model.width=this.suggestionList.width(),this.scrollerObj.refresh(),this.scrollerObj.option({enableRTL:this.model.enableRTL,scrollTop:0,scrollLeft:0}),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._addThBorder(),this.suggestionList.addClass("e-scroller"),!this.scrollerObj._vScroll&&this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()):(this.suggestionList.removeClass("e-scroller"),this.scrollerObj.refresh(),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()),this.suggestionList.css("height","auto"),this._isIE8&&this.suggestionList.find(".e-vscroll div, .e-hscroll div").attr("unselectable","on"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this.suggestionList.find(".e-content").scroll(t.proxy(function(t){this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(e(t.currentTarget).scrollLeft())},this)),this.suggestionList.find(".e-content").length>0&&this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(this.model.enableRTL?this.suggestionList.find(".e-content")[0].scrollWidth-this.suggestionList.find(".e-content")[0].clientWidth:0))},_columnBorderAlign:function(){var t,i,s;if(this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&"none"!=this._tableHeaderDiv.css("display")){for(this._tableWid=this._tableHeader.outerWidth()>this._tableColumn.outerWidth()?this._tableHeader.outerWidth():this._tableColumn.outerWidth(),this._tableColumn.find("colgroup").remove(),e(this._headerColGroup.children).removeAttr("style"),i=0,s=this._headerColGroup.children.length;i<s;i++)e(this._headerColGroup.children[i]).css({width:parseInt(e(this._tableColumn).find("tr:first td").eq(i).outerWidth())>parseInt(this._tableHeader.find("tr:first th").eq(i).outerWidth())?e(this._tableColumn).find("tr:first td").eq(i).outerWidth():this._tableHeader.find("tr:first th").eq(i).outerWidth()});this._tableColumn.append(e(this._headerColGroup).clone()),t=this._tableWid>this.suggestionList.width()?this._tableWid:"100%",e(this._tableColumn).attr("width",t),e(this._tableHeader).attr("width",t)}else if(this.model.multiColumnSettings.enable&&!this.model.multiColumnSettings.showHeader){if(e(this._tableColumn).attr("width","auto"),this._tableWid=this._tableColumn.outerWidth(),e(this._headerColGroup.children).removeAttr("style"),"100%"!=(t=this._tableWid>this.suggestionList.width()?this._tableWid:"100%")){for(i=0,s=this._headerColGroup.children.length;i<s;i++)e(this._headerColGroup.children[i]).css({width:e(this._tableColumn).find("tr:first td").eq(i).outerWidth()});this._tableColumn.append(this._headerColGroup)}e(this._tableColumn).attr("width",t)}else e(this._tableColumn).attr("width","100%")},_removeThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").removeClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.parent(".e-atc-tableHeaderContent").removeClass("e-atc-tableHeaderBorder")},_addThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").addClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll").removeClass(this.model.enableRTL?"e-atc-tableHeaderScroll":"e-atc-tableHeaderRTL"),this._tableHeader.parent(".e-atc-tableHeaderContent").addClass("e-atc-tableHeaderBorder")},_setListPosition:function(){var t,i=this.wrapper,s=this._getOffset(i),n=e(document).scrollTop()+e(window).height()-(s.top+e(i).outerHeight()),o=s.top-e(document).scrollTop(),r=this.suggestionList.outerHeight(),a=this.suggestionList.outerWidth(),l=s.left,c=i.outerHeight(),d=(c-i.height())/2,h=this._getZindexPartial(),u=(r<n||r>o?s.top+c+3:s.top-r-3)-d;t=e(document).scrollLeft()+e(window).width()-l,(this.model.enableRTL||a>t&&a<l+i.outerWidth())&&(l-=this.suggestionList.outerWidth()-i.outerWidth()),this.suggestionList.css({left:l+"px",top:u+"px","z-index":h})},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.suggestionList)},_targetFocus:function(e){"visualmode"==this.model.multiSelectMode&&this._setWatermarkWidth(30),this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this._isFocused=!0,this._trigger("focusIn",{event:e,isInteraction:!0,value:this.value()})},_focusOutAction:function(e){var i,s;this._isFocused=!1,this.wrapper.removeClass("e-focus"),this._isWatermark||this._setWatermarkTxt(),this._removeSelection(),"visualmode"==this.model.multiSelectMode&&this.model.showResetIcon&&""!=this.element.val()&&this._removeReset(),"visualmode"==this.model.multiSelectMode?(this._removeActive(),this.element.val(""),this._setWatermarkWidth(1),this._preVal="",this._addNewTemplate=null):("delimiter"==this.model.multiSelectMode&&this._valueChange(e),this._updateSelectedItemArray(this.getValue())),t.isNullOrUndefined(this.value())||""==this.value()||(i=this.value().split(this.model.delimiterChar),("delimiter"==this.model.multiSelectMode||"none"==this.model.multiSelectMode)&&(s=this._removeDuplicateVal(i),this._keyProcess(s))),""==this.element.val()&&(""==this.value()||null==this.value())&&this._selectValueByKey(null)},_targetBlur:function(e){this._focusOutAction(e),this._trigger("focusOut",{event:e,isInteraction:!0,value:this.value()})},_setWatermarkWidth:function(e){this.model.watermarkText&&this.element.attr("placeholder")?this.element.width(""):this.element.val("").width(e)},_checkDeli:function(){var e=this.element.val(),t=this.model.delimiterChar;return e.substr(e.length-t.length,e.length)==t&&(this.element.val(e.substr(0,e.length-t.length)),!0)},_removeSelection:function(){if(this.model.enableAutoFill){this.element.attr("aria-autocomplete","both");var e=this._getCaretSelection();e.end-e.start!=0&&e.end-e.start!=this.element.val().length&&(this.target.value=this.target.value.substr(0,e.start))}},_removeListHover:function(){this._getLiTags().removeClass("e-hover")},_addListHover:function(){var t=e(this._getLiTags()[this._activeItem-1]);t.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),t.focus()},_calcScrollTop:function(){this.model.multiColumnSettings.enable?this.model.multiColumnSettings.showHeader?(this._tableColumn.outerHeight(),this._tableHeader.outerHeight()):this._tableColumn.outerHeight():this.ul.outerHeight();var e,t=this.model.multiColumnSettings.enable?this._tableColumn.find("tr"):this.ul.find("li");return e=this.model.multiColumnSettings.enable?this._tableColumn.find("tr.e-hover").index():this.ul.find("li.e-hover").index(),t.eq(1).outerHeight()*e-((this.model.multiColumnSettings.enable?this._tableColumn.parent().outerHeight():this.suggestionList.outerHeight())-t.eq(e).outerHeight())/2},getActiveText:function(){if(this._activeItem>0)return this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):!t.isNullOrUndefined(this._mapper)&&this._mapper.txt?this._getField(this._currList[this._activeItem-1],this._mapper.txt):this._currList[this._activeItem-1]},_getUniqueKey:function(){var e=null;return t.isNullOrUndefined(this._mapper)||(this._mapper.key&&(e=this._getField(this._currList[this._activeItem-1],this._mapper.key)),t.isNullOrUndefined(e)&&(e=null)),e},_setTextBoxValue:function(){var t,i,s,n,o,r;this._activeItem&&!this.noresult&&(t=this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):this.getActiveText(),i=this._getCaretSelection(),this.suggLen=i.start,s=this.target.value.substr(0,this.suggLen),r=-1==(o=this.target.value.lastIndexOf(this.model.delimiterChar))?e.trim(s.substr(o+1,this.suggLen)):e.trim(s.substr(o+this.model.delimiterChar.length,this.suggLen)),!s||s.toLowerCase()!=t.substr(0,this.suggLen).toLowerCase()&&r.toLowerCase()!=t.substr(0,this.suggLen-(o+this.model.delimiterChar.length)).toLowerCase()?("delimiter"==this.model.multiSelectMode&&t&&r?this.element.val(this.element.val().replace(r,t)):t&&this.element.val(t),this._removeSelection()):(n="delimiter"==this.model.multiSelectMode?s+t.substr(r.length,t.length):s+t.substr(s.length,t.length),this.element.val(n),this._autofilSelection(),"visualmode"==this.model.multiSelectMode&&(this._adjustWidth(),this.model.enableAutoFill&&this._refreshPopup()),this.model.autoFocus&&!this.noresult&&this._addListHover()))},_enterTextBoxValue:function(e){var t,i,s;!this._activeItem||this.noresult||this.model.readOnly||(t=this.getActiveText(),i=this._currList[this._activeItem-1],this._preVal=t+("delimiter"==this.model.multiSelectMode?this.model.delimiterChar:""),this._valueToTextBox(t,i,!1),s="visualmode"==this.model.multiSelectMode?this._modelValue:""==this.element.val()?null:this.element.val(),this._trigger("select",{event:e,isInteraction:!0,value:s,text:t,key:this._getUniqueKey(),item:i}),this._valueChange(e),this.model.showResetIcon&&this._showReset()),this._isOpened&&this._trigger("close",{event:e,isInteraction:!0})},_createBox:function(i){var s=t.buildTag("span.e-icon e-close"),n=t.buildTag("li.e-options",i).append(s);return this._on(s,"click",function(t){if(!this.model.enabled)return!1;this._deleteBox(e(t.target).parent())}),n},_addLoadingClass:function(){this.model.showLoadingIcon&&this.element.addClass("e-load")},_removeLoadingClass:function(){this.element.removeClass("e-load")},_highlightSuggestion:function(t){var i,s,n,o,r,a,l,c,d;if(""!=e.trim(this._queryString)&&(i=this.model.caseSensitiveSearch?"g":"gi",a=e.trim(this._queryString),a=/^[a-zA-Z0-9- ]*$/.test(a)?a:a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),s="startswith"==this.model.filterType?"^"+a:"endswith"==this.model.filterType?a+"$":a,(n=new RegExp(s,i)).test(t)))for(o=t.match(n),l=t.replace(n,"~^"),t="",c=0,d=(r=l.split("~^")).length;d>c;c++)t+=o[c]?r[c]+"<span class='e-hilight-txt'>"+o[c]+"</span>":r[c];return t},_RightToLeft:function(e){e?(this.wrapper.addClass("e-rtl"),this.suggestionList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.suggestionList.removeClass("e-rtl")),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this._tableHeaderDiv.removeClass(e?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.find("tr :not(th:last)").addClass(e?"e-atc-thleft":"e-atc-thright").removeClass(e?"e-atc-thright":"e-atc-thleft"))},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.suggestionList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.suggestionList.removeClass("e-corner"))},_checkReadOnly:function(e){this.model.readOnly=e,this.model.readOnly?(this.element.attr({readonly:"readonly","aria-readonly":!0}),this._off(this.element,"keydown",this._OnKeyDown),this._off(this.element,"keyup",this._OnKeyUp),this._off(this.element,"paste",this._OnPaste),this._off(this.element,"keypress",this._onkeyPress)):(this.element.removeAttr("readonly aria-readonly"),this._on(this.element,"keydown",this._OnKeyDown),this._on(this.element,"keyup",this._OnKeyUp),this._on(this.element,"paste",this._OnPaste),this._on(this.element,"keypress",this._onkeyPress))},_onkeyPress:function(e){13==e.keyCode&&this._PreventDefaultAction(e)},_OnPaste:function(e){var t=this;setTimeout(function(){t._OnKeyUp(e)},0)},_OnKeyDown:function(t){var i;switch("startswith"!=this.model.filterType&&(this.model.enableAutoFill=!1),t.keyCode){case 37:case 35:case 36:this._removeSelection();break;case 38:this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),this._activeItem>1?this._activeItem-=1:this._activeItem=this._listSize,this._navigationHover()),this._PreventDefaultAction(t);break;case 40:this.showSuggestionBox&&this.suggestionList?(this._removeListHover(),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=1,this._navigationHover()):t.ctrlKey&&""==this.element.val()?this._showFullList(t):t.ctrlKey&&this._showSuggestionList(t),this._PreventDefaultAction(t);break;case 33:case 34:if(this.showSuggestionBox&&this.suggestionList){this._removeListHover();var s=this.model.multiColumnSettings.enable?this._tableColumn.parent().height():this.suggestionList.height(),n=this.model.multiColumnSettings.enable?this._tableColumn.find("tr").outerHeight():this.ul.children("li").outerHeight(),o=0!=Math.round(s/n)?Math.round(s/n):this._listSize;this._activeItem=33==t.keyCode?this._activeItem-o:this._activeItem+o,this._activeItem<1&&(this._activeItem=1),this._activeItem>this._listSize&&(this._activeItem=this._listSize),this._navigationHover()}this._PreventDefaultAction(t);break;case 8:""==e.trim(this.element.val())&&(this._isOpened=!1),"visualmode"==this.model.multiSelectMode&&""==this.element.val()&&this._deleteLastBox();break;case 17:this.ctrlKeyPressed=!0;break;case 9:this.showSuggestionBox&&(this._queryString=this.element.val(),this._enterTextBoxValue(t),this._hideResult(t),this._isOpened=!1,this._PreventDefaultAction(t));break;case 27:this._isOpened=!1,i=this.showSuggestionBox,this._hideResult(t),this._PreventDefaultAction(t),i&&this._trigger("close",{event:t,isInteraction:!0})}"visualmode"==this.model.multiSelectMode&&(17!=t.keyCode&&8!=t.keyCode&&46!=t.keyCode&&this._removeActive(),this._adjustWidth())},_PreventDefaultAction:function(e){e.preventDefault(),this._cancelEvent||(e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!0)},_bubbleEvent:function(e){return"boolean"==typeof e&&(this._cancelEvent=e),this._cancelEvent},_navigationHover:function(){this._addListHover(),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this._queryString=this.target.value,this._setTextBoxValue())},_OnKeyUp:function(t){if(this._keyDownComplete(t),this.ctrlKeyPressed&&"paste"!=t.type)return 17==t.keyCode&&(this.ctrlKeyPressed=!1),!1;if(""==e.trim(this.element.val())&&38==t.keyCode&&40==t.keyCode)return this._hideResult(t),!1;if(!this._checkDelimiter())return!1;switch(this._queryString=e.trim(this._queryString),t.keyCode){case 34:case 33:case 38:case 40:case 37:case 39:case 20:case 16:case 17:case 18:case 35:case 36:case 144:case 9:case 27:break;case 13:t.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(t),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this.suggLen=this.element.val().length,this._autofilSelection()),this._isOpened=!1,this._hideResult(t);break;case 46:if("visualmode"==this.model.multiSelectMode&&""==this.element.val()){this._deleteBox(this._ulBox.children("li.e-active"));break}case 8:this._queryString.length>=this.model.minCharacter?(this._autoFill=!1,this._OnTextEnter(t)):(this.noresult=!0,this._hideResult(t),""==e.trim(this.element.val())&&(this._isOpened=!1)),this._typed=!0;break;default:this._queryString.length>=this.model.minCharacter?(this._autoFill=!0,this._OnTextEnter(t)):this.noresult=!0,this._typed=!0}},_getFilteredList:function(e,i){var s,n;clearTimeout(this.timeDelay),t.isNullOrUndefined(e)||"object"!=typeof e[0]||(s=this.model.fields.text?this.model.fields.text:"text",this.model.actionFailure&&t.isNullOrUndefined(t.DataManager(e).executeLocal(t.Query().select(s))[0])&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})),!e||!e.length||e.length<1?(this.suggestionListItems=[],this.model.actionFailure&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})):(n=t.Query(),this._addQuery(n,"object"==typeof e[0]),this.suggestionListItems=t.DataManager(e).executeLocal(n),this.model.actionSuccess&&this._trigger("actionSuccess")),this._doneRemaining(i),this.model.actionComplete&&this._trigger("actionComplete")},_performSearch:function(e){var i,s;this.model.actionBegin&&this._trigger("actionBegin"),i=this.model.dataSource,t.DataManager&&i instanceof t.DataManager?i.dataSource.offline||i.dataSource.json&&i.dataSource.json.length>0?(this._getFilteredList(i.dataSource.json,e),this._selectedObj.push(i.dataSource.json)):(window.clearTimeout(this.timer),s=this,this.timer=window.setTimeout(function(){s._fetchRemoteDat(i)},700)):this._getFilteredList(i,e)},_fetchRemoteDat:function(e){var t=this,i=this._getQuery();this._addQuery(i,!0),e.executeQuery(i).fail(function(e){t.suggestionListItems=null,t._removeLoadingClass(),t._trigger("actionFailure",e)}).done(function(e){t.suggestionListItems=e.result,"none"==t.model.multiSelectMode?t._selectedObj=e.result:"delimiter"==t.model.multiSelectMode&&(t._selectedObj=t._selectedObj.concat(e.result)),t._doneRemaining(e),t._trigger("actionSuccess",e)}).always(function(e){t._trigger("actionComplete",e)})},_addSortingQuery:function(e,t){if(this.model.allowSorting){var i="descending"==this.model.sortOrder;e.sortBy(t,i)}},_addQuery:function(e,t){var i,s,n,o,r="";if(t&&(r=(s=this.model.fields)&&s.text?s.text:"text"),this._queryString)if(this.model.multiColumnSettings.enable)if(this._columnsIndex(),t){for(r=[],n=0,o=this._columnIndex.length;n<o;n++)r.push(this.model.multiColumnSettings.columns[this._columnIndex[n]].field),i=this._predicateConvertion(i,this.model.multiColumnSettings.columns[this._columnIndex[n]].field,this.model.multiColumnSettings.columns[this._columnIndex[n]].filterType?this.model.multiColumnSettings.columns[this._columnIndex[n]].filterType:"startswith",this._queryString,!this.model.caseSensitiveSearch,this.model.multiColumnSettings.columns[this._columnIndex[n]].type?this.model.multiColumnSettings.columns[this._columnIndex[n]].type:"string");e.where(i)}else e.where(r,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);else e.where(r,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);this._addSortingQuery(e,r)},_predicateConvertion:function(e,s,n,o,r,a){var l;return"number"==a?l=Number(o):"boolean"==a?"true"==o||"yes"==o||"1"==o?l=!0:("false"==o||"no"==o||"0"==o)&&(l=!1):l="date"==a?new Date(o):o,"number"==a&&isNaN(l)||"boolean"==a&&l==i?e:e!=i?e.or(s,n,l,r):t.Predicate(s,n,l,r)},_getQuery:function(){var e;if(t.isNullOrUndefined(this.model.query)){var i=[],s=t.Query(),n=this.model.fields;for(e in n)"tableName"!==e&&n[e]&&i.push(n[e]);i.length>0&&s.select(i),t.isNullOrUndefined(this.model.dataSource.dataSource.url)||this.model.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||s.from(n.tableName)}else s=this.model.query.clone();return s},_OnTextEnter:function(e){var i=this;t.isDevice()?(clearTimeout(this.timeDelay),this.timeDelay=setTimeout(function(){i._onTextProcess(e)},i.model.delaySuggestionTimeout)):i._onTextProcess(e)},_onTextProcess:function(e){this._addLoadingClass(),this.element.attr("aria-expanded",!1),this._performSearch(e),this.model.showResetIcon&&this._showReset()},_showReset:function(){t.isNullOrUndefined(this.resetSpan)&&(this.resetSpan=t.buildTag("span.e-icon e-iclose"),this.model.showPopupButton?(this.dropdownbutton.before(this.resetSpan),this.container.addClass("e-popup e-reset")):this.container.append(this.resetSpan).addClass("e-reset")),this._on(this.resetSpan,"mousedown",this._refreshSearch)},_refreshSearch:function(){this.resetSpan=null,this.clearText(),this._refreshPopup()},_removeReset:function(){this.resetSpan=this.resetSpan&&this.resetSpan[0].remove(),this._refreshPopup()},_doneRemaining:function(e){this._showSuggestionList(e),this.element.attr({"aria-expanded":!0,"aria-haspopup":!0}),(this.model.enableAutoFill&&this._autoFill&&!this.noresult||this.model.autoFocus)&&(this.element.attr("aria-autocomplete","both"),this._activeItem=1,this._queryString=this.target.value),this.model.enableAutoFill&&this._autoFill&&!this.noresult&&this._setTextBoxValue(),this.model.autoFocus&&!this.noresult&&this._addListHover(),this._removeLoadingClass(),this.noresult&&!this.model.showEmptyResultText&&this._hideResult(e)},_removeRepeated:function(){var e,t,i,s=this.suggestionListItems;if(!s||0==s.length||0==this._selectedItems.length||1==this.suggestionListItems.length&&this.suggestionListItems[0]==this.element.val()+this._addNewTemplate)return!1;for(this._repeatRemove=!1,e=0,t=this._selectedItems.length;e<t;e++)-1!=(i=s.indexOf(this._selectedItems[e]))&&this.suggestionListItems.splice(i,1),this.element.val()==this._selectedItems[e]&&(this._repeatRemove=!0)},_checkDelimiter:function(){this._queryString=this.element.val();var e="delimiter"!=this.model.multiSelectMode?-1:this._queryString.lastIndexOf(this.model.delimiterChar);return-1==e||(this._queryString=this._queryString.substr(e+this.model.delimiterChar.length,this._queryString.length)),!0},_autofilSelection:function(){var e=this.element[0],t=this.element.val().length;e.setSelectionRange?e.setSelectionRange(this.suggLen,t):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",this.suggLen),e.select())},_OnDropdownClick:function(e){this.model.enabled&&!this.model.readOnly&&(e.preventDefault(),(e.which&&1==e.which||e.button&&0==e.button)&&(this._addLoadingClass(),this.showSuggestionBox?(this._hideResult(e),this._isOpened=!1,this._removeLoadingClass()):this._showFullList(e)))},_showFullList:function(e){this._isFocused||this.element.focus(),this._queryString=null,this._autoFill=!1,this._performSearch(e)},_OnMouseEnter:function(e){this._getActiveItemIndex(e)},_getActiveItemIndex:function(t){var i=t.target;this.model.multiColumnSettings.enable&&"tr"!=t.target.tagName.toLowerCase()?i=e(t.target).parents("tr"):"li"!=t.target.tagName.toLowerCase()&&(i=e(t.target).parents("li")),this._getLiTags().removeClass("e-hover"),e(i).addClass("e-hover"),this._queryString=this.element.val(),this._activeItem=this._getLiTags().index(e(i))+1},_OnMouseLeave:function(){this._getLiTags().removeClass("e-hover"),this.model.highlightSearch&&this._getLiTags().find(".e-hilight-txt").removeClass("e-hover")},_OnMouseClick:function(e){this._getActiveItemIndex(e),this.noresult||(this._enterTextBoxValue(e),this._isOpened=!1,this._hideResult(e))},_OnDocumentClick:function(t){e(t.target).is(this.suggestionList)||e(t.target).parents(".e-atc-popup").is(this.suggestionList)||e(t.target).is(this.element)||e(t.target).parents(".e-atc").is(this.wrapper)?(e(t.target).is(this.suggestionList)||e(t.target).parents(".e-atc-popup").is(this.suggestionList))&&t.preventDefault():(this._isOpened=!1,this._hideResult(t),this._trigger("close",{event:t,isInteraction:!0}))},_OnWindowResize:function(){this._refreshPopup()},_keyProcess:function(e){var i,s,n,o,r=this._declareVariable();if(i=this._delimiterChar(),!t.isNullOrUndefined(e))for(s=0,n=e.length;s<n;s++)o=e[s],t.DataManager&&this.model.dataSource instanceof t.DataManager?this._selectValueByKey(null):(this._dataQuery=this.model.multiColumnSettings.enable?t.Query():t.Query().where(r[0],this.model.filterType,o,!1),this._promise=t.DataManager(this.model.dataSource).executeLocal(this._dataQuery),this.model.multiColumnSettings.enable?this._formatStringKey(e,r,i):this._promise instanceof Array&&0==this._promise.length?null!=this._selectValueByKey()&&this._selectValueByKey():this._getFieldKey(this._promise[0],r[1],i))},_formatStringKey:function(e,t,i){var s,n,o,r,a,l;for(this._selectValueByKey(null),s=0,n=e.length;s<n;s++)if(""!=e[s]){for(o=e[s],a=0,l=this._promise.length;a<l;a++)o==this._textFormateString(this._promise[a])&&(r=a);r?this._getFieldKey(this._promise[r],t[1],i):null!=this._selectValueByKey()&&this._selectValueByKey()}},_getFieldKey:function(i,s,n){if((t.isNullOrUndefined(this.model.template)||!t.isNullOrUndefined(this._getField(i,s)))&&!t.isNullOrUndefined(this._getField(i,s))){if(a=this._getField(i,s).toString(),"none"!=this.model.multiSelectMode){var o,r,a=this._selectValueByKey();delimiterChar=this.model.delimiterChar,o=this._getField(i,s).toString(),null!=a?(r=a.toString().split(n).filter(function(e){return""!==e}),-1==e.inArray(o,r)?(r.push(o),a=r.join(delimiterChar)+delimiterChar):a=o+delimiterChar):a=o+delimiterChar}this._selectValueByKey(a)}},_removeDuplicateVal:function(i){var s=[];return e.each(i,function(t,i){-1==e.inArray(i,s)&&s.push(i)}),1!=i.length||t.isNullOrUndefined(this._originalval)||-1==e.inArray(i[0],this._originalval)&&this._selectValueByKey(null),s},_valueChange:function(e){var t="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val();(this.value()!=t||""==t&&""!=this.element.val())&&(this.value(t),this._changeEvtTrigger(t,e)),this.model.showResetIcon&&!t&&(this.wrapper.find("span.e-iclose").remove(),this.resetSpan=null)},_changeEvtTrigger:function(e,t){var s=t!=i?{event:t,isInteraction:!0,value:e}:{isInteraction:!1,value:e};this.initialRender||(this._trigger("_change",{value:e}),this._trigger("change",s))},_updateSelectedItemArray:function(i){var s,n,o,r=[];if(this._selectedItems=[],this.suggestionListItems=this.model.dataSource,"delimiter"==this.model.multiSelectMode&&i)if(r=i.split(this.model.delimiterChar),t.DataManager&&this.model.dataSource instanceof t.DataManager||!t.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]){for(s=0,n=r.length;s<n;s++)if(r[s]){var a=this,l=this._selectedObj.length,c={};for(o=0;o<l;o++)this._selectedObj[o][a.model.fields.text]==r[s]&&(c=this._selectedObj[o],o=l);this._selectedItems.push(e.isEmptyObject(c)?r[s]:c)}}else this._createBoxForObjectType(r);else"none"==this.model.multiSelectMode&&i&&(r.push(i),t.DataManager&&this.model.dataSource instanceof t.DataManager||!t.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]?(a=this,c=e.grep(this._selectedObj,function(e){if(e[a.model.fields.text]==i)return e}),this._selectedItems.push(c.length>0?c:i)):this._createBoxForObjectType(r))},_keyDownComplete:function(e){var t=this.element.val();this._preVal!=t&&(this._preVal=t,"visualmode"==this.model.multiSelectMode&&this._adjustWidth(),this._valueChange(e))},_moveCaretToEnd:function(e){var t,i;e.scrollLeft=e.scrollWidth,e.createTextRange&&((t=e.createTextRange()).moveEnd("textedit"),t.moveStart("textedit"),t.select()),"number"==typeof e.selectionStart?e.selectionStart=e.selectionEnd=e.value.length:void 0!==e.createTextRange&&((i=e.createTextRange()).collapse(!1),i.select())},_getCaretSelection:function(){var e,t,i,s,n=this.element[0],o=0,r=0;return isNaN(n.selectionStart)?(e=document.selection.createRange().getBookmark(),(t=n.createTextRange()).moveToBookmark(e),(i=n.createTextRange()).collapse(!0),i.setEndPoint("EndToStart",t),{start:s=i.text.length,end:s+t.text.length}):(o=n.selectionStart,r=n.selectionEnd,{start:Math.abs(o),end:Math.abs(r)})},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur)}}),t.Autocomplete.Locale=t.Autocomplete.Locale||{},t.Autocomplete.Locale.default=t.Autocomplete.Locale["en-US"]={addNewText:"Add New",emptyResultText:"No suggestions",actionFailure:"The specified field doesn't exist in given data source"},t.filterType={StartsWith:"startswith",Contains:"contains",EndsWith:"endswith",LessThan:"lessthan",GreaterThan:"greaterthan",LessThanOrEqual:"lessthanorequal",GreaterThanOrEqual:"greaterthanorequal",Equal:"equal",NotEqual:"notequal"},t.SortOrder={Ascending:"ascending",Descending:"descending"},t.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},t.Animation={None:"none",Slide:"slide",Fade:"fade"},t.Type={Number:"number",String:"string",Boolean:"boolean",Date:"date"}}(jQuery,Syncfusion)}),
/*! JsRender v1.0pre: http://github.com/BorisMoore/jsrender */
function(e,t,i){"use strict";function s(e,t){t&&t.onError&&!1===t.onError(e)||(this.name="JsRender Error",this.message=e||"JsRender error")}function n(e,t){var i;for(i in e=e||{},t)e[i]=t[i];return e}function o(e,t,i){return(!X.rTag||arguments.length)&&(k=e?e.charAt(0):k,I=e?e.charAt(1):I,O=t?t.charAt(0):O,T=t?t.charAt(1):T,e="\\"+k+"(\\"+(D=i||D)+")?\\"+I,t="\\"+O+"\\"+T,C="(?:(?:(\\w+(?=[\\/\\s\\"+O+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+O+"]|\\"+O+"(?!\\"+T+"))*?)",X.rTag=C+")",C=new RegExp(e+C+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),x=new RegExp("<.*>|([^\\\\]|^)[{}]|"+e+".*"+t)),[k,I,O,T,D]}function r(e,t){t||(t=e,e=i);var s,n,o,r,a=this,l=!t||"root"===t;if(e){if(!(r=a.type===t?a:i))if(s=a.views,a._.useKey){for(n in s)if(r=s[n].get(e,t))break}else for(n=0,o=s.length;!r&&n<o;n++)r=s[n].get(e,t)}else if(l)for(;a.parent.parent;)r=a=a.parent;else for(;a&&!r;)r=a.type===t?a:i,a=a.parent;return r}function a(){var e=this.get("item");return e?e.index:i}function l(e){var t,s=this,o=(s.ctx||{})[e];return(o=o===i?s.getRsc("helpers",e):o)&&"function"==typeof o&&(t=function(){return o.apply(s,arguments)},n(t,o)),t||o}function c(e,t){for(var s=this,n=G[e],o=n&&n[t];o===i&&s;)o=(n=s.tmpl[e])&&n[t],s=s.parent;return o}function d(e,t,s,n,o,d,h,u){var p,m,g,f="array"===t,v={key:0,useKey:f?0:1,id:""+H++,onRender:u,bnds:{}},b={data:n,tmpl:o,content:h,views:f?[]:{},parent:s,ctx:e,type:t,get:r,getIndex:a,getRsc:c,hlp:l,_:v,_is:"view"};return s&&(p=s.views,(m=s._).useKey?(p[v.key="_"+m.useKey++]=b,g=m.tag,v.bnd=f&&(!g||!!g._.bnd&&g)):p.splice(v.key=b.index=d!==i?d:p.length,0,b),b.ctx=e||s.ctx),b}function h(e){var t,i,s,n,o;for(t in V)if((o=(n=V[t]).compile)&&(i=e[t+"s"]))for(s in i)i[s]=o(s,i[s],e,t,n)}function u(e,t){var i,s=Y.wrapMap||{},o=n({markup:e,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:m},t);return t.htmlTag||(i=B.exec(e),o.htmlTag=i?i[1].toLowerCase():""),(i=s[o.htmlTag])&&i!==s.div&&(o.markup=S.trim(o.markup),o._elCnt=!0),o}function p(e,t){var s=e+"s";G[s]=function n(o,r,a){var l,c,d,h;if(o&&""+o!==o&&!o.nodeType&&!o.markup){for(d in o)n(d,o[d],r);return G}return h=a?a[s]=a[s]||{}:n,r===i&&(r=o,o=i),c=t.compile,(l=X.onBeforeStoreItem)&&(c=l(h,o,r,c)||c),o?""+o===o&&(null===r?delete h[o]:h[o]=c?r=c(o,r,a,e,t):r):r=c(i,r),r&&(r._is=e),(l=X.onStoreItem)&&l(h,o,r,c),r},V[e]=t}function m(e,t,s,n,o,r){var a,l,c,h,u,p,m,f,v,b,_,y,$,C=this,x=!C.attr||"html"===C.attr,k="";if(!0===n&&(m=!0,n=0),C.tag?(f=C,b=(C=C.tag)._,y=C.tagName,$=f.tmpl,t=w(t,C.ctx),v=f.content,!1===f.props.link&&((t=t||{}).link=!1),s=s||f.view,e=e===i?s:e):$=C.jquery&&(C[0]||g('Unknown template: "'+C.selector+'"'))||C,$&&(!s&&e&&"view"===e._is&&(s=e),s&&(v=v||s.content,r=r||s._.onRender,e===s&&(e=s.data,o=!0),t=w(t,s.ctx)),s&&s.data!==i||((t=t||{}).root=e),$.fn||($=K[$]||K($)),$)){if(_=r=!1!==(t&&t.link)&&x&&r,!0===r&&(_=i,r=s._.onRender),S.isArray(e)&&!o)for(h=m?s:n!==i&&s||d(t,"array",s,e,$,n,v,r),a=0,l=e.length;a<l;a++)u=d(t,"item",h,c=e[a],$,(n||0)+a,v,r),p=$.fn(c,u,G),k+=h._.onRender?h._.onRender(p,u):p;else h=m?s:d(t,y||"data",s,e,$,n,v,r),b&&!C.flow&&(h.tag=C),k+=$.fn(e,h,G);return _?_(k,h):k}return""}function g(e){if(Y.debugMode)throw new G.sub.Error(e)}function f(e){g("Syntax error\n"+e)}function v(e,t,i,s){function n(t){(t-=c)&&h.push(e.substr(c,t).replace(L,"\\n"))}function o(t){t&&f('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+e)}var r,a=t&&t.allowCode,l=[],c=0,d=[],h=l,u=[,,,l];return e=e.replace(E,"\\$1"),o(d[0]&&d[0][3].pop()[0]),e.replace(C,function(t,l,p,m,g,v,b,w,y,S,$,C){v&&(g=":",m="html");var x,k,I=l&&[],O="",T="",D="",P=!(S=S||i)&&!g&&!b;p=p||g,n(C),c=C+t.length,w?a&&h.push(["*","\n"+y.replace(j,"$1")+"\n"]):p?("else"===p&&(M.test(y)&&f('for "{{else if expr}}" use "{{else expr}}"'),I=u[6],u[7]=e.substring(u[7],C),u=d.pop(),h=u[3],P=!0),y&&(O=_(y=y.replace(L," "),I).replace(N,function(e,t,i){return t?D+=i+",":T+=i+",",""})),T=T.slice(0,-1),O=O.slice(0,-1),x=T&&T.indexOf("noerror:true")+1&&T||"",r=[p,m||!!s||"",O,P&&[],'params:"'+y+'",props:{'+T+"}"+(D?",ctx:{"+D.slice(0,-1)+"}":""),x,I||0],h.push(r),P&&(d.push(u),(u=r)[7]=c)):$&&(o($!==(k=u[0])&&"else"!==k&&$),u[7]=e.substring(u[7],C),u=d.pop()),o(!u&&$),h=u[3]}),n(e.length),(c=l[l.length-1])&&o(""+c!==c&&+c[7]===c[7]&&c[0]),b(l,t||e,i)}function b(e,i,s){var n,o,r,a,l,c,d,h,p,m,g,v,_,w,y,S,$,C,x,k,I,O,T,D,P=0,A="",j="",E={},N=e.length;for(""+i===i?(w=s?'data-link="'+i.replace(L," ").slice(1,-1)+'"':i,i=0):(w=i.tmplName||"unnamed",i.allowCode&&(E.allowCode=!0),i.debug&&(E.debug=!0),g=i.bnds,_=i.tmpls),n=0;n<N;n++)if(""+(o=e[n])===o)A+='\nret+="'+o+'";';else if("*"===(r=o[0]))A+=""+o[1];else{if(a=o[1],l=o[2],$=o[3],c=o[4],j=o[5],C=o[7],(I="else"===r)||(P=0,g&&(v=o[6])&&(P=g.push(v))),(O=":"===r)?(a&&(r="html"===a?">":a+r),j&&(j="try{var "+(T="prm"+n)+"=["+l+"][0];}catch(e){"+T+'="";}\n',l=T)):($&&((y=u(C,E)).tmplName=w+"/"+r,b($,y),_.push(y)),I||(S=r,k=A,A="",n),x=(x=e[n+1])&&"else"===x[0]),c+=",args:["+l+"]}",O&&v||a&&">"!==r){if((D=new Function("data,view,j,u"," // "+w+" "+P+" "+r+"\n"+j+"return {"+c+";")).paths=v,D._ctxs=r,s)return D;m=!0}if(A+=O?"\n"+(v?"":j)+(s?"return ":"ret+=")+(m?(m=!0,'c("'+a+'",view,'+(v?(g[P-1]=D,P):"{"+c)+");"):">"===r?(h=!0,"h("+l+");"):(p=!0,"(v="+l+")!="+(s?"=":"")+'u?v:"";')):(d=!0,"{tmpl:"+($?_.length:"0")+","+c+","),S&&!x){if(A="["+A.slice(0,-1)+"]",(s||v)&&(A=new Function("data,view,j,u"," // "+w+" "+P+" "+S+"\nreturn "+A+";"),v&&((g[P-1]=A).paths=v),A._ctxs=r,s))return A;A=k+'\nret+=t("'+S+'",view,this,'+(P||A)+");",v=0,S=0}}A="// "+w+"\nvar j=j||"+(t?"jQuery.":"js")+"views"+(p?",v":"")+(d?",t=j._tag":"")+(m?",c=j._cnvt":"")+(h?",h=j.converters.html":"")+(s?";\n":',ret="";\n')+(Y.tryCatch?"try{\n":"")+(E.debug?"debugger;":"")+A+(s?"\n":"\nreturn ret;\n")+(Y.tryCatch?"\n}catch(e){return j._err(e);}":"");try{A=new Function("data,view,j,u",A)}catch(e){f("Compiled template code:\n\n"+A)}return i&&(i.fn=A),A}function _(e,t){var i,s,n={},o={0:-1},r=0,a=!1,l=!1;return(e+" ").replace(A,function(c,d,h,u,p,m,g,v,b,_,w,y,S,$,C,x,k,I,O){if(p=p||"",h=h||d||w,u=u||v,t&&C&&t.push({_jsvOb:O.slice(o[r-1]+1,I+1)}),b=b||x||"",!m)return l?(l=!y)?c:'"':a?(a=!S)?c:'"':(h?(r++,o[r]=I,h):"")+(k?r?"":i?(i=s=!1,"\b"):",":g?(r&&f(e),i=u,s="~"===u.charAt(0),"\b"+u+":"):u?u.split("^").join(".").replace(P,function(e,i,n,o,r,a,l){if(i&&(t&&!s&&t.push(u),"."!==i)){var c=(n?'view.hlp("'+n+'")':o?"view":"data")+(l?(r?"."+r:n||o?"":"."+i)+(a||""):(l=n?"":o?r||"":i,""));return"view.data"===(c+=l?"."+l:"").slice(0,9)?c.slice(5):c}return e})+(b?(n[++r]=!0,b):p):p||($?(n[r--]=!1,$+(b?(n[++r]=!0,b):"")):_?(n[r]||f(e),","):d?"":(l=y,a=S,'"')));f(e)})}function w(e,t){return e&&e!==t?t?n(n({},t),e):e:t&&n({},t)}function y(e){return z[e]}if(!(t&&t.views||e.jsviews)){var S,$,C,x,k="{",I="{",O="}",T="}",D="^",P=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,A=/(\()(?=\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*((\))(?=\s*\.|\s*\^)|\)|\])([([]?))|(\s+)/g,L=/\s*\n/g,j=/\\(['"])/g,E=/([\\'"])/g,N=/\x08(~)?([^\x08]+)\x08/g,M=/^if\s/,B=/<(\w+)[>\s]/,R=/[<"'&]/g,U=/[><"'&]/g,W=0,H=0,z={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;"},F="data-jsv-tmpl",q={},V={template:{compile:function s(n,o,r,a,l,c){function d(i){if(""+i===i||i.nodeType>0){try{m=i.nodeType>0?i:!x.test(i)&&t&&t(e.document).find(i)[0]}catch(e){}return m&&(i=m.getAttribute(F),n=n||i,(i=K[i])||(n=n||"_"+W++,m.setAttribute(F,n),i=K[n]=s(n,m.innerHTML,r,a,l,c))),i}}var p,m;return p=d(o=o||""),(c=c||(o.markup?o:{})).tmplName=n,r&&(c._parentTmpl=r),!p&&o.markup&&(p=d(o.markup))&&p.fn&&(p.debug!==o.debug||p.allowCode!==o.allowCode)&&(p=p.markup),p!==i?(n&&!r&&(q[n]=function(){return o.render.apply(o,arguments)}),p.fn||o.fn?p.fn&&(o=n&&n!==p.tmplName?w(c,p):p):v(p,o=u(p,c)),h(c),o):void 0}},tag:{compile:function(e,t,i){var s,n;return"function"==typeof t?t={depends:t.depends,render:t}:((n=t.template)&&(t.template=""+n===n?K[n]||K(n):n),!1!==t.init&&((s=t.init=t.init||function(){}).prototype=t,(s.prototype=t).constructor=s)),i&&(t._parentTmpl=i),t}},helper:{},converter:{}},G={jsviews:"v1.0pre",render:q,View:d,settings:{delimiters:o,debugMode:!0,tryCatch:!0},sub:{Error:s,tmplFn:v,parse:_,extend:n,error:g,syntaxError:f},_cnvt:function(e,t,i){var s,n,o,r=+i===i&&i,a=t.linkCtx;return r&&(i=(r=t.tmpl.bnds[r-1])(t.data,t,G)),o=i.args[0],(e||r)&&((n=a&&a.tag||{_:{inline:!a},tagName:e+":",flow:!0,_is:"tag"})._.bnd=r,a&&(a.tag=n,n.linkCtx=a,i.ctx=w(i.ctx,a.view.ctx)),n.tagCtx=i,i.view=t,n.ctx=i.ctx||{},delete i.ctx,t._.tag=n,(e="true"!==e&&e)&&((s=t.getRsc("converters",e))||g("Unknown converter: {{"+e+":"))&&(n.depends=s.depends,o=s.apply(n,i.args)),o=r&&t._.onRender?t._.onRender(o,t,r):o),o},_tag:function(e,t,s,o){var r,a,l,c,d,h,u,p,f,v,b,_,y,S="",$=+o===o&&o,C=t.linkCtx||0,x=t.ctx,k=s||t.tmpl,I=t._;for("tag"===e._is&&(e=(a=e).tagName),$&&(o=(_=k.bnds[$-1])(t.data,t,G)),u=o.length,a=a||C.tag,h=0;h<u;h++)b=(f=o[h]).tmpl,b=f.content=b&&k.tmpls[b-1],s=f.props.tmpl,h||s&&a||(y=t.getRsc("tags",e)||g("Unknown tag: {{"+e+"}}")),n(f,{tmpl:s=""+(s=s||!h&&y.template||b)===s?t.getRsc("templates",s)||K(s):s,render:m,index:h,view:t,ctx:w(f.ctx,x)}),a||(y.init?(a=new y.init(f,C,x)).attr=a.attr||y.attr||i:a={render:y.render},a._={inline:!C},C&&(C.attr=a.attr=C.attr||a.attr,C.tag=a,a.linkCtx=C),(a._.bnd=_||C)&&(a._.arrVws={}),a.tagName=e,a.parent=d=x&&x.tag,a._is="tag"),I.tag=a,f.tag=a,a.tagCtxs=o,a.rendering={},a.flow||(l=(v=f.ctx=f.ctx||{}).parentTags=x&&w(v.parentTags,x.parentTags)||{},d&&(l[d.tagName]=d),v.tag=a);for(h=0;h<u;h++)f=a.tagCtx=o[h],a.ctx=f.ctx,(r=a.render)&&(p=r.apply(a,f.args)),S+=p!==i?p:f.tmpl?f.render():"";return delete a.rendering,a.tagCtx=a.tagCtxs[0],a.ctx=a.tagCtx.ctx,a._.inline&&(c=a.attr)&&"html"!==c&&(S="text"===c?Q.html(S):""),$&&t._.onRender?t._.onRender(S,t,$):S},_err:function(e){return Y.debugMode?"Error: "+(e.message||e)+". ":""}};for($ in(s.prototype=new Error).constructor=s,a.depends=function(){return[this.get("item"),"index"]},V)p($,V[$]);var K=G.templates,Q=G.converters,J=(G.helpers,G.tags),X=G.sub,Y=G.settings;t?(S=t).fn.render=m:(S=e.jsviews={}).isArray=Array&&Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},S.render=q,S.views=G,S.templates=K=G.templates,J({else:function(){},if:{render:function(e){var t=this;return t.rendering.done||!e&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render())},onUpdate:function(e,t,i){for(var s,n,o=0;(s=this.tagCtxs[o])&&s.args.length;o++)if(n=!(s=s.args[0])!=!i[o].args[0],s||n)return n;return!1},flow:!0},for:{render:function(e){var t=this,s=t.tagCtx,n=!arguments.length,o="",r=n||0;return t.rendering.done||(n?o=i:e!==i&&(o+=s.render(e),r+=S.isArray(e)?e.length:1),(t.rendering.done=r)&&(t.selected=s.index)),o},onUpdate:function(){},onArrayChange:function(e,t){var i,s=t.change;if(this.tagCtxs[1]&&("insert"===s&&e.target.length===t.items.length||"remove"===s&&!e.target.length||"refresh"===s&&!t.oldItems.length!=!e.target.length))this.refresh();else for(i in this._.arrVws)(i=this._.arrVws[i]).data===e.target&&i._.onArrayChange.apply(i,arguments);e.done=!0},flow:!0},include:{flow:!0},"*":{render:function(e){return e},flow:!0}}),Q({html:function(e){return e!=i?String(e).replace(U,y):""},attr:function(e){return e!=i?String(e).replace(R,y):null===e?null:""},url:function(e){return e!=i?encodeURI(String(e)):null===e?null:""}}),o()}}(this,this.jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t()}(this,function(){"use strict";const e=new Map,t={set(t,i,s){e.has(t)||e.set(t,new Map);const n=e.get(t);n.has(i)||0===n.size?n.set(i,s):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(t,i)=>e.has(t)&&e.get(t).get(i)||null,remove(t,i){if(!e.has(t))return;const s=e.get(t);s.delete(i),0===s.size&&e.delete(t)}},i="transitionend",s=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),n=e=>{e.dispatchEvent(new Event(i))},o=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),r=e=>o(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(s(e)):null,a=e=>{if(!o(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},l=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),c=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?c(e.parentNode):null},d=()=>{},h=e=>{e.offsetHeight},u=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,p=[],m=()=>"rtl"===document.documentElement.dir,g=e=>{var t;t=()=>{const t=u();if(t){const i=e.NAME,s=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=s,e.jQueryInterface)}},"loading"===document.readyState?(p.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of p)e()}),p.push(t)):t()},f=(e,t=[],i=e)=>"function"==typeof e?e(...t):i,v=(e,t,s=!0)=>{if(!s)return void f(e);const o=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const s=Number.parseFloat(t),n=Number.parseFloat(i);return s||n?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let r=!1;const a=({target:s})=>{s===t&&(r=!0,t.removeEventListener(i,a),f(e))};t.addEventListener(i,a),setTimeout(()=>{r||n(t)},o)},b=(e,t,i,s)=>{const n=e.length;let o=e.indexOf(t);return-1===o?!i&&s?e[n-1]:e[0]:(o+=i?1:-1,s&&(o=(o+n)%n),e[Math.max(0,Math.min(o,n-1))])},_=/[^.]*(?=\..*)\.|.*/,w=/\..*/,y=/::\d+$/,S={};let $=1;const C={mouseenter:"mouseover",mouseleave:"mouseout"},x=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function k(e,t){return t&&`${t}::${$++}`||e.uidEvent||$++}function I(e){const t=k(e);return e.uidEvent=t,S[t]=S[t]||{},S[t]}function O(e,t,i=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===i)}function T(e,t,i){const s="string"==typeof t,n=s?i:t||i;let o=L(e);return x.has(o)||(o=e),[s,n,o]}function D(e,t,i,s,n){if("string"!=typeof t||!e)return;let[o,r,a]=T(t,i,s);if(t in C){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};r=e(r)}const l=I(e),c=l[a]||(l[a]={}),d=O(c,r,o?i:null);if(d)return void(d.oneOff=d.oneOff&&n);const h=k(r,t.replace(_,"")),u=o?function(e,t,i){return function s(n){const o=e.querySelectorAll(t);for(let{target:r}=n;r&&r!==this;r=r.parentNode)for(const a of o)if(a===r)return E(n,{delegateTarget:r}),s.oneOff&&j.off(e,n.type,t,i),i.apply(r,[n])}}(e,i,r):function(e,t){return function i(s){return E(s,{delegateTarget:e}),i.oneOff&&j.off(e,s.type,t),t.apply(e,[s])}}(e,r);u.delegationSelector=o?i:null,u.callable=r,u.oneOff=n,u.uidEvent=h,c[h]=u,e.addEventListener(a,u,o)}function P(e,t,i,s,n){const o=O(t[i],s,n);o&&(e.removeEventListener(i,o,Boolean(n)),delete t[i][o.uidEvent])}function A(e,t,i,s){const n=t[i]||{};for(const[o,r]of Object.entries(n))o.includes(s)&&P(e,t,i,r.callable,r.delegationSelector)}function L(e){return e=e.replace(w,""),C[e]||e}const j={on(e,t,i,s){D(e,t,i,s,!1)},one(e,t,i,s){D(e,t,i,s,!0)},off(e,t,i,s){if("string"!=typeof t||!e)return;const[n,o,r]=T(t,i,s),a=r!==t,l=I(e),c=l[r]||{},d=t.startsWith(".");if(void 0===o){if(d)for(const i of Object.keys(l))A(e,l,i,t.slice(1));for(const[i,s]of Object.entries(c)){const n=i.replace(y,"");a&&!t.includes(n)||P(e,l,r,s.callable,s.delegationSelector)}}else{if(!Object.keys(c).length)return;P(e,l,r,o,n?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;const s=u();let n=null,o=!0,r=!0,a=!1;t!==L(t)&&s&&(n=s.Event(t,i),s(e).trigger(n),o=!n.isPropagationStopped(),r=!n.isImmediatePropagationStopped(),a=n.isDefaultPrevented());const l=E(new Event(t,{bubbles:o,cancelable:!0}),i);return a&&l.preventDefault(),r&&e.dispatchEvent(l),l.defaultPrevented&&n&&n.preventDefault(),l}};function E(e,t={}){for(const[i,s]of Object.entries(t))try{e[i]=s}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>s})}return e}function N(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function M(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const B={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${M(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${M(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(const s of i){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=N(e.dataset[s])}return t},getDataAttribute:(e,t)=>N(e.getAttribute(`data-bs-${M(t)}`))};class R{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=o(t)?B.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...o(t)?B.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[s,n]of Object.entries(t)){const t=e[s],r=o(t)?"element":null==(i=t)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(n).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${r}" but expected type "${n}".`)}var i}}class U extends R{constructor(e,i){super(),(e=r(e))&&(this._element=e,this._config=this._getConfig(i),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){v(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(r(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const W=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return t?t.split(",").map(e=>s(e)).join(","):null},H={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){const i=[];let s=e.parentNode.closest(t);for(;s;)i.push(s),s=s.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!l(e)&&a(e))},getSelectorFromElement(e){const t=W(e);return t&&H.findOne(t)?t:null},getElementFromSelector(e){const t=W(e);return t?H.findOne(t):null},getMultipleElementsFromSelector(e){const t=W(e);return t?H.find(t):[]}},z=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,s=e.NAME;j.on(document,i,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),l(this))return;const n=H.getElementFromSelector(this)||this.closest(`.${s}`);e.getOrCreateInstance(n)[t]()})},F=".bs.alert",q=`close${F}`,V=`closed${F}`;class G extends U{static get NAME(){return"alert"}close(){if(j.trigger(this._element,q).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),j.trigger(this._element,V),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=G.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}z(G,"close"),g(G);const K='[data-bs-toggle="button"]';class Q extends U{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=Q.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}j.on(document,"click.bs.button.data-api",K,e=>{e.preventDefault();const t=e.target.closest(K);Q.getOrCreateInstance(t).toggle()}),g(Q);const J=".bs.swipe",X=`touchstart${J}`,Y=`touchmove${J}`,Z=`touchend${J}`,ee=`pointerdown${J}`,te=`pointerup${J}`,ie={endCallback:null,leftCallback:null,rightCallback:null},se={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ne extends R{constructor(e,t){super(),this._element=e,e&&ne.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ie}static get DefaultType(){return se}static get NAME(){return"swipe"}dispose(){j.off(this._element,J)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),f(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&f(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,ee,e=>this._start(e)),j.on(this._element,te,e=>this._end(e)),this._element.classList.add("pointer-event")):(j.on(this._element,X,e=>this._start(e)),j.on(this._element,Y,e=>this._move(e)),j.on(this._element,Z,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const oe=".bs.carousel",re=".data-api",ae="next",le="prev",ce="left",de="right",he=`slide${oe}`,ue=`slid${oe}`,pe=`keydown${oe}`,me=`mouseenter${oe}`,ge=`mouseleave${oe}`,fe=`dragstart${oe}`,ve=`load${oe}${re}`,be=`click${oe}${re}`,_e="carousel",we="active",ye=".active",Se=".carousel-item",$e=ye+Se,Ce={ArrowLeft:de,ArrowRight:ce},xe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ke={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ie extends U{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=H.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===_e&&this.cycle()}static get Default(){return xe}static get DefaultType(){return ke}static get NAME(){return"carousel"}next(){this._slide(ae)}nextWhenVisible(){!document.hidden&&a(this._element)&&this.next()}prev(){this._slide(le)}pause(){this._isSliding&&n(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?j.one(this._element,ue,()=>this.cycle()):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void j.one(this._element,ue,()=>this.to(e));const i=this._getItemIndex(this._getActive());if(i===e)return;const s=e>i?ae:le;this._slide(s,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&j.on(this._element,pe,e=>this._keydown(e)),"hover"===this._config.pause&&(j.on(this._element,me,()=>this.pause()),j.on(this._element,ge,()=>this._maybeEnableCycle())),this._config.touch&&ne.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of H.find(".carousel-item img",this._element))j.on(e,fe,e=>e.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(ce)),rightCallback:()=>this._slide(this._directionToOrder(de)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ne(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Ce[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=H.findOne(ye,this._indicatorsElement);t.classList.remove(we),t.removeAttribute("aria-current");const i=H.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(we),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),s=e===ae,n=t||b(this._getItems(),i,s,this._config.wrap);if(n===i)return;const o=this._getItemIndex(n),r=t=>j.trigger(this._element,t,{relatedTarget:n,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(r(he).defaultPrevented)return;if(!i||!n)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=n;const l=s?"carousel-item-start":"carousel-item-end",c=s?"carousel-item-next":"carousel-item-prev";n.classList.add(c),h(n),i.classList.add(l),n.classList.add(l),this._queueCallback(()=>{n.classList.remove(l,c),n.classList.add(we),i.classList.remove(we,c,l),this._isSliding=!1,r(ue)},i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return H.findOne($e,this._element)}_getItems(){return H.find(Se,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return m()?e===ce?le:ae:e===ce?ae:le}_orderToDirection(e){return m()?e===le?ce:de:e===le?de:ce}static jQueryInterface(e){return this.each(function(){const t=Ie.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}j.on(document,be,"[data-bs-slide], [data-bs-slide-to]",function(e){const t=H.getElementFromSelector(this);if(!t||!t.classList.contains(_e))return;e.preventDefault();const i=Ie.getOrCreateInstance(t),s=this.getAttribute("data-bs-slide-to");return s?(i.to(s),void i._maybeEnableCycle()):"next"===B.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())}),j.on(window,ve,()=>{const e=H.find('[data-bs-ride="carousel"]');for(const t of e)Ie.getOrCreateInstance(t)}),g(Ie);const Oe=".bs.collapse",Te=`show${Oe}`,De=`shown${Oe}`,Pe=`hide${Oe}`,Ae=`hidden${Oe}`,Le=`click${Oe}.data-api`,je="show",Ee="collapse",Ne="collapsing",Me=`:scope .${Ee} .${Ee}`,Be='[data-bs-toggle="collapse"]',Re={parent:null,toggle:!0},Ue={parent:"(null|element)",toggle:"boolean"};class We extends U{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=H.find(Be);for(const e of i){const t=H.getSelectorFromElement(e),i=H.find(t).filter(e=>e===this._element);null!==t&&i.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Re}static get DefaultType(){return Ue}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>We.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning)return;if(j.trigger(this._element,Te).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(Ee),this._element.classList.add(Ne),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ne),this._element.classList.add(Ee,je),this._element.style[t]="",j.trigger(this._element,De)},this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(j.trigger(this._element,Pe).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,h(this._element),this._element.classList.add(Ne),this._element.classList.remove(Ee,je);for(const e of this._triggerArray){const t=H.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ne),this._element.classList.add(Ee),j.trigger(this._element,Ae)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(je)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=r(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Be);for(const t of e){const e=H.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=H.find(Me,this._config.parent);return H.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=We.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}})}}j.on(document,Le,Be,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of H.getMultipleElementsFromSelector(this))We.getOrCreateInstance(e,{toggle:!1}).toggle()}),g(We);var He="top",ze="bottom",Fe="right",qe="left",Ve="auto",Ge=[He,ze,Fe,qe],Ke="start",Qe="end",Je="clippingParents",Xe="viewport",Ye="popper",Ze="reference",et=Ge.reduce(function(e,t){return e.concat([t+"-"+Ke,t+"-"+Qe])},[]),tt=[].concat(Ge,[Ve]).reduce(function(e,t){return e.concat([t,t+"-"+Ke,t+"-"+Qe])},[]),it="beforeRead",st="read",nt="afterRead",ot="beforeMain",rt="main",at="afterMain",lt="beforeWrite",ct="write",dt="afterWrite",ht=[it,st,nt,ot,rt,at,lt,ct,dt];function ut(e){return e?(e.nodeName||"").toLowerCase():null}function pt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function mt(e){return e instanceof pt(e).Element||e instanceof Element}function gt(e){return e instanceof pt(e).HTMLElement||e instanceof HTMLElement}function ft(e){return"undefined"!=typeof ShadowRoot&&(e instanceof pt(e).ShadowRoot||e instanceof ShadowRoot)}const vt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},n=t.elements[e];gt(n)&&ut(n)&&(Object.assign(n.style,i),Object.keys(s).forEach(function(e){var t=s[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(e){var s=t.elements[e],n=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});gt(s)&&ut(s)&&(Object.assign(s.style,o),Object.keys(n).forEach(function(e){s.removeAttribute(e)}))})}},requires:["computeStyles"]};function bt(e){return e.split("-")[0]}var _t=Math.max,wt=Math.min,yt=Math.round;function St(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $t(){return!/^((?!chrome|android).)*safari/i.test(St())}function Ct(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var s=e.getBoundingClientRect(),n=1,o=1;t&&gt(e)&&(n=e.offsetWidth>0&&yt(s.width)/e.offsetWidth||1,o=e.offsetHeight>0&&yt(s.height)/e.offsetHeight||1);var r=(mt(e)?pt(e):window).visualViewport,a=!$t()&&i,l=(s.left+(a&&r?r.offsetLeft:0))/n,c=(s.top+(a&&r?r.offsetTop:0))/o,d=s.width/n,h=s.height/o;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l,x:l,y:c}}function xt(e){var t=Ct(e),i=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:s}}function kt(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&ft(i)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function It(e){return pt(e).getComputedStyle(e)}function Ot(e){return["table","td","th"].indexOf(ut(e))>=0}function Tt(e){return((mt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Dt(e){return"html"===ut(e)?e:e.assignedSlot||e.parentNode||(ft(e)?e.host:null)||Tt(e)}function Pt(e){return gt(e)&&"fixed"!==It(e).position?e.offsetParent:null}function At(e){for(var t=pt(e),i=Pt(e);i&&Ot(i)&&"static"===It(i).position;)i=Pt(i);return i&&("html"===ut(i)||"body"===ut(i)&&"static"===It(i).position)?t:i||function(e){var t=/firefox/i.test(St());if(/Trident/i.test(St())&&gt(e)&&"fixed"===It(e).position)return null;var i=Dt(e);for(ft(i)&&(i=i.host);gt(i)&&["html","body"].indexOf(ut(i))<0;){var s=It(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(e)||t}function Lt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function jt(e,t,i){return _t(e,wt(t,i))}function Et(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Nt(e,t){return t.reduce(function(t,i){return t[i]=e,t},{})}const Mt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,s=e.name,n=e.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,a=bt(i.placement),l=Lt(a),c=[qe,Fe].indexOf(a)>=0?"height":"width";if(o&&r){var d=function(e,t){return Et("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Nt(e,Ge))}(n.padding,i),h=xt(o),u="y"===l?He:qe,p="y"===l?ze:Fe,m=i.rects.reference[c]+i.rects.reference[l]-r[l]-i.rects.popper[c],g=r[l]-i.rects.reference[l],f=At(o),v=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,b=m/2-g/2,_=d[u],w=v-h[c]-d[p],y=v/2-h[c]/2+b,S=jt(_,y,w),$=l;i.modifiersData[s]=((t={})[$]=S,t.centerOffset=S-y,t)}},effect:function(e){var t=e.state,i=e.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"!=typeof s||(s=t.elements.popper.querySelector(s)))&&kt(t.elements.popper,s)&&(t.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bt(e){return e.split("-")[1]}var Rt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ut(e){var t,i=e.popper,s=e.popperRect,n=e.placement,o=e.variation,r=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,h=e.isFixed,u=r.x,p=void 0===u?0:u,m=r.y,g=void 0===m?0:m,f="function"==typeof d?d({x:p,y:g}):{x:p,y:g};p=f.x,g=f.y;var v=r.hasOwnProperty("x"),b=r.hasOwnProperty("y"),_=qe,w=He,y=window;if(c){var S=At(i),$="clientHeight",C="clientWidth";S===pt(i)&&"static"!==It(S=Tt(i)).position&&"absolute"===a&&($="scrollHeight",C="scrollWidth"),(n===He||(n===qe||n===Fe)&&o===Qe)&&(w=ze,g-=(h&&S===y&&y.visualViewport?y.visualViewport.height:S[$])-s.height,g*=l?1:-1),n!==qe&&(n!==He&&n!==ze||o!==Qe)||(_=Fe,p-=(h&&S===y&&y.visualViewport?y.visualViewport.width:S[C])-s.width,p*=l?1:-1)}var x,k=Object.assign({position:a},c&&Rt),I=!0===d?function(e,t){var i=e.x,s=e.y,n=t.devicePixelRatio||1;return{x:yt(i*n)/n||0,y:yt(s*n)/n||0}}({x:p,y:g},pt(i)):{x:p,y:g};return p=I.x,g=I.y,l?Object.assign({},k,((x={})[w]=b?"0":"",x[_]=v?"0":"",x.transform=(y.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",x)):Object.assign({},k,((t={})[w]=b?g+"px":"",t[_]=v?p+"px":"",t.transform="",t))}const Wt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,s=i.gpuAcceleration,n=void 0===s||s,o=i.adaptive,r=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:bt(t.placement),variation:Bt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ut(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ut(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Ht={passive:!0};const zt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,s=e.options,n=s.scroll,o=void 0===n||n,r=s.resize,a=void 0===r||r,l=pt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",i.update,Ht)}),a&&l.addEventListener("resize",i.update,Ht),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",i.update,Ht)}),a&&l.removeEventListener("resize",i.update,Ht)}},data:{}};var Ft={left:"right",right:"left",bottom:"top",top:"bottom"};function qt(e){return e.replace(/left|right|bottom|top/g,function(e){return Ft[e]})}var Vt={start:"end",end:"start"};function Gt(e){return e.replace(/start|end/g,function(e){return Vt[e]})}function Kt(e){var t=pt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Qt(e){return Ct(Tt(e)).left+Kt(e).scrollLeft}function Jt(e){var t=It(e),i=t.overflow,s=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+s)}function Xt(e){return["html","body","#document"].indexOf(ut(e))>=0?e.ownerDocument.body:gt(e)&&Jt(e)?e:Xt(Dt(e))}function Yt(e,t){var i;void 0===t&&(t=[]);var s=Xt(e),n=s===(null==(i=e.ownerDocument)?void 0:i.body),o=pt(s),r=n?[o].concat(o.visualViewport||[],Jt(s)?s:[]):s,a=t.concat(r);return n?a:a.concat(Yt(Dt(r)))}function Zt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ei(e,t,i){return t===Xe?Zt(function(e,t){var i=pt(e),s=Tt(e),n=i.visualViewport,o=s.clientWidth,r=s.clientHeight,a=0,l=0;if(n){o=n.width,r=n.height;var c=$t();(c||!c&&"fixed"===t)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:o,height:r,x:a+Qt(e),y:l}}(e,i)):mt(t)?function(e,t){var i=Ct(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):Zt(function(e){var t,i=Tt(e),s=Kt(e),n=null==(t=e.ownerDocument)?void 0:t.body,o=_t(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),r=_t(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-s.scrollLeft+Qt(e),l=-s.scrollTop;return"rtl"===It(n||i).direction&&(a+=_t(i.clientWidth,n?n.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}(Tt(e)))}function ti(e){var t,i=e.reference,s=e.element,n=e.placement,o=n?bt(n):null,r=n?Bt(n):null,a=i.x+i.width/2-s.width/2,l=i.y+i.height/2-s.height/2;switch(o){case He:t={x:a,y:i.y-s.height};break;case ze:t={x:a,y:i.y+i.height};break;case Fe:t={x:i.x+i.width,y:l};break;case qe:t={x:i.x-s.width,y:l};break;default:t={x:i.x,y:i.y}}var c=o?Lt(o):null;if(null!=c){var d="y"===c?"height":"width";switch(r){case Ke:t[c]=t[c]-(i[d]/2-s[d]/2);break;case Qe:t[c]=t[c]+(i[d]/2-s[d]/2)}}return t}function ii(e,t){void 0===t&&(t={});var i=t,s=i.placement,n=void 0===s?e.placement:s,o=i.strategy,r=void 0===o?e.strategy:o,a=i.boundary,l=void 0===a?Je:a,c=i.rootBoundary,d=void 0===c?Xe:c,h=i.elementContext,u=void 0===h?Ye:h,p=i.altBoundary,m=void 0!==p&&p,g=i.padding,f=void 0===g?0:g,v=Et("number"!=typeof f?f:Nt(f,Ge)),b=u===Ye?Ze:Ye,_=e.rects.popper,w=e.elements[m?b:u],y=function(e,t,i,s){var n="clippingParents"===t?function(e){var t=Yt(Dt(e)),i=["absolute","fixed"].indexOf(It(e).position)>=0&&gt(e)?At(e):e;return mt(i)?t.filter(function(e){return mt(e)&&kt(e,i)&&"body"!==ut(e)}):[]}(e):[].concat(t),o=[].concat(n,[i]),r=o[0],a=o.reduce(function(t,i){var n=ei(e,i,s);return t.top=_t(n.top,t.top),t.right=wt(n.right,t.right),t.bottom=wt(n.bottom,t.bottom),t.left=_t(n.left,t.left),t},ei(e,r,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(mt(w)?w:w.contextElement||Tt(e.elements.popper),l,d,r),S=Ct(e.elements.reference),$=ti({reference:S,element:_,strategy:"absolute",placement:n}),C=Zt(Object.assign({},_,$)),x=u===Ye?C:S,k={top:y.top-x.top+v.top,bottom:x.bottom-y.bottom+v.bottom,left:y.left-x.left+v.left,right:x.right-y.right+v.right},I=e.modifiersData.offset;if(u===Ye&&I){var O=I[n];Object.keys(k).forEach(function(e){var t=[Fe,ze].indexOf(e)>=0?1:-1,i=[He,ze].indexOf(e)>=0?"y":"x";k[e]+=O[i]*t})}return k}const si={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var n=i.mainAxis,o=void 0===n||n,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,c=i.padding,d=i.boundary,h=i.rootBoundary,u=i.altBoundary,p=i.flipVariations,m=void 0===p||p,g=i.allowedAutoPlacements,f=t.options.placement,v=bt(f),b=l||(v!==f&&m?function(e){if(bt(e)===Ve)return[];var t=qt(e);return[Gt(e),t,Gt(t)]}(f):[qt(f)]),_=[f].concat(b).reduce(function(e,i){return e.concat(bt(i)===Ve?function(e,t){void 0===t&&(t={});var i=t,s=i.placement,n=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?tt:l,d=Bt(s),h=d?a?et:et.filter(function(e){return Bt(e)===d}):Ge,u=h.filter(function(e){return c.indexOf(e)>=0});0===u.length&&(u=h);var p=u.reduce(function(t,i){return t[i]=ii(e,{placement:i,boundary:n,rootBoundary:o,padding:r})[bt(i)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:i,boundary:d,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:g}):i)},[]),w=t.rects.reference,y=t.rects.popper,S=new Map,$=!0,C=_[0],x=0;x<_.length;x++){var k=_[x],I=bt(k),O=Bt(k)===Ke,T=[He,ze].indexOf(I)>=0,D=T?"width":"height",P=ii(t,{placement:k,boundary:d,rootBoundary:h,altBoundary:u,padding:c}),A=T?O?Fe:qe:O?ze:He;w[D]>y[D]&&(A=qt(A));var L=qt(A),j=[];if(o&&j.push(P[I]<=0),a&&j.push(P[A]<=0,P[L]<=0),j.every(function(e){return e})){C=k,$=!1;break}S.set(k,j)}if($)for(var E=function(e){var t=_.find(function(t){var i=S.get(t);if(i)return i.slice(0,e).every(function(e){return e})});if(t)return C=t,"break"},N=m?3:1;N>0&&"break"!==E(N);N--);t.placement!==C&&(t.modifiersData[s]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ni(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function oi(e){return[He,Fe,ze,qe].some(function(t){return e[t]>=0})}const ri={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,s=t.rects.reference,n=t.rects.popper,o=t.modifiersData.preventOverflow,r=ii(t,{elementContext:"reference"}),a=ii(t,{altBoundary:!0}),l=ni(r,s),c=ni(a,n,o),d=oi(l),h=oi(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}},ai={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,s=e.name,n=i.offset,o=void 0===n?[0,0]:n,r=tt.reduce(function(e,i){return e[i]=function(e,t,i){var s=bt(e),n=[qe,He].indexOf(s)>=0?-1:1,o="function"==typeof i?i(Object.assign({},t,{placement:e})):i,r=o[0],a=o[1];return r=r||0,a=(a||0)*n,[qe,Fe].indexOf(s)>=0?{x:a,y:r}:{x:r,y:a}}(i,t.rects,o),e},{}),a=r[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[s]=r}},li={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=ti({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ci={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,s=e.name,n=i.mainAxis,o=void 0===n||n,r=i.altAxis,a=void 0!==r&&r,l=i.boundary,c=i.rootBoundary,d=i.altBoundary,h=i.padding,u=i.tether,p=void 0===u||u,m=i.tetherOffset,g=void 0===m?0:m,f=ii(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),v=bt(t.placement),b=Bt(t.placement),_=!b,w=Lt(v),y="x"===w?"y":"x",S=t.modifiersData.popperOffsets,$=t.rects.reference,C=t.rects.popper,x="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,k="number"==typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(S){if(o){var T,D="y"===w?He:qe,P="y"===w?ze:Fe,A="y"===w?"height":"width",L=S[w],j=L+f[D],E=L-f[P],N=p?-C[A]/2:0,M=b===Ke?$[A]:C[A],B=b===Ke?-C[A]:-$[A],R=t.elements.arrow,U=p&&R?xt(R):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=W[D],z=W[P],F=jt(0,$[A],U[A]),q=_?$[A]/2-N-F-H-k.mainAxis:M-F-H-k.mainAxis,V=_?-$[A]/2+N+F+z+k.mainAxis:B+F+z+k.mainAxis,G=t.elements.arrow&&At(t.elements.arrow),K=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,Q=null!=(T=null==I?void 0:I[w])?T:0,J=L+V-Q,X=jt(p?wt(j,L+q-Q-K):j,L,p?_t(E,J):E);S[w]=X,O[w]=X-L}if(a){var Y,Z="x"===w?He:qe,ee="x"===w?ze:Fe,te=S[y],ie="y"===y?"height":"width",se=te+f[Z],ne=te-f[ee],oe=-1!==[He,qe].indexOf(v),re=null!=(Y=null==I?void 0:I[y])?Y:0,ae=oe?se:te-$[ie]-C[ie]-re+k.altAxis,le=oe?te+$[ie]+C[ie]-re-k.altAxis:ne,ce=p&&oe?function(e,t,i){var s=jt(e,t,i);return s>i?i:s}(ae,te,le):jt(p?ae:se,te,p?le:ne);S[y]=ce,O[y]=ce-te}t.modifiersData[s]=O}},requiresIfExists:["offset"]};function di(e,t,i){void 0===i&&(i=!1);var s,n,o=gt(t),r=gt(t)&&function(e){var t=e.getBoundingClientRect(),i=yt(t.width)/e.offsetWidth||1,s=yt(t.height)/e.offsetHeight||1;return 1!==i||1!==s}(t),a=Tt(t),l=Ct(e,r,i),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!i)&&(("body"!==ut(t)||Jt(a))&&(c=(s=t)!==pt(s)&&gt(s)?{scrollLeft:(n=s).scrollLeft,scrollTop:n.scrollTop}:Kt(s)),gt(t)?((d=Ct(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):a&&(d.x=Qt(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function hi(e){var t=new Map,i=new Set,s=[];function n(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!i.has(e)){var s=t.get(e);s&&n(s)}}),s.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||n(e)}),s}var ui={placement:"bottom",modifiers:[],strategy:"absolute"};function pi(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function mi(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,s=void 0===i?[]:i,n=t.defaultOptions,o=void 0===n?ui:n;return function(e,t,i){void 0===i&&(i=o);var n,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},ui,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:a,setOptions:function(i){var n="function"==typeof i?i(a.options):i;h(),a.options=Object.assign({},o,a.options,n),a.scrollParents={reference:mt(e)?Yt(e):e.contextElement?Yt(e.contextElement):[],popper:Yt(t)};var r,c,u=function(e){var t=hi(e);return ht.reduce(function(e,i){return e.concat(t.filter(function(e){return e.phase===i}))},[])}((r=[].concat(s,a.options.modifiers),c=r.reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return a.orderedModifiers=u.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,s=void 0===i?{}:i,n=e.effect;if("function"==typeof n){var o=n({state:a,name:t,instance:d,options:s});l.push(o||function(){})}}),d.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,i=e.popper;if(pi(t,i)){a.rects={reference:di(t,At(i),"fixed"===a.options.strategy),popper:xt(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var s=0;s<a.orderedModifiers.length;s++)if(!0!==a.reset){var n=a.orderedModifiers[s],o=n.fn,r=n.options,l=void 0===r?{}:r,h=n.name;"function"==typeof o&&(a=o({state:a,options:l,name:h,instance:d})||a)}else a.reset=!1,s=-1}}},update:(n=function(){return new Promise(function(e){d.forceUpdate(),e(a)})},function(){return r||(r=new Promise(function(e){Promise.resolve().then(function(){r=void 0,e(n())})})),r}),destroy:function(){h(),c=!0}};if(!pi(e,t))return d;function h(){l.forEach(function(e){return e()}),l=[]}return d.setOptions(i).then(function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)}),d}}var gi=mi(),fi=mi({defaultModifiers:[zt,li,Wt,vt]}),vi=mi({defaultModifiers:[zt,li,Wt,vt,ai,si,ci,Mt,ri]});const bi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:at,afterRead:nt,afterWrite:dt,applyStyles:vt,arrow:Mt,auto:Ve,basePlacements:Ge,beforeMain:ot,beforeRead:it,beforeWrite:lt,bottom:ze,clippingParents:Je,computeStyles:Wt,createPopper:vi,createPopperBase:gi,createPopperLite:fi,detectOverflow:ii,end:Qe,eventListeners:zt,flip:si,hide:ri,left:qe,main:rt,modifierPhases:ht,offset:ai,placements:tt,popper:Ye,popperGenerator:mi,popperOffsets:li,preventOverflow:ci,read:st,reference:Ze,right:Fe,start:Ke,top:He,variationPlacements:et,viewport:Xe,write:ct},Symbol.toStringTag,{value:"Module"})),_i="dropdown",wi=".bs.dropdown",yi=".data-api",Si="ArrowUp",$i="ArrowDown",Ci=`hide${wi}`,xi=`hidden${wi}`,ki=`show${wi}`,Ii=`shown${wi}`,Oi=`click${wi}${yi}`,Ti=`keydown${wi}${yi}`,Di=`keyup${wi}${yi}`,Pi="show",Ai='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Li=`${Ai}.${Pi}`,ji=".dropdown-menu",Ei=m()?"top-end":"top-start",Ni=m()?"top-start":"top-end",Mi=m()?"bottom-end":"bottom-start",Bi=m()?"bottom-start":"bottom-end",Ri=m()?"left-start":"right-start",Ui=m()?"right-start":"left-start",Wi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Hi={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class zi extends U{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=H.next(this._element,ji)[0]||H.prev(this._element,ji)[0]||H.findOne(ji,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Wi}static get DefaultType(){return Hi}static get NAME(){return _i}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!j.trigger(this._element,ki,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))j.on(e,"mouseover",d);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Pi),this._element.classList.add(Pi),j.trigger(this._element,Ii,e)}}hide(){if(l(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!j.trigger(this._element,Ci,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.off(e,"mouseover",d);this._popper&&this._popper.destroy(),this._menu.classList.remove(Pi),this._element.classList.remove(Pi),this._element.setAttribute("aria-expanded","false"),B.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,xi,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!o(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${_i.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===bi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:o(this._config.reference)?e=r(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=vi(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Pi)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Ri;if(e.classList.contains("dropstart"))return Ui;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Ni:Ei:t?Bi:Mi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(B.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...f(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const i=H.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>a(e));i.length&&b(i,t,e===$i,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=zi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=H.find(Li);for(const i of t){const t=zi.getInstance(i);if(!t||!1===t._config.autoClose)continue;const s=e.composedPath(),n=s.includes(t._menu);if(s.includes(t._element)||"inside"===t._config.autoClose&&!n||"outside"===t._config.autoClose&&n)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,s=[Si,$i].includes(e.key);if(!s&&!i)return;if(t&&!i)return;e.preventDefault();const n=this.matches(Ai)?this:H.prev(this,Ai)[0]||H.next(this,Ai)[0]||H.findOne(Ai,e.delegateTarget.parentNode),o=zi.getOrCreateInstance(n);if(s)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),n.focus())}}j.on(document,Ti,Ai,zi.dataApiKeydownHandler),j.on(document,Ti,ji,zi.dataApiKeydownHandler),j.on(document,Oi,zi.clearMenus),j.on(document,Di,zi.clearMenus),j.on(document,Oi,Ai,function(e){e.preventDefault(),zi.getOrCreateInstance(this).toggle()}),g(zi);const Fi="backdrop",qi="show",Vi=`mousedown.bs.${Fi}`,Gi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ki={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Qi extends R{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Gi}static get DefaultType(){return Ki}static get NAME(){return Fi}show(e){if(!this._config.isVisible)return void f(e);this._append();const t=this._getElement();this._config.isAnimated&&h(t),t.classList.add(qi),this._emulateAnimation(()=>{f(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(qi),this._emulateAnimation(()=>{this.dispose(),f(e)})):f(e)}dispose(){this._isAppended&&(j.off(this._element,Vi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=r(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),j.on(e,Vi,()=>{f(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){v(e,this._getElement(),this._config.isAnimated)}}const Ji=".bs.focustrap",Xi=`focusin${Ji}`,Yi=`keydown.tab${Ji}`,Zi="backward",es={autofocus:!0,trapElement:null},ts={autofocus:"boolean",trapElement:"element"};class is extends R{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return es}static get DefaultType(){return ts}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,Ji),j.on(document,Xi,e=>this._handleFocusin(e)),j.on(document,Yi,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,Ji))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=H.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===Zi?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Zi:"forward")}}const ss=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ns=".sticky-top",os="padding-right",rs="margin-right";class as{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,os,t=>t+e),this._setElementAttributes(ss,os,t=>t+e),this._setElementAttributes(ns,rs,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,os),this._resetElementAttributes(ss,os),this._resetElementAttributes(ns,rs)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const s=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+s)return;this._saveInitialAttribute(e,t);const n=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(n))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&B.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{const i=B.getDataAttribute(e,t);null!==i?(B.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(o(e))t(e);else for(const i of H.find(e,this._element))t(i)}}const ls=".bs.modal",cs=`hide${ls}`,ds=`hidePrevented${ls}`,hs=`hidden${ls}`,us=`show${ls}`,ps=`shown${ls}`,ms=`resize${ls}`,gs=`click.dismiss${ls}`,fs=`mousedown.dismiss${ls}`,vs=`keydown.dismiss${ls}`,bs=`click${ls}.data-api`,_s="modal-open",ws="show",ys="modal-static",Ss={backdrop:!0,focus:!0,keyboard:!0},$s={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Cs extends U{constructor(e,t){super(e,t),this._dialog=H.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new as,this._addEventListeners()}static get Default(){return Ss}static get DefaultType(){return $s}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||j.trigger(this._element,us,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(_s),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(j.trigger(this._element,cs).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ws),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){j.off(window,ls),j.off(this._dialog,ls),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Qi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new is({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=H.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),h(this._element),this._element.classList.add(ws),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,ps,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,vs,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),j.on(window,ms,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,fs,e=>{j.one(this._element,gs,t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(_s),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,hs)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(j.trigger(this._element,ds).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(ys)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(ys),this._queueCallback(()=>{this._element.classList.remove(ys),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const e=m()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){const e=m()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=Cs.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}})}}j.on(document,bs,'[data-bs-toggle="modal"]',function(e){const t=H.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),j.one(t,us,e=>{e.defaultPrevented||j.one(t,hs,()=>{a(this)&&this.focus()})});const i=H.findOne(".modal.show");i&&Cs.getInstance(i).hide(),Cs.getOrCreateInstance(t).toggle(this)}),z(Cs),g(Cs);const xs=".bs.offcanvas",ks=".data-api",Is=`load${xs}${ks}`,Os="show",Ts="showing",Ds="hiding",Ps=".offcanvas.show",As=`show${xs}`,Ls=`shown${xs}`,js=`hide${xs}`,Es=`hidePrevented${xs}`,Ns=`hidden${xs}`,Ms=`resize${xs}`,Bs=`click${xs}${ks}`,Rs=`keydown.dismiss${xs}`,Us={backdrop:!0,keyboard:!0,scroll:!1},Ws={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Hs extends U{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Us}static get DefaultType(){return Ws}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||j.trigger(this._element,As,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new as).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ts),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Os),this._element.classList.remove(Ts),j.trigger(this._element,Ls,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&(j.trigger(this._element,js).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ds),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Os,Ds),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new as).reset(),j.trigger(this._element,Ns)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Qi({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():j.trigger(this._element,Es)}:null})}_initializeFocusTrap(){return new is({trapElement:this._element})}_addEventListeners(){j.on(this._element,Rs,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():j.trigger(this._element,Es))})}static jQueryInterface(e){return this.each(function(){const t=Hs.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}j.on(document,Bs,'[data-bs-toggle="offcanvas"]',function(e){const t=H.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this))return;j.one(t,Ns,()=>{a(this)&&this.focus()});const i=H.findOne(Ps);i&&i!==t&&Hs.getInstance(i).hide(),Hs.getOrCreateInstance(t).toggle(this)}),j.on(window,Is,()=>{for(const e of H.find(Ps))Hs.getOrCreateInstance(e).show()}),j.on(window,Ms,()=>{for(const e of H.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Hs.getOrCreateInstance(e).hide()}),z(Hs),g(Hs);const zs={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Fs=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qs=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Vs=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!Fs.has(i)||Boolean(qs.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(i))},Gs={allowList:zs,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ks={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Qs={entry:"(string|element|function|null)",selector:"(string|element)"};class Js extends R{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Gs}static get DefaultType(){return Ks}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(e,i,t);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Qs)}_setContent(e,t,i){const s=H.findOne(i,e);s&&((t=this._resolvePossibleFunction(t))?o(t)?this._putElementInTemplate(r(t),s):this._config.html?s.innerHTML=this._maybeSanitize(t):s.textContent=t:s.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const s=(new window.DOMParser).parseFromString(e,"text/html"),n=[].concat(...s.body.querySelectorAll("*"));for(const e of n){const i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}const s=[].concat(...e.attributes),n=[].concat(t["*"]||[],t[i]||[]);for(const t of s)Vs(t,n)||e.removeAttribute(t.nodeName)}return s.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return f(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Xs=new Set(["sanitize","allowList","sanitizeFn"]),Ys="fade",Zs="show",en=".modal",tn="hide.bs.modal",sn="hover",nn="focus",on={AUTO:"auto",TOP:"top",RIGHT:m()?"left":"right",BOTTOM:"bottom",LEFT:m()?"right":"left"},rn={allowList:zs,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},an={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ln extends U{constructor(e,t){if(void 0===bi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return rn}static get DefaultType(){return an}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(en),tn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=j.trigger(this._element,this.constructor.eventName("show")),t=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),j.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(Zs),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.on(e,"mouseover",d);this._queueCallback(()=>{j.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!j.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Zs),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.off(e,"mouseover",d);this._activeTrigger.click=!1,this._activeTrigger[nn]=!1,this._activeTrigger[sn]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Ys,Zs),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Ys),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Js({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ys)}_isShown(){return this.tip&&this.tip.classList.contains(Zs)}_createPopper(e){const t=f(this._config.placement,[this,e,this._element]),i=on[t.toUpperCase()];return vi(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return f(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...f(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)j.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==t){const e=t===sn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===sn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");j.on(this._element,e,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?nn:sn]=!0,t._enter()}),j.on(this._element,i,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?nn:sn]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(en),tn,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=B.getDataAttributes(this._element);for(const e of Object.keys(t))Xs.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:r(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=ln.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}g(ln);const cn={...ln.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},dn={...ln.DefaultType,content:"(null|string|element|function)"};class hn extends ln{static get Default(){return cn}static get DefaultType(){return dn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=hn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}g(hn);const un=".bs.scrollspy",pn=`activate${un}`,mn=`click${un}`,gn=`load${un}.data-api`,fn="active",vn="[href]",bn=".nav-link",_n=`${bn}, .nav-item > ${bn}, .list-group-item`,wn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},yn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Sn extends U{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return wn}static get DefaultType(){return yn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=r(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,mn),j.on(this._config.target,mn,vn,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,s=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},s=(this._rootElement||document.documentElement).scrollTop,n=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(n&&e){if(i(o),!s)return}else n||e||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=H.find(vn,this._config.target);for(const t of e){if(!t.hash||l(t))continue;const e=H.findOne(decodeURI(t.hash),this._element);a(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(fn),this._activateParents(e),j.trigger(this._element,pn,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))H.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(fn);else for(const t of H.parents(e,".nav, .list-group"))for(const e of H.prev(t,_n))e.classList.add(fn)}_clearActiveClass(e){e.classList.remove(fn);const t=H.find(`${vn}.${fn}`,e);for(const e of t)e.classList.remove(fn)}static jQueryInterface(e){return this.each(function(){const t=Sn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}j.on(window,gn,()=>{for(const e of H.find('[data-bs-spy="scroll"]'))Sn.getOrCreateInstance(e)}),g(Sn);const $n=".bs.tab",Cn=`hide${$n}`,xn=`hidden${$n}`,kn=`show${$n}`,In=`shown${$n}`,On=`click${$n}`,Tn=`keydown${$n}`,Dn=`load${$n}`,Pn="ArrowLeft",An="ArrowRight",Ln="ArrowUp",jn="ArrowDown",En="Home",Nn="End",Mn="active",Bn="fade",Rn="show",Un=".dropdown-toggle",Wn=`:not(${Un})`,Hn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',zn=`.nav-link${Wn}, .list-group-item${Wn}, [role="tab"]${Wn}, ${Hn}`,Fn=`.${Mn}[data-bs-toggle="tab"], .${Mn}[data-bs-toggle="pill"], .${Mn}[data-bs-toggle="list"]`;class qn extends U{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,Tn,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?j.trigger(t,Cn,{relatedTarget:e}):null;j.trigger(e,kn,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Mn),this._activate(H.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),j.trigger(e,In,{relatedTarget:t})):e.classList.add(Rn)},e,e.classList.contains(Bn)))}_deactivate(e,t){e&&(e.classList.remove(Mn),e.blur(),this._deactivate(H.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),j.trigger(e,xn,{relatedTarget:t})):e.classList.remove(Rn)},e,e.classList.contains(Bn)))}_keydown(e){if(![Pn,An,Ln,jn,En,Nn].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(e=>!l(e));let i;if([En,Nn].includes(e.key))i=t[e.key===En?0:t.length-1];else{const s=[An,jn].includes(e.key);i=b(t,e.target,s,!0)}i&&(i.focus({preventScroll:!0}),qn.getOrCreateInstance(i).show())}_getChildren(){return H.find(zn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=H.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const s=(e,s)=>{const n=H.findOne(e,i);n&&n.classList.toggle(s,t)};s(Un,Mn),s(".dropdown-menu",Rn),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(Mn)}_getInnerElement(e){return e.matches(zn)?e:H.findOne(zn,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=qn.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}j.on(document,On,Hn,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this)||qn.getOrCreateInstance(this).show()}),j.on(window,Dn,()=>{for(const e of H.find(Fn))qn.getOrCreateInstance(e)}),g(qn);const Vn=".bs.toast",Gn=`mouseover${Vn}`,Kn=`mouseout${Vn}`,Qn=`focusin${Vn}`,Jn=`focusout${Vn}`,Xn=`hide${Vn}`,Yn=`hidden${Vn}`,Zn=`show${Vn}`,eo=`shown${Vn}`,to="hide",io="show",so="showing",no={animation:"boolean",autohide:"boolean",delay:"number"},oo={animation:!0,autohide:!0,delay:5e3};class ro extends U{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return oo}static get DefaultType(){return no}static get NAME(){return"toast"}show(){j.trigger(this._element,Zn).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(to),h(this._element),this._element.classList.add(io,so),this._queueCallback(()=>{this._element.classList.remove(so),j.trigger(this._element,eo),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(j.trigger(this._element,Xn).defaultPrevented||(this._element.classList.add(so),this._queueCallback(()=>{this._element.classList.add(to),this._element.classList.remove(so,io),j.trigger(this._element,Yn)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(io),super.dispose()}isShown(){return this._element.classList.contains(io)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,Gn,e=>this._onInteraction(e,!0)),j.on(this._element,Kn,e=>this._onInteraction(e,!1)),j.on(this._element,Qn,e=>this._onInteraction(e,!0)),j.on(this._element,Jn,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=ro.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}return z(ro),g(ro),{Alert:G,Button:Q,Carousel:Ie,Collapse:We,Dropdown:zi,Modal:Cs,Offcanvas:Hs,Popover:hn,ScrollSpy:Sn,Tab:qn,Toast:ro,Tooltip:ln}}),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";var t,i,s,n,o=["sanitize","whiteList","sanitizeFn"],r=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],a=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,c=["title","placeholder"];function d(t,i,s){if(s&&"function"==typeof s)return s(t);for(var n=Object.keys(i),o=0,c=t.length;o<c;o++)for(var d=t[o].querySelectorAll("*"),h=0,u=d.length;h<u;h++){var p=d[h],m=p.nodeName.toLowerCase();if(-1===n.indexOf(m))p.parentNode.removeChild(p);else for(var g=[].slice.call(p.attributes),f=[].concat(i["*"]||[],i[m]||[]),v=0,b=g.length;v<b;v++){var _=g[v];!function(t,i){var s=t.nodeName.toLowerCase();if(-1!==e.inArray(s,i))return-1===e.inArray(s,r)||Boolean(t.nodeValue.match(a)||t.nodeValue.match(l));for(var n=e(i).filter(function(e,t){return t instanceof RegExp}),o=0,c=n.length;o<c;o++)if(s.match(n[o]))return 1}(_,f)&&p.removeAttribute(_.nodeName)}}}function h(e){var t,i={};return c.forEach(function(s){(t=e.attr(s))&&(i[s]=t)}),!i.placeholder&&i.title&&(i.placeholder=i.title),i}if(!("classList"in document.createElement("_"))&&"Element"in(m=window)){var u="classList",p="prototype",m=m.Element[p],g=Object,f=function(){var t=e(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.removeClass(e)},toggle:function(e,i){return t.toggleClass(e,i)},contains:function(e){return t.hasClass(e)}}};if(g.defineProperty){var v={get:f,enumerable:!0,configurable:!0};try{g.defineProperty(m,u,v)}catch(p){void 0!==p.number&&-2146823252!==p.number||(v.enumerable=!1,g.defineProperty(m,u,v))}}else g[p].__defineGetter__&&m.__defineGetter__(u,f)}function b(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==n.call(e))throw new TypeError;var i=t.length,s=String(e),o=s.length,r=((e=(e=1<arguments.length?arguments[1]:void 0)?Number(e):0)!=e&&(e=0),Math.min(Math.max(e,0),i));if(i<o+r)return!1;for(var a=-1;++a<o;)if(t.charCodeAt(r+a)!=s.charCodeAt(a))return!1;return!0}function _(){var e=this.selectpicker.main.data,t=(e=this.options.source.data||this.options.source.search?Object.values(this.selectpicker.optionValuesDataMap):e).filter(function(e){return!(!e.selected||this.options.hideDisabled&&e.disabled)},this);if(this.options.source.data&&!this.multiple&&1<t.length){for(var i=0;i<t.length-1;i++)t[i].selected=!1;t=[t[t.length-1]]}return t}function w(e){for(var t,i=[],s=e||_.call(this),n=0,o=s.length;n<o;n++)(t=s[n]).disabled||i.push(void 0===t.value?t.text:t.value);return this.multiple?i:i.length?i[0]:null}(v=document.createElement("_")).classList.add("c1","c2"),v.classList.contains("c2")||(t=DOMTokenList.prototype.add,i=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,t.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,i.bind(this))}),v.classList.toggle("c3",!1),v.classList.contains("c3")&&(s=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:s.call(this,e)}),v=null,Object.values="function"==typeof Object.values?Object.values:function(e){return Object.keys(e).map(function(t){return e[t]})},String.prototype.startsWith||(n={}.toString,Object.defineProperty?Object.defineProperty(String.prototype,"startsWith",{value:b,configurable:!0,writable:!0}):String.prototype.startsWith=b);var y={useDefault:!1,_set:e.valHooks.select.set},S=(e.valHooks.select.set=function(t,i){return i&&!y.useDefault&&e(t).data("selected",!0),y._set.apply(this,arguments)},null),$=function(){try{return new Event("change"),!0}catch(e){return!1}}();function C(e,t,i,s){for(var n=["display","subtext","tokens"],o=!1,r=0;r<n.length;r++){var a=n[r],l=e[a];if(l&&(l=l.toString(),"display"===a&&(l=l.replace(/<[^>]+>/g,"")),l=(l=s?D(l):l).toUpperCase(),o="function"==typeof i?i(l,t):"contains"===i?0<=l.indexOf(t):l.startsWith(t)))break}return o}function x(e){return parseInt(e,10)||0}e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent&&($?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t))};var k={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},I=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,O=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function T(e){return k[e]}function D(e){return(e=e.toString())&&e.replace(I,T).replace(O,"")}P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},g="(?:"+Object.keys(P).join("|")+")",A=RegExp(g),L=RegExp(g,"g");var P,A,L,j=function(e){return A.test(e=null==e?"":""+e)?e.replace(L,E):e};function E(e){return P[e]}var N={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},M=window.Dropdown||bootstrap.Dropdown;function B(){var t;try{t=e.fn.dropdown.Constructor.VERSION}catch(e){t=M.VERSION}return t}var R={success:!1,major:"3"};try{R.full=(B()||"").split(" ")[0].split("."),R.major=R.full[0],R.success=!0}catch(p){}var U=0,W=".bs.select",H={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},z={MENU:"."+H.MENU,DATA_TOGGLE:'data-toggle="dropdown"'},F={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment(),option:document.createElement("option")},q=(F.selectedOption=F.option.cloneNode(!1),F.selectedOption.setAttribute("selected",!0),F.noResults=F.li.cloneNode(!1),F.noResults.className="no-results",F.a.setAttribute("role","option"),F.a.className="dropdown-item",F.subtext.className="text-muted",F.text=F.span.cloneNode(!1),F.text.className="text",F.checkMark=F.span.cloneNode(!1),new RegExp("38|40")),V=new RegExp("^9$|27"),G={li:function(e,t,i){var s=F.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?s.appendChild(e):s.innerHTML=e),void 0!==t&&""!==t&&(s.className=t),null!=i&&s.classList.add("optgroup-"+i),s},a:function(e,t,i){var s=F.a.cloneNode(!0);return e&&(11===e.nodeType?s.appendChild(e):s.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&s.classList.add.apply(s.classList,t.split(/\s+/)),i&&s.setAttribute("style",i),s},text:function(e,t){var i,s,n=F.text.cloneNode(!1);if(e.content?n.innerHTML=e.content:(n.textContent=e.text,e.icon&&(i=F.whitespace.cloneNode(!1),(s=(!0===t?F.i:F.span).cloneNode(!1)).className=this.options.iconBase+" "+e.icon,F.fragment.appendChild(s),F.fragment.appendChild(i)),e.subtext&&((s=F.subtext.cloneNode(!1)).textContent=e.subtext,n.appendChild(s))),!0===t)for(;0<n.childNodes.length;)F.fragment.appendChild(n.childNodes[0]);else F.fragment.appendChild(n);return F.fragment},label:function(e){var t,i,s=F.text.cloneNode(!1);return s.innerHTML=e.display,e.icon&&(t=F.whitespace.cloneNode(!1),(i=F.span.cloneNode(!1)).className=this.options.iconBase+" "+e.icon,F.fragment.appendChild(i),F.fragment.appendChild(t)),e.subtext&&((i=F.subtext.cloneNode(!1)).textContent=e.subtext,s.appendChild(i)),F.fragment.appendChild(s),F.fragment}},K={fromOption:function(e,t){var i;switch(t){case"divider":i="true"===e.getAttribute("data-divider");break;case"text":i=e.textContent;break;case"label":i=e.label;break;case"style":i=e.style.cssText;break;case"title":i=e.title;break;default:i=e.getAttribute("data-"+t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}))}return i},fromDataSource:function(e,t){var i;switch(t){case"text":case"label":i=e.text||e.value||"";break;default:i=e[t]}return i}};function Q(e,t){e.length||(F.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+j(t)+'"'),this.$menuInner[0].firstChild.appendChild(F.noResults))}function J(e){return!(e.hidden||this.options.hideDisabled&&e.disabled)}function X(t,i){var s=this;y.useDefault||(e.valHooks.select.set=y._set,y.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{data:[],optionQueue:F.fragment.cloneNode(!1),hasMore:!1},search:{data:[],hasMore:!1},current:{},view:{},optionValuesDataMap:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){s.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},"number"==typeof(t=this.options.windowPadding)&&(this.options.windowPadding=[t,t,t,t]),this.val=X.prototype.val,this.render=X.prototype.render,this.refresh=X.prototype.refresh,this.setStyle=X.prototype.setStyle,this.selectAll=X.prototype.selectAll,this.deselectAll=X.prototype.deselectAll,this.destroy=X.prototype.destroy,this.remove=X.prototype.remove,this.show=X.prototype.show,this.hide=X.prototype.hide,this.init()}function Y(t){var i,s=arguments,n=t;if([].shift.apply(s),!R.success){try{R.full=(B()||"").split(" ")[0].split(".")}catch(t){X.BootstrapVersion?R.full=X.BootstrapVersion.split(" ")[0].split("."):(R.full=[R.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",t))}R.major=R.full[0],R.success=!0}if("4"<=R.major){var r=[];X.DEFAULTS.style===H.BUTTONCLASS&&r.push({name:"style",className:"BUTTONCLASS"}),X.DEFAULTS.iconBase===H.ICONBASE&&r.push({name:"iconBase",className:"ICONBASE"}),X.DEFAULTS.tickIcon===H.TICKICON&&r.push({name:"tickIcon",className:"TICKICON"}),H.DIVIDER="dropdown-divider",H.SHOW="show",H.BUTTONCLASS="btn-light",H.POPOVERHEADER="popover-header",H.ICONBASE="",H.TICKICON="bs-ok-default";for(var a=0;a<r.length;a++)t=r[a],X.DEFAULTS[t.name]=H[t.className]}"4"<R.major&&(z.DATA_TOGGLE='data-bs-toggle="dropdown"');var l=this.each(function(){var t=e(this);if(t.is("select")){var r=t.data("selectpicker"),a="object"==typeof n&&n;if(a.title&&(a.placeholder=a.title),r){if(a)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r.options[l]=a[l])}else{var c,d=t.data();for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&-1!==e.inArray(c,o)&&delete d[c];var u=e.extend({},X.DEFAULTS,e.fn.selectpicker.defaults||{},h(t),d,a);u.template=e.extend({},X.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},d.template,a.template),u.source=e.extend({},X.DEFAULTS.source,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.source:{},a.source),t.data("selectpicker",r=new X(this,u))}"string"==typeof n&&(i=r[n]instanceof Function?r[n].apply(r,s):r.options[n])}});return void 0!==i?i:l}X.VERSION="1.14.0-beta3",X.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",source:{pageSize:40},chunkSize:40,doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:H.BUTTONCLASS,size:"auto",title:null,placeholder:null,allowClear:!1,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:H.ICONBASE,tickIcon:H.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!0,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},X.prototype={constructor:X,init:function(){var t=this,i=this.$element.attr("id"),s=this.$element[0],n=s.form;U++,this.selectId="bs-select-"+U,s.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),s.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),n&&null===s.form&&(n.id||(n.id="form-"+this.selectId),s.setAttribute("form",n.id)),this.$button=this.$newElement.children("button"),this.options.allowClear&&(this.$clearButton=this.$button.children(".bs-select-clear-selected")),this.$menu=this.$newElement.children(z.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),s.classList.remove("bs-select-hidden"),this.fetchData(function(){t.render(!0),t.buildList(),requestAnimationFrame(function(){t.$element.trigger("loaded"+W)})}),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(H.MENURIGHT),void 0!==i&&this.$button.attr("data-id",i),this.checkDisabled(),this.clickListener(),4<R.major&&(this.dropdown=new M(this.$button[0])),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+W,function(){var e,i;t.isVirtual()&&(i=(e=t.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(i,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide"+W,e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden"+W,e)},"show.bs.dropdown":function(e){t.$element.trigger("show"+W,e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown"+W,e)}}),s.hasAttribute("required")&&this.$element.on("invalid"+W,function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown"+W+".invalid",function(){t.$element.val(t.$element.val()).off("shown"+W+".invalid")}).on("rendered"+W,function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered"+W)}),t.$button.on("blur"+W,function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur"+W)})}),n&&e(n).on("reset"+W,function(){requestAnimationFrame(function(){t.render()})})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.multiple?' aria-multiselectable="true"':"",s="",n=this.autofocus?" autofocus":"";R.major<4&&this.$element.parent().hasClass("input-group")&&(s=" input-group-btn");var o="",r="",a="",l="",c="";return this.options.header&&(o='<div class="'+H.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(r='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+j(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm"><button type="button" class="actions-btn bs-select-all btn '+H.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+H.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group"><button type="button" class="btn btn-sm '+H.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),this.options.allowClear&&(c='<span class="close bs-select-clear-selected" title="'+this.options.deselectAllText+'"><span>&times;</span>'),t='<div class="dropdown bootstrap-select'+t+s+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+z.DATA_TOGGLE+n+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner">&nbsp;</div></div> </div>'+c+"</span>"+("4"<=R.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+H.MENU+" "+("4"<=R.major?"":H.SHOW)+'">'+o+r+a+'<div class="inner '+H.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+i+'><ul class="'+H.MENU+" inner "+("4"<=R.major?H.SHOW:"")+'" role="presentation"></ul></div>'+l+"</div></div>",e(t)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex&&(this.selectpicker.view.firstHighlightIndex=e)),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.data.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,i,s){var n=this,o=0;function r(e,i){var s,o=n.selectpicker.current.data.length,a=[],l=!0,c=n.isVirtual();n.selectpicker.view.scrollTop=e;for(var h,u=n.options.chunkSize,p=Math.ceil(o/u)||1,m=0;m<p;m++){var g=m===p-1?o:(m+1)*u;if(a[m]=[m*u+(m?1:0),g],!o)break;void 0===s&&e-1<=n.selectpicker.current.data[g-1].position-n.sizeInfo.menuInnerHeight&&(s=m)}if(void 0===s&&(s=0),y=[n.selectpicker.view.position0,n.selectpicker.view.position1],f=Math.max(0,s-1),b=Math.min(p-1,s+1),n.selectpicker.view.position0=!1!==c&&Math.max(0,a[f][0])||0,n.selectpicker.view.position1=!1===c?o:Math.min(o,a[b][1])||0,f=y[0]!==n.selectpicker.view.position0||y[1]!==n.selectpicker.view.position1,void 0!==n.activeElement&&(i&&(n.activeElement!==n.selectedElement&&n.defocusItem(n.activeElement),n.activeElement=void 0),n.activeElement!==n.selectedElement&&n.defocusItem(n.selectedElement)),void 0!==n.prevActiveElement&&n.prevActiveElement!==n.activeElement&&n.prevActiveElement!==n.selectedElement&&n.defocusItem(n.prevActiveElement),i||f||n.selectpicker.current.hasMore){if(b=n.selectpicker.view.visibleElements?n.selectpicker.view.visibleElements.slice():[],n.selectpicker.view.visibleElements=!1===c?n.selectpicker.current.elements:n.selectpicker.current.elements.slice(n.selectpicker.view.position0,n.selectpicker.view.position1),n.setOptionStatus(),(t||!1===c&&i)&&(y=b,h=n.selectpicker.view.visibleElements,l=!(y.length===h.length&&y.every(function(e,t){return e===h[t]}))),(i||!0===c)&&l){var f=n.$menuInner[0],v=document.createDocumentFragment(),b=f.firstChild.cloneNode(!1),_=n.selectpicker.view.visibleElements,w=[];f.replaceChild(b,f.firstChild);m=0;for(var y,S=_.length;m<S;m++){var $,C,x=_[m];n.options.sanitize&&($=x.lastChild)&&(C=n.selectpicker.current.data[m+n.selectpicker.view.position0])&&C.content&&!C.sanitized&&(w.push($),C.sanitized=!0),v.appendChild(x)}n.options.sanitize&&w.length&&d(w,n.options.whiteList,n.options.sanitizeFn),!0===c?(y=0===n.selectpicker.view.position0?0:n.selectpicker.current.data[n.selectpicker.view.position0-1].position,l=n.selectpicker.view.position1>o-1?0:n.selectpicker.current.data[o-1].position-n.selectpicker.current.data[n.selectpicker.view.position1-1].position,f.firstChild.style.marginTop=y+"px",f.firstChild.style.marginBottom=l+"px"):(f.firstChild.style.marginTop=0,f.firstChild.style.marginBottom=0),f.firstChild.appendChild(v),!0===c&&n.sizeInfo.hasScrollBar&&(b=f.firstChild.offsetWidth,i&&b<n.sizeInfo.menuInnerInnerWidth&&n.sizeInfo.totalMenuWidth>n.sizeInfo.selectWidth?f.firstChild.style.minWidth=n.sizeInfo.menuInnerInnerWidth+"px":b>n.sizeInfo.menuInnerInnerWidth&&(n.$menu[0].style.minWidth=0,(y=f.firstChild.offsetWidth)>n.sizeInfo.menuInnerInnerWidth&&(n.sizeInfo.menuInnerInnerWidth=y,f.firstChild.style.minWidth=n.sizeInfo.menuInnerInnerWidth+"px"),n.$menu[0].style.minWidth=""))}(!t&&n.options.source.data||t&&n.options.source.search)&&n.selectpicker.current.hasMore&&s===p-1&&0<e&&(l=Math.floor(s*n.options.chunkSize/n.options.source.pageSize)+2,n.fetchData(function(){n.render(),n.buildList(o,t),n.setPositionData(),r(e)},t?"search":"data",l,t?n.selectpicker.search.previousValue:void 0))}n.prevActiveElement=n.activeElement,n.options.liveSearch?t&&i&&(n.selectpicker.view.canHighlight[c=0]||(c=1+n.selectpicker.view.canHighlight.slice(1).indexOf(!0)),b=n.selectpicker.view.visibleElements[c],n.defocusItem(n.selectpicker.view.currentActive),n.activeElement=(n.selectpicker.current.data[c]||{}).element,n.focusItem(b)):n.$menuInner.trigger("focus")}this.selectpicker.isSearching=t,this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),i&&(s?o=this.$menuInner[0].scrollTop:n.multiple||"number"==typeof(s=((i=n.$element[0]).options[i.selectedIndex]||{}).liIndex)&&!1!==n.options.size&&(s=(i=n.selectpicker.main.data[s])&&i.position)&&(o=s-(n.sizeInfo.menuInnerHeight+n.sizeInfo.liHeight)/2)),r(o,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){n.noScroll||r(this.scrollTop,t),n.noScroll=!1}),e(window).off("resize"+W+"."+this.selectId+".createView").on("resize"+W+"."+this.selectId+".createView",function(){n.$newElement.hasClass(H.SHOW)&&r(n.$menuInner[0].scrollTop)})},focusItem:function(e,t,i){var s;e&&(t=t||this.selectpicker.current.data[this.selectpicker.current.elements.indexOf(this.activeElement)],(s=e.firstChild)&&(s.setAttribute("aria-setsize",this.selectpicker.view.size),s.setAttribute("aria-posinset",t.posinset),!0!==i&&(this.focusedParent.setAttribute("aria-activedescendant",s.id),e.classList.add("active"),s.classList.add("active"))))},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var e,t,i,s,n,o,r,a=this,l=!1;return!this.options.placeholder&&!this.options.allowClear||this.multiple||(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=this.$element[0],t=!(l=!0),i=!this.selectpicker.view.titleOption.parentNode,s=e.selectedIndex,n=e.options[s],o=(o=e.querySelector("select > *:not(:disabled)"))?o.index:0,r=(r=window.performance&&window.performance.getEntriesByType("navigation"))&&r.length?"back_forward"!==r[0].type:2!==window.performance.navigation.type,i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",t=!n||s===o&&!1===n.defaultSelected&&void 0===this.$element.data("selected")),!i&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),t&&r?e.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",function(){a.selectpicker.view.displayedValue!==e.value&&a.render()})),l},fetchData:function(e,t,i,s){i=i||1,t=t||"data";var n,o=this,r=this.options.source[t];r?(this.options.virtualScroll=!0,"function"==typeof r?r.call(this,function(i,s,r){var a=o.selectpicker["search"===t?"search":"main"];a.hasMore=s,a.totalItems=r,n=o.buildData(i,t),e.call(o,n),o.$element.trigger("fetched"+W)},i,s):Array.isArray(r)&&(n=o.buildData(r,t),e.call(o,n))):(n=this.buildData(!1,t),e.call(o,n))},buildData:function(t,i){var s=this,n=!1===t?K.fromOption:K.fromDataSource,o=':not([hidden]):not([data-hidden="true"]):not([style*="display: none"])',r=[],a=this.selectpicker.main.data?this.selectpicker.main.data.length:0,l=0,c=this.setPlaceholder()&&!t?1:0,d=("search"===i&&(a=this.selectpicker.search.data.length),this.options.hideDisabled&&(o+=":not(:disabled)"),t?t.filter(J,this):this.$element[0].querySelectorAll("select > *"+o));function h(e){var t=r[r.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",r.push(e))}function u(i,o){var l,c,d;(o=o||{}).divider=n(i,"divider"),!0===o.divider?h({optID:o.optID}):(l=r.length+a,c=(c=n(i,"style"))?j(c):"",d=(i.className||"")+(o.optgroupClass||""),o.optID&&(d="opt "+d),o.optionClass=d.trim(),o.inlineStyle=c,o.text=n(i,"text"),o.title=n(i,"title"),o.content=n(i,"content"),o.tokens=n(i,"tokens"),o.subtext=n(i,"subtext"),o.icon=n(i,"icon"),o.display=o.content||o.text,o.value=void 0===i.value?i.text:i.value,o.type="option",o.index=l,o.option=i.option||i,o.option.liIndex=l,o.selected=!!i.selected,o.disabled=o.disabled||!!i.disabled,!1!==t&&(s.selectpicker.optionValuesDataMap[o.value]?o=e.extend(s.selectpicker.optionValuesDataMap[o.value],o):s.selectpicker.optionValuesDataMap[o.value]=o),r.push(o))}function p(e,i){var s=i[e],a=!(e-1<c)&&i[e-1],d=(i=i[e+1],t?s.children.filter(J,this):s.querySelectorAll("option"+o));if(d.length){var p,m,g={display:j(n(f,"label")),subtext:n(s,"subtext"),icon:n(s,"icon"),type:"optgroup-label",optgroupClass:" "+(s.className||""),optgroup:s};l++,a&&h({optID:l}),g.optID=l,r.push(g);for(var v=0,b=d.length;v<b;v++){var _=d[v];0===v&&(m=(p=r.length-1)+b),u(_,{headerIndex:p,lastIndex:m,optID:g.optID,optgroupClass:g.optgroupClass,disabled:s.disabled})}i&&h({optID:l})}}for(var m=d.length,g=c;g<m;g++){var f=d[g],v=f.children;v&&v.length?p.call(this,g,d):u.call(this,f,{})}switch(i){case"data":this.selectpicker.main.data||(this.selectpicker.main.data=[]),Array.prototype.push.apply(this.selectpicker.main.data,r),this.selectpicker.current.data=this.selectpicker.main.data;break;case"search":Array.prototype.push.apply(this.selectpicker.search.data,r)}return r},buildList:function(e,t){var i=this,s=(t?this.selectpicker.search:this.selectpicker.main).data,n=[],o=0;!i.options.showTick&&!i.multiple||F.checkMark.parentNode||(F.checkMark.className=this.options.iconBase+" "+i.options.tickIcon+" check-mark",F.a.appendChild(F.checkMark));for(var r=s.length,a=e||0;a<r;a++){var l,c=(h=l=d=c=void 0,n),d=s[a],h=0;switch(d.type){case"divider":l=G.li(!1,H.DIVIDER,d.optID?d.optID+"div":void 0);break;case"option":(l=G.li(G.a(G.text.call(i,d),d.optionClass,d.inlineStyle),"",d.optID)).firstChild&&(l.firstChild.id=i.selectId+"-"+d.index);break;case"optgroup-label":l=G.li(G.label.call(i,d),"dropdown-header"+d.optgroupClass,d.optID)}d.element?d.element.innerHTML=l.innerHTML:d.element=l,c.push(d.element),d.display&&(h+=d.display.length),d.subtext&&(h+=d.subtext.length),d.icon&&(h+=1),o<h&&(o=h,i.selectpicker.view.widestOption=c[c.length-1])}e?t?Array.prototype.push.apply(this.selectpicker.search.elements,n):(Array.prototype.push.apply(this.selectpicker.main.elements,n),this.selectpicker.current.elements=this.selectpicker.main.elements):t?this.selectpicker.search.elements=n:this.selectpicker.main.elements=this.selectpicker.current.elements=n},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(e){var t=this,i=this.$element[0],s=this.setPlaceholder()&&0===i.selectedIndex,n=_.call(this),o=n.length,r=w.call(this,n),a=this.$button[0],l=a.querySelector(".filter-option-inner-inner"),c=document.createTextNode(this.options.multipleSeparator),h=F.fragment.cloneNode(!1),u=!1;if(this.options.source.data&&e&&(n.map(function e(i){i.selected?t.createOption(i,!0):i.children&&i.children.length&&i.children.map(e)}),i.appendChild(this.selectpicker.main.optionQueue),s=s&&0===i.selectedIndex),a.classList.toggle("bs-placeholder",t.multiple?!o:!r&&0!==r),t.multiple||1!==n.length||(t.selectpicker.view.displayedValue=r),"static"===this.options.selectedTextFormat)h=G.text.call(this,{text:this.options.placeholder},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&0<o&&(1<(e=this.options.selectedTextFormat.split(">")).length&&o>e[1]||1===e.length&&2<=o))){if(!s){for(var p=0;p<o&&p<50;p++){var m=n[p],g={};m&&(this.multiple&&0<p&&h.appendChild(c.cloneNode(!1)),m.title?g.text=m.title:m.content&&t.options.showContent?(g.content=m.content.toString(),u=!0):(t.options.showIcon&&(g.icon=m.icon),t.options.showSubtext&&!t.multiple&&m.subtext&&(g.subtext=" "+m.subtext),g.text=m.text.trim()),h.appendChild(G.text.call(this,g,!0)))}49<o&&h.appendChild(document.createTextNode("..."))}}else i=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"]):not([style*="display: none"])',r=(this.options.hideDisabled&&(i+=":not(:disabled)"),this.$element[0].querySelectorAll("select > option"+i+", optgroup"+i+" option"+i).length),e="function"==typeof this.options.countSelectedText?this.options.countSelectedText(o,r):this.options.countSelectedText,h=G.text.call(this,{text:e.replace("{0}",o.toString()).replace("{1}",r.toString())},!0);h.childNodes.length||(h=G.text.call(this,{text:this.options.placeholder||this.options.noneSelectedText},!0)),a.title=h.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&u&&d([h],t.options.whiteList,t.options.sanitizeFn),l.innerHTML="",l.appendChild(h),R.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(s=a.querySelector(".filter-expand"),(i=l.cloneNode(!0)).className="filter-expand",s?a.replaceChild(i,s):a.appendChild(i)),this.$element.trigger("rendered"+W)},setStyle:function(e,t){var i=this.$button[0],s=this.$newElement[0],n=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),R.major<4&&(s.classList.add("bs3"),s.parentNode.classList&&s.parentNode.classList.contains("input-group")&&(s.previousElementSibling||s.nextElementSibling)&&(s.previousElementSibling||s.nextElementSibling).classList.contains("input-group-addon")&&s.classList.add("bs3-has-addon")),s=e?e.trim():n,"add"==t?s&&i.classList.add.apply(i.classList,s.split(" ")):"remove"==t?s&&i.classList.remove.apply(i.classList,s.split(" ")):(n&&i.classList.remove.apply(i.classList,n.split(" ")),s&&i.classList.add.apply(i.classList,s.split(" ")))},liHeight:function(t){if(t||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){t=F.div.cloneNode(!1);var i,s=F.div.cloneNode(!1),n=F.div.cloneNode(!1),o=document.createElement("ul"),r=F.li.cloneNode(!1),a=F.li.cloneNode(!1),l=F.a.cloneNode(!1),c=F.span.cloneNode(!1),d=this.options.header&&0<this.$menu.find("."+H.POPOVERHEADER).length?this.$menu.find("."+H.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?F.div.cloneNode(!1):null,u=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element[0].options[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",l.className="dropdown-item "+(m?m.className:""),t.className=this.$menu[0].parentNode.className+" "+H.SHOW,t.style.width=0,"auto"===this.options.width&&(s.style.minWidth=0),s.className=H.MENU+" "+H.SHOW,n.className="inner "+H.SHOW,o.className=H.MENU+" inner "+("4"<=R.major?H.SHOW:""),r.className=H.DIVIDER,a.className="dropdown-header",c.appendChild(document.createTextNode("​")),this.selectpicker.current.data.length)for(var g=0;g<this.selectpicker.current.data.length;g++){var f=this.selectpicker.current.data[g];if("option"===f.type&&"none"!==e(f.element.firstChild).css("display")){i=f.element;break}}else i=F.li.cloneNode(!1),l.appendChild(c),i.appendChild(l);a.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(i),o.appendChild(r),o.appendChild(a),d&&s.appendChild(d),h&&(m=document.createElement("input"),h.className="bs-searchbox",m.className="form-control",h.appendChild(m),s.appendChild(h)),u&&s.appendChild(u),n.appendChild(o),s.appendChild(n),p&&s.appendChild(p),t.appendChild(s),document.body.appendChild(t),l=i.offsetHeight,c=a?a.offsetHeight:0,m=d?d.offsetHeight:0,o=h?h.offsetHeight:0,a=u?u.offsetHeight:0,d=p?p.offsetHeight:0,h=e(r).outerHeight(!0),u=window.getComputedStyle(s),p=s.offsetWidth,u={vert:(r={vert:x(u.paddingTop)+x(u.paddingBottom)+x(u.borderTopWidth)+x(u.borderBottomWidth),horiz:x(u.paddingLeft)+x(u.paddingRight)+x(u.borderLeftWidth)+x(u.borderRightWidth)}).vert+x(u.marginTop)+x(u.marginBottom)+2,horiz:r.horiz+x(u.marginLeft)+x(u.marginRight)+2},n.style.overflowY="scroll",n=s.offsetWidth-p,document.body.removeChild(t),this.sizeInfo.liHeight=l,this.sizeInfo.dropdownHeaderHeight=c,this.sizeInfo.headerHeight=m,this.sizeInfo.searchHeight=o,this.sizeInfo.actionsHeight=a,this.sizeInfo.doneButtonHeight=d,this.sizeInfo.dividerHeight=h,this.sizeInfo.menuPadding=r,this.sizeInfo.menuExtras=u,this.sizeInfo.menuWidth=p,this.sizeInfo.menuInnerInnerWidth=p-r.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=n,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=e(window),s=this.$newElement.offset(),n=e(this.options.container);this.options.container&&n.length&&!n.is("body")?((t=n.offset()).top+=parseInt(n.css("borderTopWidth")),t.left+=parseInt(n.css("borderLeftWidth"))):t={top:0,left:0},n=this.options.windowPadding;this.sizeInfo.selectOffsetTop=s.top-t.top-i.scrollTop(),this.sizeInfo.selectOffsetBot=i.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-n[2],this.sizeInfo.selectOffsetLeft=s.left-t.left-i.scrollLeft(),this.sizeInfo.selectOffsetRight=i.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-n[1],this.sizeInfo.selectOffsetTop-=n[0],this.sizeInfo.selectOffsetLeft-=n[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,s,n,o,r,a=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,c=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(r=l*this.selectpicker.current.data.length+m.vert,r=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&r+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(r=this.selectpicker.dropup),this.$newElement.toggleClass(H.DROPUP,r),this.selectpicker.dropup=r),"auto"===this.options.size)r=3<this.selectpicker.current.data.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,s=r+c+d+h+u,o=Math.max(r-m.vert,0),t=(n=i=this.$newElement.hasClass(H.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:i)-c-d-h-u-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var f=0;f<this.options.size;f++)"divider"===this.selectpicker.current.data[f].type&&g++;t=(i=l*this.options.size+g*p+m.vert)-m.vert,n=i+c+d+h+u,s=o=""}this.$menu.css({"max-height":n+"px",overflow:"hidden","min-height":s+"px"}),this.$menuInner.css({"max-height":t+"px",overflow:"hidden auto","min-height":o+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(H.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-a),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){var i,s;this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(i=this,s=e(window),this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),"auto"===this.options.size?s.off("resize"+W+"."+this.selectId+".setMenuSize scroll"+W+"."+this.selectId+".setMenuSize").on("resize"+W+"."+this.selectId+".setMenuSize scroll"+W+"."+this.selectId+".setMenuSize",function(){return i.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&s.off("resize"+W+"."+this.selectId+".setMenuSize scroll"+W+"."+this.selectId+".setMenuSize")),this.createView(!1,!0,t)},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.$element.on("loaded"+W,function(){e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){function t(t){var a={},l=o.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;o.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(H.DROPUP,t.hasClass(H.DROPUP)),i=t.offset(),r.is("body")?s={top:0,left:0}:((s=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),s.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),n=t.hasClass(H.DROPUP)?0:t[0].offsetHeight,(R.major<4||"static"===l)&&(a.top=i.top-s.top+n,a.left=i.left-s.left),a.width=t[0].offsetWidth,o.$bsContainer.css(a)}this.$bsContainer=e('<div class="bs-container" />');var i,s,n,o=this,r=e(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){o.isDisabled()||(t(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass(H.SHOW,!o.$button.hasClass(H.SHOW)).append(o.$menu))}),e(window).off("resize"+W+"."+this.selectId+" scroll"+W+"."+this.selectId).on("resize"+W+"."+this.selectId+" scroll"+W+"."+this.selectId,function(){o.$newElement.hasClass(H.SHOW)&&t(o.$newElement)}),this.$element.on("hide"+W,function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},createOption:function(e,t){var i,s=e.option||e;s&&1!==s.nodeType&&(i=(t?F.selectedOption:F.option).cloneNode(!0),void 0!==s.value&&(i.value=s.value),i.textContent=s.text,i.selected=!0,void 0!==s.liIndex?i.liIndex=s.liIndex:t||(i.liIndex=e.index),e.option=i,this.selectpicker.main.optionQueue.appendChild(i))},setOptionStatus:function(e){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length){for(var i=0;i<t.selectpicker.view.visibleElements.length;i++){var s=t.selectpicker.current.data[i+t.selectpicker.view.position0];s.option&&(!0!==e&&t.setDisabled(s),t.setSelected(s))}this.options.source.data&&this.$element[0].appendChild(this.selectpicker.main.optionQueue)}},setSelected:function(e,t){t=void 0===t?e.selected:t;var i,s=e.element,n=void 0!==this.activeElement,o=this.activeElement===s||t&&!this.multiple&&!n;s&&(void 0!==t&&(e.selected=t,e.option&&(e.option.selected=t)),t&&this.options.source.data&&this.createOption(e,!1),i=s.firstChild,t&&(this.selectedElement=s),s.classList.toggle("selected",t),o?(this.focusItem(s,e),this.selectpicker.view.currentActive=s,this.activeElement=s):this.defocusItem(s),i&&(i.classList.toggle("selected",t),t?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),o||n||!t||void 0===this.prevActiveElement||(e=this.prevActiveElement,this.defocusItem(e)))},setDisabled:function(e){var t,i=e.disabled;(e=e.element)&&(t=e.firstChild,e.classList.toggle(H.DISABLED,i),t&&("4"<=R.major&&t.classList.toggle(H.DISABLED,i),i?(t.setAttribute("aria-disabled",i),t.setAttribute("tabindex",-1)):(t.removeAttribute("aria-disabled"),t.setAttribute("tabindex",0))))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(H.DISABLED),this.$button.addClass(H.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(H.DISABLED)&&(this.$newElement[0].classList.remove(H.DISABLED),this.$button.removeClass(H.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var t=this,i=e(document);function s(){(t.options.liveSearch?t.$searchbox:t.$menuInner).trigger("focus")}function n(){t.dropdown&&t.dropdown._popper&&t.dropdown._popper.state?s():requestAnimationFrame(n)}i.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){t.dropdown||"4"!==R.major||(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(e){var i,s,n;t.options.allowClear&&(i=e.target,s=t.$clearButton[0],(i=/MSIE|Trident/.test(window.navigator.userAgent)?document.elementFromPoint(e.clientX,e.clientY):i)!==s&&i.parentElement!==s||(e.stopImmediatePropagation(),t.multiple?t.deselectAll():(s=(i=t.$element[0]).value,e=i.selectedIndex,(n=!!(n=i.options[e])&&t.selectpicker.main.data[n.liIndex])&&t.setSelected(n,!1),i.selectedIndex=0,S=[e,!1,s],t.$element.triggerNative("change")),t.$newElement.hasClass(H.SHOW)&&(t.options.liveSearch&&t.$searchbox.trigger("focus"),t.createView(!1)))),t.$newElement.hasClass(H.SHOW)||t.setSize()}),this.$element.on("shown"+W,function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),3<R.major?requestAnimationFrame(n):s()}),this.$menuInner.on("mouseenter","li a",function(e){var i=this.parentElement,s=t.isVirtual()?t.selectpicker.view.position0:0,n=Array.prototype.indexOf.call(i.parentElement.children,i);n=t.selectpicker.current.data[n+s];t.focusItem(i,n,!0)}),this.$menuInner.on("click","li a",function(i,s){var n=e(this),o=t.$element[0],r=t.isVirtual()?t.selectpicker.view.position0:0,a=t.selectpicker.current.data[n.parent().index()+r],l=(r=a.element,w.call(t)),c=o.selectedIndex,d=!!(d=o.options[c])&&t.selectpicker.main.data[d.liIndex],h=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!n.parent().hasClass(H.DISABLED)){i=a.option,n=e(i);var u=i.selected,p=t.selectpicker.current.data.find(function(e){return e.optID===a.optID&&"optgroup-label"===e.type}),m=p?p.optgroup:void 0,g=(p=m instanceof Element?K.fromOption:K.fromDataSource,m&&m.children),f=parseInt(t.options.maxOptions);p=m&&parseInt(p(m,"maxOptions"))||!1;if((s=r===t.activeElement||s)||(t.prevActiveElement=t.activeElement,t.activeElement=void 0),t.multiple&&1!==f){if(t.setSelected(a,!u),t.focusedParent.focus(),!1!==f||!1!==p){r=f<_.call(t).length;var v=0;if(m&&m.children)for(var b=0;b<m.children.length;b++)m.children[b].selected&&v++;if(s=p<v,f&&r||p&&s)if(f&&1===f)o.selectedIndex=-1,t.setOptionStatus(!0);else if(p&&1===p){for(b=0;b<g.length;b++){var y=g[b];t.setSelected(t.selectpicker.current.data[y.liIndex],!1)}t.setSelected(a,!0)}else{var $=(u="function"==typeof(u="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText)?u(f,p):u)[0].replace("{n}",f),C=u[1].replace("{n}",p),x=e('<div class="notify"></div>');u[2]&&($=$.replace("{var}",u[2][1<f?0:1]),C=C.replace("{var}",u[2][1<p?0:1])),t.$menu.append(x),f&&r&&(x.append(e("<div>"+$+"</div>")),h=!1,t.$element.trigger("maxReached"+W)),p&&s&&(x.append(e("<div>"+C+"</div>")),h=!1,t.$element.trigger("maxReachedGrp"+W)),setTimeout(function(){t.setSelected(a,!1)},10),x[0].classList.add("fadeOut"),setTimeout(function(){x.remove()},1050)}}}else d&&t.setSelected(d,!1),t.setSelected(a,!0);t.options.source.data&&t.$element[0].appendChild(t.selectpicker.main.optionQueue),!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.trigger("focus"):t.options.liveSearch&&t.$searchbox.trigger("focus"),!h||!t.multiple&&c===o.selectedIndex||(S=[i.index,n.prop("selected"),l],t.$element.triggerNative("change"))}}),this.$menu.on("click","li."+H.DISABLED+" a, ."+H.POPOVERHEADER+", ."+H.POPOVERHEADER+" :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),(t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox:t.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(t.options.liveSearch?t.$searchbox:t.$button).trigger("focus")}),this.$menu.on("click","."+H.POPOVERHEADER+" .close",function(){t.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){(t.options.liveSearch?t.$searchbox:t.$button).trigger("focus"),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$button.on("focus"+W,function(e){var i=t.$element[0].getAttribute("tabindex");void 0!==i&&e.originalEvent&&e.originalEvent.isTrusted&&(this.setAttribute("tabindex",i),t.$element[0].setAttribute("tabindex",-1),t.selectpicker.view.tabindex=i)}).on("blur"+W,function(e){void 0!==t.selectpicker.view.tabindex&&e.originalEvent&&e.originalEvent.isTrusted&&(t.$element[0].setAttribute("tabindex",t.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),t.selectpicker.view.tabindex=void 0)}),this.$element.on("change"+W,function(){t.render(),t.$element.trigger("changed"+W,S),S=null}).on("focus"+W,function(){t.options.mobile||t.$button[0].focus()})},liveSearchListener:function(){var e=this;this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&(e.$searchbox.val(""),e.selectpicker.search.previousValue=void 0)}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t=e.$searchbox[0].value;if(e.selectpicker.search.elements=[],e.selectpicker.search.data=[],t)if(e.selectpicker.search.previousValue=t,e.options.source.search)e.fetchData(function(i){e.render(),e.buildList(void 0,!0),e.noScroll=!0,e.$menuInner.scrollTop(0),e.createView(!0),Q.call(e,i,t)},"search",0,t);else{var i=[],s=t.toUpperCase(),n={},o=[],r=e._searchStyle(),a=e.options.liveSearchNormalize;a&&(s=D(s));for(var l=0;l<e.selectpicker.main.data.length;l++){var c=e.selectpicker.main.data[l];n[l]||(n[l]=C(c,s,r,a)),n[l]&&void 0!==c.headerIndex&&-1===o.indexOf(c.headerIndex)&&(0<c.headerIndex&&(n[c.headerIndex-1]=!0,o.push(c.headerIndex-1)),n[c.headerIndex]=!0,o.push(c.headerIndex),n[c.lastIndex+1]=!0),n[l]&&"optgroup-label"!==c.type&&o.push(l)}l=0;for(var d=o.length;l<d;l++){var h=o[l],u=o[l-1];c=e.selectpicker.main.data[h],u=e.selectpicker.main.data[u];("divider"!==c.type||"divider"===c.type&&u&&"divider"!==u.type&&d-1!==l)&&(e.selectpicker.search.data.push(c),i.push(e.selectpicker.main.elements[h]))}e.activeElement=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=i,e.createView(!0),Q.call(e,i,t)}else e.selectpicker.search.previousValue&&(e.$menuInner.scrollTop(0),e.createView(!1))})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){var t=this.$element[0];if(void 0===e)return this.$element.val();var i=_.call(this),s=w.call(this,i);S=[null,null,s],(e=Array.isArray(e)?e:[e]).map(String);for(var n=0;n<i.length;n++){var o=i[n];o&&-1===e.indexOf(String(o.value))&&this.setSelected(o,!1)}return this.selectpicker.main.data.filter(function(t){return-1!==e.indexOf(String(t.value))&&(this.setSelected(t,!0),!0)},this),this.options.source.data&&t.appendChild(this.selectpicker.main.optionQueue),this.$element.trigger("changed"+W,S),this.$newElement.hasClass(H.SHOW)&&(this.multiple?this.setOptionStatus(!0):"number"==typeof(s=(t.options[t.selectedIndex]||{}).liIndex)&&this.setSelected(this.selectpicker.current.data[s],!0)),this.render(),S=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,s=0,n=w.call(this);t.classList.add("bs-select-hidden");for(var o=0,r=this.selectpicker.current.data,a=r.length;o<a;o++){var l=r[o],c=l.option;c&&!l.disabled&&"divider"!==l.type&&(l.selected&&i++,c.selected=e,!0===(l.selected=e)&&s++)}t.classList.remove("bs-select-hidden"),i!==s&&(this.setOptionStatus(),S=[null,null,n],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e,t){var i=void 0===t;(e=e||window.event)&&e.stopPropagation(),!1===i&&(e=this.$newElement[0].classList.contains(H.SHOW),i=!0===t&&!1===e||!1===t&&!0===e),i&&this.$button.trigger("click.bs.dropdown.data-api")},open:function(e){this.toggle(e,!0)},close:function(e){this.toggle(e,!1)},keydown:function(t){var i,s,n,o,r=e(this),a=((d=r.hasClass("dropdown-toggle"))?r.closest(".dropdown"):r.closest(z.MENU)).data("this"),l=a.findLis(),c=!1,d=9===t.which&&!d&&!a.options.selectOnTab,h=q.test(t.which)||d,u=a.$menuInner[0].scrollTop,p=!0===a.isVirtual()?a.selectpicker.view.position0:0;if(!(112<=t.which&&t.which<=123))if(!(i=a.$menu.hasClass(H.SHOW))&&(h||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&(a.$button.trigger("click.bs.dropdown.data-api"),a.options.liveSearch))a.$searchbox.trigger("focus");else{if(27===t.which&&i&&(t.preventDefault(),a.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),h){if(!l.length)return;-1!==(h=(s=a.activeElement)?Array.prototype.indexOf.call(s.parentElement.children,s):-1)&&a.defocusItem(s),38===t.which?(-1!==h&&h--,h+p<0&&(h+=l.length),a.selectpicker.view.canHighlight[h+p]||-1===(h=a.selectpicker.view.canHighlight.slice(0,h+p).lastIndexOf(!0)-p)&&(h=l.length-1)):40!==t.which&&!d||(++h+p>=a.selectpicker.view.canHighlight.length&&(h=a.selectpicker.view.firstHighlightIndex),a.selectpicker.view.canHighlight[h+p]||(h=h+1+a.selectpicker.view.canHighlight.slice(h+p+1).indexOf(!0))),t.preventDefault();var m=p+h;38===t.which?0===p&&h===l.length-1?(a.$menuInner[0].scrollTop=a.$menuInner[0].scrollHeight,m=a.selectpicker.current.elements.length-1):(n=a.selectpicker.current.data[m])&&(c=(o=n.position-n.height)<u):40!==t.which&&!d||(h===a.selectpicker.view.firstHighlightIndex?(a.$menuInner[0].scrollTop=0,m=a.selectpicker.view.firstHighlightIndex):(n=a.selectpicker.current.data[m])&&(c=u<(o=n.position-a.sizeInfo.menuInnerHeight))),s=a.selectpicker.current.elements[m],a.activeElement=(a.selectpicker.current.data[m]||{}).element,a.focusItem(s),a.selectpicker.view.currentActive=s,c&&(a.$menuInner[0].scrollTop=o),(a.options.liveSearch?a.$searchbox:r).trigger("focus")}else if(!r.is("input")&&!V.test(t.which)||32===t.which&&a.selectpicker.keydown.keyHistory){var g,f=[];t.preventDefault(),a.selectpicker.keydown.keyHistory+=N[t.which],a.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(a.selectpicker.keydown.resetKeyHistory.cancel),a.selectpicker.keydown.resetKeyHistory.cancel=a.selectpicker.keydown.resetKeyHistory.start(),g=a.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(g)&&(g=g.charAt(0));for(var v=0;v<a.selectpicker.current.data.length;v++){var b=a.selectpicker.current.data[v];C(b,g,"startsWith",!0)&&a.selectpicker.view.canHighlight[v]&&f.push(b.element)}f.length&&(p=0,l.removeClass("active").find("a").removeClass("active"),1===g.length&&(-1===(p=f.indexOf(a.activeElement))||p===f.length-1?p=0:p++),d=f[p],c=0<u-(n=a.selectpicker.main.data[d]).position?(o=n.position-n.height,!0):(o=n.position-a.sizeInfo.menuInnerHeight,n.position>u+a.sizeInfo.menuInnerHeight),s=a.selectpicker.main.elements[d],a.activeElement=s,a.focusItem(s),s&&s.firstChild.focus(),c&&(a.$menuInner[0].scrollTop=o),r.trigger("focus"))}i&&(32===t.which&&!a.selectpicker.keydown.keyHistory||13===t.which||9===t.which&&a.options.selectOnTab)&&(32!==t.which&&t.preventDefault(),a.options.liveSearch&&32===t.which||(a.$menuInner.find(".active a").trigger("click",!0),r.trigger("focus"),a.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var t=this,i=e.extend({},this.options,h(this.$element),this.$element.data());this.options=i,this.options.source.data?(this.render(),this.buildList()):this.fetchData(function(){t.render(),t.buildList()}),this.checkDisabled(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+W)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(W).removeData("selectpicker").removeClass("bs-select-hidden selectpicker mobile-device"),e(window).off(W+"."+this.selectId)}};var Z=e.fn.selectpicker;function ee(){return R.major<5?e.fn.dropdown?(e.fn.dropdown.Constructor._dataApiKeydownHandler||e.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments):void 0:M.dataApiKeydownHandler}e.fn.selectpicker=Y,e.fn.selectpicker.Constructor=X,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=Z,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > ["+z.DATA_TOGGLE+"]",ee).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",ee).on("keydown"+W,".bootstrap-select ["+z.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',X.prototype.keydown).on("focusin.modal",".bootstrap-select ["+z.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),document.addEventListener("DOMContentLoaded",function(){e(".selectpicker").each(function(){var t=e(this);Y.call(t,t.data())})})}(e)});var browser=ej.browserInfo(),isFirstRequest=!1,isAjaxRequested=!0;function onSuccessDeleteItem(){var e=$("#items").data("ejGrid");e.model.sortSettings.sortedColumns=[],e.model.filterSettings.filteredColumns=[],$("#search-items").find("input[type=text]").val("");var t=e.model.pageSettings.currentPage,i=(e.model.pageSettings.pageSize,e.model.pageSettings.totalRecordsCount,e.model.pageSettings.totalRecordsCount%e.model.pageSettings.pageSize);if(0!=i&&i<=1&&(e.model.pageSettings.currentPage=t-1),"dashboards"===$("#item-grid-container").attr("data-grid-name").toLowerCase()){var s=parent.angular.element(parent.document.getElementById("server-items-container")).scope();e.model.query._params.push({key:"displayCategory",value:s.itemRequestType})}e.refreshContent(),$("#dashboard_render_iframe").attr("src",""),$("#initial-item-message").css("display","block"),$("#dashboard_render_iframe").css("display","none")}function onNewFileDialogOpen(){$("#file-popup-iframe").attr("src",addFileIframeUrl)}function onSchedulerDialogClose(){$("#popup-container").find("iframe").contents().find("html").html("")}function onSchedulerDialogOpen(){$("#scheduler-popup-iframe").attr("src",schedulerIframeUrl+"?itemName="+ItemName+"&&itemId="+ItemId+"&&categoryName="+CategoryName+"&&categoryId="+CategoryId+"&&scheduleId="+ScheduleId+"&&multiDashboardName="+MultiDashboardName+"&&actionType=Create"),$("#popup-container_wrapper").ejWaitingPopup("show")}function onNewFileDialogClose(){$("#file-popup").find("iframe").contents().find("html").html(""),$("#file-popup").ejDialog("close")}function openNewDataSourcePopup(){$("#datasource-popup-iframe").addClass("add-datasource-frame"),$("#datasource-popup").ejDialog("open"),$("#datasource-popup_wrapper").ejWaitingPopup("show")}function openNewFilePopup(){$("#file-popup").ejDialog("open"),$("#file-popup_wrapper").ejWaitingPopup("show")}function onDataSourceDialogOpen(){$("#datasource-popup-iframe").attr("src",addDatasourceIframeUrl).addClass("add-datasource-frame")}function onDataSourceDialogClose(){$("#datasource-popup").find("iframe").contents().find("html").html(""),$("#datasource-popup").ejDialog("close")}function onWidgetDialogOpen(){$("#widget_popup_iframe").attr("src",addWidgetUrl)}function onWidgetDialogClose(){$("#widget_popup").find("iframe").contents().find("html").html(""),$("#widget_popup").ejDialog("close")}function onDeleteItemDialogClose(){$("#item-delete-confirmation").ejDialog("close")}function onDeleteItemDialogOpen(){$("#item-delete-confirmation").ejDialog("open"),$("#item-delete-confirmation").focus()}function onReportDialogOpen(){}function openNewWidgetPopup(){$("#widget_popup").ejDialog("open"),$("#widget_popup_wrapper").ejWaitingPopup("show")}function openNewCreateDataSourcePopup(){$("#create-datasource-popup").ejDialog("open"),$("#create-datasource-popup_wrapper").ejWaitingPopup("show")}function onCreateDataSourceDialogOpen(){$("#create-datasource-iframe").attr("src",createDatasourceUrl)}function onCreateDataSourceDialogClose(){$("#create-datasource-popup").ejDialog("close")}function fnActionBegin(e){var t=createLoader("items");this.element.ejWaitingPopup({template:$("#"+t)}),"refresh"!=e.requestType||this.initialRender||$("#items").find(".e-gridcontent").css("visibility","hidden");var i=$("#item-grid-container").data("gridName");"dashboards"!==i.toLowerCase()&&"widgets"!==i.toLowerCase()||"none"==$("#server-items-container .category-collapse").css("display")&&$("#item-grid-container").ejWaitingPopup("show");var s="";"Search"!==(s=$("#search-home-page").is(":visible")?$("#search-home-page").val():$("#search-items").val())&&this.model.query._params.push({key:"searchKey",value:s});var n,o=[];if(e.model.filterSettings.filteredColumns.length>0)for(n=0;n<e.model.filterSettings.filteredColumns.length;n++){var r=e.model.filterSettings.filteredColumns[n];o.push({PropertyName:r.field,FilterType:r.operator,FilterKey:r.value}),this.model.query._params.push({key:"filterCollection",value:o})}if("dashboards"===i||"widgets"===i){var a=angular.element(document.getElementById("server-items-container")).scope();e.model.query._params.push({key:"displayCategory",value:a.itemRequestType})}}function fnActionFailure(e){setTimeout(function(){$("#item-grid-container").ejWaitingPopup("show"),$("#item-list-panel > .item-navigation, #item-list-panel > #category-listing").css("visibility","visible")},500)}function fnActionComplete(e){$("#item-list-panel > .item-navigation, #item-list-panel > #category-listing").css("visibility","visible"),$("[ data-bs-toggle='tooltip']").tooltip();var t=$("#items").data("ejGrid");if(0==t._gridRecordsCount){if(s="datasources"==$("#item-grid-container").attr("data-grid-name")){var i="";i=window.Server.App.LocalizationContent.NoDataSources}else if(s="datasets"==$("#item-grid-container").attr("data-grid-name")){i="";i=window.Server.App.LocalizationContent.NoDatasets}else if(s="files"==$("#item-grid-container").attr("data-grid-name")){i="";i=window.Server.App.LocalizationContent.NoFilesToDisplay}else{i="";"favorite dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?i=window.Server.App.LocalizationContent.NoFavoriteDashboards:"recent dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?i=window.Server.App.LocalizationContent.NoRecentDashboards:"public dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?i=window.Server.App.LocalizationContent.NoPublicDashboards:"all dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?i=window.Server.App.LocalizationContent.NoDashboards:"all widgets"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?i=window.Server.App.LocalizationContent.NoWidgets:"public widgets"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?i=window.Server.App.LocalizationContent.NoPublicWidgets:"all categories"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?i=window.Server.App.LocalizationContent.NoDashboards:"draft dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()&&(i=window.Server.App.LocalizationContent.NoDrafts)}this.getContentTable().find("tbody .emptyrecord").html(i)}var s=$("#item-grid-container").attr("data-grid-name"),n=$("ul.item-navigation li.public-widgets").hasClass("active"),o=$("ul.item-navigation li.public-items").hasClass("active"),r=$("#isMarkItemspublic").val();if("dashboards"==s.toLowerCase()||"widgets"==s.toLowerCase()){navigator.userAgent.match(/Windows Phone/i)||$("[ data-bs-toggle='tooltip']").tooltip(),$(".e-content").height()!=$(".e-scrollbar").height()&&$(".e-scrollbar .e-vscroll").css("height",$(".e-content").height()),$("#items .e-gridcontent").data("ejScroller")&&$("#items .e-gridcontent").ejScroller("refresh"),$("ul.item-navigation li.active").length>0&&"draft dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?$(".item-link").each(function(){$(this).attr("href",rootUrlAction+"/dashboard-designer/"+$(this).attr("data-itemid")+"/draft/"+$(this).attr("data-name"))}):"dashboards"==s.toLowerCase()&&window.innerWidth>=1041&&$(".item-link").each(function(){$(this).attr("href",rootUrlAction+"/dashboards/"+$(this).attr("data-itemid")+"/"+$(this).attr("data-category-name")+"/"+$(this).attr("data-name"))});var a=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight());t.option({scrollSettings:{height:a}}),1==n&&t._gridRecordsCount>0&&"False"==r||1==o&&t._gridRecordsCount>0&&"False"==r?$(".tool-tip").show():$(".tool-tip").hide(),setTimeout(function(){$("#item-grid-container").ejWaitingPopup("hide")},500),$(".tooltip").hide()}"refresh"!=e.requestType||this.initialRender||$("#items").find(".e-gridcontent").css("visibility","visible"),showOrHideGridPager("#items")}function rowBound(){isFirstRequest&&(isFirstRequest=!1,"/"!==location.pathname.toLowerCase()&&"dashboards"!=location.pathname.split("/")[location.pathname.split("/").length-1].toLowerCase()||refreshScroller())}function ResetGrid(){var e=$("#items").data("ejGrid");e.model.sortSettings.sortedColumns=[],e.model.filterSettings.filteredColumns=[],$("#search-items").find("input[type=text]").val(""),e.refreshContent(),$(".e-filtericon").removeClass("e-filteredicon e-filternone")}function onMakePublicDialogClose(){$("#make_item_public").ejDialog("close")}function onMakePublicDialogOpen(){load(),$("#make_item_public").ejDialog("open"),$("#make_item_public").focus()}function onRemovePublicDialogClose(){$("#remove_item_public").ejDialog("close")}function onRemovePublicDialogOpen(){load(),$("#remove_item_public").ejDialog("open"),$("#remove_item_public").focus()}function onGetLinkDialogClose(){$("#get_item_link").ejDialog("close")}function onGetLinkDialogOpen(){$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link").focus(),$("#item-link").select(),$(".get_link").show(),"msie"==browser.name.toLowerCase()?$("#item-link").val(window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim()):$("#item-link").val(window.location.origin+itemUrl.trim()),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link-copy").attr("data-bs-original-title",""))}function fnAdjustRowHeight(e){"dashboards"==$("#item-grid-container").attr("data-grid-name")&&0==e.model.currentViewData.length&&rowBound()}function DashboardRender(e,t,i,s,n,o){e=decodeURI(e),i=decodeURI(i),s=decodeURI(s),o=decodeURI(o);for(var r=window.location.search.substring(1).split("&"),a="?",l=0;l<r.length;l++){var c=r[l].split("=");"category"!==c[0]&&"dashboard"!==c[0]&&"view"!==c[0]&&(l!==r.length-1?a+=c[0]+"="+c[1]+"&":a+=c[0]+"="+c[1])}var d=document.getElementById("dashboard_render_iframe");(o=""!=o&&null!=o&&"null"!=o?"?tab="+o:"",$("#current-url").attr("data-url",e+"/"+t+"/"+i+"/"+s+"?view="+n),0==$(".item-navigation li[data-value='"+n+"']").hasClass("active"))&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='"+n+"']").addClass("active"),parent.angular.element(parent.document.getElementById("server-items-container")).scope().onClickDisplayCategory("",n));($(".item-navigation li[data-value='"+n+"']").hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section"),"categories"==n)?(parent.angular.element(parent.document.getElementById("server-items-container")).scope().getItemsInCategory("",i),$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300),d.contentWindow.location.replace(e+"/"+t+"/"+i+"/"+s+a),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block")):""!=s&&($("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300),d.contentWindow.location.replace(e+"/"+t+"/"+i+"/"+s+a),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block"));$(".item-navigation li").hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section");var h=$(".item-link[data-name='"+s+"']");if(0==h.parents("td").hasClass("active")?($(".item-link").parents("td").removeClass("active"),h.parents("td").addClass("active")):window.innerWidth<1041&&($(".item-link").parents("td").removeClass("active"),$(".tooltip").hide()),"block"==$("#server-items-container .category-collapse").css("display")){$("#item-viewer").css("width","100%"),$("#item-viewer").addClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()});var u=$("#dashboard_render_iframe").width();$("#dashboard_render_iframe").contents().find("#dashboard").css("width",u-30)}return!1}function openNewCategoryPopup(){$("#AddCategoryPopup").ejDialog("open")}function openNewDashboardPopup(){$("#report_popup").ejDialog("open"),$("#report_popup_wrapper").ejWaitingPopup("show")}function onDashboardDialogOpen(){$("#report_iframe").attr("src",addDashboardIframeUrl)}function onDashboardDialogClose(){$("#report_popup").find("iframe").contents().find("html").html(""),window.IsAddDashboard=!1,window.CategoryName=""}$(function(){addPlacehoder("#input-div"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#item-viewer #initial-item-message").css("display","block"),$("#dashboard_render_iframe").css("display","none"),$("#create-new-category").css("width",$(".item-list-panel").outerWidth()),$("#input-div").find(".placeholder").hide();var e=createLoader("item-grid-container");$("#item-grid-container").ejWaitingPopup({template:$("#"+e)});var t=createLoader("item-list-panel");$("#item-list-panel").ejWaitingPopup({template:$("#"+t)});var i=createLoader("item-viewer");$("#item-viewer").ejWaitingPopup({template:$("#"+i)}),$(".search-area").removeClass("focusdiv"),$(".item-list-panel").css("height",window.innerHeight-$("#header-area").outerHeight()),$("#datasource-popup").ejDialog({width:"650px",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onDataSourceDialogClose",open:"onDataSourceDialogOpen"}),$("#widget_popup").ejDialog({width:"651px",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onWidgetDialogClose",open:"onWidgetDialogOpen"}),$("#popup-container").ejDialog({allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,showOnInit:!1,close:"onSchedulerDialogClose",open:"onSchedulerDialogOpen",width:"1000px"});var s=createLoader("popup-container_wrapper");$("#popup-container_wrapper").ejWaitingPopup({template:$("#"+s)}),$("#select_datasource_popup").ejDialog({width:"800px",showOnInit:!1,allowDraggable:!0,enableResize:!1,height:"530px",showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"closeNewDataSourcePopup"}),$("#file-popup").ejDialog({width:"650px",showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"382px",title:window.Server.App.LocalizationContent.AddFile,enableModal:!0,showHeader:!1,open:"onNewFileDialogOpen",close:"onNewFileDialogClose"}),$("#item-delete-confirmation").ejDialog({width:"450px",showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.DeleteItem,showHeader:!1,enableModal:!0,close:"onDeleteItemDialogClose",open:"onDeleteItemDialogOpen"}),$("#ItemAction").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"525px",title:"",showHeader:!1,enableModal:!0,close:"itemActionEmpty",closeOnEscape:!0}),$("#permission-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0}),$("#make_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.MakePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onMakePublicDialogClose",open:"onMakePublicDialogOpen"}),$("#remove_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.RemovePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onRemovePublicDialogClose",open:"onRemovePublicDialogOpen"}),$("#create-datasource-popup").ejDialog({width:"650px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onCreateDataSourceDialogClose",open:"onCreateDataSourceDialogOpen"});var n=createLoader("create-datasource-popup_wrapper");$("#create-datasource-popup_wrapper").ejWaitingPopup({template:$("#"+n)});var o=createLoader("widget_popup_wrapper");$("#widget_popup_wrapper").ejWaitingPopup({template:$("#"+o)});var r=createLoader("select_datasource_popup_wrapper");$("#select_datasource_popup_wrapper").ejWaitingPopup({template:$("#"+r)});var a=createLoader("file-popup_wrapper");$("#file-popup_wrapper").ejWaitingPopup({template:$("#"+a)});var l=createLoader("item-delete-confirmation_wrapper");$("#item-delete-confirmation_wrapper").ejWaitingPopup({template:$("#"+l)});var c=createLoader("datasource-popup_wrapper");$("#datasource-popup_wrapper").ejWaitingPopup({template:$("#"+c)});var d=createLoader("ItemAction_wrapper");$("#ItemAction_wrapper").ejWaitingPopup({template:$("#"+d)});var h=createLoader("permission-popup_wrapper");$("#permission-popup_wrapper").ejWaitingPopup({template:$("#"+h)});var u=createLoader("make_item_public_wrapper");$("#make_item_public_wrapper").ejWaitingPopup({template:$("#"+u)});var p=createLoader("remove_item_public_wrapper");$("#remove_item_public_wrapper").ejWaitingPopup({template:$("#"+p)}),$(document).on("click","#context-menu",function(e){refreshScrollerForCategory()}),$(document).on("click",".options-area",function(e){setTimeout(function(){$(".tooltip").hide()},50)}),$("#search-home-page").on("focusin",function(){$(".search-area").addClass("focusdiv")}),$("#search-home-page").on("focusout",function(){$(".search-area").removeClass("focusdiv")}),$(document).on("click",".item-delete",function(e){$("#delete-item-name").html($(this).attr("data-name")),$("#delete-item").attr("data-item-id",$(this).attr("data-item-id"));var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype"),n="";"4"==s&&(n=$(this).attr("data-datasource-type")),$("#item-delete-confirmation").ejDialog("open"),$("#item-delete-confirmation_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:deleteConfirmationUrl,data:{itemId:t,itemTypeId:s,itemName:i,datasourceType:n},success:function(e){$("#item-delete-confirmation").html(e),$("#item-delete-confirmation_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click","#delete-item",function(e){$("#item-delete-confirmation_wrapper").ejWaitingPopup("show");var t=$(this).attr("data-item-id"),i=$(this).attr("data-itemtype"),s="";"Datasource"==i&&(s=$(this).attr("data-datasource-type"));var n="Category"==i?window.Server.App.LocalizationContent.Categoy:"Dashboard"==i?window.Server.App.LocalizationContent.Dashboard:i;$.ajax({type:"POST",url:deleteItemUrl,data:{itemId:t,datasourceType:s},success:function(e){e.Success?($("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),SuccessAlert(n+window.Server.App.LocalizationContent.Deleted,$("#delete-item-name").html()+window.Server.App.LocalizationContent.DeleteSuccess,7e3),"Category"==i||$(".all-items").hasClass("active")?$(".all-items").hasClass("active")?$(".all-items").trigger("click"):parent.angular.element(parent.document.getElementById("server-items-container")).scope().refreshCategorySection():"Dashboard"==i?(onSuccessDeleteItem(),$("#favoriteitemCount").text(e.Value)):"Datasource"==i?e.DatasourceCount>0&&null!=e.DatasourceCount?onSuccessDeleteItem():(parent.$("#body").ejWaitingPopup("show"),location.reload()):null!=i&&"dataset"==i.toLowerCase()?null!=e.DatasetCount&&e.DatasetCount>0?onSuccessDeleteItem():(parent.$("#body").ejWaitingPopup("show"),location.reload()):onSuccessDeleteItem()):0==e.Permission?($("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.DeleteFail,window.Server.App.LocalizationContent.DeletePermissionMessage+$("#delete-item-name").html(),7e3)):($("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.DeleteFail,$("#delete-item-name").html()+window.Server.App.LocalizationContent.DeleteFailMessage,7e3));$("#item-delete-confirmation").ejDialog("close")}})}),addPlacehoder("#search-area"),$(document).on("click",".version-button",function(){var e=$(this).attr("data-item-id"),t=$(this).attr("data-itemname"),i=$("#grid").data("ejGrid"),s=$("#loggrid").data("ejGrid");null!=$("#version-window-container").data("ejDialog")?$("#version-window-container").ejDialog("open"):$("#version-window-container").ejDialog({showOnInit:!0,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0}),$(".modal-header .modal-title").html(t),$("#version-tab").parent("li").addClass("active"),$("#item-log-tab").parent("li").removeClass("active"),$("#item-version-container").removeClass("d-none").addClass("d-block"),$("#item-log-container").removeClass("d-block").addClass("d-none");var n=ej.DataManager({url:itemVersionUrl+"?ItemId="+e,adaptor:new ej.UrlAdaptor});i.dataSource(n);var o=ej.DataManager({url:itemLogsUrl+"?ItemId="+e,adaptor:new ej.UrlAdaptor});s.dataSource(o)}),$(document).on("click",".layout",function(){$("#container iframe").attr("src",window.location.href+"?itemId="+$(this).attr("data-item-id")+"&itemAction="+$(this).attr("data-action"))}),$(document).on("click",".moveItem",function(){var e=$(this).attr("data-itemId"),t=$(this).attr("data-action");$("#ItemAction").ejDialog("open"),$("#ItemAction_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:moveIframeUrl,data:{itemId:e,itemAction:t},success:function(e){$("#ItemAction").html(e),$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit; border:none"),$("#ItemAction_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click",".change-datasource",function(){var e=$(this).attr("data-item-id"),t=$(this).attr("data-action");$("#ItemAction").ejDialog("open"),$("#ItemAction_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:changeDataSourceUrl,data:{itemId:e,itemAction:t,nonce:itemGridPageNonce},success:function(e){$("#ItemAction").html(e),$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit;border:none"),$("#ItemAction_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click",".copyItem",function(){var e=$(this).attr("data-itemId"),t=$(this).attr("data-action");$("#ItemAction").ejDialog("open"),$("#ItemAction_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:copyIframeUrl,data:{itemId:e,itemAction:t},success:function(e){$("#ItemAction").html(e),$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit;border:none"),$("#ItemAction_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click",".favorite-item",function(e){$("#items").ejWaitingPopup("show");var t=$("#items").data("ejGrid"),i=$(this).attr("data-itemid"),s=$(this).attr("data-value");$.ajax({type:"POST",url:favoriteItemUrl,data:{itemId:i,favoriteValue:s},success:function(e){if(e.Success){var n=$(".favorite-item").filter("[data-itemid='"+i+"']");if("True"==s?($(n[0]).addClass("favorite"),$(n[0]).attr("data-value","False"),$(n[0]).attr("data-bs-original-title",window.Server.App.LocalizationContent.RemoveFavorite)):($(n[0]).removeClass("favorite"),$(n[0]).attr("data-value","True"),$(n[0]).attr("data-bs-original-title",window.Server.App.LocalizationContent.MarkFavorite)),"dashboards"===$("#item-grid-container").data("gridName")){var o=angular.element(document.getElementById("server-items-container")).scope();t.model.query._params.push({key:"displayCategory",value:o.itemRequestType})}"100"==o.itemRequestType&&(t.model.filterSettings.filteredColumns=[{field:"CategoryName",operator:"equal",value:o.category}]),t.refreshContent()}else messageBox("",window.Server.App.LocalizationContent.MarkFavoriteError,window.Server.App.LocalizationContent.InternalServerError,"success",function(){onCloseMessageBox()})}})}),$(window).resize(function(){var e=$("#version-window-container").data("ejDialog");null!=e&&e.isOpened()&&e._dialogPosition();var t=$("#items").data("ejGrid");if(null!=t){window.innerWidth<1041?(t.hideColumns("Description"),t.hideColumns("Last Modified")):(t.showColumns("Description"),t.showColumns("Last Modified")),"block"!=$("#clear-search").css("display")&&"inline-block"!=$("#clear-search").css("display")||$("#search-items").css("display","block"),$(".item-list-panel").css("height",window.innerHeight-$("#header-area").outerHeight()),$("#create-new-category").css("width",$(".item-list-panel").outerWidth());var i=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight());return t.option({scrollSettings:{height:i}}),$(".su-sidebar-collapse").is(":visible")?($("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),!1):($("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),!1)}}),$(window).on("load",function(){refreshScrollerForCategory()}),$(document).on("click",".make-public",function(e){$("#item_name").html($(this).attr("data-name")),itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype");load(),$("#make_item_public").ejDialog("open"),$("#make_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:makePublicUrl,data:{itemId:t,itemTypeId:s,itemName:i},success:function(e){$("#make_item_public").html(e),$("#make_item_public_wrapper").ejWaitingPopup("hide"),$("#make-public").attr("data-itemtype",s),$("#make-public").attr("data-url",itemUrl)}})}),$(document).on("click","#make-public",function(e){$("#item_name").html($(this).attr("data-name")),itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype"),n=$(this).attr("data-item-type").trim();$("#make_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:makeItemPublicUrl,data:{itemId:t,itemTypeId:s,itemName:i},success:function(e){e.validation&&e.result?(onMakePublicDialogClose(),onGetLinkDialogOpen(),$(".report-name").html(i),$(".report-name").attr("title",i),$("."+n.toLowerCase()+"-link").show(),$(".private-note").hide(),$(".public-note").show(),ResetGrid()):($("#makepublicitem").hide(),$("#select-area").hide(),$("#close").show(),$(".error-msg").show(),ResetGrid()),$("#make_item_public_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click",".remove-public",function(e){$("#item_name").html($(this).attr("data-name")),itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype");load(),$("#remove_item_public").ejDialog("open"),$("#remove_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:removePublicUrl,data:{itemId:t,itemTypeId:s,itemName:i},success:function(e){$("#remove_item_public").html(e),$("#remove_item_public_wrapper").ejWaitingPopup("hide"),$("#remove-public").attr("data-itemtype",s),$("#remove-public").attr("data-url",itemUrl)}})}),$(document).on("click","#remove-public",function(e){$("#item_name").html($(this).attr("data-name")),itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype");$("#remove_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:removeItemPublicUrl,data:{itemId:t,itemTypeId:s,itemName:i},success:function(e){e.validation&&e.result?($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#remove-close").show(),$("#success-msg").show(),ResetGrid()):($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#success-msg").hide(),$("#remove-close").show(),$("#error-msg").show(),ResetGrid()),$("#remove_item_public_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click",".get-link",function(e){itemUrl=$(this).attr("data-url").trim();var t=$(this).attr("data-itemtype").trim();"2"==t.toLowerCase()?$(".dashboard-link").show():"6"==t.toLowerCase()?($(".file-link").show(),$("#compressed-link").prop("checked",!0)):"8"==t.toLowerCase()?$(".widget-link").show():$(".link").show();var i="",s=$(this).attr("data-name"),n=$(this).attr("ispublic"),o=$(this).attr("data-item-id"),r=document.getElementById("dashboard_render_iframe");if(null!=r){var a=r.contentDocument||r.contentWindow.document,l=$(a).find("#favorite_Item").attr("data-item-id"),c=$(a).find("#favorite_Item").attr("data-parent-id"),d="";""!==c&&void 0!==c&&(d="tab="+document.getElementById("dashboard_render_iframe").contentWindow.$("#dashboard").data("ejDashboardViewer").getCurrentTab().tabName.trim()),$(a).find("#favorite_Item").length>0&&null!==document.getElementById("dashboard_render_iframe").contentWindow.getcurrentfilters()&&(d+=(""===d?"":"&")+document.getElementById("dashboard_render_iframe").contentWindow.getcurrentfilters().encryptedData),i=l!==o&&c!==o||""===d?"msie"===browser.name.toLowerCase()?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim():window.location.origin+itemUrl:"msie"===browser.name.toLowerCase()?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim()+"?"+d:window.location.origin+itemUrl+"?"+d}else i="msie"===browser.name.toLowerCase()?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim():window.location.origin+itemUrl;$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link_wrapper").ejWaitingPopup("show"),$(".get_link").show(),"true"==n?($(".private-note").hide(),$(".public-note").show()):($(".private-note").show(),$(".public-note").hide()),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link").css({width:"100%",borderRadius:"4px"}),$("#item-link-copy").attr("data-bs-original-title","")):$("#item-link-copy").tooltip({animation:!1}),$(".report-name").html(s),$(".report-name").attr("title",s),$("#item-link").val(i),$("#item-link").select(),$(".modal-footer .validation-area").css("display","block"),$("#get_item_link_wrapper").ejWaitingPopup("hide")}),$(document).on("click","#compressed-link",function(){var e=$("#item-link").val().split("?")[0];1==$(this).prop("checked")&&(e+="?compress=true"),$("#item-link").val(e),$(".update-link").css("visibility","visible"),0!=timer&&clearTimeout(timer),timer=setTimeout(function(){$(".update-link").css("visibility","hidden"),timer=0},7e3)})}),$(document).ready(function(){var e=createLoader("item-info-popup");$("#item-info-popup").ejWaitingPopup({template:$("#"+e)})}),$(document).on("click",".category-link",function(e){$(".e-filtericon").removeClass("e-filteredicon e-filternone"),e.preventDefault()}),$(document).on("click",".item-navigation li:not(:last)",function(e){e.preventDefault();$("#items").data("ejGrid");0==$(this).hasClass("active")&&($(".item-navigation li").removeClass("active"),$(this).addClass("active")),$(this).hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section");var t=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight());$("#items").data("ejGrid").option({scrollSettings:{height:t}});var i=$(this).attr("href");window.location.pathname+window.location.search!=i&&window.innerWidth>=1041&&null!=history.pushState&&"dashboards"===$("#item-grid-container").data("gridName")&&history.pushState({},"",i)}),$(document).on("click",".popup-close",function(){window.parent.$("#item-delete-confirmation").ejDialog("close")}),$(document).on("click","#open-dashboard, #open-widget",function(e){"open-dashboard"==$(this).attr("id")?-1==$(this).attr("data-href").indexOf("?")?window.open($(this).attr("data-href")+"?showmyreports=1","_blank"):window.open($(this).attr("data-href")+"&showmyreports=1","_blank"):window.open($(this).attr("data-href"),"_blank")}),$(document).on("click",".search-item",function(e){if(e.stopPropagation(),$(".search-area").hasClass("add-background"))""!==$(".search-home-section").val()&&($(".search-home-section").val(""),!$("#category-list").is(":visible")||$("#category-list").length<=0?(gridObj=$("#items").data("ejGrid"),gridObj.model.pageSettings.currentPage=1,gridObj.refreshContent()):$(".category").trigger("click")),$(".search-area").removeClass("add-background"),$(".placeholder, .close-icon").hide(),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?setTimeout(function(){$(".search-area").prevAll().show().parent().removeClass("float-end"),$("#category-section-name").show();var e=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&"False"==e?$(".tool-tip").show():$(".tool-tip").hide()},300):setTimeout(function(){$(".search-area").prevAll(":not(#back-icon)").show().parent().removeClass("float-end"),$("#category-section-name").show();var e=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&"False"==e?$(".tool-tip").show():$(".tool-tip").hide()},300),setTimeout(function(){$(".search-home-section:visible").removeClass("show")},300);else{if($(".search-area").addClass("add-background"),$(".placeholder").show(),setTimeout(function(){$(".close-icon").show()},300),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")){$(".search-area").prevAll().hide().parent().addClass("float-end"),$("#category-section-name").hide();var t=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&"False"==t?$(".tool-tip").show():$(".tool-tip").hide()}else{$(".search-area").prevAll(":not(#back-icon)").hide().parent().addClass("float-end"),$("#category-section-name").hide();t=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&"False"==t?$(".tool-tip").show():$(".tool-tip").hide()}$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300)}return setTimeout(function(){$(".clear-search").hide()},300),!1}),$(document).on("click",".schedule-dashboards",function(){ItemId=$(this).attr("data-item-id"),ItemName=$(this).attr("data-itemname"),CategoryName=$(this).attr("data-category-name"),CategoryId=$(this).attr("data-category-id"),ScheduleId="",MultiDashboardName=$(this).attr("data-multidashboard-name"),$("#popup-container").ejDialog("open")}),$(document).on("click","#create_schedule, .create-schedule",function(){ItemId="",ItemName="",CategoryName="",ScheduleId="",CategoryId="",MultiDashboardName=$(this).attr("data-multidashboard-name"),$("#popup-container").ejDialog("open")}),$(document).on("click","#item-link-copy",function(e){if($("#item-link").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor))$("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-bs-original-title","");else{document.execCommand("copy");var t=document.querySelector("#item-link-copy"),i=bootstrap.Tooltip.getInstance(t);i&&i.dispose(),(i=new bootstrap.Tooltip(t,{title:window.Server.App.LocalizationContent.Copysuccess,trigger:"hover",placement:"top"})).show(),setTimeout(()=>{i.dispose(),i=new bootstrap.Tooltip(t,{title:window.Server.App.LocalizationContent.LinkCopy,trigger:"hover",placement:"top"})},3e3)}}),$(document).on("click",".item-link",function(e){if(e.preventDefault(),"true"==$(this).attr("data-isdraft").toLowerCase())window.open($(this).attr("href"),"_self");else{var t=document.getElementById("dashboard_render_iframe");if(window.innerWidth<1041||"open-dashboard"==e.target.id||"open-widget"==e.target.id||"context-menu"==e.target.id||$(e.target).hasClass("favorite-item"))e.stopPropagation();else{t.contentWindow.location.replace(decodeURI($(this).find("span").attr("data-href"))),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block");var i=$(this).attr("href");if(window.location.pathname+window.location.search!=i){var s=window.location.search.indexOf("?category=")>-1?"?view=categories":"?view="+$(".item-navigation li.active").attr("data-value"),n=i+(i.indexOf("?")>-1?s.replace("?","&"):s);$("#current-url").attr("data-url",n),null!=history.pushState&&"dashboards"===$("#item-grid-container").data("gridName")&&history.pushState({},"",n)}}0==$(this).parents("td").hasClass("active")?($(".item-link").parents("td").removeClass("active"),$(this).parents("td").addClass("active")):window.innerWidth<1041&&$(".item-link").parents("td").removeClass("active")}}),$(document).on("click",".category-collapse",function(e){if($(".su-sidebar-collapse").is(":visible")){$("#item-viewer").css("width","100%"),$(".item-list-panel, .su-sidebar-collapse").css({display:"none"}),$(".su-sidebar-expand").css({display:"block"}),$("#item-viewer").addClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()});var t=$("#dashboard_render_iframe").width();return $("#dashboard_render_iframe").contents().find("#dashboard").css("width",t-30),$("#item-viewer").ejWaitingPopup("refresh").css("width",t),!1}$("#dashboard_render_iframe").contents().find("#dashboard-view-toogle").hasClass("dashboard-view-toogle")&&CloseDashboardView(),$("#dashboard_render_iframe").contents().find("#filter-view").hide(),$("#dashboard_render_iframe").contents().find("#commentModuleContainer").addClass("displayNone"),$("#dashboard_render_iframe").contents().find("ul.options").css("right","0px"),$("#item-viewer").css({left:"initial"}),$("#dashboard_render_iframe").contents().find("ul.options li").removeClass("active"),$("#item-viewer").css({width:"70%"}),$(".item-list-panel, .su-sidebar-collapse").css({display:"block"}),$(".su-sidebar-expand").css({display:"none"}),$("#item-viewer").removeClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()});t=$("#dashboard_render_iframe").width();return $("#dashboard_render_iframe").contents().find("#dashboard").css("width",t-30),$("#item-viewer").ejWaitingPopup("refresh").css("width",t),!1}),$(document).on("show.bs.dropdown","#listing, #items .e-row",function(){if($(this).find("#context-menu").length>0){var e=$(this).offset().top+$(this).outerHeight(!0)/2-$("#header-area").outerHeight(!0)-$(".item-navigation").outerHeight(!0)-$("#category-listing").outerHeight(!0),t=$(window).height()-$(this).offset().top-$(this).outerHeight(!0)/2,i=$(this).find(".dashboard-options").outerHeight(!0);t<=i&&e>=i&&$(this).find("#context-menu").removeClass("dropdown").addClass("dropup")}$(this).hasClass("e-row")?$(".item-link").each(function(){$(this).removeClass("active-category-setting"),$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}):$(".category-section").each(function(){$(this).removeClass("active-category-setting"),$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}),refreshScrollerForCategory()}),$(document).on("hide.bs.dropdown","#listing, #items .e-row",function(){$(this).find("#context-menu").length>0&&$(this).find("#context-menu").removeClass("dropup").addClass("dropdown"),$(this).hasClass("e-row")?$(".item-link").removeClass("active-category-setting"):$(".category-section").removeClass("active-category-setting"),refreshScrollerForCategory()}),$(document).on("shown.bs.dropdown","#scroll-content li, #items .e-row",function(){var e=$("#item-grid-container").attr("data-grid-name");if($("#category-list").is(":visible"))return refreshScrollerForCategory(),!1;"dashboards"!=e.toLowerCase()&&"widgets"!=e.toLowerCase()||($(".e-gridcontent").ejScroller(),$(".e-gridcontent").ejScroller("refresh"))}),$(document).on("hidden.bs.dropdown","#scroll-content li, #items .e-row",function(){var e=$("#item-grid-container").attr("data-grid-name");if($("#category-list").is(":visible"))return refreshScrollerForCategory(),!1;"dashboards"!=e.toLowerCase()&&"widgets"!=e.toLowerCase()||($(".e-gridcontent").ejScroller(),$(".e-gridcontent").ejScroller("refresh"))}),$(document).on("mouseenter",".category-section, #items .e-row",function(){$(this).hasClass("e-row")?$(".item-link").each(function(){$(this).removeClass("active-category-setting"),$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}):$(".category-section").each(function(){$(this).removeClass("active-category-setting"),$(this).find(".open").length>0&&$(this).addClass("active-category-setting")})}),$(document).on("mouseleave",".category-section, #items .e-row",function(){$(this).hasClass("e-row")?$(".item-link").each(function(){$(this).removeClass("active-category-setting"),$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}):$(".category-section").each(function(){$(this).removeClass("active-category-setting"),$(this).find(".open").length>0&&$(this).addClass("active-category-setting")})}),$(document).on("mouseenter","#open-dashboard, #open-widget",function(){$(this).parents("a").tooltip("hide")}),$(document).on("mouseleave","#open-dashboard, #open-widget",function(){$(this).parents("a").tooltip("show")}),$(document).on("mouseenter",".dashboard-views",function(e){if("view-name"!=e.target.className){var t=$(this).find(".views").attr("data-item-id"),s=$(this).find("ul"),n="",o=$(this).find(".views").attr("data-is-childdashboard"),r=$(this).find(".views").attr("data-parent-category-name"),a=$(this).find(".views").attr("data-parent-itemname"),l=$(this).find(".views").attr("data-parent-item-id"),c=null!=o&&"true"==o.toLowerCase()?$(this).find(".views").attr("data-child-dashboard-name"):"";1==isAjaxRequested&&($(".dashboard-views").addClass("views-loader"),isAjaxRequested=!1,$.ajax({type:"POST",url:getViewsByItemIdUrl,data:{itemId:t},success:function(e){if(null!=e&&null!=e.result&&e.result.length>0)if(null!=o&&null!=o&&"true"==o.toLowerCase())for(i=0;i<e.result.length;i++)n+="<li><a class='view-name' href='"+dashboards+"/"+l+"/"+r+"/"+a+"?tab="+c+"&viewid="+e.result[i].ViewId+"' target='_blank'  data-bs-toggle='tooltip' data-bs-placement='top' data-bs-original-title='"+e.result[i].ViewName+"' data-itemid='"+e.result[i].ItemId+"'>"+e.result[i].ViewName+"</a></li>";else for(i=0;i<e.result.length;i++)n+="<li><a class='view-name' href='"+dashboards+"/"+t+"/"+e.result[i].CategoryName+"/"+e.result[i].ItemName+"?viewid="+e.result[i].ViewId+"' target='_blank'  data-bs-toggle='tooltip' data-bs-placement='top' data-bs-original-title='"+e.result[i].ViewName+"' data-itemid='"+e.result[i].ItemId+"'>"+e.result[i].ViewName+"</a></li>";else n="<li><span class='view-name' href='javascript:void(0);'><span>"+window.Server.App.LocalizationContent.NoViews+"</span></span></li>";s.html(n),$(".dashboard-views").removeClass("views-loader"),$(".dashboard-views").addClass("no-loader"),$('[data-bs-toggle="tooltip"]').tooltip()}}).always(function(){isAjaxRequested=!0}))}}),$(document).on("click",".dashboard-options li > span",function(e){return e.stopPropagation(),!1}),$(document).on("click",".download-item",function(e){window.location=$(this).attr("href")}),$(document).on("click",".open-item",function(e){var t=$(this).attr("href")+"?showmyreports=1";window.open(t,"_blank")}),$(document).on("click",".option-click",function(){$(this).closest(".dropdown-menu").prev().dropdown("toggle")}),$(document).on("click",".dropdown-backdrop",function(e){return e.stopPropagation(),!1}),$(document).on("show.bs.tooltip",function(){$(".tooltip").not(this).hide()}),$(document).on("click",".web-designer",function(e){window.location.href=$(this).attr("href")}),$(document).on("click",".view-schedule",function(e){var t=$(this).attr("href");window.open(t,"_blank")}),$(document).on("mousedown","#items .e-gridcontent .e-vscrollbar",function(){$("#item-viewer iframe").addClass("pointer-event"),-1!=navigator.userAgent.indexOf("Edge")&&$("#item-viewer iframe").addClass("display")}),$(document).on("mouseup",function(){$("#item-viewer iframe").hasClass("pointer-event")&&($("#item-viewer iframe").removeClass("pointer-event"),-1!=navigator.userAgent.indexOf("Edge")&&$("#item-viewer iframe").removeClass("display"))}),$(document).on("click",".blank-dashboard-link-box, #start-from-templates",function(){$("#CreateDashboard").trigger("click")}),serverApp.controller("itemsCtrl",["$scope","$http","$timeout","$window","ajaxService",function(e,t,i,s,n){itemsGrid=angular.element("[ng-controller=itemsCtrl]").scope(),e.openInfo=function(e){var t,i=angular.element("[ng-controller=ItemInfoCtrl]").scope(),s=e.getAttribute("data-item-name"),n=e.getAttribute("data-description"),o=e.getAttribute("data-item-id"),r=e.getAttribute("data-createdByDisplayName"),a=e.getAttribute("data-createdDate"),l=e.getAttribute("data-modifiedByFullName"),c=e.getAttribute("data-modifiedDate"),d=e.getAttribute("data-categoryName"),h="true"===e.getAttribute("data-isDraft"),u=e.getAttribute("data-itemType");t={Name:s,Description:decodeHtmlAsString(n),Id:o,CreatedByDisplayName:r,CreatedDate:a,ModifiedByFullName:l,ModifiedDate:c,CategoryName:d,IsDraft:h,ItemType:u},i.openInfoDialog(t,!0)}}]),$(document).on("click","#item-info-option",function(e){e.preventDefault(),itemsGrid.openInfo(this)}),$(function(){$("#AddCategoryPopup").ejDialog({width:"600px",height:"250px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!0}),$("#report_popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!1,enableResize:!1,title:window.Server.App.LocalizationContent.AddDashboard,enableModal:!0,showHeader:!1,open:"onDashboardDialogOpen"}),$("#sample-item-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",beforeOpen:function(e){$("#sample-item-popup_wrapper").css("z-index","2147483647")},showHeader:!1,enableModal:!0,beforeClose:function(e){$("#itemsstring_ddinput_popup_list_wrapper, #items_acString_suggestion, #items_WaitingPopup, #item-grid-container_WaitingPopup, #sample-item-popup_wrapper, #sample-item-popup_wrapper_WaitingPopup").css("z-index","9999")},close:"DialogBoxClose",closeOnEscape:!0}),$("#sample-report-part-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"750px",title:"",beforeOpen:function(e){$("#sample-report-part-popup_wrapper").css("z-index","22222222")},showHeader:!1,enableModal:!0,beforeClose:function(e){$("#itemsstring_ddinput_popup_list_wrapper, #items_acString_suggestion, #items_WaitingPopup, #item-grid-container_WaitingPopup, #sample-report-part-popup_wrapper, #sample-report-part-popup_wrapper_WaitingPopup").css("z-index","9999")},close:"DialogBoxClose",closeOnEscape:!0});var e=createLoader("AddCategoryPopup_wrapper");$("#AddCategoryPopup_wrapper").ejWaitingPopup({template:$("#"+e)});var t=createLoader("report_popup_wrapper");$("#report_popup_wrapper").ejWaitingPopup({template:$("#"+t)});var i=createLoader("sample-item-popup_wrapper");$("#sample-item-popup_wrapper").ejWaitingPopup({template:$("#"+i)}),$(document).on("click",".prevent-default-action",function(e){e.preventDefault()})}),$(document).on("click",".add-sample-button",function(){$("#sample-item-popup iframe").attr("src",addSampleItemsUrl),$("#sample-item-popup").ejDialog("open"),ShowWaitingProgress("#sample-item-popup_wrapper","show")}),$(document).on("click",".add-sample-report-part-button",function(){$("#sample-report-part-popup iframe").attr("src",addSampleReportPartsUrl),$("#sample-report-part-popup").ejDialog("open"),ShowWaitingProgress("#sample-report-part-popup_wrapper","show")}),$(document).on("click",".explore",function(){$("#sample-item-popup iframe").attr("src",addSampleItemsUrl),$("#sample-item-popup").ejDialog("open"),ShowWaitingProgress("#sample-item-popup_wrapper","show")}),$(document).on("click",".dashboard-notification .su-close",function(){$(".dashboard-notification").remove()});browser=ej.browserInfo();function intializeGetLinkDialog(){$.ajax({type:"Get",url:getLinkDialogViewUrl,data:{nonce:tileReportsPageNonce},success:function(e){$("body").append(e),$("#get_item_link").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.GetLink,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onGetLinkDialogClose"});var t=createLoader("get_item_link_wrapper");$("#get_item_link_wrapper").ejWaitingPopup({template:$("#"+t)})}}),document.querySelectorAll('[data-bs-toggle="get-link-tooltip"]').forEach(e=>{new bootstrap.Tooltip(e,{animation:!0,html:!0,placement:"top"})})}function GetLink(e){var t=e.ItemType;3==t?$(".report-link").show():6==t?($(".file-link").show(),$("#compressed-link").prop("checked",!0)):8==t?$(".widget-link").show():$(".link").show();var i=e.Name;e.Id;$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link_wrapper").ejWaitingPopup("show"),$(".get_link").show(),e.IsPublic?($(".private-note").hide(),$(".public-note").show()):($(".private-note").show(),$(".public-note").hide()),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link").css({width:"100%",borderRadius:"4px"}),$("#item-link-copy").attr("data-bs-original-title","")):$("#item-link-copy").tooltip({animation:!1}),$(".report-name").html(i),$(".report-name").attr("title",i),$("#item-link").val(getDashboardShareLink(e.Id,e.CategoryName,e.Name)),$("#item-link").select(),$(".modal-footer .validation-area").css("display","block"),$("#get_item_link_wrapper").ejWaitingPopup("hide")}function onGetLinkDialogClose(){$("#get_item_link").ejDialog("close")}function onGetLinkDialogOpen(){$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link").focus(),$("#item-link").select(),$(".get_link").show(),$("#item-link").val(itemUrl),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link-copy").attr("data-bs-original-title",""))}function getDashboardShareLink(e,t,i){var s=baseUrl.split("/");return encodeURI(s[0]+"//"+s[2]+viewDashboardUrlAction+"/"+e+"/"+t+"/"+i)}$(document).on("click","#item-link-copy",function(e){if($("#item-link").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor))$("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-bs-original-title","");else{document.execCommand("copy");var t=document.querySelector("#item-link-copy"),i=bootstrap.Tooltip.getInstance(t);i&&i.dispose(),(i=new bootstrap.Tooltip(t,{title:window.Server.App.LocalizationContent.Copysuccess,trigger:"hover"})).show(),setTimeout(()=>{i.dispose(),i=new bootstrap.Tooltip(t,{title:window.Server.App.LocalizationContent.LinkCopy,trigger:"hover"})},1e3)}}),$(document).on("click","#get-link-dialog-close",function(e){e.preventDefault(),onGetLinkDialogClose()}),$(document).on("click","#Cancel",onGetLinkDialogClose),$(document).on("click","#item-link",function(){this.setSelectionRange(0,this.value.length)});var sharePermissionDlgObj="",sharePermissionDlgWrapperObj="",sharePermisisonDlgHeader="",sharePermissionDlgHeaderItemName="",sharePermissionConatiner="",accessModeContainer="",dummyContainer="",embedCodeContainer="",sharePermissionDashboardSettingSectionObj="",sharePermissionPublicSectionObj="",sharePermissionPrivateSectionObj="",sharePermissionUserGroupSectionObj="",manageUserGroupContainer="",manageUserGroupBodySection="",getEmbedLinkSection="",changeIndicatorBannerObj="",shareWithLabelObj="",getLinkInputObj="",getLinkCopyLinkobj="",getEmbedCodeInputObj="",getEmbedCodeCopyBtnobj="",accessModeChangeLink="",manageAccessButton="",manageAccessBackButton="",manageAccessSaveBtnObj="",manageAccessCancelBtnObj="",shareDoneBtnObj="",shareBtnObj="",accessModeChngBtnObj="",accessModeCancelBtnObj="",embedCodeDoneBtnObj="",addOwnerBtnObj="",publicRadioBtnObj="",privateRadioBtnObj="",isItemPublic=!1,isEntireDOMRendered=!1,accessModeSelectionInput="",sharedUserGroupsPreservedList=[],sharedAccessModePreservedList=[],markForDeleteBtnObj="",removeMarkForDeleteBtnObj="",toggleMarkForDeletionObj="",modifiedItemIndex=[],addNewItemPermission=[],userMarkedForDeletionList=[],groupMarkedForDeletionList=[],showSharedUserGroupContainer="",showSharedUserGroupNameSection="",showSharedUserGroupName="",showSharedUserGroupCountSection="",showSharedUserGroupCount="",currentItemDetail=[],shareItem=angular.module("serverApp");function sharePermission(e){$("#permission-popup iframe").attr("src",permissionIframeUrl+"?itemId="+e),$("#permission-popup").ejDialog("open"),ShowWaitingProgress("#permission-popup_wrapper","show")}function shareDashboardPermission(e,t){currentItemDetail=e,sharePermissionDlgHeaderItemName.text(currentItemDetail.Name),sharePermissionDlgObj.show();var i=null!=window.granularPermissions&&(window.granularPermissions.All||window.granularPermissions.ReportsSettings),s=null!=window.granularPermissions&&window.granularPermissions.Report,n=null!=window.granularPermissions&&window.granularPermissions.Dataset,o=null!=window.granularPermissions&&window.granularPermissions.Datasource,r=null!=window.granularPermissions&&window.granularPermissions.Category,a=angular.element("#share-permission-content-section").scope();switch(a.currentItemType=e.ItemType,a.isAdmin=isAdmin,a.hasDashboardSettingsPermission=isAdmin||i,$("#share-permission-popup_wrapper, #user-group-search-input_suggestion").addClass("custom-bootstrap-styles"),sharePermissionDlgObj.ejDialog("open"),e.ItemType==ItemType.Report&&(e.CreatedById==currentUserId||isAdmin||s)?(isMarkItemsPublic?e.IsPublic?showPublicContent():showPrivateContent():showDashboardSettingContent(),addAttributeValueToBtnEle(e)):hidePublicPrivateContent(),e.ItemType==ItemType.Report?e.CreatedById==currentUserId||isAdmin||s?(showShareUserGroupPermissionSection(),getShareItemPermission(e.Id),addAttributeValueToBtnEle(e),addAttributeValueToAutoCompleteEle(e)):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Datasource?e.CreatedById==currentUserId||isAdmin||o?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Dataset?e.CreatedById==currentUserId||isAdmin||n?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Category?e.CreatedById==currentUserId||isAdmin||r?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.CreatedById==currentUserId||isAdmin?showShareDialogContent(e):hideShareUserGroupPermissionSection(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-url-copy").hide(),$("#item-url").css({width:"100%",borderRadius:"4px"}),$("#item-url-copy").attr("data-original-title","")):$("#item-url-copy").tooltip({animation:!1}),e.ItemType){case ItemType.Report:$("#item-url").val(getDashboardShareLink(e.Id,e.CategoryName,e.Name,e.UnlistedCode,e.IsUnlisted));break;case ItemType.ItemView:var l=getDashboardShareLink(t.Id,t.CategoryName,t.Name,null,!1);$("#item-url").val(l+"?viewid="+e.Id);break;default:$("#item-url").val("")}}function addGroupOwnerDialogOpen(){var e=$("#add-owner-button").attr("data-groupname"),t=$("#add-owner-button").attr("data-groupid"),i=angular.element("#share-permission-content-section").scope();currentItemDetail.ItemType=ItemType.UserManagement,i.currentItemType=ItemType.UserManagement,i.isAdmin=isAdmin,"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog({height:241}):sharePermissionDlgObj.ejDialog({height:241}),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),sharePermissionDlgHeaderItemName.text(e),sharePermissionDlgObj.show(),$("#share-permission-popup_wrapper, #user-group-search-input_suggestion").addClass("custom-bootstrap-styles"),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog("open"):sharePermissionDlgObj.ejDialog("open"),hidePublicPrivateContent(),getGroupUserPermission(t),addOwnerBtnObj.attr("data-item-id",t),addOwnerBtnObj.attr("data-name",e),addOwnerBtnObj.attr("data-itemtype",ItemType.UserManagement),autoCompleteHiddenEle.attr("data-item-id",t),autoCompleteHiddenEle.attr("data-itemtype",ItemType.UserManagement)}function showShareDialogContent(e){showShareUserGroupPermissionSection(),getShareItemPermission(e.Id),addAttributeValueToBtnEle(e),addAttributeValueToAutoCompleteEle(e)}function onSharePermissionPopupOpen(e){$('[data-bs-toggle="popover"]').popover("hide"),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),showSharePermissionContainer()}function onSharePermissionPopupClose(e){currentItemDetail=[],$(".embed-configuration [type='checkbox']").removeAttr("checked"),$('[data-bs-toggle="popover"]').popover("hide"),showSharePermissionContainer(),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),refreshDialogBoxPosition()}function showAccessModeContainer(){sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionAccessMode),accessModeContainer.show(),accessModeChngBtnObj.show(),accessModeCancelBtnObj.show(),sharePermissionConatiner.hide(),manageAccessButton.hide(),shareBtnObj.hide(),shareDoneBtnObj.hide(),refreshDialogBoxPosition()}function showManageAccessContainer(){hidePublicPrivateContent(),showSharedUserGroupContainer.hide(),shareBtnObj.text(window.Server.App.LocalizationContent.AddPeopleBtn),addOwnerBtnObj.text(window.Server.App.LocalizationContent.AddPeopleBtn),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.ManageAccess),dummyContainer.hide(),""==autoCompleteInstance.getValue()&&(shareBtnObj.hide(),addOwnerBtnObj.hide()),currentItemDetail.ItemType==ItemType.UserManagement&&($(".change-access-mode-selection span").removeClass("caret"),$(".change-access-mode-selection button").attr("disabled",!0)),manageAccessBackButton.show(),manageUserGroupContainer.show(),manageAccessButton.hide(),refreshUserGroupScroll(),refreshDialogBoxPosition(),generateProfileAvatar()}function hideManageAccessContainer(){manageUserGroupContainer.hide(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),embedCodeDoneBtnObj.hide(),embedCodeContainer.hide(),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues()}function showSharePermissionContainer(){currentItemDetail.ItemType==ItemType.UserManagement?(sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),$(".show-shared-user-group-label").text("Group Owners :")):sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionDefault),dummyContainer.show(),shareBtnObj.text(window.Server.App.LocalizationContent.SharePeopleBtn),enableAutocompleteAccessModeSelectionWithoutReset(),refreshAutoComplete(),sharePermissionConatiner.show(),manageAccessButton.show(),shareDoneBtnObj.show(),manageAccessBackButton.hide(),hideManageAccessContainer(),accessModeContainer.hide(),accessModeChngBtnObj.hide(),accessModeCancelBtnObj.hide(),displaySharedUserGroupInfo(),currentItemDetail.ItemType==ItemType.Report&&(void 0!==currentItemDetail.Extension&&".rdl"==currentItemDetail.Extension.toLowerCase()?getEmbedLinkSection.show():getEmbedLinkSection.hide()),embedCodeDoneBtnObj.hide(),sharePermissionDlgHeaderItemName.show(),sharePermisisonDlgHeader.css("line-height",""),refreshDialogBoxPosition()}function showSharePermissionContainerWithRefresh(){$('[data-bs-toggle="popover"]').popover("hide"),resetToActualScope(),hideManageAccessContainer(),enableAutocompleteAccessModeSelectionWithoutReset(),autoCompleteHiddenEle.attr("data-itemtype")!=ItemType.UserManagement?sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionDefault):sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),displaySharedUserGroupInfo(),dummyContainer.show(),shareBtnObj.text(window.Server.App.LocalizationContent.SharePeopleBtn),addOwnerBtnObj.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),showPublicPrivateContent(),sharePermissionConatiner.show(),manageAccessButton.show(),""!=autoCompleteInstance.getValue()?(autoCompleteHiddenEle.attr("data-itemtype")!=ItemType.UserManagement?shareBtnObj.show():addOwnerBtnObj.show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide()):shareDoneBtnObj.show(),manageAccessBackButton.hide(),accessModeContainer.hide(),accessModeChngBtnObj.hide(),accessModeCancelBtnObj.hide(),refreshDialogBoxPosition()}function showDashboardSettingContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.hide(),sharePermissionDashboardSettingSectionObj.show()}function showPublicContent(){sharePermissionPublicSectionObj.show(),sharePermissionPrivateSectionObj.hide(),isItemPublic=!0}function showPrivateContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.show(),isItemPublic=!1}function showPublicOrPrivateContent(){isItemPublic?showPublicContent():showPrivateContent()}function showShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.show()}function hideShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.hide()}function hidePublicPrivateContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.hide(),sharePermissionDashboardSettingSectionObj.hide()}function showPublicPrivateContent(){var e=null!=window.granularPermissions&&window.granularPermissions.Report;currentItemDetail.ItemType==ItemType.Report&&(currentItemDetail.CreatedById==currentUserId||isAdmin||e)?isMarkItemsPublic?isItemPublic?sharePermissionPublicSectionObj.show():sharePermissionPrivateSectionObj.show():sharePermissionDashboardSettingSectionObj.show():hidePublicPrivateContent()}function changeAccessMode(){sharePermissionDlgWrapperObj.ejWaitingPopup("show"),showAccessModeContainer(),isItemPublic?publicRadioBtnObj.prop("checked",!0):privateRadioBtnObj.prop("checked",!0),accessModeChngBtnObj.attr("disabled",!0),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}function getEmbedCode(){$("#embed-code").val(generateEmbedCode(currentItemDetail)),embedCodeContainer.show(),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.EmbedCode),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&getEmbedCodeCopyBtnobj.hide(),currentItemDetail.IsPublic?($(".private-embed-code-note").hide(),$(".public-embed-code-note").show()):($(".private-embed-code-note").show(),$(".public-embed-code-note").hide()),embedCodeDoneBtnObj.show(),manageAccessBackButton.hide(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),sharePermissionDlgHeaderItemName.hide(),sharePermisisonDlgHeader.css("line-height","32px"),sharePermissionConatiner.hide(),manageAccessButton.hide(),shareBtnObj.hide(),shareDoneBtnObj.hide(),refreshDialogBoxPosition()}function addAttributeValueToBtnEle(e){accessModeChngBtnObj.attr("data-item-id",e.Id),accessModeChngBtnObj.attr("data-name",e.Name),accessModeChngBtnObj.attr("data-itemtype",e.ItemType),shareBtnObj.attr("data-item-id",e.Id),shareBtnObj.attr("data-name",e.Name),shareBtnObj.attr("data-itemtype",e.ItemType)}function addAttributeValueToAutoCompleteEle(e){autoCompleteHiddenEle.attr("data-item-id",e.Id),autoCompleteHiddenEle.attr("data-itemtype",e.ItemType)}function getShareItemPermission(e){sharePermissionDlgWrapperObj.ejWaitingPopup("show"),$.ajax({type:"get",url:getShareItemPermissionUrl,data:{itemId:e},contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if(e.status){var t=angular.element(manageUserGroupBodySection).scope();t.$apply(function(){angular.copy(e.SharedUserGroupList,sharedUserGroupsPreservedList),t.sharedUserGroups=e.SharedUserGroupList}),t.$apply(function(){angular.copy(e.AccessModeOptionList,sharedAccessModePreservedList),t.accessModes=e.AccessModeOptionList}),$(".change-access-mode-selection").selectpicker("destroy"),$(".change-access-mode-selection").selectpicker(),$(".change-access-mode-selection .selectpicker").removeAttr("title"),accessModeSelectionInput.html("");var i=$($.parseHTML(e.AccessModeList));i.length>0&&$(i[0]).attr("selected","selected"),accessModeSelectionInput.append(i),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker(),refreshUserGroupScroll(),sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),displaySharedUserGroupInfo(),isEntireDOMRendered=!0,$('[data-bs-toggle="tooltip"]').tooltip(),$('[data-bs-toggle="popover"]').popover()}},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}})}function getGroupUserPermission(e){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),$.ajax({type:"get",url:getGroupOwnersUrl,data:{groupId:e},contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if(e.status){var t=angular.element(manageUserGroupBodySection).scope();t.$apply(function(){angular.copy(e.SharedUserGroupList,sharedUserGroupsPreservedList),t.sharedUserGroups=e.SharedUserGroupList}),t.$apply(function(){angular.copy(e.AccessModeOptionList,sharedAccessModePreservedList),t.accessModes=e.AccessModeOptionList}),currentItemDetail.ItemType==ItemType.UserManagement?$("#user-group-search-input_suggestion").removeClass("item-user-input_suggestion"):$("#user-group-search-input_suggestion").addClass("item-user-input_suggestion"),$(".change-access-mode-selection").selectpicker("destroy"),$(".change-access-mode-selection").selectpicker(),$(".change-access-mode-selection .selectpicker").removeAttr("title"),$(".change-access-mode-selection span").removeClass("caret"),$(".change-access-mode-selection button").attr("disabled",!0),accessModeSelectionInput.html("");var i=$($.parseHTML(e.AccessModeList));i.length>0&&$(i[0]).attr("selected","selected"),accessModeSelectionInput.append(i),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker(),refreshUserGroupScroll(),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),displaySharedUserGroupInfo(),isEntireDOMRendered=!0,$('[data-bs-toggle="tooltip"]').tooltip(),$('[data-bs-toggle="popover"]').popover()}else null!=e.permissionDenied&&e.permissionDenied&&(WarningAlert(window.Server.App.LocalizationContent.AddGroupOwnerBtn,window.Server.App.LocalizationContent.UserManagementWarningAlert,7e3),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog("close"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):(sharePermissionDlgObj.ejDialog("close"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")))},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}})}function displaySharedUserGroupInfo(){var e=angular.element(manageUserGroupBodySection).scope().sharedUserGroups;if(null!=e){if(e.length>0){var t="";$.each(e,function(i,s){var n="<div class='shared-user-group-name'><span class='shared-user-group-name-label'>";i<3&&(s.TargetUserId>0?n+=s.DisplayName+"</span>":n+=s.TargetGroupName+"</span>",i!=e.length-1?n+="<span class='shared-user-group-name-comma'>,</span> </div>":n+="</div>",t+=n)}),showSharedUserGroupNameSection.html(t),manageUserGroupContainer.is(":visible")||showSharedUserGroupContainer.show()}else showSharedUserGroupContainer.hide();if(e.length>3){var i=e.length-3;showSharedUserGroupCount.text(i),showSharedUserGroupCountSection.show()}else showSharedUserGroupCountSection.hide();generateProfileAvatar()}}function saveItemPermission(){sharePermissionDlgWrapperObj.ejWaitingPopup("show"),splitUserGroupList();var e=userEmailList,t=groupIdList,i=accessModeSelectionInput.val(),s=shareBtnObj.attr("data-item-id"),n=shareBtnObj.attr("data-itemtype");$.ajax({type:"POST",url:sharepermissionUrl,data:{permissionList:JSON.stringify({mode:i,itemType:n,UserList:e,GroupList:t}),itemId:s},success:function(e,t){"true"==e.toString().toLowerCase()?(getShareItemPermission(s),refreshAutoComplete(),refreshAutocompleteAccessModeSelection()):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function addGroupOwnerPermission(){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),splitUserGroupList();var e=userEmailList,t=groupIdList,i=accessModeSelectionInput.val(),s=addOwnerBtnObj.attr("data-item-id"),n=addOwnerBtnObj.attr("data-itemtype");$.ajax({type:"POST",url:addGroupOwnerPermissionUrl,data:{permissionList:JSON.stringify({mode:i,itemType:n,UserList:e,GroupList:t}),groupId:s},success:function(e,t){e.status?(getGroupUserPermission(s),refreshAutoComplete(),refreshAutocompleteAccessModeSelection()):null!=e.permissionDenied&&e.permissionDenied&&(WarningAlert(window.Server.App.LocalizationContent.AddGroupOwnerBtn,window.Server.App.LocalizationContent.UserManagementWarningAlert,7e3),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog("close"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):(sharePermissionDlgObj.ejDialog("close"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")))},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function updateBulkItemPermission(){var e=shareBtnObj.attr("data-item-id"),t=addOwnerBtnObj.attr("data-item-id");$.ajax({type:"POST",url:updateBulkItemPermissionUrl,data:{permissionList:addNewItemPermission,userMarkedForDeletionList:userMarkedForDeletionList,groupMarkedForDeletionList:groupMarkedForDeletionList,itemId:e,groupId:t},success:function(i,s){"true"==i.toString().toLowerCase()?(null!=e?getShareItemPermission(e):getGroupUserPermission(t),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection()):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function refreshDialogBoxPosition(){sharePermissionDlgObj.ejDialog({height:"auto"}),isEntireDOMRendered&&(sharePermissionDlgObj.ejDialog({width:529}),sharePermissionDlgObj.ejDialog({width:530})),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),sharePermissionDlgObj.ejDialog("refresh")}function prepareRequestForAddItemPermission(){if(modifiedItemIndex.length>0){var e=angular.element(manageUserGroupBodySection).scope(),t=e.accessModes,i=e.sharedUserGroups,s=shareBtnObj.attr("data-itemtype");$.each(t,function(t,n){var o=n.Key,r=[],a=[];$.each(modifiedItemIndex,function(t,s){i[s].PermissionAccess!=sharedUserGroupsPreservedList[s].PermissionAccess&&i[s].PermissionAccess==n.Key&&(e.IsUserItem(s)?-1==jQuery.inArray(i[s].Email,r)&&r.push(i[s].Email):e.IsGroupItem(s)&&-1==jQuery.inArray(i[s].TargetGroupId,a)&&a.push(i[s].TargetGroupId))}),(r.length>0||a.length>0)&&addNewItemPermission.push(JSON.stringify({mode:o,itemType:s,UserList:r,GroupList:a}))}),$.each(modifiedItemIndex,function(t,s){i[s].PermissionAccess!=sharedUserGroupsPreservedList[s].PermissionAccess&&(e.IsUserItem(s)?-1==jQuery.inArray(sharedUserGroupsPreservedList[s].PermissionId,userMarkedForDeletionList)&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[s].PermissionId):e.IsGroupItem(s)&&-1==jQuery.inArray(sharedUserGroupsPreservedList[s].PermissionId,groupMarkedForDeletionList)&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[s].PermissionId))})}}function resetPreRequestValues(){modifiedItemIndex=[],addNewItemPermission=[],userMarkedForDeletionList=[],groupMarkedForDeletionList=[]}function resetToActualScope(){var e=angular.element(manageUserGroupBodySection).scope();e.$apply(function(){angular.copy(sharedUserGroupsPreservedList,e.sharedUserGroups)}),e.$apply(function(){angular.copy(sharedAccessModePreservedList,e.accessModes)}),$(".change-access-mode-selection").selectpicker("destroy"),$(".change-access-mode-selection").selectpicker(),$(".change-access-mode-selection .selectpicker").removeAttr("title"),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),$('[data-bs-toggle="tooltip"]').tooltip(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareBtnObj.hide(),shareDoneBtnObj.show()}function enableAutocompleteAccessModeSelectionWithoutReset(){autoCompleteControlEle.ejAutocomplete("enable"),autoCompleteControlWrapperEle.find(".e-in-wrap.e-box.e-corner").removeClass("disable-autocomplete"),accessModeSelectionInput.prop("disabled",!1),$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection"),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker()}function refreshAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("selectedIndex",0),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker()}function enableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!1),$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection"),refreshAutocompleteAccessModeSelection()}function disableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!0),$(".selectpicker[data-id='access-mode-selection']").addClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").addClass("disable-autocomplete-access-mode-selection"),refreshAutocompleteAccessModeSelection()}function onSuggestionListOpen(){$("#user-group-search-input_suggestion li").each(function(){$(this).addClass("d-flex align-items-center")}),manageUserGroupContainer.addClass("disable-element-opacity")}function onSuggestionListClose(){""==autoCompleteInstance.getValue()&&manageUserGroupContainer.removeClass("disable-element-opacity")}function refreshUserGroupScroll(){if(manageUserGroupBodySection.is(":visible")){$(".tooltip").tooltip("hide");manageUserGroupBodySection.ejScroller({height:225,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!0,scrollOneStepBy:20,scroll:function(){$(".tooltip").tooltip("hide"),$('[data-bs-toggle="popover"]').popover("hide")}});var e=manageUserGroupBodySection.ejScroller("instance");e.model.height=225,e.refresh(),$(".manage-user-group-body-section .e-scrollbar").show(),generateProfileAvatar()}}function generateEmbedCode(e){$("#embed-sso").change(function(){$(this).is(":checked")?$(".auth-provider-row").slideDown():$(".auth-provider-row").slideUp()}),$("#sso-providers").change(function(){var t=getDashboardShareLink(e.Id,e.CategoryName,e.Name)+"?isembed=true";if(t+=$("#embed-dashboard-comments").is(":checked")?"&report_comments=true":"",t+=$("#embed-views").is(":checked")?"&views=true":"",t+=$("#embed-export").is(":checked")?"&export=true":"",t+=$("#embed-sso").is(":checked")?"&hassso=true":"",$("#embed-sso").is(":checked"))switch($(this).val()){case"AzureAD":t+="&externallogin=azuread";break;case"OAuth":t+="&externallogin=oauth";break;case"OpenID":t+="&externallogin=openid";break;case"WindowsAD":t+="&externallogin=windowsad"}var i="<iframe src='"+t+"' id='report-frame' width='100%' height='720px' allowfullscreen frameborder='0'></iframe>";$("#embed-code").val(i)});var t=getDashboardShareLink(e.Id,e.CategoryName,e.Name)+"?isembed=true";return t+=$("#embed-dashboard-comments").is(":checked")?"&report_comments=true":"",t+=$("#embed-views").is(":checked")?"&views=true":"",t+=$("#embed-export").is(":checked")?"&export=true":"","<iframe src='"+(t+=$("#embed-sso").is(":checked")?"&hassso=true":"")+"' id='report-frame' width='100%' height='720px' allowfullscreen frameborder='0'></iframe>"}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('[data-bs-toggle="popover"]').forEach(function(e){new bootstrap.Popover(e)})}),shareItem.controller("shareItemController",["$scope",function(e){e.currentUserId=window.currentUserId,e.sharedUserGroups=window.sharedUserGroupList,e.currentItemType=ItemType.Report,e.accessModes=window.accessModeList,e.showPopover=!1,e.hasDashboardSettingsPermission=!1,e.isUnlisted=!1,e.formatAccessModeString=function(e){return e.toString()},e.ImageLink=function(e){return idpUrl+"/User/Avatar?id="+e+"&ImageSize=64"};e.GetGroupColor=function(e,t){return{"background-color":"#dfdfdf"}},e.typeOptions=[{Key:2,Value:"Read"}],e.parseInt=function(e){return parseInt(e,10)},e.updateValue=function(t,i){e.CheckForModification(t,i)},e.MarkForDeletion=function(t,i,s){e.AddItemInUserGroupDeletionList(s),e.RemoveFromModified(s);var n=angular.element(t.currentTarget).parents(".shared-user-group-list-section").children();n.find(".action-for-delete-container").hide();var o=n.find(".marked-for-delete-container");n.find(".marked-for-delete-container").show(),o.css({display:"flex"}),n.find(".change-indicator").show(),e.ShowChangeIndicatorBanner()},e.RemoveMarkForDeletion=function(t,i,s){e.RemoveItemInUserGroupDeletionList(s);var n=angular.element(t.currentTarget).parents(".shared-user-group-list-section").children();n.find(".marked-for-delete-container").hide(),n.find(".action-for-delete-container").show(),n.find(".change-indicator").hide(),e.CheckForModification(i,s)},e.CheckForModification=function(t,i){sharedUserGroupsPreservedList[i].PermissionAccess!=t?(e.AddToModified(i),$("#select_"+i).parents(".shared-user-group-list-section").children().find(".change-indicator").show()):sharedUserGroupsPreservedList[i].PermissionAccess==t&&(e.RemoveFromModified(i),$("#select_"+i).parents(".shared-user-group-list-section").children().find(".change-indicator").hide()),e.ShowChangeIndicatorBanner()},e.ShowChangeIndicatorBanner=function(){$(".change-indicator").is(":visible")?(changeIndicatorBannerObj.css("visibility","visible"),manageAccessSaveBtnObj.show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide(),disableAutomCompleteControl(),disableAutocompleteAccessModeSelection()):(changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection())},e.AddItemInUserGroupDeletionList=function(t){e.IsUserItem(t)?-1==jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId):e.IsGroupItem(t)&&-1==jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId)},e.RemoveItemInUserGroupDeletionList=function(t){e.IsUserItem(t)?-1!=jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)&&(userMarkedForDeletionList=jQuery.grep(userMarkedForDeletionList,function(e){return e!=sharedUserGroupsPreservedList[t].PermissionId})):e.IsGroupItem(t)&&-1!=jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)&&(groupMarkedForDeletionList=jQuery.grep(groupMarkedForDeletionList,function(e){return e!=sharedUserGroupsPreservedList[t].PermissionId}))},e.AddToModified=function(e){-1==jQuery.inArray(e,modifiedItemIndex)&&modifiedItemIndex.push(e)},e.RemoveFromModified=function(e){modifiedItemIndex=jQuery.grep(modifiedItemIndex,function(t){return t!=e})},e.IsUserItem=function(e){return null!=sharedUserGroupsPreservedList[e].Email&&sharedUserGroupsPreservedList[e].IsUserPermission&&sharedUserGroupsPreservedList[e].TargetUserId>0},e.IsGroupItem=function(e){return null==sharedUserGroupsPreservedList[e].Email&&!sharedUserGroupsPreservedList[e].IsUserPermission&&sharedUserGroupsPreservedList[e].TargetGroupId>0},e.GetManagePermisisionContent=function(t){var i=null!=window.granularPermissions&&window.granularPermissions.Reports,s=window.Server.App.LocalizationContent.RemoveAccess;if(e.IsUserItem(t)){if(s=s+window.Server.App.LocalizationContent.PermissionGlobally+" - <strong>"+sharedUserGroupsPreservedList[t].PermissionEntityDescription+"</strong>.</br></br>",isAdmin||i){var n=editUserPermissionUrl+"?userId="+sharedUserGroupsPreservedList[t].TargetUserId;return s+window.Server.App.LocalizationContent.ManagePermission+" <a target='_blank' href='"+n+"'>"+window.Server.App.LocalizationContent.Here+"</a>."}return s+window.Server.App.LocalizationContent.UserContactSystemAdministrator}if(s=s+window.Server.App.LocalizationContent.AssignedGlobally+" - <strong>"+sharedUserGroupsPreservedList[t].PermissionEntityDescription+"</strong>.</br></br>",isAdmin){var o=editGroupPermissionUrl+"?groupId="+sharedUserGroupsPreservedList[t].TargetGroupId;return s+window.Server.App.LocalizationContent.ManagePermission+" <a target='_blank' href='"+o+"'>"+window.Server.App.LocalizationContent.Here+"</a>."}return s+window.Server.App.LocalizationContent.GroupContactSystemAdministrator}}]),$(function(){sharePermissionDlgObj=$("#share-permission-popup"),sharePermisisonDlgHeader=$("#share-permission-dialog-header"),sharePermissionDlgHeaderItemName=$(".item-name-container #item-name-header"),sharePermissionConatiner=$("#share-permission-container"),accessModeContainer=$("#access-mode-container"),dummyContainer=$("#dummy-container"),embedCodeContainer=$("#get-embed-code-container"),sharePermissionDashboardSettingSectionObj=$(".share-permission-dashboard-setting-section"),sharePermissionPublicSectionObj=$(".share-permission-public-section"),sharePermissionPrivateSectionObj=$(".share-permission-private-section"),sharePermissionUserGroupSectionObj=$("#assign-user-group-container"),manageUserGroupContainer=$("#manage-user-group-container"),manageUserGroupBodySection=$(".manage-user-group-body-section"),getEmbedLinkSection=$(".get-item-embed-link-section"),changeIndicatorBannerObj=$(".changes-indicator-banner"),shareWithLabelObj=$(".share-with-label"),getLinkInputObj=$("#item-url"),getLinkCopyLinkobj=$("#item-url-copy"),getEmbedCodeInputObj=$("#embed-code"),getEmbedCodeCopyBtnobj=$("#copy-embed-code"),accessModeChangeLink=$("#access-mode-change-link"),manageAccessButton=$("#manage-access-button"),manageAccessBackButton=$("#manage-access-back-button"),manageAccessSaveBtnObj=$("#manage-access-save-button"),manageAccessCancelBtnObj=$("#manage-access-cancel-button"),shareDoneBtnObj=$("#share-done-popup-button"),shareBtnObj=$("#share-permission-button"),accessModeChngBtnObj=$("#access-mode-change-button"),accessModeCancelBtnObj=$("#access-mode-cancel-button"),embedCodeDoneBtnObj=$("#copy-embed-code-done-button"),addOwnerBtnObj=$("#add-owner-permission-button"),publicRadioBtnObj=$("#public-access-mode"),privateRadioBtnObj=$("#private-access-mode"),accessModeSelectionInput=$("#access-mode-selection"),markForDeleteBtnObj=$(".mark-for-deletion-icon"),removeMarkForDeleteBtnObj=$(".remove-mark-for-deletion-icon"),showSharedUserGroupContainer=$("#show-shared-user-group-container"),showSharedUserGroupNameSection=$(".shared-user-group-name-section"),showSharedUserGroupName=$(".shared-user-group-name"),showSharedUserGroupCountSection=$(".shared-user-group-count-section"),showSharedUserGroupCount=$(".shared-user-group-count"),toggleMarkForDeletionObj=$(".action-for-delete-container, .marked-for-delete-container"),$("#permission-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0});var e=createLoader("permission-popup_wrapper");$("#permission-popup_wrapper").ejWaitingPopup({template:$("#"+e)}),sharePermissionDlgObj.ejDialog({width:"529px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!1,close:"onSharePermissionPopupClose",open:"onSharePermissionPopupOpen",closeOnEscape:!0}),sharePermissionDlgWrapperObj=$("#share-permission-popup_wrapper");var t=createLoader("share-permission-popup_wrapper");sharePermissionDlgWrapperObj.ejWaitingPopup({template:$("#"+t)}),$("#share-close-popup, #share-done-popup-button").on("click",function(){sharePermissionDlgObj.ejDialog("close")}),accessModeCancelBtnObj.on("click",function(){showSharePermissionContainer()}),manageAccessButton.on("click",function(){showManageAccessContainer()}),manageAccessBackButton.on("click",function(){showSharePermissionContainerWithRefresh()}),manageAccessSaveBtnObj.on("click",function(){$('[data-bs-toggle="popover"]').popover("hide"),sharePermissionDlgWrapperObj.ejWaitingPopup("show"),prepareRequestForAddItemPermission(),updateBulkItemPermission()}),manageAccessCancelBtnObj.on("click",function(){$('[data-bs-toggle="popover"]').popover("hide"),resetToActualScope(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection()}),getLinkCopyLinkobj.on("click",function(e){getLinkInputObj.select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?getLinkCopyLinkobj.attr("data-original-title",""):(document.execCommand("copy"),getLinkCopyLinkobj.attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess),getLinkCopyLinkobj.tooltip("hide").attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){getLinkCopyLinkobj.attr("data-original-title",window.Server.App.LocalizationContent.LinkCopy),getLinkCopyLinkobj.tooltip()},3e3))}),getLinkCopyLinkobj.removeClass("focusdiv"),getLinkInputObj.on("focusin",function(){getLinkCopyLinkobj.addClass("focusdiv")}),getLinkInputObj.on("focusout",function(){getLinkCopyLinkobj.removeClass("focusdiv")}),$("input[type=radio][name=access-mode]").on("change",function(){isItemPublic&&privateRadioBtnObj.prop("checked")||!isItemPublic&&publicRadioBtnObj.prop("checked")?accessModeChngBtnObj.removeAttr("disabled"):accessModeChngBtnObj.attr("disabled",!0)}),$(document).on("click","#access-mode-change-button",function(e){var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype"),n="";isItemPublic&&privateRadioBtnObj.prop("checked")?n=removeItemPublicUrl:!isItemPublic&&publicRadioBtnObj.prop("checked")&&(n=makeItemPublicUrl),$.ajax({type:"POST",url:n,data:{itemId:t,itemTypeId:s,itemName:i},success:function(e){e.validation&&e.result?("function"==typeof ResetItemList&&ResetItemList(ItemType.Report),void 0!==currentItemDetail&&void 0!==currentItemDetail.IsPublic&&(currentItemDetail.IsPublic=!currentItemDetail.IsPublic)):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}}),isItemPublic&&privateRadioBtnObj.prop("checked")?(showSharePermissionContainer(),showPrivateContent(),isItemPublic=!1):!isItemPublic&&publicRadioBtnObj.prop("checked")&&(showSharePermissionContainer(),showPublicContent(),isItemPublic=!0)}),$(document).on("shown.bs.dropdown",".user-group-scroll-content .change-access-mode-select",function(){if($(".tooltip").hide(),$(this).find(".change-access-mode-selection").length>0){var e=manageUserGroupBodySection,t=$(this).offset().top+$(this).outerHeight(!0)/2-e.offset().top,i=e.height()-($(this).offset().top-e.offset().top+$(this).outerHeight(!0)/2),s=$(this).find(".change-access-mode-selection .dropdown-menu").outerHeight(!0);i<=s&&t>=s?$(this).find(".change-access-mode-selection").removeClass("dropdown").addClass("dropup"):refreshUserGroupScroll()}}),$("body").on("click",function(e){"popover"!==$(e.target).data("bs-toggle")&&0===$(e.target).closest('[data-bs-toggle="popover"]').length&&0===$(e.target).closest(".popover").length?$('[data-bs-toggle="popover"]').popover("hide"):"popover"==$(e.target).data("bs-toggle")&&$(".access-info-icon").not(e.target).popover("hide")}),getEmbedCodeInputObj.on("click",function(e){getEmbedCodeInputObj.select()}),getEmbedCodeCopyBtnobj.on("click",function(e){getEmbedCodeInputObj.select(),document.execCommand("copy");var t=$(".embed-copy-success");t.show(),setTimeout(function(){t.fadeOut(3e3)},3e3)}),embedCodeDoneBtnObj.on("click",function(){sharePermissionDlgObj.ejDialog("close")}),$(".embed-configuration [type='checkbox']").on("change",function(e){$("#embed-code").val(generateEmbedCode(currentItemDetail))}),$(document).on("click","#access-mode-change-link",function(e){e.preventDefault(),changeAccessMode()}),$(document).on("click","#item-url",function(){this.setSelectionRange(0,this.value.length)}),$(document).on("click","#get-embed-code-link",function(e){e.preventDefault(),getEmbedCode()}),$(document).on("click","#show-shared-user-group-link",function(e){e.preventDefault(),showManageAccessContainer()}),$(document).on("click","#share-permission-button",saveItemPermission),$(document).on("click","#add-owner-permission-button",addGroupOwnerPermission),$(document).on("click","#add-owner-button",addGroupOwnerDialogOpen)});var reportItemName="",isSafari=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),isSafariOrEdge=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Edge"),reportItemId="",reportCategoryName="",multiDashboardName="",childId="",createdItemId="",url="",alertChange=1,dateFormat="",timeFormat="",listDashboards="",childDashboards="",isReportIdChanged=!1,item="",condition="",itemConditionArray="",recurrence="",endType="",endDate="",endAfter="",startDate="",itemRecurrence="",frequency="",exportType="",subscriberExternalRecipient="",subscriberGroup="",subscriberUser="",itemConditionCategory="",itemWidgetName="",emailContent="",buttonValue="",reportParameterItemId="",initialPosition="",Subject="",isEmailcontentChanged=0,isSubjectcontentChanged=0,subjectSettings="",bodySettings="",ReportName="",CategoryName="",ScheduleName="",scheduleRecurrenceInfo="",isFtpSettingsEnabled=!1,isS3SettingsEnabled=!1;function createSchedule(e,t,i){""!==t?$(".schedule-popup-title").html(" "+t+" - "+window.Server.App.LocalizationContent.ScheduleTitle):$(".schedule-popup-title").html(" "+t+" "+window.Server.App.LocalizationContent.ScheduleTitle),$(".schedule-popup-title").attr("title",t),parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),reportItemId=e,reportParameterItemId=e,reportItemName=t,reportCategoryName=i,createdItemId=e}function scheduleNameCheck(e,t){$("#schedule-name-error-container").css("display","none"),$("span.loader-gif").remove(),$("#schedule-name-error-container").parent().append($("<span class='col-sm-4 no-padding loader-gif'><div class='loader-blue loader-icon' id='schedule-name-validation-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$.ajax({type:"POST",url:checkScheduleNameExistUrl,data:{scheduleId:e,scheduleName:t},success:function(e){e.Result?($("span.loader-gif").remove(),$("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.IsScheduleExist)):($("#schedule-name").closest("div").removeClass("has-error"),$("span.loader-gif").remove(),$("#schedule-name-error-container").css("display","none"))}})}function addTitleForCategory(){$("#selected_category").selectpicker("destroy"),$("#selected_category").selectpicker();for(var e=0;e<$(".category-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".category-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".category-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function addTitleForDashboard(){$("#selected_dashboard").selectpicker("destroy"),$("#selected_dashboard").selectpicker();for(var e=0;e<$(".dashboard-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function validateSchedule(e){$("#start-date").data("ejDateTimePicker");var t=$("#schedule-name").val();return"block"===$("#schedule-name-error-container").css("display")||$("body .loader-gif").length||""===$("#selected_category option:selected").val()||""===$("#selected_dashboard option:selected").val()||!t||""===$("#export-filename").val()?(""===$("#selected_category option:selected").val()&&$("#category-message").css("display","block"),""===$("#selected_dashboard option:selected").val()&&$("#dashboard-message").css("display","block"),t||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.ScheduleValidator)),""!=$("#export-filename").val()&&"null"!=$("#export-filename").val()||($("#export-filename").prop("disabled",!0),$("#export-filename-error-message").removeClass("hide").addClass("show")),!1):parent.IsValidName("name",t)?!$(e).hasClass("recurrence-class-body")||validateParameters():($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.AvoidSpecialCharactors),!1)}function closePopupContainer(){parent.$("#popup-container").ejDialog("close"),parent.$("#editpopup-container").ejDialog("close")}function isReportHasParameter(e){""!==reportParameterItemId&&reportParameterItemId!==e&&(isReportIdChanged=!0),reportParameterItemId=e,$.ajax({type:"POST",url:reportHasParameterUrl,async:!1,data:{itemId:e},success:function(e){$("#enable-parameter").prop("checked",!1),e.Result?($(".reportparameter-tag").css("display","none"),$("#enable-parameter").prop("disabled",!1)):($("#enable-parameter").prop("disabled",!0),$(".reportparameter-tag").css("display","block"))}})}function scheduleNameValidation(){""!==$.trim($("#schedule-name").val())&&($("#schedule-name").closest("div").removeClass("has-error"),$("#schedule-name-error-container").css("display","none"));var e=$("#schedule-name").val().trim(),t="";t="Create"===actionType?$("#schedule-submit").attr("data-schedule-id"):scheduleId,validateSchedule(this)?""!=$.trim(e)&&e&&scheduleNameCheck(t,e):$("#schedule-name").closest("div").addClass("has-error")}function enableParameterOption(){$(".schedule-popup-body, .subscribe-popup-body").css("display","none"),$(".parameter-popup-body").fadeIn(),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$(".schedule-dialog .modal-body #time-intervals-div").css("display","none"),$("#schedule-back").css("display","inline"),$("#schedule-next").addClass("recurrence-class-body"),$("#windowCaption").text(window.Server.App.LocalizationContent.ParameterOption),className="parameters-panel",isReportIdChanged&&$(".schedule-dialog").find("#parameters-panel").remove(),$(".schedule-dialog").find("#parameters-panel").length<=0&&scheduleParameterPost(url,className)}function enablePasswordOption(){$(".schedule-popup-body").css("display","none"),$(".schedule-password-body").fadeIn(),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$(".schedule-dialog .modal-body #time-intervals-div").css("display","none"),$(".schedule-dialog .modal-body #email-editor-panel").css("display","none"),$(".subscribe-popup-body").css("display","none"),$("#schedule-back").css("display","inline"),$("#windowCaption").text(window.Server.App.LocalizationContent.PasswordOption),$("#schedule-next").addClass("email-template-body"),$("#schedule-next").removeClass("schedule-settings-password-body"),className="schedule-settings-body",$(".schedule-dialog").find("#schedule-settings-body").length<=0&&schedulePasswordSettingPost(url,className)}function enableEmailEditor(){$("#windowCaption").html(window.Server.App.LocalizationContent.CustomEmailtemplate),$(".schedule-popup-body, #schedule-settings-body").css("display","none"),$(".schedule-dialog .modal-body #time-intervals-div,.schedule-dialog .modal-body #subscribers-panel").css("display","none"),$("#email-editor-panel").fadeIn(),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$("#schedule-next").addClass("subscribe-body"),$("#schedule-next").removeClass("email-template-body"),$("#schedule-back").css("display","inline");var e=GetExportFileSettingInfo();ReportName=$("#selected_dashboard").children("option:selected").text(),CategoryName=$("#selected_category").children("option:selected").text(),ScheduleName=$("#schedule-name").val(),className="email-editor-panel",$(".schedule-dialog").find("#email-editor-panel").length<=0&&scheduleemailcontentpost(url,className),$(".schedule-dialog").find("#email-editor-panel").length>0&&(e.IsCompressionEnabled&&e.IsPasswordProtected?$("#email-editor-panel").find("#passwordhint").length<=0&&$("#email-editor-panel").append("<div id='passwordhint' style='position: absolute;top: 485px;'><span><strong>"+window.Server.App.LocalizationContent.Note+"</strong>"+window.Server.App.LocalizationContent.PasswordHintMessage+"</span ></div >"):$("#email-editor-panel").find("#passwordhint").remove())}function scheduleemailcontentpost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){$(".modal-body").append(e),$("#variable-drop-box").selectpicker("destroy"),$("#variable-drop-box").selectpicker(),cursorPos=renderSimpleMde("#rte-post");var t="#### **Scheduled Report**\n\n\nHello {:FullName},\n\nPlease find attached the report you requested.\n\nThe schedule {:ScheduleName} has successfully exported the report. You can access it here: {:ReportLink}.\n\n\nRegards,\n\n{:OrganizationName}";emailcontentsettings(),"Create"==actionType?(""==subjectSettings||null==subjectSettings?getsubject():$("#sub_email-text-box").val(subjectSettings),""==bodySettings||null==bodySettings?cursorPos.value(t):cursorPos.value(bodySettings)):(""==subjectSettings||null==subjectSettings?null==Subject||""==Subject?getsubject():$("#sub_email-text-box").val(Subject):null==Subject||""==Subject?$("#sub_email-text-box").val(subjectSettings):$("#sub_email-text-box").val(Subject),""==bodySettings||null==bodySettings?null==emailContent||""==emailContent?cursorPos.value(t):cursorPos.value(emailContent):null==emailContent||""==emailContent?cursorPos.value(bodySettings):cursorPos.value(emailContent));var i=GetExportFileSettingInfo();i.IsCompressionEnabled&&i.IsPasswordProtected&&$("#email-editor-panel").append("<div id='passwordhint' style='position: absolute;top: 485px;'><span><strong>"+window.Server.App.LocalizationContent.Note+"</strong>"+window.Server.App.LocalizationContent.PasswordHintMessage+"</span ></div >"),$(document).on("click",".CodeMirror-code",function(){isEmailcontentChanged=1,emailContent=null}),$(".CodeMirror-code").select(function(){isEmailcontentChanged=1,emailContent=null}),$(document).on("click","#sub_email-text-box",function(){isSubjectcontentChanged=1,Subject=null}),$("#sub_email-text-box").select(function(){isSubjectcontentChanged=1,Subject=null}),parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide")}}))}function emailcontentsettings(){$.ajax({type:"POST",url:getScheduleContentUrl,data:{},async:!1,success:function(e){subjectSettings=""==e.Subject||null==e.Subject?"":e.Subject,bodySettings=""==e.CustomBody||null==e.CustomBody?"":e.CustomBody}})}function getsubject(){$.ajax({type:"POST",url:subjectItem,data:{},async:!1,success:function(e){var t=$("#selected_dashboard").children("option:selected").text();$("#sub_email-text-box").val(e+": "+t)}})}function enableTimeIntervalOption(){$(".schedule-popup-body, #parameters-panel, .subscribe-popup-body").css("display","none"),$("#windowCaption").html(window.Server.App.LocalizationContent.RecurrenceIntervalValidator),$(".schedule-dialog .modal-body #time-intervals-div").css("display","inline"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container,.schedule-dialog #email-editor-panel").css("display","none"),$(".subscribe-popup-body").css("display","none"),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$("#schedule-next").hasClass("time-interval-body")&&$("#schedule-next").removeClass("time-interval-body"),$("#schedule-settings-body").length>0&&$("#schedule-settings-body").css("display","none"),$("#schedule-next").addClass("schedule-settings-password-body"),$("#schedule-next").removeClass("recurrence-class-body"),$("#schedule-back").css("display","inline"),className="schedule-recurrence",$(".schedule-dialog").find("#time-intervals-div").length<=0&&partialPost(url,className),setTimeout(function(){$(".dropdown").find(".btn.dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")})},2e3)}function enableSubscribeOption(){$("#windowCaption").html(window.Server.App.LocalizationContent.ExportFormatValidator),$(".schedule-popup-body").css("display","none"),$(".schedule-dialog .modal-body #email-editor-panel,.schedule-dialog .modal-body #time-intervals-div, #parameters-panel").css("display","none"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","none"),$(".subscribe-popup-body").fadeIn(),$("#next-container").css("display","none"),$("#submit-container").css("display","block"),$("#schedule-back").css("display","inline"),1==isEmailcontentChanged&&(emailContent=cursorPos.value()),0==isEmailcontentChanged&&""!=emailContent&&null!=emailContent&&(emailContent=cursorPos.value()),1==isSubjectcontentChanged&&(Subject=$("#sub_email-text-box").val()),0==isSubjectcontentChanged&&""!=Subject&&null!=Subject&&(Subject=$("#sub_email-text-box").val()),$("#schedule-settings-body").length>0&&$("#schedule-settings-body").css("display","none"),className="subscribers-panel",$(".schedule-dialog").find("#subscribers-panel").length<=0&&partialRecipientListPost(url,className),setTimeout(function(){$(".dropdown").find(".btn.dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")})},2e3)}function enableScheduleOption(){$("#windowCaption").html(window.Server.App.LocalizationContent.TimeBaseSchedule),$(".subscribe-popup-body, #next-container, #submit-container,#time-intervals-div,#parameters-panel").css("display","none"),$(".schedule-popup-body").fadeIn(),$("#next-container").css("display","block"),$("#schedule-back").css("display","none"),$("#schedule-settings-body").length>0&&$("#schedule-settings-body").css("display","none"),($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"),$("#schedule-next").removeClass("schedule-settings-password-body"))}function partialPost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){$(".modal-body").append(e)}}))}function scheduleParameterPost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{itemId:reportParameterItemId,nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){$(".modal-body").append(e)}}))}function partialRecipientListPost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{itemId:reportParameterItemId,nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){if($(".modal-body").append(e),"subscribers-panel"===t){if($(".schedule-dialog #subscribers-panel").css("display","inline"),getAllStaticData(),"Create"==actionType)$("select#user-search option").each(function(e){if($(this).val().toLowerCase()===$("#userName").val().toLowerCase()){var t=$(this).text();$(this).attr("selected",!0),$("#user-search").selectpicker("destroy"),$("#user-search").selectpicker();var i=$("<div>").attr("id",$(this).val()).attr("data-searchtype","userSearch").addClass("SelectedShareItems");i.html("<div class='InstantSearch'><span class='details' title='"+t+"'>"+t+"</span><div style='width:auto' class='instant-cancel'><span class='su su-close i-selected-cancel'/></div></div>"),$("#selected-users").append(i)}}),$.ajax({type:"POST",url:getExportFileSettingInfoUrl,success:function(e){null!==e&&""!==e&&(exportFtpSetting=e.ExportFtpSetting,exportS3Setting=e.ExportS3Setting,(null!==exportFtpSetting&&void 0!==exportFtpSetting||null!==exportS3Setting&&void 0!==exportS3Setting)&&($("#save-as-file").prop("checked",!0).trigger("change"),null!==exportFtpSetting&&void 0!==exportFtpSetting&&exportFtpSetting.IsFTPExportOptionEnabled&&($("#ftp-location-export").prop("checked",exportFtpSetting.IsFTPExportOptionEnabled).trigger("change"),$("#ftp-host-name, #ftp-user-name, #ftp-password").attr("disabled",!1),$("#ftp-host-name").val(exportFtpSetting.FtpURL),$("#ftp-user-name").val(exportFtpSetting.FtpUsername),$("#ftp-password").val(exportFtpSetting.FtpPassword),isFtpSettingsEnabled=!0),null!==exportS3Setting&&void 0!==exportS3Setting&&exportS3Setting.IsS3bucketEnabled&&(null!==exportFtpSetting&&void 0!==exportFtpSetting||($("#s3bucket-location-export").prop("checked",exportS3Setting.IsS3bucketEnabled).trigger("change"),$("#s3-access-key, #s3-bucket-name, #s3-secretkey, #s3-region").attr("disabled",!1)),$("#s3-access-key").val(exportS3Setting.S3Accesskey),$("#s3-bucket-name").val(exportS3Setting.S3BucketName),$("#s3-secretkey").val(exportS3Setting.S3SecretKey),$("#s3-region").val(exportS3Setting.S3Region),$("#s3-region").selectpicker("destroy"),$("#s3-region").selectpicker(),isS3SettingsEnabled=!0)))}});else{for(var i=0;i<subscriberUser.length;i++){$("#user-search option[value='"+subscriberUser[i]+"']").attr("selected",!0),$("#user-search").selectpicker("destroy"),$("#user-search").selectpicker(),$("#user-search-container .bs-select-all-custom, #user-search-container .bs-deselect-all-custom").remove(),$("#user-search-container .bs-deselect-all").after("<div class='bs-select-all-custom'><span>"+window.Server.App.LocalizationContent.Select+"</span><span class='bs-select-custom-tick glyphicon glyphicon-ok'></span></div>");var s=$("#user-search option[value='"+subscriberUser[i]+"']").text(),n=$("<div>").attr("id",subscriberUser[i]).attr("data-searchtype","userSearch").addClass("SelectedShareItems");n.html("<div class='InstantSearch'><span class='details' title='"+s.trim()+"'>"+s.trim()+"</span><div style='width:auto' class='instant-cancel'><span class='su su-close i-selected-cancel'/></div></div>"),$("#selected-users").append(n)}oldUserSelected=$("#user-search").val();for(i=0;i<subscriberGroup.length;i++){$("#group-search option[value='"+subscriberGroup[i]+"']").attr("selected",!0),$("#group-search").selectpicker("destroy"),$("#group-search").selectpicker(),$("#group-search-container .bs-select-all-custom, #group-search-container .bs-deselect-all-custom").remove(),$("#group-search-container .bs-deselect-all").after("<div class='bs-select-all-custom'><span>"+window.Server.App.LocalizationContent.Select+"</span><span class='bs-select-custom-tick glyphicon glyphicon-ok'></span></div>");var o=$("#group-search option[value='"+subscriberGroup[i]+"']").text(),r=$("<div>").attr("id",subscriberGroup[i]).attr("data-searchtype","groupSearch").addClass("SelectedShareItems");r.html("<div class='InstantSearch'><span class='details' title='"+o.trim()+"'>"+o.trim()+"</span><div style='width:auto' class='instant-cancel'><span class='su su-close i-selected-cancel'/></div></div>"),$("#selected-users").append(r)}oldGroupSelected=$("#group-search").val();for(i=0;i<subscriberExternalRecipient.length;i++){var a=subscriberExternalRecipient[i],l=$("<div>").attr("id",subscriberExternalRecipient[i]).attr("data-searchtype","externalRecipient").addClass("SelectedShareItems");l.html("<div class='InstantSearch'><span class='details'title='"+a+"'>"+a+"</span><div style='width:auto' class='instant-cancel'><span class='su su-close i-selected-cancel'/></div></div>"),$("#selected-users").append(l)}var c=$("#group-search-container .bootstrap-select li.selected").length,d=$("#group-search-container .bootstrap-select li").length,h=$("#user-search-container .bootstrap-select li.selected").length,u=$("#user-search-container .bootstrap-select li").length;c===d&&$("#group-search-container .bs-select-all-custom").removeClass("bs-select-all-custom").addClass("bs-deselect-all-custom"),h===u&&$("#user-search-container .bs-select-all-custom").removeClass("bs-select-all-custom").addClass("bs-deselect-all-custom"),$("#pdf-export").prop("checked","pdf"===item.ExportType.toLowerCase()),$("#excel-export").prop("checked","excel"===item.ExportType.toLowerCase()),$("#word-export").prop("checked","word"===item.ExportType.toLowerCase()),$("#html-export").prop("checked","html"===item.ExportType.toLowerCase()),$("#ppt-export").prop("checked","ppt"===item.ExportType.toLowerCase()),$("#csv-export").prop("checked","csv"===item.ExportType.toLowerCase()),$("#xml-export").prop("checked","xml"===item.ExportType.toLowerCase()),$("#schedule-submit").attr("data-schedule-id",scheduleId),$("#save-as-file").prop("checked",item.IsSaveAsFile),$("#enable-send-mail").prop("checked",item.IsSendAsMail),item.IsSaveAsFile?($(".save-as-file-type").css("display","block"),$("#local-export-div").css("display","block")):$(".save-as-file-type").css("display","none"),$("#export-path").val(decodeHtmlAsString(item.ExportPath)),$("#max-report-count").val(item.ReportCount),$("#notify-users").prop("checked",item.IsNotifySaveAs),$("#overwrite-file").prop("checked",item.IsOverwrite),scheduleRecurrenceInfo.FailureNotificationToOwner&&$("#enable-notification-to-owner").prop("checked",!0),scheduleRecurrenceInfo.FailureNotificationToRecipient&&$("#enable-notification-to-recipient").prop("checked",!0),null!==exportFtpsettingInEdit&&void 0!==exportFtpsettingInEdit&&exportFtpsettingInEdit.IsFTPExportOptionEnabled&&(isFtpSettingsEnabled=!0,$("#ftp-location-export").prop("checked",exportFtpsettingInEdit.IsFTPExportOptionEnabled).trigger("change"),$("#save-as-file").prop("checked",exportFtpsettingInEdit.IsFTPExportOptionEnabled).trigger("change"),$("#ftp-host-name, #ftp-user-name, #ftp-password").attr("disabled",!1),$("#ftp-host-name").val(exportFtpsettingInEdit.FtpURL),$("#ftp-user-name").val(exportFtpsettingInEdit.FtpUsername),$("#ftp-password").val(exportFtpsettingInEdit.FtpPassword)),null!==exportS3settingInEdit&&void 0!==exportS3settingInEdit&&exportS3settingInEdit.IsS3bucketEnabled&&(isS3SettingsEnabled=!0,$("#s3bucket-location-export").prop("checked",exportS3settingInEdit.IsS3bucketEnabled).trigger("change"),$("#save-as-file").prop("checked",exportS3settingInEdit.IsS3bucketEnabled).trigger("change"),$("#s3-access-key, #s3-bucket-name, #s3-secretkey, #s3-region").attr("disabled",!1),$("#s3-access-key").val(exportS3settingInEdit.S3Accesskey),$("#s3-bucket-name").val(exportS3settingInEdit.S3BucketName),$("#s3-secretkey").val(exportS3settingInEdit.S3SecretKey),$("#s3-region").val(exportS3settingInEdit.S3Region),$("#s3-region").selectpicker("destroy"),$("#s3-region").selectpicker())}selectedItemsCount(),validateExternalRecipient(),addTitleForUsersAndGroups()}parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"),parent.$("#popup-container_wrapper").ejWaitingPopup("hide")}}))}function schedulePasswordSettingPost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{itemId:reportParameterItemId,nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){if($(".modal-body").append(e),"schedule-settings-body"===t){if($(".schedule-dialog #schedule-settings-body").css("display","inline"),"Create"===actionType){var i="";$.ajax({type:"POST",url:getExportFileSettingInfoUrl,success:function(e){if(null!==e&&""!==e)if(null!=(i=e.ExportFileSetting)){for(var t=i.PasswordProtocols.PasswordKeyProtocol.length,s=1;s<=t;s++){var n=$(".password-condition-section:nth-child("+s+")");n.length||(AddNewElementAndIntialize(),n=$(".password-condition-section:nth-child("+s+")")),n.find(".field-key-position").prop("disabled",!1),n.find(".field-key-position").find("option[value='"+i.PasswordProtocols.PasswordKeyProtocol[s-1].FieldKeyPosition+"']").prop("selected","selected"),n.find(".field-key-position").selectpicker("destroy"),n.find(".field-key-position").selectpicker();var o=n.find(".field-key-count")[0].ej2_instances[0];o.enabled=!0,o.value=i.PasswordProtocols.PasswordKeyProtocol[s-1].NumberOfFieldKeys,n.find(".field-key").prop("disabled",!1),n.find(".field-key").find("option[value='"+i.PasswordProtocols.PasswordKeyProtocol[s-1].FieldKey+"']").prop("selected","selected"),n.find(".field-key").selectpicker("destroy"),n.find(".field-key").selectpicker()}if("CustomPassword"===i.PasswordType)$("#custom-password").prop("checked",!0).trigger("change"),$("#password-condition-container").show(),$("#default-password-info").hide();else $("#default-password").prop("checked",!0).trigger("change"),$("#password-condition-container").hide(),$("#default-password-info").show();$("#enable-password-protection").prop("checked",i.IsPasswordProtected).trigger("change"),$("#enable-compression").prop("checked",i.IsCompressionEnabled).trigger("change"),$("#password-condition-section").find(".password-condition-section").length>=3&&$(".pwd-condition-btn").addClass("pointer-events")}else $("#default-password").prop("checked",!0).trigger("change"),$("#password-condition-container").hide(),$("#default-password-info").show(),$("#enable-password-protection").prop("checked",!1).trigger("change"),$("#enable-compression").prop("checked",!1).trigger("change")},error:handleAjaxError()})}if("Edit"===actionType)if(null!==exportFilesettingInEdit&&void 0!==exportFilesettingInEdit){for(var s=exportFilesettingInEdit.PasswordProtocols.PasswordKeyProtocol.length,n=1;n<=s;n++){var o=$(".password-condition-section:nth-child("+n+")");o.length||(AddNewElementAndIntialize(),o=$(".password-condition-section:nth-child("+n+")")),o.find(".field-key-position").prop("disabled",!1),o.find(".field-key-position").find("option[value='"+exportFilesettingInEdit.PasswordProtocols.PasswordKeyProtocol[n-1].FieldKeyPosition+"']").prop("selected","selected"),o.find(".field-key-position").selectpicker("destroy"),o.find(".field-key-position").selectpicker();var r=o.find(".field-key-count")[0].ej2_instances[0];r.enabled=!0,r.value=exportFilesettingInEdit.PasswordProtocols.PasswordKeyProtocol[n-1].NumberOfFieldKeys,o.find(".field-key").prop("disabled",!1),o.find(".field-key").find("option[value='"+exportFilesettingInEdit.PasswordProtocols.PasswordKeyProtocol[n-1].FieldKey+"']").prop("selected","selected"),o.find(".field-key").selectpicker("destroy"),o.find(".field-key").selectpicker()}if("CustomPassword"===exportFilesettingInEdit.PasswordType)$("#custom-password").prop("checked",!0).trigger("change"),$("#password-condition-container").show(),$("#default-password-info").hide();else $("#default-password").prop("checked",!0).trigger("change"),$("#password-condition-container").hide(),$("#default-password-info").show();$("#enable-password-protection").prop("checked",exportFilesettingInEdit.IsPasswordProtected).trigger("change"),$("#enable-compression").prop("checked",exportFilesettingInEdit.IsCompressionEnabled).trigger("change"),$("#password-condition-section").find(".password-condition-section").length>=3&&$(".pwd-condition-btn").addClass("pointer-events")}else $("#default-password").prop("checked",!0).trigger("change"),$("#password-condition-container").hide(),$("#default-password-info").show(),$("#enable-password-protection").prop("checked",!1).trigger("change"),$("#enable-compression").prop("checked",!1).trigger("change")}parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"),parent.$("#popup-container_wrapper").ejWaitingPopup("hide")}}))}function refreshScheduleGridItem(e){for(var t=$("#scheduleGrid").data("ejGrid"),i=0;i<t.model.currentViewData.length;i++)t.model.currentViewData[i].Id==e&&$("span span[data-scheduleid ="+e+"]").removeClass("loader-gif").addClass("su-play-folder")}function editSchedule(e,t,i,s){reportParameterItemId=e,reportItemId=t,reportCategoryName=s,reportItemName=i,createdItemId=t,""!==i?$(".schedule-popup-title").html(" "+i+" - Schedule"):$(".schedule-popup-title").html(" "+i+" Schedule"),$(".schedule-popup-title").attr("title",i),scheduleId=e,reportItemName=i;[].push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});$.ajax({type:"POST",url:getScheduleInfoUrl,data:{scheduleId:e},success:function(e){if(parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"),item=e.ScheduleItem,$("#enable-schedule").prop("checked",item.IsEnabled),$("#enable-parameter").prop("checked",item.IsParameterEnabled),$("#nodata-disable").prop("checked",item.IsNoDataEnabled),recurrence=item.RecurrenceType,endType=item.EndType,endDate=item.EndDateString,endAfter=item.EndAfter,startDate=item.StartDateString,Subject=item.Subject,emailContent=item.EmailContent,createdItemId=item.ItemId,itemRecurrence=item.Recurrence,"hourly"===recurrence.toLowerCase()&&(frequency=item.Recurrence.HourlySchedule.MinutesInterval),exportType=item.ExportType,subscriberExternalRecipient=e.SubscribedExternalRecipient,subscriberGroup=e.SubscribedGroup,subscriberUser=e.SubscribedUser,scheduleRecurrenceInfo=item.Recurrence,exportFilesettingInEdit=e.ExportFileSetting,exportFtpsettingInEdit=e.ExportFtpSetting,exportS3settingInEdit=e.ExportS3Setting,$("#schedule-name").val(item.Name),item.IsEnabled||$("#enable-schedule").prop("checked",""),""!=$("#export-filename").val(item.ExportFileName)?($("#export-filename").prop("disabled",!1),$("#export-filename").val(item.ExportFileName)):$("#export-filename").prop("disabled",!0),isSelfHosted)for(var t=item.ExportFileName.split("-"),i=/{\:(.*?)\}/,s=0;s<t.length;s++){var n=t[s].match(i);null!=n&&$("#file-template-variable-drop-box option[value='"+n[1]+"']").attr("selected",!0),$("#file-template-variable-drop-box").selectpicker("destroy"),$("#file-template-variable-drop-box").selectpicker()}}})}function refreshConditionCategory(){$(".condition-category-changes").find("select").html(""),$(".condition-category-changes").find("select").append('<option value="5" data-title="'+window.Server.App.LocalizationContent.ValueChange+'" name="ValueChanges" selected="selected">'+window.Server.App.LocalizationContent.ValueChangeOption+'</option><option value="1" data-title="'+window.Server.App.LocalizationContent.Increases+'" name="Increases">'+window.Server.App.LocalizationContent.IncreasesOption+'</option><option value="2" data-title="'+window.Server.App.LocalizationContent.ContinousIncreases+'" name="ContinousIncreases">'+window.Server.App.LocalizationContent.ContinousIncreasesOption+'</option><option value="3" data-title="'+window.Server.App.LocalizationContent.Decreases+'" name="Decreases">'+window.Server.App.LocalizationContent.DecreasesOption+'</option><option value="4" data-title="'+window.Server.App.LocalizationContent.ContinousDecreases+'" name="ContinousDecreases">'+window.Server.App.LocalizationContent.ContinousDecreasesOption+"</option>").selectpicker("destroy"),$(".condition-category-changes").find("select").append('<option value="5" data-title="'+window.Server.App.LocalizationContent.ValueChange+'" name="ValueChanges" selected="selected">'+window.Server.App.LocalizationContent.ValueChangeOption+'</option><option value="1" data-title="'+window.Server.App.LocalizationContent.Increases+'" name="Increases">'+window.Server.App.LocalizationContent.IncreasesOption+'</option><option value="2" data-title="'+window.Server.App.LocalizationContent.ContinousIncreases+'" name="ContinousIncreases">'+window.Server.App.LocalizationContent.ContinousIncreasesOption+'</option><option value="3" data-title="'+window.Server.App.LocalizationContent.Decreases+'" name="Decreases">'+window.Server.App.LocalizationContent.DecreasesOption+'</option><option value="4" data-title="'+window.Server.App.LocalizationContent.ContinousDecreases+'" name="ContinousDecreases">'+window.Server.App.LocalizationContent.ContinousDecreasesOption+"</option>").selectpicker(),$("#selected-option").selectpicker("destroy"),$("#selected-option").selectpicker();for(var e=0;e<$(".condition-category-changes select option").length;e++){var t=$(".condition-category-changes select option").eq(e).attr("data-title");$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr({title:t,"data-bs-toggle":"tooltip","data-container":"body","data-bs-placement":"right"})}$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li a").tooltip()}function addTitleForWidgets(){$("#selected-items").selectpicker("destroy"),$("#selected-items").selectpicker();for(var e=0;e<$(".items-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".items-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".items-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function addTitleForUsersAndGroups(){$("#user-search").selectpicker("destroy"),$("#user-search").selectpicker(),$("#user-search-container .bs-select-all-custom, #user-search-container .bs-deselect-all-custom").remove(),$("#user-search-container .bs-deselect-all").after("<div class='bs-select-all-custom'><span>"+window.Server.App.LocalizationContent.Select+"</span><span class='bs-select-custom-tick glyphicon glyphicon-ok'></span></div>");for(var e=0;e<$("#user-search-container .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a").attr("title",t)}$("#group-search").selectpicker("destroy"),$("#group-search").selectpicker(),$("#group-search-container .bs-select-all-custom, #group-search-container .bs-deselect-all-custom").remove(),$("#group-search-container .bs-deselect-all").after("<div class='bs-select-all-custom'><span>"+window.Server.App.LocalizationContent.Select+"</span><span class='bs-select-custom-tick glyphicon glyphicon-ok'></span></div>");for(e=0;e<=$("#group-search-container .btn-group .dropdown-menu  li").length;e++){t=$("#group-search-container .btn-group .dropdown-menu  li").eq(e).find("a .text").text();$("#group-search-container .btn-group .dropdown-menu li ").eq(e).find("a").attr("title",t)}}function addTitleForRecurrenceType(){$("#recurrence-type").selectpicker("destroy"),$("#recurrence-type").selectpicker(),$("#recurrence-type-container").find(".dropdown-menu").addClass("dropdown-height");for(var e=0;e<$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#monthly-dow-week").selectpicker("destroy"),$("#monthly-dow-week").selectpicker();for(e=0;e<$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#monthly-dow-day").selectpicker("destroy"),$("#monthly-dow-day").selectpicker(),$("#monthly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-dow-week").selectpicker("destroy"),$("#yearly-dow-week").selectpicker();for(e=0;e<$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-dow-day").selectpicker("destroy"),$("#yearly-dow-day").selectpicker(),$("#yearly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-dow-month").selectpicker("destroy"),$("#yearly-dow-month").selectpicker(),$("#yearly-dow-month-ccontainer").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-month").selectpicker("destroy"),$("#yearly-month").selectpicker(),$("#yearly-month").next("div").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}$(document).ready(function(){dateFormat=$("#dateFormat").val(),timeFormat=$("#timeFormat").val(),$(".category-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.LocalizationContent.SearchCategories),$(".dashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.LocalizationContent.SearchDashboards),$(".childdashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.LocalizationContent.SearchTabs)}),$(document).on("click","#schedule-submit-cancel,#schedule-popup,#schedule-next-cancel",function(e){closePopupContainer()}),$(document).keyup(function(e){27===e.keyCode&&closePopupContainer()}),$(document).on("change","#selected_category",function(){reportCategoryName="",itemName="";var e=$(this).find("option:selected").text();""!==$(this).find("option:selected").val()&&""===$(this).find("option:selected").val()||($(".schedule-popup-title").html(window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title","")),$("#selected_dashboard").attr("disabled",!0),$(".dashboard-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-category-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>"));var t=[];t.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:e});var i=void 0;null!==itemId&&(listDashboards=""),$.ajax({type:"POST",url:getReportUrl,data:{searchKey:i,skip:null,take:null,sorted:i,filterCollection:t,displayCategory:"SpecificCategory",getAllItems:!0},success:function(e,t){$("#selected_dashboard").attr("disabled",!1),$(".dashboard-dropdown span.loader-gif").remove();for(var i=e.result,s=0;s<i.length;s++)listDashboards+='<option value="'+i[s].Id+'">'+i[s].Name+"</option>";$("#selected_dashboard").html(""),$("#selected_dashboard").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.LocalizationContent.SelectDashboard+"</option>"+listDashboards).selectpicker("destroy"),$("#selected_dashboard").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.LocalizationContent.SelectDashboard+"</option>"+listDashboards).selectpicker(),addTitleForDashboard()}}),""!==$("#selected_category option:selected").val()&&$("#category-message").css("display","none")}),$(document).on("change","#selected_dashboard",function(){var e=$(this).find("option:selected").text(),t=$(this).find("option:selected").val();createdItemId=t;[].push({PropertyName:"Name",FilterType:"equals",FilterKey:e}),""!==t?($(".schedule-popup-title").html(" "+e+" -"+window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title",e)):($(".schedule-popup-title").html(window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title","")),$(".items-dropdown select").html(""),$(".items-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-dashboard-items-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".items-dropdown").find("select").attr("disabled",!0),$("#schedule-submit").attr("data-report-id",t),$("#schedule-submit").attr("data-item-id",t),""!==$("#selected_dashboard option:selected").val()&&$("#dashboard-message").css("display","none"),isReportHasParameter(t)}),$(document).on("focusout","#schedule-name",function(e){scheduleNameValidation()}),$(document).on("keyup","#schedule-name",function(e){scheduleNameValidation()}),$(document).on("focusout","#export-filename",function(e){""!=$("#export-filename").val()&&"null"!=$("#export-filename").val||($("#export-filename").prop("disabled",!0),$("#export-filename-error-message").removeClass("hide").addClass("show"))}),$(document).on("keyup","#export-filename",function(e){""!=$("#export-filename").val()&&"null"!=$("#export-filename").val||($("#export-filename").prop("disabled",!0),$("#export-filename-error-message").removeClass("hide").addClass("show"))}),$(document).on("click","#schedule-next",function(e){if($(this).hasClass("schedule-settings-password-body")||$(this).hasClass("email-template-body")||$(this).hasClass("subscribe-body")?validateScheduleRecurrence(this):validateSchedule(this))if("block"===$("#frequency").css("display")&&($("#recurrence-type option[value='Hourly']").attr("selected","selected"),$("#recurrence-type").selectpicker("destroy"),$("#recurrence-type").selectpicker()),$(this).hasClass("time-interval-body"))url=recurrenceType,enableTimeIntervalOption();else if($(this).hasClass("subscribe-body")){if($("#error-filedkey-info").remove(),null===GetExportFileSettingInfo())return;url=scheduleRecipients,enableSubscribeOption()}else if($(this).hasClass("schedule-settings-password-body"))url=passwordOptions,validateNextSchedule(),$("#schedule-next").prop("disabled",!1);else if($(this).hasClass("email-template-body")){if(url=emailEditor,$("#error-filedkey-info").remove(),0==GetExportFileSettingInfo()){var t=CreateFieldKeyErrorElement();$(t).appendTo($("#password-condition-section")),hideWaitingPopup($("#body")),$("#schedule-next").prop("disabled",!1)}else enableEmailEditor()}else $(this).hasClass("recurrence-class-body")?(url=recurrenceType,enableTimeIntervalOption()):$("#enable-parameter").prop("checked")?(url="Edit"===actionType?isReportIdChanged?getSchedulerParameter:editSchedulerParameter:getSchedulerParameter,void 0!==parameterObj&&0===parameterObj.length?(url=recurrenceType,enableTimeIntervalOption()):enableParameterOption()):(url=recurrenceType,enableTimeIntervalOption())}),$(document).on("click","#schedule-back",function(e){"none"===$("#schedule-next").parent("div").css("display")?enableEmailEditor():$("#schedule-next").hasClass("schedule-settings-password-body")?($("#enable-parameter").prop("checked")?0===parameterObj.length?enableScheduleOption():(url=getSchedulerParameter,enableParameterOption()):enableScheduleOption(),$("#schedule-next").removeClass("schedule-settings-password-body")):$("#schedule-next").hasClass("recurrence-class-body")?(enableScheduleOption(),$("#schedule-next").removeClass("recurrence-class-body")):$("#schedule-next").hasClass("email-template-body")?(enableTimeIntervalOption(),$("#schedule-next").removeClass("email-template-body")):$("#schedule-next").hasClass("subscribe-body")&&(enablePasswordOption(),$("#schedule-next").removeClass("subscribe-body"))}),$(document).on("change","#variable-drop-box",function(){cursorPos.codemirrorIgnore;var e=cursorPos.codemirror.getCursor();initialPosition=e;var t=e.line,i=e.ch,s=cursorPos.codemirror.getLine(t);initialLine=s;var n=s.length;cursorPos.codemirror.setSelection({line:t,ch:0},{line:t,ch:n}),cursorPos.codemirror.replaceSelection(initialLine),cursorPos.codemirror.setSelection({line:t,ch:i},{line:t,ch:i});$(":selected",this);cursorPos.codemirror.replaceSelection("{:"+$("#variable-drop-box").val()+"}"),$("#variable-drop-box").val(null).selectpicker("destroy"),$("#variable-drop-box").val(null).selectpicker()}),$(document).on("click",".file-template",function(e){e.stopPropagation()}),$(document).on("changed.bs.select","#file-template-variable-drop-box",function(e,t,i,s){const n=$(this).val();if(n&&n.length>0){const e=n.map(e=>`{:${e}}`).join("-");$("#export-filename").val(e).prop("disabled",!1),$("#export-filename-error-message").removeClass("show").addClass("hide")}else $("#export-filename").val("").prop("disabled",!0),$("#export-filename-error-message").removeClass("hide").addClass("show")}),$("#scheduleSearch_global").on("keyup","#scheduleSearch_formfield",function(){var e=$(this).val();e.length>2?$("#scheduleGrid").data("ejGrid").search(e):$("#scheduleGrid").data("ejGrid").search("")});var listCategories="";function EnablePasswordProtectionSection(){$("#enable-password-protection").is(":checked")&&($("#default-password, #custom-password").prop("disabled",!1),$("#custom-password").is(":checked")&&!$("#custom-password").hasClass("disabled")?EnablePasswordConditionSection():DisablePasswordConditionSection())}function DisablePasswordProtectionSection(){$("#default-password, #custom-password").prop("disabled",!0),DisablePasswordConditionSection()}function EnablePasswordConditionSection(){$(".select-picker").removeAttr("disabled").selectpicker("destroy"),$(".select-picker").removeAttr("disabled").selectpicker(),$(".numeric-text-box").each(function(){$(this)[0].ej2_instances[0].enabled=!0}),$("#password-condition-section").find(".password-condition-section").length<3&&$(".pwd-condition-btn").removeClass("pointer-events"),$(".remove-condition-btn").removeClass("pointer-events")}function DisablePasswordConditionSection(){$(".select-picker").attr("disabled",!0).selectpicker("destroy"),$(".select-picker").attr("disabled",!0).selectpicker(),$(".numeric-text-box").each(function(){$(this)[0].ej2_instances[0].enabled=!1}),$(".pwd-condition-btn, .remove-condition-btn").addClass("pointer-events")}function initializeFileSetting(e){var t="",i="";$.ajax({type:"POST",url:getScheduleFileSettingTypeUrl,async:!1,success:function(e){for(var s=0;s<e.FieldKeyPosition.length;s++)t+="<option value= "+e.FieldKeyPosition[s]+">"+e.FieldKeyPosition[s]+"</option>";for(var n=0;n<e.FieldKey.length;n++)i+="<option value= '"+e.FieldKey[n]+"'>"+e.FieldKey[n]+"</option>"},complete:function(){}});for(var s=$("#password-condition-section").find(".password-condition-section").length,n=e;n<=s;n++){var o=$(".password-condition-section:nth-child("+n+")");o.find(".field-key-position").append(t),new ejs.inputs.NumericTextBox({name:"numeric",value:4,min:4,max:8,width:"110px",format:"#",cssClass:"numeric-text-box-height"}).appendTo(o.find(".field-key-count")[0]),o.find(".field-key").append(i),o.find(".field-key, .field-key-position").selectpicker("destroy"),o.find(".field-key, .field-key-position").selectpicker()}}function createPasswordConditionElement(){return'<div class="password-condition-section col-lg-12 col-md-12 col-sm-12 cls-margin-bot pointer-events"><div class="i-search-fields float-start"><select data-width="50px" class="select-picker no-padding field-key-position" data-size="2"></select></div><div class="float-start cls-margin"><input class="form-control field-key-count float-start numeric-text-box" name="field-key-count" /></div><div class="float-start"><label class="float-start app-textbox-label no-margin" for="field-key-label">'+window.Server.App.LocalizationContent.CharacterOf+'</label><div class="i-search-fields  float-start cls-padleft10"><select class="select-picker field-key" data-width="100px" data-size="4"></select></div></div><span id="remove-pwd-condition" class="su-close remove-condition-btn app-textbox-label no-margin" data-bs-toggle="tooltip" data-bs-placement="right" title="'+window.Server.App.LocalizationContent.RemoveSlide+'"></span></div>'}function CreateFieldKeyErrorElement(){return'<span class="col-lg-8 col-md-8 col-sm-8" id="error-filedkey-info">'+window.Server.App.LocalizationContent.CustomPasswordCondition+"</span>"}function AddNewElementAndIntialize(){var e="",t=$("#password-condition-section").find(".password-condition-section").length;$("#password-condition-section").find(".password-condition-section").length<3&&(e=createPasswordConditionElement(),$(e).appendTo($("#password-condition-section")),initializeFileSetting(t+1),$(".password-condition-section").removeClass("pointer-events")),$('[data-bs-toggle="tooltip"]').tooltip()}function GetExportFileSettingInfo(){for(var e={},t=[],s=$("#password-condition-section").find(".password-condition-section").length,n=1;n<=s;n++){var o=$(".password-condition-section:nth-child("+n+")"),r={};r.FieldKeyPosition=o.find("select.field-key-position").val(),r.NumberOfFieldKeys=o.find(".field-key-count").val(),r.FieldKey=o.find("select.field-key").val(),t.push(r)}if(e.IsCompressionEnabled=$("#enable-compression").is(":checked"),e.IsPasswordProtected=$("#enable-password-protection").is(":checked"),$("#enable-compression").is(":checked")&&$("#enable-password-protection").is(":checked")&&$("#custom-password").is(":checked")){e.PasswordType="CustomPassword";var a=t,l=!1;for(i=0;i<a.length;i++)"first name"!==a[i].FieldKey.toLowerCase()&&"email"!==a[i].FieldKey.toLowerCase()||(l=!0);if(!l)return!1}else e.PasswordType="DefaultPassword";return e.PasswordProtocols={PasswordKeyProtocol:t},e}function exportPathExistCheck(e){$.ajax({type:"POST",url:exportPathExistUrl,async:!1,data:{exportPath:e},success:function(e){if(!e.Result)return $(".directory-check").css("display","block"),$(".directory-check").addClass("directory-exist"),void $(".directory-check").html(window.Server.App.LocalizationContent.pathNotExist).css({color:"#a94442","font-size":"12px"});$(".directory-check").removeClass("directory-exist"),$(".directory-check").css("display","none")}})}function extractXSRFTokenFromCookie(){var e=parent.document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));return e?e.split("=")[1]:null}function setXSRFRequestHeader(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}function decodeHtmlAsString(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function EscapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}$(document).on("show.bs.select","#selected_category",function(){if($(".category-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),""===listCategories){$(".category-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='category-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".category-dropdown .bootstrap-select .open").hide();[].push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});$.ajax({type:"POST",url:getCategoryUrl,success:function(e){for(var t=e,i=0;i<t.data.length;i++)t.data[i].Name==reportCategoryName?listCategories+='<option value="'+t.data[i].Id+'" selected= "selected">'+t.data[i].Name+"</option>":listCategories+='<option value="'+t.data[i].Id+'">'+t.data[i].Name+"</option>";$("#selected_category").html(""),""==reportItemId?($("#selected_category").html('<option value="" disabled="disabled" class="hide-option" selected="selected">'+window.Server.App.LocalizationContent.SelectCategory+"</option>"+listCategories).selectpicker("destroy"),$("#selected_category").html('<option value="" disabled="disabled" class="hide-option" selected="selected">'+window.Server.App.LocalizationContent.SelectCategory+"</option>"+listCategories).selectpicker()):($("#selected_category").html(listCategories).selectpicker("destroy"),$("#selected_category").html(listCategories).selectpicker()),addTitleForCategory(),$(".category-dropdown .bootstrap-select ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")}),""!=listCategories&&$(".category-dropdown .bootstrap-select .open").show(),$(".category-dropdown span.loader-gif").remove()}})}$(".category-dropdown").find(".open").addClass("dropdown-alignment")}),$(document).on("change",".dashboard-dropdown",function(){if($(".dashboard-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),""===$("#selected_category").find("option:selected").val()&&null===multiDashboardName)$("#category-message").css("display","block"),$("#selected_dashboard").attr("disabled",!1);else if(""==listDashboards){$(".dashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='dashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".dashboard-dropdown .bootstrap-select .open").hide();var e=[];e.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});var t=void 0;""!=reportItemId&&""==reportItemId||""==itemName||""==reportCategoryName?($("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.LocalizationContent.SelectDashboard+"</option>").selectpicker("destroy"),$("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.LocalizationContent.SelectDashboard+"</option>").selectpicker(),$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown .btn-group .dropdown-menu.open").removeAttr("style"),$(".dashboard-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden"),$(".dashboard-dropdown span.loader-gif").remove()):$.ajax({type:"POST",url:getReportUrl,data:{searchKey:t,skip:null,take:null,sorted:t,filterCollection:e,displayCategory:"SpecificCategory",getAllItems:!0},success:function(e,t){for(var i=e.result,s=0;s<i.length;s++)listDashboards+=null==multiDashboardName||"undefined"==multiDashboardName||""==multiDashboardName?i[s].Name.toLowerCase()==itemName.toLowerCase()?'<option value="'+i[s].Id+'" selected=selected>'+i[s].Name+"</option>":'<option value="'+i[s].Id+'">'+i[s].Name+"</option>":i[s].Name.toLowerCase()==multiDashboardName.toLowerCase()?'<option value="'+i[s].Id+'" selected=selected>'+i[s].Name+"</option>":'<option value="'+i[s].Id+'">'+i[s].Name+"</option>";$("#selected_dashboard").html(""),""==reportItemId?($("#selected_dashboard").html("<option value='' disabled='disabled' class='hide-option' selected='selected'>"+window.Server.App.LocalizationContent.SelectDashboard+"</option>"+listDashboards).selectpicker("destroy"),$("#selected_dashboard").html("<option value='' disabled='disabled' class='hide-option' selected='selected'>"+window.Server.App.LocalizationContent.SelectDashboard+"</option>"+listDashboards).selectpicker()):($("#selected_dashboard").html(listDashboards).selectpicker("destroy"),$("#selected_dashboard").html(listDashboards).selectpicker()),addTitleForDashboard(),$(".dashboard-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")}),""!=listDashboards&&$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown span.loader-gif").remove()}})}$(".dashboard-dropdown").find(".open").addClass("dropdown-alignment")}),$(document).on("click",".pwd-condition-btn",function(){$(".tooltip.show").each(function(){$(this).removeClass("show").addClass("d-block")}),$("#error-filedkey-info").remove(),AddNewElementAndIntialize(),$("#password-condition-section").find(".password-condition-section").length>=3&&$(".pwd-condition-btn").addClass("pointer-events")}),$(document).on("click","#remove-pwd-condition",function(){$(".tooltip.show").each(function(){$(this).removeClass("show").addClass("d-block")}),$("#error-filedkey-info").remove(),$(this).parent().closest(".password-condition-section").remove(),$(".pwd-condition-btn, .remove-condition-btn").removeClass("pointer-events")}),$(document).on("change","#enable-compression",function(){isSafariOrEdge&&($(this).find("label").toggleClass("check"),$("#custom-password, #default-password, #enable-password-protection").next().toggleClass("check")),$(this).is(":checked")?($("#enable-password-protection").prop("disabled",!1),EnablePasswordProtectionSection()):($("#enable-password-protection").prop("disabled",!0),DisablePasswordProtectionSection())}),$(document).on("change","#enable-password-protection",function(){isSafariOrEdge&&$("#custom-password, #default-password").next().toggleClass("check"),$(this).is(":checked")?EnablePasswordProtectionSection():DisablePasswordProtectionSection()}),$(document).on("change","#save-as-file",function(){if($("#checkbox-validation").css("visibility","hidden"),$(this).is(":checked")){$(".save-as-file-type").css("display","block"),""===$(".save-as-file-type").find("#export-path").val()&&$(".save-as-file-type").find("#export-path").val($("#edit-export-path").val()),"0"===$(".save-as-file-type").find("#max-report-count").val()&&$(".save-as-file-type").find("#max-report-count").val($("#export-report-count").val()),isFtpSettingsEnabled?$("#ftp-location-export").prop("checked",!0).trigger("change"):isS3SettingsEnabled?$("#s3bucket-location-export").prop("checked",!0).trigger("change"):$("#saveas-location-export").prop("checked",!0).trigger("change");var e=$("input[name='location-export']:checked").val();"saveas-location-export"===e?$("#local-export-div").show():"ftp-location-export"===e?$("#ftp-export-div").show():"s3bucket-location-export"===e&&$("#s3bucket-export-div").show()}else $(".save-as-file-type").css("display","none"),$("#local-export-div").hide(),$("#ftp-export-div").hide(),$("#s3bucket-export-div").hide(),$("input[name='location-export']").prop("checked",!1)}),$(document).on("change","input[name='location-export']",function(){var e=$(this).val();"saveas-location-export"===e?($("#local-export-div").show(),$("#ftp-export-div").hide(),$("#s3bucket-export-div").hide()):"ftp-location-export"===e?($("#ftp-export-div").show(),$("#local-export-div").hide(),$("#s3bucket-export-div").hide()):"s3bucket-location-export"===e&&($("#s3bucket-export-div").show(),$("#local-export-div").hide(),$("#ftp-export-div").hide())}),$(document).on("focusout","#export-path",function(e){var t=$("#export-path").val();return""===t?($(".directory-check").css("display","block"),void $(".directory-check").html(window.Server.App.LocalizationContent.ScheduleReportPath).css({color:"#a94442","font-size":"12px"})):t.indexOf(":")>0?($(".directory-check").css("display","block"),void $(".directory-check").html(window.Server.App.LocalizationContent.pathNotExist).css({color:"#a94442","font-size":"12px"})):($(".directory-check").css("display","none"),void $(".directory-check").html(""))}),$(document).on("focusout","#max-report-count",function(e){$.isNumeric(parseInt($("#max-report-count").val()))?$("#report-count-validation").css("visibility","hidden"):$("#report-count-validation").css("visibility","visible").css({color:"#a94442","font-size":"12px"})}),$.ajaxSetup({beforeSend:function(e){setXSRFRequestHeader(e)}});
