/*!
*  filename: ej.widget.angular.min.js
*  version : 2.4.85
*  Copyright Syncfusion Inc. 2001 - 2020. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e){"function"==typeof define&&define.amd?define(["angular","./ej.core.min"],e):e()}(function(){!function(e,t,n,r,a){"use strict";var i,o,l,c,s,u,p,d=window.angular.module("ejangular",[]);for(p in t.module=d,i=a,o={firstCap:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},generatePropMap:function(e,n,r,a){var i,l,c;for(c in"string"!=typeof n||t.isNullOrUndefined(e)||(e.name=n,n={}),i=n||{},a?a+=".":a="",r=r||"",e)l=r+o.firstCap(c.toLowerCase()),t.isPlainObject(e[c])&&o.generatePropMap(e[c],i,l,a+c,name),i[l]=a+c,t.isNullOrUndefined(e.name)||(i.ejCtlname=e.name);return i},generateAttr:function(e,n,r,i){var l,c;if(t.isPlainObject(e))for(l in e)c=l.toLowerCase(),o.generateAttr(e[l],n,(r||"e")+o.firstCap(c),(i||"e")+"-"+c);else r&&n[r]===a&&"object"!=typeof e&&"function"!=typeof e&&void 0!==e&&(n[r]=e.toString(),n.$attr[r]=i)},getModel:function(n,r,i,l,c,s,u){var p,d,f,g,$,m,v,h,j,y,b,w,O={},A=r.$attr||r,C=!n;for(v in n=n||(r===A?{}:A),u=u||"",m=r[o.getDirectiveName(n.ejCtlname||"")],t.isNullOrUndefined(m)||""==m||(O=t.getObject(m,i)||{},o.generateAttr(O,r)),A)if(f=!0,g=$=null,C||"e"===v[0]&&/[A-Z]/.test(v[1])){if(d=r[v]||"",C||(v=v.slice(1)),"object"==typeof d){if(h=C&&n[v]||v,!(d instanceof Array)){for(b in y={},d)(p=d.$attr[b])&&(y[p]=o.getModel(null,d[b],i,l,c,s,u+h+"."+p));d=y,(p=o.getObject(h,O))&&e.extend(!0,p,d);continue}for(j=0;j<d.length;j++)d[j]=o.getModel(null,d[j],i,l,c,s,u+h+"["+j+"]");o.createObject(h,d,O);continue}if(p=n[v]||v,!1===(f=!isNaN(d)||/^['"].+['"]$/.test(d))&&(-1===(f=d.indexOf("["))?f=!(d.split(".")[0]in i||o.getObject(d.split(".")[0],i)!==a):(f=!(w=o.buildProperty(i,d)).available)||(g=w.getter,$=w.setter)),!0===f){o.createObject(p,o.processData(d),O);continue}l.push({key:d,value:u+p,twoWay:-1!==c.indexOf(p)}),g=g||o.getObject,$=$||o.createObject,d=C||-1===c.indexOf(p)||s&&"V"===v[0]&&"Value"===v?g(d,i):o.addTwoWays(d,i,g(d,i)),o.createObject(p,d,O)}return O},buildProperty:function(e,n){var r=new Function("prop","instance","with (instance) { \nreturn "+n.replace(/^([^\[.]+)/,"instance['$1']")+"\n}"),a=new Function("prop","val","instance","with (instance) {"+n.replace(/^([^\[.]+)/,"instance['$1']")+" = val;\n}");return"$$ejProperties"in e||(e.$$ejProperties={}),e.$$ejProperties[n]={getter:r,setter:a},{available:!t.isNullOrUndefined(r(n,e)),getter:r,setter:a}},addTwoWays:function(e,t,n){var r=o.createObject;return"$$ejProperties"in t&&e in t.$$ejProperties&&(r=t.$$ejProperties[e].setter),function(i){if(i===a)return n;r(e,n=i,t),o.applyScope(t)}},valReplace:/^'(.+)'$|^"(.+)"$/g,processData:function(e){var t=e.replace(o.valReplace,"$1$2");return"true"===t||"false"!==t&&(t!==e?t:(t=+t)+""===e?t:e)},addWatches:function(e,n,r,a,i){for(var l,c,s,u=0;u<n.length;u++)l="$watch",c=o.getObject,s=n[u].key,"$$ejProperties"in e&&s in e.$$ejProperties&&(c=e.$$ejProperties[s].getter),c(s,e)instanceof Array&&!i&&(l="$watchCollection"),e[l](s,t.proxy(a,e,{control:r,watch:n[u]}),n[u].twoWay&&i)},raise:function(e,t,n){if(t!==n){var r=o.getObject(e.watch.value,e.control.model);"function"==typeof r&&(r=r()),!(!(r!==t||r instanceof Array)||r===n&&r instanceof Array)&&(-1===e.control.observables.indexOf(e.watch.value)||"editor"===e.control.type&&"value"===e.watch.value||(t=o.addTwoWays(e.watch.key,this,t)),e.control.option(e.watch.value,t,void 0===t||t instanceof Array))}},angToEjProp:function(e,t){for(var n in t)if(t[n]===e)return n},modelChange:function(e,t){var n,r,a;t&&(n=o.getObject,r=o.createObject,"$$ejProperties"in e&&t in e.$$ejProperties&&(a=e.$$ejProperties[t],n=a.getter,r=a.setter),this.option("_change",function(a){a.value!==n(t,e)&&(r(t,a.value,e),o.applyScope(e))}))},getDirectiveName:function(e){if(e.length<4)return"";var t="m"===e[2]?4:3;return e.slice(0,t)+e.slice(t).toLowerCase()},applyScope:function(e){setTimeout(function(){e.$apply()},0)},loadTags:function(e,t){var n,r,a,i,l=e;if(l)return l;for(l={},a=0;a<t.length;a++){for(n=t[a].attr||[],r={},i=0;i<n.length;i++)"object"==typeof n[i]?r["e-tag"]=o.loadTags(null,n[i]):r[n[i].toLowerCase().replace(/\./g,"-")]=n[i];l["e-"+t[a].tag.toLowerCase().replace(/\./g,"-")]={field:t[a].tag,attr:r,content:t[a].content,singular:(t[a].singular||t[a].tag.replace(/s$/,"")).replace(/\./g,"-")}}return l},getTagValues:function(t,n){var r,a,i,l=e(n).children(),c={$attr:{}};if(0===l.length)return c;for(r=0;r<l.length;r++){var s,u=e(l.get(r)),p=u.prop("tagName").toLowerCase(),d=t[p];if(!d){if(!(p=u[0].attributes[0]))continue;if(p=p.nodeName,!(d=t[p]))continue}a="e-"+d.singular,i=(s=u.children(a+",["+a+"]")).toArray().map(function(t){var n,r=o.readAttributes(t,d.attr);return d.content?t.innerHTML.length&&(r[d.content]=t.innerHTML,r.$attr[d.content]=d.content):d.attr["e-tag"]&&(n=o.getTagValues(d.attr["e-tag"],t),e.extend(!0,r||{},n)),r}).filter(function(e){return e}),s.remove(),u.remove(),i.length&&(o.createAndAddAttr(d.field,i,c),c.$attr[d.field.toLowerCase().replace(/\..+/g,"")]=d.field.replace(/\..+/g,""))}return c},readAttributes:function(e,t){for(var n,r,a=e.attributes,i={},o={},l=0;l<a.length;l++)n=(r=t[r=a[l].nodeName.replace(/^e-/i,"").toLowerCase()]||r).toLowerCase().replace(/\.([a-z]?)/g,function(e,t){return t.toUpperCase()}),i[n]=a[l].value||a[l].nodeValue,o[n]=r;return a.length&&(i.$attr=o),i},getObject:function(e,n){return o.isExpression(e)?i(e)(n):t.getObject(e,n)},createObject:function(e,n,r){return o.isExpression(e)?(i(e).assign(r,n),r):t.createObject(e,n,r)},isExpression:function(e){var t=e.indexOf("("),n=e.indexOf(")");return t>0&&n>t},childRaise:function(e,n,r){var a,i;n!==r&&((a=t.getArrayObject(e.watch.value,e.control.model))!==n||a instanceof Array)&&(t.setArrayObject(e.watch.value,n,e.control.model),i=o.parseFnAndIndex(e.watch.value),e.control[i[0]]&&e.control[i[0]](i[1],i[2],n,r))},parseFnAndIndex:function(e){for(var t="",n=e.lastIndexOf("]"),r=o.getAllFnIndices(e,[]),a={},i=0;i<r.length;i++)t+="_"+r[i].prop,a[r[i].prop]=r[i].index;return[t.replace(/\./g,"_"),a,e.slice(n+1)]},getAllFnIndices:function(e,t){var n,r=e.indexOf("[");return-1===r?null:(n=e.indexOf("]"),t.push({index:parseInt(e.substring(r+1,n),10),prop:e.substring(0,r)}),o.getAllFnIndices(e.slice(n+1),t),t)},addChildTwoway:function(e,t,n){for(var r={},a=o.createObject,i=0;i<t.length;i++)r[t[i].value]=t[i].key;e._notifyArrayChange=function(e,t){var i=r[e];i&&("$$ejProperties"in n&&i in n.$$ejProperties&&(a=n.$$ejProperties[i].setter),a(i,t,n),o.applyScope(n)),a=o.createObject}},refreshTemplate:function(t,n,r){var a,i,o=e(t).find(".ej-angular-template");for(a in r)(i=o.filter("."+r[a].key)).length?n(i.not(".ng-scope"))(r[a].scope):(r[a].scope.$destroy(),delete r[a])},iterateAndGetModel:function(e,t,n,r){var a,i,l,c;if(e instanceof Array)for(l=0;l<e.length;l++)e[l]=o.getModel(null,e[l],n,t,[],!1,(r.endsWith(".")?r.slice(0,-1):r)+"["+l+"]");else for(c in e)"$"!==c.slice(0,1)&&(i=e.$attr&&e.$attr[c]?e.$attr[c]:c,a=o.iterateAndGetModel(e[c],t,n,r+i+"."),delete e[c],e[i]=a);return e},createAndAddAttr:function(e,n,r){for(var a,i=e.split("."),o=r||window,l=o,c=i.length,s=0;s<c;s++)a=i[s].toLowerCase(),s+1==c?(a in l||!l.$attr||(l.$attr[a]=i[s]),l[a]=t.isNullOrUndefined(n)?{$attr:{}}:n):t.isNullOrUndefined(l[a])&&(l.$attr&&(l.$attr[a]=i[s]),l[a]={$attr:{}}),l=l[a];return o},destroyWidget:function(e){var n,r;if(!t.isNullOrUndefined(e.element)){for(r in e.element.off(name+"refresh"),e.destroy(),n=e["tmpl.$newscope"]||{})n[r].scope.$destroy(),delete n[r];e=a}},setscope:function(e,t){e[0].isolateScope=function(){return t}}},t.getArrayObject=function(e,t){return e=e.replace(/\[([0-9]+)]/g,".$1."),o.getObject(e,t)},t.setArrayObject=function(e,t,n){return e=e.replace(/\[([0-9]+)]/g,".$1."),o.createObject(e,t,n)},l={transclude:{transclude:!0,template:function(){return"<div ng-transclude></div>"}},defaults:{terminal:!0}},c=function(n,r){s[n]=o.generatePropMap(r.defaults,n),r.observables=r.observables||[],r._notifyArrayChange=function(){};var c=e.extend({},l[r.type]||l.defaults,r.angular);d.directive(o.getDirectiveName(n),["$compile","$parse","$timeout",function(l,u,p){return i=u,e.extend({restrict:"CEA",compile:function(i){var u;if(""!==n&&i.attr("e-directive-name",n),u=!isNaN(i.attr("e-value"))||/^['"].+['"]$/.test(i.attr("e-value")),c.require&&c.require.length&&!u){var d=i.attr("ng-model"),f=i.attr("e-value"),g=i.attr("ng-model-options");if((!d||!f)&&(d||f)&&(f&&i.attr("ng-model",f),d&&i.attr("e-value",d),g||i.attr("ng-model-options","{updateOn: ' '}"),!i.attr("data-compile")))return function(e,t){e.$watch(t.attr("e-directive-name"),function(){t.attr("data-compile",!0),l(t)(e)})};i.addClass("ng-pristine").addClass("ng-valid")}return{pre:function(e,t,n,r){if(o.setscope(t,e),r&&r.length&&r[0]){var a=r[0],i=r[1],l=r[2];i&&i.$addControl(a),l&&!t.attr("ng-model-options")&&(l.$options.updateOn="",l.$options.updateOnDefault=!1)}},post:function(i,u,d,f){var g,$,m,v,h=[],j="editor"===r.type,y=o.getModel(s[n],d,i,h,r.observables,j),b=[],w=d[o.getDirectiveName(n)]||d.id,O="true"===u.attr("e-deepwatch");r._tags&&r._tags.length&&(g=r["ob.tags"]=o.loadTags(r["ob.tags"],r._tags),$=o.getTagValues(g,u),delete($=o.iterateAndGetModel($,b,i,"")).$attr,t.copyObject(y,$)),"e-button"==r._rootCSS&&(y._click=function(){o.applyScope(i)}),c.requireFormatters&&f&&f.length&&f[0]&&(y._change=function(e){(o.isExpression(d.eValue)||d.eValue in i)&&e.value!==o.getObject(d.eValue,i)&&o.createObject(d.eValue,e.value,i)}),c.requireParser&&f&&f.length&&f[0]&&(f[0].$$parserName="number",f[0].$parsers.push(function(e){return f[0].$isEmpty(e)?null:/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/.test(e)?parseFloat(e):a})),m=e(u)[n](y).data(n),!w||w in i||(i[w]=m,m.scopeId=w),o.addWatches(i,h,m,o.raise,O),b.length&&(o.addWatches(i,b,m,o.childRaise,O),o.addChildTwoway(m,b,i)),f&&f.length&&f[0]&&((v=f[0]).$setPristine(!0),c.requireFormatters&&v.$formatters.push(function(){return m.element.val()}),u.on(n+"_change",function(t){if("source"!==t.source){e(t.target);var n=t.value;c.requireParser&&"number"==v.$$parserName&&(n=null!=t.value?t.value.toString():""),v.$setViewValue(n),v.$modelValue=t.model.value,v.$commitViewValue(),o.applyScope(i)}})),j&&o.modelChange.apply(m,[i,d.eValue]),"tmpl.$newscope"in m&&o.refreshTemplate(u,l,m["tmpl.$newscope"]),m.element.on(n+"refresh",function(){"tmpl.$newscope"in m&&o.refreshTemplate(u,l,m["tmpl.$newscope"])}),i.$on("$destroy",function(){t.angularMobileSettings&&t.angularMobileSettings.enableAnimation?p(function(){o.destroyWidget(m)},t.angularMobileSettings.animationTime):o.destroyWidget(m)})}}}},c)}])},d.directive("ejTemplate",["$compile",function(e){return{restrict:"EA",priority:999,terminal:!0,link:function(t,n,r){var a=t.$parent.$new(!0);t.ejObject&&(a.ejId=t.ejId,a.ejObject=t.ejObject,a.items=t.items,a.model=t.model,a.data=t.items[r.ejProp],e(n.children(),t)(a),t.$parent.$$phase||t.$root.$$phase||a.$digest())}}}]),s={},u=n.registeredWidgets)c(u[p].name,u[p].proto);t.widget.extensions={registerWidget:function(e){c(e,u[e].proto)}},Array.prototype.map=Array.prototype.map||function(e,t){for(var n=[],r=0;r<this.length;)n.push(e.call(t,this[r++]));return n},t.template["text/ng-template"]=function(n,r,a,i){angular.element(n.element[0]);var o,l,c=n["tmpl.$newscope"];return c&&c[r]||((c=c||{})[r]={scope:n.element[0].isolateScope().$new(!0),key:t.getGuid("tmpl")},(o=c[r].scope).model=n.model,o.ejId=n._id,o.ejObject=n,n["tmpl.$newscope"]=c),o=c[r].scope,t.isNullOrUndefined(i)?(i=1,o.items=[a]):(o.items||(o.items=[]),o.items[i]=a),(l=r||"").startsWith("#")&&(l=e(l).html()),"<div ej-template ej-prop='"+i+"' class='"+c[r].key+" ej-angular-template'>"+l+"</div>"},t.template.render=t.template["text/ng-template"]}(window.jQuery,window.Syncfusion,window.Syncfusion.widget)});
