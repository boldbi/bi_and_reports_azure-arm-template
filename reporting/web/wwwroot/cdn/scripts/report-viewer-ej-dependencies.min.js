/*!
*  filename: ej.core.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function extractXSRFTokenFromCookie(){var e=parent.document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));return e?e.split("=")[1]:null}function setXSRFRequestHeader(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}function decodeHtmlAsString(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function EscapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i){"use strict";var s,n,o,l;t.version="14.4.0.15",t.consts={NamespaceJoin:"-"},t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},t.Orientation={Horizontal:"horizontal",Vertical:"vertical"},t.serverTimezoneOffset=0,t.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==i}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t.defineClass=function(e,s,n,o){if(!e||!n)return i;for(var l=e.split("."),r=window,a=0;a<l.length-1;a++)t.isNullOrUndefined(r[l[a]])&&(r[l[a]]={}),r=r[l[a]];return(o||t.isNullOrUndefined(r[l[a]]))&&(s="function"==typeof s?s:function(){},r[l[a]]=s,r[l[a]].prototype=n),r[l[a]]},t.util={getNameSpace:function(e){var i=e.toLowerCase().split(".");return"ej"===i[0]&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(e,s){var n,o,l;if(!s)return i;for(n=s,o=e.split("."),l=0;l<o.length&&!t.util.isNullOrUndefined(n);l++)n=n[o[l]];return n},createObject:function(e,s,n){for(var o,l=e.split("."),r=n||window,a=r,h=l.length,d=0;d<h;d++)o=l[d],d+1==h?a[o]=s===i?{}:s:t.isNullOrUndefined(a[o])&&(a[o]={}),a=a[o];return r},isNullOrUndefined:function(e){return e===i||null===e},print:function(i,s){var n,o,l=t.buildTag("div"),r=i.clone();l.append(r),s||(s=window.open("","print","height=452,width=1024,tabbar=no")),s.document.write("<!DOCTYPE html>"),n=e("head").find("link").add("style"),"msie"===t.browserInfo().name?(o="",n.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML}),s.document.write("<html><head></head><body>"+o+l[0].innerHTML+"</body></html>")):(o="",s.document.write("<html><head>"),n.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),o+=i.outerHTML}),s.document.writeln(o+"</head><body>"),s.document.writeln(l[0].innerHTML+"</body></html>")),s.document.close(),s.focus(),setTimeout(function(){t.isNullOrUndefined(s.window)||(s.print(),setTimeout(function(){s.close()},1e3))},1e3)},ieClearRemover:function(t){var i=e(t).height();t.style.paddingTop=parseFloat(i/2)+"px",t.style.paddingBottom=parseFloat(i/2)+"px",t.style.height="1px",t.style.lineHeight="1px"},sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.successHandler,error:t.errorHandler,beforeSend:t.beforeSendHandler,complete:t.completeHandler})},buildTag:function(t,s,n,o){var l,r=/^[a-z]*[0-9a-z]+/gi.exec(t)[0],a=/#([_a-z]+[-_0-9a-z]+)/gi.exec(t);return a=a?a[a.length-1]:i,l=(l=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(t))?l[l.length-1]:i,e(document.createElement(r)).attr(a?{id:a}:{}).addClass(l||"").css(n||{}).attr(o||{}).html(s||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var t=1;return((t=Math.max.apply(null,e.map(e("body *"),function(t){if("absolute"==e(t).css("position")||"fixed"==e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))==i||null==t)&&(t=1),t},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(t,i){var s,n,o,l=e(t).parents().andSelf().filter(":hidden");return l&&(n={visibility:"hidden",display:"block"},o=[],l.each(function(){var e={};for(var t in n)e[t]=this.style[t],this.style[t]=n[t];o.push(e)}),s=/(outer)/g.test(i)?e(t)[i](!0):e(t)[i](),l.each(function(e){var t=o[e];for(var i in n)this.style[i]=t[i]})),s},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||e.support.hasPointer?e.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(e("head"),"data-ej-forceset",!1)?t.getBooleanVal(e("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&t.isPortrait()&&t.isDevice()||window.innerWidth<=800&&!t.isDevice()||window.innerWidth<=800&&!t.isPortrait()&&t.isWindows()&&t.isDevice()||t.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-tablet",!1)||!t.isMobile()&&t.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&t.isMobile())&&this.isDevice()},getClearString:function(t){return e.trim(t.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,s){var n=e(t).attr(i);return null!=n?"true"==n.toLowerCase():s},_getSkewClass:function(e,t,i){var s=e.width(),n=e.height(),o=e.offset().left,l=e.offset().left+s,r=e.offset().top,a=e.offset().top+n,h=.3*s,d=.3*n;return t<o+h&&i<r+d?"e-m-skew-topleft":t>l-h&&i<r+d?"e-m-skew-topright":t>l-h&&i>a-d?"e-m-skew-bottomright":t<o+h&&i>a-d?"e-m-skew-bottomleft":t>o+h&&i<r+d&&t<l-h?"e-m-skew-top":t<o+h?"e-m-skew-left":t>l-h?"e-m-skew-right":i>a-d?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){e(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){if(e){var i=e.touches?e.touches[0]:e;t._distX=0,t._distY=0,t._moved=!1,t._pointX=i.pageX,t._pointY=i.pageY}},_isTouchMoved:function(e,t){if(e){var i,s,n=e.touches?e.touches[0]:e,o=n.pageX-t._pointX,l=n.pageY-t._pointY;Date.now();return t._pointX=n.pageX,t._pointY=n.pageY,t._distX+=o,t._distY+=l,i=Math.abs(t._distX),s=Math.abs(t._distY),!(i<5&&s<5)}},listenEvents:function(e,i,s,n,o,l){for(var r=0;r<e.length;r++)t.listenTouchEvent(e[r],i[r],s[r],n,o,l)},listenTouchEvent:function(i,s,n,o,l,r){for(var a,h=o?"removeEventListener":"addEventListener",d=o?"off":"on",u=e(i),c=0;c<u.length;c++)switch(a=u[c],s){case"touchstart":t._bindEvent(a,h,s,n,"mousedown","MSPointerDown","pointerdown",r);break;case"touchmove":t._bindEvent(a,h,s,n,"mousemove","MSPointerMove","pointermove",r);break;case"touchend":t._bindEvent(a,h,s,n,"mouseup","MSPointerUp","pointerup",r);break;case"touchcancel":t._bindEvent(a,h,s,n,"mousecancel","MSPointerCancel","pointercancel",r);break;case"tap":case"taphold":case"ejtouchmove":case"click":e(a)[d](s,n);break;default:"msie"==t.browserInfo().name&&t.browserInfo().version<9?l._on(e(a),s,n):a[h](s,n,!0)}},_bindEvent:function(t,i,s,n,o,l,r){e.support.hasPointer?t[i](window.navigator.pointerEnabled?r:l,n,!0):t[i](s,n,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),i=0,s=e.length;i<s;i++)if(e[i]+"ransform"in t.styles)return e[i].substr(0,e[i].length-1);return!1},addPrefix:function(e){return""===t.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),t.userAgent()+e)},destroyWidgets:function(t){e(t).find("[data-role *= ejm]").each(function(t,i){var s=e(i),n=s.data("ejWidgets");n&&s[n]("destroy")})},getAttrVal:function(t,i,s){var n=e(t).attr(i);return null!=n?n:s},getOffset:function(t){var i,s={},n=t.offset()||{left:0,top:0};return e.extend(!0,s,n),"static"!=e("body").css("position")&&(i=e("body").offset(),s.left-=i.left,s.top-=i.top),s},getZindexPartial:function(i,s){var n,o,l;if(!t.isNullOrUndefined(i)&&i.length>0)return n=i.parents(),o=e("body").children(),!t.isNullOrUndefined(i)&&i.length>0&&o.splice(o.index(s),1),e(o).each(function(e,t){n.push(t)}),l=Math.max.apply(l,e.map(n,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})),!l||l<1e4?l=1e4:l+=1,l},isValidAttr:function(t,i){var s;return void 0!==(t=e(t)[0])[i]||(s=!1,e.each(t,function(e){if(e.toLowerCase()==i.toLowerCase())return s=!0,!1}),s)}},e.extend(t,t.util),t.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(i,s,n,o){var l=null;return("object"==typeof i||i.startsWith("#")||i.startsWith("."))&&(l=e(i).attr("type")),l&&(l=l.toLowerCase(),t.template[l])?t.template[l](this,i,s,n,o):t.template.render(this,i,s,n,o)},destroy:function(){var i,s,n,o;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),e(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(i=this.element.data("ejWidgets")||[],o=0;o<i.length;o++)i[o]==this.pluginName&&i.splice(o,1);for(i.length||this.element.removeData("ejWidgets");this._events&&(n=[],s=this._events.pop());){for(o=0;o<s[1].length;o++)e.isPlainObject(s[1][o])||n.push(s[1][o]);e.fn.off.apply(s[0],n)}this._events=null,this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(i){this._events||(this._events=[]);for(var s=[].splice.call(arguments,1,arguments.length-1),n={},o=s.length;n&&"function"!=typeof n;)n=s[--o];return s[o]=t.proxy(s[o],this),this._events.push([i,s,n,s[o]]),e.fn.on.apply(i,s),this},_off:function(t,i,s,n){var o,l,r,a,h=this._events;if(!h||!h.length)return this;for("function"==typeof s&&(o=n,n=s,s=o),l=i.match(/\S+/g)||[""],r=0;r<h.length;r++)if((a=h[r])[0].length&&(!n||a[2]===n)&&(a[1][0]===i||l[0])&&(!s||a[1][1]===s)&&e.inArray(t[0],a[0])>-1){e.fn.off.apply(t,n?[i,s,a[3]]:[i,s]),h.splice(r,1);break}return this},_trigger:function(i,s){var n,o,l,r,a=null,h={};return e.extend(h,s),i in this.model&&(a=this.model[i]),a&&("string"==typeof a&&(a=t.util.getObject(a,window)),e.isFunction(a)&&(o=t.event(i,this.model,s),n=a.call(this,o),(l=this.model._applyScope)&&l.call(),s&&e.extend(s,o),o.cancel||!t.isNullOrUndefined(n)))?!1===n||o.cancel:(r=Boolean(s),(s=s||{}).originalEventType=i,s.type=this.pluginName+i,o=e.Event(s.type,t.event(s.type,this.model,s)),this.element.trigger(o),r&&e.extend(s,o),t.isOnWebForms&&0==o.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,s,h),o.cancel)},setModel:function(t,i){var n,o,l,r;if(!this._trigger("modelChange",{changes:t})){for(n in t){if(!i){if(this.model[n]===t[n]){delete t[n];continue}if(e.isPlainObject(t[n])&&(s(this.model[n],t[n]),e.isEmptyObject(t[n]))){delete t[n];continue}}if(this.dataTypes&&!0!==(o=this._isValidModelValue(n,this.dataTypes,t)))throw"setModel - Invalid input for property :"+n+" - "+o;this.model.notifyOnEachPropertyChanges&&this.model[n]!==t[n]&&(l={oldValue:this.model[n],newValue:t[n]},t[n]=this._trigger(n+"Change",l)?this.model[n]:l.newValue)}e.isEmptyObject(t)||(this._setFirst?((r=t.dataSource)&&delete t.dataSource,e.extend(!0,this.model,t),r&&(this.model.dataSource=r instanceof Array?r.slice():r,t.dataSource=this.model.dataSource),this._setModel&&this._setModel(t)):this._setModel&&!1===this._setModel(t)||e.extend(!0,this.model,t),"enablePersistence"in t&&this._setState(t.enablePersistence))}},option:function(s,n,o){if(!s)return this.model;if(e.isPlainObject(s))return this.setModel(s,o);if("string"==typeof s){s=s.replace(/^model\./,"");var l=t.getObject(s,this.model);if(n===i&&!o)return l;if("enablePersistence"===s)return this._setState(n);if(o&&n===t.extensions.modelGUID)return this._setModel(t.createObject(s,t.getObject(s,this.model),{}));if(o||t.getObject(s,this.model)!==n)return this.setModel(t.createObject(s,n,{}),o)}return i},_isValidModelValue:function(e,t,i){var s,n,o,l=t[e],r=i[e];if(!l)return!0;if("string"==typeof l){if("enum"==l&&(i[e]=r?r.toString().toLowerCase():r,l="string"),"array"===l){if("[object Array]"===Object.prototype.toString.call(r))return!0}else if("data"===l||"parent"===l||typeof r===l)return!0;return"Expected type - "+l}if(r instanceof Array){for(n=0;n<r.length;n++)if(!0!==(s=this._isValidModelValue(e,t,r[n])))return" ["+n+"] - "+s;return!0}for(o in r)if(!0!==(s=this._isValidModelValue(o,l,r)))return o+" : "+s;return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var i,s=this.observables,n=0;n<s.length;n++)i=t.getObject(s[n],e),t.isNullOrUndefined(i)||"function"!=typeof i||this._returnFn(e,s[n]);return JSON.stringify(e)},_setState:function(i){!0===i?(this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler)):(this.deleteState(),e(window).off("unload",this._persistHandler))},_removeProp:function(e,i){t.isNullOrUndefined(e)||(-1!=i.indexOf(".")?this._removeProp(e[i.split(".")[0]],i.split(".").slice(1).join(".")):delete e[i])},persistState:function(){var e,i;if(this._ignoreOnPersist){for(e=r({},this.model),i=0;i<this._ignoreOnPersist.length;i++)this._removeProp(e,this._ignoreOnPersist[i]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},i=0;i<this._addToPersist.length;i++)t.createObject(this._addToPersist[i],t.getObject(this._addToPersist[i],this.model),e);e.addToPersist=this._addToPersist}else e=r({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(t.isNullOrUndefined(t.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",t.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(t.isNullOrUndefined(t.persistStateVersion)||null!=t.cookie.get("persistKey")||t.cookie.set("persistKey",t.persistStateVersion),t.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&t.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(i){var s,n,o=null;if(window.localStorage?o=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(o=t.cookie.get("$ej$"+this.pluginName+this._id)),o&&(s=JSON.parse(o),this._restoreState&&(this._restoreState(s.customPersists),delete s.customPersists),!1===t.isNullOrUndefined(s)&&(t.isNullOrUndefined(s.ignoreOnPersist)?t.isNullOrUndefined(s.addToPersist)||(this._addToPersist=s.addToPersist,delete s.addToPersist):(this._ignoreOnPersist=s.ignoreOnPersist,delete s.ignoreOnPersist))),t.isNullOrUndefined(s)||t.isNullOrUndefined(this._ignoreOnPersist))this.model=e.extend(!0,this.model,s);else{for(n in this._ignoreOnPersist)-1!==this._ignoreOnPersist[n].indexOf(".")?t.createObject(this._ignoreOnPersist[n],t.getObject(this._ignoreOnPersist[n],this.model),s):s[this._ignoreOnPersist[n]]=this.model[this._ignoreOnPersist[n]];this.model=s}!i&&o&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,s,n=[];if("object"==typeof e?n=e:"string"==typeof e&&n.push(e),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<n.length;t++)this._ignoreOnPersist.push(n[t]);else for(t=0;t<n.length;t++)s=this._addToPersist.indexOf(n[t]),this._addToPersist.splice(s,1)},addToPersist:function(t){var s,n,o=[];if("object"==typeof t?o=t:"string"==typeof t&&o.push(t),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],n=0;n<o.length;n++)s=this._ignoreOnPersist.indexOf(o[n]),this._ignoreOnPersist.splice(s,1);else for(n=0;n<o.length;n++)-1===e.inArray(o[n],this._addToPersist)&&this._addToPersist.push(o[n])},formatting:function(i,s,n){var o,l,r,a,h,d,u,c;if(i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),n=t.preferredCulture(n)?n:"en-US",o=i,l=i.split("{0:"),h=i.split("}"),r=l[0],a=h[1],"string"==typeof s&&e.isNumeric(s)&&(s=Number(s)),-1!=i.indexOf("{0:"))return null!=(d=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(i))&&null!=s?null!=r&&null!=a?r+t.format(s,d[2],n)+a:t.format(s,d[2],n):null!=s?s:"";if(o.startsWith("{")&&!o.startsWith("{0:")){var m=o.split(""),g=(s=(s||"")+"").split(""),p=/[0aA\*CN<>\?]/gm;for(u=0,c=0;u<m.length;u++)m[u]=p.test(m[u])?"{"+c+++"}":m[u];return String.format.apply(String,[m.join("")].concat(g)).replace("{","").replace("}","")}return null!=this.data&&null==this.data.Value?(e.each(this.data,function(e,t){o=o.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),o):this.data.Value}},t.WidgetBase=function(){},s=function(t,i){for(var n in t)t[n]===i[n]&&delete i[n],e.isPlainObject(i[n])&&e.isPlainObject(t[n])&&s(t[n],i[n])},t.widget=function(s,o,h){var u,c,m;if("object"!=typeof s)m=h._rootCSS||t.getNameSpace(o),h=t.defineClass(o,function(i,l){var d,u,c,g,p,f,_,b,v,y;if(this.sfType=o,this.pluginName=s,this.instance=a,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},e.extend(this,t.widgetBase),this.dataTypes)for(d in l)if(!0!==(u=this._isValidModelValue(d,this.dataTypes,l)))throw"setModel - Invalid input for property :"+d+" - "+u;for((c=i.data("ejWidgets")||[]).push(s),i.data("ejWidgets",c),p=0;t.widget.observables&&this.observables&&p<this.observables.length;p++)(g=t.getObject(this.observables[p],l))&&t.createObject(this.observables[p],t.widget.observables.register(g,this.observables[p],this,i),l);if(this.element=i.jquery?i:e(i),this.model=r(!0,{},h.prototype.defaults,l),this.model.keyConfigs=r(this.keyConfigs),this.element.addClass(m+" e-js").data(s,this),this._id=i[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!t.isNullOrUndefined(t.persistStateVersion)&&window.localStorage.getItem("persistKey")!=t.persistStateVersion)for(p in window.localStorage)-1!=p.indexOf("$ej$")&&window.localStorage.removeItem(p);else if(document.cookie&&!t.isNullOrUndefined(t.persistStateVersion)&&t.cookie.get("persistKey")!=t.persistStateVersion)for(f in document.cookie.split(/; */))-1!=f.indexOf("$ej$")&&t.cookie.set(f.split("=")[0],model,new Date);this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(l),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(b in _=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==b){_=!0;break}_&&this._keyPressed&&(v=i,y="keydown",this.keySettings&&(v=this.keySettings.getElement&&this.keySettings.getElement()||v,y=this.keySettings.event||y),this._on(v,y,function(e){if(this.model.keyConfigs){var t=n.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey};t&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}}))}this._trigger("create")},h),e.fn[s]=function(n){for(var r,a,u=n,c=0;c<this.length;c++){var g=e(this[c]),p=g.data(s),f=p&&g.hasClass(m),_=null;if(this.length>0&&e.isPlainObject(u)&&(n=t.copyObject({},u)),f){if(n)if(a=[].slice.call(arguments,1),this.length>0&&a[0]&&"option"===u&&e.isPlainObject(a[0])&&(a[0]=t.copyObject({},a[0])),e.isPlainObject(n))p.setModel(n);else if(0!==n.indexOf("_")&&!t.isNullOrUndefined(_=t.getObject(n,p))||0===n.indexOf("model.")){if(!_||!e.isFunction(_)){if(1==arguments.length)return _;p.option(n,arguments[1]);continue}if((r=_.apply(p,a))!==i)return r}else l(o+": function/property - "+n+" does not exist")}else!0!==h.prototype._requiresID||e(this[c]).attr("id")||g.attr("id",d("ejControl_")),n&&"object"!=typeof n?l(s+": methods/properties can be accessed only after plugin creation"):(h.prototype.defaults&&!t.isNullOrUndefined(t.setCulture)&&"locale"in h.prototype.defaults&&"ejChart"!=s&&(!n||"locale"in n?t.isNullOrUndefined(n)&&((n={}).locale=t.setCulture().name):n.locale=t.setCulture().name),new h(g,n))}return-1!=s.indexOf("ejm")&&t.widget.registerInstance(g,s,o,h.prototype),this},t.widget.register(s,o,h.prototype);else for(u in h=o,s)(c=s[u])instanceof Array&&(h._rootCSS=c[1],c=c[0]),t.widget(u,c,h),s[u]instanceof Array&&(h._rootCSS="")},e.extend(t.widget,function(){var e={},i=[];return{register:function(i,s,n){t.isNullOrUndefined(e[i])||l("ej.widget : The widget named "+i+" is trying to register twice."),e[i]={name:i,className:s,proto:n},t.widget.extensions&&t.widget.extensions.registerWidget(i)},registerInstance:function(e,t,s,n){i.push({element:e,pluginName:t,className:s,proto:n})},registeredWidgets:e,registeredInstances:i}}()),t.widget.destroyAll=function(e){var t,i,s,n;if(e&&e.length)for(t=0;t<e.length;t++)if((s=(i=e.eq(t).data()).ejWidgets)&&s.length)for(n=0;n<s.length;n++)i[s[n]]&&i[s[n]].destroy&&i[s[n]].destroy()},t.cookie={get:function(e){var t=RegExp(e+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},n={getActionFromCode:function(e,t,i,s,o){var l,r,a;for(l in i=i||!1,s=s||!1,o=o||!1,e)if("focus"!==l)for(r=n.getKeyObject(e[l]),a=0;a<r.length;a++)if(t===r[a].code&&i==r[a].isCtrl&&s==r[a].isShift&&o==r[a].isAlt)return l;return null},getKeyObject:function(t){for(var i,s,o,l={isCtrl:!1,isShift:!1,isAlt:!1},r=e.extend(!0,{},l),a=t.split(","),h=[],d=0;d<a.length;d++){if(i=null,-1!=a[d].indexOf("+"))for(s=a[d].split("+"),o=0;o<s.length;o++)i=n.getResult(e.trim(s[o]),l);else i=n.getResult(e.trim(a[d]),e.extend(!0,{},r));h.push(i)}return h},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},t.getScrollableParents=function(t){return e(t).parentsUntil("html").filter(function(){return"visible"!=e(this).css("overflow")}).add(e(window))},t.browserInfo=function(){var i,s,n,o,l={},r=[],a={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in a)if(a.hasOwnProperty(i)&&(r=navigator.userAgent.match(a[i]))){if(l.name="opr"==r[1].toLowerCase()?"opera":r[1].toLowerCase(),l.version=r[2],l.culture={},l.culture.name=l.culture.language=navigator.language||navigator.userLanguage,void 0!==t.globalize){for(s=t.preferredCulture().name,n=navigator.language||navigator.userLanguage?t.preferredCulture(navigator.language||navigator.userLanguage):t.preferredCulture("en-US"),o=0;navigator.languages&&o<navigator.languages.length&&(n=t.preferredCulture(navigator.languages[o])).language!=navigator.languages[o];o++);t.preferredCulture(s),e.extend(!0,l.culture,n)}!navigator.userAgent.match(/Trident\/7\./)||(l.name="msie");break}return l.isMSPointerEnabled="msie"==l.name&&l.version>9&&window.navigator.msPointerEnabled,l.pointerEnabled=window.navigator.pointerEnabled,l},t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},t.event=function(t,i,s){return e.extend(s||{},{type:t,model:i,cancel:!1})},t.proxy=function(e,t,i){return e&&"function"==typeof e?"on"in e&&t?i?e.on(t,i):e.on(t):function(){var s=i?[i]:[];return s.push.apply(s,arguments),e.apply(t||this,s)}:null},t.hasStyle=function(e){var t,i,s=document.documentElement.style;if(e in s)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in s)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var r=t.copyObject=function(e,s){var n,o,l,a,h,d,u=2;for("boolean"!=typeof e&&(u=1),l=[].slice.call(arguments,u),1===u&&(s=e,e=i),a=0;a<l.length;a++)for(h in l[a])if(n=s[h],(o=l[a][h])!==i&&n!==o&&l[a]!==o&&s!==o)if(o instanceof Array)if(0===a&&e)for(s[h]=[],d=0;d<o.length;d++)r(!0,s[h],o);else s[h]=o.slice();else t.isPlainObject(o)?(s[h]=n||{},e?r(e,s[h],o):r(s[h],o)):s[h]=o;return s},a=function(){return this},h=0,d=function(e){return e+h++};t.template={},t.template.render=t.template["text/x-jsrender"]=function(t,i,s,n,o){"#"!==i.slice(0,1)&&(i=["<div>",i,"</div>"].join(""));var l={prop:o,index:n};return e(i).render(s,l)},t.isPlainObject=function(e){if(!e||t.DataManager!==i&&e instanceof t.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var s,n=t.support.isOwnLast;for(s in e)if(n)break;return s===i||e.hasOwnProperty(s)},o=!1,t.util.valueFunction=function(e){return function(s,n){var l=t.getObject(e,this.model);if(!1===o&&(o=t.getObject("observables.getValue",t.widget)),s===i)return t.isNullOrUndefined(o)?"function"==typeof l?l.call(this):l:o(l,n);"function"==typeof l?(this["ob.values"][e]=s,l.call(this,s)):t.createObject(e,s,this.model)}},t.util.getVal=function(e){return"function"==typeof e?e():e},t.support={isOwnLast:function(){var e,t=function(){this.a=1};for(e in t.prototype.b=1,new t)return"b"===e}(),outerHTML:document.createElement("div").outerHTML!==i},l=t.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},t.getRandomValue=function(e,s){var n,o;return e===i||s===i?t.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(o=new Uint16Array(1),window.crypto.getRandomValues(o),n=o[0]%(s-e)+e):n=Math.random()*(s-e)+e,0|n)},t.extensions={},t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(e){var t=$(this);$.each(e,function(e,i){i&&i.specified&&t.attr(i.name,i.value)})},$.fn.removeEleAttrs=function(e){return this.each(function(){var t=$(this),i=$(this.attributes).clone();$.each(i,function(i,s){s&&s.specified&&e.test(s.name)&&t.removeAttr(s.name)})})},$.fn.attrNotStartsWith=function(e){var t,s=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;s.push(t[i])}return s},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var e=$(this),t=$(this.attributes).clone();$.each(t,function(t,i){i&&i.specified&&""===i.value&&e.removeAttr(i.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var s=e.attributes,n=0;n<s.length;n++)if(0===s[n].nodeName.indexOf(i[3]))return!1;return!0}});var e=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}()}),
/*!
*  filename: ej.globalize.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){!function(e){function t(e,t){return 0===e.indexOf(t)}function i(e,t){return e.substr(e.length-t.length)===t}function s(e){return(e+"").replace(S,"")}function n(e,t,i){for(var s=e.length;s<t;s++)e=i?"0"+e:e+"0";return e}function o(e,s,n){var o,l=s["-"],r=s["+"];switch(n){case"n -":l=" "+l,r=" "+r;case"n-":i(e,l)?o=["-",e.substr(0,e.length-l.length)]:i(e,r)&&(o=["+",e.substr(0,e.length-r.length)]);break;case"- n":l+=" ",r+=" ";case"-n":t(e,l)?o=["-",e.substr(l.length)]:t(e,r)&&(o=["+",e.substr(r.length)]);break;case"(n)":t(e,"(")&&i(e,")")&&(o=["-",e.substr(1,e.length-2)])}return o||["",e]}function l(e,t,i){var s,o;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var l,r=i.numberFormat,a=Math.abs(e),h=-1;switch(t.length>1&&(h=parseInt(t.slice(1),10)),s=t.charAt(0).toUpperCase()){case"D":l="n",a=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)}(a),-1!==h&&(a=n(""+a,h,!0)),e<0&&(a=-a);break;case"N":(o=r).pattern=o.pattern||["-n"];case"C":(o=o||r.currency).pattern=o.pattern||["-$n","$n"];case"P":(o=o||r.percent).pattern=o.pattern||["-n %","n %"],l=e<0?o.pattern[0]||"-n":o.pattern[1]||"n",-1===h&&(h=o.decimals),a=function(e,t,i){var s,o=i.groupSizes||[3],l=o[0],r=1,a=Math.pow(10,t),h=Math.round(e*a)/a;isFinite(h)||(h=e);var d=(e=h)+"",u="",c=d.split(/e/i),m=c.length>1?parseInt(c[1],10):0;c=(d=c[0]).split("."),d=c[0],u=c.length>1?c[1]:"",m>0?(d+=(u=n(u,m,!1)).slice(0,m),u=u.substr(m)):m<0&&(u=(d=n(d,1+(m=-m))).slice(-m,d.length)+u,d=d.slice(0,-m)),s=i["."]||".",u=t>0?s+(u.length>t?u.slice(0,t):n(u,t)):"";for(var g=d.length-1,p=i[","]||",",f="";g>=0;){if(0===l||l>g)return d.slice(0,g+1)+(f.length?p+f+u:u);f=d.slice(g-l+1,g+1)+(f.length?p+f:""),g-=l,r<o.length&&(l=o[r],r++)}return d.slice(0,g+1)+p+f+u}(a*("P"===s?100:1),h,o);break;default:throw"Bad number format specifier: "+s}return function(e,t,i){for(var s,n,o=/n|\$|-|%/g,l="";s=o.lastIndex,n=o.exec(t),l+=t.slice(s,n?n.index:t.length),n;)switch(n[0]){case"n":l+=e;break;case"$":l+=i.currency.symbol||"$";break;case"-":/[1-9]/.test(e)&&(l+=i["-"]||"-");break;case"%":l+=i.percent.symbol||"%"}return l}(a,l,r)}function r(e,t,i){return e<t||e>i}function a(e,t){var i,s,n=new Date;return t<100&&(i="string"==typeof(i=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(i,10):i,(t+=(s=n.getFullYear())-s%100)>i&&(t-=100)),t}function h(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}function d(e){return e.split(" ").join(" ").toUpperCase()}function u(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=d(e[i]);return t}function c(e,t,i){var s,n=e.days,o=e._upperDays;return o||(e._upperDays=o=[u(n.names),u(n.namesAbbr),u(n.namesShort)]),t=d(t),i?-1===(s=h(o[1],t))&&(s=h(o[2],t)):s=h(o[0],t),s}function m(e,t,i){var s,n=e.months,o=e.monthsGenitive||e.months,l=e._upperMonths,r=e._upperMonthsGen;return l||(e._upperMonths=l=[u(n.names),u(n.namesAbbr)],e._upperMonthsGen=r=[u(o.names),u(o.namesAbbr)]),t=d(t),(s=h(i?l[1]:l[0],t))<0&&(s=h(i?r[1]:r[0],t)),s}function g(e,t){for(var i,s=0,n=!1,o=0,l=e.length;o<l;o++)"'"==(i=e.charAt(o))?(n?t.push("'"):s++,n=!1):"\\"==i?(n&&t.push("\\"),n=!n):(t.push(i),n=!1);return s}function p(e,t,i,s){if(!e)return null;var n=0,o=0,l=null;t=t.split(""),length=t.length;for(var r=function(e){for(var i=0;t[n]===e;)i++,n++;return i>0&&(n-=1),i},a=function(t){var i=new RegExp("^\\d{1,"+t+"}"),s=e.substr(o,t).match(i);return s?(s=s[0],o+=s.length,parseInt(s,10)):null},h=function(t,i){for(var s,n,l,r=0,a=t.length;r<a;r++)if(n=(s=t[r]).length,l=e.substr(o,n),i&&(l=l.toLowerCase()),l==s)return o+=n,r+1;return null},d=function(e){for(var t=0,i=e.length,s=[];t<i;t++)s[t]=(e[t]+"").toLowerCase();return s},u=function(e){var t={};for(var i in e)t[i]=d(e[i]);return t};n<length;n++)ch=t[n],"d"===ch&&(count=r("d"),s._lowerDays||(s._lowerDays=u(s.days)),l=count<3?a(2):h(s._lowerDays[3==count?"namesAbbr":"names"],!0));return l}function f(e,t){t=t||"F";var i,s=e.patterns,n=t.length;if(1===n){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===n&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function _(e,i,n){var o,l,h,d,u,g,f,_,b;e=s(e),i=s(i);var v=n.calendar,S=ej.globalize._getDateParseRegExp(v,i),w=new RegExp(S.regExp).exec(e);if(null===w)return null;var T,x=S.groups,C=null,D=null,O=null,I=null,j=0,L=0,k=0,M=0,N=null,E=!1;for(o=0,l=x.length;o<l;o++)if(h=w[o+1]){var P=x[o],H=P.length,A=parseInt(h,10);switch(P){case y.DAY_OF_MONTH_DOUBLE_DIGIT:case y.DAY_OF_MONTH_SINGLE_DIGIT:if(r(O=A,1,31))return null;break;case y.MONTH_THREE_LETTER:case y.MONTH_FULL_NAME:if(r(D=m(v,h,3===H),0,11))return null;break;case y.MONTH_SINGLE_DIGIT:case y.MONTH_DOUBLE_DIGIT:if(r(D=A-1,0,11))return null;break;case y.YEAR_SINGLE_DIGIT:case y.YEAR_DOUBLE_DIGIT:case y.YEAR_FULL:if(r(C=H<4?a(v,A):A,0,9999))return null;break;case y.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case y.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(12===(j=A)&&(j=0),r(j,0,11))return null;break;case y.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case y.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(r(j=A,0,23))return null;break;case y.MINUTES_SINGLE_DIGIT:case y.MINUTES_DOUBLE_DIGIT:if(r(L=A,0,59))return null;break;case y.SECONDS_SINGLE_DIGIT:case y.SECONDS_DOUBLE_DIGIT:if(r(k=A,0,59))return null;break;case y.MERIDIAN_INDICATOR_FULL:case y.MERIDIAN_INDICATOR_SINGLE:if(!(E=v.PM&&(h===v.PM[0]||h===v.PM[1]||h===v.PM[2]))&&(!v.AM||h!==v.AM[0]&&h!==v.AM[1]&&h!==v.AM[2]))return null;break;case y.DECISECONDS:case y.CENTISECONDS:case y.MILLISECONDS:if(r(M=A*Math.pow(10,3-H),0,999))return null;break;case y.DAY_OF_WEEK_THREE_LETTER:O=p(e,i,0,v);break;case y.DAY_OF_WEEK_FULL_NAME:if(c(v,h,3===H),r(I,0,6))return null;break;case y.TIME_ZONE_OFFSET_FULL:if(2!==(d=h.split(/:/)).length||r(T=parseInt(d[0],10),-12,13)||r(u=parseInt(d[1],10),0,59))return null;N=60*T+(t(h,"-")?-u:u);break;case y.TIME_ZONE_OFFSET_SINGLE_DIGIT:case y.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(r(T=A,-12,13))return null;N=60*T}}if(g=new Date,f=(_=v.convert)?_.fromGregorian(g)[0]:g.getFullYear(),null===C&&(C=f),null===D&&(D=0),null===O&&(O=1),_){if(null===(g=_.toGregorian(C,D,O)))return null}else if(g.setFullYear(C,D,O),g.getDate()!==O)return null;return E&&j<12&&(j+=12),g.setHours(j,L,k,M),null!==N&&(b=g.getMinutes()-(N+g.getTimezoneOffset()),g.setHours(g.getHours()+parseInt(b/60,10),b%60)),g}function b(e,t,i){function s(e,t){var i,s=e+"";return t>1&&s.length<t?(i=S[t-2]+s).substr(i.length-t,t):s}function n(){return p||_||(p=w.test(t),_=!0),p}var o,l,r,a,h,d,u=i.calendar,c=u.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?c?b(e,u.patterns.F,i):e.toLocaleString():e.toString();l="s"===t,t=f(u,t),o=[];var m,p,_,v,S=["0","00","000"],w=/([^d]|^)(d|dd)([^d]|$)/g,T=0,x=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!l&&c&&(v=c.fromGregorian(e));;){var C=x.lastIndex,D=x.exec(t);if(T+=g(t.slice(C,D?D.index:t.length),o),!D)break;if(T%2)o.push(D[0]);else switch(a=(r=D[0]).length,r){case y.DAY_OF_WEEK_THREE_LETTER:case y.DAY_OF_WEEK_FULL_NAME:h=3===a?u.days.namesAbbr:u.days.names,o.push(h[e.getDay()]);break;case y.DAY_OF_MONTH_SINGLE_DIGIT:case y.DAY_OF_MONTH_DOUBLE_DIGIT:p=!0,o.push(s(v?v[2]:e.getDate(),a));break;case y.MONTH_THREE_LETTER:case y.MONTH_FULL_NAME:d=v?v[1]:e.getMonth(),o.push(u.monthsGenitive&&n()?u.monthsGenitive[3===a?"namesAbbr":"names"][d]:u.months[3===a?"namesAbbr":"names"][d]);break;case y.MONTH_SINGLE_DIGIT:case y.MONTH_DOUBLE_DIGIT:o.push(s((v?v[1]:e.getMonth())+1,a));break;case y.YEAR_SINGLE_DIGIT:case y.YEAR_DOUBLE_DIGIT:case y.YEAR_FULL:d=v?v[0]:e.getFullYear(),a<4&&(d%=100),o.push(s(d,a));break;case y.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case y.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0===(m=e.getHours()%12)&&(m=12),o.push(s(m,a));break;case y.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case y.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:o.push(s(e.getHours(),a));break;case y.MINUTES_SINGLE_DIGIT:case y.MINUTES_DOUBLE_DIGIT:o.push(s(e.getMinutes(),a));break;case y.SECONDS_SINGLE_DIGIT:case y.SECONDS_DOUBLE_DIGIT:o.push(s(e.getSeconds(),a));break;case y.MERIDIAN_INDICATOR_SINGLE:case y.MERIDIAN_INDICATOR_FULL:d=e.getHours()<12?u.AM?u.AM[0]:" ":u.PM?u.PM[0]:" ",o.push(1===a?d.charAt(0):d);break;case y.DECISECONDS:case y.CENTISECONDS:case y.MILLISECONDS:o.push(s(e.getMilliseconds(),3).substr(0,a));break;case y.TIME_ZONE_OFFSET_SINGLE_DIGIT:case y.TIME_ZONE_OFFSET_DOUBLE_DIGIT:m=e.getTimezoneOffset()/60,o.push((m<=0?"+":"-")+s(Math.floor(Math.abs(m)),a));break;case y.TIME_ZONE_OFFSET_FULL:m=e.getTimezoneOffset()/60,o.push((m<=0?"+":"-")+s(Math.floor(Math.abs(m)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case y.DATE_SEPARATOR:o.push(u["/"]||"/");break;default:throw"Invalid date format pattern '"+r+"'."}}return o.join("")}function v(e,t){return t.length?v(e[t[0]],t.slice(1)):e}var y;ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=e.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard;var S=/^\s+|\s+$/g,w=/^[+-]?infinity$/i,T=/^0x[a-f0-9]+$/i,x=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/;y={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(e,t){var i,s,n,o,l,r,a=e._parseRegExp;if(a){if(i=a[t])return i}else e._parseRegExp=a={};for(var h,d=f(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),u=["^"],c=[],m=0,p=0,_=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(h=_.exec(d));)if(s=d.slice(m,h.index),m=_.lastIndex,(p+=g(s,u))%2)u.push(h[0]);else{switch(o=(n=h[0]).length,n){case y.DAY_OF_WEEK_THREE_LETTER:case y.DAY_OF_WEEK_FULL_NAME:case y.MONTH_FULL_NAME:case y.MONTH_THREE_LETTER:l="(\\D+)";break;case y.MERIDIAN_INDICATOR_FULL:case y.MERIDIAN_INDICATOR_SINGLE:l="(\\D*)";break;case y.YEAR_FULL:case y.MILLISECONDS:case y.CENTISECONDS:case y.DECISECONDS:l="(\\d{"+o+"})";break;case y.DAY_OF_MONTH_DOUBLE_DIGIT:case y.DAY_OF_MONTH_SINGLE_DIGIT:case y.MONTH_DOUBLE_DIGIT:case y.MONTH_SINGLE_DIGIT:case y.YEAR_DOUBLE_DIGIT:case y.YEAR_SINGLE_DIGIT:case y.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case y.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case y.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case y.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case y.MINUTES_DOUBLE_DIGIT:case y.MINUTES_SINGLE_DIGIT:case y.SECONDS_DOUBLE_DIGIT:case y.SECONDS_SINGLE_DIGIT:l="(\\d\\d?)";break;case y.TIME_ZONE_OFFSET_FULL:l="([+-]?\\d\\d?:\\d{2})";break;case y.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case y.TIME_ZONE_OFFSET_SINGLE_DIGIT:l="([+-]?\\d\\d?)";break;case y.DATE_SEPARATOR:l="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}l&&u.push(l),c.push(h[0])}return g(d.slice(m),u),u.push("$"),r={regExp:u.join("").replace(/\s+/g,"\\s+"),groups:c},a[t]=r},ej.globalize.addCulture=function(t,i){ej.cultures[t]=e.extend(!0,e.extend(!0,{},ej.cultures.default,i),ej.cultures[t]),ej.cultures[t].calendar=ej.cultures[t].calendars.standard},ej.globalize.preferredCulture=function(e){return e=void 0!==e&&typeof e==typeof this.cultureObject?e.name:e,this.cultureObject=ej.globalize.findCulture(e),this.cultureObject},ej.globalize.setCulture=function(e){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(e)),(e=void 0!==e&&typeof e==typeof this.globalCultureObject?e.name:e)&&(this.globalCultureObject=ej.globalize.findCulture(e)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(e){ej.cultures.current=ej.globalize.findCulture(e)},ej.globalize.findCulture=function(t){var i,s,n,o,l;if(t){if(e.isPlainObject(t)&&t.numberFormat&&(i=t),"string"==typeof t){if((s=ej.cultures)[t])return s[t];if(t.indexOf("-")>-1){if(s[n=t.split("-")[0]])return s[n]}else for(o=e.map(s,function(e){return e}),l=0;l<o.length;l++)if(o[l].name.split("-")[0]===t)return o[l];return ej.cultures.default}}else i=ej.cultures.current||ej.cultures.default;return i},ej.globalize.format=function(e,t,i){var s=ej.globalize.findCulture(i);return"number"==typeof e?e=l(e,t,s):e instanceof Date&&(e=b(e,t,s)),e},ej.globalize.parseInt=function(e,t,i){return Math.floor(this.parseFloat(e,t,i))},ej.globalize.parseFloat=function(e,t,i){var n,l,r,a,h,d,u,c,m,g,p;"string"==typeof t&&(i=t,t=10);var f=NaN,_=(i=ej.globalize.findCulture(i)).numberFormat,b=i.numberFormat.pattern[0];if((e=e.replace(/ /g,"")).indexOf(i.numberFormat.currency.symbol)>-1?(e=(e=e.replace(i.numberFormat.currency.symbol||"$","")).replace(i.numberFormat.currency["."]||".",i.numberFormat["."]||"."),b=s(i.numberFormat.currency.pattern[0].replace("$",""))):e.indexOf(i.numberFormat.percent.symbol)>-1&&(e=(e=e.replace(i.numberFormat.percent.symbol||"%","")).replace(i.numberFormat.percent["."]||".",i.numberFormat["."]||"."),b=s(i.numberFormat.percent.pattern[0].replace("%",""))),e=s(e),w.test(e))f=parseFloat(e,t);else if(!t&&T.test(e))f=parseInt(e,16);else{var v=o(e,_,b),y=v[0],S=v[1];""===y&&"-n"!==_.pattern[0]&&(y=(v=o(e,_,"-n"))[0],S=v[1]),y=y||"+",(r=S.indexOf("e"))<0&&(r=S.indexOf("E")),r<0?(l=S,n=null):(l=S.substr(0,r),n=S.substr(r+1)),d=_["."]||".",(u=l.indexOf(d))<0?(a=l,h=null):(a=l.substr(0,u),h=l.substr(u+d.length)),c=_[","]||",",a=a.split(c).join(""),m=c.replace(/\u00A0/g," "),c!==m&&(a=a.split(m).join("")),g=y+a,null!==h&&(g+="."+h),null!==n&&(g+="e"+((p=o(n,_,b))[0]||"+")+p[1]),x.test(g)&&(f=parseFloat(g))}return f},ej.globalize.parseDate=function(e,t,i){var s,n,o,l,r,a;if(i=ej.globalize.findCulture(i),t){if("string"==typeof t&&(t=[t]),t.length)for(l=0,r=t.length;l<r&&(!(a=t[l])||!(s=_(e,a,i)));l++);}else for(n in o=i.calendar.patterns)if(s=_(e,o[n],i))break;return s||null},ej.globalize.getLocalizedConstants=function(t,i){var s,n=t.replace("ej.","").split(".");return s=v(ej,n),e.extend(!0,{},s.Locale.default,s.Locale[i||this.cultureObject.name])},e.extend(ej,ej.globalize)}(jQuery)}),
/*!
*  filename: ej.data.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i,s){"use strict";var n,o,l,r,a,h,d,u,c;t.DataManager=function(i,n,o){if(!(this instanceof t.DataManager))return new t.DataManager(i,n,o);i||(i=[]),"string"==typeof(o=o||i.adaptor)&&(o=new t[o]);var l=[],r=this;return i instanceof Array?l={json:i,offline:!0}:"object"==typeof i?e.isPlainObject(i)?(i.json||(i.json=[]),i.table&&(i.json=this._getJsonFromElement(i.table,i.headerOption)),l={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,timeTillExpiration:i.timeTillExpiration,cachingPageSize:i.cachingPageSize,enableCaching:i.enableCaching,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,jsonp:i.jsonp,dataType:i.dataType,offline:i.offline!==s?i.offline:!("remoteSaveAdaptor"==i.adaptor||i.adaptor instanceof t.remoteSaveAdaptor)&&!i.url,requiresFormat:i.requiresFormat}):(i.jquery||H(i))&&(l={json:this._getJsonFromElement(i),offline:!0,table:i}):"string"==typeof i&&(l={url:i,offline:!1,dataType:"json",json:[]}),l.requiresFormat!==s||t.support.cors||(l.requiresFormat=!!u(l.crossDomain)||l.crossDomain),l.dataType===s&&(l.dataType="json"),this.dataSource=l,this.defaultQuery=n,l.url&&l.offline&&!l.json.length?(this.isDataAvailable=!1,this.adaptor=o||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(n||t.Query()).done(function(e){r.dataSource.offline=!0,r.isDataAvailable=!0,l.json=e.result,r.adaptor=new t.JsonAdaptor})):this.adaptor=l.offline?new t.JsonAdaptor:new t.ODataAdaptor,!l.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(l.jsonp="callback"),this.adaptor=o||this.adaptor,l.enableCaching&&(this.adaptor=new t.CacheAdaptor(this.adaptor,l.timeTillExpiration,l.cachingPageSize)),this},t.DataManager.prototype={setDefaultQuery:function(e){this.defaultQuery=e},executeQuery:function(i,n,o,l){var r,h,d;return"function"==typeof i&&(l=o,o=n,n=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||c("DataManager - executeQuery() : A query is required to execute"),(r=e.Deferred()).then(n,o,l),h={query:i},this.dataSource.offline||this.dataSource.url==s?t.isNullOrUndefined(this.dataSource.async)||0!=this.dataSource.async?a(function(){this._localQueryProcess(i,h,r)},this):this._localQueryProcess(i,h,r):(d=this.adaptor.processQuery(this,i),t.isNullOrUndefined(d.url)?a(function(){h=this._getDeferedArgs(i,d,h),r.resolveWith(this,[h])},this):this._makeRequest(d,r,h,i)),r.promise()},_localQueryProcess:function(e,t,i){var s=this.executeLocal(e);t=this._getDeferedArgs(e,s,t),i.resolveWith(this,[t])},_getDeferedArgs:function(e,t,i){return e._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=R(e._fromTable,i.result,this),i.getKnockoutModel=z(i.result),i},executeLocal:function(i){var s,n;if(this.defaultQuery||i instanceof t.Query||c("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||c("DataManager - executeLocal() : Json data is required to execute"),i=i||this.defaultQuery,s=this.adaptor.processQuery(this,i),i._subQuery){var o=i._subQuery._fromTable,l=i._subQuery._lookup,r=i._requiresCount?s.result:s;for(l&&l instanceof Array&&m(i._subQuery._fKey,o,r,l,i._subQuery._key),n=0;n<r.length;n++)r[n][o]instanceof Array&&(r[n]=e.extend({},r[n]),r[n][o]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(r[n][o].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(s,this,i)},_makeRequest:function(i,s,n,o){var l,r=!!o._subQuerySelector,a=d(function(e){n.error=e,s.rejectWith(this,[n])},this),u=d(function(e,t,i,l,a,h,d){r||(n.xhr=i,n.count=parseInt(t,10),n.result=e,n.request=l,n.aggregates=h,n.getTableModel=R(o._fromTable,e,this),n.getKnockoutModel=z(e),n.actual=a,n.virtualSelectRecords=d,s.resolveWith(this,[n]))},this),c=d(function(t,i){var s,l,h=e.Deferred(),d={parent:n};return o._subQuery._isChild=!0,s=this.adaptor.processQuery(this,o._subQuery,t?this.adaptor.processResponse(t):i),l=this._makeRequest(s,h,d,o._subQuery),r||h.then(function(e){t&&(m(o._subQuery._fKey,o._subQuery._fromTable,t,e,o._subQuery._key),u(t))},a),l},this),g=h(function(e,i,s,n){-1==s.getResponseHeader("Content-Type").indexOf("xml")&&t.dateParse&&(e=t.parseJSON(e));var l=this.adaptor.processResponse(e,this,o,s,n),a=0,h=null,d=e.virtualSelectRecords;o._requiresCount&&(a=l.count,h=l.aggregates,l=l.result),o._subQuery?r||c(l):u(l,a,s,n,e,h,d)},this),p=e.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:d(this._beforeSend,this),processData:!1,success:g,error:a},i);return"async"in this.dataSource&&(p.async=this.dataSource.async),p=e.ajax(p),r&&((l=o._subQuerySelector.call(this,{query:o._subQuery,parent:o}))&&l.length?(p=e.when(p,c(null,l))).then(h(function(e,t,i){var s,n=this.adaptor.processResponse(e[0],this,o,e[2],i[0]),l=0;o._requiresCount&&(l=n.count,n=n.result),s=this.adaptor.processResponse(t[0],this,o._subQuery,t[2],i[1]),l=0,o._subQuery._requiresCount&&(l=s.count,s=s.result),m(o._subQuery._fKey,o._subQuery._fromTable,n,s,o._subQuery._key),r=!1,u(n,l,e[2])},this),a):r=!1),p},_beforeSend:function(e,t){var i,s,n,o;for(this.adaptor.beforeSend(this,e,t),i=this.dataSource.headers,n=0;i&&n<i.length;n++)for(o in s=[],i[n])s.push(o),e.setRequestHeader(o,i[n][o])},saveChanges:function(i,s,n,o){var l,r,a;return n instanceof t.Query&&(o=n,n=null),l={url:n,key:s||this.dataSource.key},r=this.adaptor.batchRequest(this,i,l,o),this.dataSource.offline?r:(a=e.Deferred(),e.ajax(e.extend({beforeSend:d(this._beforeSend,this),success:h(function(e,t,s,n){a.resolveWith(this,[this.adaptor.processResponse(e,this,null,s,n,i)])},this),error:function(e){a.rejectWith(this,[{error:e}])}},r)),a.promise())},insert:function(i,s,n){var o,l;return i=y.replacer(i),s instanceof t.Query&&(n=s,s=null),o=this.adaptor.insert(this,i,s,n),this.dataSource.offline?o:(l=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:d(this._beforeSend,this),success:h(function(e,i,s,n){try{t.isNullOrUndefined(e)?e=[]:y.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(y.parseJson(e),this,null,s,n),l.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){l.rejectWith(this,[{error:e,dataManager:this}])}},o)),l.promise())},remove:function(i,s,n,o){var l,r;return"object"==typeof s&&(s=s[i]),n instanceof t.Query&&(o=n,n=null),l=this.adaptor.remove(this,i,s,n,o),this.dataSource.offline?l:(r=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:d(this._beforeSend,this),success:h(function(e,i,s,n){try{t.isNullOrUndefined(e)?e=[]:y.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(y.parseJson(e),this,null,s,n),r.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){r.rejectWith(this,[{error:e,dataManager:this}])}},l)),r.promise())},update:function(i,s,n,o){var l,r;return s=y.replacer(s),n instanceof t.Query&&(o=n,n=null),l=this.adaptor.update(this,i,s,n,o),this.dataSource.offline?l:(r=e.Deferred(),e.ajax(e.extend({contentType:"application/json; charset=utf-8",beforeSend:d(this._beforeSend,this),success:h(function(e,i,s,n){try{t.isNullOrUndefined(e)?e=[]:y.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(y.parseJson(e),this,null,s,n),r.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){r.rejectWith(this,[{error:e,dataManager:this}])}},l)),r.promise())},_getJsonFromElement:function(i){"string"==typeof i&&(i=e(e(i).html()));var s=(i=i.jquery?i[0]:i).tagName.toLowerCase();return"table"!==s&&c("ej.DataManager : Unsupported htmlElement : "+s),t.parseTable(i)}};var m=function(e,i,s,n,o){var l,r,a={};for(n.result&&(n=n.result),n.GROUPGUID&&c("ej.DataManager: Do not have support Grouping in hierarchy"),l=0;l<n.length;l++)(a[r=t.getObject(e,n[l])]||(a[r]=[])).push(n[l]);for(l=0;l<s.length;l++)s[l][i]=a[t.getObject(o||e,s[l])]},g="application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",p="multipart/mixed",f="--changeset_",_="batch_",b="Content-Type: application/http\nContent-Transfer-Encoding: binary ",v="Content-Type: application/json; charset=utf-8 ",y={parseJson:function(e){var t=typeof e;return"string"===t?e=JSON.parse(e,y.jsonReviver):e instanceof Array?y.iterateAndReviveArray(e):"object"===t&&y.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)"object"==typeof e[t]?y.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{|\"/g.test(e[t])?y.parseJson(e[t]):y.jsonReviver("",e[t])},iterateAndReviveJson:function(e){var t;for(var i in e)i.startsWith("__")||("object"==typeof(t=e[i])?t instanceof Array?y.iterateAndReviveArray(t):y.iterateAndReviveJson(t):e[i]=y.jsonReviver(i,t))},jsonReviver:function(e,t){var i,s,n=t;if("string"==typeof t){if(i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t))return y.replacer(new Date(parseInt(i[1])));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=y.replacer(new Date(t)),isNaN(t)&&(s=n.split(/[^0-9]/),t=y.replacer(new Date(s[0],s[1]-1,s[2],s[3],s[4],s[5]))))}return t},isJson:function(e){return"string"==typeof e[0]?e:t.parseJSON(e)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(e){return t.isPlainObject(e)?y.jsonReplacer(e):e instanceof Array?y.arrayReplacer(e):e instanceof Date?y.jsonReplacer({val:e}).val:e},jsonReplacer:function(e){var i;for(var s in e)(i=e[s])instanceof Date&&(e[s]=new Date(+i+36e5*t.serverTimezoneOffset));return e},arrayReplacer:function(e){for(var i=0;i<e.length;i++)t.isPlainObject(e[i])?e[i]=y.jsonReplacer(e[i]):e[i]instanceof Date&&(e[i]=y.jsonReplacer({date:e[i]}).date);return e}};t.isJSON=y.isJson,t.parseJSON=y.parseJson,t.dateParse=!0,t.isGUID=y.isGuid,t.Query=function(e){return this instanceof t.Query?(this.queries=[],this._key="",this._fKey="","string"==typeof e?this._fromTable=e||"":e&&e instanceof Array&&(this._lookup=e),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(e)},t.Query.prototype={key:function(e){return"string"==typeof e&&(this._key=e),this},using:function(e){return e instanceof t.DataManager?(this.dataManagar=e,this):c("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(e,i,s,n){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeQuery(this,i,s,n):c("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(e){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeLocal(this):c("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var e=new t.Query;return e.queries=this.queries.slice(0),e._key=this._key,e._isChild=this._isChild,e.dataManagar=this.dataManager,e._fromTable=this._fromTable,e._params=this._params.slice(0),e._expands=this._expands.slice(0),e._sortedColumns=this._sortedColumns.slice(0),e._groupedColumns=this._groupedColumns.slice(0),e._subQuerySelector=this._subQuerySelector,e._subQuery=this._subQuery,e._fKey=this._fKey,e._requiresCount=this._requiresCount,e},from:function(e){return"string"==typeof e&&(this._fromTable=e),this},addParams:function(e,i){return"function"==typeof i||t.isPlainObject(i)?"function"==typeof i&&this._params.push({key:e,fn:i}):this._params.push({key:e,value:i}),this},expand:function(e){return this._expands="string"==typeof e?[].slice.call(arguments,0):e.slice(0),this},where:function(e,i,s,n){i=(i||t.FilterOperators.equal).toLowerCase();var o=null;return"string"==typeof e?o=new t.Predicate(e,i,s,n):e instanceof t.Predicate?o=e:c("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:o}),this},search:function(e,i,s,n){i&&"boolean"!=typeof i?"string"==typeof i&&(i=[i]):n=i=[],"boolean"==typeof s&&(n=s,s=null),(s=s||t.FilterOperators.contains).length<3&&(s=t.data.operatorSymbols[s]);var o=t.data.fnOperators[s]||t.data.fnOperators.processSymbols(s);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:s,searchKey:e,ignoreCase:n,comparer:o}}),this},sortBy:function(e,i,s){var n,o,l,r,a=t.sortOrder.Ascending;if("string"==typeof e&&e.toLowerCase().endsWith(" desc")&&(e=e.replace(/ desc$/i,""),i=t.sortOrder.Descending),e instanceof Array){for(l=0;l<e.length;l++)this.sortBy(e[l],i,s);return this}if("boolean"==typeof i?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:"function"==typeof i&&(a="custom"),i&&"string"!=typeof i||(a=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),s)for(n=S(this.queries,"onSortBy"),l=0;l<n.length;l++)if("string"==typeof(o=n[l].e.fieldName)){if(o===e)return this}else if(o instanceof Array)for(r=0;r<o.length;r++)if(o[r]===e||e.toLowerCase()===o[r]+" desc")return this;return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:i,direction:a}}),this},sortByDesc:function(e){return this.sortBy(e,t.sortOrder.Descending)},group:function(e,t){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,fn:t}}),this},page:function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},range:function(e,t){return("number"!=typeof e||"number"!=typeof t)&&c("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},take:function(e){return"number"!=typeof e&&c("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:e}}),this},skip:function(e){return"number"!=typeof e&&c("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:e}}),this},select:function(e){return"string"==typeof e&&(e=[].slice.call(arguments,0)),e instanceof Array||c("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},hierarchy:function(e,i){return e&&e instanceof t.Query||c("Query() - hierarchy : query must be instance of ej.Query"),"function"==typeof i&&(this._subQuerySelector=i),this._subQuery=e,this},foreignKey:function(e){return"string"==typeof e&&(this._fKey=e),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(e,t){this.queries.push({fn:"onAggregates",e:{field:t,type:e}})}},t.Adaptor=function(e){this.dataSource=e,this.pvt={},this.init.apply(this,[].slice.call(arguments,1))},t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"},init:function(){},extend:function(t){var i,s,n=function(t){this.dataSource=t,this.options&&(this.options=e.extend({},this.options)),this.init.apply(this,[].slice.call(arguments,0)),this.pvt={}};for(s in(n.prototype=new this.type).type=n,i=n.prototype.base={},t)n.prototype[s]&&(i[s]=n.prototype[s]);return e.extend(!0,n.prototype,t),n},processQuery:function(){},processResponse:function(e){return e.d?e.d:e},convertToQueryString:function(t){return e.param(t)},type:t.Adaptor},t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(e,t,i){var s,o,l,r,a,h,d=S(t.queries,"onSortBy"),c=S(t.queries,"onGroup"),m=S(t.queries,"onWhere"),g=S(t.queries,"onSearch"),p=S(t.queries,"onAggregates"),f=w(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),_=t._params,b=e.dataSource.url,v=null,y=this.options,x={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]};for(f.onPage?(s=f.onPage,o=((o=n(s.pageIndex,t))-1)*(v=n(s.pageSize,t))):f.onRange&&(o=(s=f.onRange).start,v=s.end-s.start),l=0;l<d.length;l++)s=n(d[l].e.fieldName,t),x.sorted.push(T(this,"onEachSort",{name:s,direction:d[l].e.direction},t));for(i&&((s=this.getFiltersFrom(i,t))&&x.filters.push(T(this,"onEachWhere",s.toJSON(),t))),l=0;l<m.length;l++)for(a in x.filters.push(T(this,"onEachWhere",m[l].e.toJSON(),t)),x.filters[l])u(x[a])&&delete x[a];for(l=0;l<g.length;l++)s=g[l].e,x.searches.push(T(this,"onEachSearch",{fields:s.fieldNames,operator:s.operator,key:s.searchKey,ignoreCase:s.ignoreCase},t));for(l=0;l<c.length;l++)x.grouped.push(n(c[l].e.fieldName,t));for(l=0;l<p.length;l++)s=p[l].e,x.aggregates.push({type:s.type,field:n(s.field,t)});for(a in(r={})[y.from]=t._fromTable,y.expand&&(r[y.expand]=t._expands),r[y.select]=f.onSelect?T(this,"onSelect",n(f.onSelect.fieldNames,t),t):"",r[y.count]=t._requiresCount?T(this,"onCount",t._requiresCount,t):"",r[y.search]=x.searches.length?T(this,"onSearch",x.searches,t):"",r[y.skip]=f.onSkip?T(this,"onSkip",n(f.onSkip.nos,t),t):"",r[y.take]=f.onTake?T(this,"onTake",n(f.onTake.nos,t),t):"",r[y.where]=x.filters.length||x.searches.length?T(this,"onWhere",x.filters,t):"",r[y.sortBy]=x.sorted.length?T(this,"onSortBy",x.sorted,t):"",r[y.group]=x.grouped.length?T(this,"onGroup",x.grouped,t):"",r[y.aggregates]=x.aggregates.length?T(this,"onAggregates",x.aggregates,t):"",r.param=[],T(this,"addParams",{dm:e,query:t,params:_,reqParams:r}),r)(u(r[a])||""===r[a]||0===r[a].length)&&delete r[a];return y.skip in r&&y.take in r||null===v||(r[y.skip]=T(this,"onSkip",o,t),r[y.take]=T(this,"onTake",v,t)),h=this.pvt,this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(r),url:b,ejPvtData:h,type:"POST",contentType:"application/json; charset=utf-8"}:(s=this.convertToQueryString(r,t,e),{type:"GET",url:(s=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+s).length?b.replace(/\/*$/,s):b,ejPvtData:h})},convertToQueryString:function(t,i,s){return s.dataSource.url&&-1!==s.dataSource.url.indexOf("?")?e.param(t):"?"+e.param(t)},processResponse:function(e,i,n,o,l,r){var a,h,d,u,c=l.ejPvtData||{},m=e.groupDs;if(o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return n._requiresCount?{result:[],count:0}:[];if((a=JSON.parse(l.data))&&"batch"===a.action&&e.added)return r.added=e.added,r;if(e.d&&(e=e.d),c&&c.aggregates&&c.aggregates.length){var g,p=c.aggregates,f={},_={};for(("count"in e&&(f.count=e.count),e.result&&(f.result=e.result),e.aggregate&&(e=e.aggregate),d=0);d<p.length;d++)(g=t.aggregates[p[d].type])&&(_[p[d].field+" - "+p[d].type]=g(e,p[d].field));f.aggregates=_,e=f}if(c&&c.groups&&c.groups.length){for((h=c.groups,f={},"count"in e&&(f.count=e.count),e.aggregates&&(f.aggregates=e.aggregates),e.result&&(e=e.result),d=0);d<h.length;d++)u=M(h[d],n.queries),t.isNullOrUndefined(m)||(m=t.group(m,h[d],null,u)),e=t.group(e,h[d],c.aggregates,u,null,m);return f.count!=s?f.result=e:f=e,f}return e},onGroup:function(e){this.pvt.groups=e},onAggregates:function(e){this.pvt.aggregates=e},batchRequest:function(e,t,i,s){var n={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:n}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(n)}},beforeSend:function(){},insert:function(e,t,i,s){var n={value:t,table:i,action:"insert"};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:n}),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(n)}},remove:function(e,t,i,s,n){var o={key:i,keyColumn:t,table:s,action:"remove"};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:o}),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(o)}},update:function(e,t,i,s,n){var o={value:i,action:"update",keyColumn:t,key:i[t],table:s};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:o}),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(o)}},getFiltersFrom:function(e,i){var s;e instanceof Array&&e.length||c("ej.SubQuery: Array of key values required");var n,o=i._fKey,l=o,r=i._key,a=[],h="object"!=typeof e[0];for("object"!=typeof e[0]&&(l=null),s=0;s<e.length;s++)n=h?e[s]:t.pvt.getObject(r||l,e[s]),a.push(new t.Predicate(o,"==",n));return t.Predicate.or(a)},addParams:function(e){var t,i,s=e.dm,n=e.query,o=e.params,l=e.reqParams;for(l.params={},t=0;i=o[t];t++)l[i.key]&&c("ej.Query: Custom Param is conflicting other request arguments"),l[i.key]=i.value,i.fn&&(l[i.key]=i.fn.call(n,i.key,n,s)),l.params[i.key]=l[i.key]}}),t.WebMethodAdaptor=(new t.UrlAdaptor).extend({processQuery:function(e,i,s){var n=t.UrlAdaptor.prototype.processQuery(e,i,s),o=t.parseJSON(n.data),l={};return l.value=o,T(this,"addParams",{dm:e,query:i,params:i._params,reqParams:l}),{data:JSON.stringify(l),url:n.url,ejPvtData:n.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(e){var t,i,s,n,o=e.dm,l=e.query,r=e.params,a=e.reqParams;for(a.params={},t=0;i=r[t];t++)a[i.key]&&c("ej.Query: Custom Param is conflicting other request arguments"),s=i.key,n=i.value,i.fn&&(n=i.fn.call(l,i.key,l,o)),a[s]=n,a.params[s]=a[s]}}),t.CacheAdaptor=(new t.UrlAdaptor).extend({init:function(e,i,s){var n,o;t.isNullOrUndefined(e)||(this.cacheAdaptor=e),this.pageSize=s,this.guidId=t.getGuid("cacheAdaptor"),n={keys:[],results:[]},window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify(n)),o=this.guidId,t.isNullOrUndefined(i)||setInterval(function(){for(var e=t.parseJSON(window.localStorage.getItem(o)),s=[],n=0;n<e.results.length;n++)e.results[n].timeStamp=new Date-new Date(e.results[n].timeStamp),new Date-new Date(e.results[n].timeStamp)>i&&s.push(n);for(n=0;n<s.length;n++)e.results.splice(s[n],1),e.keys.splice(s[n],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(e))},i)},generateKey:function(e,t){var i,s,n,o,l=S(t.queries,"onSortBy"),r=S(t.queries,"onGroup"),a=S(t.queries,"onWhere"),h=S(t.queries,"onSearch"),d=(S(t.queries,"onPage"),w(t.queries,["onSelect","onPage","onSkip","onTake","onRange"])),u=(t._params,e);for(d.onPage&&(u+=d.onPage.pageIndex),l.forEach(function(e){u+=e.e.direction+e.e.fieldName}),r.forEach(function(e){u+=e.e.fieldName}),h.forEach(function(e){u+=e.e.searchKey}),i=0;i<a.length;i++)if((s=a[i]).e.isComplex){for((n=t.clone()).queries=[],o=0;o<s.e.predicates.length;o++)n.queries.push({fn:"onWhere",e:s.e.predicates[o],filter:t.queries.filter});u+=s.e.condition+this.generateKey(e,n)}else u+=s.e.field+s.e.operator+s.e.value;return u},processQuery:function(e,i){var s,n,o=this.generateKey(e.dataSource.url,i);return window.localStorage&&(s=t.parseJSON(window.localStorage.getItem(this.guidId))),null==(n=s?s.results[s.keys.indexOf(o)]:null)||this._crudAction||this._insertAction?(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):n},processResponse:function(i,s,n,o,l,r){var a;if(this._insertAction||l&&this.cacheAdaptor.options.batch&&l.url.endsWith(this.cacheAdaptor.options.batch)&&"post"===l.type.toLowerCase())return this.cacheAdaptor.processResponse(i,s,n,o,l,r);i=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0));var h=this.generateKey(s.dataSource.url,n),d={};for(window.localStorage&&(d=t.parseJSON(window.localStorage.getItem(this.guidId))),-1!=(a=e.inArray(h,d.keys))&&(d.results.splice(a,1),d.keys.splice(a,1)),d.results[d.keys.push(h)-1]={keys:h,result:i.result,timeStamp:new Date,count:i.count};d.results.length>this.pageSize;)d.results.splice(0,1),d.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(d)),i},update:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.update(e,t,i,s)},insert:function(e,t,i){return this._insertAction=!0,this.cacheAdaptor.insert(e,t,i)},remove:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.remove(e,t,i,s)},batchRequest:function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}});var S=function(e,t){return e.filter(function(e){return e.fn===t})||[]},w=function(e,t){for(var i=e.filter(function(e){return-1!==t.indexOf(e.fn)}),s={},n=0;n<i.length;n++)s[i[n].fn]||(s[i[n].fn]=i[n].e);return s},T=function(e,t,i,s){if(e[t]){var n=e[t](i,s);u(n)||(i=n)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(e,t){return e.isComplex?this.onComplexPredicate(e,t):this.onPredicate(e,t)},onPredicate:function(e,i,s){var n,o,l,r="",a=e.value,h=typeof a,d=this._p(e.field);return a instanceof Date&&(a="datetime'"+y.replacer(a).toJSON()+"'"),"string"===h&&(a="'"+a+"'",s&&(d="cast("+d+", 'Edm.String')"),t.isGUID(a)&&(o="guid"),e.ignoreCase&&(o||(d="tolower("+d+")"),a=a.toLowerCase())),(n=t.data.odBiOperator[e.operator])?(r+=d,r+=n,o&&(r+=o),r+a):(n=t.data.odUniOperator[e.operator])&&"string"===h?("substringof"===n&&(l=a,a=d,d=l),r+=n+"(",r+=d+",",o&&(r+=o),r+(a+")")):""},onComplexPredicate:function(e,t){for(var i=[],s=0;s<e.predicates.length;s++)i.push("("+this.onEachWhere(e.predicates[s],t)+")");return i.join(" "+e.condition+" ")},onWhere:function(e){return this.pvt.searches&&e.push(this.onEachWhere(this.pvt.searches,null,!0)),e.join(" and ")},onEachSearch:function(e){var i,s;for(0===e.fields.length&&c("Query() - Search : oData search requires list of field names to search"),i=this.pvt.searches||[],s=0;s<e.fields.length;s++)i.push(new t.Predicate(e.fields[s],e.operator,e.key,e.ignoreCase));this.pvt.searches=i},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(e){var t,i=[];if(e.name instanceof Array)for(t=0;t<e.name.length;t++)i.push(this._p(e.name[t]));else i.push(this._p(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},onSortBy:function(e){return e.reverse().join(",")},onGroup:function(e){return this.pvt.groups=e,""},onSelect:function(e){for(var t=0;t<e.length;t++)e[t]=this._p(e[t]);return e.join(",")},onAggregates:function(e){return this.pvt.aggregates=e,""},onCount:function(e){return!0===e?"allpages":""},beforeSend:function(e,t,i){i.url.endsWith(this.options.batch)&&"post"===i.type.toLowerCase()&&(t.setRequestHeader("Accept",p),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")),e.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,s,n,o,l,r){var a,h,d,c,m,g,p,f,_,b;if(!t.isNullOrUndefined(i.d)&&(a=n&&n._requiresCount?i.d.results:i.d,!t.isNullOrUndefined(a)))for(_=0;_<a.length;_++)t.isNullOrUndefined(a[_].__metadata)||delete a[_].__metadata;if(h=l&&l.ejPvtData,o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return n._requiresCount?{result:[],count:0}:[];if(l&&this.options.batch&&l.url.endsWith(this.options.batch)&&"post"===l.type.toLowerCase()){if(d=(d=o.getResponseHeader("Content-Type")).substring(d.indexOf("=batchresponse")+1),(i=i.split(d)).length<2)return;for(i=i[1],g=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(g[0],""),p=g[1],_=(i=i.split(p)).length;_>-1;_--)/\bContent-ID:/i.test(i[_])&&/\bHTTP.+201/.test(i[_])&&(c=parseInt(/\bContent-ID: (\d+)/i.exec(i[_])[1]),r.added[c]&&(m=y.parseJson(/^\{.+\}/m.exec(i[_])[0]),e.extend(r.added[c],this.processResponse(m))));return r}var v=o&&o.getResponseHeader("DataServiceVersion"),S=null,w={};if(v=v&&parseInt(v,10)||2,n&&n._requiresCount&&((i.__count||i["odata.count"])&&(S=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(S=i.__count||i["odata.count"])),3===v&&i.value&&(i=i.value),i.d&&(i=i.d),v<3&&i.results&&(i=i.results),h&&h.aggregates&&h.aggregates.length){var T,x=h.aggregates,C={};for(_=0;_<x.length;_++)(T=t.aggregates[x[_].type])&&(C[x[_].field+" - "+x[_].type]=T(i,x[_].field));w=C}if(h&&h.groups&&h.groups.length)for(f=h.groups,_=0;_<f.length;_++)b=M(f[_],n.queries),i=t.group(i,f[_],h.aggregates,b);return u(S)?i:{result:i,count:S,aggregates:w}},convertToQueryString:function(e,t,i){var s,n=[],o=e.table||"";for(s in delete e.table,i.dataSource.requiresFormat&&(e.$format="json"),e)n.push(s+"="+e[s]);return n=n.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!o?n:n.length?o+"?"+n:o||""},insert:function(e,t,i){return{url:e.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(e,t,i,s){return{type:"DELETE",url:e.dataSource.url.replace(/\/*$/,s?"/"+s:"")+"("+i+")"}},update:function(e,t,i,s){return{type:"PUT",url:e.dataSource.url.replace(/\/*$/,s?"/"+s:"")+"("+i[t]+")",data:JSON.stringify(i),accept:this.options.accept}},batchRequest:function(e,i,s){var n=s.guid=t.getGuid(_),o=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch),l={url:s.url,key:s.key,cid:1,cSet:t.getGuid(f)},r="--"+n+"\n";return r+="Content-Type: multipart/mixed; boundary="+l.cSet.replace("--","")+"\n",this.pvt.changeSet=0,r+=this.generateInsertRequest(i.added,l),r+=this.generateUpdateRequest(i.changed,l),r+=this.generateDeleteRequest(i.deleted,l),r+=l.cSet+"--\n",{type:"POST",url:o,contentType:"multipart/mixed; charset=UTF-8;boundary="+n,data:r+="--"+n+"--"}},generateDeleteRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=b+"\n\n",i+="DELETE ",i+=t.url+"("+e[s][t.key]+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+g+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=v+"\n";return i+"\n"},generateInsertRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=b+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+g+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=v+"\n\n",i+=JSON.stringify(e[s])+"\n";return i},generateUpdateRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i+="\n"+t.cSet+"\n",i+=b+"\n\n",i+="PUT ",i+=t.url+"("+e[s][t.key]+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+g+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=v+"\n\n",i+=JSON.stringify(e[s])+"\n\n";return i},_p:function(e){return e.replace(/\./g,"/")}}),t.ODataV4Adaptor=(new t.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(e){return!0===e?"true":""},onPredicate:function(e,i,s){var n="",o=e.value instanceof Date;return t.data.odUniOperator.contains="contains",n=t.ODataAdaptor.prototype.onPredicate.call(this,e,i,s),t.data.odUniOperator.contains="substringof",o&&(n=n.replace(/datetime'(.*)'$/,"$1")),n},onEachSearch:function(e){var t=this.pvt.search||[];t.push(e.key),this.pvt.search=t},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(e,i){for(var s,n,o=/\/[\d*\/]*/g,l="",r=i._expands.length-1;r>0;r--)if(l.indexOf(i._expands[r])>=0)i._expands.pop();else if(o.test(i._expands[r])){for(s=(l=i._expands.pop()).replace(o,"($expand="),n=0;n<l.split(o).length-1;n++)s+=")";i._expands.unshift(s),r++}return t.ODataAdaptor.prototype.processQuery.apply(this,[e,i])},processResponse:function(i,s,n,o,l,r){var a,h,d,c,m,g,p,f,_,b,v=l&&l.ejPvtData;if(o&&o.getResponseHeader("Content-Type")&&-1!=o.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return n._requiresCount?{result:[],count:0}:[];if(l&&this.options.batch&&l.url.endsWith(this.options.batch)&&"post"===l.type.toLowerCase()){if(a=(a=o.getResponseHeader("Content-Type")).substring(a.indexOf("=batchresponse")+1),(i=i.split(a)).length<2)return;for(i=i[1],c=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(c[0],""),m=c[1],_=(i=i.split(m)).length;_>-1;_--)/\bContent-ID:/i.test(i[_])&&/\bHTTP.+201/.test(i[_])&&(h=parseInt(/\bContent-ID: (\d+)/i.exec(i[_])[1]),r.added[h]&&(d=y.parseJson(/^\{.+\}/m.exec(i[_])[0]),e.extend(r.added[h],this.processResponse(d))));return r}if(g=null,p={},n&&n._requiresCount&&"@odata.count"in i&&(g=i["@odata.count"]),i=t.isNullOrUndefined(i.value)?i:i.value,v&&v.aggregates&&v.aggregates.length){var S,w=v.aggregates,T={};for(_=0;_<w.length;_++)(S=t.aggregates[w[_].type])&&(T[w[_].field+" - "+w[_].type]=S(i,w[_].field));p=T}if(v&&v.groups&&v.groups.length)for(f=v.groups,_=0;_<f.length;_++)b=M(f[_],n.queries),i=t.group(i,f[_],v.aggregates,b);return u(g)?i:{result:i,count:g,aggregates:p}}}),t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(e,t){for(var i,n,o=e.dataSource.json.slice(0),l=o.length,r=!0,a={},h=0;h<t.queries.length;h++)i=this[(n=t.queries[h]).fn].call(this,o,n.e,t),"onAggregates"==n.fn?a[n.e.field+" - "+n.e.type]=i:o=i!==s?i:o,("onPage"===n.fn||"onSkip"===n.fn||"onTake"===n.fn||"onRange"===n.fn)&&(r=!1),r&&(l=o.length);return t._requiresCount&&(o={result:o,count:l,aggregates:a}),o},batchRequest:function(e,t,i){for(var s=0;s<t.added.length;s++)this.insert(e,t.added[s]);for(s=0;s<t.changed.length;s++)this.update(e,i.key,t.changed[s]);for(s=0;s<t.deleted.length;s++)this.remove(e,i.key,t.deleted[s]);return t},onWhere:function(e,t){return e?e.filter(function(e){return t.validate(e)}):e},onAggregates:function(e,i){var s=t.aggregates[i.type];return e&&s&&0!=e.length?s(e,i.field):null},onSearch:function(e,i){return e&&e.length?(0===i.fieldNames.length&&t.pvt.getFieldList(e[0],i.fieldNames),e.filter(function(e){for(var s=0;s<i.fieldNames.length;s++)if(i.comparer.call(e,t.pvt.getObject(i.fieldNames[s],e),i.searchKey,i.ignoreCase))return!0;return!1})):e},onSortBy:function(e,i,s){var o,l,r;if(!e)return e;if(!(l=n(i.fieldName,s)))return e.sort(i.comparer);if(l instanceof Array){for(r=(l=l.slice(0)).length-1;r>=0;r--)l[r]&&(o=i.comparer,l[r].endsWith(" desc")&&(o=t.pvt.fnSort(t.sortOrder.Descending),l[r]=l[r].replace(" desc","")),e=k(e,l[r],o,[]));return e}return k(e,l,i.comparer,s?s.queries:[])},onGroup:function(e,i,s){var o,l,r,a,h;if(!e)return e;if(l=[],(o=S(s.queries,"onAggregates")).length)for(a=0;a<o.length;a++)r=o[a].e,l.push({type:r.type,field:n(r.field,s)});return h=M(i.fieldName,s.queries),t.group(e,n(i.fieldName,s),l,h)},onPage:function(e,t,i){var s=n(t.pageSize,i),o=(n(t.pageIndex,i)-1)*s,l=o+s;return e?e.slice(o,l):e},onRange:function(e,t){return e?e.slice(n(t.start),n(t.end)):e},onTake:function(e,t){return e?e.slice(0,n(t.nos)):e},onSkip:function(e,t){return e?e.slice(n(t.nos)):e},onSelect:function(e,i){return e?t.select(e,n(i.fieldNames)):e},insert:function(e,t){return e.dataSource.json.push(t)},remove:function(e,i,s){var n,o=e.dataSource.json;for("object"==typeof s&&(s=t.getObject(i,s)),n=0;n<o.length&&t.getObject(i,o[n])!==s;n++);return n!==o.length?o.splice(n,1):null},update:function(i,s,n){for(var o=i.dataSource.json,l=t.getObject(s,n),r=0;r<o.length&&t.getObject(s,o[r])!==l;r++);return r<o.length?e.extend(o[r],n):null}}),t.ForeignKeyAdaptor=function(i,n){var o=(new t[n||"JsonAdaptor"]).extend({init:function(){var e,s;for(this.foreignData=[],this.key=[],this.adaptorType=n,this.value=[],this.fValue=[],this.keyField=[],e=i,s=0;s<e.length;s++)this.foreignData[s]=e[s].dataSource,this.key[s]=e[s].foreignKeyField,this.fValue[s]=t.isNullOrUndefined(e[s].field)?e[s].foreignKeyValue:e[s].field+"_"+e[s].foreignKeyValue,this.value[s]=e[s].foreignKeyValue,this.keyField[s]=e[s].field||e[s].foreignKeyField,this.initial=!0},processQuery:function(e,i){var s,n,o,l=e.dataSource.json;if(this.initial){for(s=0;s<l.length;s++)for(n=this,o=0;o<this.foreignData.length;o++)this.foreignData[o].filter(function(e){t.getObject(n.key[o],e)==t.getObject(n.keyField[o],l[s])&&(l[s][n.fValue[o]]=t.getObject(n.value[o],e))});this.initial=!1}return this.base.processQuery.apply(this,[e,i])},setValue:function(i){for(var n,o,l,r=0;r<this.foreignData.length;r++)n=this,"string"!=typeof(o=i[this.fValue[r]])||isNaN(o)||(o=t.parseFloat(o)),l=e.grep(n.foreignData[r],function(e){return e[n.value[r]]==o})[0],t.isNullOrUndefined(l)&&(l=e.grep(n.foreignData[r],function(e){return e[n.key[r]]==o})[0],t.getObject(this.value[r],l)!=s&&t.createObject(n.value[r],t.getObject(this.value[r],l),i)),t.getObject(this.value[r],l)!=s&&t.createObject(this.keyField[r],t.getObject(this.key[r],l),i)},insert:function(e,t,i){return this.setValue(t),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},update:function(e,i,s,n){return this.setValue(s),t.JsonAdaptor.prototype.update(e,i,s,n),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:s,action:"update",keyColumn:i,key:s[i],table:n})}}});return e.extend(this,new o),this},t.remoteSaveAdaptor=(new t.JsonAdaptor).extend({beforeSend:t.UrlAdaptor.prototype.beforeSend,insert:t.UrlAdaptor.prototype.insert,update:t.UrlAdaptor.prototype.update,remove:t.UrlAdaptor.prototype.remove,addParams:t.UrlAdaptor.prototype.addParams,batchRequest:function(e,i,s){for(var n=0;n<i.added.length;n++)t.JsonAdaptor.prototype.insert(e,i.added[n]);for(n=0;n<i.changed.length;n++)t.JsonAdaptor.prototype.update(e,s.key,i.changed[n]);for(n=0;n<i.deleted.length;n++)t.JsonAdaptor.prototype.remove(e,s.key,i.deleted[n]);return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:i.changed,added:i.added,deleted:i.deleted,action:"batch",table:s.url,key:s.key})}}}),t.WebApiAdaptor=(new t.ODataAdaptor).extend({insert:function(e,t){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(e,t,i){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},processResponse:function(e,i,s,n,o){var l,r,a,h=o&&o.ejPvtData;if(o&&"post"!=o.type.toLowerCase()){var d=n&&n.getResponseHeader("DataServiceVersion"),c=null,m={};if(d=d&&parseInt(d,10)||2,s&&s._requiresCount&&(u(e.Count)||(c=e.Count)),d<3&&e.Items&&(e=e.Items),h&&h.aggregates&&h.aggregates.length){var g,p=h.aggregates,f={};for(r=0;r<p.length;r++)(g=t.aggregates[p[r].type])&&(f[p[r].field+" - "+p[r].type]=g(e,p[r].field));m=f}if(h&&h.groups&&h.groups.length)for(l=h.groups,r=0;r<l.length;r++)a=M(l[r],s.queries),e=t.group(e,l[r],h.aggregates,a);return u(c)?e:{result:e,count:c,aggregates:m}}}}),n=function(e,t){return"function"==typeof e?e.call(t||{}):e},t.TableModel=function(i,s,n,o){var l,r,a,h;if(!A(this,t.TableModel))return new t.TableModel(s);for(A(s,Array)||c("ej.TableModel - Json Array is required"),l=[],a=d(D,this),h=0;h<s.length;h++)(r=new t.Model(s[h],this)).state="unchanged",r.on("stateChange",a),o&&r.computes(o),l.push(r);return this.name=i||"table1",this.rows=t.NotifierArray(l),this._deleted=[],this._events=e({}),this.dataManager=n,this._isDirty=!1,this},t.TableModel.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},setDataManager:function(e){this.dataManagar=e},saveChanges:function(){if(this.dataManager&&A(this.dataManager,t.DataManager)||c("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var e=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);e.done(d(function(e){for(var t=this.toArray(),i=0;i<t.length;i++)"added"===t.state&&t.set(this.key,e.added.filter(function(e){return e[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this)),e.fail(d(function(e){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:e})},this)),this._isDirty=!1}},rejectChanges:function(){for(var e=this.toArray(),t=0;t<e.length;t++)e[t].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(e){var i=new t.Model(e);i._isDirty=this._isDirty=!0,this.rows.push(i),this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(e){var t;this.key||c("TableModel - update : Primary key should be assigned to TableModel.key");var i,s=e,n=this.key,o=s[n];for(t in i=this.rows.array.filter(function(e){return e.get(n)===o}),i=i[0],s)i.set(t,s[t]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:i,table:this})},remove:function(e){var t,i,n,o;for(this.key||c("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,e&&"object"==typeof e&&(e=e[t]!==s?e[t]:e.get(t)),o=0;o<this.rows.length();o++)if(this.rows.array[o].get(t)===e){i=o;break}i>-1&&((n=this.rows.removeAt(i)).markDelete(),this._deleted.push({model:n,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:n,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var e={added:[],changed:[]},i=this.toArray(),s=0;s<i.length;s++)e[i[s].state]&&e[i[s].state].push(i[s].json);return e.deleted=t.select(this._deleted,["model"]),e},toArray:function(){return this.rows.toArray()},setDirty:function(e,t){this._isDirty!==!!e&&(this._isDirty=!!e,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(e){return this.rows.array[e]},length:function(){return this.rows.array.length},bindTo:function(t){var i,s,n=o,r=e(t.html()),a=this.toArray();for(e.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(n=l),n.insertBefore(t),t.detach().empty(),s=0;s<a.length;s++)i=r.clone(),a[s].bindTo(i),t.append(i);t.insertAfter(n),n.remove()}},o=i?e(document.createElement("div")):{},l=i?e(document.createElement("tr")):{},t.Model=function(i,s,n){"string"==typeof s&&(n=s,s=null),this.$id=W("m"),this.json=i,this.table=s instanceof t.TableModel?s:null,this.name=n||this.table&&this.table.name,this.dataManager=s instanceof t.DataManager?s:s.dataManagar,this.actual={},this._events=e({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},t.Model.prototype={computes:function(t){e.extend(this.computed,t)},on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},set:function(e,t){var i,n,o=this.json,l=e;for(e=e.split("."),n=0;n<e.length-1;n++)o=o[(e=e[0])[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),i=o[e],this.actual[e]!==s||e in this.actual||(this.actual[e]=t),o[e]=t,this._updateValues(e,t),this._events.triggerHandler({type:l,current:t,previous:i,model:this})},get:function(e){return t.pvt.getObject(e,this.json)},revert:function(e){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,e?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,s){return i=i||this.dataManagar,s=s||i.dataSource.key,i||c("ej.Model - DataManager is required to commit the changes"),"added"===this.state?i.insert(this.json,this.name).done(t.proxy(function(t){e.extend(this.json,t.record)},this)):"changed"===this.state?i.update(s,this.json,this.name):"deleted"===this.state?i.remove(s,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if("added"===this.state){if("deleted"!==t)return;t="unchanged"}var s=t;i=i||{},this.state=t,this._events.triggerHandler(e.extend({type:"stateChange",current:t,previous:s,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var e in this.json)this._props.push(e),this._updates[e]={read:[],input:[]};return this._props},bindTo:function(t){var i,s,n,o,l=e(t),r=l.find("[ej-observe], [ej-computed], [ej-prop]"),a=r.length;for(l.data("ejModel",this),n={fields:[],props:[],computes:[]},o=0;o<a;o++)(s=(i=r.eq(o)).attr("ej-prop"))&&this._processAttrib(s,i,n),(s=i.attr("ej-observe"))&&-1!==this._props.indexOf(s)?this._processField(i,s,n):(s=i.attr("ej-computed"))&&this._processComputed(s,i,n);l.data("ejModelBinding"+this.$id,n)},unbind:function(t){var i,s,n,o,l,r,a,h={props:this._attrEls,computes:this._computeEls},d=!1;for(s in t&&(h=e(t).removeData("ejModel").data("ejModelBinding"+this.$id)||h,d=!0),this.computed)i=h.computes[s],s=this.computed[s],i&&s.deps&&(this.off(s.deps.join(" "),i.handle),d&&delete this._computeEls[s]);for(s in d||(this._computeEls={}),h.props)(i=h.props[s])&&(this.off(i.deps.join(" "),i.handle),delete h.props[s],d&&delete this._attrEls[s]);if(d||(this._attrEls={}),h.fields&&h.fields.length)for(n=h.fields.length,a=0;a<n;a++)o=h.fields[a],e(o).off("change",null,this._changeHandler),r=-1!==this.formElements.indexOf(o.tagName.toLowerCase())?"input":"read",-1!==(l=this._updates[r].indexOf(o))&&this._updates[r].splice(l,1)},_processComputed:function(e,t,i){if(e){var s,n,o=C(e),l=-1!==this.formElements.indexOf(t[0].tagName.toLowerCase())?"val":"html";this.computed[e]&&this.computed[o]||(this.computed[o]={value:new Function("var e = this; return "+e),deps:this._generateDeps(e)},e=o),(s=this.computed[e]).get||(s.get=function(){s.value.call(this.json)}),n=s.deps,s=s.value,this._updateDeps(n),this._updateElement(t,l,s),s={el:t,handle:d(this._computeHandle,this,{value:e,type:l})},this._computeEls[e]=s,i.computes[e]=s,this.on(n.join(" "),s.handle)}},_computeHandle:function(e){var t=this._computeEls[e.value];t&&this.computed[e.value]&&this._updateElement(t.el,e.type,this.computed[e.value].value)},_updateElement:function(t,i,s){t[i](s.call(e.extend({},this.json,this.computed)))},_updateDeps:function(e){for(var i=0;i<e.length;i++)!(e[i]in this.json)&&e[i]in this.computed&&t.merge(e,this.computed[e[i]].deps)},_generateDeps:function(e){for(var t,i=e.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),s=[],n=0;n<i.length;n++)i[n].startsWith("#ej.#")&&((t=i[n].replace("#ej.#","").split(" ")[0])&&-1!==this._props.indexOf(t)&&s.push(t));return s},_processAttrib:function(e,t,i){var s,n,o,l,r={};for(e=e.replace(/^ +| +$/g,"").split(";"),o=0;o<e.length;o++)e[o]=e[o].split(":"),e[o].length<2||(r[s=e[o][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,"")]=e[o][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));for(s in l=[],e=r)l.push(e[s]);this._updateDeps(l),this._updateProps(t,e),r=W("emak"),n={el:t,handle:d(this._attrHandle,this,r),value:e,deps:l},t.prop("ejmodelattrkey",r),i.props[r]=n,this._attrEls[r]=n,this.on(l.join(" "),n.handle)},_attrHandle:function(e){var t=this._attrEls[e];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var s,n=this.json,o=this.computed;for(var l in i)(s=i[l])in n?s=n[s]:s in o&&((s=o[s])&&(s=s.value.call(e.extend({},this.json,o)))),u(s)||t.prop(l,s)},_updateValues:function(e,t){var i=this._updates[e];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,s){if(t)for(var n=t.length-1;n>-1;n--)t[n].offsetParent?e(t[n])[i](s):t.splice(n,1)},_changeHandler:function(t){t.data.self.set(t.data.prop,e(this).val())},_processField:function(e,t,i){var s={self:this,prop:t},n=this.get(t);return i.fields.push(e[0]),-1===this.formElements.indexOf(e[0].tagName.toLowerCase())?(e.html(n),this._updates[t].read.push(e[0])):(e.val(n).off("change",null,this._changeHandler).on("change",null,s,this._changeHandler),this._updates[t].input.push(e[0]))},formElements:["input","select","textarea"]};var x=/[^\w]+/g,C=function(e){return e.replace(x,"_")},D=function(e){this.setDirty(!0,e.model)};if(t.Predicate=function(e,i,s,n){return this instanceof t.Predicate?("string"==typeof e?(this.field=e,this.operator=i,this.value=s,this.ignoreCase=n,this.isComplex=!1,this._comparer=t.data.fnOperators.processOperator(this.operator)):(e instanceof t.Predicate&&s instanceof t.Predicate||s instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[e],s instanceof Array?[].push.apply(this.predicates,s):this.predicates.push(s)),this):new t.Predicate(e,i,s,n)},t.Predicate.and=function(){return r._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return r._combinePredicates([].slice.call(arguments,0),"or")},t.Predicate.fromJSON=function(e){var t,i,s;if(A(e,Array)){for(t=[],i=0,s=e.length;i<s;i++)t.push(r._fromJSON(e[i]));return t}return r._fromJSON(e)},r={_combinePredicates:function(e,i){if(!e.length)return s;if(1===e.length){if(!A(e[0],Array))return e[0];e=e[0]}return new t.Predicate(e[0],i,e.slice(1))},_combine:function(e,i,s,n,o,l){return i instanceof t.Predicate?t.Predicate[o](e,i):"string"==typeof i?t.Predicate[o](e,new t.Predicate(i,s,n,l)):c("Predicate - "+o+" : invalid arguments")},_fromJSON:function(e){var i;if(!e||A(e,t.Predicate))return e;var s=e.predicates||[],n=s.length,o=[];for(i=0;i<n;i++)o.push(r._fromJSON(s[i]));return e.isComplex?new t.Predicate(o[0],e.condition,o.slice(1)):new t.Predicate(e.field,e.operator,t.parseJSON({val:e.value}).val,e.ignoreCase)}},t.Predicate.prototype={and:function(e,t,i,s){return r._combine(this,e,t,i,"and",s)},or:function(e,t,i,s){return r._combine(this,e,t,i,"or",s)},validate:function(e){var i,s,n,o=this.predicates;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,e),this.value,this.ignoreCase);for(i="and"===this.condition,n=0;n<o.length;n++)if(s=o[n].validate(e),i){if(!s)return!1}else if(s)return!0;return i},toJSON:function(){var e,t,i;if(this.isComplex)for(e=[],t=this.predicates,i=0;i<t.length;i++)e.push(t[i].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,condition:this.condition,predicates:e}}},t.dataUtil={swap:function(e,t,i){if(t!=i){var s=e[t];e[t]=e[i],e[i]=s}},mergeSort:function(e,i,s){return s&&"string"!=typeof s||(s=t.pvt.fnSort(s,!0)),"function"==typeof i&&(s=i,i=null),t.pvt.mergeSort(e,i,s)},max:function(e,i,s){return"function"==typeof i&&(s=i,i=null),t.pvt.getItemFromComparer(e,i,s||t.pvt.fnDescending)},min:function(e,i,s){return"function"==typeof i&&(s=i,i=null),t.pvt.getItemFromComparer(e,i,s||t.pvt.fnAscending)},distinct:function(e,t,i){for(var s,n=[],o={},l=0;l<e.length;l++)(s=P(e,t,l))in o||(n.push(i?e[l]:s),o[s]=1);return n},sum:function(e,t){for(var i,s=0,n="number"!=typeof P(e,t,0),o=0;o<e.length;o++)i=P(e,t,o),isNaN(i)||null===i||(n&&(i=+i),s+=i);return s},avg:function(e,i){return t.sum(e,i)/e.length},select:function(e,i){for(var s=[],n=0;n<e.length;n++)s.push(t.pvt.extractFields(e[n],i));return s},group:function(i,s,n,o,l,r){var a,h,d,u,c,m,g,p,f,_;if(l=l||1,i.GROUPGUID==t.pvt.consts.GROUPGUID){for(f=0;f<i.length;f++)t.isNullOrUndefined(r)?(i[f].items=t.group(i[f].items,s,n,o,i.level+1),i[f].count=i[f].items.length):(-1,_=e.grep(r,function(e){return e.key==i[f].key}),a=r.indexOf(_[0]),i[f].items=t.group(i[f].items,s,n,o,i.level+1,r[a].items),i[f].count=r[a].count);return i.childLevels+=1,i}for(h={},(d=[]).GROUPGUID=t.pvt.consts.GROUPGUID,d.level=l,d.childLevels=0,d.records=i,m=0;m<i.length;m++)u=P(i,s,m),t.isNullOrUndefined(o)||(u=o(u,s)),h[u]||(h[u]={key:u,count:0,items:[],aggregates:{},field:s},d.push(h[u]),t.isNullOrUndefined(r)||(c=e.grep(r,function(e){return e.key==h[u].key}),h[u].count=c[0].count)),h[u].count=t.isNullOrUndefined(r)?h[u].count+=1:h[u].count,h[u].items.push(i[m]);if(n&&n.length)for(m=0;m<d.length;m++){for(g={},f=0;f<n.length;f++)p=t.aggregates[n[f].type],t.isNullOrUndefined(r)?p&&(g[n[f].field+" - "+n[f].type]=p(d[m].items,n[f].field)):(_=e.grep(r,function(e){return e.key==d[m].key}),p&&(g[n[f].field+" - "+n[f].type]=p(_[0].items,n[f].field)));d[m].aggregates=g}return d},parseTable:function(i,s,n){var o,l,r,a,h,d,u,c=i.rows,m=[],g=[];if(!c.length)return[];switch(n=n||0,(s||"").toLowerCase()){case t.headerOption.tHead:o=i.tHead.rows[n];break;case t.headerOption.row:default:o=i.rows[n]}for(r=o.cells,l=0;l<r.length;l++)m.push(e.trim(r[l].innerHTML));for(l=n+1;l<c.length;l++){for(a={},h=c[l].cells,d=0;d<h.length;d++)u=h[d].innerHTML,a[m[d]]="string"==typeof u&&e.isNumeric(u)?Number(u):u;g.push(a)}return g}},t.headerOption={tHead:"thead",row:"row"},t.aggregates={sum:function(e,i){return t.sum(e,i)},average:function(e,i){return t.avg(e,i)},minimum:function(e,i){return t.getObject(i,t.min(e,i))},maximum:function(e,i){return t.getObject(i,t.max(e,i))},truecount:function(e,i){var s=t.Predicate(i,"equal",!0);return t.DataManager(e).executeLocal(t.Query().where(s)).length},falsecount:function(e,i){var s=t.Predicate(i,"equal",!1);return t.DataManager(e).executeLocal(t.Query().where(s)).length},count:function(e){return e.length}},t.pvt={filterQueries:S,mergeSort:function(e,i,s){if(e.length<=1)return e;var n=parseInt(e.length/2,10),o=e.slice(0,n),l=e.slice(n);return o=t.pvt.mergeSort(o,i,s),l=t.pvt.mergeSort(l,i,s),t.pvt.merge(o,l,i,s)},getItemFromComparer:function(e,i,s){var n,o,l,r=0,a="string"==typeof P(e,i,0);if(e.length)for(;t.isNullOrUndefined(n)&&r<e.length;)n=P(e,i,r),l=e[r++];for(;r<e.length;r++)o=P(e,i,r),t.isNullOrUndefined(o)||(a&&(n=+n,o=+o),s(n,o)>0&&(n=o,l=e[r]));return l},quickSelect:function(e,i,s,n,o,l){if(s==n)return e[s];var r=t.pvt.partition(e,i,s,n,l),a=r-s+1;return a==o?e[r]:o<a?t.pvt.quickSelect(e,i,s,r-1,o,l):t.pvt.quickSelect(e,i,r+1,n,o-a,l)},extractFields:function(e,i){var s,n={};if(1==i.length)return t.pvt.getObject(i[0],e);for(s=0;s<i.length;s++)n[i[s].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[s],e);return n},partition:function(e,i,s,n,o){var l,r=parseInt((s+n)/2,10),a=P(e,i,r);for(t.swap(e,r,n),r=s,l=s;l<n;l++)o(P(e,i,l),a)&&(t.swap(e,l,r),r++);return t.swap(e,r,n),r},fnSort:function(e){return(e=e?e.toLowerCase():t.sortOrder.Ascending)==t.sortOrder.Ascending?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(e,i){return function(s,n){return i(t.pvt.getObject(e,s),t.pvt.getObject(e,n))}},fnAscending:function(e,t){return null===t||t===s?-1:"string"==typeof e?e.localeCompare(t):null===e||e===s?1:e-t},fnDescending:function(e,t){return null===t||t===s?1:"string"==typeof e?-1*e.localeCompare(t):null===e||e===s?-1:t-e},merge:function(e,t,i,s){for(var n,o=[];e.length>0||t.length>0;)n=e.length>0&&t.length>0?s?s(P(e,i,0),P(t,i,0))<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,o.push(n.shift());return o},getObject:function(e,t){var i,n,o;if(!t)return s;if(!e)return t;if(-1===e.indexOf("."))return t[e];for(i=t,n=e.split("."),o=0;o<n.length&&null!=i;o++)i=i[n[o]];return i},createObject:function(e,t,i){for(var n=e.split("."),o=i||window,l=o,r=0;r<n.length;r++)r+1==n.length?l[n[r]]=t===s?{}:t:null==l[n[r]]&&(l[n[r]]={}),l=l[n[r]];return o},getFieldList:function(e,i,n){if(n===s&&(n=""),i===s||null===i)return t.pvt.getFieldList(e,[],n);for(var o in e)"object"!=typeof e[o]||e[o]instanceof Array?i.push(n+o):t.pvt.getFieldList(e[o],i,n+o+".");return i}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.data.fnOperators={equal:function(e,t,i){return i?E(e)==E(t):e==t},notequal:function(e,i,s){return!t.data.fnOperators.equal(e,i,s)},lessthan:function(e,t,i){return i?E(e)<E(t):e<t},greaterthan:function(e,t,i){return i?E(e)>E(t):e>t},lessthanorequal:function(e,t,i){return i?E(e)<=E(t):e<=t},greaterthanorequal:function(e,t,i){return i?E(e)>=E(t):e>=t},contains:function(e,t,i){return i?!u(e)&&!u(t)&&-1!=E(e).indexOf(E(t)):!u(e)&&!u(t)&&-1!=e.toString().indexOf(t)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(e,t,i){return i?e&&t&&E(e).startsWith(E(t)):e&&t&&e.startsWith(t)},endswith:function(e,t,i){return i?e&&t&&E(e).endsWith(E(t)):e&&t&&e.endsWith(t)},processSymbols:function(e){var i,s=t.data.operatorSymbols[e];return s&&(i=t.data.fnOperators[s])?i:c("Query - Process Operator : Invalid operator")},processOperator:function(e){var i=t.data.fnOperators[e];return i||t.data.fnOperators.processSymbols(e)}},t.NotifierArray=function(i){return A(this,t.NotifierArray)?(this.array=i,this._events=e({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},push:function(e){var t;return t=A(e,Array)?[].push.apply(this.array,e):this.array.push(e),this._raise("add",{item:e,index:this.length()-1}),t},pop:function(){var e=this.array.pop();return this._raise("remove",{item:e,index:this.length()-1}),e},addAt:function(e,t){return this.array.splice(e,0,t),this._raise("add",{item:t,index:e}),t},removeAt:function(e){var t=this.array.splice(e,1)[0];return this._raise("remove",{item:t,index:e}),t},remove:function(e){var t=this.array.indexOf(e);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:e,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(e.extend({type:t},i)),this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},e.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=0,s=this.length;i<s;++i)e.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(e){var t,i,s,n;if("function"!=typeof e)throw new TypeError;for(t=[],i=arguments[1]||this,s=0;s<this.length;s++)n=this[s],e.call(i,n,s,this)&&t.push(n);return t},String.prototype.endsWith=String.prototype.endsWith||function(e){return this.slice(-e.length)===e},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},t.support||(t.support={}),t.support.stableSort=function(){for(var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(function(){return 0}),t=0;t<17;t++)if(t!==e[t])return!1;return!0}(),t.support.cors=e.support.cors,!e.support.cors&&window.XDomainRequest){var O=/^https?:\/\//i,I=/^get|post$/i,j=new RegExp("^"+location.protocol,"i"),L=/\/xml/i;e.ajaxTransport("text html xml json",function(e,t){if(e.crossDomain&&e.async&&I.test(e.type)&&O.test(t.url)&&j.test(t.url)){var i=null,n=(t.dataType||"").toLowerCase();return{send:function(o,l){i=new XDomainRequest,/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout),i.ontimeout=function(){l(500,"timeout")},i.onload=function(){var e,t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,o={code:200,message:"success"},r={text:i.responseText};try{if("json"===n)try{r.json=JSON.parse(i.responseText)}catch(e){o.code=500,o.message="parseerror"}else if("xml"===n||"text"!==n&&L.test(i.contentType)){(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1;try{e.loadXML(i.responseText)}catch(t){e=s}if(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)throw o.code=500,o.message="parseerror","Invalid XML: "+i.responseText;r.xml=e}}catch(e){throw e}finally{l(o.code,o.message,r,t)}},i.onerror=function(){l(500,"error",{text:i.responseText})},-1!=navigator.userAgent.indexOf("MSIE 9.0")&&(i.onprogress=function(){}),i.open(e.type,e.url),i.send(t.data)},abort:function(){i&&i.abort()}}}})}e.support.cors=!0,t.sortOrder={Ascending:"ascending",Descending:"descending"},t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"},a=function(e,t){t&&(e=d(e,t)),(window.setImmediate||window.setTimeout)(e,0)},t.support.enableLocalizedSort=!1;var k=function(e,i,s,n){return t.support.stableSort?t.support.enableLocalizedSort||"string"!=typeof t.pvt.getObject(i,e[0]||{})||s!==t.pvt.fnAscending&&s!==t.pvt.fnDescending||1!==n.filter(function(e){return"onSortBy"===e.fn}).length?e.sort(t.pvt.fnGetComparer(i,s)):N(e,i,s===t.pvt.fnDescending):t.mergeSort(e,i,s)},M=function(i,s){for(var n=e.grep(s,function(e){return"onGroup"==e.fn}),o=0;o<n.length;o++)if(t.getObject("fieldName",n[o].e)==i)return t.getObject("fn",n[o].e)},N=function(e,i,s){var n=Object.prototype.toString;Object.prototype.toString=-1===i.indexOf(".")?function(){return this[i]}:function(){return t.pvt.getObject(i,this)},e=e.sort(),Object.prototype.toString=n,s&&e.reverse()},E=function(e){return e?e.toLowerCase?e.toLowerCase():e.toString().toLowerCase():0===e||!1===e?e.toString():""},P=function(e,i,s){return i?t.pvt.getObject(i,e[s]):e[s]},H=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&1===e.nodeType&&"object"==typeof e&&"string"==typeof e.nodeName},A=function(e,t){return e instanceof t},R=function(e,i,s,n){return function(o){return"object"==typeof o&&(n=o,o=null),new t.TableModel(o||e,i,s,n)}},z=function(t){return function(i,s){var n,o,l,r,a;for((s=s||window.ko)||c("Knockout is undefined"),o=[],a=0;a<t.length;a++){for(l in n={},t[a])l.startsWith("_")||(n[l]=s.observable(t[a][l]));for(l in i)r=i[l],e.isPlainObject(r)?(r.owner||(r.owner=n),r=s.computed(r)):r=s.computed(r,n),n[l]=r;o.push(n)}return s.observableArray(o)}},U=0,W=function(e){return e+(U+=1)};t.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(e,i){if("crypto"in window&&"getRandomValues"in crypto){var s=new Uint8Array(1);window.crypto.getRandomValues(s),t=s[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===i?3&t|8:t]})},h=function(e,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),e.apply(t||this,i)}},d=function(e,t,i){return"bind"in e?i?e.bind(t,i):e.bind(t):function(){var s=i?[i]:[];return s.push.apply(s,arguments),e.apply(t||this,s)}},t.merge=function(e,t){e&&t&&Array.prototype.push.apply(e,t)},u=function(e){return e===s||null===e},c=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}}}(window.jQuery,window.Syncfusion,window.document)}),
/*!
*  filename: ej.scroller.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){(function(e,t,i,s){"use strict";t.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:t.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content="horizontal"===this.model.orientation?this.element.find(".e-hhandle"):this.element.find(".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal?this.element.addClass("e-hscrollbar"):this.element.addClass("e-vscrollbar"),(0!==this.value()||0!==this.model.minimum)&&(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){e.fn.jquery;this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(e){for(var t in e){if("value"!==t){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(t,i,s,n){var o,l={};e.fn.jquery;return l.dimension=t,l.xy=i,l.position=s,l.css=n,l.uDimension=t,this._calculateLayout(l),this._createLayout(l),o=this[l.main].find(".e-button"),this._off(o,"mousedown")._on(o,"mousedown",{d:l,step:1},this._spaceMouseDown),this._off(this[l.scroll],"mousedown")._on(this[l.scroll],"mousedown",{d:l},this._spaceMouseDown),this._off(this[l.handler],"mousedown touchstart")._on(this[l.handler],"mousedown touchstart",{d:l},this._mouseDown),l},_createLayout:function(i){var s,n="<div class='"+i.css+"{0}' style='"+i.dimension+":{1}px'>{2}</div>",o=e.fn.jquery,l={};l[i.dimension]=i.modelDim,s=t.buildTag("div."+i.css+"scroll e-box",String.format(n,"up e-chevron-up_01 e-icon e-box e-button",i.buttonSize)+String.format(n,"handlespace",i.handleSpace,String.format(n,"handle e-box e-pinch",i.handle))+String.format(n,"down e-chevron-down_01 e-icon e-box e-button",i.buttonSize),l),this.element.append(s),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),"1.7.1"===o||"1.7.2"===o?i.uDimension.toLowerCase():i.uDimension,this[i.handler]=this.element.find("."+i.handler),this[i.handler].css("transition","none"),this[i.scroll]=this[i.handler].parent(),this[i.main]=this[i.scroll].parent(),this[i.main].find(".e-button")["outer"+i.uDimension](i.buttonSize)},_calculateLayout:function(e){var i,n;e.scrollDim="scroll"+e.dimension,e.lPosition=e.position.toLowerCase(),e.clientXy="page"+e.xy,e.scrollVal="scroll"+e.position,e.scrollOneStepBy=this.model.smallChange,e.modelDim=this.model[e.dimension=e.dimension.toLowerCase()],e.handler=e.css+"handle",e.buttonSize=this.model.buttonSize,e.main=e.css+"scroll",e.scroll=e.css+"ScrollSpace",e.handleSpace=e.modelDim-2*e.buttonSize,e.scrollable=this.model.maximum-this.model.minimum,i=this.model.height,"horizontal"===this.model.orientation&&(i=this.model.width),e.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(i-2*this.model.buttonSize),n=!t.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),e.handle<20&&!n&&(e.handle=20),e.onePx=e.scrollable/(e.handleSpace-e.handle),e.fromScroller=!1,e.up=!0,e.vInterval=s},_updateLayout:function(e){this.element.height(this.model.height),this.element.width(this.model.width);var t=this.element.find("."+e.css+"handle"),i=this.element.find("."+e.css+"handlespace"),n="width"==e.dimension?t.css("left"):t.css("top"),o="width"==e.dimension?i.outerWidth():i.outerHeight();n!==s&&"auto"!==n&&(o>=e.handle+parseFloat(n)||(this.model.enableRTL?t.css("width"===e.dimension?"left":"top",parseFloat(o)-e.handle):t.css("width"===e.dimension?"left":"top",parseFloat(o)-e.handle>0?parseFloat(o)-e.handle:0))),this.element.find("."+e.css+"scroll").css(e.dimension,e.modelDim+"px").find(".e-button").css(e.dimension,this.model.buttonSize).end().find("."+e.css+"handlespace").css(e.dimension,e.handleSpace+"px").find("."+e.css+"handle").css(e.dimension,e.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(e,i,s,n){var o,l,r=this._scrollData;if(!s)if(this.model.orientation===t.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollLeft:e,originalEvent:n}))return}else if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollTop:e,originalEvent:n}))return;!this._scrollData.enableRTL||"mousemove"!=n&&"touchmove"!=n||"msie"==t.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=n&&"touchmove"!=n||"msie"!=t.browserInfo().name?this.value(e):this.value(-1*e):this.value(-r.scrollable+e),this.content().length>0&&(this.model.orientation===t.ScrollBar.Orientation.Horizontal?(e=(o=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(e-this.model.minimum)/this._scrollData.onePx?o:(e-this.model.minimum)/this._scrollData.onePx,this._scrollData.enableRTL&&("mousemove"==n||"touchmove"==n)&&"msie"!=t.browserInfo().name&&((e=o-e)>0&&(e*=-1)),this._scrollData.enableRTL&&("mousemove"==n||"touchmove"==n)&&"msie"==t.browserInfo().name&&(e=-e),this._scrollData.enableRTL&&e>0&&!this._scrollData._scrollleftflag&&(e=0),this._scrollData._scrollleftflag&&(e>0&&(e*=-1),this.value(e)),this.content()[0].style.left=e+"px",this._scrollData._scrollleftflag=!1):(e=(l=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(e-this.model.minimum)/this._scrollData.onePx?l:(e-this.model.minimum)/this._scrollData.onePx,this.content()[0].style.top=e+"px"))},_changeTop:function(e,t,i){var s,n;return e.dimension,n=(s=this.value())+t,e.step=t,e.enableRTL&&t<0||t>0&&!e.enableRTL?e.enableRTL?n<-1*this.model.maximum&&(n=-1*this.model.maximum):n>this.model.maximum&&(n=this.model.maximum):e.enableRTL?n>this.model.minimum&&(n=this.model.minimum):n<this.model.minimum&&(n=this.model.minimum),(n!==s||this.model.infiniteScrolling)&&this.scroll(n,i),n!==s},_mouseUp:function(i){if(i.data){var s=i.data.d;clearInterval(s.vInterval),"touchend"==i.type&&e(i.target).removeClass("e-touch"),"mouseup"!==i.type&&"touchend"!==i.type&&(i.toElement||i.relatedTarget||i.target)||(this._prevY=this._d=this._data=null,this._off(e(document),"mousemove touchmove",this._mouseMove),e(document).off("mouseup touchend",t.proxy(this._mouseUp,this)),s.fromScroller=!1,this[s.scroll].off("mousemove"),this[s.handler].off("mousemove").css("transition",""),"thumb"!==i.data.source||t.isNullOrUndefined(this.model)||e.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:i,scrollData:s})},this))),s.up=!0}},_mouseDown:function(i){this._enabled&&(this._d=i,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(e(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),e(document).one("mouseup touchend",{d:this._data,source:"thumb"},t.proxy(this._mouseUp,this)),"touchstart"==i.type&&e(i.target).addClass("e-touch"))},_mouseCall:function(e){e.type="mouseup",this._mouseUp(e)},_mouseMove:function(i){var s,n,o=0,l=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(i.preventDefault(),t.isNullOrUndefined(i.target.tagName)){if(e(i.target).is(document))return void this._mouseCall(i)}else if("iframe"===i.target.tagName.toLowerCase())return void this._mouseCall(i);n="mousemove"==i.type?i[this._data.clientXy]:i.originalEvent.changedTouches[0][this._data.clientXy],this._prevY&&n!==this._prevY&&(o=n-this._prevY,this.model.infiniteScrolling?(l+=o,this._data.step=o,(this._data.enableRTL?l>0:l<0)&&(l=0),l*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(l=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),s=Math.ceil(l*this._data.onePx),this.scroll(s,"thumb")):(s=o*this._data.onePx,this._changeTop(this._data,s,"thumb",this._d)),this._trigger("thumbMove",{originalEvent:i,scrollData:this._data})),this._prevY=n},_spaceMouseDown:function(i){var s,n,o;i.data&&this._enabled&&(s=i.data.d,1===i.which&&i.target!==this[s.handler][0])&&(n=i.data.step?this.model.smallChange:this.model.largeChange,o=i.data.top||this[s.handler].offset()[s.lPosition],i[s.clientXy]=i[s.clientXy]||0,i[s.clientXy]<o&&(n*=-1),s.target=i.target,this._changeTop(s,n,3===n?"track":"button",i),1!==i.data.step&&this[s.scroll].mousemove(function(){s.up=!0}),s.up=!1,s.vInterval=setInterval(t.proxy(function(){(n<0?o+n/s.onePx<i[s.clientXy]:o+s.handle+n/s.onePx>i[s.clientXy])&&(s.up=!0),s.up?clearInterval(s.vInterval):(this._changeTop(s,n,3===n?"track":"button",i),o=i.data&&i.data.top||this[s.handler].offset()[s.lPosition])},this),150),e(document).one("mouseup",{d:s},t.proxy(this._mouseUp,this)),e(document).mouseout({d:s},t.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===t.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),t.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}})(jQuery,Syncfusion,window),function(e,t,i,s){"use strict";t.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:s,enableTouchScroll:!0,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:t.util.valueFunction("scrollTop"),scrollLeft:t.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){t.isNullOrUndefined(this.content()[0])||(this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=t.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this.model.enableRTL===s&&(this.model.enableRTL="rtl"===this.element.css("direction")),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),(this._prevScrollWidth!==this.content()[0].scrollWidth||this._prevScrollHeight!==this.content()[0].scrollHeight)&&this.refresh()),this._addActionClass()},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):e(this.content()[0]).height("")),t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):e(this.content()[0]).width(""))},_setScrollLeftValue:function(e){this.model.enableRTL&&(e="mozilla"==t.browserInfo().name?e<0?e:-1*e:!t.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==t.browserInfo().name||this._rtlScrollLeftValue>0)?e<0?this._rtlScrollLeftValue+e:this._rtlScrollLeftValue-e:Math.abs(e)),this.content().scrollLeft(e)},_ensureScrollers:function(){var s,n,o,l,r,a=e.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),this.content().length>0&&(this.isVScroll()?(this._vScrollbar||(this._vScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Vertical,this.isHScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._hScrollbar||(this._hScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Horizontal,this.isVScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),this.element.find(".e-hscroll").length>0||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),"1.7.1"===a||"1.7.2"===a?(s="height",n="width"):(s="outerHeight",n="outerWidth"),l=(o=this._exactElementDimension(this.element)).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[s](l-(this._hScroll&&!this.model.autoHide?this.model.scrollerSize:0)),r=o.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[n](r-(this._vScroll&&!this.model.autoHide?this.model.scrollerSize:0)),isNaN(this._eleWidth)&&this._eleWidth.indexOf("%")>0&&isNaN(this._eleHeight)&&this._eleHeight.indexOf("%")>0&&e(i).on("resize",e.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=e(this.element).parent().height(),this._parentWidth=e(this.element).parent().width())},_convertPercentageToPixel:function(e,t){return Math.floor(e*t/100)},isHScroll:function(){if(t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")){if(this.model.width>0){var i=this.content().find(this.model.targetPane);return null!=this.model.targetPane&&i.length?i[0].scrollWidth+i.siblings().width()>this.model.width:this.content()[0].scrollWidth>this.model.width||this.content()[0].scrollWidth==this.model.width&&e(this.content()[0]).find("> *").length>0&&e(this.content()[0]).find("> *")[0].scrollWidth>this.model.width}return!1}return this.content()[0].scrollWidth>this.element.width()},isVScroll:function(){return t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(this.model.height>0&&(this.content()[0].scrollHeight>this.model.height||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(e){for(var i in e)if("enableRTL"===i)e[i]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));else if("scrollLeft"===i)(parseFloat(e[i])<0||!this._hScroll)&&(e[i]=0),this._externalCall=!0,this._hScrollbar&&(e[i]=parseFloat(e[i])>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e[i])),this._setScrollLeftValue(parseFloat(e[i])),this.scrollLeft(e[i]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(e[i]);else if("scrollTop"===i)this._vScrollbar&&(e[i]=parseFloat(e[i])>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e[i])),(parseFloat(e[i])<0||!this._vScroll)&&(e[i]=0),this._externalCall=!0,this.content().scrollTop(parseFloat(e[i])),this.scrollTop(e[i]),this.scrollY(e[i]);else if("touchScroll"===i)this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");else if("scrollOneStepBy"===i)this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=e[i],this._vScrollbar.model.smallChange=e[i]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=e[i],this._hScrollbar.model.smallChange=e[i]);else{if("buttonSize"!==i){"height"===i&&(this._eleHeight=e[i]),"width"===i&&(this._eleWidth=e[i]),this.refresh();break}this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh()}},_createScrollbar:function(i,s){var n,o,l,r,a,h,d,u=this,c=document.createElement("div");return i===t.ScrollBar.Orientation.Vertical?(o=this.model.scrollerSize,l=n=t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(s?this.model.scrollerSize:0):this.element.height()-(s?this.model.scrollerSize:0),r=this.content()[0].scrollHeight,a=this.scrollTop()):(o=n=this.model.width-(s?this.model.scrollerSize:0),l=this.model.scrollerSize,t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(h=this.content().find(this.model.targetPane),r=null!=this.model.targetPane&&h.length?h[0].scrollWidth+h.parent().width()-h.width():this.content()[0].scrollWidth):(o=n=this.element.width()-(s?this.model.scrollerSize:0),r=this.content()[0].scrollWidth),a=this.scrollLeft()),this.element.children(".e-hscrollbar").length>0?e(this.element.children(".e-hscrollbar")).before(c):this.element.append(c),e(c).ejScrollBar({elementHeight:u._eleHeight,elementWidth:u._eleWidth,buttonSize:u.model.buttonSize,orientation:i,viewportSize:n,height:l,width:o,maximum:r-n,value:a,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:t.proxy(this._scrollChanged,this),thumbEnd:t.proxy(this._thumbEnd,this),thumbStart:t.proxy(this._thumbStart,this),thumbMove:t.proxy(this._thumbMove,this)}),d=e(c).ejScrollBar("instance"),i!==t.ScrollBar.Orientation.Vertical&&s||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:d._scrollData},this._mouseWheel),i===t.ScrollBar.Orientation.Horizontal?this._scrollXdata=d._scrollData:this._scrollYdata=d._scrollData,i===t.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(d._scrollData.enableRTL=!0),d._enabled=this.model.enabled,d},_updateScrollbar:function(i,s){var n=i===t.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;n&&(i===t.ScrollBar.Orientation.Vertical?(n.model.width=this.model.scrollerSize,n.model.height=n.model.viewportSize=this.model.height-(s?this.model.scrollerSize:0),n.model.maximum=this.content()[0].scrollHeight-n.model.viewportSize,n.model.value=this.scrollTop()):(n.model.width=n.model.viewportSize=this.model.width-(s?this.model.scrollerSize:0),n.model.height=this.model.scrollerSize,n.model.maximum=(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length>0?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-e(this.model.targetPane).outerWidth()):this.content()[0].scrollWidth)-n.model.viewportSize,this.model.enableRTL||(n.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").hide()):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_scrollChanged:function(i){this._updateScroll=!0,i.scrollTop!==s?this.scrollY(i.scrollTop,!0,"",i.source):i.scrollLeft!==s&&this.scrollX(i.scrollLeft,!0,"",i.source),this._updateScroll=!1;var n=this;e.when(this.content()).done(t.proxy(function(){n._trigger("scrollEnd",{scrollData:i})}))},_bindBlurEvent:function(s,n){this._scrollEle=e(s).data("ejScrollBar"),this._event=n;this._listener=function(){this._scrollEle._off(e(document),"mousemove touchmove",this._scrollEle._mouseMove),e(document).off("mouseup touchend",t.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(e(document),"mousemove touchmove",this._mouseMove),this._off(e(document),"mouseup touchend",this._mouseUp),this._off(e(i),"blur"),this._evtData.handler,this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(e(i),"blur",this._listener)},_thumbStart:function(e){this._evtData=e.scrollData;var t=(e.scrollData.handler,this.element.find("."+e.scrollData.handler).closest(".e-scrollbar"));e.scrollData.handler,t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");this._bindBlurEvent(t,e),this._trigger("thumbStart",e)},_thumbMove:function(e){this._trigger("thumbMove",e)},_thumbEnd:function(t){this._trigger("thumbEnd",t),this._off(e(i),"blur")},refresh:function(i){var s,n;i||this.element.find(">.e-content").removeAttr("style"),t.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==e(this.element).parent().height()||(s=(s=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),s)),t.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==e(this.element).parent().width()||(s=(s=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),s)),this._ensureScrollers(),n=this.scrollLeft(),this.model.enableRTL?(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),n>0?this.content().scrollLeft(n):this._setScrollLeftValue(n)):this.content().scrollLeft(n),(this.scrollTop()&&null==this._vScrollbar||null!==this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(t.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData)),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(t.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData)),"msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(e){var t,i,s,n=e.get(0).getBoundingClientRect(),o=["left","right","top","bottom"];for(t=n.width?n.width:n.right-n.left,i=n.height?n.height:n.bottom-n.top,s=0;s<o.length;s++)this["border_"+o[s]]=isNaN(parseFloat(e.css("border-"+o[s]+"-width")))?0:parseFloat(e.css("border-"+o[s]+"-width")),this["padding_"+o[s]]=isNaN(parseFloat(e.css("padding-"+o[s])))?0:parseFloat(e.css("padding-"+o[s]));return{width:t,height:i}},_keyPressed:function(e,i){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(i.tagName.toLowerCase()))return!0;var s,n;if(-1!==["up","down","pageUp","pageDown"].indexOf(e))this._vScrollbar&&("msie"==t.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),s=this._vScrollbar._scrollData),n="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(e))return!0;this._hScrollbar&&(s=this._hScrollbar._scrollData),n="i"}return!s||!this._changeTop(s,(e.indexOf(n)<0?-1:1)*("p"!==e[0]?1:3)*s.scrollOneStepBy,"key")}},scrollY:function(e,i,s,n,o){if(""!==e){if(i){o={source:n||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o};if(this._trigger("scroll",o))return;return e=o.scrollTop,this.scrollTop(e),void this.content().scrollTop(e)}(t.isNullOrUndefined(s)||""===s)&&(s=100),this._vScrollbar&&(e=parseFloat(e)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e)),this.scrollTop(e),this.content().stop().animate({scrollTop:e},s,"linear"),this._trigger("scroll",{source:n||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o})}},scrollX:function(e,i,s,n,o){var l;if(""!==e){if(this._hScrollbar&&(e=parseFloat(e)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e)),this._externalCall=!0,l=t.browserInfo().name,this.model.enableRTL&&"mozilla"!=l&&(e<0&&(e=Math.abs(e)),null!=this.model.targetPane?this.content().find(this.model.targetPane)[0]:this.content()[0],"mousemove"!=o&&"touchmove"!=o&&"msie"!=l&&"msie"!=l&&(e=this._hScrollbar._scrollData.scrollable-e)),this.scrollLeft(e),i){if(this._trigger("scroll",{source:n||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o}))return;return void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).scrollLeft(e):this.content().scrollLeft(e))}(t.isNullOrUndefined(s)||""===s)&&(s=100),null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).stop().animate({scrollLeft:e},s,"linear"):this.content().stop().animate({scrollLeft:e},s,"linear"),this._trigger("scroll",{source:n||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})}},enable:function(){var e=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");e.hasClass("e-disable")&&(e.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(e,i,s,n){var o,l=null!=this.model.targetPane&&"height"!=e.dimension?this.content().find(this.model.targetPane)[e.scrollVal]():this.content()[e.scrollVal]();return"height"==e.dimension&&0==l&&(l=0!=this.scrollTop()?this.scrollTop():0),o=l+i,(e.enableRTL?o<e.scrollable:o>e.scrollable)&&(o=e.scrollable),(e.enableRTL?o>0:o<0)&&(o=0),o!==l&&(this["scroll"+e.xy](o,!0,"",s,n),"X"!==e.xy||t.isNullOrUndefined(this._hScrollbar)?t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(o,s,!0,n):this._hScrollbar.scroll(o,s,!0,n)),o!==l},_mouseWheel:function(t){var s;if((this._vScrollbar||t.shiftKey)&&t.data&&this.model.enabled){var n,o=0,l=t.data.d,r=t;if(t=t.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:t,scrollData:r.data.d}),this._wheelStart=!1,clearTimeout(e.data(this,"timer")),1!=this._wheelx&&(0==t.wheelDeltaX||0==t.wheelDeltaY)&&(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?t.axis==t.HORIZONTAL_AXIS?l=this._scrollXdata:this._scrollYdata:"msie"==this._browser?("wheel"==t.type&&(o=t.deltaX/120),"mousewheel"==t.type&&t.shiftKey&&(l=this._scrollXdata,t.preventDefault?t.preventDefault():t.returnValue=!1)):this._wheelx&&0!=t.wheelDeltaX&&0==t.wheelDeltaY&&this._scrollXdata&&(l=this._scrollXdata),0==t.wheelDeltaX&&(this._wheelx=t.wheelDeltaX),t.wheelDelta?(o=0==navigator.platform.indexOf("Mac")?-t.wheelDelta/3:-t.wheelDelta/120,i.opera&&parseFloat(i.opera.version,10)<10&&(o=-o)):t.detail&&(o=t.detail/3),o&&(r.originalEvent&&(n=r.originalEvent.wheelDelta&&r.originalEvent.wheelDelta>0||r.originalEvent.detail&&r.originalEvent.detail<0?-1:1),this._changeTop(l,o*l.scrollOneStepBy,"wheel",t)?(t.preventDefault?t.preventDefault():r.preventDefault(),r.stopImmediatePropagation(),r.stopPropagation(),this._trigger("wheelMove",{originalEvent:t,scrollData:r.data.d,direction:n})):(this._trigger("scrollEnd",{originalEvent:t,scrollData:r}),this._wheelx=0),s=this,e.data(this,"timer",setTimeout(function(){s._wheelStart=!0,s._trigger("wheelStop",{originalEvent:t,scrollData:r.data.d,direction:n})},250)))}},_scrollerHover:function(e){"mouseenter"!=e.type&&"touchstart"!=e.type||this.content().siblings().is(":visible")?("mouseleave"==e.type||"touchend"==e.type)&&this.content().siblings().hide():this.content().siblings().css("display","block")},_mouseUp:function(s){if(s.data){var n=s.data.d;"mouseup"!==s.type&&"touchend"!==s.type&&(s.toElement||s.relatedTarget)||(this.content().css("cursor","default"),this._off(e(document),"mousemove touchmove"),this._off(e(document),"mouseup touchend",this._mouseUp),n.fromScroller=!1,!0!==this._mouseMoved||"thumb"!==s.data.source||t.isNullOrUndefined(this.model)||(e.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:s,scrollData:n})},this)),this._off(e(i),"blur"))),n.up=!0}},_mouseDownOnContent:function(n){var o,l;if(this._velocity=0,this.model.enabled&&(o=n.data.d,this._evtData=n.data,this._startX=n.clientX!=s?n.clientX:n.originalEvent.changedTouches[0][o.clientXy],this._startY=n.clientY!=s?n.clientY:n.originalEvent.changedTouches[0][o.clientXy],this._timeStart=n.timeStamp||Date.now(),o.handler,l=this.element.find("."+o.handler).closest(".e-scrollbar"),this._bindBlurEvent(l,n),!this._trigger("thumbStart",{originalEvent:n,scrollData:o}))&&(3!=n.which||2!=n.button)){o.fromScroller=!0;var r,a=null,h=1;this._document=e(document),this._window=e(i),this._mouseMove=function(e){var i,n,l;if(this._relDisX=(this._startx=e.clientX!=s?e.clientX:e.originalEvent.changedTouches[0][o.clientXy])-this._startX,this._relDisY=(this._starty=e.clientY!=s?e.clientY:e.originalEvent.changedTouches[0][o.clientXy])-this._startY,this._duration=(e.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,e.preventDefault(),"iframe"===e.target.tagName.toLowerCase())return e.type="mouseup",void this._mouseUp(e);if(i="mousemove"==e.type?e[o.clientXy]:e.originalEvent.changedTouches[0][o.clientXy],a&&i!==a&&(this._mouseMoved=!0,n=i-a,l=this.model[o.scrollVal]-n,1==h&&Math.abs(n)>5&&(r=o.position,h=0),0==h&&(a=i),l>=0&&l<=o.scrollable&&r===o.position)){var d=this._velocityY>.5&&this._duration<50&&"Top"==o.position,u=this._velocityX>.5&&this._duration<50&&"Left"==o.position;(this._velocityY>.5||this._velocityX>.5)&&this._duration<50?d?(l=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(l+=this.scrollTop())>o.scrollable&&(l=o.scrollable):l<this.scrollTop()&&(l=Math.abs(l-this.scrollTop())),this.scrollTop()<=o.scrollable&&this.scrollY(l,!1,this.model.animationSpeed,"thumb")):u&&(l=Math.abs(this._relDisX),this._startX>this._startx?(l+=this.scrollLeft())>o.scrollable&&(l=o.scrollable):(l-=this.scrollLeft(),((l=Math.abs(l))>o.scrollable||l>=this.scrollLeft())&&(l=0)),this.scrollLeft()<=o.scrollable&&this.scrollX(l,!1,this.model.animationSpeed,"thumb")):(this["scroll"+o.xy](l,!0,"","thumb",e.type),"X"===o.xy?this._hScrollbar.scroll(l,"thumb",!0,e.type):t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(l,"thumb",!0,e.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:e,scrollData:o}))}null==a&&(a=i)},this._on(e(document),"mousemove touchmove",{d:o,source:"thumb"},this._mouseMove),this._mouseMoved=!1,this._on(e(document),"mouseup touchend",{d:o,source:"thumb"},this._mouseUp)}},_scroll:function(e){for(var i,s,n=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null],o=0;o<2;o++)if((i=n[o])&&!i.skipChange){if(this._externalCall||("height"===i.dimension?this.scrollTop(e.target[i.scrollVal]):this.scrollLeft(e.target[i.scrollVal])),i.sTop=this.model&&null!=this.model.targetPane&&1==o&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][i.scrollVal]:"scrollTop"==i.scrollVal?this.scrollTop():this.scrollLeft(),this[i.scrollVal](i.sTop),i.fromScroller)return;1===o?(s=this.content()[0],this._rtlScrollLeftValue&&s.scrollWidth-s.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=s.scrollWidth-s.clientWidth),i.sTop=this.model&&"mozilla"!=t.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*i.sTop:i.sTop-this._rtlScrollLeftValue:i.sTop,this._hScrollbar.scroll(i.sTop,"",!0)):this._vScrollbar.scroll(i.sTop,"",!0),(2==n.length&&1==o||1==n.length&&0==o)&&(this._externalScroller=!1)}},_changevHandlerPosition:function(e){var t=this._vScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&e>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_changehHandlerPosition:function(e){var t=this._hScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&top>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""})}})}(jQuery,Syncfusion,window)}),
/*!
*  filename: ej.dialog.min.js
*  version : 2.4.85
*  Copyright Syncfusion Inc. 2001 - 2020. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e,t){t.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,backgroundScroll:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",backgroundScroll:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(i){var s,n;for(s in i)switch(s){case"closeIconTooltip":this._dialogClose.attr("title",i[s]);break;case"tooltip":this._tooltipText(i[s]);break;case"title":this.model.title=i[s],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(i[s]),this._updateCaptionWidth();break;case"width":this.model.width=i[s],this._changeSize(),this._updateCaptionWidth(),i[s]=this.model.width;break;case"height":this.model.height=i[s],this._changeSize(),i[s]=this.model.height;break;case"position":this.model.position=i[s],this._dialogPosition();break;case"cssClass":this._changeSkin(i[s]);break;case"showRoundedCorner":this.model.showRoundedCorner=i[s],this._roundedCorner(i[s]);break;case"contentType":this.model.contentType=i[s],this._appendContent(i[s]);break;case"enabled":this.model.enabled=i[s],this._enabledAction(i[s]);break;case"contentUrl":this.model.contentUrl=i[s],this._appendContent(this.model.contentType);break;case"backgroundScroll":this.model.backgroundScroll=i[s],!this.model.backgroundScroll&&this.model.enableModal?e("body").addClass("e-dialog-modal"):e("body").removeClass("e-dialog-modal");break;case"content":case"target":this._ejDialog.appendTo(e(i[s])),this.model.target=this.model.content=i[s],this._dialogPosition();break;case"containment":this._setDragArea(i[s]),t.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=i[s]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=i[s],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels,!0),this._tooltipText(this.model.tooltip),this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(this.model.title),this._updateCaptionWidth();break;case"minHeight":this.model.minHeight=i[s],this._ejDialog.css("minHeight",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=i[s],this._ejDialog.css("minWidth",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=i[s],this._ejDialog.css("maxHeight",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=i[s],this._ejDialog.css("maxWidth",i[s]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",i[s]);break;case"faviconCSS":this.model.faviconCSS=i[s],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=i[s],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=i[s],i[s]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=i[s],i[s]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=i[s],i[s]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1-this._dialogTitlebar.outerHeight(!0):"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=i[s],i[s]?(this._appendContent(),this._ejDialog.find(".e-resizable").remove()):this._ejDialog.find(".e-footerbar").remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=i[s],this.model.showFooter&&(this._ejDialog.find(".e-footerbar").empty(),n=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(n),this._enableResize());break;case"enableRTL":this.model.enableRTL=i[s],this.model.faviconCSS&&this._favIcon(),i[s]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl"),this.scroller&&this._resetScroller()):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr"),this.scroller&&this._resetScroller());break;case"actionButtons":t.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(i[s])),this.model.actionButtons=i[s],this._updateCaptionWidth();break;case"enableModal":this._enableModal(i[s]);break;case"htmlAttributes":this._addAttr(i[s])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this.model.enableAnimation&&this._ejDialog.stop(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1,e(window).off("resize",e.proxy(this._reSizeHandler,this))},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),this.scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"),this.scrObj&&this.scrObj._resetScroller(),this.hidden=!1,this._init=!1,this._keyNavigation=!1},_responsive:function(){this.width=this.model.width,e(this.element).width(this.width),this.height=this.model.height,e(this.element).height(this.height),e(window).on("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=e(this._dialogTitlebar).outerWidth(),e(this.contentDiv).width(this.width),e(this.contentDiv).children().width(this.width),this.model.height=this.height=e(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-e(this._dialogTitlebar).outerHeight()-e(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),t.isNullOrUndefined(this.element)||this._collapsible||this._resetScroller()},_setLocaleCulture:function(e,t){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=e.closeIconTooltip),t&&(this.model.tooltip=this.localizedLabels.tooltip,this.model.title=this.localizedLabels.title),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=e.tooltip),this.model.title===this.defaults.title&&(this.model.title=e.title)},_setDragArea:function(i){t.isNullOrUndefined(i)?this._target=null:"string"==typeof i?("parent"==i&&(this._target=e(this.element).parent()),"document"==i.toLowerCase()&&(this._target=e(document)),"window"==i.toLowerCase()?this._target=e(window):e(i).length>0&&(this._target=e(i))):"object"==typeof i?i.length>0&&(this._target=i):this._target=null},_addAttr:function(t){var i=this;e.map(t,function(e,t){if("class"==t)i._ejDialog.addClass(e);else if("disabled"==t&&"disabled"==e)i.model.enabled=!1,i._enabledAction(!1);else if(i._ejDialog[0].hasAttribute("style")){var s=i._ejDialog[0].getAttribute("style")+e;i._ejDialog.attr(t,s)}})},_tooltipText:function(i){e.extend(this.model.tooltip,i),!t.isNullOrUndefined(this._dialogClose)&&this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),!t.isNullOrUndefined(this._dialogCollapsible)&&(i.collapse||i.expand)&&(this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand)),!t.isNullOrUndefined(this._dialogMaximize)&&(i.maximize||i.restore)&&(this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogMinimize)&&(i.minimize||i.restore)&&(this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogPin)&&(i.pin||i.unPin)&&(this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin))},_renderControl:function(){var i,s,n;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=t.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,s=t.isNullOrUndefined(i)?document.body:i,(n=e(s).find("#"+this._id+"_wrapper").get(0))&&e(n).remove(),this._ejDialog.appendTo(s),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&this._favIcon()),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize(),"auto"!=this.model.height&&this._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){if("auto"!=this.model.height){var t=this._ejDialog.outerHeight()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1;this.contentDiv.height(t),this.element.outerHeight(t)}return this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){if(this.model.enableResize){this._ejDialog.addClass("e-resizable");var e=t.buildTag("div.e-icon e-resize-handle");this.model.showFooter?e.appendTo(this._dialogFooterbar):e.appendTo(this._ejDialog),this._resizeDialog()}return this},_changeSkin:function(e){this.model.cssClass!=e&&this._ejDialog.removeClass(this.model.cssClass).addClass(e)},_enableModal:function(e){e?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(e){e?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),t.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),t.buildTag("div.e-disable-overlay").appendTo(this.wrapper),t.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=t.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header e-dialog").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=t.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-dialog e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=t.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var e=this.model.faviconCSS&&!t.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&!t.isNullOrUndefined(this._dialogTitlebar)&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-e),this},_iconsRender:function(i){for(var s=0;s<i.length;s++)switch("msie"==t.browserInfo().name&&t.browserInfo().version<=8?e.trim(i[s]):i[s].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(i[s])}},_customIconsRender:function(e){this._customIcon=t.util.buildTag("div#"+this.element[0].id+"_"+e+"button.e-dialog-icon e-icon e-"+e,null,null).attr("tabIndex","0").attr("title",e),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(t){if(!this.element.hasClass("e-disable")){var i={cancel:!1,buttonID:e(t.target).attr("id"),event:t.type,model:this.model,currentTarget:t.currentTarget.title};this._trigger("actionButtonClick",i)}},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(i){var s,n,o,l,r;this.contentDiv=t.isNullOrUndefined(this.contentDiv)?t.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),s=this,t.isNullOrUndefined(this.model.contentUrl)||t.isNullOrUndefined(i)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==i?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==i?(this.element.children(".e-iframe").length>0?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=t.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&e(this.iframe).load(function(){s.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):"image"==i?(n=t.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(n).show().appendTo(this.contentDiv),e(n).on("load",function(){s._dialogPosition()}),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),this._ejDialog.find("div.e-resize-handle").length>0?0==this._ejDialog.find(".e-footerbar").length&&this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(o=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(o)?0==this._ejDialog.find(".e-footerbar").length?this.contentDiv.appendTo(this._ejDialog):this.contentDiv.insertBefore(this._dialogFooterbar):(this.contentDiv.appendTo(this._ejDialog),l=e("#"+this.contentDiv.find("iframe").attr("id")),e(l[0].contentDocument.lastChild).remove(),l[0].contentDocument.appendChild(o),"mozilla"==t.browserInfo().name&&setTimeout(function(){e(l[0].contentDocument.lastChild).remove(),l[0].contentDocument.appendChild(o)},500))),this.model.showFooter&&0==this._ejDialog.find(".e-footerbar").length&&(this._renderFooterBar(),null!=this.model.footerTemplateId&&(r=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(r)))},_roundedCorner:function(e){this._ejDialog[e?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):this.model.showHeader||this.model.showFooter||this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){if(null!=this.scroller&&(this.scroller.refresh(!0),!this.model.enableRTL)){if(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter)var e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=0,i=0;else e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=2,i=this._ejDialog.find("div.e-resize-handle").outerHeight();Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1)&&(this.scroller._vScrollbar.model.height-=i+t,this.scroller._vScrollbar._scrollData.handle-=i,this.scroller._vScrollbar._scrollData.handleSpace-=i+t,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(e-i-t))}if((!this.scroller._vScrollbar||!this.scroller._vScrollbar._scrollData)&&this.scroller._hScrollbar&&this.scroller._hScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter){var s=this.scroller._hScrollbar.element.find("> div.e-hscroll").width();t=0,i=0}else s=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),t=2,i=this._ejDialog.find("div.e-resize-handle").outerWidth();this.scroller._hScrollbar.model.width-=i+t,this.scroller._hScrollbar._scrollData.handle-=i+t,this.scroller._hScrollbar._scrollData.handleSpace-=i+t,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(s-i-t)}}},_dialogMaxZindex:function(){var t,i,s,n=this.element.parents();return t=e("body").children(),e(t).each(function(e,t){n.push(t)}),i=e(this.model.target).children(),e(i).each(function(e,t){n.push(t)}),!(s=Math.max.apply(s,e.map(n,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))||s<1e4?s=1e4:s+=1,s},_setZindex:function(){var e=this._dialogMaxZindex();this.model.zIndex<=e&&this._ejDialog.css({zIndex:e+1})},_createOverlay:function(){var i,s=this._ejDialog.css("zIndex");t.isNullOrUndefined(this._overLay)||this._overLay.remove(),this.model.backgroundScroll||e("body").addClass("e-dialog-modal"),this._overLay=t.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:s-1}),e(this._overLay).addClass("e-widget"),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,this._overLay.appendTo(t.isNullOrUndefined(i)?document.body:i);var n=t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?"fixed":"absolute",o=t.isNullOrUndefined(i)||"fixed"==n||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().left,l=t.isNullOrUndefined(i)||"fixed"==n||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().top;this._overLay.css({top:l,left:o,position:n})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var s=this,n=this.model.title,o={success:function(e){try{s._ajaxSuccessHandler(e,t,i,n)}catch(e){}},error:function(e){try{s._ajaxErrorHandler({status:e.status,responseText:e.responseText,statusText:e.statusText},t,i,n)}catch(e){}},complete:function(){try{s._setContainerSize(),s._resetScroller(),s.model.showOnInit||s._setHiddenDialogSize()}catch(e){}}};e.extend(!0,o,this.model.ajaxSettings),this._sendAjaxRequest(o)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(e,t,i){t.removeClass("e-load"),t.html(e).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:e,url:i})},_ajaxErrorHandler:function(e,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:e,url:i})},_closeIcon:function(){this._dialogClose=t.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):("close"==this.model.closeIconTooltip&&this.model.tooltip.close,this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close)),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=t.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=t.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=t.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=t.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){if(this._dialogFavIcon)e=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom");else{this._dialogFavIcon=t.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")});var e=t.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"});e.appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)}this.model.faviconCSS?e.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),i=parseInt(this.model.maxWidth),s=parseInt(this.model.maxHeight),n=parseInt(this.model.width),o=parseInt(this.model.height),l=this._getParentObj();isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(e=this._convertPercentageToPixel(l.outerWidth(),e)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(t=this._convertPercentageToPixel(l.outerHeight(),t)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(i=this._convertPercentageToPixel(l.innerWidth(),i)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(s=this._convertPercentageToPixel(l.innerHeight(),s)),isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(n=this._convertPercentageToPixel(l.innerWidth(),n)),isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(o=this._convertPercentageToPixel(l.innerHeight(),o)),(i&&n>i||e&&n<e)&&(this.model.width=n>i?i:e),(s&&o>s||t&&o<t)&&(this.model.height=o>s?s:t)},_setSize:function(){var e=this.model;return this._minMaxValidation(),this._ejDialog.css({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth}),this._ejDialog.css({height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var i,s=this._ejDialog.outerHeight(!0)-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),n={width:"0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?Math.round(this._ejDialog.width()):Math.round(this._ejDialog.width()-2),enableRTL:this.model.enableRTL,height:"0px"==this.contentDiv.css("border-width")?s:s-1,enableTouchScroll:!1};"auto"==this.model.height&&(this.element.height()<this.model.maxHeight||!this.model.maxHeight)&&!this._maximize&&(n.height="auto"),"auto"!=this.model.width||this._maximize||(n.width=this.model.width),this.contentDiv.ejScroller(n),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(e(this.element).css("padding-top"))+parseInt(e(this.element).css("padding-bottom")),"none"==e(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!t.isNullOrUndefined(this.contentDiv.height())&&this.contentDiv.height()>0&&(i=t.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:!this.scroller._hScrollbar&&this.scroller._vScrollbar?this.contentDiv.outerHeight():this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:i-1}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth("0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?this._ejDialog.width():this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(e,t){this.contentDiv.ejScroller({width:t,height:e,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var i=this;this._ejDialog.parents(".e-dialog-scroller");return this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(e){return e.element.attr("aria-grabbed",!0),i._clickHandler(),!i.dialogPin&&i.model.allowDraggable&&i.model.enabled?i._trigger("dragStart",{event:e})?(e.cancel=!0,!1):void 0:(e.cancel=!0,!1)},drag:function(e){i._trigger("drag",{event:e})},dragStop:function(s){var n,o;i._ejDialog.focus(),s.element.attr("aria-grabbed",!1),i.element.find("> .e-draggable.e-titlebar")&&((n=e("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&n.option("cursorAt",i.element.offset())),o=this.helper.offsetParent().offset(),i._trigger("dragStop",{event:s}),i.model.position.X=t.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[o.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],i.model.position.Y=t.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[o.top+parseFloat(this.helper.offsetParent().css("border-top-width"))],i._positionChanged=!0,i.dlgresized=!0},helper:function(){return e(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){if(this.model.enableResize){var t,i=this,s=!1,n=parseInt(this.model.minWidth),o=parseInt(this.model.minHeight),l=parseInt(this.model.maxWidth),r=parseInt(this.model.maxHeight);return t=this._getParentObj(),isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(n=this._convertPercentageToPixel(t.outerWidth(),n)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(o=this._convertPercentageToPixel(t.outerHeight(),o)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(l=this._convertPercentageToPixel(t.innerWidth(),l)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(r=this._convertPercentageToPixel(t.innerHeight(),r)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:o,minWidth:n,maxHeight:r,maxWidth:l,handle:"e-widget-content",resizeStart:function(e){if(i.dlgresized=!0,!i.model.enabled)return!1;s||i._trigger("resizeStart",{event:e}),s=!0,i.model.position={X:i._ejDialog.css("left"),Y:i._ejDialog.css("top")},i._dialogPosition()},resize:function(t){i.dlgresized=!0;var s=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(s).outerHeight(),i.model.width=e(s).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),i._updateCaptionWidth(),i._trigger("resize",{event:t}),i._sizeType={width:"px",height:"px"},this.scrObj&&this.scrObj._resetScroller()},resizeStop:function(t){i.dlgresized=!0,i._ejDialog.focus(),i._sizeInPercent();var n=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(n).outerHeight(),i.model.width=e(n).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),s&&i._trigger("resizeStop",{event:t}),s=!1,i._setDimension()},helper:function(){return e(i._ejDialog)}}),this}},_dialogPosition:function(){if(this._ejDialog.parents("form").length>0&&t.isNullOrUndefined(this.model.containment)&&t.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y)if(this._ejDialog.css("position","absolute"),t.isNullOrUndefined(this.model.target)&&t.isNullOrUndefined(this.model.containment))this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y);else{var i=t.isNullOrUndefined(this.model.containment)?this.model.target:this.model.containment;this.dlgresized||this._keyNavigation?(this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):(this._ejDialog.css("left",e(i).offset().left+parseInt(this.model.position.X)),this._ejDialog.css("top",e(i).offset().top+parseInt(this.model.position.Y)))}else this._centerPosition();return this},_centerPosition:function(){var i,s,n,o,l=0,r=0;t.isNullOrUndefined(this.model.target)&&(t.isNullOrUndefined(this._target)||e(this._target).is(e(document))||e(this._target).is(e(window)))?(o=document.documentElement,l=(e(window).outerWidth()>this._ejDialog.width()?(e(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||o.scrollLeft),r=(e(window).outerHeight()>this._ejDialog.height()?(e(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||o.scrollTop)):("static"==(i=t.isNullOrUndefined(this._target)?e(this.model.target):e(this._target)).css("position")&&(s=i.offsetParent().offset(),l=(n=i.offset()).left-s.left,r=n.top-s.top),i.outerWidth()>this._ejDialog.width()&&(l+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(r+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:r,left:l}),this._ejDialog.css("position","absolute")},_closeClick:function(e){"touchstart"==e.type&&e.preventDefault(),this.model.enabled&&(e.stopPropagation(),this.close(e))},_collapsibleClick:function(t){this.model.enabled&&(e(t.target).hasClass("e-arrowhead-up")?this._actionCollapse(t):e(t.target).hasClass("e-arrowhead-down")&&this._actionExpand(t))},_actionCollapse:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!e}),this._collapsible=!0)},_actionExpand:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!e}),this._collapsible=!1)},_maximizeClick:function(i){if(this.model.enabled){var s=e(i.target),n=this._dialogMaximize;s.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.minimize)),s.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):s.hasClass("e-restore")&&(this._actionRestore(),s.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!t.isNullOrUndefined(n)&&e(n).hasClass("e-arrowhead-down")&&(e(n).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var i=this;this._dialogCollapsible&&!t.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",function(){i.refresh(),i._reRenderScroller()}),this._resetScroller(),e(this.contentDiv).is(":hidden")&&this.contentDiv.show()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(i){if(this.model.enabled){var s=e(i.target),n=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize;s.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):s.hasClass("e-restore")&&(this._actionRestore(),s.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!t.isNullOrUndefined(n)&&e(n).hasClass("e-arrowhead-down")&&(e(n).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}},_actionMinimize:function(){var t;e(window).height(),this._ejDialog.height(),this.element.height();this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?t=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),t=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",t+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(i){var s=this._dialogCollapsible?this._dialogCollapsible:null;i?(t.isNullOrUndefined(s)||e(s).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(t.isNullOrUndefined(s)||e(s).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(t){if(this.model.enabled){var i=e(t.target);i.hasClass("e-unpin")?(this.dialogPin=!0,i.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):i.hasClass("e-pin")&&(this.dialogPin=!1,i.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin))}},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse)))},_clickHandler:function(){var e=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<e&&this._ejDialog.css({zIndex:e+1})},_mouseClick:function(t){t.currentTarget==this._id&&(e(t.target).hasClass("e-dialog")||e(t.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),e(t.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(t){var i;i=t.keyCode?t.keyCode:t.which?t.which:t.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&e(t.target).hasClass("e-dialog")&&e.inArray(i,this.keyConfigs)>-1&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(i,t.ctrlKey),t.preventDefault()),this.model.closeOnEscape&&27===i&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(t),t.preventDefault())),13===i&&this.model.enabled&&(e(t.target).hasClass("e-close")?this.close(t):(e(t.target).hasClass("e-arrowhead-up")||e(t.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(t),e(t.target).hasClass("e-maximize")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMaximize)?this._maximizeClick(t):(e(t.target).hasClass("e-minus")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMinimize))&&this._minimizeClick(t),(e(t.target).hasClass("e-pin")||e(t.target).hasClass("e-unpin"))&&this._pinClick(t)),9==i&&this.model.enableModal&&this._focusOnTab(t)},_focusOnTab:function(t){var i=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')");i=e(i).find("a, button, :input, select, [tabindex]:not('')"),t.shiftKey?i[i.index(t.target)-1]||(t.preventDefault(),i.last().focus()):i[i.index(t.target)+1]||(t.preventDefault(),i[0].focus())},_keyPressed:function(e,t){switch(this._keyNavigation=!0,e){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:this._ejDialog.position().top>3?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:this._ejDialog.position().left>3?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(e,t){this.model.enableResize&&this.option(e,t)},_sizeInPercent:function(){if(!this._enableWindowResize())return this;var e=this._getParentObj();return this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(e.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(e.outerHeight(),this._ejDialog.outerHeight()),this._widthPercent>=100&&(this._widthPercent=100,this._ejDialog.outerWidth(e.outerWidth()),this.model.width=this._ejDialog.width()),this._heightPercent>=100&&(this._heightPercent=100,this._ejDialog.outerHeight(e.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return t.isNullOrUndefined(this.model.containment)?t.isNullOrUndefined(this.model.target)?e(document):e(this.model.target):e(this.model.containment)},_convertPercentageToPixel:function(e,t){return Math.round(t*e/100)},_convertPixelToPercentage:function(e,t){return Math.round(t/e*100)},_reSizeHandler:function(){var t;this._maximize?this._resetScroller():(""!=this.model.position.X&&(""!=this.model.position.Y||this._minimize)||this._centerPosition(),t=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=e(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(t):this._pixelsWidthDimension(t):this._windowSize.outerHeight!=e(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(t):this._pixelsHeightDimension(t)),this._change&&this._resizeContainer(t),this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._centerPosition())},_setDimension:function(){t.isNullOrUndefined(this.model.maxWidth)?t.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:("px"==this._sizeType.width||"auto"==this._sizeType.width)&&(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,t.isNullOrUndefined(this.model.maxHeight)?t.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:("px"==this._sizeType.height||"auto"==this._sizeType.height)&&(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(e){this._ejDialog.outerWidth(this._convertPercentageToPixel(e.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(e){this._ejDialog.outerHeight(this._convertPercentageToPixel(e.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(t){e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<e(t).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(t.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(t){e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<e(t).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(t.outerHeight()),this._change=!0)},_setWidth:function(e){this._ejDialog.outerWidth(e.outerWidth()),this._change=!0},_setHeight:function(e){this._ejDialog.outerHeight(e.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width());var i=this._ejDialog.height()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0);this.contentDiv.height(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.element.outerHeight(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.scroller=this.contentDiv.ejScroller({width:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this._ejDialog.width():this._ejDialog.width()-2),height:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this.element.outerHeight():this.element.outerHeight()-2),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),""==this.model.position.X||""==this.model.position.Y&&!this._minimize||this._positionChanged?this._centerPosition():this._ejDialog.css("height",this._dialogTitlebar.outerHeight()),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&"auto"!=this.model.height)},_wireResizing:function(){e(window)[this._enableWindowResize()?"on":"off"]("resize",e.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var i,s,n,o,l;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),i=this,s={},this._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),"slide"==this.model.animation.show.effect?(o=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),s={left:o,opacity:1}):s={opacity:1}),this._ejDialog.animate(s,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){i.model&&("none"==i._ejDialog.css("display")&&i._ejDialog.show(),i._ejDialog.eq(0).focus(),i._ejDialog.css({opacity:""}),i.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),i._trigger("open"),i._updateCaptionWidth(),i.model.enableModal&&!i.model.backgroundScroll&&(i._ejDialog.height()>e(window).height()&&i._ejDialog.css("height",e(window).height()),i.model.height=e(window).height(),i._overLay.css("position","fixed"),i.scroller.refresh(!0),i.refresh()),(i.model.maxHeight||i.model.maxWidth)&&(n=i._ejDialog.outerHeight(!0)-(i._dialogTitlebar?i._dialogTitlebar.outerHeight(!0):0),("auto"==i.model.height||"100%"==i.model.height)&&(n=i.model.height),i._updateScroller(t.isNullOrUndefined(this.contentDiv)?n-2:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?i._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width")),i.scroller.refresh()))}),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&((l=e("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&l.option("cursorAt",this.element.offset())),this)},close:function(t){var i,s,n;return!this._isOpen||!this.model.enabled||(i=!!t,1!=this._trigger("beforeClose",{event:t,isInteraction:i})&&(this._isOpen=!1,s=this,n={},this.model.enableAnimation&&(n="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(n,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){s._trigger("close",{event:t,isInteraction:i}),s._ejDialog.hide()}),this.model.enableModal&&(this._overLay&&this._overLay.remove(),this.model.backgroundScroll||e("body").removeClass("e-dialog-modal")),this))},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(e){return this.model.title=e,this._titleText.text(e),this._updateCaptionWidth(),this},setContent:function(e){return!!this.model.enabled&&(this.element.html(e),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),e(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),e(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),e(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){if(this.model.showHeader){var t=this._minimize;return this._actionRestore(),e(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(t?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this}},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,e(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,e(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),t.Dialog.Locale=t.Dialog.Locale||{},t.Dialog.Locale.default=t.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},title:"",closeIconTooltip:"close"}}(jQuery,Syncfusion),
/*!
*  filename: ej.button.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e),"disabled"==t&&"disabled"==e&&i.disable()})},_destroy:function(){this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(e){for(var t in e)switch(t){case"size":this._setSize(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"contentType":this._setContentType(e[t]);break;case"imagePosition":this._setImagePosition(e[t]);break;case"text":this._setText(e[t]);break;case"prefixIcon":this._setMajorIcon(e[t]);break;case"suffixIcon":this._setMinorIcon(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"timeInterval":this.model.timeInterval=e[t];break;case"htmlAttributes":this._addAttr(e[t])}},_setSize:function(e){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+e)},_setType:function(e){this.element.prop({type:e})},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(e){this.element.css("width",e)},_setText:function(e){"inputButton"==this.buttonType?this.element.val(e):this.model.contentType==t.ContentType.TextOnly?this.element.html(e):this.textspan.html(e),this.model.text=e},_setMajorIcon:function(e){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(e),this.model.prefixIcon=e},_setMinorIcon:function(e){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(e),this.model.suffixIcon=e},_setContentType:function(e){e!=this.model.contentType&&(this.element.empty(),this.model.contentType=e,this._renderButtonNormal())},_setImagePosition:function(e){this.model.contentType==t.ContentType.TextAndImage&&e!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=e,this._renderButtonNormal())},_setRTL:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(e){e?this.enable():this.disable()},_setSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass),this.element.addClass(e))},_initialize:function(){t.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.model.text&&this.element.attr("aria-describedby",this.model.text)},_renderButtonNormal:function(){if((null==this.model.text||""==this.model.text)&&(this.model.text=this.element.html()),this.element.empty(),this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.model.contentType.indexOf("image")>-1&&(this.majorimgtag=t.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=t.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=t.buildTag("div")),this.model.contentType==t.ContentType.TextAndImage){switch(this.model.imagePosition){case t.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case t.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==t.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(e){1==e?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(t){t&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(e(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(e(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(e){var t,i=this;if(!i.model.enabled)return!1;i.element.hasClass("e-disable")||(t={target:e.currentTarget,e:e,status:i.model.enabled},i._trigger("click",t))},_btnRepatMouseClickEvent:function(e){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(t.model.enabled,(0==e.button||1==e.which)&&(t._timeout=setInterval(function(){t._trigger("click",{target:e.currentTarget,status:t.model.enabled})},this.model.timeInterval)))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(e){var t,i=this;i.element.hasClass("e-disable")||(t={status:i.model.enabled},(32==e.keyCode||13==e.keyCode)&&i._trigger("click",t))},_btnRepatKeyUpEvent:function(e){(32==e.keyCode||13==e.keyCode)&&clearTimeout(this._timeout)}}),t.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},t.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},t.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},t.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}),
/*!
*  filename: ej.waitingpopup.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=t.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var i=this.model.template;"string"==typeof i&&(i=e(i)),this.templateObj="object"==typeof i&&"function"==typeof i.css?i:t.buildTag("div","",{"text-align":"center"}).append(i),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){e(window).on("resize",e.proxy(this._resizeHandler,this))},_unwireEvents:function(){e(window).off("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(i){for(var s in i)switch(s){case"text":this._setText(i[s]);break;case"cssClass":this._setTheme(i[s]);break;case"htmlAttributes ":this._addAttr(i[s]);break;case"showOnInit":this._setVisibility(i[s]);break;case"showImage":this._showImage(i[s]),this._setContentPosition();break;case"target":this.model.target=i[s],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=i[s],this._setTarget(),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),i[s]?(this.model.template=i[s],this._setTemplate()):(this.model.template=i[s]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?e(document):"window"==this.model.target?e(window):this.model.target?e(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var i=e("#"+this.element[0].id+"_WaitingPopup").get(0);i&&e(i).remove(),this.maindiv=t.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)})},_setPanelPosition:function(){var i=t.util.getOffset(this.targetElement);null!=this.model.appendTo&&e(this.model.appendTo).length>0&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==e(this.model.appendTo)[0]?(i.left-=this.targetElement.offsetParent().offset().left,i.top-=this.targetElement.offsetParent().offset().top):i={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(i.left)+"px",top:Math.ceil(i.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(null==this.model.template){var e,t=0,i=0,s=null;e=this.targetElement.outerHeight(),this.popupText&&(t=this.popupText.outerHeight()),this.popupImage&&(i=this.popupImage.outerHeight()),this.popupImage&&(s=Math.ceil((e-(i+t))/2),this.popupImage.css("top",s+"px")),this.popupText&&(s||(s=Math.ceil((e-t)/2)),this.popupText.css("top",s+"px"))}else this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=t.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return t.util.getZindexPartial(this.element)}})}),
/*!
*  filename: ej.autocomplete.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.scroller.min"],e):e()}(function(){!function(e,t,i){t.widget("ejAutocomplete","ej.Autocomplete",{element:null,model:null,validTags:["input"],_ignoreOnPersist:["fields","dataSource","query","focusIn","focusOut","change","select","create","destroy","open","close","actionComplete","actionSuccess","actionFailure"],_setFirst:!1,_rootCSS:"e-autocomplete",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{dataSource:null,query:null,fields:{text:null,key:null,category:null,groupBy:null,htmlAttributes:null},locale:"en-US",template:null,allowGrouping:!1,enableDistinct:!1,allowSorting:!0,sortOrder:"ascending",htmlAttributes:{},multiSelectMode:"none",delimiterChar:",",allowAddNew:!1,addNewText:"Add New",showRoundedCorner:!1,readOnly:!1,cssClass:"",watermarkText:null,value:"",selectValueByKey:null,filterType:"startswith",caseSensitiveSearch:!1,showLoadingIcon:!0,showResetIcon:!1,itemsCount:0,minCharacter:1,delaySuggestionTimeout:200,showPopupButton:!1,highlightSearch:!1,enableAutoFill:!1,enableRTL:!1,enabled:!0,visible:!0,height:"",width:"",emptyResultText:"No suggestions",animateType:"slide",showEmptyResultText:!0,enablePersistence:!1,popupHeight:"152px",popupWidth:"auto",autoFocus:!1,multiColumnSettings:{enable:!1,showHeader:!0,stringFormat:"{0}",columns:[{field:null,headerText:null,textAlign:"left",headerTextAlign:"left",cssClass:"",type:"string",filterType:"startswith"}]},validationRules:null,validationMessage:null,focusIn:null,focusOut:null,change:null,select:null,create:null,open:null,close:null,destroy:null,actionBegin:null,actionComplete:null,actionSuccess:null,actionFailure:null},dataTypes:{autoFocus:"boolean",watermarkText:"string",locale:"string",cssClass:"string",filterType:"enum",caseSensitiveSearch:"boolean",showLoadingIcon:"boolean",template:"string",allowGrouping:"boolean",enableDistinct:"boolean",allowSorting:"boolean",sortOrder:"enum",allowAddNew:"boolean",addNewText:"string",showRoundedCorner:"boolean",showResetIcon:"boolean",readOnly:"boolean",itemsCount:"number",animateType:"enum",minCharacter:"number",showPopupButton:"boolean",highlightSearch:"boolean",enableAutoFill:"boolean",enableRTL:"boolean",multiSelectMode:"enum",delimiterChar:"string",emptyResultText:"string",showEmptyResultText:"boolean",enabled:"boolean",visible:"boolean",enablePersistence:"boolean",dataSource:"data",query:"data",fields:"data",validationRules:"data",validationMessage:"data",htmlAttributes:"data",multiColumnSettings:"data"},observables:["value","selectValueByKey"],value:t.util.valueFunction("value"),_selectValueByKey:t.util.valueFunction("selectValueByKey"),enable:function(){this.model.enabled||(this.model.enabled=!0,this.target.disabled=!1,this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.removeAttr("disabled"),this.model.showPopupButton&&this.dropdownbutton.removeClass("e-disable").attr({"aria-disabled":!1}),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable").attr({"aria-disabled":!1}))},disable:function(){this.model.enabled&&(this._hideResult(),this.model.enabled=!1,this.target.disabled=!0,this.element.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.model.showPopupButton&&this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),"visualmode"==this.model.multiSelectMode&&this._ulBox&&this._ulBox.addClass("e-disable").attr({"aria-disabled":!0}))},clearText:function(){"visualmode"==this.model.multiSelectMode&&this._deleteBox(this._ulBox.children("li")),this.element.val(""),this._valueChange(),this._isFocused?this.element.blur():this._focusOutAction(),this._hideResult()},getValue:function(){var e=this.value();return null==e?"":e},getSelectedItems:function(){return this._isFocused&&"visualmode"!=this.model.multiSelectMode&&this._updateSelectedItemArray(this.getValue()),this._selectedItems},_setValue:function(i){var s,n,o;if(this._isWatermark||this._hiddenSpan.css("display","none"),("object"==typeof i||"number"==typeof i&&isNaN(i)||""==e.trim(i))&&(i=""),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(""),this.element.val(""),i)if("visualmode"==this.model.multiSelectMode)if(this._selectedItems=[],this._modelValue=i,this._deleteBox(this._ulBox.children("li")),s=i.split(this.model.delimiterChar),this.element.width(1).val("").removeAttr("placeholder"),this._hiddenInput||(this._hiddenInput=t.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden",name:this.element.attr("name")}).insertBefore(this.element)),t.DataManager&&this.model.dataSource instanceof t.DataManager)this._createBoxForObjectType(s);else if(this.suggestionListItems=this.model.dataSource,this.suggestionListItems&&"object"!=typeof this.suggestionListItems[0])for(this._hiddenInput.val(i),n=0,o=s.length;n<o;n++)s[n]&&(this._ulBox.append(this._createBox(s[n])),this._selectedItems.push(s[n]));else this._createBoxForObjectType(s);else this.element.val(i),this._updateSelectedItemArray(i);return"visualmode"!=this.model.multiSelectMode&&this.value(this.element.val()),this._preVal=this.element.val(),this._isWatermark||this._setWatermarkTxt(),i},_createBoxForObjectType:function(i){for(var s,n=this,o=this._declareVariable(),l=0,r=i.length;l<r;l++)""!=(s=e.trim(i[l]))&&(t.DataManager&&this.model.dataSource instanceof t.DataManager?(this._dataQuery=this._getQuery().where(o[0],"equal",s,!1),this._promise=this.model.dataSource.executeQuery(this._dataQuery),this._promise.done(function(e){var i=e.result;n._strData=i instanceof Array&&i.length?i[0]:s,t.isNullOrUndefined(n._strData[o[1]])||n._selectKeyInit(),n._selectedItems.push(n._strData)}).fail(function(){n._selectedItems.push(s)})):(this._dataQuery=t.Query().where(o[0],"equal",s,!1),this._promise=t.DataManager(this.suggestionListItems).executeLocal(this._dataQuery),this._strData=this._promise instanceof Array&&this._promise.length?this._promise[0]:s,t.isNullOrUndefined(this._strData[o[1]])||this._selectKeyInit(),this._selectedItems.push(this._strData)),"visualmode"==this.model.multiSelectMode&&this._ulBox.append(this._createBox(s)))},_selectKeyInit:function(){var e,i=this._declareVariable();delimiterChar=this._delimiterChar(),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(this._hiddenInput.val()+(t.isNullOrUndefined(this._strData[i[1]]||this._strData[i[0]])?"":(this._strData[i[1]]||this._strData[i[0]])+this.model.delimiterChar)),t.isNullOrUndefined(this._strData[i[1]])||("none"!=this.model.multiSelectMode?(e=(e=null!=this._selectValueByKey()?this._selectValueByKey()+this._strData[i[1]]+delimiterChar:this._strData[i[1]]+delimiterChar).split(delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),this._selectValueByKey(e.join(delimiterChar))):this._selectValueByKey(this._strData[i[1]]))},_declareVariable:function(){var e=this.model.fields,i={_key:null,_text:null,_attr:null},s=[];if(!t.isNullOrUndefined(e))return i._text=e&&e.text?e.text:"text",i._key=e&&e.key?e.key:"key",s.push(i._text,i._key),s},selectValueByKey:function(t){var i,s=this;t=t.toString(),i="none"!=this.model.multiSelectMode?t.split(this.model.delimiterChar):t.split(","),"[object Array]"===Object.prototype.toString.call(i)&&e.each(i,function(t,i){s._setOperation(e.trim(i),"key")})},selectValueByText:function(e){this._setOperation(e,"text")},setValue:function(e){this._setText(e)},_setOperation:function(e,i){var s,n,o,l="",r=this,a=this.model.dataSource;if(t.isNullOrUndefined(a))return!1;if("object"==typeof a[0]||a instanceof t.DataManager)l=(o=this.model.fields)&&o[i]?o[i]:i;else if("key"==i)return!1;if(t.DataManager&&a instanceof t.DataManager)n=this._getQuery().where(l,"equal",e,!this.model.caseSensitiveSearch),(s=a.executeQuery(n)).done(function(e){r._setText(e.result[0])});else{if(!a||!a.length||a.length<1)return!1;n=t.Query().where(l,"equal",e,!this.model.caseSensitiveSearch),s=t.DataManager(a).executeLocal(n),this._setText(s[0])}},_setText:function(e){var t,i,s;if(!e)return!1;if(i=this.model.fields,t="object"==typeof this.model.dataSource[0]||"object"==typeof e?"string"==typeof e?e:i&&i.text?e[i.text]:e.text:e){if("visualmode"==this.model.multiSelectMode&&this._removeDuplicates(e))return!1;this._valueToTextBox(t,e,!0),s="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val(),this.value(s),this.model.showResetIcon&&this._showReset()}},_textFormateString:function(e){var i,s,n=this.model.multiColumnSettings.stringFormat;if(this._columnsIndex(),t.isNullOrUndefined(e)||"object"!=typeof e)n=t.isNullOrUndefined(e)||"object"==typeof e?this._currList[this._activeItem-1]:n.replace("{"+this._columnIndex[0]+"}",e);else for(i=0,s=this._columnIndex.length;i<s;i++)n=n.replace("{"+this._columnIndex[i]+"}",e[this.model.multiColumnSettings.columns[parseInt(this._columnIndex[i])].field]);return n},_columnsIndex:function(){var t=this;this._columnIndex=[],e.each(this.model.multiColumnSettings.stringFormat.match(/\{.+?\}/g),function(e,i){t._columnIndex[e]=i.slice(1,-1)})},_valueToTextBox:function(e,i,s){var n,o,l;!this._addNewTemplate&&this.model.multiColumnSettings.enable&&"string"!=typeof i&&(e=this._textFormateString(i)),"visualmode"==this.model.multiSelectMode?(i="string"==typeof i&&this._addNewTemplate&&i.substr(i.length-this._addNewTemplate.length)==this._addNewTemplate?i.replace(this._addNewTemplate,""):i,n=e.indexOf(this._addNewTemplate),this._addNewTemplate&&(e=e.substr(0,e.length-this._addNewTemplate.length)),l=this.model.delimiterChar,o=(o=this._getUniqueKey())||(this.model.fields&&this.model.fields.key?i[this.model.fields.key]:t.isNullOrUndefined(i.key)?o:i.key),(!(this._selectValueByKey()==o||null==o)||n>-1)&&this._selectValueByKey(null!=this._selectValueByKey()?this._selectValueByKey()+(n>-1?e:o)+l:(n>-1?e:o)+l),(!(this._hiddenInput.val()==o||null==o)||n>-1)&&this._hiddenInput.val(this._hiddenInput.val()+(o||e)+l),this._modelValue=t.isNullOrUndefined(this.value())?e+l:this.value()+e+l,this.element.val("").removeAttr("placeholder").width(1),this._ulBox.append(this._createBox(e)),this._addNewTemplate=null):"delimiter"==this.model.multiSelectMode?(l=this.target.value.lastIndexOf(this.model.delimiterChar),this._typed||""==this.element.val()||s||!this.model.showPopupButton?s?this.element.val(""==this.element.val()?e+this.model.delimiterChar:this.element.val()+e+this.model.delimiterChar):-1==l?this.element.val(this._queryString.substr(0,l+1)+e+this.model.delimiterChar):this.element.val(this._queryString.substr(0,l+this.model.delimiterChar.length)+e+this.model.delimiterChar):!this.model.enableAutoFill||this.showSuggestionBox?this._checkDeli()?this.element.val(this._queryString.substr(0,l)+this.model.delimiterChar+e+this.model.delimiterChar):this.element.val(this.element.val()+this.model.delimiterChar):this._checkDeli()||this.element.val(this.element.val()+this.model.delimiterChar),this._typed=!1):(this.element.val(e),this._selectedItems=[]),this._selectedItems.push(i),this._originalval.push(e),this._moveCaretToEnd(this.element[0])},_removeDuplicates:function(e){return 0!=this._selectedItems.length&&(-1!=this._selectedItems.indexOf(e)||void 0)},search:function(){this.model.enabled&&this._checkDelimiter()&&(this._hideResult(),this._autoFill=!1,this._queryString=e.trim(this._queryString),this._queryString.length>0&&this._OnTextEnter())},setVisible:function(e){e?this.wrapper.show():this.wrapper.hide()},hide:function(){this._hideResult()},open:function(){this._showFullList()},_changeWatermark:function(e){this._isWatermark?this.element.attr("placeholder",e):this._hiddenSpan.text(e)},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.suggestionList.removeClass(this.model.cssClass).addClass(e)},_setDropdown:function(e){this.model.showPopupButton=e,e?this._renderDropdown():this._destroyDropdown()},_changeHeight:function(e){this.wrapper.height(e)},_changeWidth:function(e){this.wrapper.width(e),this._setListWidth()},_setCulture:function(){this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.addNewText)||(this._localizedLabels.addNewText=this._options.addNewText),t.isNullOrUndefined(this._options.emptyResultText)||(this._localizedLabels.emptyResultText=this._options.emptyResultText)),this.model.addNewText=this._localizedLabels.addNewText,this.model.emptyResultText=this._localizedLabels.emptyResultText},_init:function(e){if(this._options=e,this._setCulture(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this.model.fields.groupBy=this.model.fields.groupBy?this.model.fields.groupBy:this.model.fields.category,this._initialize(),this._render(),this._wireEvents(),this.initialRender=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation())},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,s,n,o,l;if(this.model.validationRules)for(n in(i="visualmode"==this.model.multiSelectMode?this._hiddenInput:this.element).rules("add",this.model.validationRules),s=(s=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=i.attr("name"),s.settings.messages[name]={},this.model.validationRules)if(o=null,!t.isNullOrUndefined(this.model.validationRules[n])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[n]))for(l in s.settings.messages[name][n]=e.validator.messages[n],this.model.validationMessage)n==l&&(o=this.model.validationMessage[n]);else o=this.model.validationRules.messages[n];s.settings.messages[name][n]=null!=o?o:e.validator.messages[n]}},_removeDuplicateValue:function(e){return e.split(this.model.delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]).join(this.model.delimiterChar)},_delimiterChar:function(){return"none"!=this.model.multiSelectMode?this.model.delimiterChar:""},_setModel:function(e){var i,s,n,o,l,r,a;for(i in e){switch(i){case"dataSource":this.model.dataSource=null;break;case"watermarkText":this._changeWatermark(e[i]);break;case"delaySuggestionTimeout":this.model.delaySuggestionTimeout=parseInt(e[i]);break;case"value":deli=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(a=e[i].substr(e[i].length-deli.length)==deli?e[i]:e[i]+deli,e[i]=""==e[i]?this.value():(this.value()?this.value():"")+a,"visualmode"==this.model.multiSelectMode&&(e[i]=e[i].split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),e[i]=e[i].join(deli))),this.value(this._setValue(e[i])),this._modelValue=this.value(),s="visualmode"==this.model.multiSelectMode?this._hiddenInput.val():this.element.val(),this._changeEvtTrigger(s),this.model.showResetIcon&&this._showReset();break;case"showPopupButton":this._setDropdown(e[i]);break;case"enableRTL":this._RightToLeft(e[i]);break;case"showRoundedCorner":this._setRoundedCorner(e[i]);break;case"readOnly":this._checkReadOnly(e[i]);break;case"delimiterChar":n=this.model.delimiterChar,e[i]=this._validateDelimiter(e[i]),this.model.delimiterChar=e[i],this.element.val(this.value().replace(new RegExp(n,"g"),this.model.delimiterChar)),this.value(this.element.val());break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[i],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[i],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"locale":t.Autocomplete.Locale[e[i]]?(this.model.locale=e[i],this._setCulture()):e[i]=this.model.locale;break;case"filterType":for(r in o=[],t.filterType)t.filterType.hasOwnProperty(r)&&o.push(t.filterType[r]);o.indexOf(e[i])>-1?this.model.filterType=e[i]:e[i]=this.model.filterType;break;case"multiSelectMode":this.model.multiSelectMode=e[i],l=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(r=this._selectValueByKey(),(a=this.value())&&(a=a.substr(a.length-l.length)==l?a:a+l,this.value(a),"visualmode"==this.model.multiSelectMode&&this.value(this._removeDuplicateValue(this.value()))),r&&(this._selectValueByKey(r.substr(r.length-l.length)==l?r:r+l),"visualmode"==this.model.multiSelectMode&&this._selectValueByKey(this._removeDuplicateValue(this._selectValueByKey())))),"visualmode"==e[i]?(null!=this.model.validationRules&&this.element.rules("remove"),""!=this.element.val()&&this._isWatermark&&this.element.removeAttr("placeholder"),this._renderBoxModel()):this.element.hasClass("e-visual-mode")&&this._destroyBoxModel(),this._setValue(this.value()),this._setValidation(),t.isNullOrUndefined(this.element.attr("placeholder"))&&this._isWatermark&&this._setWatermark();break;case"enabled":this._disabled(!e[i]);break;case"visible":this.setVisible(e[i]);break;case"height":this._changeHeight(e[i]);break;case"width":this._changeWidth(e[i]);break;case"cssClass":this._changeSkin(e[i]);break;case"itemsCount ":(e[i]<=0||isNaN(e[i]))&&(e[i]=0);break;case"popupHeight":this.suggestionList.css({"max-height":isNaN(e[i])?e[i]:e[i]+"px"});break;case"popupWidth":this.model.popupWidth=e[i],this._setListWidth();break;case"selectValueByKey":deli=this._delimiterChar(),r=t.util.getVal(e[i]),this.selectValueByKey(r),keyValue="none"!=this.model.multiSelectMode?this._selectValueByKey()+e[i]:e[i],keyValue=keyValue.split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),keyValue=keyValue.join(deli),e[i]=keyValue.substr(keyValue.length-deli.length)==deli?keyValue:keyValue+deli;break;case"htmlAttributes":this._addAttr(e[i]);break;case"emptyResultText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.emptyResultText=this.model.emptyResultText=e[i],this._setCulture();break;case"addNewText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.addNewText=this.model.emptyResultText=e[i],this._setCulture();break;case"multiColumnSettings":t.isNullOrUndefined(e[i].enable)||(this.model.multiColumnSettings.enable=e[i].enable),t.isNullOrUndefined(e[i].showHeader)||(this.model.multiColumnSettings.showHeader=e[i].showHeader),t.isNullOrUndefined(e[i].stringFormat)||(this.model.multiColumnSettings.stringFormat=e[i].stringFormat),t.isNullOrUndefined(e[i].columns)||(this.model.multiColumnSettings.columns=e[i].columns),this.suggestionList.remove(),this._renderSuggestionList();break;case"showResetIcon":this.model.showResetIcon=e[i],e[i]?this._showReset():this._removeReset()}this._hideResult()}},_destroy:function(){this.element.width("").removeAttr("role aria-label aria-expanded aria-haspopup aria-autocomplete autocomplete placeholder aria-owns aria-disabled disabled"),this.element.insertAfter(this.wrapper),"visualmode"==this.model.multiSelectMode&&this.element.removeClass("e-visual-mode").attr("name",this._hiddenInput.attr("name")),this.model.enabled||this.element.removeClass("e-disable"),this.wrapper.remove(),this.element.removeClass("e-input").val(""),this._isWatermark&&this.element.removeAttr("placeholder"),this._hideResult(),this.suggestionList.remove()},_initialize:function(){this.value(""===this.value()?this.element[0].value:this.value()),this.element.attr("role","combobox").attr("aria-label","Autocomplete textbox").attr("aria-expanded",!1).attr("tabindex",0).attr("aria-autocomplete","list"),/Edge\/12./i.test(navigator.userAgent)&&this.element.addClass("edge-browser"),this.target=this.element[0],this.dropdownbutton=null,this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this.showSuggestionBox=!1,this.noresult=!0,this._queryString=null,this.suggLen=0,this._selectedItems=[],this._modelValue="",this._activeItem=0,this._originalval=[],this.ctrlKeyPressed=!1,this._isFocused=!1,this._isOpened=!1,this._typed=!1,this._cancelEvent=!1,this._isWatermark=this._checkWatermarkSupport(),this._selectedObj=[]},_render:function(){this._renderWrapper(),this._addAttr(this.model.htmlAttributes),this._setDimentions(),this._renderDropdown(),this._checkProperties(),this._isWatermark?this._setWatermark():this._setWatermarkTxt(),this._renderSuggestionList(),this._RightToLeft(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this.setVisible(this.model.visible),this._setListPosition()},_renderWrapper:function(){var e,i;this.element.addClass("e-input").attr("autocomplete","off"),this.wrapper=t.buildTag("span.e-atc e-widget "+this.model.cssClass+"#"+this.target.id+"_wrapper").insertAfter(this.element),document.activeElement==this.element[0]&&(e=!0),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),this._isWatermark||(this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this.model.watermarkText),this._hiddenSpan.css("display","none"),i=this,this._hiddenSpan.click(function(){this._isFocused||i.element.focus()})),e&&this.element.focus()},_renderDropdown:function(){if(this.model.showPopupButton){var i=t.buildTag("span.e-icon e-search").attr(this._isIE8?{unselectable:"on"}:{});this.dropdownbutton=t.buildTag("span.e-select#"+this.target.id+"_dropdown").attr(this._isIE8?{unselectable:"on"}:{}).append(i),this.container.append(this.dropdownbutton).addClass("e-padding"),this.model.enabled||this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),this.dropdownbutton.on("mousedown",e.proxy(this._OnDropdownClick,this))}},_addAttr:function(t){var i=this;e.map(t,function(e,t){"required"==t&&i.element.attr(t,e),"class"==t?i.wrapper.addClass(e):"name"==t?i.element.attr(t,e):"disabled"==t&&"disabled"==e?i._disabled(!0):"readOnly"==t&&!0===e?i._checkReadOnly(!0):i.wrapper.attr(t,e)})},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_renderBoxModel:function(){this._ulBox=t.buildTag("ul.e-ul e-boxes");var i=this.model.enabled?"":"e-disable";this._ulBox.addClass(i),this._hiddenInput=t.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden"}).insertBefore(this.element),this._hiddenInput.attr("name",this.element.attr("name")),this.element.val("").removeAttr("name").addClass("e-visual-mode"),this._isWatermark||this.element.width(1),this.container.prepend(this._hiddenInput,this._ulBox),this.wrapper.height("auto"),this._on(this.container,"mousedown",function(t){if(!this.model.enabled)return!1;var i=e(t.target);i.is(this.element)||(t.preventDefault(),this._isFocused||this.element.focus(),i.hasClass("e-options")?(!t.ctrlKey&&i.siblings().hasClass("e-active")&&this._removeActive(),i.hasClass("e-active")?i.removeClass("e-active"):i.addClass("e-active")):this._moveCaretToEnd(this.element[0])),!t.ctrlKey&&(i.hasClass("e-boxes")||i.hasClass("e-input"))&&this._removeActive()})},_destroyBoxModel:function(){this.container.prepend(this.element),this.element.attr({name:this._hiddenInput.attr("name")}).removeAttr("style").removeClass("e-visual-mode"),this.wrapper.height(this.model.height),this._hiddenInput.remove(),this._hiddenInput=null,this._ulBox.remove(),this._off(this.container,"mousedown")},_deleteLastBox:function(){var e=this._ulBox.children().last(),t=e.hasClass("e-active");this._removeActive(),t?this._deleteBox(e):e.addClass("e-active")},_deleteBox:function(t){for(var i,s,n,o,l=0,r=t.length;l<r;l++)i=this._ulBox.children().index(t[l]),this._selectedItems.splice(i,1),s=this.model.delimiterChar,(n=this._hiddenInput.val().split(s)).splice(i,1),this._hiddenInput.val(n.join(s)),this._selectValueByKey(n.join(s)),(o=this._modelValue.split(s)).splice(i,1),this._modelValue=o.join(s),e(t[l]).remove();this.showSuggestionBox&&this._refreshPopup(),this._valueChange(),""==this._hiddenInput.val()&&this._setWatermark()},_removeActive:function(){this._ulBox.children("li.e-active").removeClass("e-active")},_adjustWidth:function(){var e,i=t.buildTag("span",this.element.val());this.container.append(i),e=i.width()+30,this.element.width()!=e&&this.element.width(e),""==this._hiddenInput.val()&&this._setWatermark(),i.remove()},_checkProperties:function(){var i,s;this._checkReadOnly(this.model.readOnly),this.model.delimiterChar=this._validateDelimiter(this.model.delimiterChar),this.model.enabled?this.model.enabled&&e(this.element).hasClass("e-disable")&&(this.model.enabled=!1,this._disabled(!1)):(this.model.enabled=!0,this._disabled(!0)),this._checkNameAttr(),"visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),null!=this._selectValueByKey()&&""==this.value()?(i=this._selectValueByKey().toString(),"none"!=this.model.multiSelectMode&&(i=i.substr(i.length-this.model.delimiterChar.length)==this.model.delimiterChar?i:i+this.model.delimiterChar,"visualmode"==this.model.multiSelectMode?this._selectValueByKey(null):this._selectValueByKey(i)),this.selectValueByKey(i),this.model.showResetIcon&&this._showReset()):(s=this.value(),"none"!=this.model.multiSelectMode&&(t.isNullOrUndefined(s)||""!=s)&&(s=s.substr(s.length-this.model.delimiterChar.length)==this.model.delimiterChar?s:s+this.model.delimiterChar),this.value(this._setValue(s)),this.model.showResetIcon&&""!=this.value()&&this._showReset())},_checkNameAttr:function(){this.element.attr("name")||this.element.attr("name",this.element[0].id)},_disabled:function(e){e?this.disable():this.enable()},_destroyDropdown:function(){this.dropdownbutton.off("mousedown",e.proxy(this._OnDropdownClick,this)),this.dropdownbutton.remove(),this.dropdownbutton=null,this.container.removeClass("e-padding")},_validateDelimiter:function(t){return e.trim(t).length!=t.length&&null==t.length||/^[a-zA-Z0-9]+$/.test(t)?",":t},_checkWatermarkSupport:function(){return"placeholder"in document.createElement("input")},_setWatermark:function(){(this.model.watermarkText&&(""==this.value()||t.isNullOrUndefined(this.value()))||"visualmode"!=this.model.multiSelectMode)&&this.element.attr("placeholder",this.model.watermarkText).width("")},_setWatermarkTxt:function(){null!=this.model.watermarkText&&""==e.trim(this.element.val())&&("visualmode"!=this.model.multiSelectMode||""==e.trim(this._hiddenInput.val()))&&this._hiddenSpan.css("display","block").text(this.model.watermarkText)},_renderSuggestionList:function(){var i,s,n,o,l,r,a=e("#"+this.element[0].id+"_suggestion").get(0);if(a&&e(a).remove(),this.suggestionList=t.buildTag("div.e-atc-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_suggestion","",{display:"none"}).attr("role","listbox"),this.element.attr("aria-owns",this.target.id+"_suggestion"),this.popup=this.suggestionList,i=t.buildTag("div"),this.model.multiColumnSettings.enable){if(this._tableColumn=t.buildTag("table","",{},{role:"listbox","border-collapse":"separate",border:0,cellspacing:0,cellpadding:0,class:"e-atc-tableContent"}),this._listEventBind(this._tableColumn,"tr"),this._headerColGroup=document.createElement("colgroup"),this.model.multiColumnSettings.showHeader){for(this._tableHeaderDiv=t.buildTag("div",{},{},{class:"e-atc-tableHeader "+(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll")}),s=t.buildTag("div",{},{},{class:"e-atc-tableHeaderContent e-atc-tableHeaderBorder"}),n=document.createElement("tr"),this._tableHeader=t.buildTag("table","",{},{cellspacing:"0.25px"}),o=0,l=this.model.multiColumnSettings.columns.length;o<l;o++)e(n).append(t.buildTag("th",this.model.multiColumnSettings.columns[o].headerText?this.model.multiColumnSettings.columns[o].headerText:"column"+o,{"text-align":this.model.multiColumnSettings.columns[o].headerTextAlign?this.model.multiColumnSettings.columns[o].headerTextAlign:"left"},{class:o==this.model.multiColumnSettings.columns.length-1?"":this.model.enableRTL?"e-atc-thleft":"e-atc-thright"})),e(this._headerColGroup).append(document.createElement("col"));e(this._tableHeaderDiv).append(e(s).append(e(this._tableHeader).append(n).append(this._headerColGroup))),this.suggestionList.append(this._tableHeaderDiv)}else{for(o=0,l=this.model.multiColumnSettings.columns.length;o<l;o++)e(this._headerColGroup).append(document.createElement("col"));this._tableColumn.append(this._headerColGroup)}(r=t.buildTag("div")).append(this._tableColumn),i.append(r)}else this.ul=t.buildTag("ul.e-ul").attr("role","listbox"),this._listEventBind(this.ul,"li:not('.e-category')"),i.append(this.ul);this.suggestionList.append(i),e("body").append(this.suggestionList),this._setListWidth(),this._setListHeight(),this.model.multiColumnSettings.enable?(i.ejScroller({height:i.height(),width:0,scrollerSize:20}),this.scrollerObj=i.ejScroller("instance")):(this.suggestionList.ejScroller({height:this.suggestionList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.suggestionList.ejScroller("instance"))},_listEventBind:function(t,i){t.on({mouseenter:e.proxy(this._OnMouseEnter,this),mouseleave:e.proxy(this._OnMouseLeave,this),click:e.proxy(this._OnMouseClick,this)},i)},_checkEmptyList:function(){"visualmode"==this.model.multiSelectMode&&this._removeRepeated(),0==this.suggestionListItems.length?(this.suggestionListItems.push(this.model.emptyResultText),this.noresult=!0):this.noresult=!1},_showSuggestionList:function(e){this.suggestionListItems=this.model.enableDistinct?t.dataUtil.distinct(this.suggestionListItems,"object"!=typeof this.suggestionListItems[0]?"":this.model.fields&&this.model.fields.text?this.model.fields.text:"text",!0):this.suggestionListItems,this.model.itemsCount>0&&(this.suggestionListItems=t.DataManager(this.suggestionListItems).executeLocal(t.Query().take(this.model.itemsCount))),this._checkEmptyList(),this._addNewTemplate=null,this.noresult&&"visualmode"==this.model.multiSelectMode&&this.model.allowAddNew&&""!=this.element.val()&&!this._repeatRemove&&(this.noresult=!1,this.suggestionListItems.pop(),this._addNewTemplate="   ("+this.model.addNewText+")",this.suggestionListItems.push(this.element.val()+this._addNewTemplate),this._checkEmptyList()),(!this.noresult||this.model.showEmptyResultText)&&this._generateSuggestionList(e)},_generateSuggestionList:function(i){var s,n,o,l,r,a,h,d,u,c,m,g=this.suggestionListItems;if(this.model.multiColumnSettings.enable?this._tableColumn.empty()&&this.model.multiColumnSettings.showHeader&&this._tableHeaderDiv.css("display",""):this.ul.empty(),s=this,n=document.createDocumentFragment(),"object"!=typeof g[0]){if(s.model.multiColumnSettings.enable){var p=t.buildTag("tbody"),f=t.buildTag("tr").attr("role","option").attr(s._isIE8?{unselectable:"on"}:{}),_=t.buildTag("td",{},{},{role:"option"});for(l=0,r=g.length;r>l;l++){var b=s.model.highlightSearch&&!s.noresult?s._highlightSuggestion(g[l]):g[l],v=f.clone(),y=_.clone();e(y).attr(s._isIE8?{unselectable:"on"}:{}).attr(g[l]!=g.length-1?{class:"e-atc-tdbottom"}:{}).html(b),v[0].appendChild(y[0]),p[0].appendChild(v[0]),n.appendChild(p[0]),s.model.showEmptyResultText&&s.model.emptyResultText==b&&s.model.multiColumnSettings.showHeader&&s._tableHeaderDiv.css("display","none")&&e(y).removeClass("e-atc-tdbottom"),s._addNewTemplate&&!t.isNullOrUndefined(s._tableHeaderDiv)&&s._tableHeaderDiv.css("display","none")}s._tableColumn[0].appendChild(n)}else{for(o=t.buildTag("li",{},{},{role:"option"}).attr(s._isIE8?{unselectable:"on"}:{}),l=0,r=g.length;r>l;l++)b=s.model.highlightSearch&&!s.noresult?s._highlightSuggestion(g[l]):g[l],(a=o.clone())[0].innerHTML=b,n.appendChild(a[0]);s.ul[0].appendChild(n)}this._currList=g,this._mapper={txt:null,key:null}}else h=this.model.fields,(d={_key:null,_text:null,_attr:null})._key=h&&h.key?h.key:"key",d._text=h&&h.text?h.text:"text",d._attr=h&&h.htmlAttributes?h.htmlAttributes:"htmlAttributes",this._mapper={txt:d._text,key:d._key},this._currList=[],this.model.fields.groupBy?(u=h&&h.groupBy?h.groupBy:"groupBy",m=t.Query().group(u),this._addSortingQuery(m,"key"),c=t.DataManager(g).executeLocal(m),this._swapUnCategorized(c),c.forEach(function(e,i){if(e.key)if(s.model.multiColumnSettings.enable){var n=t.buildTag("tr.e-category").attr("role","option").attr(s._isIE8?{unselectable:"on"}:{});n.append(t.buildTag("td",e.key).attr("role","option").attr(s._isIE8?{unselectable:"on"}:{}).attr(i!=g.length-1?{class:"e-atc-tdbottom"}:{})),s._tableColumn.append(n)}else s.ul.append(t.buildTag("li.e-category",e.key).attr("role","option").attr(s._isIE8?{unselectable:"on"}:{}));s._generateLi(e.items,d)})):this._generateLi(g,d);this._getLiTags().length>0&&(e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),this._showResult(i))},_swapUnCategorized:function(e){for(var t,i=e.length,s=0;s<i;s++)if(!e[s].key){for(t=s;t>0;t--)e[t]=e[t-1];return e[t]=e[s],!1}},_generateLi:function(i,s){var n,o,l,r,a,h,d,u,c,m,g,p=this,f=document.createDocumentFragment(),_=document.createDocumentFragment();if(p.model.multiColumnSettings.enable){for(n=p.model.multiColumnSettings.columns.length,this._tableColumn.append(t.buildTag("tbody")),o=t.buildTag("tr"),l=t.buildTag("td"),d=0,u=i.length;u>d;d++)if(c=i[d][s._text],m=i[d][s._key],!t.isNullOrUndefined(c)||p.model.multiColumnSettings.enable){for(p._getField(i[d]),(r=o.clone())[0].className=d%2?"e-atc-trbgcolor":"",a=0;a<n;a++)(h=l.clone())[0].innerHTML=p.model.highlightSearch&&e.inArray(a.toString(),p._columnIndex)>-1?p._highlightSuggestion(p._getField(i[d],p.model.multiColumnSettings.columns[a].field).toString()):p._getField(i[d],p.model.multiColumnSettings.columns[a].field),h[0].className=(d!=i.length-1?"e-atc-tdbottom ":"")+(a!=p.model.multiColumnSettings.columns.length-1?p.model.enableRTL?"e-atc-tdleft ":"e-atc-tdright ":"")+(p.model.multiColumnSettings.columns[a].cssClass?p.model.multiColumnSettings.columns[a].cssClass:""),h[0].style.textAlign=p.model.multiColumnSettings.columns[a].textAlign?p.model.multiColumnSettings.columns[a].textAlign:"left",_.appendChild(h[0]);r[0].appendChild(_),m&&r.attr("id",m),p._setAttributes(p._getField(i[d],s._attr),r[0]),f.appendChild(r[0]),p._currList=p._currList.concat([i[d]])}e(p._tableColumn).find("tbody")[0].appendChild(f)}else{for(d=0,u=i.length;u>d;d++)c=i[d][s._text],m=i[d][s._key],t.isNullOrUndefined(c)||(p.model.highlightSearch&&(c=p._highlightSuggestion(c)),p.model.template&&(c=p._getTemplatedString(i[d],s._text,c)),(g=document.createElement("li")).innerHTML+=c,m&&g.setAttribute("id",m),p._setAttributes(p._getField(i[d],s._attr),g),f.appendChild(g),p._currList=p._currList.concat([i[d]]));p.ul[0].appendChild(f)}},_getLiTags:function(){return this.model.multiColumnSettings.enable?this._tableColumn.find("tbody tr:not('.e-category')"):this.ul.children("li:not('.e-category')")},_getTemplatedString:function(e,t,i){for(var s=this.model.template,n=s.indexOf("${"),o=s.indexOf("}");-1!=n&&-1!=o;){var l=s.substring(n,o+1),r=l.replace("${","").replace("}",""),a=this._getField(e,r);t==r&&(a=i),a||(a=""),n=(s=s.split(l).join(a)).indexOf("${"),o=s.indexOf("}")}return s},_getField:function(e,i){return t.pvt.getObject(i,e)},_setAttributes:function(t,i){if(t)for(var s in"string"==typeof t&&(t=e.parseJSON(t)),t)i.setAttribute(s,t[s])},_setListWidth:function(){var e=this.model.popupWidth;e&&"auto"!=e?this.suggestionList.css({width:e}):this.suggestionList.css({width:this.wrapper.width()})},_setListHeight:function(){this.suggestionList.css({"max-height":this.model.popupHeight})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.wrapper.outerWidth()!=this.suggestionList.outerWidth()&&(this.suggestionList.css({width:this.wrapper.width()}),this._refreshScroller()),this._setListPosition()},_showResult:function(s){var n,o,l,r;this._refreshScroller(),this._refreshPopup(),this._isOpened?e(document).on("mousedown",e.proxy(this._OnDocumentClick,this)):(this.suggestionList.css("display","none"),n=this,clearTimeout(this._typing),this._typing=setTimeout(function(){n.suggestionList["slide"==n.model.animateType?"slideDown":"fadeIn"]("none"==n.model.animateType?0:300,function(){e(document).on("mousedown",e.proxy(n._OnDocumentClick,n))})},this.model.delaySuggestionTimeout),o=s!=i?{event:s,isInteraction:!0}:{isInteraction:!1},this._trigger("open",o),this.wrapper.addClass("e-active")),this._isOpened=!0,this.showSuggestionBox=!0,l=this._getLiTags(),this._listSize=l.length,e(window).on("resize",e.proxy(this._OnWindowResize,this)),(r=t.getScrollableParents(this.wrapper))[0]!=window&&this._on(r,"scroll",this._hideResult)},_hideResult:function(s){var n,o;this.showSuggestionBox&&(this.showSuggestionBox=!1,this._activeItem=0,clearTimeout(this._hiding),this.element.attr("aria-expanded",!1),n=this,this._isOpened?(this.suggestionList.css("display","none"),o=s!=i?{event:s,isInteraction:!0}:{isInteraction:!1},this._trigger("close",o)):this._hiding=setTimeout(function(){n.model&&n.suggestionList["slide"==n.model.animateType?"slideUp":"fadeOut"]("none"==n.model.animateType?0:100),n._activeItem=0},this.model.delaySuggestionTimeout),e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this.wrapper.removeClass("e-active"))},_refreshScroller:function(){this.suggestionList.css("height","auto"),this.suggestionList.find(".e-content , .e-scroller").removeAttr("style"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(e(this._tableColumn).attr("width","auto"),e(this._tableHeader).attr("width","auto")),this.suggestionList.css("display","block"),this.model.multiColumnSettings.enable&&(this.scrollerObj.option("height","auto"),this._columnBorderAlign());var i=this.suggestionList.height()>parseInt(e.isNumeric(this.model.popupHeight)?this.model.popupHeight:this.model.popupHeight.replace("px",""))-4;i||this.model.multiColumnSettings.enable&&(this.suggestionList.height()<=this._tableColumn.height()||this.suggestionList.width()<=this._tableColumn.width()||this.model.multiColumnSettings.showHeader&&this.suggestionList.width()<=this._tableHeader.width())?(i&&(this.scrollerObj.model.height=this.model.multiColumnSettings.showHeader&&this._tableHeader?parseInt(this.suggestionList.height())-parseInt(this._tableHeader.height()):this.suggestionList.height()),!this.model.multiColumnSettings.enable&&this.suggestionList.width()<this.suggestionList.find(".e-ul").width()&&this.suggestionList.find(".e-ul").width(this.suggestionList.find(".e-ul").width()),this.scrollerObj.model.width=this.suggestionList.width(),this.scrollerObj.refresh(),this.scrollerObj.option({enableRTL:this.model.enableRTL,scrollTop:0,scrollLeft:0}),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._addThBorder(),this.suggestionList.addClass("e-scroller"),!this.scrollerObj._vScroll&&this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()):(this.suggestionList.removeClass("e-scroller"),this.scrollerObj.refresh(),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()),this.suggestionList.css("height","auto"),this._isIE8&&this.suggestionList.find(".e-vscroll div, .e-hscroll div").attr("unselectable","on"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this.suggestionList.find(".e-content").scroll(t.proxy(function(t){this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(e(t.currentTarget).scrollLeft())},this)),this.suggestionList.find(".e-content").length>0&&this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(this.model.enableRTL?this.suggestionList.find(".e-content")[0].scrollWidth-this.suggestionList.find(".e-content")[0].clientWidth:0))},_columnBorderAlign:function(){var t,i,s;if(this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&"none"!=this._tableHeaderDiv.css("display")){for(this._tableWid=this._tableHeader.outerWidth()>this._tableColumn.outerWidth()?this._tableHeader.outerWidth():this._tableColumn.outerWidth(),this._tableColumn.find("colgroup").remove(),e(this._headerColGroup.children).removeAttr("style"),i=0,s=this._headerColGroup.children.length;i<s;i++)e(this._headerColGroup.children[i]).css({width:parseInt(e(this._tableColumn).find("tr:first td").eq(i).outerWidth())>parseInt(this._tableHeader.find("tr:first th").eq(i).outerWidth())?e(this._tableColumn).find("tr:first td").eq(i).outerWidth():this._tableHeader.find("tr:first th").eq(i).outerWidth()});this._tableColumn.append(e(this._headerColGroup).clone()),t=this._tableWid>this.suggestionList.width()?this._tableWid:"100%",e(this._tableColumn).attr("width",t),e(this._tableHeader).attr("width",t)}else if(this.model.multiColumnSettings.enable&&!this.model.multiColumnSettings.showHeader){if(e(this._tableColumn).attr("width","auto"),this._tableWid=this._tableColumn.outerWidth(),e(this._headerColGroup.children).removeAttr("style"),"100%"!=(t=this._tableWid>this.suggestionList.width()?this._tableWid:"100%")){for(i=0,s=this._headerColGroup.children.length;i<s;i++)e(this._headerColGroup.children[i]).css({width:e(this._tableColumn).find("tr:first td").eq(i).outerWidth()});this._tableColumn.append(this._headerColGroup)}e(this._tableColumn).attr("width",t)}else e(this._tableColumn).attr("width","100%")},_removeThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").removeClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.parent(".e-atc-tableHeaderContent").removeClass("e-atc-tableHeaderBorder")},_addThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").addClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll").removeClass(this.model.enableRTL?"e-atc-tableHeaderScroll":"e-atc-tableHeaderRTL"),this._tableHeader.parent(".e-atc-tableHeaderContent").addClass("e-atc-tableHeaderBorder")},_setListPosition:function(){var t,i=this.wrapper,s=this._getOffset(i),n=e(document).scrollTop()+e(window).height()-(s.top+e(i).outerHeight()),o=s.top-e(document).scrollTop(),l=this.suggestionList.outerHeight(),r=this.suggestionList.outerWidth(),a=s.left,h=i.outerHeight(),d=(h-i.height())/2,u=this._getZindexPartial(),c=(l<n||l>o?s.top+h+3:s.top-l-3)-d;t=e(document).scrollLeft()+e(window).width()-a,(this.model.enableRTL||r>t&&r<a+i.outerWidth())&&(a-=this.suggestionList.outerWidth()-i.outerWidth()),this.suggestionList.css({left:a+"px",top:c+"px","z-index":u})},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.suggestionList)},_targetFocus:function(e){"visualmode"==this.model.multiSelectMode&&this._setWatermarkWidth(30),this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this._isFocused=!0,this._trigger("focusIn",{event:e,isInteraction:!0,value:this.value()})},_focusOutAction:function(e){var i,s;this._isFocused=!1,this.wrapper.removeClass("e-focus"),this._isWatermark||this._setWatermarkTxt(),this._removeSelection(),"visualmode"==this.model.multiSelectMode&&this.model.showResetIcon&&""!=this.element.val()&&this._removeReset(),"visualmode"==this.model.multiSelectMode?(this._removeActive(),this.element.val(""),this._setWatermarkWidth(1),this._preVal="",this._addNewTemplate=null):("delimiter"==this.model.multiSelectMode&&this._valueChange(e),this._updateSelectedItemArray(this.getValue())),t.isNullOrUndefined(this.value())||""==this.value()||(i=this.value().split(this.model.delimiterChar),("delimiter"==this.model.multiSelectMode||"none"==this.model.multiSelectMode)&&(s=this._removeDuplicateVal(i),this._keyProcess(s))),""==this.element.val()&&(""==this.value()||null==this.value())&&this._selectValueByKey(null)},_targetBlur:function(e){this._focusOutAction(e),this._trigger("focusOut",{event:e,isInteraction:!0,value:this.value()})},_setWatermarkWidth:function(e){this.model.watermarkText&&this.element.attr("placeholder")?this.element.width(""):this.element.val("").width(e)},_checkDeli:function(){var e=this.element.val(),t=this.model.delimiterChar;return e.substr(e.length-t.length,e.length)==t&&(this.element.val(e.substr(0,e.length-t.length)),!0)},_removeSelection:function(){if(this.model.enableAutoFill){this.element.attr("aria-autocomplete","both");var e=this._getCaretSelection();e.end-e.start!=0&&e.end-e.start!=this.element.val().length&&(this.target.value=this.target.value.substr(0,e.start))}},_removeListHover:function(){this._getLiTags().removeClass("e-hover")},_addListHover:function(){var t=e(this._getLiTags()[this._activeItem-1]);t.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),t.focus()},_calcScrollTop:function(){this.model.multiColumnSettings.enable?this.model.multiColumnSettings.showHeader?(this._tableColumn.outerHeight(),this._tableHeader.outerHeight()):this._tableColumn.outerHeight():this.ul.outerHeight();var e,t=this.model.multiColumnSettings.enable?this._tableColumn.find("tr"):this.ul.find("li");return e=this.model.multiColumnSettings.enable?this._tableColumn.find("tr.e-hover").index():this.ul.find("li.e-hover").index(),t.eq(1).outerHeight()*e-((this.model.multiColumnSettings.enable?this._tableColumn.parent().outerHeight():this.suggestionList.outerHeight())-t.eq(e).outerHeight())/2},getActiveText:function(){if(this._activeItem>0)return this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):!t.isNullOrUndefined(this._mapper)&&this._mapper.txt?this._getField(this._currList[this._activeItem-1],this._mapper.txt):this._currList[this._activeItem-1]},_getUniqueKey:function(){var e=null;return t.isNullOrUndefined(this._mapper)||(this._mapper.key&&(e=this._getField(this._currList[this._activeItem-1],this._mapper.key)),t.isNullOrUndefined(e)&&(e=null)),e},_setTextBoxValue:function(){var t,i,s,n,o,l;this._activeItem&&!this.noresult&&(t=this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):this.getActiveText(),i=this._getCaretSelection(),this.suggLen=i.start,s=this.target.value.substr(0,this.suggLen),l=-1==(o=this.target.value.lastIndexOf(this.model.delimiterChar))?e.trim(s.substr(o+1,this.suggLen)):e.trim(s.substr(o+this.model.delimiterChar.length,this.suggLen)),!s||s.toLowerCase()!=t.substr(0,this.suggLen).toLowerCase()&&l.toLowerCase()!=t.substr(0,this.suggLen-(o+this.model.delimiterChar.length)).toLowerCase()?("delimiter"==this.model.multiSelectMode&&t&&l?this.element.val(this.element.val().replace(l,t)):t&&this.element.val(t),this._removeSelection()):(n="delimiter"==this.model.multiSelectMode?s+t.substr(l.length,t.length):s+t.substr(s.length,t.length),this.element.val(n),this._autofilSelection(),"visualmode"==this.model.multiSelectMode&&(this._adjustWidth(),this.model.enableAutoFill&&this._refreshPopup()),this.model.autoFocus&&!this.noresult&&this._addListHover()))},_enterTextBoxValue:function(e){var t,i,s;!this._activeItem||this.noresult||this.model.readOnly||(t=this.getActiveText(),i=this._currList[this._activeItem-1],this._preVal=t+("delimiter"==this.model.multiSelectMode?this.model.delimiterChar:""),this._valueToTextBox(t,i,!1),s="visualmode"==this.model.multiSelectMode?this._modelValue:""==this.element.val()?null:this.element.val(),this._trigger("select",{event:e,isInteraction:!0,value:s,text:t,key:this._getUniqueKey(),item:i}),this._valueChange(e),this.model.showResetIcon&&this._showReset()),this._isOpened&&this._trigger("close",{event:e,isInteraction:!0})},_createBox:function(i){var s=t.buildTag("span.e-icon e-close"),n=t.buildTag("li.e-options",i).append(s);return this._on(s,"click",function(t){if(!this.model.enabled)return!1;this._deleteBox(e(t.target).parent())}),n},_addLoadingClass:function(){this.model.showLoadingIcon&&this.element.addClass("e-load")},_removeLoadingClass:function(){this.element.removeClass("e-load")},_highlightSuggestion:function(t){var i,s,n,o,l,r,a,h,d;if(""!=e.trim(this._queryString)&&(i=this.model.caseSensitiveSearch?"g":"gi",r=e.trim(this._queryString),r=/^[a-zA-Z0-9- ]*$/.test(r)?r:r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),s="startswith"==this.model.filterType?"^"+r:"endswith"==this.model.filterType?r+"$":r,(n=new RegExp(s,i)).test(t)))for(o=t.match(n),a=t.replace(n,"~^"),t="",h=0,d=(l=a.split("~^")).length;d>h;h++)t+=o[h]?l[h]+"<span class='e-hilight-txt'>"+o[h]+"</span>":l[h];return t},_RightToLeft:function(e){e?(this.wrapper.addClass("e-rtl"),this.suggestionList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.suggestionList.removeClass("e-rtl")),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this._tableHeaderDiv.removeClass(e?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.find("tr :not(th:last)").addClass(e?"e-atc-thleft":"e-atc-thright").removeClass(e?"e-atc-thright":"e-atc-thleft"))},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.suggestionList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.suggestionList.removeClass("e-corner"))},_checkReadOnly:function(e){this.model.readOnly=e,this.model.readOnly?(this.element.attr({readonly:"readonly","aria-readonly":!0}),this._off(this.element,"keydown",this._OnKeyDown),this._off(this.element,"keyup",this._OnKeyUp),this._off(this.element,"paste",this._OnPaste),this._off(this.element,"keypress",this._onkeyPress)):(this.element.removeAttr("readonly aria-readonly"),this._on(this.element,"keydown",this._OnKeyDown),this._on(this.element,"keyup",this._OnKeyUp),this._on(this.element,"paste",this._OnPaste),this._on(this.element,"keypress",this._onkeyPress))},_onkeyPress:function(e){13==e.keyCode&&this._PreventDefaultAction(e)},_OnPaste:function(e){var t=this;setTimeout(function(){t._OnKeyUp(e)},0)},_OnKeyDown:function(t){var i;switch("startswith"!=this.model.filterType&&(this.model.enableAutoFill=!1),t.keyCode){case 37:case 35:case 36:this._removeSelection();break;case 38:this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),this._activeItem>1?this._activeItem-=1:this._activeItem=this._listSize,this._navigationHover()),this._PreventDefaultAction(t);break;case 40:this.showSuggestionBox&&this.suggestionList?(this._removeListHover(),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=1,this._navigationHover()):t.ctrlKey&&""==this.element.val()?this._showFullList(t):t.ctrlKey&&this._showSuggestionList(t),this._PreventDefaultAction(t);break;case 33:case 34:if(this.showSuggestionBox&&this.suggestionList){this._removeListHover();var s=this.model.multiColumnSettings.enable?this._tableColumn.parent().height():this.suggestionList.height(),n=this.model.multiColumnSettings.enable?this._tableColumn.find("tr").outerHeight():this.ul.children("li").outerHeight(),o=0!=Math.round(s/n)?Math.round(s/n):this._listSize;this._activeItem=33==t.keyCode?this._activeItem-o:this._activeItem+o,this._activeItem<1&&(this._activeItem=1),this._activeItem>this._listSize&&(this._activeItem=this._listSize),this._navigationHover()}this._PreventDefaultAction(t);break;case 8:""==e.trim(this.element.val())&&(this._isOpened=!1),"visualmode"==this.model.multiSelectMode&&""==this.element.val()&&this._deleteLastBox();break;case 17:this.ctrlKeyPressed=!0;break;case 9:this.showSuggestionBox&&(this._queryString=this.element.val(),this._enterTextBoxValue(t),this._hideResult(t),this._isOpened=!1,this._PreventDefaultAction(t));break;case 27:this._isOpened=!1,i=this.showSuggestionBox,this._hideResult(t),this._PreventDefaultAction(t),i&&this._trigger("close",{event:t,isInteraction:!0})}"visualmode"==this.model.multiSelectMode&&(17!=t.keyCode&&8!=t.keyCode&&46!=t.keyCode&&this._removeActive(),this._adjustWidth())},_PreventDefaultAction:function(e){e.preventDefault(),this._cancelEvent||(e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!0)},_bubbleEvent:function(e){return"boolean"==typeof e&&(this._cancelEvent=e),this._cancelEvent},_navigationHover:function(){this._addListHover(),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this._queryString=this.target.value,this._setTextBoxValue())},_OnKeyUp:function(t){if(this._keyDownComplete(t),this.ctrlKeyPressed&&"paste"!=t.type)return 17==t.keyCode&&(this.ctrlKeyPressed=!1),!1;if(""==e.trim(this.element.val())&&38==t.keyCode&&40==t.keyCode)return this._hideResult(t),!1;if(!this._checkDelimiter())return!1;switch(this._queryString=e.trim(this._queryString),t.keyCode){case 34:case 33:case 38:case 40:case 37:case 39:case 20:case 16:case 17:case 18:case 35:case 36:case 144:case 9:case 27:break;case 13:t.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(t),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this.suggLen=this.element.val().length,this._autofilSelection()),this._isOpened=!1,this._hideResult(t);break;case 46:if("visualmode"==this.model.multiSelectMode&&""==this.element.val()){this._deleteBox(this._ulBox.children("li.e-active"));break}case 8:this._queryString.length>=this.model.minCharacter?(this._autoFill=!1,this._OnTextEnter(t)):(this.noresult=!0,this._hideResult(t),""==e.trim(this.element.val())&&(this._isOpened=!1)),this._typed=!0;break;default:this._queryString.length>=this.model.minCharacter?(this._autoFill=!0,this._OnTextEnter(t)):this.noresult=!0,this._typed=!0}},_getFilteredList:function(e,i){var s,n;clearTimeout(this.timeDelay),t.isNullOrUndefined(e)||"object"!=typeof e[0]||(s=this.model.fields.text?this.model.fields.text:"text",this.model.actionFailure&&t.isNullOrUndefined(t.DataManager(e).executeLocal(t.Query().select(s))[0])&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})),!e||!e.length||e.length<1?(this.suggestionListItems=[],this.model.actionFailure&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})):(n=t.Query(),this._addQuery(n,"object"==typeof e[0]),this.suggestionListItems=t.DataManager(e).executeLocal(n),this.model.actionSuccess&&this._trigger("actionSuccess")),this._doneRemaining(i),this.model.actionComplete&&this._trigger("actionComplete")},_performSearch:function(e){var i,s;this.model.actionBegin&&this._trigger("actionBegin"),i=this.model.dataSource,t.DataManager&&i instanceof t.DataManager?i.dataSource.offline||i.dataSource.json&&i.dataSource.json.length>0?(this._getFilteredList(i.dataSource.json,e),this._selectedObj.push(i.dataSource.json)):(window.clearTimeout(this.timer),s=this,this.timer=window.setTimeout(function(){s._fetchRemoteDat(i)},700)):this._getFilteredList(i,e)},_fetchRemoteDat:function(e){var t=this,i=this._getQuery();this._addQuery(i,!0),e.executeQuery(i).fail(function(e){t.suggestionListItems=null,t._removeLoadingClass(),t._trigger("actionFailure",e)}).done(function(e){t.suggestionListItems=e.result,"none"==t.model.multiSelectMode?t._selectedObj=e.result:"delimiter"==t.model.multiSelectMode&&(t._selectedObj=t._selectedObj.concat(e.result)),t._doneRemaining(e),t._trigger("actionSuccess",e)}).always(function(e){t._trigger("actionComplete",e)})},_addSortingQuery:function(e,t){if(this.model.allowSorting){var i="descending"==this.model.sortOrder;e.sortBy(t,i)}},_addQuery:function(e,t){var i,s,n,o,l="";if(t&&(l=(s=this.model.fields)&&s.text?s.text:"text"),this._queryString)if(this.model.multiColumnSettings.enable)if(this._columnsIndex(),t){for(l=[],n=0,o=this._columnIndex.length;n<o;n++)l.push(this.model.multiColumnSettings.columns[this._columnIndex[n]].field),i=this._predicateConvertion(i,this.model.multiColumnSettings.columns[this._columnIndex[n]].field,this.model.multiColumnSettings.columns[this._columnIndex[n]].filterType?this.model.multiColumnSettings.columns[this._columnIndex[n]].filterType:"startswith",this._queryString,!this.model.caseSensitiveSearch,this.model.multiColumnSettings.columns[this._columnIndex[n]].type?this.model.multiColumnSettings.columns[this._columnIndex[n]].type:"string");e.where(i)}else e.where(l,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);else e.where(l,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);this._addSortingQuery(e,l)},_predicateConvertion:function(e,s,n,o,l,r){var a;return"number"==r?a=Number(o):"boolean"==r?"true"==o||"yes"==o||"1"==o?a=!0:("false"==o||"no"==o||"0"==o)&&(a=!1):a="date"==r?new Date(o):o,"number"==r&&isNaN(a)||"boolean"==r&&a==i?e:e!=i?e.or(s,n,a,l):t.Predicate(s,n,a,l)},_getQuery:function(){var e;if(t.isNullOrUndefined(this.model.query)){var i=[],s=t.Query(),n=this.model.fields;for(e in n)"tableName"!==e&&n[e]&&i.push(n[e]);i.length>0&&s.select(i),t.isNullOrUndefined(this.model.dataSource.dataSource.url)||this.model.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||s.from(n.tableName)}else s=this.model.query.clone();return s},_OnTextEnter:function(e){var i=this;t.isDevice()?(clearTimeout(this.timeDelay),this.timeDelay=setTimeout(function(){i._onTextProcess(e)},i.model.delaySuggestionTimeout)):i._onTextProcess(e)},_onTextProcess:function(e){this._addLoadingClass(),this.element.attr("aria-expanded",!1),this._performSearch(e),this.model.showResetIcon&&this._showReset()},_showReset:function(){t.isNullOrUndefined(this.resetSpan)&&(this.resetSpan=t.buildTag("span.e-icon e-iclose"),this.model.showPopupButton?(this.dropdownbutton.before(this.resetSpan),this.container.addClass("e-popup e-reset")):this.container.append(this.resetSpan).addClass("e-reset")),this._on(this.resetSpan,"mousedown",this._refreshSearch)},_refreshSearch:function(){this.resetSpan=null,this.clearText(),this._refreshPopup()},_removeReset:function(){this.resetSpan=this.resetSpan&&this.resetSpan[0].remove(),this._refreshPopup()},_doneRemaining:function(e){this._showSuggestionList(e),this.element.attr({"aria-expanded":!0,"aria-haspopup":!0}),(this.model.enableAutoFill&&this._autoFill&&!this.noresult||this.model.autoFocus)&&(this.element.attr("aria-autocomplete","both"),this._activeItem=1,this._queryString=this.target.value),this.model.enableAutoFill&&this._autoFill&&!this.noresult&&this._setTextBoxValue(),this.model.autoFocus&&!this.noresult&&this._addListHover(),this._removeLoadingClass(),this.noresult&&!this.model.showEmptyResultText&&this._hideResult(e)},_removeRepeated:function(){var e,t,i,s=this.suggestionListItems;if(!s||0==s.length||0==this._selectedItems.length||1==this.suggestionListItems.length&&this.suggestionListItems[0]==this.element.val()+this._addNewTemplate)return!1;for(this._repeatRemove=!1,e=0,t=this._selectedItems.length;e<t;e++)-1!=(i=s.indexOf(this._selectedItems[e]))&&this.suggestionListItems.splice(i,1),this.element.val()==this._selectedItems[e]&&(this._repeatRemove=!0)},_checkDelimiter:function(){this._queryString=this.element.val();var e="delimiter"!=this.model.multiSelectMode?-1:this._queryString.lastIndexOf(this.model.delimiterChar);return-1==e||(this._queryString=this._queryString.substr(e+this.model.delimiterChar.length,this._queryString.length)),!0},_autofilSelection:function(){var e=this.element[0],t=this.element.val().length;e.setSelectionRange?e.setSelectionRange(this.suggLen,t):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",this.suggLen),e.select())},_OnDropdownClick:function(e){this.model.enabled&&!this.model.readOnly&&(e.preventDefault(),(e.which&&1==e.which||e.button&&0==e.button)&&(this._addLoadingClass(),this.showSuggestionBox?(this._hideResult(e),this._isOpened=!1,this._removeLoadingClass()):this._showFullList(e)))},_showFullList:function(e){this._isFocused||this.element.focus(),this._queryString=null,this._autoFill=!1,this._performSearch(e)},_OnMouseEnter:function(e){this._getActiveItemIndex(e)},_getActiveItemIndex:function(t){var i=t.target;this.model.multiColumnSettings.enable&&"tr"!=t.target.tagName.toLowerCase()?i=e(t.target).parents("tr"):"li"!=t.target.tagName.toLowerCase()&&(i=e(t.target).parents("li")),this._getLiTags().removeClass("e-hover"),e(i).addClass("e-hover"),this._queryString=this.element.val(),this._activeItem=this._getLiTags().index(e(i))+1},_OnMouseLeave:function(){this._getLiTags().removeClass("e-hover"),this.model.highlightSearch&&this._getLiTags().find(".e-hilight-txt").removeClass("e-hover")},_OnMouseClick:function(e){this._getActiveItemIndex(e),this.noresult||(this._enterTextBoxValue(e),this._isOpened=!1,this._hideResult(e))},_OnDocumentClick:function(t){e(t.target).is(this.suggestionList)||e(t.target).parents(".e-atc-popup").is(this.suggestionList)||e(t.target).is(this.element)||e(t.target).parents(".e-atc").is(this.wrapper)?(e(t.target).is(this.suggestionList)||e(t.target).parents(".e-atc-popup").is(this.suggestionList))&&t.preventDefault():(this._isOpened=!1,this._hideResult(t),this._trigger("close",{event:t,isInteraction:!0}))},_OnWindowResize:function(){this._refreshPopup()},_keyProcess:function(e){var i,s,n,o,l=this._declareVariable();if(i=this._delimiterChar(),!t.isNullOrUndefined(e))for(s=0,n=e.length;s<n;s++)o=e[s],t.DataManager&&this.model.dataSource instanceof t.DataManager?this._selectValueByKey(null):(this._dataQuery=this.model.multiColumnSettings.enable?t.Query():t.Query().where(l[0],this.model.filterType,o,!1),this._promise=t.DataManager(this.model.dataSource).executeLocal(this._dataQuery),this.model.multiColumnSettings.enable?this._formatStringKey(e,l,i):this._promise instanceof Array&&0==this._promise.length?null!=this._selectValueByKey()&&this._selectValueByKey():this._getFieldKey(this._promise[0],l[1],i))},_formatStringKey:function(e,t,i){var s,n,o,l,r,a;for(this._selectValueByKey(null),s=0,n=e.length;s<n;s++)if(""!=e[s]){for(o=e[s],r=0,a=this._promise.length;r<a;r++)o==this._textFormateString(this._promise[r])&&(l=r);l?this._getFieldKey(this._promise[l],t[1],i):null!=this._selectValueByKey()&&this._selectValueByKey()}},_getFieldKey:function(i,s,n){if((t.isNullOrUndefined(this.model.template)||!t.isNullOrUndefined(this._getField(i,s)))&&!t.isNullOrUndefined(this._getField(i,s))){if(r=this._getField(i,s).toString(),"none"!=this.model.multiSelectMode){var o,l,r=this._selectValueByKey();delimiterChar=this.model.delimiterChar,o=this._getField(i,s).toString(),null!=r?(l=r.toString().split(n).filter(function(e){return""!==e}),-1==e.inArray(o,l)?(l.push(o),r=l.join(delimiterChar)+delimiterChar):r=o+delimiterChar):r=o+delimiterChar}this._selectValueByKey(r)}},_removeDuplicateVal:function(i){var s=[];return e.each(i,function(t,i){-1==e.inArray(i,s)&&s.push(i)}),1!=i.length||t.isNullOrUndefined(this._originalval)||-1==e.inArray(i[0],this._originalval)&&this._selectValueByKey(null),s},_valueChange:function(e){var t="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val();(this.value()!=t||""==t&&""!=this.element.val())&&(this.value(t),this._changeEvtTrigger(t,e)),this.model.showResetIcon&&!t&&(this.wrapper.find("span.e-iclose").remove(),this.resetSpan=null)},_changeEvtTrigger:function(e,t){var s=t!=i?{event:t,isInteraction:!0,value:e}:{isInteraction:!1,value:e};this.initialRender||(this._trigger("_change",{value:e}),this._trigger("change",s))},_updateSelectedItemArray:function(i){var s,n,o,l=[];if(this._selectedItems=[],this.suggestionListItems=this.model.dataSource,"delimiter"==this.model.multiSelectMode&&i)if(l=i.split(this.model.delimiterChar),t.DataManager&&this.model.dataSource instanceof t.DataManager||!t.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]){for(s=0,n=l.length;s<n;s++)if(l[s]){var r=this,a=this._selectedObj.length,h={};for(o=0;o<a;o++)this._selectedObj[o][r.model.fields.text]==l[s]&&(h=this._selectedObj[o],o=a);this._selectedItems.push(e.isEmptyObject(h)?l[s]:h)}}else this._createBoxForObjectType(l);else"none"==this.model.multiSelectMode&&i&&(l.push(i),t.DataManager&&this.model.dataSource instanceof t.DataManager||!t.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]?(r=this,h=e.grep(this._selectedObj,function(e){if(e[r.model.fields.text]==i)return e}),this._selectedItems.push(h.length>0?h:i)):this._createBoxForObjectType(l))},_keyDownComplete:function(e){var t=this.element.val();this._preVal!=t&&(this._preVal=t,"visualmode"==this.model.multiSelectMode&&this._adjustWidth(),this._valueChange(e))},_moveCaretToEnd:function(e){var t,i;e.scrollLeft=e.scrollWidth,e.createTextRange&&((t=e.createTextRange()).moveEnd("textedit"),t.moveStart("textedit"),t.select()),"number"==typeof e.selectionStart?e.selectionStart=e.selectionEnd=e.value.length:void 0!==e.createTextRange&&((i=e.createTextRange()).collapse(!1),i.select())},_getCaretSelection:function(){var e,t,i,s,n=this.element[0],o=0,l=0;return isNaN(n.selectionStart)?(e=document.selection.createRange().getBookmark(),(t=n.createTextRange()).moveToBookmark(e),(i=n.createTextRange()).collapse(!0),i.setEndPoint("EndToStart",t),{start:s=i.text.length,end:s+t.text.length}):(o=n.selectionStart,l=n.selectionEnd,{start:Math.abs(o),end:Math.abs(l)})},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur)}}),t.Autocomplete.Locale=t.Autocomplete.Locale||{},t.Autocomplete.Locale.default=t.Autocomplete.Locale["en-US"]={addNewText:"Add New",emptyResultText:"No suggestions",actionFailure:"The specified field doesn't exist in given data source"},t.filterType={StartsWith:"startswith",Contains:"contains",EndsWith:"endswith",LessThan:"lessthan",GreaterThan:"greaterthan",LessThanOrEqual:"lessthanorequal",GreaterThanOrEqual:"greaterthanorequal",Equal:"equal",NotEqual:"notequal"},t.SortOrder={Ascending:"ascending",Descending:"descending"},t.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},t.Animation={None:"none",Slide:"slide",Fade:"fade"},t.Type={Number:"number",String:"string",Boolean:"boolean",Date:"date"}}(jQuery,Syncfusion)}),$.ajaxSetup({beforeSend:function(e){setXSRFRequestHeader(e)}});
