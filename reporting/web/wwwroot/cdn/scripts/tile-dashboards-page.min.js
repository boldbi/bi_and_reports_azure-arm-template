/*! jQuery Validation Plugin - v1.14.0 - 6/30/2015
 * http://jqueryvalidation.org/
 * Copyright (c) 2015 JÃ¶rn Zaefferer; Licensed MIT */
function DeleteItem(e){$("#delete-item-name").html(e.Name),$("#delete-item").attr("data-item-id",e.Id);var t="";e.ItemType==ItemType.Datasource&&(t=$(this).attr("data-datasource-type")),$("#item-delete-confirmation").ejDialog("open"),$("#item-delete-confirmation_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:deleteConfirmationUrl,data:{itemId:e.Id,itemTypeId:e.ItemType,itemName:e.Name,datasourceType:t},success:function(e){$("#item-delete-confirmation").html(e),$("#item-delete-confirmation_wrapper").ejWaitingPopup("hide")}})}function onDeleteItemDialogClose(){$("#item-delete-confirmation").ejDialog("close")}function onDeleteItemDialogOpen(){$("#item-delete-confirmation").ejDialog("open"),$("#item-delete-confirmation").focus()}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(this.length){var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function o(){var o,r;return!i.settings.submitHandler||(i.submitButton&&(o=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&o.remove(),void 0!==r&&r)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,o()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):o():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,i,o;return e(this[0]).is("form")?t=this.validate().form():(o=[],t=!0,i=e(this[0].form).validate(),this.each(function(){t=i.element(this)&&t,o=o.concat(i.errorList)}),i.errorList=o),t},rules:function(t,i){var o,r,n,a,s,l,d=this[0];if(t)switch(o=e.data(d.form,"validator").settings,r=o.rules,n=e.validator.staticRules(d),t){case"add":e.extend(n,e.validator.normalizeRule(i)),delete n.messages,r[d.name]=n,i.messages&&(o.messages[d.name]=e.extend(o.messages[d.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(t,i){l[i]=n[i],delete n[i],"required"===i&&e(d).removeAttr("aria-required")}),l):(delete r[d.name],n)}return(a=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d)).required&&(s=a.required,delete a.required,a=e.extend({required:s},a),e(d).attr("aria-required","true")),a.remote&&(s=a.remote,delete a.remote,a=e.extend(a,{remote:s})),a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||-1!==e.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,o){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(o):e(t).addClass(i).removeClass(o)},unhighlight:function(t,i,o){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(o):e(t).removeClass(i).addClass(o)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this.form,"validator"),o="on"+t.type.replace(/^validate/,""),r=i.settings;r[o]&&!e(this).is(r.ignore)&&r[o].call(i,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,o=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){o[i]=t})}),i=this.settings.rules,e.each(i,function(t,o){i[t]=e.validator.normalizeRule(o)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i=this.clean(t),o=this.validationTargetFor(i),r=!0;return this.lastElement=o,void 0===o?delete this.invalid[i.name]:(this.prepareElement(o),this.currentElements=e(o),(r=!1!==this.check(o))?delete this.invalid[o.name]:this.invalid[o.name]=!0),e(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){for(var i in e.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var t,i=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(t=0;i[t];t++)this.settings.unhighlight.call(this,i[t],this.settings.errorClass,"");else i.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!t.objectLength(e(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,o=e(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&void 0!==t.validity?!t.validity.badInput&&o.val():"string"==typeof(i=o.val())?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var i,o,r,n=e(t).rules(),a=e.map(n,function(e,t){return t}).length,s=!1,l=this.elementValue(t);for(o in n){r={method:o,parameters:n[o]};try{if("dependency-mismatch"===(i=e.validator.methods[o].call(this,l,t,r.parameters))&&1===a){s=!0;continue}if(s=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,r),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),e}}if(!s)return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,i){var o=this.defaultMessage(t,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof o?o=o.call(this,i.parameters,t):r.test(o)&&(o=e.validator.format(o.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:o,element:t,method:i.method}),this.errorMap[t.name]=o,this.submitted[t.name]=o},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var o,r,n,a=this.errorsFor(t),s=this.idOrName(t),l=e(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(o=a=e("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(o=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(o):this.settings.errorPlacement?this.settings.errorPlacement(o,e(t)):o.insertAfter(t),a.is("label")?a.attr("for",s):0===a.parents("label[for='"+s+"']").length&&(n=a.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+n+"\\b"))||(l+=" "+n):l=n,e(t).attr("aria-describedby",l),(r=this.groups[t.name])&&e.each(this.groups,function(t,i){i===r&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",a.attr("id"))}))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var i=this.idOrName(t),o=e(t).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return o&&(r=r+", #"+o.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},o=e(t).attr("class");return o&&e.each(o.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,o){/min|max/.test(i)&&(null===t||/number|range|text/.test(t))&&(o=Number(o),isNaN(o)&&(o=void 0)),o||0===o?e[i]=o:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,o,r={},n=e(t),a=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(""===(o=t.getAttribute(i))&&(o=!0),o=!!o):o=n.attr(i),this.normalizeAttributeRule(r,a,i,o);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var i,o,r={},n=e(t),a=t.getAttribute("type");for(i in e.validator.methods)o=n.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(r,a,i,o);return r},staticRules:function(t){var i={},o=e.data(t.form,"validator");return o.settings.rules&&(i=e.validator.normalizeRule(o.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(o,r){if(!1!==r){if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!e(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?t[o]=void 0===r.param||r.param:delete t[o]}}else delete t[o]}),e.each(t,function(o,r){t[o]=e.isFunction(r)?r(i):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,o){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==o?o:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,o){if(!this.depend(o,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=e(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,o,r=0,n=0,a=!1;if((e=e.replace(/\D/g,"")).length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)o=e.charAt(i),n=parseInt(o,10),a&&(n*=2)>9&&(n-=9),r+=n,a=!a;return r%10==0},minlength:function(t,i,o){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=o},maxlength:function(t,i,o){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||o>=r},rangelength:function(t,i,o){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=o[0]&&r<=o[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||i>=e},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},equalTo:function(t,i,o){var r=e(o);return this.settings.onfocusout&&r.off(".validate-equalTo").on("blur.validate-equalTo",function(){e(i).valid()}),t===r.val()},remote:function(t,i,o){if(this.optional(i))return"dependency-mismatch";var r,n,a=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=a.message,o="string"==typeof o&&{url:o}||o,a.old===t?a.valid:(a.old=t,r=this,this.startRequest(i),(n={})[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:n,context:r.currentForm,success:function(o){var n,s,l,d=!0===o||"true"===o;r.settings.messages[i.name].remote=a.originalMessage,d?(l=r.formSubmitted,r.prepareElement(i),r.formSubmitted=l,r.successList.push(i),delete r.invalid[i.name],r.showErrors()):(n={},s=o||r.defaultMessage(i,"remote"),n[i.name]=a.message=e.isFunction(s)?s(t):s,r.invalid[i.name]=!0,r.showErrors(n)),a.valid=d,r.stopRequest(i,d)}},o)),"pending")}}});var t,i={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,o){var r=e.port;"abort"===e.mode&&(i[r]&&i[r].abort(),i[r]=o)}):(t=e.ajax,e.ajax=function(o){var r=("mode"in o?o:e.ajaxSettings).mode,n=("port"in o?o:e.ajaxSettings).port;return"abort"===r?(i[n]&&i[n].abort(),i[n]=t.apply(this,arguments),i[n]):t.apply(this,arguments)})}),
/*! JsRender v1.0pre: http://github.com/BorisMoore/jsrender */
function(e,t,i){"use strict";function o(e,t){t&&t.onError&&!1===t.onError(e)||(this.name="JsRender Error",this.message=e||"JsRender error")}function r(e,t){var i;for(i in e=e||{},t)e[i]=t[i];return e}function n(e,t,i){return(!Y.rTag||arguments.length)&&(_=e?e.charAt(0):_,D=e?e.charAt(1):D,x=t?t.charAt(0):x,A=t?t.charAt(1):A,e="\\"+_+"(\\"+(P=i||P)+")?\\"+D,t="\\"+x+"\\"+A,I="(?:(?:(\\w+(?=[\\/\\s\\"+x+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+x+"]|\\"+x+"(?!\\"+A+"))*?)",Y.rTag=I+")",I=new RegExp(e+I+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),k=new RegExp("<.*>|([^\\\\]|^)[{}]|"+e+".*"+t)),[_,D,x,A,P]}function a(e,t){t||(t=e,e=i);var o,r,n,a,s=this,l=!t||"root"===t;if(e){if(!(a=s.type===t?s:i))if(o=s.views,s._.useKey){for(r in o)if(a=o[r].get(e,t))break}else for(r=0,n=o.length;!a&&r<n;r++)a=o[r].get(e,t)}else if(l)for(;s.parent.parent;)a=s=s.parent;else for(;s&&!a;)a=s.type===t?s:i,s=s.parent;return a}function s(){var e=this.get("item");return e?e.index:i}function l(e){var t,o=this,n=(o.ctx||{})[e];return(n=n===i?o.getRsc("helpers",e):n)&&"function"==typeof n&&(t=function(){return n.apply(o,arguments)},r(t,n)),t||n}function d(e,t){for(var o=this,r=q[e],n=r&&r[t];n===i&&o;)n=(r=o.tmpl[e])&&r[t],o=o.parent;return n}function c(e,t,o,r,n,c,p,u){var h,m,g,f="array"===t,b={key:0,useKey:f?0:1,id:""+U++,onRender:u,bnds:{}},v={data:r,tmpl:n,content:p,views:f?[]:{},parent:o,ctx:e,type:t,get:a,getIndex:s,getRsc:d,hlp:l,_:b,_is:"view"};return o&&(h=o.views,(m=o._).useKey?(h[b.key="_"+m.useKey++]=v,g=m.tag,b.bnd=f&&(!g||!!g._.bnd&&g)):h.splice(b.key=v.index=c!==i?c:h.length,0,v),v.ctx=e||o.ctx),v}function p(e){var t,i,o,r,n;for(t in G)if((n=(r=G[t]).compile)&&(i=e[t+"s"]))for(o in i)i[o]=n(o,i[o],e,t,r)}function u(e,t){var i,o=Z.wrapMap||{},n=r({markup:e,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:m},t);return t.htmlTag||(i=M.exec(e),n.htmlTag=i?i[1].toLowerCase():""),(i=o[n.htmlTag])&&i!==o.div&&(n.markup=C.trim(n.markup),n._elCnt=!0),n}function h(e,t){var o=e+"s";q[o]=function r(n,a,s){var l,d,c,p;if(n&&""+n!==n&&!n.nodeType&&!n.markup){for(c in n)r(c,n[c],a);return q}return p=s?s[o]=s[o]||{}:r,a===i&&(a=n,n=i),d=t.compile,(l=Y.onBeforeStoreItem)&&(d=l(p,n,a,d)||d),n?""+n===n&&(null===a?delete p[n]:p[n]=d?a=d(n,a,s,e,t):a):a=d(i,a),a&&(a._is=e),(l=Y.onStoreItem)&&l(p,n,a,d),a},G[e]=t}function m(e,t,o,r,n,a){var s,l,d,p,u,h,m,f,b,v,y,$,S,I=this,k=!I.attr||"html"===I.attr,_="";if(!0===r&&(m=!0,r=0),I.tag?(f=I,v=(I=I.tag)._,$=I.tagName,S=f.tmpl,t=w(t,I.ctx),b=f.content,!1===f.props.link&&((t=t||{}).link=!1),o=o||f.view,e=e===i?o:e):S=I.jquery&&(I[0]||g('Unknown template: "'+I.selector+'"'))||I,S&&(!o&&e&&"view"===e._is&&(o=e),o&&(b=b||o.content,a=a||o._.onRender,e===o&&(e=o.data,n=!0),t=w(t,o.ctx)),o&&o.data!==i||((t=t||{}).root=e),S.fn||(S=K[S]||K(S)),S)){if(y=a=!1!==(t&&t.link)&&k&&a,!0===a&&(y=i,a=o._.onRender),C.isArray(e)&&!n)for(p=m?o:r!==i&&o||c(t,"array",o,e,S,r,b,a),s=0,l=e.length;s<l;s++)u=c(t,"item",p,d=e[s],S,(r||0)+s,b,a),h=S.fn(d,u,q),_+=p._.onRender?p._.onRender(h,u):h;else p=m?o:c(t,$||"data",o,e,S,r,b,a),v&&!I.flow&&(p.tag=I),_+=S.fn(e,p,q);return y?y(_,p):_}return""}function g(e){if(Z.debugMode)throw new q.sub.Error(e)}function f(e){g("Syntax error\n"+e)}function b(e,t,i,o){function r(t){(t-=d)&&p.push(e.substr(d,t).replace(E,"\\n"))}function n(t){t&&f('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+e)}var a,s=t&&t.allowCode,l=[],d=0,c=[],p=l,u=[,,,l];return e=e.replace(T,"\\$1"),n(c[0]&&c[0][3].pop()[0]),e.replace(I,function(t,l,h,m,g,b,v,w,$,C,S,I){b&&(g=":",m="html");var k,_,D=l&&[],x="",A="",P="",L=!(C=C||i)&&!g&&!v;h=h||g,r(I),d=I+t.length,w?s&&p.push(["*","\n"+$.replace(j,"$1")+"\n"]):h?("else"===h&&(R.test($)&&f('for "{{else if expr}}" use "{{else expr}}"'),D=u[6],u[7]=e.substring(u[7],I),u=c.pop(),p=u[3],L=!0),$&&(x=y($=$.replace(E," "),D).replace(N,function(e,t,i){return t?P+=i+",":A+=i+",",""})),A=A.slice(0,-1),x=x.slice(0,-1),k=A&&A.indexOf("noerror:true")+1&&A||"",a=[h,m||!!o||"",x,L&&[],'params:"'+$+'",props:{'+A+"}"+(P?",ctx:{"+P.slice(0,-1)+"}":""),k,D||0],p.push(a),L&&(c.push(u),(u=a)[7]=d)):S&&(n(S!==(_=u[0])&&"else"!==_&&S),u[7]=e.substring(u[7],I),u=c.pop()),n(!u&&S),p=u[3]}),r(e.length),(d=l[l.length-1])&&n(""+d!==d&&+d[7]===d[7]&&d[0]),v(l,t||e,i)}function v(e,i,o){var r,n,a,s,l,d,c,p,h,m,g,b,y,w,$,C,S,I,k,_,D,x,A,P,L=0,O="",j="",T={},N=e.length;for(""+i===i?(w=o?'data-link="'+i.replace(E," ").slice(1,-1)+'"':i,i=0):(w=i.tmplName||"unnamed",i.allowCode&&(T.allowCode=!0),i.debug&&(T.debug=!0),g=i.bnds,y=i.tmpls),r=0;r<N;r++)if(""+(n=e[r])===n)O+='\nret+="'+n+'";';else if("*"===(a=n[0]))O+=""+n[1];else{if(s=n[1],l=n[2],S=n[3],d=n[4],j=n[5],I=n[7],(D="else"===a)||(L=0,g&&(b=n[6])&&(L=g.push(b))),(x=":"===a)?(s&&(a="html"===s?">":s+a),j&&(j="try{var "+(A="prm"+r)+"=["+l+"][0];}catch(e){"+A+'="";}\n',l=A)):(S&&(($=u(I,T)).tmplName=w+"/"+a,v(S,$),y.push($)),D||(C=a,_=O,O="",r),k=(k=e[r+1])&&"else"===k[0]),d+=",args:["+l+"]}",x&&b||s&&">"!==a){if((P=new Function("data,view,j,u"," // "+w+" "+L+" "+a+"\n"+j+"return {"+d+";")).paths=b,P._ctxs=a,o)return P;m=!0}if(O+=x?"\n"+(b?"":j)+(o?"return ":"ret+=")+(m?(m=!0,'c("'+s+'",view,'+(b?(g[L-1]=P,L):"{"+d)+");"):">"===a?(p=!0,"h("+l+");"):(h=!0,"(v="+l+")!="+(o?"=":"")+'u?v:"";')):(c=!0,"{tmpl:"+(S?y.length:"0")+","+d+","),C&&!k){if(O="["+O.slice(0,-1)+"]",(o||b)&&(O=new Function("data,view,j,u"," // "+w+" "+L+" "+C+"\nreturn "+O+";"),b&&((g[L-1]=O).paths=b),O._ctxs=a,o))return O;O=_+'\nret+=t("'+C+'",view,this,'+(L||O)+");",b=0,C=0}}O="// "+w+"\nvar j=j||"+(t?"jQuery.":"js")+"views"+(h?",v":"")+(c?",t=j._tag":"")+(m?",c=j._cnvt":"")+(p?",h=j.converters.html":"")+(o?";\n":',ret="";\n')+(Z.tryCatch?"try{\n":"")+(T.debug?"debugger;":"")+O+(o?"\n":"\nreturn ret;\n")+(Z.tryCatch?"\n}catch(e){return j._err(e);}":"");try{O=new Function("data,view,j,u",O)}catch(e){f("Compiled template code:\n\n"+O)}return i&&(i.fn=O),O}function y(e,t){var i,o,r={},n={0:-1},a=0,s=!1,l=!1;return(e+" ").replace(O,function(d,c,p,u,h,m,g,b,v,y,w,$,C,S,I,k,_,D,x){if(h=h||"",p=p||c||w,u=u||b,t&&I&&t.push({_jsvOb:x.slice(n[a-1]+1,D+1)}),v=v||k||"",!m)return l?(l=!$)?d:'"':s?(s=!C)?d:'"':(p?(a++,n[a]=D,p):"")+(_?a?"":i?(i=o=!1,"\b"):",":g?(a&&f(e),i=u,o="~"===u.charAt(0),"\b"+u+":"):u?u.split("^").join(".").replace(L,function(e,i,r,n,a,s,l){if(i&&(t&&!o&&t.push(u),"."!==i)){var d=(r?'view.hlp("'+r+'")':n?"view":"data")+(l?(a?"."+a:r||n?"":"."+i)+(s||""):(l=r?"":n?a||"":i,""));return"view.data"===(d+=l?"."+l:"").slice(0,9)?d.slice(5):d}return e})+(v?(r[++a]=!0,v):h):h||(S?(r[a--]=!1,S+(v?(r[++a]=!0,v):"")):y?(r[a]||f(e),","):c?"":(l=$,s=C,'"')));f(e)})}function w(e,t){return e&&e!==t?t?r(r({},t),e):e:t&&r({},t)}function $(e){return W[e]}if(!(t&&t.views||e.jsviews)){var C,S,I,k,_="{",D="{",x="}",A="}",P="^",L=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,O=/(\()(?=\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*((\))(?=\s*\.|\s*\^)|\)|\])([([]?))|(\s+)/g,E=/\s*\n/g,j=/\\(['"])/g,T=/([\\'"])/g,N=/\x08(~)?([^\x08]+)\x08/g,R=/^if\s/,M=/<(\w+)[>\s]/,z=/[<"'&]/g,F=/[><"'&]/g,B=0,U=0,W={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;"},H="data-jsv-tmpl",V={},G={template:{compile:function o(r,n,a,s,l,d){function c(i){if(""+i===i||i.nodeType>0){try{m=i.nodeType>0?i:!k.test(i)&&t&&t(e.document).find(i)[0]}catch(e){}return m&&(i=m.getAttribute(H),r=r||i,(i=K[i])||(r=r||"_"+B++,m.setAttribute(H,r),i=K[r]=o(r,m.innerHTML,a,s,l,d))),i}}var h,m;return h=c(n=n||""),(d=d||(n.markup?n:{})).tmplName=r,a&&(d._parentTmpl=a),!h&&n.markup&&(h=c(n.markup))&&h.fn&&(h.debug!==n.debug||h.allowCode!==n.allowCode)&&(h=h.markup),h!==i?(r&&!a&&(V[r]=function(){return n.render.apply(n,arguments)}),h.fn||n.fn?h.fn&&(n=r&&r!==h.tmplName?w(d,h):h):b(h,n=u(h,d)),p(d),n):void 0}},tag:{compile:function(e,t,i){var o,r;return"function"==typeof t?t={depends:t.depends,render:t}:((r=t.template)&&(t.template=""+r===r?K[r]||K(r):r),!1!==t.init&&((o=t.init=t.init||function(){}).prototype=t,(o.prototype=t).constructor=o)),i&&(t._parentTmpl=i),t}},helper:{},converter:{}},q={jsviews:"v1.0pre",render:V,View:c,settings:{delimiters:n,debugMode:!0,tryCatch:!0},sub:{Error:o,tmplFn:b,parse:y,extend:r,error:g,syntaxError:f},_cnvt:function(e,t,i){var o,r,n,a=+i===i&&i,s=t.linkCtx;return a&&(i=(a=t.tmpl.bnds[a-1])(t.data,t,q)),n=i.args[0],(e||a)&&((r=s&&s.tag||{_:{inline:!s},tagName:e+":",flow:!0,_is:"tag"})._.bnd=a,s&&(s.tag=r,r.linkCtx=s,i.ctx=w(i.ctx,s.view.ctx)),r.tagCtx=i,i.view=t,r.ctx=i.ctx||{},delete i.ctx,t._.tag=r,(e="true"!==e&&e)&&((o=t.getRsc("converters",e))||g("Unknown converter: {{"+e+":"))&&(r.depends=o.depends,n=o.apply(r,i.args)),n=a&&t._.onRender?t._.onRender(n,t,a):n),n},_tag:function(e,t,o,n){var a,s,l,d,c,p,u,h,f,b,v,y,$,C="",S=+n===n&&n,I=t.linkCtx||0,k=t.ctx,_=o||t.tmpl,D=t._;for("tag"===e._is&&(e=(s=e).tagName),S&&(n=(y=_.bnds[S-1])(t.data,t,q)),u=n.length,s=s||I.tag,p=0;p<u;p++)v=(f=n[p]).tmpl,v=f.content=v&&_.tmpls[v-1],o=f.props.tmpl,p||o&&s||($=t.getRsc("tags",e)||g("Unknown tag: {{"+e+"}}")),r(f,{tmpl:o=""+(o=o||!p&&$.template||v)===o?t.getRsc("templates",o)||K(o):o,render:m,index:p,view:t,ctx:w(f.ctx,k)}),s||($.init?(s=new $.init(f,I,k)).attr=s.attr||$.attr||i:s={render:$.render},s._={inline:!I},I&&(I.attr=s.attr=I.attr||s.attr,I.tag=s,s.linkCtx=I),(s._.bnd=y||I)&&(s._.arrVws={}),s.tagName=e,s.parent=c=k&&k.tag,s._is="tag"),D.tag=s,f.tag=s,s.tagCtxs=n,s.rendering={},s.flow||(l=(b=f.ctx=f.ctx||{}).parentTags=k&&w(b.parentTags,k.parentTags)||{},c&&(l[c.tagName]=c),b.tag=s);for(p=0;p<u;p++)f=s.tagCtx=n[p],s.ctx=f.ctx,(a=s.render)&&(h=a.apply(s,f.args)),C+=h!==i?h:f.tmpl?f.render():"";return delete s.rendering,s.tagCtx=s.tagCtxs[0],s.ctx=s.tagCtx.ctx,s._.inline&&(d=s.attr)&&"html"!==d&&(C="text"===d?Q.html(C):""),S&&t._.onRender?t._.onRender(C,t,S):C},_err:function(e){return Z.debugMode?"Error: "+(e.message||e)+". ":""}};for(S in(o.prototype=new Error).constructor=o,s.depends=function(){return[this.get("item"),"index"]},G)h(S,G[S]);var K=q.templates,Q=q.converters,X=(q.helpers,q.tags),Y=q.sub,Z=q.settings;t?(C=t).fn.render=m:(C=e.jsviews={}).isArray=Array&&Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},C.render=V,C.views=q,C.templates=K=q.templates,X({else:function(){},if:{render:function(e){var t=this;return t.rendering.done||!e&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render())},onUpdate:function(e,t,i){for(var o,r,n=0;(o=this.tagCtxs[n])&&o.args.length;n++)if(r=!(o=o.args[0])!=!i[n].args[0],o||r)return r;return!1},flow:!0},for:{render:function(e){var t=this,o=t.tagCtx,r=!arguments.length,n="",a=r||0;return t.rendering.done||(r?n=i:e!==i&&(n+=o.render(e),a+=C.isArray(e)?e.length:1),(t.rendering.done=a)&&(t.selected=o.index)),n},onUpdate:function(){},onArrayChange:function(e,t){var i,o=t.change;if(this.tagCtxs[1]&&("insert"===o&&e.target.length===t.items.length||"remove"===o&&!e.target.length||"refresh"===o&&!t.oldItems.length!=!e.target.length))this.refresh();else for(i in this._.arrVws)(i=this._.arrVws[i]).data===e.target&&i._.onArrayChange.apply(i,arguments);e.done=!0},flow:!0},include:{flow:!0},"*":{render:function(e){return e},flow:!0}}),Q({html:function(e){return e!=i?String(e).replace(F,$):""},attr:function(e){return e!=i?String(e).replace(z,$):null===e?null:""},url:function(e){return e!=i?encodeURI(String(e)):null===e?null:""}}),n()}}(this,this.jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t()}(this,function(){"use strict";const e=new Map,t={set(t,i,o){e.has(t)||e.set(t,new Map);const r=e.get(t);r.has(i)||0===r.size?r.set(i,o):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(t,i)=>e.has(t)&&e.get(t).get(i)||null,remove(t,i){if(!e.has(t))return;const o=e.get(t);o.delete(i),0===o.size&&e.delete(t)}},i="transitionend",o=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),r=e=>{e.dispatchEvent(new Event(i))},n=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),a=e=>n(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(o(e)):null,s=e=>{if(!n(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},l=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),d=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?d(e.parentNode):null},c=()=>{},p=e=>{e.offsetHeight},u=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,h=[],m=()=>"rtl"===document.documentElement.dir,g=e=>{var t;t=()=>{const t=u();if(t){const i=e.NAME,o=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=o,e.jQueryInterface)}},"loading"===document.readyState?(h.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of h)e()}),h.push(t)):t()},f=(e,t=[],i=e)=>"function"==typeof e?e(...t):i,b=(e,t,o=!0)=>{if(!o)return void f(e);const n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const o=Number.parseFloat(t),r=Number.parseFloat(i);return o||r?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let a=!1;const s=({target:o})=>{o===t&&(a=!0,t.removeEventListener(i,s),f(e))};t.addEventListener(i,s),setTimeout(()=>{a||r(t)},n)},v=(e,t,i,o)=>{const r=e.length;let n=e.indexOf(t);return-1===n?!i&&o?e[r-1]:e[0]:(n+=i?1:-1,o&&(n=(n+r)%r),e[Math.max(0,Math.min(n,r-1))])},y=/[^.]*(?=\..*)\.|.*/,w=/\..*/,$=/::\d+$/,C={};let S=1;const I={mouseenter:"mouseover",mouseleave:"mouseout"},k=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function _(e,t){return t&&`${t}::${S++}`||e.uidEvent||S++}function D(e){const t=_(e);return e.uidEvent=t,C[t]=C[t]||{},C[t]}function x(e,t,i=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===i)}function A(e,t,i){const o="string"==typeof t,r=o?i:t||i;let n=E(e);return k.has(n)||(n=e),[o,r,n]}function P(e,t,i,o,r){if("string"!=typeof t||!e)return;let[n,a,s]=A(t,i,o);if(t in I){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};a=e(a)}const l=D(e),d=l[s]||(l[s]={}),c=x(d,a,n?i:null);if(c)return void(c.oneOff=c.oneOff&&r);const p=_(a,t.replace(y,"")),u=n?function(e,t,i){return function o(r){const n=e.querySelectorAll(t);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const s of n)if(s===a)return T(r,{delegateTarget:a}),o.oneOff&&j.off(e,r.type,t,i),i.apply(a,[r])}}(e,i,a):function(e,t){return function i(o){return T(o,{delegateTarget:e}),i.oneOff&&j.off(e,o.type,t),t.apply(e,[o])}}(e,a);u.delegationSelector=n?i:null,u.callable=a,u.oneOff=r,u.uidEvent=p,d[p]=u,e.addEventListener(s,u,n)}function L(e,t,i,o,r){const n=x(t[i],o,r);n&&(e.removeEventListener(i,n,Boolean(r)),delete t[i][n.uidEvent])}function O(e,t,i,o){const r=t[i]||{};for(const[n,a]of Object.entries(r))n.includes(o)&&L(e,t,i,a.callable,a.delegationSelector)}function E(e){return e=e.replace(w,""),I[e]||e}const j={on(e,t,i,o){P(e,t,i,o,!1)},one(e,t,i,o){P(e,t,i,o,!0)},off(e,t,i,o){if("string"!=typeof t||!e)return;const[r,n,a]=A(t,i,o),s=a!==t,l=D(e),d=l[a]||{},c=t.startsWith(".");if(void 0===n){if(c)for(const i of Object.keys(l))O(e,l,i,t.slice(1));for(const[i,o]of Object.entries(d)){const r=i.replace($,"");s&&!t.includes(r)||L(e,l,a,o.callable,o.delegationSelector)}}else{if(!Object.keys(d).length)return;L(e,l,a,n,r?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;const o=u();let r=null,n=!0,a=!0,s=!1;t!==E(t)&&o&&(r=o.Event(t,i),o(e).trigger(r),n=!r.isPropagationStopped(),a=!r.isImmediatePropagationStopped(),s=r.isDefaultPrevented());const l=T(new Event(t,{bubbles:n,cancelable:!0}),i);return s&&l.preventDefault(),a&&e.dispatchEvent(l),l.defaultPrevented&&r&&r.preventDefault(),l}};function T(e,t={}){for(const[i,o]of Object.entries(t))try{e[i]=o}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>o})}return e}function N(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function R(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const M={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${R(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${R(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(const o of i){let i=o.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=N(e.dataset[o])}return t},getDataAttribute:(e,t)=>N(e.getAttribute(`data-bs-${R(t)}`))};class z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=n(t)?M.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...n(t)?M.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[o,r]of Object.entries(t)){const t=e[o],a=n(t)?"element":null==(i=t)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${o}" provided type "${a}" but expected type "${r}".`)}var i}}class F extends z{constructor(e,i){super(),(e=a(e))&&(this._element=e,this._config=this._getConfig(i),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){b(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(a(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const B=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return t?t.split(",").map(e=>o(e)).join(","):null},U={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){const i=[];let o=e.parentNode.closest(t);for(;o;)i.push(o),o=o.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!l(e)&&s(e))},getSelectorFromElement(e){const t=B(e);return t&&U.findOne(t)?t:null},getElementFromSelector(e){const t=B(e);return t?U.findOne(t):null},getMultipleElementsFromSelector(e){const t=B(e);return t?U.find(t):[]}},W=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,o=e.NAME;j.on(document,i,`[data-bs-dismiss="${o}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),l(this))return;const r=U.getElementFromSelector(this)||this.closest(`.${o}`);e.getOrCreateInstance(r)[t]()})},H=".bs.alert",V=`close${H}`,G=`closed${H}`;class q extends F{static get NAME(){return"alert"}close(){if(j.trigger(this._element,V).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),j.trigger(this._element,G),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=q.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}W(q,"close"),g(q);const K='[data-bs-toggle="button"]';class Q extends F{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=Q.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}j.on(document,"click.bs.button.data-api",K,e=>{e.preventDefault();const t=e.target.closest(K);Q.getOrCreateInstance(t).toggle()}),g(Q);const X=".bs.swipe",Y=`touchstart${X}`,Z=`touchmove${X}`,J=`touchend${X}`,ee=`pointerdown${X}`,te=`pointerup${X}`,ie={endCallback:null,leftCallback:null,rightCallback:null},oe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class re extends z{constructor(e,t){super(),this._element=e,e&&re.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ie}static get DefaultType(){return oe}static get NAME(){return"swipe"}dispose(){j.off(this._element,X)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),f(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&f(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,ee,e=>this._start(e)),j.on(this._element,te,e=>this._end(e)),this._element.classList.add("pointer-event")):(j.on(this._element,Y,e=>this._start(e)),j.on(this._element,Z,e=>this._move(e)),j.on(this._element,J,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ne=".bs.carousel",ae=".data-api",se="next",le="prev",de="left",ce="right",pe=`slide${ne}`,ue=`slid${ne}`,he=`keydown${ne}`,me=`mouseenter${ne}`,ge=`mouseleave${ne}`,fe=`dragstart${ne}`,be=`load${ne}${ae}`,ve=`click${ne}${ae}`,ye="carousel",we="active",$e=".active",Ce=".carousel-item",Se=$e+Ce,Ie={ArrowLeft:ce,ArrowRight:de},ke={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},_e={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class De extends F{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ye&&this.cycle()}static get Default(){return ke}static get DefaultType(){return _e}static get NAME(){return"carousel"}next(){this._slide(se)}nextWhenVisible(){!document.hidden&&s(this._element)&&this.next()}prev(){this._slide(le)}pause(){this._isSliding&&r(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?j.one(this._element,ue,()=>this.cycle()):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void j.one(this._element,ue,()=>this.to(e));const i=this._getItemIndex(this._getActive());if(i===e)return;const o=e>i?se:le;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&j.on(this._element,he,e=>this._keydown(e)),"hover"===this._config.pause&&(j.on(this._element,me,()=>this.pause()),j.on(this._element,ge,()=>this._maybeEnableCycle())),this._config.touch&&re.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of U.find(".carousel-item img",this._element))j.on(e,fe,e=>e.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(de)),rightCallback:()=>this._slide(this._directionToOrder(ce)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new re(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Ie[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=U.findOne($e,this._indicatorsElement);t.classList.remove(we),t.removeAttribute("aria-current");const i=U.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(we),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),o=e===se,r=t||v(this._getItems(),i,o,this._config.wrap);if(r===i)return;const n=this._getItemIndex(r),a=t=>j.trigger(this._element,t,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:n});if(a(pe).defaultPrevented)return;if(!i||!r)return;const s=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(n),this._activeElement=r;const l=o?"carousel-item-start":"carousel-item-end",d=o?"carousel-item-next":"carousel-item-prev";r.classList.add(d),p(r),i.classList.add(l),r.classList.add(l),this._queueCallback(()=>{r.classList.remove(l,d),r.classList.add(we),i.classList.remove(we,d,l),this._isSliding=!1,a(ue)},i,this._isAnimated()),s&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return U.findOne(Se,this._element)}_getItems(){return U.find(Ce,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return m()?e===de?le:se:e===de?se:le}_orderToDirection(e){return m()?e===le?de:ce:e===le?ce:de}static jQueryInterface(e){return this.each(function(){const t=De.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}j.on(document,ve,"[data-bs-slide], [data-bs-slide-to]",function(e){const t=U.getElementFromSelector(this);if(!t||!t.classList.contains(ye))return;e.preventDefault();const i=De.getOrCreateInstance(t),o=this.getAttribute("data-bs-slide-to");return o?(i.to(o),void i._maybeEnableCycle()):"next"===M.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())}),j.on(window,be,()=>{const e=U.find('[data-bs-ride="carousel"]');for(const t of e)De.getOrCreateInstance(t)}),g(De);const xe=".bs.collapse",Ae=`show${xe}`,Pe=`shown${xe}`,Le=`hide${xe}`,Oe=`hidden${xe}`,Ee=`click${xe}.data-api`,je="show",Te="collapse",Ne="collapsing",Re=`:scope .${Te} .${Te}`,Me='[data-bs-toggle="collapse"]',ze={parent:null,toggle:!0},Fe={parent:"(null|element)",toggle:"boolean"};class Be extends F{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=U.find(Me);for(const e of i){const t=U.getSelectorFromElement(e),i=U.find(t).filter(e=>e===this._element);null!==t&&i.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ze}static get DefaultType(){return Fe}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>Be.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning)return;if(j.trigger(this._element,Ae).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(Te),this._element.classList.add(Ne),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ne),this._element.classList.add(Te,je),this._element.style[t]="",j.trigger(this._element,Pe)},this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(j.trigger(this._element,Le).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,p(this._element),this._element.classList.add(Ne),this._element.classList.remove(Te,je);for(const e of this._triggerArray){const t=U.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ne),this._element.classList.add(Te),j.trigger(this._element,Oe)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(je)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=a(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Me);for(const t of e){const e=U.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=U.find(Re,this._config.parent);return U.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=Be.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}})}}j.on(document,Ee,Me,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of U.getMultipleElementsFromSelector(this))Be.getOrCreateInstance(e,{toggle:!1}).toggle()}),g(Be);var Ue="top",We="bottom",He="right",Ve="left",Ge="auto",qe=[Ue,We,He,Ve],Ke="start",Qe="end",Xe="clippingParents",Ye="viewport",Ze="popper",Je="reference",et=qe.reduce(function(e,t){return e.concat([t+"-"+Ke,t+"-"+Qe])},[]),tt=[].concat(qe,[Ge]).reduce(function(e,t){return e.concat([t,t+"-"+Ke,t+"-"+Qe])},[]),it="beforeRead",ot="read",rt="afterRead",nt="beforeMain",at="main",st="afterMain",lt="beforeWrite",dt="write",ct="afterWrite",pt=[it,ot,rt,nt,at,st,lt,dt,ct];function ut(e){return e?(e.nodeName||"").toLowerCase():null}function ht(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function mt(e){return e instanceof ht(e).Element||e instanceof Element}function gt(e){return e instanceof ht(e).HTMLElement||e instanceof HTMLElement}function ft(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ht(e).ShadowRoot||e instanceof ShadowRoot)}const bt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},o=t.attributes[e]||{},r=t.elements[e];gt(r)&&ut(r)&&(Object.assign(r.style,i),Object.keys(o).forEach(function(e){var t=o[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(e){var o=t.elements[e],r=t.attributes[e]||{},n=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});gt(o)&&ut(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(e){o.removeAttribute(e)}))})}},requires:["computeStyles"]};function vt(e){return e.split("-")[0]}var yt=Math.max,wt=Math.min,$t=Math.round;function Ct(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function St(){return!/^((?!chrome|android).)*safari/i.test(Ct())}function It(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var o=e.getBoundingClientRect(),r=1,n=1;t&&gt(e)&&(r=e.offsetWidth>0&&$t(o.width)/e.offsetWidth||1,n=e.offsetHeight>0&&$t(o.height)/e.offsetHeight||1);var a=(mt(e)?ht(e):window).visualViewport,s=!St()&&i,l=(o.left+(s&&a?a.offsetLeft:0))/r,d=(o.top+(s&&a?a.offsetTop:0))/n,c=o.width/r,p=o.height/n;return{width:c,height:p,top:d,right:l+c,bottom:d+p,left:l,x:l,y:d}}function kt(e){var t=It(e),i=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:o}}function _t(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&ft(i)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Dt(e){return ht(e).getComputedStyle(e)}function xt(e){return["table","td","th"].indexOf(ut(e))>=0}function At(e){return((mt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pt(e){return"html"===ut(e)?e:e.assignedSlot||e.parentNode||(ft(e)?e.host:null)||At(e)}function Lt(e){return gt(e)&&"fixed"!==Dt(e).position?e.offsetParent:null}function Ot(e){for(var t=ht(e),i=Lt(e);i&&xt(i)&&"static"===Dt(i).position;)i=Lt(i);return i&&("html"===ut(i)||"body"===ut(i)&&"static"===Dt(i).position)?t:i||function(e){var t=/firefox/i.test(Ct());if(/Trident/i.test(Ct())&&gt(e)&&"fixed"===Dt(e).position)return null;var i=Pt(e);for(ft(i)&&(i=i.host);gt(i)&&["html","body"].indexOf(ut(i))<0;){var o=Dt(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(e)||t}function Et(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function jt(e,t,i){return yt(e,wt(t,i))}function Tt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Nt(e,t){return t.reduce(function(t,i){return t[i]=e,t},{})}const Rt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,o=e.name,r=e.options,n=i.elements.arrow,a=i.modifiersData.popperOffsets,s=vt(i.placement),l=Et(s),d=[Ve,He].indexOf(s)>=0?"height":"width";if(n&&a){var c=function(e,t){return Tt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Nt(e,qe))}(r.padding,i),p=kt(n),u="y"===l?Ue:Ve,h="y"===l?We:He,m=i.rects.reference[d]+i.rects.reference[l]-a[l]-i.rects.popper[d],g=a[l]-i.rects.reference[l],f=Ot(n),b=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,v=m/2-g/2,y=c[u],w=b-p[d]-c[h],$=b/2-p[d]/2+v,C=jt(y,$,w),S=l;i.modifiersData[o]=((t={})[S]=C,t.centerOffset=C-$,t)}},effect:function(e){var t=e.state,i=e.options.element,o=void 0===i?"[data-popper-arrow]":i;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&_t(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mt(e){return e.split("-")[1]}var zt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ft(e){var t,i=e.popper,o=e.popperRect,r=e.placement,n=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,d=e.adaptive,c=e.roundOffsets,p=e.isFixed,u=a.x,h=void 0===u?0:u,m=a.y,g=void 0===m?0:m,f="function"==typeof c?c({x:h,y:g}):{x:h,y:g};h=f.x,g=f.y;var b=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),y=Ve,w=Ue,$=window;if(d){var C=Ot(i),S="clientHeight",I="clientWidth";C===ht(i)&&"static"!==Dt(C=At(i)).position&&"absolute"===s&&(S="scrollHeight",I="scrollWidth"),(r===Ue||(r===Ve||r===He)&&n===Qe)&&(w=We,g-=(p&&C===$&&$.visualViewport?$.visualViewport.height:C[S])-o.height,g*=l?1:-1),r!==Ve&&(r!==Ue&&r!==We||n!==Qe)||(y=He,h-=(p&&C===$&&$.visualViewport?$.visualViewport.width:C[I])-o.width,h*=l?1:-1)}var k,_=Object.assign({position:s},d&&zt),D=!0===c?function(e,t){var i=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:$t(i*r)/r||0,y:$t(o*r)/r||0}}({x:h,y:g},ht(i)):{x:h,y:g};return h=D.x,g=D.y,l?Object.assign({},_,((k={})[w]=v?"0":"",k[y]=b?"0":"",k.transform=($.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",k)):Object.assign({},_,((t={})[w]=v?g+"px":"",t[y]=b?h+"px":"",t.transform="",t))}const Bt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,o=i.gpuAcceleration,r=void 0===o||o,n=i.adaptive,a=void 0===n||n,s=i.roundOffsets,l=void 0===s||s,d={placement:vt(t.placement),variation:Mt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ft(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ft(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Ut={passive:!0};const Wt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,o=e.options,r=o.scroll,n=void 0===r||r,a=o.resize,s=void 0===a||a,l=ht(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&d.forEach(function(e){e.addEventListener("scroll",i.update,Ut)}),s&&l.addEventListener("resize",i.update,Ut),function(){n&&d.forEach(function(e){e.removeEventListener("scroll",i.update,Ut)}),s&&l.removeEventListener("resize",i.update,Ut)}},data:{}};var Ht={left:"right",right:"left",bottom:"top",top:"bottom"};function Vt(e){return e.replace(/left|right|bottom|top/g,function(e){return Ht[e]})}var Gt={start:"end",end:"start"};function qt(e){return e.replace(/start|end/g,function(e){return Gt[e]})}function Kt(e){var t=ht(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Qt(e){return It(At(e)).left+Kt(e).scrollLeft}function Xt(e){var t=Dt(e),i=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+o)}function Yt(e){return["html","body","#document"].indexOf(ut(e))>=0?e.ownerDocument.body:gt(e)&&Xt(e)?e:Yt(Pt(e))}function Zt(e,t){var i;void 0===t&&(t=[]);var o=Yt(e),r=o===(null==(i=e.ownerDocument)?void 0:i.body),n=ht(o),a=r?[n].concat(n.visualViewport||[],Xt(o)?o:[]):o,s=t.concat(a);return r?s:s.concat(Zt(Pt(a)))}function Jt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ei(e,t,i){return t===Ye?Jt(function(e,t){var i=ht(e),o=At(e),r=i.visualViewport,n=o.clientWidth,a=o.clientHeight,s=0,l=0;if(r){n=r.width,a=r.height;var d=St();(d||!d&&"fixed"===t)&&(s=r.offsetLeft,l=r.offsetTop)}return{width:n,height:a,x:s+Qt(e),y:l}}(e,i)):mt(t)?function(e,t){var i=It(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):Jt(function(e){var t,i=At(e),o=Kt(e),r=null==(t=e.ownerDocument)?void 0:t.body,n=yt(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=yt(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-o.scrollLeft+Qt(e),l=-o.scrollTop;return"rtl"===Dt(r||i).direction&&(s+=yt(i.clientWidth,r?r.clientWidth:0)-n),{width:n,height:a,x:s,y:l}}(At(e)))}function ti(e){var t,i=e.reference,o=e.element,r=e.placement,n=r?vt(r):null,a=r?Mt(r):null,s=i.x+i.width/2-o.width/2,l=i.y+i.height/2-o.height/2;switch(n){case Ue:t={x:s,y:i.y-o.height};break;case We:t={x:s,y:i.y+i.height};break;case He:t={x:i.x+i.width,y:l};break;case Ve:t={x:i.x-o.width,y:l};break;default:t={x:i.x,y:i.y}}var d=n?Et(n):null;if(null!=d){var c="y"===d?"height":"width";switch(a){case Ke:t[d]=t[d]-(i[c]/2-o[c]/2);break;case Qe:t[d]=t[d]+(i[c]/2-o[c]/2)}}return t}function ii(e,t){void 0===t&&(t={});var i=t,o=i.placement,r=void 0===o?e.placement:o,n=i.strategy,a=void 0===n?e.strategy:n,s=i.boundary,l=void 0===s?Xe:s,d=i.rootBoundary,c=void 0===d?Ye:d,p=i.elementContext,u=void 0===p?Ze:p,h=i.altBoundary,m=void 0!==h&&h,g=i.padding,f=void 0===g?0:g,b=Tt("number"!=typeof f?f:Nt(f,qe)),v=u===Ze?Je:Ze,y=e.rects.popper,w=e.elements[m?v:u],$=function(e,t,i,o){var r="clippingParents"===t?function(e){var t=Zt(Pt(e)),i=["absolute","fixed"].indexOf(Dt(e).position)>=0&&gt(e)?Ot(e):e;return mt(i)?t.filter(function(e){return mt(e)&&_t(e,i)&&"body"!==ut(e)}):[]}(e):[].concat(t),n=[].concat(r,[i]),a=n[0],s=n.reduce(function(t,i){var r=ei(e,i,o);return t.top=yt(r.top,t.top),t.right=wt(r.right,t.right),t.bottom=wt(r.bottom,t.bottom),t.left=yt(r.left,t.left),t},ei(e,a,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(mt(w)?w:w.contextElement||At(e.elements.popper),l,c,a),C=It(e.elements.reference),S=ti({reference:C,element:y,strategy:"absolute",placement:r}),I=Jt(Object.assign({},y,S)),k=u===Ze?I:C,_={top:$.top-k.top+b.top,bottom:k.bottom-$.bottom+b.bottom,left:$.left-k.left+b.left,right:k.right-$.right+b.right},D=e.modifiersData.offset;if(u===Ze&&D){var x=D[r];Object.keys(_).forEach(function(e){var t=[He,We].indexOf(e)>=0?1:-1,i=[Ue,We].indexOf(e)>=0?"y":"x";_[e]+=x[i]*t})}return _}const oi={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=i.mainAxis,n=void 0===r||r,a=i.altAxis,s=void 0===a||a,l=i.fallbackPlacements,d=i.padding,c=i.boundary,p=i.rootBoundary,u=i.altBoundary,h=i.flipVariations,m=void 0===h||h,g=i.allowedAutoPlacements,f=t.options.placement,b=vt(f),v=l||(b!==f&&m?function(e){if(vt(e)===Ge)return[];var t=Vt(e);return[qt(e),t,qt(t)]}(f):[Vt(f)]),y=[f].concat(v).reduce(function(e,i){return e.concat(vt(i)===Ge?function(e,t){void 0===t&&(t={});var i=t,o=i.placement,r=i.boundary,n=i.rootBoundary,a=i.padding,s=i.flipVariations,l=i.allowedAutoPlacements,d=void 0===l?tt:l,c=Mt(o),p=c?s?et:et.filter(function(e){return Mt(e)===c}):qe,u=p.filter(function(e){return d.indexOf(e)>=0});0===u.length&&(u=p);var h=u.reduce(function(t,i){return t[i]=ii(e,{placement:i,boundary:r,rootBoundary:n,padding:a})[vt(i)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}(t,{placement:i,boundary:c,rootBoundary:p,padding:d,flipVariations:m,allowedAutoPlacements:g}):i)},[]),w=t.rects.reference,$=t.rects.popper,C=new Map,S=!0,I=y[0],k=0;k<y.length;k++){var _=y[k],D=vt(_),x=Mt(_)===Ke,A=[Ue,We].indexOf(D)>=0,P=A?"width":"height",L=ii(t,{placement:_,boundary:c,rootBoundary:p,altBoundary:u,padding:d}),O=A?x?He:Ve:x?We:Ue;w[P]>$[P]&&(O=Vt(O));var E=Vt(O),j=[];if(n&&j.push(L[D]<=0),s&&j.push(L[O]<=0,L[E]<=0),j.every(function(e){return e})){I=_,S=!1;break}C.set(_,j)}if(S)for(var T=function(e){var t=y.find(function(t){var i=C.get(t);if(i)return i.slice(0,e).every(function(e){return e})});if(t)return I=t,"break"},N=m?3:1;N>0&&"break"!==T(N);N--);t.placement!==I&&(t.modifiersData[o]._skip=!0,t.placement=I,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ri(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function ni(e){return[Ue,He,We,Ve].some(function(t){return e[t]>=0})}const ai={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,o=t.rects.reference,r=t.rects.popper,n=t.modifiersData.preventOverflow,a=ii(t,{elementContext:"reference"}),s=ii(t,{altBoundary:!0}),l=ri(a,o),d=ri(s,r,n),c=ni(l),p=ni(d);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":p})}},si={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,o=e.name,r=i.offset,n=void 0===r?[0,0]:r,a=tt.reduce(function(e,i){return e[i]=function(e,t,i){var o=vt(e),r=[Ve,Ue].indexOf(o)>=0?-1:1,n="function"==typeof i?i(Object.assign({},t,{placement:e})):i,a=n[0],s=n[1];return a=a||0,s=(s||0)*r,[Ve,He].indexOf(o)>=0?{x:s,y:a}:{x:a,y:s}}(i,t.rects,n),e},{}),s=a[t.placement],l=s.x,d=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=d),t.modifiersData[o]=a}},li={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=ti({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},di={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,o=e.name,r=i.mainAxis,n=void 0===r||r,a=i.altAxis,s=void 0!==a&&a,l=i.boundary,d=i.rootBoundary,c=i.altBoundary,p=i.padding,u=i.tether,h=void 0===u||u,m=i.tetherOffset,g=void 0===m?0:m,f=ii(t,{boundary:l,rootBoundary:d,padding:p,altBoundary:c}),b=vt(t.placement),v=Mt(t.placement),y=!v,w=Et(b),$="x"===w?"y":"x",C=t.modifiersData.popperOffsets,S=t.rects.reference,I=t.rects.popper,k="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,_="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,x={x:0,y:0};if(C){if(n){var A,P="y"===w?Ue:Ve,L="y"===w?We:He,O="y"===w?"height":"width",E=C[w],j=E+f[P],T=E-f[L],N=h?-I[O]/2:0,R=v===Ke?S[O]:I[O],M=v===Ke?-I[O]:-S[O],z=t.elements.arrow,F=h&&z?kt(z):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=B[P],W=B[L],H=jt(0,S[O],F[O]),V=y?S[O]/2-N-H-U-_.mainAxis:R-H-U-_.mainAxis,G=y?-S[O]/2+N+H+W+_.mainAxis:M+H+W+_.mainAxis,q=t.elements.arrow&&Ot(t.elements.arrow),K=q?"y"===w?q.clientTop||0:q.clientLeft||0:0,Q=null!=(A=null==D?void 0:D[w])?A:0,X=E+G-Q,Y=jt(h?wt(j,E+V-Q-K):j,E,h?yt(T,X):T);C[w]=Y,x[w]=Y-E}if(s){var Z,J="x"===w?Ue:Ve,ee="x"===w?We:He,te=C[$],ie="y"===$?"height":"width",oe=te+f[J],re=te-f[ee],ne=-1!==[Ue,Ve].indexOf(b),ae=null!=(Z=null==D?void 0:D[$])?Z:0,se=ne?oe:te-S[ie]-I[ie]-ae+_.altAxis,le=ne?te+S[ie]+I[ie]-ae-_.altAxis:re,de=h&&ne?function(e,t,i){var o=jt(e,t,i);return o>i?i:o}(se,te,le):jt(h?se:oe,te,h?le:re);C[$]=de,x[$]=de-te}t.modifiersData[o]=x}},requiresIfExists:["offset"]};function ci(e,t,i){void 0===i&&(i=!1);var o,r,n=gt(t),a=gt(t)&&function(e){var t=e.getBoundingClientRect(),i=$t(t.width)/e.offsetWidth||1,o=$t(t.height)/e.offsetHeight||1;return 1!==i||1!==o}(t),s=At(t),l=It(e,a,i),d={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!i)&&(("body"!==ut(t)||Xt(s))&&(d=(o=t)!==ht(o)&&gt(o)?{scrollLeft:(r=o).scrollLeft,scrollTop:r.scrollTop}:Kt(o)),gt(t)?((c=It(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=Qt(s))),{x:l.left+d.scrollLeft-c.x,y:l.top+d.scrollTop-c.y,width:l.width,height:l.height}}function pi(e){var t=new Map,i=new Set,o=[];function r(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!i.has(e)){var o=t.get(e);o&&r(o)}}),o.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||r(e)}),o}var ui={placement:"bottom",modifiers:[],strategy:"absolute"};function hi(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function mi(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,o=void 0===i?[]:i,r=t.defaultOptions,n=void 0===r?ui:r;return function(e,t,i){void 0===i&&(i=n);var r,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},ui,n),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],d=!1,c={state:s,setOptions:function(i){var r="function"==typeof i?i(s.options):i;p(),s.options=Object.assign({},n,s.options,r),s.scrollParents={reference:mt(e)?Zt(e):e.contextElement?Zt(e.contextElement):[],popper:Zt(t)};var a,d,u=function(e){var t=pi(e);return pt.reduce(function(e,i){return e.concat(t.filter(function(e){return e.phase===i}))},[])}((a=[].concat(o,s.options.modifiers),d=a.reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{}),Object.keys(d).map(function(e){return d[e]})));return s.orderedModifiers=u.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,o=void 0===i?{}:i,r=e.effect;if("function"==typeof r){var n=r({state:s,name:t,instance:c,options:o});l.push(n||function(){})}}),c.update()},forceUpdate:function(){if(!d){var e=s.elements,t=e.reference,i=e.popper;if(hi(t,i)){s.rects={reference:ci(t,Ot(i),"fixed"===s.options.strategy),popper:kt(i)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var o=0;o<s.orderedModifiers.length;o++)if(!0!==s.reset){var r=s.orderedModifiers[o],n=r.fn,a=r.options,l=void 0===a?{}:a,p=r.name;"function"==typeof n&&(s=n({state:s,options:l,name:p,instance:c})||s)}else s.reset=!1,o=-1}}},update:(r=function(){return new Promise(function(e){c.forceUpdate(),e(s)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(r())})})),a}),destroy:function(){p(),d=!0}};if(!hi(e,t))return c;function p(){l.forEach(function(e){return e()}),l=[]}return c.setOptions(i).then(function(e){!d&&i.onFirstUpdate&&i.onFirstUpdate(e)}),c}}var gi=mi(),fi=mi({defaultModifiers:[Wt,li,Bt,bt]}),bi=mi({defaultModifiers:[Wt,li,Bt,bt,si,oi,di,Rt,ai]});const vi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:st,afterRead:rt,afterWrite:ct,applyStyles:bt,arrow:Rt,auto:Ge,basePlacements:qe,beforeMain:nt,beforeRead:it,beforeWrite:lt,bottom:We,clippingParents:Xe,computeStyles:Bt,createPopper:bi,createPopperBase:gi,createPopperLite:fi,detectOverflow:ii,end:Qe,eventListeners:Wt,flip:oi,hide:ai,left:Ve,main:at,modifierPhases:pt,offset:si,placements:tt,popper:Ze,popperGenerator:mi,popperOffsets:li,preventOverflow:di,read:ot,reference:Je,right:He,start:Ke,top:Ue,variationPlacements:et,viewport:Ye,write:dt},Symbol.toStringTag,{value:"Module"})),yi="dropdown",wi=".bs.dropdown",$i=".data-api",Ci="ArrowUp",Si="ArrowDown",Ii=`hide${wi}`,ki=`hidden${wi}`,_i=`show${wi}`,Di=`shown${wi}`,xi=`click${wi}${$i}`,Ai=`keydown${wi}${$i}`,Pi=`keyup${wi}${$i}`,Li="show",Oi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ei=`${Oi}.${Li}`,ji=".dropdown-menu",Ti=m()?"top-end":"top-start",Ni=m()?"top-start":"top-end",Ri=m()?"bottom-end":"bottom-start",Mi=m()?"bottom-start":"bottom-end",zi=m()?"left-start":"right-start",Fi=m()?"right-start":"left-start",Bi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ui={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Wi extends F{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,ji)[0]||U.prev(this._element,ji)[0]||U.findOne(ji,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Bi}static get DefaultType(){return Ui}static get NAME(){return yi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!j.trigger(this._element,_i,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))j.on(e,"mouseover",c);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Li),this._element.classList.add(Li),j.trigger(this._element,Di,e)}}hide(){if(l(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!j.trigger(this._element,Ii,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.off(e,"mouseover",c);this._popper&&this._popper.destroy(),this._menu.classList.remove(Li),this._element.classList.remove(Li),this._element.setAttribute("aria-expanded","false"),M.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,ki,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!n(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${yi.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===vi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:n(this._config.reference)?e=a(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=bi(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Li)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return zi;if(e.classList.contains("dropstart"))return Fi;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Ni:Ti:t?Mi:Ri}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(M.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...f(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const i=U.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>s(e));i.length&&v(i,t,e===Si,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Wi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=U.find(Ei);for(const i of t){const t=Wi.getInstance(i);if(!t||!1===t._config.autoClose)continue;const o=e.composedPath(),r=o.includes(t._menu);if(o.includes(t._element)||"inside"===t._config.autoClose&&!r||"outside"===t._config.autoClose&&r)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const n={relatedTarget:t._element};"click"===e.type&&(n.clickEvent=e),t._completeHide(n)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,o=[Ci,Si].includes(e.key);if(!o&&!i)return;if(t&&!i)return;e.preventDefault();const r=this.matches(Oi)?this:U.prev(this,Oi)[0]||U.next(this,Oi)[0]||U.findOne(Oi,e.delegateTarget.parentNode),n=Wi.getOrCreateInstance(r);if(o)return e.stopPropagation(),n.show(),void n._selectMenuItem(e);n._isShown()&&(e.stopPropagation(),n.hide(),r.focus())}}j.on(document,Ai,Oi,Wi.dataApiKeydownHandler),j.on(document,Ai,ji,Wi.dataApiKeydownHandler),j.on(document,xi,Wi.clearMenus),j.on(document,Pi,Wi.clearMenus),j.on(document,xi,Oi,function(e){e.preventDefault(),Wi.getOrCreateInstance(this).toggle()}),g(Wi);const Hi="backdrop",Vi="show",Gi=`mousedown.bs.${Hi}`,qi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ki={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Qi extends z{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return qi}static get DefaultType(){return Ki}static get NAME(){return Hi}show(e){if(!this._config.isVisible)return void f(e);this._append();const t=this._getElement();this._config.isAnimated&&p(t),t.classList.add(Vi),this._emulateAnimation(()=>{f(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(Vi),this._emulateAnimation(()=>{this.dispose(),f(e)})):f(e)}dispose(){this._isAppended&&(j.off(this._element,Gi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=a(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),j.on(e,Gi,()=>{f(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){b(e,this._getElement(),this._config.isAnimated)}}const Xi=".bs.focustrap",Yi=`focusin${Xi}`,Zi=`keydown.tab${Xi}`,Ji="backward",eo={autofocus:!0,trapElement:null},to={autofocus:"boolean",trapElement:"element"};class io extends z{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return eo}static get DefaultType(){return to}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,Xi),j.on(document,Yi,e=>this._handleFocusin(e)),j.on(document,Zi,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,Xi))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=U.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===Ji?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Ji:"forward")}}const oo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ro=".sticky-top",no="padding-right",ao="margin-right";class so{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,no,t=>t+e),this._setElementAttributes(oo,no,t=>t+e),this._setElementAttributes(ro,ao,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,no),this._resetElementAttributes(oo,no),this._resetElementAttributes(ro,ao)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const o=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+o)return;this._saveInitialAttribute(e,t);const r=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(r))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&M.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{const i=M.getDataAttribute(e,t);null!==i?(M.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(n(e))t(e);else for(const i of U.find(e,this._element))t(i)}}const lo=".bs.modal",co=`hide${lo}`,po=`hidePrevented${lo}`,uo=`hidden${lo}`,ho=`show${lo}`,mo=`shown${lo}`,go=`resize${lo}`,fo=`click.dismiss${lo}`,bo=`mousedown.dismiss${lo}`,vo=`keydown.dismiss${lo}`,yo=`click${lo}.data-api`,wo="modal-open",$o="show",Co="modal-static",So={backdrop:!0,focus:!0,keyboard:!0},Io={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ko extends F{constructor(e,t){super(e,t),this._dialog=U.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new so,this._addEventListeners()}static get Default(){return So}static get DefaultType(){return Io}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||j.trigger(this._element,ho,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(wo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(j.trigger(this._element,co).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove($o),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){j.off(window,lo),j.off(this._dialog,lo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Qi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new io({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=U.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),p(this._element),this._element.classList.add($o),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,mo,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,vo,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),j.on(window,go,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,bo,e=>{j.one(this._element,fo,t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(wo),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,uo)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(j.trigger(this._element,po).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Co)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Co),this._queueCallback(()=>{this._element.classList.remove(Co),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const e=m()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){const e=m()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=ko.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}})}}j.on(document,yo,'[data-bs-toggle="modal"]',function(e){const t=U.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),j.one(t,ho,e=>{e.defaultPrevented||j.one(t,uo,()=>{s(this)&&this.focus()})});const i=U.findOne(".modal.show");i&&ko.getInstance(i).hide(),ko.getOrCreateInstance(t).toggle(this)}),W(ko),g(ko);const _o=".bs.offcanvas",Do=".data-api",xo=`load${_o}${Do}`,Ao="show",Po="showing",Lo="hiding",Oo=".offcanvas.show",Eo=`show${_o}`,jo=`shown${_o}`,To=`hide${_o}`,No=`hidePrevented${_o}`,Ro=`hidden${_o}`,Mo=`resize${_o}`,zo=`click${_o}${Do}`,Fo=`keydown.dismiss${_o}`,Bo={backdrop:!0,keyboard:!0,scroll:!1},Uo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Wo extends F{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bo}static get DefaultType(){return Uo}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||j.trigger(this._element,Eo,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new so).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Po),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ao),this._element.classList.remove(Po),j.trigger(this._element,jo,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&(j.trigger(this._element,To).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Lo),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ao,Lo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new so).reset(),j.trigger(this._element,Ro)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Qi({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():j.trigger(this._element,No)}:null})}_initializeFocusTrap(){return new io({trapElement:this._element})}_addEventListeners(){j.on(this._element,Fo,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():j.trigger(this._element,No))})}static jQueryInterface(e){return this.each(function(){const t=Wo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}j.on(document,zo,'[data-bs-toggle="offcanvas"]',function(e){const t=U.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this))return;j.one(t,Ro,()=>{s(this)&&this.focus()});const i=U.findOne(Oo);i&&i!==t&&Wo.getInstance(i).hide(),Wo.getOrCreateInstance(t).toggle(this)}),j.on(window,xo,()=>{for(const e of U.find(Oo))Wo.getOrCreateInstance(e).show()}),j.on(window,Mo,()=>{for(const e of U.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Wo.getOrCreateInstance(e).hide()}),W(Wo),g(Wo);const Ho={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Vo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Go=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qo=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!Vo.has(i)||Boolean(Go.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(i))},Ko={allowList:Ho,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Qo={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Xo={entry:"(string|element|function|null)",selector:"(string|element)"};class Yo extends z{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Ko}static get DefaultType(){return Qo}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(e,i,t);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Xo)}_setContent(e,t,i){const o=U.findOne(i,e);o&&((t=this._resolvePossibleFunction(t))?n(t)?this._putElementInTemplate(a(t),o):this._config.html?o.innerHTML=this._maybeSanitize(t):o.textContent=t:o.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const o=(new window.DOMParser).parseFromString(e,"text/html"),r=[].concat(...o.body.querySelectorAll("*"));for(const e of r){const i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}const o=[].concat(...e.attributes),r=[].concat(t["*"]||[],t[i]||[]);for(const t of o)qo(t,r)||e.removeAttribute(t.nodeName)}return o.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return f(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Zo=new Set(["sanitize","allowList","sanitizeFn"]),Jo="fade",er="show",tr=".modal",ir="hide.bs.modal",or="hover",rr="focus",nr={AUTO:"auto",TOP:"top",RIGHT:m()?"left":"right",BOTTOM:"bottom",LEFT:m()?"right":"left"},ar={allowList:Ho,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},sr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class lr extends F{constructor(e,t){if(void 0===vi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ar}static get DefaultType(){return sr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(tr),ir,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=j.trigger(this._element,this.constructor.eventName("show")),t=(d(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),j.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(er),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.on(e,"mouseover",c);this._queueCallback(()=>{j.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!j.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(er),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.off(e,"mouseover",c);this._activeTrigger.click=!1,this._activeTrigger[rr]=!1,this._activeTrigger[or]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Jo,er),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Jo),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Yo({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Jo)}_isShown(){return this.tip&&this.tip.classList.contains(er)}_createPopper(e){const t=f(this._config.placement,[this,e,this._element]),i=nr[t.toUpperCase()];return bi(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return f(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...f(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)j.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==t){const e=t===or?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===or?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");j.on(this._element,e,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?rr:or]=!0,t._enter()}),j.on(this._element,i,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?rr:or]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(tr),ir,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=M.getDataAttributes(this._element);for(const e of Object.keys(t))Zo.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:a(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=lr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}g(lr);const dr={...lr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},cr={...lr.DefaultType,content:"(null|string|element|function)"};class pr extends lr{static get Default(){return dr}static get DefaultType(){return cr}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=pr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}g(pr);const ur=".bs.scrollspy",hr=`activate${ur}`,mr=`click${ur}`,gr=`load${ur}.data-api`,fr="active",br="[href]",vr=".nav-link",yr=`${vr}, .nav-item > ${vr}, .list-group-item`,wr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},$r={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Cr extends F{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return wr}static get DefaultType(){return $r}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=a(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,mr),j.on(this._config.target,mr,br,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:o,behavior:"smooth"});i.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},o=(this._rootElement||document.documentElement).scrollTop,r=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const n of e){if(!n.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(n));continue}const e=n.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&e){if(i(n),!o)return}else r||e||i(n)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=U.find(br,this._config.target);for(const t of e){if(!t.hash||l(t))continue;const e=U.findOne(decodeURI(t.hash),this._element);s(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(fr),this._activateParents(e),j.trigger(this._element,hr,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))U.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(fr);else for(const t of U.parents(e,".nav, .list-group"))for(const e of U.prev(t,yr))e.classList.add(fr)}_clearActiveClass(e){e.classList.remove(fr);const t=U.find(`${br}.${fr}`,e);for(const e of t)e.classList.remove(fr)}static jQueryInterface(e){return this.each(function(){const t=Cr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}j.on(window,gr,()=>{for(const e of U.find('[data-bs-spy="scroll"]'))Cr.getOrCreateInstance(e)}),g(Cr);const Sr=".bs.tab",Ir=`hide${Sr}`,kr=`hidden${Sr}`,_r=`show${Sr}`,Dr=`shown${Sr}`,xr=`click${Sr}`,Ar=`keydown${Sr}`,Pr=`load${Sr}`,Lr="ArrowLeft",Or="ArrowRight",Er="ArrowUp",jr="ArrowDown",Tr="Home",Nr="End",Rr="active",Mr="fade",zr="show",Fr=".dropdown-toggle",Br=`:not(${Fr})`,Ur='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Wr=`.nav-link${Br}, .list-group-item${Br}, [role="tab"]${Br}, ${Ur}`,Hr=`.${Rr}[data-bs-toggle="tab"], .${Rr}[data-bs-toggle="pill"], .${Rr}[data-bs-toggle="list"]`;class Vr extends F{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,Ar,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?j.trigger(t,Ir,{relatedTarget:e}):null;j.trigger(e,_r,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Rr),this._activate(U.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),j.trigger(e,Dr,{relatedTarget:t})):e.classList.add(zr)},e,e.classList.contains(Mr)))}_deactivate(e,t){e&&(e.classList.remove(Rr),e.blur(),this._deactivate(U.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),j.trigger(e,kr,{relatedTarget:t})):e.classList.remove(zr)},e,e.classList.contains(Mr)))}_keydown(e){if(![Lr,Or,Er,jr,Tr,Nr].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(e=>!l(e));let i;if([Tr,Nr].includes(e.key))i=t[e.key===Tr?0:t.length-1];else{const o=[Or,jr].includes(e.key);i=v(t,e.target,o,!0)}i&&(i.focus({preventScroll:!0}),Vr.getOrCreateInstance(i).show())}_getChildren(){return U.find(Wr,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=U.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const o=(e,o)=>{const r=U.findOne(e,i);r&&r.classList.toggle(o,t)};o(Fr,Rr),o(".dropdown-menu",zr),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(Rr)}_getInnerElement(e){return e.matches(Wr)?e:U.findOne(Wr,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=Vr.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}j.on(document,xr,Ur,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this)||Vr.getOrCreateInstance(this).show()}),j.on(window,Pr,()=>{for(const e of U.find(Hr))Vr.getOrCreateInstance(e)}),g(Vr);const Gr=".bs.toast",qr=`mouseover${Gr}`,Kr=`mouseout${Gr}`,Qr=`focusin${Gr}`,Xr=`focusout${Gr}`,Yr=`hide${Gr}`,Zr=`hidden${Gr}`,Jr=`show${Gr}`,en=`shown${Gr}`,tn="hide",on="show",rn="showing",nn={animation:"boolean",autohide:"boolean",delay:"number"},an={animation:!0,autohide:!0,delay:5e3};class sn extends F{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return an}static get DefaultType(){return nn}static get NAME(){return"toast"}show(){j.trigger(this._element,Jr).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(tn),p(this._element),this._element.classList.add(on,rn),this._queueCallback(()=>{this._element.classList.remove(rn),j.trigger(this._element,en),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(j.trigger(this._element,Yr).defaultPrevented||(this._element.classList.add(rn),this._queueCallback(()=>{this._element.classList.add(tn),this._element.classList.remove(rn,on),j.trigger(this._element,Zr)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(on),super.dispose()}isShown(){return this._element.classList.contains(on)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,qr,e=>this._onInteraction(e,!0)),j.on(this._element,Kr,e=>this._onInteraction(e,!1)),j.on(this._element,Qr,e=>this._onInteraction(e,!0)),j.on(this._element,Xr,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=sn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}return W(sn),g(sn),{Alert:q,Button:Q,Carousel:De,Collapse:Be,Dropdown:Wi,Modal:ko,Offcanvas:Wo,Popover:pr,ScrollSpy:Cr,Tab:Vr,Toast:sn,Tooltip:lr}}),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";var t,i,o,r,n=["sanitize","whiteList","sanitizeFn"],a=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],s=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,d=["title","placeholder"];function c(t,i,o){if(o&&"function"==typeof o)return o(t);for(var r=Object.keys(i),n=0,d=t.length;n<d;n++)for(var c=t[n].querySelectorAll("*"),p=0,u=c.length;p<u;p++){var h=c[p],m=h.nodeName.toLowerCase();if(-1===r.indexOf(m))h.parentNode.removeChild(h);else for(var g=[].slice.call(h.attributes),f=[].concat(i["*"]||[],i[m]||[]),b=0,v=g.length;b<v;b++){var y=g[b];!function(t,i){var o=t.nodeName.toLowerCase();if(-1!==e.inArray(o,i))return-1===e.inArray(o,a)||Boolean(t.nodeValue.match(s)||t.nodeValue.match(l));for(var r=e(i).filter(function(e,t){return t instanceof RegExp}),n=0,d=r.length;n<d;n++)if(o.match(r[n]))return 1}(y,f)&&h.removeAttribute(y.nodeName)}}}function p(e){var t,i={};return d.forEach(function(o){(t=e.attr(o))&&(i[o]=t)}),!i.placeholder&&i.title&&(i.placeholder=i.title),i}if(!("classList"in document.createElement("_"))&&"Element"in(m=window)){var u="classList",h="prototype",m=m.Element[h],g=Object,f=function(){var t=e(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.removeClass(e)},toggle:function(e,i){return t.toggleClass(e,i)},contains:function(e){return t.hasClass(e)}}};if(g.defineProperty){var b={get:f,enumerable:!0,configurable:!0};try{g.defineProperty(m,u,b)}catch(h){void 0!==h.number&&-2146823252!==h.number||(b.enumerable=!1,g.defineProperty(m,u,b))}}else g[h].__defineGetter__&&m.__defineGetter__(u,f)}function v(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==r.call(e))throw new TypeError;var i=t.length,o=String(e),n=o.length,a=((e=(e=1<arguments.length?arguments[1]:void 0)?Number(e):0)!=e&&(e=0),Math.min(Math.max(e,0),i));if(i<n+a)return!1;for(var s=-1;++s<n;)if(t.charCodeAt(a+s)!=o.charCodeAt(s))return!1;return!0}function y(){var e=this.selectpicker.main.data,t=(e=this.options.source.data||this.options.source.search?Object.values(this.selectpicker.optionValuesDataMap):e).filter(function(e){return!(!e.selected||this.options.hideDisabled&&e.disabled)},this);if(this.options.source.data&&!this.multiple&&1<t.length){for(var i=0;i<t.length-1;i++)t[i].selected=!1;t=[t[t.length-1]]}return t}function w(e){for(var t,i=[],o=e||y.call(this),r=0,n=o.length;r<n;r++)(t=o[r]).disabled||i.push(void 0===t.value?t.text:t.value);return this.multiple?i:i.length?i[0]:null}(b=document.createElement("_")).classList.add("c1","c2"),b.classList.contains("c2")||(t=DOMTokenList.prototype.add,i=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,t.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,i.bind(this))}),b.classList.toggle("c3",!1),b.classList.contains("c3")&&(o=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:o.call(this,e)}),b=null,Object.values="function"==typeof Object.values?Object.values:function(e){return Object.keys(e).map(function(t){return e[t]})},String.prototype.startsWith||(r={}.toString,Object.defineProperty?Object.defineProperty(String.prototype,"startsWith",{value:v,configurable:!0,writable:!0}):String.prototype.startsWith=v);var $={useDefault:!1,_set:e.valHooks.select.set},C=(e.valHooks.select.set=function(t,i){return i&&!$.useDefault&&e(t).data("selected",!0),$._set.apply(this,arguments)},null),S=function(){try{return new Event("change"),!0}catch(e){return!1}}();function I(e,t,i,o){for(var r=["display","subtext","tokens"],n=!1,a=0;a<r.length;a++){var s=r[a],l=e[s];if(l&&(l=l.toString(),"display"===s&&(l=l.replace(/<[^>]+>/g,"")),l=(l=o?P(l):l).toUpperCase(),n="function"==typeof i?i(l,t):"contains"===i?0<=l.indexOf(t):l.startsWith(t)))break}return n}function k(e){return parseInt(e,10)||0}e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent&&(S?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t))};var _={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},D=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,x=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function A(e){return _[e]}function P(e){return(e=e.toString())&&e.replace(D,A).replace(x,"")}L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},g="(?:"+Object.keys(L).join("|")+")",O=RegExp(g),E=RegExp(g,"g");var L,O,E,j=function(e){return O.test(e=null==e?"":""+e)?e.replace(E,T):e};function T(e){return L[e]}var N={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},R=window.Dropdown||bootstrap.Dropdown;function M(){var t;try{t=e.fn.dropdown.Constructor.VERSION}catch(e){t=R.VERSION}return t}var z={success:!1,major:"3"};try{z.full=(M()||"").split(" ")[0].split("."),z.major=z.full[0],z.success=!0}catch(h){}var F=0,B=".bs.select",U={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},W={MENU:"."+U.MENU,DATA_TOGGLE:'data-toggle="dropdown"'},H={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("Â "),fragment:document.createDocumentFragment(),option:document.createElement("option")},V=(H.selectedOption=H.option.cloneNode(!1),H.selectedOption.setAttribute("selected",!0),H.noResults=H.li.cloneNode(!1),H.noResults.className="no-results",H.a.setAttribute("role","option"),H.a.className="dropdown-item",H.subtext.className="text-muted",H.text=H.span.cloneNode(!1),H.text.className="text",H.checkMark=H.span.cloneNode(!1),new RegExp("38|40")),G=new RegExp("^9$|27"),q={li:function(e,t,i){var o=H.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?o.appendChild(e):o.innerHTML=e),void 0!==t&&""!==t&&(o.className=t),null!=i&&o.classList.add("optgroup-"+i),o},a:function(e,t,i){var o=H.a.cloneNode(!0);return e&&(11===e.nodeType?o.appendChild(e):o.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&o.classList.add.apply(o.classList,t.split(/\s+/)),i&&o.setAttribute("style",i),o},text:function(e,t){var i,o,r=H.text.cloneNode(!1);if(e.content?r.innerHTML=e.content:(r.textContent=e.text,e.icon&&(i=H.whitespace.cloneNode(!1),(o=(!0===t?H.i:H.span).cloneNode(!1)).className=this.options.iconBase+" "+e.icon,H.fragment.appendChild(o),H.fragment.appendChild(i)),e.subtext&&((o=H.subtext.cloneNode(!1)).textContent=e.subtext,r.appendChild(o))),!0===t)for(;0<r.childNodes.length;)H.fragment.appendChild(r.childNodes[0]);else H.fragment.appendChild(r);return H.fragment},label:function(e){var t,i,o=H.text.cloneNode(!1);return o.innerHTML=e.display,e.icon&&(t=H.whitespace.cloneNode(!1),(i=H.span.cloneNode(!1)).className=this.options.iconBase+" "+e.icon,H.fragment.appendChild(i),H.fragment.appendChild(t)),e.subtext&&((i=H.subtext.cloneNode(!1)).textContent=e.subtext,o.appendChild(i)),H.fragment.appendChild(o),H.fragment}},K={fromOption:function(e,t){var i;switch(t){case"divider":i="true"===e.getAttribute("data-divider");break;case"text":i=e.textContent;break;case"label":i=e.label;break;case"style":i=e.style.cssText;break;case"title":i=e.title;break;default:i=e.getAttribute("data-"+t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}))}return i},fromDataSource:function(e,t){var i;switch(t){case"text":case"label":i=e.text||e.value||"";break;default:i=e[t]}return i}};function Q(e,t){e.length||(H.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+j(t)+'"'),this.$menuInner[0].firstChild.appendChild(H.noResults))}function X(e){return!(e.hidden||this.options.hideDisabled&&e.disabled)}function Y(t,i){var o=this;$.useDefault||(e.valHooks.select.set=$._set,$.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{data:[],optionQueue:H.fragment.cloneNode(!1),hasMore:!1},search:{data:[],hasMore:!1},current:{},view:{},optionValuesDataMap:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){o.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},"number"==typeof(t=this.options.windowPadding)&&(this.options.windowPadding=[t,t,t,t]),this.val=Y.prototype.val,this.render=Y.prototype.render,this.refresh=Y.prototype.refresh,this.setStyle=Y.prototype.setStyle,this.selectAll=Y.prototype.selectAll,this.deselectAll=Y.prototype.deselectAll,this.destroy=Y.prototype.destroy,this.remove=Y.prototype.remove,this.show=Y.prototype.show,this.hide=Y.prototype.hide,this.init()}function Z(t){var i,o=arguments,r=t;if([].shift.apply(o),!z.success){try{z.full=(M()||"").split(" ")[0].split(".")}catch(t){Y.BootstrapVersion?z.full=Y.BootstrapVersion.split(" ")[0].split("."):(z.full=[z.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",t))}z.major=z.full[0],z.success=!0}if("4"<=z.major){var a=[];Y.DEFAULTS.style===U.BUTTONCLASS&&a.push({name:"style",className:"BUTTONCLASS"}),Y.DEFAULTS.iconBase===U.ICONBASE&&a.push({name:"iconBase",className:"ICONBASE"}),Y.DEFAULTS.tickIcon===U.TICKICON&&a.push({name:"tickIcon",className:"TICKICON"}),U.DIVIDER="dropdown-divider",U.SHOW="show",U.BUTTONCLASS="btn-light",U.POPOVERHEADER="popover-header",U.ICONBASE="",U.TICKICON="bs-ok-default";for(var s=0;s<a.length;s++)t=a[s],Y.DEFAULTS[t.name]=U[t.className]}"4"<z.major&&(W.DATA_TOGGLE='data-bs-toggle="dropdown"');var l=this.each(function(){var t=e(this);if(t.is("select")){var a=t.data("selectpicker"),s="object"==typeof r&&r;if(s.title&&(s.placeholder=s.title),a){if(s)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a.options[l]=s[l])}else{var d,c=t.data();for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&-1!==e.inArray(d,n)&&delete c[d];var u=e.extend({},Y.DEFAULTS,e.fn.selectpicker.defaults||{},p(t),c,s);u.template=e.extend({},Y.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},c.template,s.template),u.source=e.extend({},Y.DEFAULTS.source,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.source:{},s.source),t.data("selectpicker",a=new Y(this,u))}"string"==typeof r&&(i=a[r]instanceof Function?a[r].apply(a,o):a.options[r])}});return void 0!==i?i:l}Y.VERSION="1.14.0-beta3",Y.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",source:{pageSize:40},chunkSize:40,doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:U.BUTTONCLASS,size:"auto",title:null,placeholder:null,allowClear:!1,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:U.ICONBASE,tickIcon:U.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!0,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},Y.prototype={constructor:Y,init:function(){var t=this,i=this.$element.attr("id"),o=this.$element[0],r=o.form;F++,this.selectId="bs-select-"+F,o.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),o.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),r&&null===o.form&&(r.id||(r.id="form-"+this.selectId),o.setAttribute("form",r.id)),this.$button=this.$newElement.children("button"),this.options.allowClear&&(this.$clearButton=this.$button.children(".bs-select-clear-selected")),this.$menu=this.$newElement.children(W.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),o.classList.remove("bs-select-hidden"),this.fetchData(function(){t.render(!0),t.buildList(),requestAnimationFrame(function(){t.$element.trigger("loaded"+B)})}),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(U.MENURIGHT),void 0!==i&&this.$button.attr("data-id",i),this.checkDisabled(),this.clickListener(),4<z.major&&(this.dropdown=new R(this.$button[0])),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+B,function(){var e,i;t.isVirtual()&&(i=(e=t.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(i,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide"+B,e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden"+B,e)},"show.bs.dropdown":function(e){t.$element.trigger("show"+B,e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown"+B,e)}}),o.hasAttribute("required")&&this.$element.on("invalid"+B,function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown"+B+".invalid",function(){t.$element.val(t.$element.val()).off("shown"+B+".invalid")}).on("rendered"+B,function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered"+B)}),t.$button.on("blur"+B,function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur"+B)})}),r&&e(r).on("reset"+B,function(){requestAnimationFrame(function(){t.render()})})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.multiple?' aria-multiselectable="true"':"",o="",r=this.autofocus?" autofocus":"";z.major<4&&this.$element.parent().hasClass("input-group")&&(o=" input-group-btn");var n="",a="",s="",l="",d="";return this.options.header&&(n='<div class="'+U.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(a='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+j(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(s='<div class="bs-actionsbox"><div class="btn-group btn-group-sm"><button type="button" class="actions-btn bs-select-all btn '+U.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+U.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group"><button type="button" class="btn btn-sm '+U.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),this.options.allowClear&&(d='<span class="close bs-select-clear-selected" title="'+this.options.deselectAllText+'"><span>&times;</span>'),t='<div class="dropdown bootstrap-select'+t+o+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+W.DATA_TOGGLE+r+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner">&nbsp;</div></div> </div>'+d+"</span>"+("4"<=z.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+U.MENU+" "+("4"<=z.major?"":U.SHOW)+'">'+n+a+s+'<div class="inner '+U.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+i+'><ul class="'+U.MENU+" inner "+("4"<=z.major?U.SHOW:"")+'" role="presentation"></ul></div>'+l+"</div></div>",e(t)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex&&(this.selectpicker.view.firstHighlightIndex=e)),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.data.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,i,o){var r=this,n=0;function a(e,i){var o,n=r.selectpicker.current.data.length,s=[],l=!0,d=r.isVirtual();r.selectpicker.view.scrollTop=e;for(var p,u=r.options.chunkSize,h=Math.ceil(n/u)||1,m=0;m<h;m++){var g=m===h-1?n:(m+1)*u;if(s[m]=[m*u+(m?1:0),g],!n)break;void 0===o&&e-1<=r.selectpicker.current.data[g-1].position-r.sizeInfo.menuInnerHeight&&(o=m)}if(void 0===o&&(o=0),$=[r.selectpicker.view.position0,r.selectpicker.view.position1],f=Math.max(0,o-1),v=Math.min(h-1,o+1),r.selectpicker.view.position0=!1!==d&&Math.max(0,s[f][0])||0,r.selectpicker.view.position1=!1===d?n:Math.min(n,s[v][1])||0,f=$[0]!==r.selectpicker.view.position0||$[1]!==r.selectpicker.view.position1,void 0!==r.activeElement&&(i&&(r.activeElement!==r.selectedElement&&r.defocusItem(r.activeElement),r.activeElement=void 0),r.activeElement!==r.selectedElement&&r.defocusItem(r.selectedElement)),void 0!==r.prevActiveElement&&r.prevActiveElement!==r.activeElement&&r.prevActiveElement!==r.selectedElement&&r.defocusItem(r.prevActiveElement),i||f||r.selectpicker.current.hasMore){if(v=r.selectpicker.view.visibleElements?r.selectpicker.view.visibleElements.slice():[],r.selectpicker.view.visibleElements=!1===d?r.selectpicker.current.elements:r.selectpicker.current.elements.slice(r.selectpicker.view.position0,r.selectpicker.view.position1),r.setOptionStatus(),(t||!1===d&&i)&&($=v,p=r.selectpicker.view.visibleElements,l=!($.length===p.length&&$.every(function(e,t){return e===p[t]}))),(i||!0===d)&&l){var f=r.$menuInner[0],b=document.createDocumentFragment(),v=f.firstChild.cloneNode(!1),y=r.selectpicker.view.visibleElements,w=[];f.replaceChild(v,f.firstChild);m=0;for(var $,C=y.length;m<C;m++){var S,I,k=y[m];r.options.sanitize&&(S=k.lastChild)&&(I=r.selectpicker.current.data[m+r.selectpicker.view.position0])&&I.content&&!I.sanitized&&(w.push(S),I.sanitized=!0),b.appendChild(k)}r.options.sanitize&&w.length&&c(w,r.options.whiteList,r.options.sanitizeFn),!0===d?($=0===r.selectpicker.view.position0?0:r.selectpicker.current.data[r.selectpicker.view.position0-1].position,l=r.selectpicker.view.position1>n-1?0:r.selectpicker.current.data[n-1].position-r.selectpicker.current.data[r.selectpicker.view.position1-1].position,f.firstChild.style.marginTop=$+"px",f.firstChild.style.marginBottom=l+"px"):(f.firstChild.style.marginTop=0,f.firstChild.style.marginBottom=0),f.firstChild.appendChild(b),!0===d&&r.sizeInfo.hasScrollBar&&(v=f.firstChild.offsetWidth,i&&v<r.sizeInfo.menuInnerInnerWidth&&r.sizeInfo.totalMenuWidth>r.sizeInfo.selectWidth?f.firstChild.style.minWidth=r.sizeInfo.menuInnerInnerWidth+"px":v>r.sizeInfo.menuInnerInnerWidth&&(r.$menu[0].style.minWidth=0,($=f.firstChild.offsetWidth)>r.sizeInfo.menuInnerInnerWidth&&(r.sizeInfo.menuInnerInnerWidth=$,f.firstChild.style.minWidth=r.sizeInfo.menuInnerInnerWidth+"px"),r.$menu[0].style.minWidth=""))}(!t&&r.options.source.data||t&&r.options.source.search)&&r.selectpicker.current.hasMore&&o===h-1&&0<e&&(l=Math.floor(o*r.options.chunkSize/r.options.source.pageSize)+2,r.fetchData(function(){r.render(),r.buildList(n,t),r.setPositionData(),a(e)},t?"search":"data",l,t?r.selectpicker.search.previousValue:void 0))}r.prevActiveElement=r.activeElement,r.options.liveSearch?t&&i&&(r.selectpicker.view.canHighlight[d=0]||(d=1+r.selectpicker.view.canHighlight.slice(1).indexOf(!0)),v=r.selectpicker.view.visibleElements[d],r.defocusItem(r.selectpicker.view.currentActive),r.activeElement=(r.selectpicker.current.data[d]||{}).element,r.focusItem(v)):r.$menuInner.trigger("focus")}this.selectpicker.isSearching=t,this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),i&&(o?n=this.$menuInner[0].scrollTop:r.multiple||"number"==typeof(o=((i=r.$element[0]).options[i.selectedIndex]||{}).liIndex)&&!1!==r.options.size&&(o=(i=r.selectpicker.main.data[o])&&i.position)&&(n=o-(r.sizeInfo.menuInnerHeight+r.sizeInfo.liHeight)/2)),a(n,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){r.noScroll||a(this.scrollTop,t),r.noScroll=!1}),e(window).off("resize"+B+"."+this.selectId+".createView").on("resize"+B+"."+this.selectId+".createView",function(){r.$newElement.hasClass(U.SHOW)&&a(r.$menuInner[0].scrollTop)})},focusItem:function(e,t,i){var o;e&&(t=t||this.selectpicker.current.data[this.selectpicker.current.elements.indexOf(this.activeElement)],(o=e.firstChild)&&(o.setAttribute("aria-setsize",this.selectpicker.view.size),o.setAttribute("aria-posinset",t.posinset),!0!==i&&(this.focusedParent.setAttribute("aria-activedescendant",o.id),e.classList.add("active"),o.classList.add("active"))))},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var e,t,i,o,r,n,a,s=this,l=!1;return!this.options.placeholder&&!this.options.allowClear||this.multiple||(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=this.$element[0],t=!(l=!0),i=!this.selectpicker.view.titleOption.parentNode,o=e.selectedIndex,r=e.options[o],n=(n=e.querySelector("select > *:not(:disabled)"))?n.index:0,a=(a=window.performance&&window.performance.getEntriesByType("navigation"))&&a.length?"back_forward"!==a[0].type:2!==window.performance.navigation.type,i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",t=!r||o===n&&!1===r.defaultSelected&&void 0===this.$element.data("selected")),!i&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),t&&a?e.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",function(){s.selectpicker.view.displayedValue!==e.value&&s.render()})),l},fetchData:function(e,t,i,o){i=i||1,t=t||"data";var r,n=this,a=this.options.source[t];a?(this.options.virtualScroll=!0,"function"==typeof a?a.call(this,function(i,o,a){var s=n.selectpicker["search"===t?"search":"main"];s.hasMore=o,s.totalItems=a,r=n.buildData(i,t),e.call(n,r),n.$element.trigger("fetched"+B)},i,o):Array.isArray(a)&&(r=n.buildData(a,t),e.call(n,r))):(r=this.buildData(!1,t),e.call(n,r))},buildData:function(t,i){var o=this,r=!1===t?K.fromOption:K.fromDataSource,n=':not([hidden]):not([data-hidden="true"]):not([style*="display: none"])',a=[],s=this.selectpicker.main.data?this.selectpicker.main.data.length:0,l=0,d=this.setPlaceholder()&&!t?1:0,c=("search"===i&&(s=this.selectpicker.search.data.length),this.options.hideDisabled&&(n+=":not(:disabled)"),t?t.filter(X,this):this.$element[0].querySelectorAll("select > *"+n));function p(e){var t=a[a.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",a.push(e))}function u(i,n){var l,d,c;(n=n||{}).divider=r(i,"divider"),!0===n.divider?p({optID:n.optID}):(l=a.length+s,d=(d=r(i,"style"))?j(d):"",c=(i.className||"")+(n.optgroupClass||""),n.optID&&(c="opt "+c),n.optionClass=c.trim(),n.inlineStyle=d,n.text=r(i,"text"),n.title=r(i,"title"),n.content=r(i,"content"),n.tokens=r(i,"tokens"),n.subtext=r(i,"subtext"),n.icon=r(i,"icon"),n.display=n.content||n.text,n.value=void 0===i.value?i.text:i.value,n.type="option",n.index=l,n.option=i.option||i,n.option.liIndex=l,n.selected=!!i.selected,n.disabled=n.disabled||!!i.disabled,!1!==t&&(o.selectpicker.optionValuesDataMap[n.value]?n=e.extend(o.selectpicker.optionValuesDataMap[n.value],n):o.selectpicker.optionValuesDataMap[n.value]=n),a.push(n))}function h(e,i){var o=i[e],s=!(e-1<d)&&i[e-1],c=(i=i[e+1],t?o.children.filter(X,this):o.querySelectorAll("option"+n));if(c.length){var h,m,g={display:j(r(f,"label")),subtext:r(o,"subtext"),icon:r(o,"icon"),type:"optgroup-label",optgroupClass:" "+(o.className||""),optgroup:o};l++,s&&p({optID:l}),g.optID=l,a.push(g);for(var b=0,v=c.length;b<v;b++){var y=c[b];0===b&&(m=(h=a.length-1)+v),u(y,{headerIndex:h,lastIndex:m,optID:g.optID,optgroupClass:g.optgroupClass,disabled:o.disabled})}i&&p({optID:l})}}for(var m=c.length,g=d;g<m;g++){var f=c[g],b=f.children;b&&b.length?h.call(this,g,c):u.call(this,f,{})}switch(i){case"data":this.selectpicker.main.data||(this.selectpicker.main.data=[]),Array.prototype.push.apply(this.selectpicker.main.data,a),this.selectpicker.current.data=this.selectpicker.main.data;break;case"search":Array.prototype.push.apply(this.selectpicker.search.data,a)}return a},buildList:function(e,t){var i=this,o=(t?this.selectpicker.search:this.selectpicker.main).data,r=[],n=0;!i.options.showTick&&!i.multiple||H.checkMark.parentNode||(H.checkMark.className=this.options.iconBase+" "+i.options.tickIcon+" check-mark",H.a.appendChild(H.checkMark));for(var a=o.length,s=e||0;s<a;s++){var l,d=(p=l=c=d=void 0,r),c=o[s],p=0;switch(c.type){case"divider":l=q.li(!1,U.DIVIDER,c.optID?c.optID+"div":void 0);break;case"option":(l=q.li(q.a(q.text.call(i,c),c.optionClass,c.inlineStyle),"",c.optID)).firstChild&&(l.firstChild.id=i.selectId+"-"+c.index);break;case"optgroup-label":l=q.li(q.label.call(i,c),"dropdown-header"+c.optgroupClass,c.optID)}c.element?c.element.innerHTML=l.innerHTML:c.element=l,d.push(c.element),c.display&&(p+=c.display.length),c.subtext&&(p+=c.subtext.length),c.icon&&(p+=1),n<p&&(n=p,i.selectpicker.view.widestOption=d[d.length-1])}e?t?Array.prototype.push.apply(this.selectpicker.search.elements,r):(Array.prototype.push.apply(this.selectpicker.main.elements,r),this.selectpicker.current.elements=this.selectpicker.main.elements):t?this.selectpicker.search.elements=r:this.selectpicker.main.elements=this.selectpicker.current.elements=r},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(e){var t=this,i=this.$element[0],o=this.setPlaceholder()&&0===i.selectedIndex,r=y.call(this),n=r.length,a=w.call(this,r),s=this.$button[0],l=s.querySelector(".filter-option-inner-inner"),d=document.createTextNode(this.options.multipleSeparator),p=H.fragment.cloneNode(!1),u=!1;if(this.options.source.data&&e&&(r.map(function e(i){i.selected?t.createOption(i,!0):i.children&&i.children.length&&i.children.map(e)}),i.appendChild(this.selectpicker.main.optionQueue),o=o&&0===i.selectedIndex),s.classList.toggle("bs-placeholder",t.multiple?!n:!a&&0!==a),t.multiple||1!==r.length||(t.selectpicker.view.displayedValue=a),"static"===this.options.selectedTextFormat)p=q.text.call(this,{text:this.options.placeholder},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&0<n&&(1<(e=this.options.selectedTextFormat.split(">")).length&&n>e[1]||1===e.length&&2<=n))){if(!o){for(var h=0;h<n&&h<50;h++){var m=r[h],g={};m&&(this.multiple&&0<h&&p.appendChild(d.cloneNode(!1)),m.title?g.text=m.title:m.content&&t.options.showContent?(g.content=m.content.toString(),u=!0):(t.options.showIcon&&(g.icon=m.icon),t.options.showSubtext&&!t.multiple&&m.subtext&&(g.subtext=" "+m.subtext),g.text=m.text.trim()),p.appendChild(q.text.call(this,g,!0)))}49<n&&p.appendChild(document.createTextNode("..."))}}else i=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"]):not([style*="display: none"])',a=(this.options.hideDisabled&&(i+=":not(:disabled)"),this.$element[0].querySelectorAll("select > option"+i+", optgroup"+i+" option"+i).length),e="function"==typeof this.options.countSelectedText?this.options.countSelectedText(n,a):this.options.countSelectedText,p=q.text.call(this,{text:e.replace("{0}",n.toString()).replace("{1}",a.toString())},!0);p.childNodes.length||(p=q.text.call(this,{text:this.options.placeholder||this.options.noneSelectedText},!0)),s.title=p.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&u&&c([p],t.options.whiteList,t.options.sanitizeFn),l.innerHTML="",l.appendChild(p),z.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(o=s.querySelector(".filter-expand"),(i=l.cloneNode(!0)).className="filter-expand",o?s.replaceChild(i,o):s.appendChild(i)),this.$element.trigger("rendered"+B)},setStyle:function(e,t){var i=this.$button[0],o=this.$newElement[0],r=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),z.major<4&&(o.classList.add("bs3"),o.parentNode.classList&&o.parentNode.classList.contains("input-group")&&(o.previousElementSibling||o.nextElementSibling)&&(o.previousElementSibling||o.nextElementSibling).classList.contains("input-group-addon")&&o.classList.add("bs3-has-addon")),o=e?e.trim():r,"add"==t?o&&i.classList.add.apply(i.classList,o.split(" ")):"remove"==t?o&&i.classList.remove.apply(i.classList,o.split(" ")):(r&&i.classList.remove.apply(i.classList,r.split(" ")),o&&i.classList.add.apply(i.classList,o.split(" ")))},liHeight:function(t){if(t||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){t=H.div.cloneNode(!1);var i,o=H.div.cloneNode(!1),r=H.div.cloneNode(!1),n=document.createElement("ul"),a=H.li.cloneNode(!1),s=H.li.cloneNode(!1),l=H.a.cloneNode(!1),d=H.span.cloneNode(!1),c=this.options.header&&0<this.$menu.find("."+U.POPOVERHEADER).length?this.$menu.find("."+U.POPOVERHEADER)[0].cloneNode(!0):null,p=this.options.liveSearch?H.div.cloneNode(!1):null,u=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,h=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element[0].options[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,d.className="text",l.className="dropdown-item "+(m?m.className:""),t.className=this.$menu[0].parentNode.className+" "+U.SHOW,t.style.width=0,"auto"===this.options.width&&(o.style.minWidth=0),o.className=U.MENU+" "+U.SHOW,r.className="inner "+U.SHOW,n.className=U.MENU+" inner "+("4"<=z.major?U.SHOW:""),a.className=U.DIVIDER,s.className="dropdown-header",d.appendChild(document.createTextNode("â")),this.selectpicker.current.data.length)for(var g=0;g<this.selectpicker.current.data.length;g++){var f=this.selectpicker.current.data[g];if("option"===f.type&&"none"!==e(f.element.firstChild).css("display")){i=f.element;break}}else i=H.li.cloneNode(!1),l.appendChild(d),i.appendChild(l);s.appendChild(d.cloneNode(!0)),this.selectpicker.view.widestOption&&n.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),n.appendChild(i),n.appendChild(a),n.appendChild(s),c&&o.appendChild(c),p&&(m=document.createElement("input"),p.className="bs-searchbox",m.className="form-control",p.appendChild(m),o.appendChild(p)),u&&o.appendChild(u),r.appendChild(n),o.appendChild(r),h&&o.appendChild(h),t.appendChild(o),document.body.appendChild(t),l=i.offsetHeight,d=s?s.offsetHeight:0,m=c?c.offsetHeight:0,n=p?p.offsetHeight:0,s=u?u.offsetHeight:0,c=h?h.offsetHeight:0,p=e(a).outerHeight(!0),u=window.getComputedStyle(o),h=o.offsetWidth,u={vert:(a={vert:k(u.paddingTop)+k(u.paddingBottom)+k(u.borderTopWidth)+k(u.borderBottomWidth),horiz:k(u.paddingLeft)+k(u.paddingRight)+k(u.borderLeftWidth)+k(u.borderRightWidth)}).vert+k(u.marginTop)+k(u.marginBottom)+2,horiz:a.horiz+k(u.marginLeft)+k(u.marginRight)+2},r.style.overflowY="scroll",r=o.offsetWidth-h,document.body.removeChild(t),this.sizeInfo.liHeight=l,this.sizeInfo.dropdownHeaderHeight=d,this.sizeInfo.headerHeight=m,this.sizeInfo.searchHeight=n,this.sizeInfo.actionsHeight=s,this.sizeInfo.doneButtonHeight=c,this.sizeInfo.dividerHeight=p,this.sizeInfo.menuPadding=a,this.sizeInfo.menuExtras=u,this.sizeInfo.menuWidth=h,this.sizeInfo.menuInnerInnerWidth=h-a.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=r,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=e(window),o=this.$newElement.offset(),r=e(this.options.container);this.options.container&&r.length&&!r.is("body")?((t=r.offset()).top+=parseInt(r.css("borderTopWidth")),t.left+=parseInt(r.css("borderLeftWidth"))):t={top:0,left:0},r=this.options.windowPadding;this.sizeInfo.selectOffsetTop=o.top-t.top-i.scrollTop(),this.sizeInfo.selectOffsetBot=i.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-r[2],this.sizeInfo.selectOffsetLeft=o.left-t.left-i.scrollLeft(),this.sizeInfo.selectOffsetRight=i.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-r[1],this.sizeInfo.selectOffsetTop-=r[0],this.sizeInfo.selectOffsetLeft-=r[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,o,r,n,a,s=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,c=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,h=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(a=l*this.selectpicker.current.data.length+m.vert,a=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(a=this.selectpicker.dropup),this.$newElement.toggleClass(U.DROPUP,a),this.selectpicker.dropup=a),"auto"===this.options.size)a=3<this.selectpicker.current.data.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,o=a+d+c+p+u,n=Math.max(a-m.vert,0),t=(r=i=this.$newElement.hasClass(U.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:i)-d-c-p-u-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var f=0;f<this.options.size;f++)"divider"===this.selectpicker.current.data[f].type&&g++;t=(i=l*this.options.size+g*h+m.vert)-m.vert,r=i+d+c+p+u,o=n=""}this.$menu.css({"max-height":r+"px",overflow:"hidden","min-height":o+"px"}),this.$menuInner.css({"max-height":t+"px",overflow:"hidden auto","min-height":n+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(U.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-s),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){var i,o;this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(i=this,o=e(window),this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),"auto"===this.options.size?o.off("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize").on("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize",function(){return i.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&o.off("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize")),this.createView(!1,!0,t)},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.$element.on("loaded"+B,function(){e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){function t(t){var s={},l=n.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;n.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(U.DROPUP,t.hasClass(U.DROPUP)),i=t.offset(),a.is("body")?o={top:0,left:0}:((o=a.offset()).top+=parseInt(a.css("borderTopWidth"))-a.scrollTop(),o.left+=parseInt(a.css("borderLeftWidth"))-a.scrollLeft()),r=t.hasClass(U.DROPUP)?0:t[0].offsetHeight,(z.major<4||"static"===l)&&(s.top=i.top-o.top+r,s.left=i.left-o.left),s.width=t[0].offsetWidth,n.$bsContainer.css(s)}this.$bsContainer=e('<div class="bs-container" />');var i,o,r,n=this,a=e(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){n.isDisabled()||(t(n.$newElement),n.$bsContainer.appendTo(n.options.container).toggleClass(U.SHOW,!n.$button.hasClass(U.SHOW)).append(n.$menu))}),e(window).off("resize"+B+"."+this.selectId+" scroll"+B+"."+this.selectId).on("resize"+B+"."+this.selectId+" scroll"+B+"."+this.selectId,function(){n.$newElement.hasClass(U.SHOW)&&t(n.$newElement)}),this.$element.on("hide"+B,function(){n.$menu.data("height",n.$menu.height()),n.$bsContainer.detach()})},createOption:function(e,t){var i,o=e.option||e;o&&1!==o.nodeType&&(i=(t?H.selectedOption:H.option).cloneNode(!0),void 0!==o.value&&(i.value=o.value),i.textContent=o.text,i.selected=!0,void 0!==o.liIndex?i.liIndex=o.liIndex:t||(i.liIndex=e.index),e.option=i,this.selectpicker.main.optionQueue.appendChild(i))},setOptionStatus:function(e){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length){for(var i=0;i<t.selectpicker.view.visibleElements.length;i++){var o=t.selectpicker.current.data[i+t.selectpicker.view.position0];o.option&&(!0!==e&&t.setDisabled(o),t.setSelected(o))}this.options.source.data&&this.$element[0].appendChild(this.selectpicker.main.optionQueue)}},setSelected:function(e,t){t=void 0===t?e.selected:t;var i,o=e.element,r=void 0!==this.activeElement,n=this.activeElement===o||t&&!this.multiple&&!r;o&&(void 0!==t&&(e.selected=t,e.option&&(e.option.selected=t)),t&&this.options.source.data&&this.createOption(e,!1),i=o.firstChild,t&&(this.selectedElement=o),o.classList.toggle("selected",t),n?(this.focusItem(o,e),this.selectpicker.view.currentActive=o,this.activeElement=o):this.defocusItem(o),i&&(i.classList.toggle("selected",t),t?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),n||r||!t||void 0===this.prevActiveElement||(e=this.prevActiveElement,this.defocusItem(e)))},setDisabled:function(e){var t,i=e.disabled;(e=e.element)&&(t=e.firstChild,e.classList.toggle(U.DISABLED,i),t&&("4"<=z.major&&t.classList.toggle(U.DISABLED,i),i?(t.setAttribute("aria-disabled",i),t.setAttribute("tabindex",-1)):(t.removeAttribute("aria-disabled"),t.setAttribute("tabindex",0))))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(U.DISABLED),this.$button.addClass(U.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(U.DISABLED)&&(this.$newElement[0].classList.remove(U.DISABLED),this.$button.removeClass(U.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var t=this,i=e(document);function o(){(t.options.liveSearch?t.$searchbox:t.$menuInner).trigger("focus")}function r(){t.dropdown&&t.dropdown._popper&&t.dropdown._popper.state?o():requestAnimationFrame(r)}i.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){t.dropdown||"4"!==z.major||(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(e){var i,o,r;t.options.allowClear&&(i=e.target,o=t.$clearButton[0],(i=/MSIE|Trident/.test(window.navigator.userAgent)?document.elementFromPoint(e.clientX,e.clientY):i)!==o&&i.parentElement!==o||(e.stopImmediatePropagation(),t.multiple?t.deselectAll():(o=(i=t.$element[0]).value,e=i.selectedIndex,(r=!!(r=i.options[e])&&t.selectpicker.main.data[r.liIndex])&&t.setSelected(r,!1),i.selectedIndex=0,C=[e,!1,o],t.$element.triggerNative("change")),t.$newElement.hasClass(U.SHOW)&&(t.options.liveSearch&&t.$searchbox.trigger("focus"),t.createView(!1)))),t.$newElement.hasClass(U.SHOW)||t.setSize()}),this.$element.on("shown"+B,function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),3<z.major?requestAnimationFrame(r):o()}),this.$menuInner.on("mouseenter","li a",function(e){var i=this.parentElement,o=t.isVirtual()?t.selectpicker.view.position0:0,r=Array.prototype.indexOf.call(i.parentElement.children,i);r=t.selectpicker.current.data[r+o];t.focusItem(i,r,!0)}),this.$menuInner.on("click","li a",function(i,o){var r=e(this),n=t.$element[0],a=t.isVirtual()?t.selectpicker.view.position0:0,s=t.selectpicker.current.data[r.parent().index()+a],l=(a=s.element,w.call(t)),d=n.selectedIndex,c=!!(c=n.options[d])&&t.selectpicker.main.data[c.liIndex],p=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!r.parent().hasClass(U.DISABLED)){i=s.option,r=e(i);var u=i.selected,h=t.selectpicker.current.data.find(function(e){return e.optID===s.optID&&"optgroup-label"===e.type}),m=h?h.optgroup:void 0,g=(h=m instanceof Element?K.fromOption:K.fromDataSource,m&&m.children),f=parseInt(t.options.maxOptions);h=m&&parseInt(h(m,"maxOptions"))||!1;if((o=a===t.activeElement||o)||(t.prevActiveElement=t.activeElement,t.activeElement=void 0),t.multiple&&1!==f){if(t.setSelected(s,!u),t.focusedParent.focus(),!1!==f||!1!==h){a=f<y.call(t).length;var b=0;if(m&&m.children)for(var v=0;v<m.children.length;v++)m.children[v].selected&&b++;if(o=h<b,f&&a||h&&o)if(f&&1===f)n.selectedIndex=-1,t.setOptionStatus(!0);else if(h&&1===h){for(v=0;v<g.length;v++){var $=g[v];t.setSelected(t.selectpicker.current.data[$.liIndex],!1)}t.setSelected(s,!0)}else{var S=(u="function"==typeof(u="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText)?u(f,h):u)[0].replace("{n}",f),I=u[1].replace("{n}",h),k=e('<div class="notify"></div>');u[2]&&(S=S.replace("{var}",u[2][1<f?0:1]),I=I.replace("{var}",u[2][1<h?0:1])),t.$menu.append(k),f&&a&&(k.append(e("<div>"+S+"</div>")),p=!1,t.$element.trigger("maxReached"+B)),h&&o&&(k.append(e("<div>"+I+"</div>")),p=!1,t.$element.trigger("maxReachedGrp"+B)),setTimeout(function(){t.setSelected(s,!1)},10),k[0].classList.add("fadeOut"),setTimeout(function(){k.remove()},1050)}}}else c&&t.setSelected(c,!1),t.setSelected(s,!0);t.options.source.data&&t.$element[0].appendChild(t.selectpicker.main.optionQueue),!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.trigger("focus"):t.options.liveSearch&&t.$searchbox.trigger("focus"),!p||!t.multiple&&d===n.selectedIndex||(C=[i.index,r.prop("selected"),l],t.$element.triggerNative("change"))}}),this.$menu.on("click","li."+U.DISABLED+" a, ."+U.POPOVERHEADER+", ."+U.POPOVERHEADER+" :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),(t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox:t.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(t.options.liveSearch?t.$searchbox:t.$button).trigger("focus")}),this.$menu.on("click","."+U.POPOVERHEADER+" .close",function(){t.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){(t.options.liveSearch?t.$searchbox:t.$button).trigger("focus"),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$button.on("focus"+B,function(e){var i=t.$element[0].getAttribute("tabindex");void 0!==i&&e.originalEvent&&e.originalEvent.isTrusted&&(this.setAttribute("tabindex",i),t.$element[0].setAttribute("tabindex",-1),t.selectpicker.view.tabindex=i)}).on("blur"+B,function(e){void 0!==t.selectpicker.view.tabindex&&e.originalEvent&&e.originalEvent.isTrusted&&(t.$element[0].setAttribute("tabindex",t.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),t.selectpicker.view.tabindex=void 0)}),this.$element.on("change"+B,function(){t.render(),t.$element.trigger("changed"+B,C),C=null}).on("focus"+B,function(){t.options.mobile||t.$button[0].focus()})},liveSearchListener:function(){var e=this;this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&(e.$searchbox.val(""),e.selectpicker.search.previousValue=void 0)}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t=e.$searchbox[0].value;if(e.selectpicker.search.elements=[],e.selectpicker.search.data=[],t)if(e.selectpicker.search.previousValue=t,e.options.source.search)e.fetchData(function(i){e.render(),e.buildList(void 0,!0),e.noScroll=!0,e.$menuInner.scrollTop(0),e.createView(!0),Q.call(e,i,t)},"search",0,t);else{var i=[],o=t.toUpperCase(),r={},n=[],a=e._searchStyle(),s=e.options.liveSearchNormalize;s&&(o=P(o));for(var l=0;l<e.selectpicker.main.data.length;l++){var d=e.selectpicker.main.data[l];r[l]||(r[l]=I(d,o,a,s)),r[l]&&void 0!==d.headerIndex&&-1===n.indexOf(d.headerIndex)&&(0<d.headerIndex&&(r[d.headerIndex-1]=!0,n.push(d.headerIndex-1)),r[d.headerIndex]=!0,n.push(d.headerIndex),r[d.lastIndex+1]=!0),r[l]&&"optgroup-label"!==d.type&&n.push(l)}l=0;for(var c=n.length;l<c;l++){var p=n[l],u=n[l-1];d=e.selectpicker.main.data[p],u=e.selectpicker.main.data[u];("divider"!==d.type||"divider"===d.type&&u&&"divider"!==u.type&&c-1!==l)&&(e.selectpicker.search.data.push(d),i.push(e.selectpicker.main.elements[p]))}e.activeElement=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=i,e.createView(!0),Q.call(e,i,t)}else e.selectpicker.search.previousValue&&(e.$menuInner.scrollTop(0),e.createView(!1))})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){var t=this.$element[0];if(void 0===e)return this.$element.val();var i=y.call(this),o=w.call(this,i);C=[null,null,o],(e=Array.isArray(e)?e:[e]).map(String);for(var r=0;r<i.length;r++){var n=i[r];n&&-1===e.indexOf(String(n.value))&&this.setSelected(n,!1)}return this.selectpicker.main.data.filter(function(t){return-1!==e.indexOf(String(t.value))&&(this.setSelected(t,!0),!0)},this),this.options.source.data&&t.appendChild(this.selectpicker.main.optionQueue),this.$element.trigger("changed"+B,C),this.$newElement.hasClass(U.SHOW)&&(this.multiple?this.setOptionStatus(!0):"number"==typeof(o=(t.options[t.selectedIndex]||{}).liIndex)&&this.setSelected(this.selectpicker.current.data[o],!0)),this.render(),C=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,o=0,r=w.call(this);t.classList.add("bs-select-hidden");for(var n=0,a=this.selectpicker.current.data,s=a.length;n<s;n++){var l=a[n],d=l.option;d&&!l.disabled&&"divider"!==l.type&&(l.selected&&i++,d.selected=e,!0===(l.selected=e)&&o++)}t.classList.remove("bs-select-hidden"),i!==o&&(this.setOptionStatus(),C=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e,t){var i=void 0===t;(e=e||window.event)&&e.stopPropagation(),!1===i&&(e=this.$newElement[0].classList.contains(U.SHOW),i=!0===t&&!1===e||!1===t&&!0===e),i&&this.$button.trigger("click.bs.dropdown.data-api")},open:function(e){this.toggle(e,!0)},close:function(e){this.toggle(e,!1)},keydown:function(t){var i,o,r,n,a=e(this),s=((c=a.hasClass("dropdown-toggle"))?a.closest(".dropdown"):a.closest(W.MENU)).data("this"),l=s.findLis(),d=!1,c=9===t.which&&!c&&!s.options.selectOnTab,p=V.test(t.which)||c,u=s.$menuInner[0].scrollTop,h=!0===s.isVirtual()?s.selectpicker.view.position0:0;if(!(112<=t.which&&t.which<=123))if(!(i=s.$menu.hasClass(U.SHOW))&&(p||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&(s.$button.trigger("click.bs.dropdown.data-api"),s.options.liveSearch))s.$searchbox.trigger("focus");else{if(27===t.which&&i&&(t.preventDefault(),s.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),p){if(!l.length)return;-1!==(p=(o=s.activeElement)?Array.prototype.indexOf.call(o.parentElement.children,o):-1)&&s.defocusItem(o),38===t.which?(-1!==p&&p--,p+h<0&&(p+=l.length),s.selectpicker.view.canHighlight[p+h]||-1===(p=s.selectpicker.view.canHighlight.slice(0,p+h).lastIndexOf(!0)-h)&&(p=l.length-1)):40!==t.which&&!c||(++p+h>=s.selectpicker.view.canHighlight.length&&(p=s.selectpicker.view.firstHighlightIndex),s.selectpicker.view.canHighlight[p+h]||(p=p+1+s.selectpicker.view.canHighlight.slice(p+h+1).indexOf(!0))),t.preventDefault();var m=h+p;38===t.which?0===h&&p===l.length-1?(s.$menuInner[0].scrollTop=s.$menuInner[0].scrollHeight,m=s.selectpicker.current.elements.length-1):(r=s.selectpicker.current.data[m])&&(d=(n=r.position-r.height)<u):40!==t.which&&!c||(p===s.selectpicker.view.firstHighlightIndex?(s.$menuInner[0].scrollTop=0,m=s.selectpicker.view.firstHighlightIndex):(r=s.selectpicker.current.data[m])&&(d=u<(n=r.position-s.sizeInfo.menuInnerHeight))),o=s.selectpicker.current.elements[m],s.activeElement=(s.selectpicker.current.data[m]||{}).element,s.focusItem(o),s.selectpicker.view.currentActive=o,d&&(s.$menuInner[0].scrollTop=n),(s.options.liveSearch?s.$searchbox:a).trigger("focus")}else if(!a.is("input")&&!G.test(t.which)||32===t.which&&s.selectpicker.keydown.keyHistory){var g,f=[];t.preventDefault(),s.selectpicker.keydown.keyHistory+=N[t.which],s.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(s.selectpicker.keydown.resetKeyHistory.cancel),s.selectpicker.keydown.resetKeyHistory.cancel=s.selectpicker.keydown.resetKeyHistory.start(),g=s.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(g)&&(g=g.charAt(0));for(var b=0;b<s.selectpicker.current.data.length;b++){var v=s.selectpicker.current.data[b];I(v,g,"startsWith",!0)&&s.selectpicker.view.canHighlight[b]&&f.push(v.element)}f.length&&(h=0,l.removeClass("active").find("a").removeClass("active"),1===g.length&&(-1===(h=f.indexOf(s.activeElement))||h===f.length-1?h=0:h++),c=f[h],d=0<u-(r=s.selectpicker.main.data[c]).position?(n=r.position-r.height,!0):(n=r.position-s.sizeInfo.menuInnerHeight,r.position>u+s.sizeInfo.menuInnerHeight),o=s.selectpicker.main.elements[c],s.activeElement=o,s.focusItem(o),o&&o.firstChild.focus(),d&&(s.$menuInner[0].scrollTop=n),a.trigger("focus"))}i&&(32===t.which&&!s.selectpicker.keydown.keyHistory||13===t.which||9===t.which&&s.options.selectOnTab)&&(32!==t.which&&t.preventDefault(),s.options.liveSearch&&32===t.which||(s.$menuInner.find(".active a").trigger("click",!0),a.trigger("focus"),s.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var t=this,i=e.extend({},this.options,p(this.$element),this.$element.data());this.options=i,this.options.source.data?(this.render(),this.buildList()):this.fetchData(function(){t.render(),t.buildList()}),this.checkDisabled(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+B)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(B).removeData("selectpicker").removeClass("bs-select-hidden selectpicker mobile-device"),e(window).off(B+"."+this.selectId)}};var J=e.fn.selectpicker;function ee(){return z.major<5?e.fn.dropdown?(e.fn.dropdown.Constructor._dataApiKeydownHandler||e.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments):void 0:R.dataApiKeydownHandler}e.fn.selectpicker=Z,e.fn.selectpicker.Constructor=Y,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=J,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > ["+W.DATA_TOGGLE+"]",ee).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",ee).on("keydown"+B,".bootstrap-select ["+W.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',Y.prototype.keydown).on("focusin.modal",".bootstrap-select ["+W.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),document.addEventListener("DOMContentLoaded",function(){e(".selectpicker").each(function(){var t=e(this);Z.call(t,t.data())})})}(e)}),$(function(){$("#item-delete-confirmation").ejDialog({width:"450px",showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.DeleteItem,showHeader:!1,enableModal:!0,close:"onDeleteItemDialogClose",open:"onDeleteItemDialogOpen"});var e=createLoader("item-delete-confirmation_wrapper");$("#item-delete-confirmation_wrapper").ejWaitingPopup({template:$("#"+e)})}),$(document).on("click","#delete-item",function(e){$("#item-delete-confirmation_wrapper").ejWaitingPopup("show");var t=$(this).attr("data-item-id"),i=$(this).attr("data-itemtype"),o="";"Datasource"==i&&(o=$(this).attr("data-datasource-type"));var r="Category"==i?window.Server.App.LocalizationContent.Categoy:"Report"==i?window.Server.App.LocalizationContent.Dashboard:i;$.ajax({type:"POST",url:deleteItemUrl,data:{itemId:t,datasourceType:o},success:function(e){e.Success?($("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),SuccessAlert(r+window.Server.App.LocalizationContent.Deleted,$("#delete-item-name").html()+window.Server.App.LocalizationContent.DeleteSuccess,7e3),"Report"==i?e.DashboardCount>0&&null!=e.DashboardCount?(ResetItemList(ItemType.Report),ResetItemList(ItemType.Category)):(parent.$("#body").ejWaitingPopup("show"),location.reload()):"Category"==i&&ResetItemList(ItemType.Category)):0==e.Permission?($("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.DeleteFail,window.Server.App.LocalizationContent.DeletePermissionMessage+$("#delete-item-name").html(),7e3)):($("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.DeleteFail,$("#delete-item-name").html()+window.Server.App.LocalizationContent.DeleteFailMessage,7e3)),$("#item-delete-confirmation").ejDialog("close")}})}),$(document).on("click",".delete-item-dialog-close-link",function(e){e.preventDefault(),onDeleteItemDialogClose()}),$(document).on("click",".delete-item-dialog-close-button",onDeleteItemDialogClose);var browser=ej.browserInfo();function intializeGetLinkDialog(){$.ajax({type:"Get",url:getLinkDialogViewUrl,data:{nonce:tileReportsPageNonce},success:function(e){$("body").append(e),$("#get_item_link").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.GetLink,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onGetLinkDialogClose"});var t=createLoader("get_item_link_wrapper");$("#get_item_link_wrapper").ejWaitingPopup({template:$("#"+t)})}}),document.querySelectorAll('[data-bs-toggle="get-link-tooltip"]').forEach(e=>{new bootstrap.Tooltip(e,{animation:!0,html:!0,placement:"top"})})}function GetLink(e){var t=e.ItemType;3==t?$(".report-link").show():6==t?($(".file-link").show(),$("#compressed-link").prop("checked",!0)):8==t?$(".widget-link").show():$(".link").show();var i=e.Name;e.Id;$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link_wrapper").ejWaitingPopup("show"),$(".get_link").show(),e.IsPublic?($(".private-note").hide(),$(".public-note").show()):($(".private-note").show(),$(".public-note").hide()),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link").css({width:"100%",borderRadius:"4px"}),$("#item-link-copy").attr("data-bs-original-title","")):$("#item-link-copy").tooltip({animation:!1}),$(".report-name").html(i),$(".report-name").attr("title",i),$("#item-link").val(getDashboardShareLink(e.Id,e.CategoryName,e.Name)),$("#item-link").select(),$(".modal-footer .validation-area").css("display","block"),$("#get_item_link_wrapper").ejWaitingPopup("hide")}function onGetLinkDialogClose(){$("#get_item_link").ejDialog("close")}function onGetLinkDialogOpen(){$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link").focus(),$("#item-link").select(),$(".get_link").show(),$("#item-link").val(itemUrl),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link-copy").attr("data-bs-original-title",""))}function getDashboardShareLink(e,t,i){var o=baseUrl.split("/");return isHideGuidInUrl?encodeURI(o[0]+"//"+o[2]+viewDashboardUrlAction+"/"+t+"/"+i):encodeURI(o[0]+"//"+o[2]+viewDashboardUrlAction+"/"+e+"/"+t+"/"+i)}$(document).on("click","#item-link-copy",function(e){if($("#item-link").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor))$("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-bs-original-title","");else{document.execCommand("copy");var t=document.querySelector("#item-link-copy"),i=bootstrap.Tooltip.getInstance(t);i&&i.dispose(),(i=new bootstrap.Tooltip(t,{title:window.Server.App.LocalizationContent.Copysuccess,trigger:"hover"})).show(),setTimeout(()=>{i.dispose(),i=new bootstrap.Tooltip(t,{title:window.Server.App.LocalizationContent.LinkCopy,trigger:"hover"})},1e3)}}),$(document).on("click","#get-link-dialog-close",function(e){e.preventDefault(),onGetLinkDialogClose()}),$(document).on("click","#Cancel",onGetLinkDialogClose),$(document).on("click","#item-link",function(){this.setSelectionRange(0,this.value.length)});var sharePermissionDlgObj="",sharePermissionDlgWrapperObj="",sharePermisisonDlgHeader="",sharePermissionDlgHeaderItemName="",sharePermissionConatiner="",accessModeContainer="",dummyContainer="",embedCodeContainer="",sharePermissionDashboardSettingSectionObj="",sharePermissionPublicSectionObj="",sharePermissionPrivateSectionObj="",sharePermissionUserGroupSectionObj="",manageUserGroupContainer="",manageUserGroupBodySection="",getEmbedLinkSection="",changeIndicatorBannerObj="",shareWithLabelObj="",getLinkInputObj="",getLinkCopyLinkobj="",getEmbedCodeInputObj="",getEmbedCodeCopyBtnobj="",accessModeChangeLink="",manageAccessButton="",manageAccessBackButton="",manageAccessSaveBtnObj="",manageAccessCancelBtnObj="",shareDoneBtnObj="",shareBtnObj="",accessModeChngBtnObj="",accessModeCancelBtnObj="",embedCodeDoneBtnObj="",addOwnerBtnObj="",publicRadioBtnObj="",privateRadioBtnObj="",isItemPublic=!1,isEntireDOMRendered=!1,accessModeSelectionInput="",sharedUserGroupsPreservedList=[],sharedAccessModePreservedList=[],markForDeleteBtnObj="",removeMarkForDeleteBtnObj="",toggleMarkForDeletionObj="",modifiedItemIndex=[],addNewItemPermission=[],userMarkedForDeletionList=[],groupMarkedForDeletionList=[],showSharedUserGroupContainer="",showSharedUserGroupNameSection="",showSharedUserGroupName="",showSharedUserGroupCountSection="",showSharedUserGroupCount="",currentItemDetail=[],shareItem=angular.module("serverApp");function sharePermission(e){$("#permission-popup iframe").attr("src",permissionIframeUrl+"?itemId="+e),$("#permission-popup").ejDialog("open"),ShowWaitingProgress("#permission-popup_wrapper","show")}function shareDashboardPermission(e,t){currentItemDetail=e,sharePermissionDlgHeaderItemName.text(currentItemDetail.Name),sharePermissionDlgObj.show();var i=null!=window.granularPermissions&&(window.granularPermissions.All||window.granularPermissions.ReportsSettings),o=null!=window.granularPermissions&&window.granularPermissions.Report,r=null!=window.granularPermissions&&window.granularPermissions.Dataset,n=null!=window.granularPermissions&&window.granularPermissions.Datasource,a=null!=window.granularPermissions&&window.granularPermissions.Category,s=angular.element("#share-permission-content-section").scope();switch(s.currentItemType=e.ItemType,e.IsMultiDashboard?s.isMultiTabReport=!0:s.isMultiTabReport=!1,s.isAdmin=isAdmin,s.hasDashboardSettingsPermission=isAdmin||i,$("#share-permission-popup_wrapper, #user-group-search-input_suggestion").addClass("custom-bootstrap-styles"),sharePermissionDlgObj.ejDialog("open"),e.ItemType==ItemType.Report&&(e.CreatedById==currentUserId||isAdmin||o)?(isMarkItemsPublic?e.IsPublic?showPublicContent():showPrivateContent():showDashboardSettingContent(),addAttributeValueToBtnEle(e)):hidePublicPrivateContent(),e.ItemType==ItemType.Report?e.CreatedById==currentUserId||isAdmin||o?(showShareUserGroupPermissionSection(),getShareItemPermission(e.Id),addAttributeValueToBtnEle(e),addAttributeValueToAutoCompleteEle(e)):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Datasource?e.CreatedById==currentUserId||isAdmin||n?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Dataset?e.CreatedById==currentUserId||isAdmin||r?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Category?e.CreatedById==currentUserId||isAdmin||a?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.CreatedById==currentUserId||isAdmin?showShareDialogContent(e):hideShareUserGroupPermissionSection(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-url-copy").hide(),$("#item-url").css({width:"100%",borderRadius:"4px"}),$("#item-url-copy").attr("data-original-title","")):$("#item-url-copy").tooltip({animation:!1}),e.ItemType){case ItemType.Report:$("#item-url").val(getDashboardShareLink(e.Id,e.CategoryName,e.Name,e.UnlistedCode,e.IsUnlisted));break;case ItemType.ItemView:var l=getDashboardShareLink(t.Id,t.CategoryName,t.Name,null,!1);$("#item-url").val(l+"?viewid="+e.Id);break;default:$("#item-url").val("")}}function addGroupOwnerDialogOpen(){var e=$("#add-owner-button").attr("data-groupname"),t=$("#add-owner-button").attr("data-groupid"),i=angular.element("#share-permission-content-section").scope();currentItemDetail.ItemType=ItemType.UserManagement,i.currentItemType=ItemType.UserManagement,i.isAdmin=isAdmin,"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog({height:241}):sharePermissionDlgObj.ejDialog({height:241}),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),sharePermissionDlgHeaderItemName.text(e),sharePermissionDlgObj.show(),$("#share-permission-popup_wrapper, #user-group-search-input_suggestion").addClass("custom-bootstrap-styles"),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog("open"):sharePermissionDlgObj.ejDialog("open"),hidePublicPrivateContent(),getGroupUserPermission(t),addOwnerBtnObj.attr("data-item-id",t),addOwnerBtnObj.attr("data-name",e),addOwnerBtnObj.attr("data-itemtype",ItemType.UserManagement),autoCompleteHiddenEle.attr("data-item-id",t),autoCompleteHiddenEle.attr("data-itemtype",ItemType.UserManagement)}function showShareDialogContent(e){showShareUserGroupPermissionSection(),getShareItemPermission(e.Id),addAttributeValueToBtnEle(e),addAttributeValueToAutoCompleteEle(e)}function onSharePermissionPopupOpen(e){$('[data-bs-toggle="popover"]').popover("hide"),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),showSharePermissionContainer()}function onSharePermissionPopupClose(e){currentItemDetail=[],$(".embed-configuration [type='checkbox']").removeAttr("checked"),$('[data-bs-toggle="popover"]').popover("hide"),showSharePermissionContainer(),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),refreshDialogBoxPosition()}function showAccessModeContainer(){sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionAccessMode),accessModeContainer.show(),accessModeChngBtnObj.show(),accessModeCancelBtnObj.show(),sharePermissionConatiner.hide(),manageAccessButton.hide(),shareBtnObj.hide(),shareDoneBtnObj.hide(),refreshDialogBoxPosition()}function showManageAccessContainer(){hidePublicPrivateContent(),showSharedUserGroupContainer.hide(),shareBtnObj.text(window.Server.App.LocalizationContent.AddPeopleBtn),addOwnerBtnObj.text(window.Server.App.LocalizationContent.AddPeopleBtn),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.ManageAccess),dummyContainer.hide(),""==autoCompleteInstance.getValue()&&(shareBtnObj.hide(),addOwnerBtnObj.hide()),currentItemDetail.ItemType==ItemType.UserManagement&&($(".change-access-mode-selection span").removeClass("caret"),$(".change-access-mode-selection button").attr("disabled",!0)),manageAccessBackButton.show(),manageUserGroupContainer.show(),manageAccessButton.hide(),refreshUserGroupScroll(),refreshDialogBoxPosition(),generateProfileAvatar()}function hideManageAccessContainer(){manageUserGroupContainer.hide(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),embedCodeDoneBtnObj.hide(),embedCodeContainer.hide(),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues()}function showSharePermissionContainer(){currentItemDetail.ItemType==ItemType.UserManagement?(sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),$(".show-shared-user-group-label").text("Group Owners :")):sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionDefault),dummyContainer.show(),shareBtnObj.text(window.Server.App.LocalizationContent.SharePeopleBtn),enableAutocompleteAccessModeSelectionWithoutReset(),refreshAutoComplete(),sharePermissionConatiner.show(),manageAccessButton.show(),shareDoneBtnObj.show(),manageAccessBackButton.hide(),hideManageAccessContainer(),accessModeContainer.hide(),accessModeChngBtnObj.hide(),accessModeCancelBtnObj.hide(),displaySharedUserGroupInfo(),currentItemDetail.ItemType==ItemType.Report&&(void 0!==currentItemDetail.Extension&&".rdl"==currentItemDetail.Extension.toLowerCase()?getEmbedLinkSection.show():getEmbedLinkSection.hide()),embedCodeDoneBtnObj.hide(),sharePermissionDlgHeaderItemName.show(),sharePermisisonDlgHeader.css("line-height",""),refreshDialogBoxPosition()}function showSharePermissionContainerWithRefresh(){$('[data-bs-toggle="popover"]').popover("hide"),resetToActualScope(),hideManageAccessContainer(),enableAutocompleteAccessModeSelectionWithoutReset(),$(autoCompleteHiddenEle).attr("data-itemtype")!=ItemType.UserManagement?sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionDefault):sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),displaySharedUserGroupInfo(),dummyContainer.show(),shareBtnObj.text(window.Server.App.LocalizationContent.SharePeopleBtn),addOwnerBtnObj.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),showPublicPrivateContent(),sharePermissionConatiner.show(),manageAccessButton.show(),""!=autoCompleteInstance.getValue()?($(autoCompleteHiddenEle).attr("data-itemtype")!=ItemType.UserManagement?shareBtnObj.show():addOwnerBtnObj.show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide()):shareDoneBtnObj.show(),manageAccessBackButton.hide(),accessModeContainer.hide(),accessModeChngBtnObj.hide(),accessModeCancelBtnObj.hide(),refreshDialogBoxPosition()}function showDashboardSettingContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.hide(),sharePermissionDashboardSettingSectionObj.show()}function showPublicContent(){sharePermissionPublicSectionObj.show(),sharePermissionPrivateSectionObj.hide(),isItemPublic=!0}function showPrivateContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.show(),isItemPublic=!1}function showPublicOrPrivateContent(){isItemPublic?showPublicContent():showPrivateContent()}function showShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.show()}function hideShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.hide()}function hidePublicPrivateContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.hide(),sharePermissionDashboardSettingSectionObj.hide()}function showPublicPrivateContent(){var e=null!=window.granularPermissions&&window.granularPermissions.Report;currentItemDetail.ItemType==ItemType.Report&&(currentItemDetail.CreatedById==currentUserId||isAdmin||e)?isMarkItemsPublic?isItemPublic?sharePermissionPublicSectionObj.show():sharePermissionPrivateSectionObj.show():sharePermissionDashboardSettingSectionObj.show():hidePublicPrivateContent()}function changeAccessMode(){sharePermissionDlgWrapperObj.ejWaitingPopup("show"),showAccessModeContainer(),isItemPublic?publicRadioBtnObj.prop("checked",!0):privateRadioBtnObj.prop("checked",!0),accessModeChngBtnObj.attr("disabled",!0),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}function getEmbedCode(){$("#embed-code").val(generateEmbedCode(currentItemDetail)),embedCodeContainer.show(),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.EmbedCode),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&getEmbedCodeCopyBtnobj.hide(),currentItemDetail.IsPublic?($(".private-embed-code-note").hide(),$(".public-embed-code-note").show()):($(".private-embed-code-note").show(),$(".public-embed-code-note").hide()),embedCodeDoneBtnObj.show(),manageAccessBackButton.hide(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),sharePermissionDlgHeaderItemName.hide(),sharePermisisonDlgHeader.css("line-height","32px"),sharePermissionConatiner.hide(),manageAccessButton.hide(),shareBtnObj.hide(),shareDoneBtnObj.hide(),refreshDialogBoxPosition()}function addAttributeValueToBtnEle(e){accessModeChngBtnObj.attr("data-item-id",e.Id),accessModeChngBtnObj.attr("data-name",e.Name),accessModeChngBtnObj.attr("data-itemtype",e.ItemType),shareBtnObj.attr("data-item-id",e.Id),shareBtnObj.attr("data-name",e.Name),shareBtnObj.attr("data-itemtype",e.ItemType)}function addAttributeValueToAutoCompleteEle(e){$(autoCompleteHiddenEle).attr("data-item-id",e.Id),$(autoCompleteHiddenEle).attr("data-itemtype",e.ItemType)}function getShareItemPermission(e){sharePermissionDlgWrapperObj.ejWaitingPopup("show"),$.ajax({type:"get",url:getShareItemPermissionUrl,data:{itemId:e},contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if(e.status){var t=angular.element(manageUserGroupBodySection).scope();t.$apply(function(){angular.copy(e.SharedUserGroupList,sharedUserGroupsPreservedList),t.sharedUserGroups=e.SharedUserGroupList}),t.$apply(function(){angular.copy(e.AccessModeOptionList,sharedAccessModePreservedList),t.accessModes=e.AccessModeOptionList}),$(".change-access-mode-selection").selectpicker("destroy"),$(".change-access-mode-selection").selectpicker(),$(".change-access-mode-selection .selectpicker").removeAttr("title"),accessModeSelectionInput.html("");var i=$($.parseHTML(e.AccessModeList));i.length>0&&$(i[0]).attr("selected","selected"),accessModeSelectionInput.append(i),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker(),refreshUserGroupScroll(),sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),displaySharedUserGroupInfo(),isEntireDOMRendered=!0,$('[data-bs-toggle="tooltip"]').tooltip(),$('[data-bs-toggle="popover"]').popover()}},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}})}function getGroupUserPermission(e){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),$.ajax({type:"get",url:getGroupOwnersUrl,data:{groupId:e},contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if(e.status){var t=angular.element(manageUserGroupBodySection).scope();t.$apply(function(){angular.copy(e.SharedUserGroupList,sharedUserGroupsPreservedList),t.sharedUserGroups=e.SharedUserGroupList}),t.$apply(function(){angular.copy(e.AccessModeOptionList,sharedAccessModePreservedList),t.accessModes=e.AccessModeOptionList}),currentItemDetail.ItemType==ItemType.UserManagement?$("#user-group-search-input_suggestion").removeClass("item-user-input_suggestion"):$("#user-group-search-input_suggestion").addClass("item-user-input_suggestion"),$(".change-access-mode-selection").selectpicker("destroy"),$(".change-access-mode-selection").selectpicker(),$(".change-access-mode-selection .selectpicker").removeAttr("title"),$(".change-access-mode-selection span").removeClass("caret"),$(".change-access-mode-selection button").attr("disabled",!0),accessModeSelectionInput.html("");var i=$($.parseHTML(e.AccessModeList));i.length>0&&$(i[0]).attr("selected","selected"),accessModeSelectionInput.append(i),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker(),refreshUserGroupScroll(),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),displaySharedUserGroupInfo(),isEntireDOMRendered=!0,$('[data-bs-toggle="tooltip"]').tooltip(),$('[data-bs-toggle="popover"]').popover()}else null!=e.permissionDenied&&e.permissionDenied&&(WarningAlert(window.Server.App.LocalizationContent.AddGroupOwnerBtn,window.Server.App.LocalizationContent.UserManagementWarningAlert,7e3),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog("close"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):(sharePermissionDlgObj.ejDialog("close"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")))},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}})}function displaySharedUserGroupInfo(){var e=angular.element(manageUserGroupBodySection).scope().sharedUserGroups;if(null!=e){if(e.length>0){var t="";$.each(e,function(i,o){var r="<div class='shared-user-group-name'><span class='shared-user-group-name-label'>";i<3&&(o.TargetUserId>0?r+=o.DisplayName+"</span>":r+=o.TargetGroupName+"</span>",i!=e.length-1?r+="<span class='shared-user-group-name-comma'>,</span> </div>":r+="</div>",t+=r)}),showSharedUserGroupNameSection.html(t),manageUserGroupContainer.is(":visible")||showSharedUserGroupContainer.show()}else showSharedUserGroupContainer.hide();if(e.length>3){var i=e.length-3;showSharedUserGroupCount.text(i),showSharedUserGroupCountSection.show()}else showSharedUserGroupCountSection.hide();generateProfileAvatar()}}function saveItemPermission(){sharePermissionDlgWrapperObj.ejWaitingPopup("show"),splitUserGroupList();var e=userEmailList,t=groupIdList,i=accessModeSelectionInput.val(),o=shareBtnObj.attr("data-item-id"),r=shareBtnObj.attr("data-itemtype");$.ajax({type:"POST",url:sharepermissionUrl,data:{permissionList:JSON.stringify({mode:i,itemType:r,UserList:e,GroupList:t}),itemId:o},success:function(e,t){"true"==e.toString().toLowerCase()?(getShareItemPermission(o),refreshAutoComplete(),refreshAutocompleteAccessModeSelection()):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function addGroupOwnerPermission(){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),splitUserGroupList();var e=userEmailList,t=groupIdList,i=accessModeSelectionInput.val(),o=addOwnerBtnObj.attr("data-item-id"),r=addOwnerBtnObj.attr("data-itemtype");$.ajax({type:"POST",url:addGroupOwnerPermissionUrl,data:{permissionList:JSON.stringify({mode:i,itemType:r,UserList:e,GroupList:t}),groupId:o},success:function(e,t){e.status?(getGroupUserPermission(o),refreshAutoComplete(),refreshAutocompleteAccessModeSelection()):null!=e.permissionDenied&&e.permissionDenied&&(WarningAlert(window.Server.App.LocalizationContent.AddGroupOwnerBtn,window.Server.App.LocalizationContent.UserManagementWarningAlert,7e3),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog("close"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):(sharePermissionDlgObj.ejDialog("close"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")))},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function updateBulkItemPermission(){var e=shareBtnObj.attr("data-item-id"),t=addOwnerBtnObj.attr("data-item-id");$.ajax({type:"POST",url:updateBulkItemPermissionUrl,data:{permissionList:addNewItemPermission,userMarkedForDeletionList:userMarkedForDeletionList,groupMarkedForDeletionList:groupMarkedForDeletionList,itemId:e,groupId:t},success:function(i,o){"true"==i.toString().toLowerCase()?(null!=e?getShareItemPermission(e):getGroupUserPermission(t),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection()):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function refreshDialogBoxPosition(){sharePermissionDlgObj.ejDialog({height:"auto"}),isEntireDOMRendered&&(sharePermissionDlgObj.ejDialog({width:529}),sharePermissionDlgObj.ejDialog({width:530})),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),sharePermissionDlgObj.ejDialog("refresh")}function prepareRequestForAddItemPermission(){if(modifiedItemIndex.length>0){var e=angular.element(manageUserGroupBodySection).scope(),t=e.accessModes,i=e.sharedUserGroups,o=shareBtnObj.attr("data-itemtype");$.each(t,function(t,r){var n=r.Key,a=[],s=[];$.each(modifiedItemIndex,function(t,o){i[o].PermissionAccess!=sharedUserGroupsPreservedList[o].PermissionAccess&&i[o].PermissionAccess==r.Key&&(e.IsUserItem(o)?-1==jQuery.inArray(i[o].Email,a)&&a.push(i[o].Email):e.IsGroupItem(o)&&-1==jQuery.inArray(i[o].TargetGroupId,s)&&s.push(i[o].TargetGroupId))}),(a.length>0||s.length>0)&&addNewItemPermission.push(JSON.stringify({mode:n,itemType:o,UserList:a,GroupList:s}))}),$.each(modifiedItemIndex,function(t,o){i[o].PermissionAccess!=sharedUserGroupsPreservedList[o].PermissionAccess&&(e.IsUserItem(o)?-1==jQuery.inArray(sharedUserGroupsPreservedList[o].PermissionId,userMarkedForDeletionList)&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[o].PermissionId):e.IsGroupItem(o)&&-1==jQuery.inArray(sharedUserGroupsPreservedList[o].PermissionId,groupMarkedForDeletionList)&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[o].PermissionId))})}}function resetPreRequestValues(){modifiedItemIndex=[],addNewItemPermission=[],userMarkedForDeletionList=[],groupMarkedForDeletionList=[]}function resetToActualScope(){var e=angular.element(manageUserGroupBodySection).scope();e.$apply(function(){angular.copy(sharedUserGroupsPreservedList,e.sharedUserGroups)}),e.$apply(function(){angular.copy(sharedAccessModePreservedList,e.accessModes)}),$(".change-access-mode-selection").selectpicker("destroy"),$(".change-access-mode-selection").selectpicker(),$(".change-access-mode-selection .selectpicker").removeAttr("title"),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),$('[data-bs-toggle="tooltip"]').tooltip(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareBtnObj.hide(),shareDoneBtnObj.show()}function enableAutocompleteAccessModeSelectionWithoutReset(){$(autoCompleteControlEle).ejAutocomplete("enable"),$(autoCompleteControlWrapperEle).find(".e-in-wrap.e-box.e-corner").removeClass("disable-autocomplete"),$(accessModeSelectionInput).prop("disabled",!1),$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection"),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker()}function refreshAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("selectedIndex",0),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker()}function enableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!1),$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection"),refreshAutocompleteAccessModeSelection()}function disableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!0),$(".selectpicker[data-id='access-mode-selection']").addClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").addClass("disable-autocomplete-access-mode-selection"),refreshAutocompleteAccessModeSelection()}function onSuggestionListOpen(){$("#user-group-search-input_suggestion li").each(function(){$(this).addClass("d-flex align-items-center")}),manageUserGroupContainer.addClass("disable-element-opacity")}function onSuggestionListClose(){""==autoCompleteInstance.getValue()&&manageUserGroupContainer.removeClass("disable-element-opacity")}function refreshUserGroupScroll(){if(manageUserGroupBodySection.is(":visible")){$(".tooltip").tooltip("hide");manageUserGroupBodySection.ejScroller({height:225,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!0,scrollOneStepBy:20,scroll:function(){$(".tooltip").tooltip("hide"),$('[data-bs-toggle="popover"]').popover("hide")}});var e=manageUserGroupBodySection.ejScroller("instance");e.model.height=225,e.refresh(),$(".manage-user-group-body-section .e-scrollbar").show(),generateProfileAvatar()}}function generateEmbedCode(e){$("#embed-sso").change(function(){$(this).is(":checked")?$(".auth-provider-row").slideDown():$(".auth-provider-row").slideUp()}),$("#sso-providers").change(function(){var t=getDashboardShareLink(e.Id,e.CategoryName,e.Name)+"?isembed=true";if(t+=$("#embed-dashboard-comments").is(":checked")?"&report_comments=true":"",t+=$("#embed-views").is(":checked")?"&views=true":"",t+=$("#embed-export").is(":checked")?"&export=true":"",t+=$("#embed-sso").is(":checked")?"&hassso=true":"",$("#embed-sso").is(":checked"))switch($(this).val()){case"AzureAD":t+="&externallogin=azuread";break;case"OAuth":t+="&externallogin=oauth";break;case"OpenID":t+="&externallogin=openid";break;case"WindowsAD":t+="&externallogin=windowsad"}var i="<iframe src='"+t+"' id='report-frame' width='100%' height='720px' allowfullscreen frameborder='0'></iframe>";$("#embed-code").val(i)});var t=getDashboardShareLink(e.Id,e.CategoryName,e.Name)+"?isembed=true";if(t+=$("#embed-dashboard-comments").is(":checked")?"&report_comments=true":"",t+=$("#embed-views").is(":checked")?"&views=true":"",t+=$("#embed-export").is(":checked")?"&export=true":"",$("#embed-sso").is(":checked")){t+="&hassso=true";var i=$("#sso-providers").val()||"WindowsAD";switch(i){case"AzureAD":t+="&externallogin=azuread";break;case"OAuth":t+="&externallogin=oauth";break;case"OpenID":t+="&externallogin=openid";break;default:t+="&externallogin=windowsad"}if("windowsad"==i.toLowerCase()){var o=$("#sso-providers").val()||"WindowsAD",r=$("#sso-providers-dropdown ul.dropdown-menu"),n=r.find('.dropdown-item[data-value="'+o+'"]');n.length&&(r.find(".dropdown-item").removeClass("active selected").attr("aria-selected","false"),n.addClass("active selected").attr("aria-selected","true"),$("#sso-providers-button").text(n.text()))}}return"<iframe src='"+t+"' id='report-frame' width='100%' height='720px' allowfullscreen frameborder='0'></iframe>"}function MoveDashboardItem(e,t){$("#ItemAction").ejDialog("open"),$("#ItemAction_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:moveIframeUrl,data:{itemId:e.Id,itemAction:t,nonce:tileReportsPageNonce},success:function(e){$("#ItemAction").html(e),$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit; border:none"),$("#ItemAction_wrapper").ejWaitingPopup("hide")}})}function CopyDashboardItem(e,t){$(this).attr("data-itemId");$("#ItemAction").ejDialog("open"),$("#ItemAction_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:copyIframeUrl,data:{itemId:e.Id,itemAction:t,nonce:tileReportsPageNonce},success:function(e){$("#ItemAction").html(e),$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit;border:none"),$("#ItemAction_wrapper").ejWaitingPopup("hide")}})}function makePublic(e){$("#item_name").html(e.Name);var t=getDashboardShareLink(e.Id,e.CategoryName,e.Name);$("#make_item_public").ejDialog("open"),$("#make_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:makePublicUrl,data:{itemId:e.Id,itemTypeId:e.ItemType,itemName:e.Name},success:function(i){$("#make_item_public").html(i),$("#make_item_public_wrapper").ejWaitingPopup("hide"),$("#make-public").attr("data-itemtype",e.ItemType),$("#make-public").attr("data-url",t)}})}function makePrivate(e){$("#item_name").html(e.Name),$("#remove_item_public").ejDialog("open"),$("#remove_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:removePublicUrl,data:{itemId:e.Id,itemTypeId:e.ItemType,itemName:e.Name},success:function(t){$("#remove_item_public").html(t),$("#remove_item_public_wrapper").ejWaitingPopup("hide"),$("#remove-public").attr("data-itemtype",e.ItemType)}})}function onMakePublicDialogClose(){$("#make_item_public").ejDialog("close")}function onMakePublicDialogOpen(){load(),$("#make_item_public").ejDialog("open"),$("#make_item_public").focus()}function onRemovePublicDialogClose(){$("#remove_item_public").ejDialog("close")}function onRemovePublicDialogOpen(){load(),$("#remove_item_public").ejDialog("open"),$("#remove_item_public").focus()}function EditDashboard(e){$("#edit-file-popup").ejDialog("open"),ShowWaitingProgress("#edit-file-popup_wrapper","show"),$("#edit-file-popup-iframe").attr("src",getdashboarddetailsUrl+"?itemId="+e)}function editFilePopup(e,t,i){$("#edit-file-popup").ejDialog("open");var o=$("#EditCategoryPopup_iframe").contents();o.find("#file_name").val(t),o.find("#file_description").val(i)}function OnEditFileDialogClose(){$("#edit-file-popup").find("iframe").contents().find("html").html(""),$("#edit-file-popup").ejDialog("close")}function updateReport(e){$("#report_popup").ejDialog("open"),ShowWaitingProgress("#report_popup_wrapper","show"),$("#report_iframe").attr("src",editreportviewUrl+"?itemId="+e),$("#report_popup_title .e-title").html("Update RDL report")}function UpdateDashboardDataSource(e){$("#update-data-source-popup").ejDialog("open"),ShowWaitingProgress("#update-data-source-popup_wrapper","show"),$("#update-data-source-popup-iframe").attr("src",getDataSourceDetailsUrl+"?itemId="+e),$("#update-data-source-popup-iframe").attr("data-item-id",e),parent.window.IsUpdateDashboard=!0}function VersionHistory(e,t){var i=$("#grid").data("ejGrid"),o=$("#loggrid").data("ejGrid");null!=$("#version-window-container").data("ejDialog")?$("#version-window-container").ejDialog("open"):$("#version-window-container").ejDialog({showOnInit:!0,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0}),$(".modal-header .modal-title").html(t),$("#version-tab").parent("li").addClass("active"),$("#item-log-tab").parent("li").removeClass("active"),$("#item-version-container").removeClass("d-none").addClass("d-block"),$("#item-log-container").removeClass("d-block").addClass("d-none");var r=ej.DataManager({url:itemVersionUrl+"?ItemId="+e,adaptor:new ej.UrlAdaptor});i.dataSource(r);var n=ej.DataManager({url:itemLogsUrl+"?ItemId="+e,adaptor:new ej.UrlAdaptor});o.dataSource(n)}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('[data-bs-toggle="popover"]').forEach(function(e){new bootstrap.Popover(e)})}),shareItem.controller("shareItemController",["$scope",function(e){e.currentUserId=window.currentUserId,e.sharedUserGroups=window.sharedUserGroupList,e.currentItemType=ItemType.Report,e.accessModes=window.accessModeList,e.showPopover=!1,e.hasDashboardSettingsPermission=!1,e.isUnlisted=!1,e.formatAccessModeString=function(e){return e.toString()},e.ImageLink=function(e){return idpUrl+"/User/Avatar?id="+e+"&ImageSize=64"};e.GetGroupColor=function(e,t){return{"background-color":"#dfdfdf"}},e.typeOptions=[{Key:2,Value:"Read"}],e.parseInt=function(e){return parseInt(e,10)},e.updateValue=function(t,i){e.CheckForModification(t,i)},e.MarkForDeletion=function(t,i,o){e.AddItemInUserGroupDeletionList(o),e.RemoveFromModified(o);var r=angular.element(t.currentTarget).parents(".shared-user-group-list-section").children();r.find(".action-for-delete-container").hide();var n=r.find(".marked-for-delete-container");r.find(".marked-for-delete-container").show(),n.css({display:"flex"}),r.find(".change-indicator").show(),e.ShowChangeIndicatorBanner()},e.RemoveMarkForDeletion=function(t,i,o){e.RemoveItemInUserGroupDeletionList(o);var r=angular.element(t.currentTarget).parents(".shared-user-group-list-section").children();r.find(".marked-for-delete-container").hide(),r.find(".action-for-delete-container").show(),r.find(".change-indicator").hide(),e.CheckForModification(i,o)},e.CheckForModification=function(t,i){sharedUserGroupsPreservedList[i].PermissionAccess!=t?(e.AddToModified(i),$("#select_"+i).parents(".shared-user-group-list-section").children().find(".change-indicator").show()):sharedUserGroupsPreservedList[i].PermissionAccess==t&&(e.RemoveFromModified(i),$("#select_"+i).parents(".shared-user-group-list-section").children().find(".change-indicator").hide()),e.ShowChangeIndicatorBanner()},e.ShowChangeIndicatorBanner=function(){$(".change-indicator").is(":visible")?(changeIndicatorBannerObj.css("visibility","visible"),manageAccessSaveBtnObj.show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide(),disableAutomCompleteControl(),disableAutocompleteAccessModeSelection()):(changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection())},e.AddItemInUserGroupDeletionList=function(t){e.IsUserItem(t)?-1==jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId):e.IsGroupItem(t)&&-1==jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId)},e.RemoveItemInUserGroupDeletionList=function(t){e.IsUserItem(t)?-1!=jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)&&(userMarkedForDeletionList=jQuery.grep(userMarkedForDeletionList,function(e){return e!=sharedUserGroupsPreservedList[t].PermissionId})):e.IsGroupItem(t)&&-1!=jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)&&(groupMarkedForDeletionList=jQuery.grep(groupMarkedForDeletionList,function(e){return e!=sharedUserGroupsPreservedList[t].PermissionId}))},e.AddToModified=function(e){-1==jQuery.inArray(e,modifiedItemIndex)&&modifiedItemIndex.push(e)},e.RemoveFromModified=function(e){modifiedItemIndex=jQuery.grep(modifiedItemIndex,function(t){return t!=e})},e.IsUserItem=function(e){return null!=sharedUserGroupsPreservedList[e].Email&&sharedUserGroupsPreservedList[e].IsUserPermission&&sharedUserGroupsPreservedList[e].TargetUserId>0},e.IsGroupItem=function(e){return null==sharedUserGroupsPreservedList[e].Email&&!sharedUserGroupsPreservedList[e].IsUserPermission&&sharedUserGroupsPreservedList[e].TargetGroupId>0},e.GetManagePermisisionContent=function(t){var i=null!=window.granularPermissions&&window.granularPermissions.Reports,o=window.Server.App.LocalizationContent.RemoveAccess;if(e.IsUserItem(t)){if(o=o+window.Server.App.LocalizationContent.PermissionGlobally+" - <strong>"+sharedUserGroupsPreservedList[t].PermissionEntityDescription+"</strong>.</br></br>",isAdmin||i){var r=editUserPermissionUrl+"?userId="+sharedUserGroupsPreservedList[t].TargetUserId;return o+window.Server.App.LocalizationContent.ManagePermission+" <a target='_blank' href='"+r+"'>"+window.Server.App.LocalizationContent.Here+"</a>."}return o+window.Server.App.LocalizationContent.UserContactSystemAdministrator}if(o=o+window.Server.App.LocalizationContent.AssignedGlobally+" - <strong>"+sharedUserGroupsPreservedList[t].PermissionEntityDescription+"</strong>.</br></br>",isAdmin){var n=editGroupPermissionUrl+"?groupId="+sharedUserGroupsPreservedList[t].TargetGroupId;return o+window.Server.App.LocalizationContent.ManagePermission+" <a target='_blank' href='"+n+"'>"+window.Server.App.LocalizationContent.Here+"</a>."}return o+window.Server.App.LocalizationContent.GroupContactSystemAdministrator}}]),$(function(){sharePermissionDlgObj=$("#share-permission-popup"),sharePermisisonDlgHeader=$("#share-permission-dialog-header"),sharePermissionDlgHeaderItemName=$(".item-name-container #item-name-header"),sharePermissionConatiner=$("#share-permission-container"),accessModeContainer=$("#access-mode-container"),dummyContainer=$("#dummy-container"),embedCodeContainer=$("#get-embed-code-container"),sharePermissionDashboardSettingSectionObj=$(".share-permission-dashboard-setting-section"),sharePermissionPublicSectionObj=$(".share-permission-public-section"),sharePermissionPrivateSectionObj=$(".share-permission-private-section"),sharePermissionUserGroupSectionObj=$("#assign-user-group-container"),manageUserGroupContainer=$("#manage-user-group-container"),manageUserGroupBodySection=$(".manage-user-group-body-section"),getEmbedLinkSection=$(".get-item-embed-link-section"),changeIndicatorBannerObj=$(".changes-indicator-banner"),shareWithLabelObj=$(".share-with-label"),getLinkInputObj=$("#item-url"),getLinkCopyLinkobj=$("#item-url-copy"),getEmbedCodeInputObj=$("#embed-code"),getEmbedCodeCopyBtnobj=$("#copy-embed-code"),accessModeChangeLink=$("#access-mode-change-link"),manageAccessButton=$("#manage-access-button"),manageAccessBackButton=$("#manage-access-back-button"),manageAccessSaveBtnObj=$("#manage-access-save-button"),manageAccessCancelBtnObj=$("#manage-access-cancel-button"),shareDoneBtnObj=$("#share-done-popup-button"),shareBtnObj=$("#share-permission-button"),accessModeChngBtnObj=$("#access-mode-change-button"),accessModeCancelBtnObj=$("#access-mode-cancel-button"),embedCodeDoneBtnObj=$("#copy-embed-code-done-button"),addOwnerBtnObj=$("#add-owner-permission-button"),publicRadioBtnObj=$("#public-access-mode"),privateRadioBtnObj=$("#private-access-mode"),accessModeSelectionInput=$("#access-mode-selection"),markForDeleteBtnObj=$(".mark-for-deletion-icon"),removeMarkForDeleteBtnObj=$(".remove-mark-for-deletion-icon"),showSharedUserGroupContainer=$("#show-shared-user-group-container"),showSharedUserGroupNameSection=$(".shared-user-group-name-section"),showSharedUserGroupName=$(".shared-user-group-name"),showSharedUserGroupCountSection=$(".shared-user-group-count-section"),showSharedUserGroupCount=$(".shared-user-group-count"),toggleMarkForDeletionObj=$(".action-for-delete-container, .marked-for-delete-container"),$("#permission-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0});var e=createLoader("permission-popup_wrapper");$("#permission-popup_wrapper").ejWaitingPopup({template:$("#"+e)}),sharePermissionDlgObj.ejDialog({width:"529px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!1,close:"onSharePermissionPopupClose",open:"onSharePermissionPopupOpen",closeOnEscape:!0}),sharePermissionDlgWrapperObj=$("#share-permission-popup_wrapper");var t=createLoader("share-permission-popup_wrapper");sharePermissionDlgWrapperObj.ejWaitingPopup({template:$("#"+t)}),$("#share-close-popup, #share-done-popup-button").on("click",function(){sharePermissionDlgObj.ejDialog("close")}),accessModeCancelBtnObj.on("click",function(){showSharePermissionContainer()}),manageAccessButton.on("click",function(){showManageAccessContainer()}),manageAccessBackButton.on("click",function(){showSharePermissionContainerWithRefresh()}),manageAccessSaveBtnObj.on("click",function(){$('[data-bs-toggle="popover"]').popover("hide"),sharePermissionDlgWrapperObj.ejWaitingPopup("show"),prepareRequestForAddItemPermission(),updateBulkItemPermission()}),manageAccessCancelBtnObj.on("click",function(){$('[data-bs-toggle="popover"]').popover("hide"),resetToActualScope(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection()}),getLinkCopyLinkobj.on("click",function(e){getLinkInputObj.select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?getLinkCopyLinkobj.attr("data-original-title",""):(document.execCommand("copy"),getLinkCopyLinkobj.attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess),getLinkCopyLinkobj.tooltip("hide").attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){getLinkCopyLinkobj.attr("data-original-title",window.Server.App.LocalizationContent.LinkCopy),getLinkCopyLinkobj.tooltip()},3e3))}),getLinkCopyLinkobj.removeClass("focusdiv"),getLinkInputObj.on("focusin",function(){getLinkCopyLinkobj.addClass("focusdiv")}),getLinkInputObj.on("focusout",function(){getLinkCopyLinkobj.removeClass("focusdiv")}),$("input[type=radio][name=access-mode]").on("change",function(){isItemPublic&&privateRadioBtnObj.prop("checked")||!isItemPublic&&publicRadioBtnObj.prop("checked")?accessModeChngBtnObj.removeAttr("disabled"):accessModeChngBtnObj.attr("disabled",!0)}),$(document).on("click","#access-mode-change-button",function(e){var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),o=$(this).attr("data-itemtype"),r="";isItemPublic&&privateRadioBtnObj.prop("checked")?r=removeItemPublicUrl:!isItemPublic&&publicRadioBtnObj.prop("checked")&&(r=makeItemPublicUrl),$.ajax({type:"POST",url:r,data:{itemId:t,itemTypeId:o,itemName:i},success:function(e){e.validation&&e.result?("function"==typeof ResetItemList&&ResetItemList(ItemType.Report),void 0!==currentItemDetail&&void 0!==currentItemDetail.IsPublic&&(currentItemDetail.IsPublic=!currentItemDetail.IsPublic)):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}}),isItemPublic&&privateRadioBtnObj.prop("checked")?(showSharePermissionContainer(),showPrivateContent(),isItemPublic=!1):!isItemPublic&&publicRadioBtnObj.prop("checked")&&(showSharePermissionContainer(),showPublicContent(),isItemPublic=!0)}),$(document).on("shown.bs.dropdown",".user-group-scroll-content .change-access-mode-select",function(){if($(".tooltip").hide(),$(this).find(".change-access-mode-selection").length>0){var e=manageUserGroupBodySection,t=$(this).offset().top+$(this).outerHeight(!0)/2-e.offset().top,i=e.height()-($(this).offset().top-e.offset().top+$(this).outerHeight(!0)/2),o=$(this).find(".change-access-mode-selection .dropdown-menu").outerHeight(!0);i<=o&&t>=o?$(this).find(".change-access-mode-selection").removeClass("dropdown").addClass("dropup"):refreshUserGroupScroll()}}),$("body").on("click",function(e){"popover"!==$(e.target).data("bs-toggle")&&0===$(e.target).closest('[data-bs-toggle="popover"]').length&&0===$(e.target).closest(".popover").length?$('[data-bs-toggle="popover"]').popover("hide"):"popover"==$(e.target).data("bs-toggle")&&$(".access-info-icon").not(e.target).popover("hide")}),getEmbedCodeInputObj.on("click",function(e){getEmbedCodeInputObj.select()}),getEmbedCodeCopyBtnobj.on("click",function(e){getEmbedCodeInputObj.select(),document.execCommand("copy");var t=$(".embed-copy-success");t.show(),setTimeout(function(){t.fadeOut(3e3)},3e3)}),embedCodeDoneBtnObj.on("click",function(){sharePermissionDlgObj.ejDialog("close")}),$(".embed-configuration [type='checkbox']").on("change",function(e){$("#embed-code").val(generateEmbedCode(currentItemDetail))}),$(document).on("click","#access-mode-change-link",function(e){e.preventDefault(),changeAccessMode()}),$(document).on("click","#item-url",function(){this.setSelectionRange(0,this.value.length)}),$(document).on("click","#get-embed-code-link",function(e){e.preventDefault(),getEmbedCode()}),$(document).on("click","#show-shared-user-group-link",function(e){e.preventDefault(),showManageAccessContainer()}),$(document).on("click","#share-permission-button",saveItemPermission),$(document).on("click","#add-owner-permission-button",addGroupOwnerPermission),$(document).on("click","#add-owner-button",addGroupOwnerDialogOpen),$(document).on("click","#sso-providers-dropdown .dropdown-item",function(e){e.preventDefault();var t=$(this).data("value"),i=$(this).text();$("#sso-providers").val(t).trigger("change"),$("#sso-providers-button").text(i),$(this).closest("ul.dropdown-menu").find(".dropdown-item").removeClass("active selected").attr("aria-selected","false"),$(this).addClass("active selected").attr("aria-selected","true")})}),$(function(){$("#ItemAction").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"525px",title:"",showHeader:!1,enableModal:!0,close:"itemActionEmpty",closeOnEscape:!0});var e=createLoader("ItemAction_wrapper");$("#ItemAction_wrapper").ejWaitingPopup({template:$("#"+e)})}),$(function(){$("#make_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.MakePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onMakePublicDialogClose",open:"onMakePublicDialogOpen"}),$("#remove_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.RemovePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onRemovePublicDialogClose",open:"onRemovePublicDialogOpen"});var e=createLoader("make_item_public_wrapper");$("#make_item_public_wrapper").ejWaitingPopup({template:$("#"+e)});var t=createLoader("remove_item_public_wrapper");$("#remove_item_public_wrapper").ejWaitingPopup({template:$("#"+t)})}),$(document).on("click","#make-public",function(e){$("#item_name").html($(this).attr("data-name")),itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),o=$(this).attr("data-itemtype"),r=$(this).attr("data-item-type").trim();$("#make_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:makeItemPublicUrl,data:{itemId:t,itemTypeId:o,itemName:i},success:function(e){e.validation&&e.result?(onMakePublicDialogClose(),onGetLinkDialogOpen(),$(".report-name").html(i),$(".report-name").attr("title",i),$("."+r.toLowerCase()+"-link").show(),$(".private-note").hide(),$(".public-note").show(),ResetItemList(ItemType.Report)):($("#makepublicitem").hide(),$("#select-area").hide(),$("#close").show(),$(".error-msg").show()),$("#make_item_public_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click","#remove-public",function(e){$("#item_name").html($(this).attr("data-name"));var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),o=$(this).attr("data-itemtype");$("#remove_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:removeItemPublicUrl,data:{itemId:t,itemTypeId:o,itemName:i},success:function(e){e.validation&&e.result?($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#remove-close").show(),$("#success-msg").show(),ResetItemList(ItemType.Report)):($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#success-msg").hide(),$("#remove-close").show(),$("#error-msg").show()),$("#remove_item_public_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click","#make-public-dialog-close-link",function(e){e.preventDefault(),onMakePublicDialogClose()}),$(document).on("click","#remove-public-dialog-close-link",function(e){e.preventDefault(),onRemovePublicDialogClose()}),$(document).on("click",".make-public-dialog-cancel",onMakePublicDialogClose),$(document).on("click",".remove-public-dialog-close-button",onRemovePublicDialogClose),$(document).on("ready",function(){$("#edit-file-popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!1,enableResize:!1,title:window.Server.App.LocalizationContent.UpdateDashboard,enableModal:!0,showHeader:!1});var e=createLoader("edit-file-popup_wrapper");$("#edit-file-popup_wrapper").ejWaitingPopup({template:$("#"+e)})}),$(document).on("ready",function(){$("#update-data-source-popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!0,enableResize:!1,title:window.Server.App.LocalizationContent.UpdateDataSource,enableModal:!0,showHeader:!1});var e=createLoader("update-data-source-popup_wrapper");$("#update-data-source-popup_wrapper").ejWaitingPopup({template:$("#"+e)})}),$(document).ready(function(){$(parent.window).width()>1400&&$("#version-container").addClass("versions"),$(parent.window).width()<1400&&$("#version-container").removeClass("versions"),$(document).on("click","#version-tab",function(e){$(this).parent("li").addClass("active"),$("#item-log-tab").parent("li").removeClass("active"),$("#item-version-container").removeClass("d-none").addClass("d-block"),$("#item-log-container").removeClass("d-block").addClass("d-none")}),$(document).on("click","#item-log-tab",function(e){$(".down-arrow").css("left","185px"),$(this).parent("li").addClass("active"),$("#version-tab").parent("li").removeClass("active"),$("#item-version-container").removeClass("d-block").addClass("d-none"),$("#item-log-container").removeClass("d-none").addClass("d-block")}),$(document).on("click",".version-popup-close",function(e){$("#item-version-controller").css("display","none"),eDialog=parent.$("#version-window-container").data("ejDialog"),eDialog.close()}),$(document).on("click",".item-roll-back",function(e){var t=$(this).attr("data-item-version"),i=$(this).attr("data-itemid");doAjaxPost("POST",rollBackUrl,{ItemId:i,versionId:t},function(e,t){t.status?($("#grid").data("ejGrid").refreshContent(),$("#loggrid").data("ejGrid").refreshContent()):parent.messageBox("su-versions",window.Server.App.LocalizationContent.VersionHistory,t.statusMessage,"success",function(){parent.onCloseMessageBox()});$("#loggrid").ejWaitingPopup("hide")},null,null,null,null,null,!0)})}),$(document).on("click","#version-window-container .popup-close, #version-window-container #close-button",function(){$("#grid").ejGrid("option",{dataSource:[]}),$("#loggrid").ejGrid("option",{dataSource:[]}),window.parent.$("#version-window-container").ejDialog("close")}),$(document).keyup(function(e){27==e.keyCode&&(null!=parent.$("#version-window-container").data("ejDialog")&&window.parent.$("#version-window-container").ejDialog("close"))}),$(document).ready(function(){});var ScheduleId,ItemId,ItemName,MultiDashboardName,isAjaxRequested=!0;function getDashboardViews(e,t){var o=$(t).find("ul"),r="";1==isAjaxRequested&&($(".dashboard-views").addClass("views-loader"),isAjaxRequested=!1,$.ajax({type:"POST",url:getViewsByItemIdUrl,data:{itemId:e.Id},success:function(t){if(null!=t&&null!=t.result&&t.result.length>0)if(e.IsChildDashboard)for(i=0;i<t.result.length;i++)r+="<li><a class='view-name' href='"+dashboardsUrl+"/"+e.CategoryId+"/"+e.ParentCategoryName+"/"+e.CategoryName+"?tab="+e.Name+"&viewname="+t.result[i].ViewName+"' target='_blank'  data-bs-toggle='tooltip' data-bs-placement='top' data-original-title='"+t.result[i].ViewName+"' data-itemid='"+t.result[i].ItemId+"'>"+t.result[i].ViewName+"</a></li>";else for(i=0;i<t.result.length;i++)r+="<li><a class='view-name' href='"+dashboardsUrl+"/"+e.Id+"/"+t.result[i].CategoryName+"/"+t.result[i].ItemName+"?viewname="+t.result[i].ViewName+"' target='_blank'  data-bs-toggle='tooltip' data-bs-placement='top' data-original-title='"+t.result[i].ViewName+"' data-itemid='"+t.result[i].ItemId+"'>"+t.result[i].ViewName+"</a></li>";else r="<li><span class='view-name' href='javascript:void(0);'><span>"+window.Server.App.LocalizationContent.NoViews+"</span></span></li>";o.html(r),$(".dashboard-views").removeClass("views-loader"),$(".dashboard-views").addClass("no-loader"),$('[data-bs-toggle="tooltip"]').tooltip()}}).always(function(){isAjaxRequested=!0}))}function openNewCategoryPopup(){$("#AddCategoryPopup").ejDialog("open")}function openNewDashboardPopup(){$("#report_popup").ejDialog("open"),$("#report_popup_wrapper").ejWaitingPopup("show")}function onDashboardDialogOpen(){$("#report_iframe").attr("src",addDashboardIframeUrl)}function onDashboardDialogClose(){$("#report_popup").find("iframe").contents().find("html").html(""),window.IsAddDashboard=!1,window.CategoryName=""}function getSubCategoryInfo(e){var t=$("#create-subcategory-section");$.ajax({type:"POST",url:getCategories,data:"",success:function(i){if(i.length<1?$('.select-create-type input[name=categoryType][value="1"]').prop("disabled",!0):$('.select-create-type input[name=categoryType][value="1"]').prop("disabled",!1),null!=e){var o=document.querySelector("#SubCategoryList");o?.ej2_instances&&o.ej2_instances[0].destroy(),new ejs.dropdowns.DropDownTree({fields:{dataSource:e,value:"Id",text:"Name",child:"SubCategory"},value:[e[0].Id.toString()],destroyPopupOnHide:!1,placeholder:"Select category",allowFiltering:!0,showClearButton:!1}).appendTo("#SubCategoryList")}else{null!=(o=document.querySelector("#SubCategoryList"))&&null!=o&&null!=o.ej2_instances&&o.ej2_instances[0].destroy(),new ejs.dropdowns.DropDownTree({fields:{dataSource:i,value:"Id",text:"Name",child:"SubCategory"},change:function(){categoryValueChange(t)},value:[i[0].Id.toString()],destroyPopupOnHide:!1,allowFiltering:!0,showClearButton:!1}).appendTo("#SubCategoryList")}}})}function ScheduleDashboard(e){isSandbox?$.ajax({type:"POST",url:resourceCreateLimitUrl,data:{itemType:ItemType.Schedule},success:function(t){t?WarningAlert("",window.Server.App.LocalizationContent.ScheduleLimitExceeded,7e3):(ItemId=e.Id,ItemName=e.Name,CategoryName=e.CategoryName,CategoryId=e.CategoryId,ScheduleId="",MultiDashboardName=e.IsMultiDashboard?e.CategoryName:"",$("#popup-container").ejDialog("open"))}}):(ItemId=e.Id,ItemName=e.Name,CategoryName=e.CategoryName,CategoryId=e.CategoryId,ScheduleId="",MultiDashboardName=e.IsMultiDashboard?e.CategoryName:"",$("#popup-container").ejDialog("open"))}function onSchedulerDialogClose(){$("#popup-container").find("iframe").contents().find("html").html("")}function onSchedulerDialogOpen(){$("#scheduler-popup-iframe").attr("src",schedulerIframeUrl+"?itemName="+ItemName+"&&itemId="+ItemId+"&&categoryName="+CategoryName+"&&categoryId="+CategoryId+"&&scheduleId="+ScheduleId+"&&multiDashboardName="+MultiDashboardName+"&&actionType=Create"),$("#popup-container_wrapper").ejWaitingPopup("show")}function ExportReport(e){ItemId=e.Id,ItemName=e.Name,CategoryName=e.CategoryName,CategoryId=e.CategoryId,ScheduleId="",MultiDashboardName=e.IsMultiDashboard?e.CategoryName:"",$("#export-popup-container").ejDialog("open"),$("#export-popup-container_wrapper").ejWaitingPopup("show")}function onExportDialogOpen(){$("#export-popup-iframe").attr("src",exportItemUrl+"?itemId="+ItemId)}$(function(){$("#report_popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!1,enableResize:!1,title:window.Server.App.LocalizationContent.AddDashboard,enableModal:!0,showHeader:!1,open:"onDashboardDialogOpen"}),$("#sample-item-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",beforeOpen:function(e){$("#sample-item-popup_wrapper").css("z-index","2147483647")},showHeader:!1,enableModal:!0,beforeClose:function(e){$("#itemsstring_ddinput_popup_list_wrapper, #items_acString_suggestion, #items_WaitingPopup, #item-grid-container_WaitingPopup, #sample-item-popup_wrapper, #sample-item-popup_wrapper_WaitingPopup").css("z-index","9999")},close:"DialogBoxClose",closeOnEscape:!0}),$("#sample-report-part-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"750px",title:"",beforeOpen:function(e){$("#sample-report-part-popup_wrapper").css("z-index","22222222")},showHeader:!1,enableModal:!0,beforeClose:function(e){$("#itemsstring_ddinput_popup_list_wrapper, #items_acString_suggestion, #items_WaitingPopup, #item-grid-container_WaitingPopup, #sample-report-part-popup_wrapper, #sample-report-part-popup_wrapper_WaitingPopup").css("z-index","9999")},close:"DialogBoxClose",closeOnEscape:!0});var e=createLoader("AddCategoryPopup_wrapper");$("#AddCategoryPopup_wrapper").ejWaitingPopup({template:$("#"+e)});var t=createLoader("report_popup_wrapper");$("#report_popup_wrapper").ejWaitingPopup({template:$("#"+t)});var i=createLoader("sample-item-popup_wrapper");$("#sample-item-popup_wrapper").ejWaitingPopup({template:$("#"+i)}),$(document).on("click",".prevent-default-action",function(e){e.preventDefault()})}),$(document).on("click",".add-sample-button",function(){$("#sample-item-popup iframe").attr("src",addSampleItemsUrl),$("#sample-item-popup").ejDialog("open"),ShowWaitingProgress("#sample-item-popup_wrapper","show")}),$(document).on("click",".add-sample-report-part-button",function(){$("#sample-report-part-popup iframe").attr("src",addSampleReportPartsUrl),$("#sample-report-part-popup").ejDialog("open"),ShowWaitingProgress("#sample-report-part-popup_wrapper","show")}),$(document).on("click",".explore",function(){$("#sample-item-popup iframe").attr("src",addSampleItemsUrl),$("#sample-item-popup").ejDialog("open"),ShowWaitingProgress("#sample-item-popup_wrapper","show")}),$(document).on("click",".dashboard-notification .su-close",function(){$(".dashboard-notification").remove()}),$(document).ready(function(){$("#popup-container").ejDialog({allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,showOnInit:!1,close:"onSchedulerDialogClose",open:"onSchedulerDialogOpen",width:"1000px"});var e=createLoader("popup-container_wrapper");$("#popup-container_wrapper").ejWaitingPopup({template:$("#"+e)})}),$(document).on("click","#create_schedule, .create-schedule",function(){isSandbox?$.ajax({type:"POST",url:resourceCreateLimitUrl,data:{itemType:ItemType.Schedule},success:function(e){e?WarningAlert("",window.Server.App.LocalizationContent.ScheduleLimitExceeded,7e3):(ItemId="",ItemName="",CategoryName="",ScheduleId="",CategoryId="",MultiDashboardName=$(this).attr("data-multidashboard-name"),$("#popup-container").ejDialog("open"))}}):(ItemId="",ItemName="",CategoryName="",ScheduleId="",CategoryId="",MultiDashboardName=$(this).attr("data-multidashboard-name"),$("#popup-container").ejDialog("open"))}),serverApp.controller("ItemInfoCtrl",["$scope","$timeout",function(e,t){e.ItemDetail=null,e.ItemType={Report:3,DataSource:4,Dataset:5,File:6,ReportPart:14},e.closeItemInfo=function(){$("#item-info-popup").ejDialog("close")},e.openInfoDialog=function(i,o){i.Description=decodeHtmlAsString(i.Description),e.ItemDetail=i,e.showDashboardLinkButton=o,$("#show-linked-reports-link").show(),$("#linked-reports").hide(),$("#item-info-popup").ejDialog({width:window.innerWidth>480?"480px":window.innerWidth-10+"px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0}),$("#item-info-popup").ejDialog("open"),$("#item-info-popup").ejDialog("refresh"),t(function(){e.$apply()},100)},e.viewDashboardUrl=function(e,t,i,o){return isHideGuidInUrl?!0===o?encodeURI(editDashboardUrl+"/draft/"+i):encodeURI(viewDashboardUrlAction+"/"+t+"/"+i+"?showmyreports=1"):!0===o?encodeURI(editDashboardUrl+"/"+e+"/draft/"+i):encodeURI(viewDashboardUrlAction+"/"+e+"/"+t+"/"+i+"?showmyreports=1")},e.GetInfoButtonText=function(e,t){return e!=ItemType.Report?window.Server.App.LocalizationContent.EditReportPart:!0===t?window.Server.App.LocalizationContent.EditReport:window.Server.App.LocalizationContent.OpenReport},e.editReportPartUrl=function(e,t){return isHideGuidInUrl?encodeURI(reportPartEditUrl+"/"+t):encodeURI(reportPartEditUrl+"/"+e+"/"+t)},e.getReportsLinkedWithReportPart=function(){var t,i;$("#item-info-popup").ejWaitingPopup("show"),e.ItemType.Dataset==e.ItemDetail.ItemType||e.ItemType.DataSource==e.ItemDetail.ItemType?(t=getReportsLinkedWithItemUrl,i={id:e.ItemDetail.Id,itemType:e.ItemDetail.ItemType}):(t=getReportsLinkedWithReportPartUrl,i={reportPartId:e.ItemDetail.ReportPartId}),$.ajax({type:"POST",url:t,data:i,success:function(e){if(e){let t="-";e.length>0&&(t=e.map(e=>{return t=e.Id,i=e.CategoryName,o=e.Name,isHideGuidInUrl?"<a class='app-hyperlink' target='"+targetValue+"' href='"+encodeURI(viewDashboardUrlAction+"/"+i+"/"+o)+"'>"+o+"</a>":"<a class='app-hyperlink' target='"+targetValue+"' href='"+encodeURI(viewDashboardUrlAction+"/"+t)+"'>"+o+"</a>";var t,i,o}).join(", ")),$("#linked-reports").show(),$("#linked-reports").html(t),$("#show-linked-reports-link").hide(),$("#item-info-popup").ejWaitingPopup("hide")}},error:function(){WarningAlert(window.Server.App.LocalizationContent.LinkedReportsTitle,window.Server.App.LocalizationContent.ErrorGettingDashboard,7e3),$("#item-info-popup").ejWaitingPopup("hide")}})}}]),$(document).ready(function(){$("#export-popup-container").ejDialog({allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,showOnInit:!1,open:"onExportDialogOpen",width:"1000px",height:"630px"});var e=createLoader("export-popup-container_wrapper");$("#export-popup-container_wrapper").ejWaitingPopup({template:$("#"+e)})}),$(document).on("click","#ExportCancelButton",function(){window.parent.$("#export-popup-container").ejDialog("close")}),$(document).on("click","#ExportClose",function(){window.parent.$("#export-popup-container").ejDialog("close")}),$(document).on("click","#ExportButton",function(){var e=[],t=window.reportParameterType,i=$("input[name=exportFormats]:checked","#export-format-container").val().toLowerCase().toString();if(e=reportparameterObj,validateParameters(this)){for(var o=0;o<reportparameterObj.length;o++){var r=window.parameterObj[o],n=!isEmptyOrWhitespace($("#"+parameterObj[o].Name).val());if(e[o].Hidden=$("#"+parameterObj[o].Name+"-use-default").is(":checked"),n&&!1===$("#"+parameterObj[o].Name+"-use-default").is(":checked")){if(null===e[o].DefaultValue){var a={Values:[]};e[o].DefaultValue=a}e[o].DataType===t.DateTime?e[o].DefaultValue.Values=$("#"+parameterObj[o].Name).val().split('/("[^"]*")|[^,]+/g'):"object"!=typeof $("#"+parameterObj[o].Name).val()?e[o].DefaultValue.Values=$("#"+parameterObj[o].Name).val().split(","):e[o].DefaultValue.Values=$("#"+parameterObj[o].Name).val()}else if(e[o].DataType===t.Boolean){if(null===e[o].DefaultValue){a={Values:["false"]};e[o].DefaultValue=a}$("#true-"+r.Name).is(":checked")?($("#true-"+r.Name).ejRadioButton({size:"medium",checked:!0}),$("#true-"+r.Name).val("true"),$("#false-"+r.Name).val("false"),e[o].DefaultValue.Values[0]="true"):$("#false-"+r.Name).is(":checked")&&($("#false-"+r.Name).ejRadioButton({size:"medium",checked:!0}),$("#false-"+r.Name).val("true"),$("#true-"+r.Name).val("false"),e[o].DefaultValue.Values[0]="false")}else if(n&&!0===$("#"+parameterObj[o].Name+"-use-default").is(":checked")){if(null===e[o].DefaultValue){a={Values:[]};e[o].DefaultValue=a}e[o].DataType===t.DateTime?e[o].DefaultValue.Values=$("#"+parameterObj[o].Name).val().split('/("[^"]*")|[^,]+/g'):"object"!=typeof $("#"+parameterObj[o].Name).val()?e[o].DefaultValue.Values=$("#"+parameterObj[o].Name).val().split(","):e[o].DefaultValue.Values=$("#"+parameterObj[o].Name).val()}}var s=JSON.stringify(e),l={ReportId:ReportId,ExportType:i,ReportName:ReportName,ReportParameters:s};$.ajax({type:"POST",url:exportReportUrl,data:l,dataType:"json",success:function(e){null!=e&&window.open(fileExport+"?reportname="+e.ReportName+"&exporttype="+e.ExportType+"&reportid="+e.ReportId)}}),window.parent.$("#export-popup-container").ejDialog("close"),SuccessAlert(window.Server.App.LocalizationContent.ExportReport,window.Server.App.LocalizationContent.ExportSuccessMessage,7e3)}else $("#error-message").css("display","block")});var reportItemName="",isSafari=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),isSafariOrEdge=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Edge"),reportItemId="",reportCategoryName="",multiDashboardName="",childId="",createdItemId="",url="",alertChange=1,dateFormat="",timeFormat="",listDashboards="",childDashboards="",isReportIdChanged=!1,item="",condition="",itemConditionArray="",recurrence="",endType="",endDate="",endAfter="",startDate="",itemRecurrence="",frequency="",exportType="",subscriberExternalRecipient="",subscriberGroup="",subscriberUser="",itemConditionCategory="",itemWidgetName="",emailContent="",buttonValue="",reportParameterItemId="",initialPosition="",Subject="",isEmailcontentChanged=0,isSubjectcontentChanged=0,subjectSettings="",bodySettings="",ReportName="",CategoryName="",ScheduleName="",scheduleRecurrenceInfo="",isFtpSettingsEnabled=!1,isS3SettingsEnabled=!1,categoryId="";function createSchedule(e,t,i){""!==t?$(".schedule-popup-title").html(" "+t+" - "+window.Server.App.LocalizationContent.ScheduleTitle):$(".schedule-popup-title").html(" "+t+" "+window.Server.App.LocalizationContent.ScheduleTitle),$(".schedule-popup-title").attr("title",t),parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),reportItemId=e,reportParameterItemId=e,reportItemName=t,reportCategoryName=i,createdItemId=e;var o=$("#export-filename").val().split("-"),r=/\{\:(.*?)\}/;$("#file-template-variable-drop-box option").prop("selected",!1);for(var n=0;n<o.length;n++){var a=o[n].match(r);null!=a&&$("#file-template-variable-drop-box option[value='"+a[1]+"']").attr("selected",!0)}$("#file-template-variable-drop-box").selectpicker("destroy"),$("#file-template-variable-drop-box").selectpicker()}function scheduleNameCheck(e,t){$("#schedule-name-error-container").css("display","none"),$("span.loader-gif").remove(),$("#schedule-name-error-container").parent().append($("<span class='col-sm-4 no-padding loader-gif'><div class='loader-blue loader-icon' id='schedule-name-validation-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$.ajax({type:"POST",url:checkScheduleNameExistUrl,data:{scheduleId:e,scheduleName:t},success:function(e){e.Result?($("span.loader-gif").remove(),$("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.IsScheduleExist)):($("#schedule-name").closest("div").removeClass("has-error"),$("span.loader-gif").remove(),$("#schedule-name-error-container").css("display","none"))}})}function addTitleForCategory(){$("#selected_category").selectpicker("destroy"),$("#selected_category").selectpicker();for(var e=0;e<$(".category-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".category-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".category-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function addTitleForDashboard(){$("#selected_dashboard").selectpicker("destroy"),$("#selected_dashboard").selectpicker();for(var e=0;e<$(".dashboard-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function validateSchedule(e){$("#start-date").data("ejDateTimePicker");var t=$("#schedule-name").val();return"block"===$("#schedule-name-error-container").css("display")||$("body .loader-gif").length||""===$("#selected_category option:selected").val()||""===$("#selected_dashboard option:selected").val()||!t||""===$("#export-filename").val()?(""===$("#selected_category option:selected").val()&&$("#category-message").css("display","block"),""===$("#selected_dashboard option:selected").val()&&$("#dashboard-message").css("display","block"),t||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.ScheduleValidator)),""!=$("#export-filename").val()&&"null"!=$("#export-filename").val()||($("#export-filename").prop("disabled",!0),$("#export-filename-error-message").removeClass("hide").addClass("show")),!1):parent.IsValidName("name",t)?!$(e).hasClass("recurrence-class-body")||validateParameters():($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.AvoidSpecialCharactors),!1)}function closePopupContainer(){parent.$("#popup-container").ejDialog("close"),parent.$("#editpopup-container").ejDialog("close")}function isReportHasParameter(e){""!==reportParameterItemId&&reportParameterItemId!==e&&(isReportIdChanged=!0),reportParameterItemId=e,$.ajax({type:"POST",url:reportHasParameterUrl,async:!1,data:{itemId:e},success:function(e){$("#enable-parameter").prop("checked",!1),e.Result?($(".reportparameter-tag").css("display","none"),$("#enable-parameter").prop("disabled",!1)):($("#enable-parameter").prop("disabled",!0),$(".reportparameter-tag").css("display","block"))}})}function scheduleNameValidation(){""!==$.trim($("#schedule-name").val())&&($("#schedule-name").closest("div").removeClass("has-error"),$("#schedule-name-error-container").css("display","none"));var e=$("#schedule-name").val().trim(),t="";t="Create"===actionType?$("#schedule-submit").attr("data-schedule-id"):scheduleId,validateSchedule(this)?""!=$.trim(e)&&e&&scheduleNameCheck(t,e):$("#schedule-name").closest("div").addClass("has-error")}function enableParameterOption(){$(".schedule-popup-body, .subscribe-popup-body").css("display","none"),$(".parameter-popup-body").fadeIn(),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$(".schedule-dialog .modal-body #time-intervals-div").css("display","none"),$("#schedule-back").css("display","inline"),$("#schedule-next").addClass("recurrence-class-body"),$("#windowCaption").text(window.Server.App.LocalizationContent.ParameterOption),className="parameters-panel",isReportIdChanged&&$(".schedule-dialog").find("#parameters-panel").remove(),$(".schedule-dialog").find("#parameters-panel").length<=0&&scheduleParameterPost(url,className)}function enablePasswordOption(){$(".schedule-popup-body").css("display","none"),$(".schedule-password-body").fadeIn(),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$(".schedule-dialog .modal-body #time-intervals-div").css("display","none"),$(".schedule-dialog .modal-body #email-editor-panel").css("display","none"),$(".subscribe-popup-body").css("display","none"),$("#schedule-back").css("display","inline"),$("#windowCaption").text(window.Server.App.LocalizationContent.PasswordOption),$("#schedule-next").addClass("email-template-body"),$("#schedule-next").removeClass("schedule-settings-password-body"),className="schedule-settings-body",$(".schedule-dialog").find("#schedule-settings-body").length<=0&&schedulePasswordSettingPost(url,className)}function enableEmailEditor(){$("#windowCaption").html(window.Server.App.LocalizationContent.CustomEmailtemplate),$(".schedule-popup-body, #schedule-settings-body").css("display","none"),$(".schedule-dialog .modal-body #time-intervals-div,.schedule-dialog .modal-body #subscribers-panel").css("display","none"),$("#email-editor-panel").fadeIn(),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$("#schedule-next").addClass("subscribe-body"),$("#schedule-next").removeClass("email-template-body"),$("#schedule-back").css("display","inline");var e=GetExportFileSettingInfo();ReportName=$("#selected_dashboard").children("option:selected").text(),CategoryName=$("#selected_category").children("option:selected").text(),ScheduleName=$("#schedule-name").val(),className="email-editor-panel",$(".schedule-dialog").find("#email-editor-panel").length<=0&&scheduleemailcontentpost(url,className),$(".schedule-dialog").find("#email-editor-panel").length>0&&(e.IsCompressionEnabled&&e.IsPasswordProtected?$("#email-editor-panel").find("#passwordhint").length<=0&&$("#email-editor-panel").append("<div id='passwordhint' style='position: absolute;top: 485px;'><span><strong>"+window.Server.App.LocalizationContent.Note+"</strong>"+window.Server.App.LocalizationContent.PasswordHintMessage+"</span ></div >"):$("#email-editor-panel").find("#passwordhint").remove())}function scheduleemailcontentpost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){$(".modal-body").append(e),$("#variable-drop-box").selectpicker("destroy"),$("#variable-drop-box").selectpicker(),cursorPos=renderSimpleMde("#rte-post");var t="#### **Scheduled Report**\n\n\nHello {:FullName},\n\nPlease find attached the report you requested.\n\nThe schedule {:ScheduleName} has successfully exported the report. You can access it here: {:ReportLink}.\n\n\nRegards,\n\n{:OrganizationName}";emailcontentsettings(),"Create"==actionType?(""==subjectSettings||null==subjectSettings?getsubject():$("#sub_email-text-box").val(subjectSettings),""==bodySettings||null==bodySettings?cursorPos.value(t):cursorPos.value(bodySettings)):(""==subjectSettings||null==subjectSettings?null==Subject||""==Subject?getsubject():$("#sub_email-text-box").val(Subject):null==Subject||""==Subject?$("#sub_email-text-box").val(subjectSettings):$("#sub_email-text-box").val(Subject),""==bodySettings||null==bodySettings?null==emailContent||""==emailContent?cursorPos.value(t):cursorPos.value(emailContent):null==emailContent||""==emailContent?cursorPos.value(bodySettings):cursorPos.value(emailContent));var i=GetExportFileSettingInfo();i.IsCompressionEnabled&&i.IsPasswordProtected&&$("#email-editor-panel").append("<div id='passwordhint' style='position: absolute;top: 485px;'><span><strong>"+window.Server.App.LocalizationContent.Note+"</strong>"+window.Server.App.LocalizationContent.PasswordHintMessage+"</span ></div >"),$(document).on("click",".CodeMirror-code",function(){isEmailcontentChanged=1,emailContent=null}),$(".CodeMirror-code").select(function(){isEmailcontentChanged=1,emailContent=null}),$(document).on("click","#sub_email-text-box",function(){isSubjectcontentChanged=1,Subject=null}),$("#sub_email-text-box").select(function(){isSubjectcontentChanged=1,Subject=null}),parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide")}}))}function emailcontentsettings(){$.ajax({type:"POST",url:getScheduleContentUrl,data:{},async:!1,success:function(e){subjectSettings=""==e.Subject||null==e.Subject?"":e.Subject,bodySettings=""==e.CustomBody||null==e.CustomBody?"":e.CustomBody}})}function getsubject(){$.ajax({type:"POST",url:subjectItem,data:{},async:!1,success:function(e){var t=$("#selected_dashboard").children("option:selected").text();$("#sub_email-text-box").val(e+": "+t)}})}function enableTimeIntervalOption(){$(".schedule-popup-body, #parameters-panel, .subscribe-popup-body").css("display","none"),$("#windowCaption").html(window.Server.App.LocalizationContent.RecurrenceIntervalValidator),$(".schedule-dialog .modal-body #time-intervals-div").css("display","inline"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container,.schedule-dialog #email-editor-panel").css("display","none"),$(".subscribe-popup-body").css("display","none"),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$("#schedule-next").hasClass("time-interval-body")&&$("#schedule-next").removeClass("time-interval-body"),$("#schedule-settings-body").length>0&&$("#schedule-settings-body").css("display","none"),$("#schedule-next").addClass("schedule-settings-password-body"),$("#schedule-next").removeClass("recurrence-class-body"),$("#schedule-back").css("display","inline"),className="schedule-recurrence",$(".schedule-dialog").find("#time-intervals-div").length<=0&&partialPost(url,className),setTimeout(function(){$(".dropdown").find(".btn.dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")})},2e3)}function enableSubscribeOption(){$("#windowCaption").html(window.Server.App.LocalizationContent.ExportFormatValidator),$(".schedule-popup-body").css("display","none"),$(".schedule-dialog .modal-body #email-editor-panel,.schedule-dialog .modal-body #time-intervals-div, #parameters-panel").css("display","none"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","none"),$(".subscribe-popup-body").fadeIn(),$("#next-container").css("display","none"),$("#submit-container").css("display","block"),$("#schedule-back").css("display","inline"),1==isEmailcontentChanged&&(emailContent=cursorPos.value()),0==isEmailcontentChanged&&""!=emailContent&&null!=emailContent&&(emailContent=cursorPos.value()),1==isSubjectcontentChanged&&(Subject=$("#sub_email-text-box").val()),0==isSubjectcontentChanged&&""!=Subject&&null!=Subject&&(Subject=$("#sub_email-text-box").val()),$("#schedule-settings-body").length>0&&$("#schedule-settings-body").css("display","none"),className="subscribers-panel",$(".schedule-dialog").find("#subscribers-panel").length<=0&&partialRecipientListPost(url,className),setTimeout(function(){$(".dropdown").find(".btn.dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")})},2e3)}function enableScheduleOption(){$("#windowCaption").html(window.Server.App.LocalizationContent.TimeBaseSchedule),$(".subscribe-popup-body, #next-container, #submit-container,#time-intervals-div,#parameters-panel").css("display","none"),$(".schedule-popup-body").fadeIn(),$("#next-container").css("display","block"),$("#schedule-back").css("display","none"),$("#schedule-settings-body").length>0&&$("#schedule-settings-body").css("display","none"),($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"),$("#schedule-next").removeClass("schedule-settings-password-body"))}function partialPost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){$(".modal-body").append(e)}}))}function scheduleParameterPost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{itemId:reportParameterItemId,nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){$(".modal-body").append(e)}}))}function partialRecipientListPost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{itemId:reportParameterItemId,nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){if($(".modal-body").append(e),"subscribers-panel"===t){if($(".schedule-dialog #subscribers-panel").css("display","inline"),getAllStaticData(),"Create"==actionType)$("select#user-search option").each(function(e){if($(this).val().toLowerCase()===$("#userName").val().toLowerCase()){var t=$(this).text();$(this).attr("selected",!0),$("#user-search").selectpicker("destroy"),$("#user-search").selectpicker();var i=$("<div>").attr("id",$(this).val()).attr("data-searchtype","userSearch").addClass("SelectedShareItems");i.html("<div class='InstantSearch'><span class='details' title='"+t+"'>"+t+"</span><div style='width:auto' class='instant-cancel'><span class='su su-close i-selected-cancel'/></div></div>"),$("#selected-users").append(i)}}),$.ajax({type:"POST",url:getExportFileSettingInfoUrl,success:function(e){null!==e&&""!==e&&(exportFtpSetting=e.ExportFtpSetting,exportS3Setting=e.ExportS3Setting,(null!==exportFtpSetting&&void 0!==exportFtpSetting||null!==exportS3Setting&&void 0!==exportS3Setting)&&($("#save-as-file").prop("checked",!0).trigger("change"),null!==exportFtpSetting&&void 0!==exportFtpSetting&&exportFtpSetting.IsFTPExportOptionEnabled&&($("#ftp-location-export").prop("checked",exportFtpSetting.IsFTPExportOptionEnabled).trigger("change"),$("#ftp-host-name, #ftp-user-name, #ftp-password").attr("disabled",!1),$("#ftp-host-name").val(exportFtpSetting.FtpURL),$("#ftp-user-name").val(exportFtpSetting.FtpUsername),$("#ftp-password").val(exportFtpSetting.FtpPassword),isFtpSettingsEnabled=!0),null!==exportS3Setting&&void 0!==exportS3Setting&&exportS3Setting.IsS3bucketEnabled&&(null!==exportFtpSetting&&void 0!==exportFtpSetting||($("#s3bucket-location-export").prop("checked",exportS3Setting.IsS3bucketEnabled).trigger("change"),$("#s3-access-key, #s3-bucket-name, #s3-secretkey, #s3-region").attr("disabled",!1)),$("#s3-access-key").val(exportS3Setting.S3Accesskey),$("#s3-bucket-name").val(exportS3Setting.S3BucketName),$("#s3-secretkey").val(exportS3Setting.S3SecretKey),$("#s3-region").val(exportS3Setting.S3Region),$("#s3-region").selectpicker("destroy"),$("#s3-region").selectpicker(),isS3SettingsEnabled=!0)))}});else{for(var i=0;i<subscriberUser.length;i++){$("#user-search option[value='"+subscriberUser[i]+"']").attr("selected",!0),$("#user-search").selectpicker("destroy"),$("#user-search").selectpicker(),$("#user-search-container .bs-select-all-custom, #user-search-container .bs-deselect-all-custom").remove(),$("#user-search-container .bs-deselect-all").after("<div class='bs-select-all-custom'><span>"+window.Server.App.LocalizationContent.Select+"</span><span class='bs-select-custom-tick glyphicon glyphicon-ok'></span></div>");var o=$("#user-search option[value='"+subscriberUser[i]+"']").text(),r=$("<div>").attr("id",subscriberUser[i]).attr("data-searchtype","userSearch").addClass("SelectedShareItems");r.html("<div class='InstantSearch'><span class='details' title='"+o.trim()+"'>"+o.trim()+"</span><div style='width:auto' class='instant-cancel'><span class='su su-close i-selected-cancel'/></div></div>"),$("#selected-users").append(r)}oldUserSelected=$("#user-search").val();for(i=0;i<subscriberGroup.length;i++){$("#group-search option[value='"+subscriberGroup[i]+"']").attr("selected",!0),$("#group-search").selectpicker("destroy"),$("#group-search").selectpicker(),$("#group-search-container .bs-select-all-custom, #group-search-container .bs-deselect-all-custom").remove(),$("#group-search-container .bs-deselect-all").after("<div class='bs-select-all-custom'><span>"+window.Server.App.LocalizationContent.Select+"</span><span class='bs-select-custom-tick glyphicon glyphicon-ok'></span></div>");var n=$("#group-search option[value='"+subscriberGroup[i]+"']").text(),a=$("<div>").attr("id",subscriberGroup[i]).attr("data-searchtype","groupSearch").addClass("SelectedShareItems");a.html("<div class='InstantSearch'><span class='details' title='"+n.trim()+"'>"+n.trim()+"</span><div style='width:auto' class='instant-cancel'><span class='su su-close i-selected-cancel'/></div></div>"),$("#selected-users").append(a)}oldGroupSelected=$("#group-search").val();for(i=0;i<subscriberExternalRecipient.length;i++){var s=subscriberExternalRecipient[i],l=$("<div>").attr("id",subscriberExternalRecipient[i]).attr("data-searchtype","externalRecipient").addClass("SelectedShareItems");l.html("<div class='InstantSearch'><span class='details'title='"+s+"'>"+s+"</span><div style='width:auto' class='instant-cancel'><span class='su su-close i-selected-cancel'/></div></div>"),$("#selected-users").append(l)}var d=$("#group-search-container .bootstrap-select li.selected").length,c=$("#group-search-container .bootstrap-select li").length,p=$("#user-search-container .bootstrap-select li.selected").length,u=$("#user-search-container .bootstrap-select li").length;d===c&&$("#group-search-container .bs-select-all-custom").removeClass("bs-select-all-custom").addClass("bs-deselect-all-custom"),p===u&&$("#user-search-container .bs-select-all-custom").removeClass("bs-select-all-custom").addClass("bs-deselect-all-custom"),$("#pdf-export").prop("checked","pdf"===item.ExportType.toLowerCase()),$("#excel-export").prop("checked","excel"===item.ExportType.toLowerCase()),$("#word-export").prop("checked","word"===item.ExportType.toLowerCase()),$("#html-export").prop("checked","html"===item.ExportType.toLowerCase()),$("#ppt-export").prop("checked","ppt"===item.ExportType.toLowerCase()),$("#csv-export").prop("checked","csv"===item.ExportType.toLowerCase()),$("#xml-export").prop("checked","xml"===item.ExportType.toLowerCase()),$("#schedule-submit").attr("data-schedule-id",scheduleId),$("#save-as-file").prop("checked",item.IsSaveAsFile),$("#enable-send-mail").prop("checked",item.IsSendAsMail),$("#enable-send-mail").is(":checked")&&($(".reply-to-send-mail-block").removeClass("d-none"),$("#reply-to-email").val(item.ReplytoEmail)),item.IsSaveAsFile?($(".save-as-file-type").css("display","block"),$("#local-export-div").css("display","block")):$(".save-as-file-type").css("display","none"),$("#export-path").val(decodeHtmlAsString(item.ExportPath)),$("#max-report-count").val(item.ReportCount),$("#notify-users").prop("checked",item.IsNotifySaveAs),$("#overwrite-file").prop("checked",item.IsOverwrite),scheduleRecurrenceInfo.FailureNotificationToOwner&&$("#enable-notification-to-owner").prop("checked",!0),scheduleRecurrenceInfo.FailureNotificationToRecipient&&$("#enable-notification-to-recipient").prop("checked",!0),null!==exportFtpsettingInEdit&&void 0!==exportFtpsettingInEdit&&exportFtpsettingInEdit.IsFTPExportOptionEnabled&&(isFtpSettingsEnabled=!0,$("#ftp-location-export").prop("checked",exportFtpsettingInEdit.IsFTPExportOptionEnabled).trigger("change"),$("#save-as-file").prop("checked",exportFtpsettingInEdit.IsFTPExportOptionEnabled).trigger("change"),$("#ftp-host-name, #ftp-user-name, #ftp-password").attr("disabled",!1),$("#ftp-host-name").val(exportFtpsettingInEdit.FtpURL),$("#ftp-user-name").val(exportFtpsettingInEdit.FtpUsername),$("#ftp-password").val(exportFtpsettingInEdit.FtpPassword)),null!==exportS3settingInEdit&&void 0!==exportS3settingInEdit&&exportS3settingInEdit.IsS3bucketEnabled&&(isS3SettingsEnabled=!0,$("#s3bucket-location-export").prop("checked",exportS3settingInEdit.IsS3bucketEnabled).trigger("change"),$("#save-as-file").prop("checked",exportS3settingInEdit.IsS3bucketEnabled).trigger("change"),$("#s3-access-key, #s3-bucket-name, #s3-secretkey, #s3-region").attr("disabled",!1),$("#s3-access-key").val(exportS3settingInEdit.S3Accesskey),$("#s3-bucket-name").val(exportS3settingInEdit.S3BucketName),$("#s3-secretkey").val(exportS3settingInEdit.S3SecretKey),$("#s3-region").val(exportS3settingInEdit.S3Region),$("#s3-region").selectpicker("destroy"),$("#s3-region").selectpicker())}selectedItemsCount(),validateExternalRecipient(),addTitleForUsersAndGroups()}parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"),parent.$("#popup-container_wrapper").ejWaitingPopup("hide")}}))}function schedulePasswordSettingPost(e,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:e,data:{itemId:reportParameterItemId,nonce:schedulerDialogNonce},cache:!1,dataType:"html",success:function(e){if($(".modal-body").append(e),"schedule-settings-body"===t){if($(".schedule-dialog #schedule-settings-body").css("display","inline"),"Create"===actionType){var i="";$.ajax({type:"POST",url:getExportFileSettingInfoUrl,success:function(e){if(null!==e&&""!==e)if(null!=(i=e.ExportFileSetting)){for(var t=i.PasswordProtocols.PasswordKeyProtocol.length,o=1;o<=t;o++){var r=$(".password-condition-section:nth-child("+o+")");r.length||(AddNewElementAndIntialize(),r=$(".password-condition-section:nth-child("+o+")")),r.find(".field-key-position").prop("disabled",!1),r.find(".field-key-position").find("option[value='"+i.PasswordProtocols.PasswordKeyProtocol[o-1].FieldKeyPosition+"']").prop("selected","selected"),r.find(".field-key-position").selectpicker("destroy"),r.find(".field-key-position").selectpicker();var n=r.find(".field-key-count")[0].ej2_instances[0];n.enabled=!0,n.value=i.PasswordProtocols.PasswordKeyProtocol[o-1].NumberOfFieldKeys,r.find(".field-key").prop("disabled",!1),r.find(".field-key").find("option[value='"+i.PasswordProtocols.PasswordKeyProtocol[o-1].FieldKey+"']").prop("selected","selected"),r.find(".field-key").selectpicker("destroy"),r.find(".field-key").selectpicker()}if("CustomPassword"===i.PasswordType)$("#custom-password").prop("checked",!0).trigger("change"),$("#password-condition-container").show(),$("#default-password-info").hide();else $("#default-password").prop("checked",!0).trigger("change"),$("#password-condition-container").hide(),$("#default-password-info").show();$("#enable-password-protection").prop("checked",i.IsPasswordProtected).trigger("change"),$("#enable-compression").prop("checked",i.IsCompressionEnabled).trigger("change"),$("#password-condition-section").find(".password-condition-section").length>=3&&$(".pwd-condition-btn").addClass("pointer-events")}else $("#default-password").prop("checked",!0).trigger("change"),$("#password-condition-container").hide(),$("#default-password-info").show(),$("#enable-password-protection").prop("checked",!1).trigger("change"),$("#enable-compression").prop("checked",!1).trigger("change")},error:handleAjaxError()})}if("Edit"===actionType)if(null!==exportFilesettingInEdit&&void 0!==exportFilesettingInEdit){for(var o=exportFilesettingInEdit.PasswordProtocols.PasswordKeyProtocol.length,r=1;r<=o;r++){var n=$(".password-condition-section:nth-child("+r+")");n.length||(AddNewElementAndIntialize(),n=$(".password-condition-section:nth-child("+r+")")),n.find(".field-key-position").prop("disabled",!1),n.find(".field-key-position").find("option[value='"+exportFilesettingInEdit.PasswordProtocols.PasswordKeyProtocol[r-1].FieldKeyPosition+"']").prop("selected","selected"),n.find(".field-key-position").selectpicker("destroy"),n.find(".field-key-position").selectpicker();var a=n.find(".field-key-count")[0].ej2_instances[0];a.enabled=!0,a.value=exportFilesettingInEdit.PasswordProtocols.PasswordKeyProtocol[r-1].NumberOfFieldKeys,n.find(".field-key").prop("disabled",!1),n.find(".field-key").find("option[value='"+exportFilesettingInEdit.PasswordProtocols.PasswordKeyProtocol[r-1].FieldKey+"']").prop("selected","selected"),n.find(".field-key").selectpicker("destroy"),n.find(".field-key").selectpicker()}if("CustomPassword"===exportFilesettingInEdit.PasswordType)$("#custom-password").prop("checked",!0).trigger("change"),$("#password-condition-container").show(),$("#default-password-info").hide();else $("#default-password").prop("checked",!0).trigger("change"),$("#password-condition-container").hide(),$("#default-password-info").show();$("#enable-password-protection").prop("checked",exportFilesettingInEdit.IsPasswordProtected).trigger("change"),$("#enable-compression").prop("checked",exportFilesettingInEdit.IsCompressionEnabled).trigger("change"),$("#password-condition-section").find(".password-condition-section").length>=3&&$(".pwd-condition-btn").addClass("pointer-events")}else $("#default-password").prop("checked",!0).trigger("change"),$("#password-condition-container").hide(),$("#default-password-info").show(),$("#enable-password-protection").prop("checked",!1).trigger("change"),$("#enable-compression").prop("checked",!1).trigger("change")}parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"),parent.$("#popup-container_wrapper").ejWaitingPopup("hide")}}))}function refreshScheduleGridItem(e){for(var t=$("#scheduleGrid").data("ejGrid"),i=0;i<t.model.currentViewData.length;i++)t.model.currentViewData[i].Id==e&&$("span span[data-scheduleid ="+e+"]").removeClass("loader-gif").addClass("su-play-folder")}function editSchedule(e,t,i,o){reportParameterItemId=e,reportItemId=t,reportCategoryName=o,reportItemName=i,createdItemId=t,""!==i?$(".schedule-popup-title").html(" "+i+" - Schedule"):$(".schedule-popup-title").html(" "+i+" Schedule"),$(".schedule-popup-title").attr("title",i),scheduleId=e,reportItemName=i;[].push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});$.ajax({type:"POST",url:getScheduleInfoUrl,data:{scheduleId:e},success:function(e){if(parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"),item=e.ScheduleItem,$("#enable-schedule").prop("checked",item.IsEnabled),$("#enable-parameter").prop("checked",item.IsParameterEnabled),$("#nodata-disable").prop("checked",item.IsNoDataEnabled),recurrence=item.RecurrenceType,endType=item.EndType,endDate=item.EndDateString,endAfter=item.EndAfter,startDate=item.StartDateString,Subject=item.Subject,emailContent=item.EmailContent,createdItemId=item.ItemId,itemRecurrence=item.Recurrence,"hourly"===recurrence.toLowerCase()&&(frequency=item.Recurrence.HourlySchedule.MinutesInterval),exportType=item.ExportType,subscriberExternalRecipient=e.SubscribedExternalRecipient,subscriberGroup=e.SubscribedGroup,subscriberUser=e.SubscribedUser,scheduleRecurrenceInfo=item.Recurrence,exportFilesettingInEdit=e.ExportFileSetting,exportFtpsettingInEdit=e.ExportFtpSetting,exportS3settingInEdit=e.ExportS3Setting,$("#schedule-name").val(item.Name),item.IsEnabled||$("#enable-schedule").prop("checked",""),""!=$("#export-filename").val(item.ExportFileName)?($("#export-filename").prop("disabled",!1),$("#export-filename").val(item.ExportFileName)):$("#export-filename").prop("disabled",!0),isSelfHosted)for(var t=item.ExportFileName.split("-"),i=/{\:(.*?)\}/,o=0;o<t.length;o++){var r=t[o].match(i);null!=r&&$("#file-template-variable-drop-box option[value='"+r[1]+"']").attr("selected",!0),$("#file-template-variable-drop-box").selectpicker("destroy"),$("#file-template-variable-drop-box").selectpicker()}}})}function refreshConditionCategory(){$(".condition-category-changes").find("select").html(""),$(".condition-category-changes").find("select").append('<option value="5" data-title="'+window.Server.App.LocalizationContent.ValueChange+'" name="ValueChanges" selected="selected">'+window.Server.App.LocalizationContent.ValueChangeOption+'</option><option value="1" data-title="'+window.Server.App.LocalizationContent.Increases+'" name="Increases">'+window.Server.App.LocalizationContent.IncreasesOption+'</option><option value="2" data-title="'+window.Server.App.LocalizationContent.ContinousIncreases+'" name="ContinousIncreases">'+window.Server.App.LocalizationContent.ContinousIncreasesOption+'</option><option value="3" data-title="'+window.Server.App.LocalizationContent.Decreases+'" name="Decreases">'+window.Server.App.LocalizationContent.DecreasesOption+'</option><option value="4" data-title="'+window.Server.App.LocalizationContent.ContinousDecreases+'" name="ContinousDecreases">'+window.Server.App.LocalizationContent.ContinousDecreasesOption+"</option>").selectpicker("destroy"),$(".condition-category-changes").find("select").append('<option value="5" data-title="'+window.Server.App.LocalizationContent.ValueChange+'" name="ValueChanges" selected="selected">'+window.Server.App.LocalizationContent.ValueChangeOption+'</option><option value="1" data-title="'+window.Server.App.LocalizationContent.Increases+'" name="Increases">'+window.Server.App.LocalizationContent.IncreasesOption+'</option><option value="2" data-title="'+window.Server.App.LocalizationContent.ContinousIncreases+'" name="ContinousIncreases">'+window.Server.App.LocalizationContent.ContinousIncreasesOption+'</option><option value="3" data-title="'+window.Server.App.LocalizationContent.Decreases+'" name="Decreases">'+window.Server.App.LocalizationContent.DecreasesOption+'</option><option value="4" data-title="'+window.Server.App.LocalizationContent.ContinousDecreases+'" name="ContinousDecreases">'+window.Server.App.LocalizationContent.ContinousDecreasesOption+"</option>").selectpicker(),$("#selected-option").selectpicker("destroy"),$("#selected-option").selectpicker();for(var e=0;e<$(".condition-category-changes select option").length;e++){var t=$(".condition-category-changes select option").eq(e).attr("data-title");$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr({title:t,"data-bs-toggle":"tooltip","data-container":"body","data-bs-placement":"right"})}$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li a").tooltip()}function addTitleForWidgets(){$("#selected-items").selectpicker("destroy"),$("#selected-items").selectpicker();for(var e=0;e<$(".items-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".items-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".items-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function addTitleForUsersAndGroups(){$("#user-search").selectpicker("destroy"),$("#user-search").selectpicker(),$("#user-search-container .bs-select-all-custom, #user-search-container .bs-deselect-all-custom").remove(),$("#user-search-container .bs-deselect-all").after("<div class='bs-select-all-custom'><span>"+window.Server.App.LocalizationContent.Select+"</span><span class='bs-select-custom-tick glyphicon glyphicon-ok'></span></div>");for(var e=0;e<$("#user-search-container .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a").attr("title",t)}$("#group-search").selectpicker("destroy"),$("#group-search").selectpicker(),$("#group-search-container .bs-select-all-custom, #group-search-container .bs-deselect-all-custom").remove(),$("#group-search-container .bs-deselect-all").after("<div class='bs-select-all-custom'><span>"+window.Server.App.LocalizationContent.Select+"</span><span class='bs-select-custom-tick glyphicon glyphicon-ok'></span></div>");for(e=0;e<=$("#group-search-container .btn-group .dropdown-menu  li").length;e++){t=$("#group-search-container .btn-group .dropdown-menu  li").eq(e).find("a .text").text();$("#group-search-container .btn-group .dropdown-menu li ").eq(e).find("a").attr("title",t)}}function addTitleForRecurrenceType(){$("#recurrence-type").selectpicker("destroy"),$("#recurrence-type").selectpicker(),$("#recurrence-type-container").find(".dropdown-menu").addClass("dropdown-height");for(var e=0;e<$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#monthly-dow-week").selectpicker("destroy"),$("#monthly-dow-week").selectpicker();for(e=0;e<$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#monthly-dow-day").selectpicker("destroy"),$("#monthly-dow-day").selectpicker(),$("#monthly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-dow-week").selectpicker("destroy"),$("#yearly-dow-week").selectpicker();for(e=0;e<$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-dow-day").selectpicker("destroy"),$("#yearly-dow-day").selectpicker(),$("#yearly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-dow-month").selectpicker("destroy"),$("#yearly-dow-month").selectpicker(),$("#yearly-dow-month-ccontainer").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-month").selectpicker("destroy"),$("#yearly-month").selectpicker(),$("#yearly-month").next("div").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}$(document).ready(function(){dateFormat=$("#dateFormat").val(),timeFormat=$("#timeFormat").val(),$(".category-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.LocalizationContent.SearchCategories),$(".dashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.LocalizationContent.SearchDashboards),$(".childdashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.LocalizationContent.SearchTabs)}),$(document).on("click","#schedule-submit-cancel,#schedule-popup,#schedule-next-cancel",function(e){closePopupContainer()}),$(document).keyup(function(e){27===e.keyCode&&closePopupContainer()}),$(document).on("change","#selected_category",function(){reportCategoryName="",itemName="";var e=$(this).find("option:selected").text();$(this).find("option:selected").val();""!==$(this).find("option:selected").val()&&""===$(this).find("option:selected").val()||($(".schedule-popup-title").html(window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title","")),$("#selected_dashboard").attr("disabled",!0),$(".dashboard-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-category-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>"));var t=[];t.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:e});var i=void 0;null!==itemId&&(listDashboards=""),$.ajax({type:"POST",url:getReportUrl,data:{searchKey:i,skip:null,take:null,sorted:i,filterCollection:t,displayCategory:"SpecificCategory",getAllItems:!0},success:function(e,t){$("#selected_dashboard").attr("disabled",!1),$(".dashboard-dropdown span.loader-gif").remove();for(var i=e.result,o=0;o<i.length;o++)i[o].IsMultiDashboard||(listDashboards+='<option value="'+i[o].Id+'">'+i[o].Name+"</option>");$("#selected_dashboard").html(""),$("#selected_dashboard").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.LocalizationContent.SelectDashboard+"</option>"+listDashboards).selectpicker("destroy"),$("#selected_dashboard").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.LocalizationContent.SelectDashboard+"</option>"+listDashboards).selectpicker(),addTitleForDashboard()}}),""!==$("#selected_category option:selected").val()&&$("#category-message").css("display","none")}),$(document).on("change","#selected_dashboard",function(){var e=$(this).find("option:selected").text(),t=$(this).find("option:selected").val();createdItemId=t;[].push({PropertyName:"Name",FilterType:"equals",FilterKey:e}),""!==t?($(".schedule-popup-title").html(" "+e+" -"+window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title",e)):($(".schedule-popup-title").html(window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title","")),$(".items-dropdown select").html(""),$(".items-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-dashboard-items-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".items-dropdown").find("select").attr("disabled",!0),$("#schedule-submit").attr("data-report-id",t),$("#schedule-submit").attr("data-item-id",t),""!==$("#selected_dashboard option:selected").val()&&$("#dashboard-message").css("display","none"),isReportHasParameter(t)}),$(document).on("focusout","#schedule-name",function(e){scheduleNameValidation()}),$(document).on("keyup","#schedule-name",function(e){scheduleNameValidation()}),$(document).on("focusout","#export-filename",function(e){""!=$("#export-filename").val()&&"null"!=$("#export-filename").val||($("#export-filename").prop("disabled",!0),$("#export-filename-error-message").removeClass("hide").addClass("show"))}),$(document).on("keyup","#export-filename",function(e){""!=$("#export-filename").val()&&"null"!=$("#export-filename").val||($("#export-filename").prop("disabled",!0),$("#export-filename-error-message").removeClass("hide").addClass("show"))}),$(document).on("click","#schedule-next",function(e){if($(this).hasClass("schedule-settings-password-body")||$(this).hasClass("email-template-body")||$(this).hasClass("subscribe-body")?validateScheduleRecurrence(this):validateSchedule(this))if("block"===$("#frequency").css("display")&&(isSandbox?$("#recurrence-type option[value='Daily']").attr("selected","selected"):$("#recurrence-type option[value='Hourly']").attr("selected","selected"),$("#recurrence-type").selectpicker("destroy"),$("#recurrence-type").selectpicker()),$(this).hasClass("time-interval-body"))url=recurrenceType,enableTimeIntervalOption();else if($(this).hasClass("subscribe-body")){if($("#error-filedkey-info").remove(),null===GetExportFileSettingInfo())return;url=scheduleRecipients,enableSubscribeOption()}else if($(this).hasClass("schedule-settings-password-body"))url=passwordOptions,validateNextSchedule(),$("#schedule-next").prop("disabled",!1);else if($(this).hasClass("email-template-body")){if(url=emailEditor,$("#error-filedkey-info").remove(),0==GetExportFileSettingInfo()){var t=CreateFieldKeyErrorElement();$(t).appendTo($("#password-condition-section")),hideWaitingPopup($("#body")),$("#schedule-next").prop("disabled",!1)}else enableEmailEditor()}else $(this).hasClass("recurrence-class-body")?(url=recurrenceType,enableTimeIntervalOption()):$("#enable-parameter").prop("checked")?(url="Edit"===actionType?isReportIdChanged?getSchedulerParameter:editSchedulerParameter:getSchedulerParameter,void 0!==parameterObj&&0===parameterObj.length?(url=recurrenceType,enableTimeIntervalOption()):enableParameterOption()):(url=recurrenceType,enableTimeIntervalOption())}),$(document).on("click","#schedule-back",function(e){"none"===$("#schedule-next").parent("div").css("display")?enableEmailEditor():$("#schedule-next").hasClass("schedule-settings-password-body")?($("#enable-parameter").prop("checked")?0===parameterObj.length?enableScheduleOption():(url=getSchedulerParameter,enableParameterOption()):enableScheduleOption(),$("#schedule-next").removeClass("schedule-settings-password-body")):$("#schedule-next").hasClass("recurrence-class-body")?(enableScheduleOption(),$("#schedule-next").removeClass("recurrence-class-body")):$("#schedule-next").hasClass("email-template-body")?(enableTimeIntervalOption(),$("#schedule-next").removeClass("email-template-body")):$("#schedule-next").hasClass("subscribe-body")&&(enablePasswordOption(),$("#schedule-next").removeClass("subscribe-body"))}),$(document).on("change","#variable-drop-box",function(){cursorPos.codemirrorIgnore;var e=cursorPos.codemirror.getCursor();initialPosition=e;var t=e.line,i=e.ch,o=cursorPos.codemirror.getLine(t);initialLine=o;var r=o.length;cursorPos.codemirror.setSelection({line:t,ch:0},{line:t,ch:r}),cursorPos.codemirror.replaceSelection(initialLine),cursorPos.codemirror.setSelection({line:t,ch:i},{line:t,ch:i});$(":selected",this);var n="Expression"==$("#variable-drop-box").val()?"=":$("#variable-drop-box").val();cursorPos.codemirror.replaceSelection("{:"+n+"}"),$("#variable-drop-box").val(null).selectpicker("destroy"),$("#variable-drop-box").val(null).selectpicker()}),$(document).on("click",".file-template",function(e){e.stopPropagation()}),$(document).on("changed.bs.select","#file-template-variable-drop-box",function(e,t,i,o){const r=$(this).val();if(r&&r.length>0){const e=r.map(e=>`{:${e}}`).join("-");$("#export-filename").val(e).prop("disabled",!1),$("#export-filename-error-message").removeClass("show").addClass("hide")}else $("#export-filename").val("").prop("disabled",!0),$("#export-filename-error-message").removeClass("hide").addClass("show")}),$("#scheduleSearch_global").on("keyup","#scheduleSearch_formfield",function(){var e=$(this).val();e.length>2?$("#scheduleGrid").data("ejGrid").search(e):$("#scheduleGrid").data("ejGrid").search("")});var listCategories="";function EnablePasswordProtectionSection(){$("#enable-password-protection").is(":checked")&&($("#default-password, #custom-password").prop("disabled",!1),$("#custom-password").is(":checked")&&!$("#custom-password").hasClass("disabled")?EnablePasswordConditionSection():DisablePasswordConditionSection())}function DisablePasswordProtectionSection(){$("#default-password, #custom-password").prop("disabled",!0),DisablePasswordConditionSection()}function EnablePasswordConditionSection(){$(".select-picker").removeAttr("disabled").selectpicker("destroy"),$(".select-picker").removeAttr("disabled").selectpicker(),$(".numeric-text-box").each(function(){$(this)[0].ej2_instances[0].enabled=!0}),$("#password-condition-section").find(".password-condition-section").length<3&&$(".pwd-condition-btn").removeClass("pointer-events"),$(".remove-condition-btn").removeClass("pointer-events")}function DisablePasswordConditionSection(){$(".select-picker").attr("disabled",!0).selectpicker("destroy"),$(".select-picker").attr("disabled",!0).selectpicker(),$(".numeric-text-box").each(function(){$(this)[0].ej2_instances[0].enabled=!1}),$(".pwd-condition-btn, .remove-condition-btn").addClass("pointer-events")}function initializeFileSetting(e){var t="",i="";$.ajax({type:"POST",url:getScheduleFileSettingTypeUrl,async:!1,success:function(e){for(var o=0;o<e.FieldKeyPosition.length;o++)t+="<option value= "+e.FieldKeyPosition[o]+">"+e.FieldKeyPosition[o]+"</option>";for(var r=0;r<e.FieldKey.length;r++)i+="<option value= '"+e.FieldKey[r]+"'>"+e.FieldKey[r]+"</option>"},complete:function(){}});for(var o=$("#password-condition-section").find(".password-condition-section").length,r=e;r<=o;r++){var n=$(".password-condition-section:nth-child("+r+")");n.find(".field-key-position").append(t),new ejs.inputs.NumericTextBox({name:"numeric",value:4,min:4,max:8,width:"110px",format:"#",cssClass:"numeric-text-box-height"}).appendTo(n.find(".field-key-count")[0]),n.find(".field-key").append(i),n.find(".field-key, .field-key-position").selectpicker("destroy"),n.find(".field-key, .field-key-position").selectpicker()}}function createPasswordConditionElement(){return'<div class="password-condition-section col-lg-12 col-md-12 col-sm-12 cls-margin-bot pointer-events"><div class="i-search-fields float-start"><select data-width="50px" class="select-picker no-padding field-key-position" data-size="2"></select></div><div class="float-start cls-margin"><input class="form-control field-key-count float-start numeric-text-box" name="field-key-count" /></div><div class="float-start"><label class="float-start app-textbox-label no-margin" for="field-key-label">'+window.Server.App.LocalizationContent.CharacterOf+'</label><div class="i-search-fields  float-start cls-padleft10"><select class="select-picker field-key" data-width="100px" data-size="4"></select></div></div><span id="remove-pwd-condition" class="su-close remove-condition-btn app-textbox-label no-margin" data-bs-toggle="tooltip" data-bs-placement="right" title="'+window.Server.App.LocalizationContent.RemoveSlide+'"></span></div>'}function CreateFieldKeyErrorElement(){return'<span class="col-lg-8 col-md-8 col-sm-8" id="error-filedkey-info">'+window.Server.App.LocalizationContent.CustomPasswordCondition+"</span>"}function AddNewElementAndIntialize(){var e="",t=$("#password-condition-section").find(".password-condition-section").length;$("#password-condition-section").find(".password-condition-section").length<3&&(e=createPasswordConditionElement(),$(e).appendTo($("#password-condition-section")),initializeFileSetting(t+1),$(".password-condition-section").removeClass("pointer-events")),$('[data-bs-toggle="tooltip"]').tooltip()}function GetExportFileSettingInfo(){for(var e={},t=[],o=$("#password-condition-section").find(".password-condition-section").length,r=1;r<=o;r++){var n=$(".password-condition-section:nth-child("+r+")"),a={};a.FieldKeyPosition=n.find("select.field-key-position").val(),a.NumberOfFieldKeys=n.find(".field-key-count").val(),a.FieldKey=n.find("select.field-key").val(),t.push(a)}if(e.IsCompressionEnabled=$("#enable-compression").is(":checked"),e.IsPasswordProtected=$("#enable-password-protection").is(":checked"),$("#enable-compression").is(":checked")&&$("#enable-password-protection").is(":checked")&&$("#custom-password").is(":checked")){e.PasswordType="CustomPassword";var s=t,l=!1;for(i=0;i<s.length;i++)"first name"!==s[i].FieldKey.toLowerCase()&&"email"!==s[i].FieldKey.toLowerCase()||(l=!0);if(!l)return!1}else e.PasswordType="DefaultPassword";return e.PasswordProtocols={PasswordKeyProtocol:t},e}function exportPathExistCheck(e){$.ajax({type:"POST",url:exportPathExistUrl,async:!1,data:{exportPath:e},success:function(e){if(!e.Result)return $(".directory-check").css("display","block"),$(".directory-check").addClass("directory-exist"),void $(".directory-check").html(window.Server.App.LocalizationContent.pathNotExist).css({color:"#a94442","font-size":"12px"});$(".directory-check").removeClass("directory-exist"),$(".directory-check").css("display","none")}})}function getItemDetailFromName(e,t){for(var i=0;i<e.length;i++){if(e[i].Name===t)return e[i];if(e[i].SubCategory&&e[i].SubCategory.length>0){var o=getItemDetailFromName(e[i].SubCategory,t);if(o)return o}}return null}function scheduleCategoryValueChange(e){for(var t=document.querySelector(".e-dropdowntree").ej2_instances[0],i=$(".e-list-item[aria-selected='true']"),o=parseInt(i.attr("aria-level")),r=[],n=1;n<o;n++){var a=i.closest(".e-list-item[aria-level='"+n+"']").find(".e-list-text")[0].innerText;r.push(a)}r.push(t.currentText);var s=r.join(" / ");e.find("input.e-dropdowntree").val(s),""!=$("#selected_dashboard").find("option:selected").val()&&$(".schedule-dialog").find("#selected_category_hidden option:selected").text()==reportCategoryName||getDashboardOncategoryChange()}function getDashboardOncategoryChange(){reportCategoryName="",reportItemName="",widgetItemId="",isWidgetChanged=!0;var e=$(".schedule-dialog").find("#selected_category_hidden option:selected").text(),t=$(".schedule-dialog").find("#selected_category_hidden option:selected").val();""!=$(".schedule-dialog").find("#selected_category_hidden option:selected").val()&&""==$(".schedule-dialog").find("#selected_category_hidden option:selected").val()||($(".schedule-popup-title").html(window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title","")),$("#selected_dashboard").attr("disabled",!0),$("#dashboard-dropdown.dashboard-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-category-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>"));var i=[];i.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:e});var o=void 0;null!=itemId&&(listDashboards="",listWidgets="",listViews=""),$.ajax({type:"POST",url:getReportUrl,data:{searchKey:o,skip:0,take:20,sorted:o,filterCollection:i,displayCategory:"SpecificCategory",isScheduleRequest:!0},success:function(e,i){$("#selected_dashboard").attr("disabled",!1),$("#dashboard-dropdown.dashboard-dropdown span.loader-gif").remove();for(var o=e.result,r=0;r<o.length;r++)o[r].CategoryId!=t||o[r].IsMultiDashboard||(listDashboards+='<option value="'+o[r].Id+'">'+o[r].Name+"</option>");$("#selected_dashboard, #selected_childdashboard, #selected_widget , #selected_view").html(""),$("#selected_dashboard").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.LocalizationContent.SelectDashboard+"</option>"+listDashboards).selectpicker("refresh"),$("#selected_childdashboard").attr("disabled",!0),$("#selected_childdashboard").html('<option value="" selected="selected" class="hide-option" disabled="disabled">'+window.Server.App.LocalizationContent.SelectDashboard+"</option>").selectpicker("refresh"),$("#selected_widget").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.LocalizationContent.SelectWidget+"</option>"+listWidgets).selectpicker("refresh"),$("#selected_view").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.LocalizationContent.SelectView+"</option>"+listViews).selectpicker("refresh"),addTitleForDashboard()}}),""!=$("#selected_category option:selected").val()&&$("#category-message").css("display","none")}function initializeCategoryDropdown(){[].push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName.replace(/'/g,"''")});$.ajax({type:"POST",url:getCategoryUrl,success:function(e){categoryList=e.data,getCategoryDropdown(categoryList)}}),"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("show"):parent.$("#popup-container_wrapper").ejWaitingPopup("show"),setTimeout(function(){hideCategoryLoader()},5e3),$("#dashboard-dropdown .dropdown-toggle, .widget-dropdown .dropdown-toggle, #views-dropdown .dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")}),$("#dashboard-dropdown .dropdown-menu.open").hide()}function getCategories(e){categoryList=e.Data,getCategoryDropdown(categoryList)}function getCategoryDropdown(e){var t=$(".schedule-dialog"),i=getItemDetailFromId(e,reportCategoryName);new ejs.dropdowns.DropDownTree({fields:{dataSource:e,value:"Id",text:"Name",child:"SubCategory"},select:function(){scheduleCategoryValueChange(t)},allowFiltering:!0,value:isNullOrWhitespace(reportCategoryName)||null==i?"":[i.Id],placeholder:window.Server.App.LocalizationContent.SelectCategory,destroyPopupOnHide:!1,showClearButton:!1}).appendTo("#selected_category")}function hideCategoryLoader(){$(".category-dropdown").find(".e-ddt.e-input-group").length>0?("undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"):parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),"undefined"!=typeof canDisableCategoryChange&&canDisableCategoryChange&&$(".category-dropdown .e-input-group,.category-dropdown .e-input-group-icon").addClass("disable-category")):setTimeout(function(){hideCategoryLoader()},2e3)}function getItemDetailFromId(e,t){for(var i=0;i<e.length;i++){if(e[i].Name===t)return e[i];if(e[i].SubCategory&&e[i].SubCategory.length>0){var o=getItemDetailFromId(e[i].SubCategory,t);if(o)return o}}return null}$(document).on("show.bs.select","#selected_category",function(){if($(".category-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),""===listCategories){$(".category-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='category-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".category-dropdown .bootstrap-select .open").hide();[].push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});$.ajax({type:"POST",url:getCategoryUrl,success:function(e){for(var t=e,i=0;i<t.data.length;i++)t.data[i].Name==reportCategoryName?listCategories+='<option value="'+t.data[i].Id+'" selected= "selected">'+t.data[i].Name+"</option>":listCategories+='<option value="'+t.data[i].Id+'">'+t.data[i].Name+"</option>";$("#selected_category").html(""),""==reportItemId?($("#selected_category").html('<option value="" disabled="disabled" class="hide-option" selected="selected">'+window.Server.App.LocalizationContent.SelectCategory+"</option>"+listCategories).selectpicker("destroy"),$("#selected_category").html('<option value="" disabled="disabled" class="hide-option" selected="selected">'+window.Server.App.LocalizationContent.SelectCategory+"</option>"+listCategories).selectpicker()):($("#selected_category").html(listCategories).selectpicker("destroy"),$("#selected_category").html(listCategories).selectpicker()),addTitleForCategory(),$(".category-dropdown .bootstrap-select ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")}),""!=listCategories&&$(".category-dropdown .bootstrap-select .open").show(),$(".category-dropdown span.loader-gif").remove()}})}$(".category-dropdown").find(".open").addClass("dropdown-alignment")}),$(document).on("change",".dashboard-dropdown",function(){if($(".dashboard-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),""===$("#selected_category").find("option:selected").val()&&null===multiDashboardName)$("#category-message").css("display","block"),$("#selected_dashboard").attr("disabled",!1);else if(""==listDashboards){$(".dashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='dashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".dashboard-dropdown .bootstrap-select .open").hide();var e=[];e.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});var t=$(".schedule-dialog").find("#selected_category_hidden option:selected").val(),i=void 0;""!=reportItemId&&""==reportItemId||""==itemName||""==reportCategoryName?($("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.LocalizationContent.SelectDashboard+"</option>").selectpicker("destroy"),$("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.LocalizationContent.SelectDashboard+"</option>").selectpicker(),$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown .btn-group .dropdown-menu.open").removeAttr("style"),$(".dashboard-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden"),$(".dashboard-dropdown span.loader-gif").remove()):$.ajax({type:"POST",url:getReportUrl,data:{searchKey:i,skip:null,take:null,sorted:i,filterCollection:e,displayCategory:"SpecificCategory",getAllItems:!0},success:function(e,i){for(var o=e.result,r=0;r<o.length;r++)o[r].CategoryId==t&&(listDashboards+=null==multiDashboardName||"undefined"==multiDashboardName||""==multiDashboardName?o[r].Name.toLowerCase()==itemName.toLowerCase()?'<option value="'+o[r].Id+'" selected=selected>'+o[r].Name+"</option>":'<option value="'+o[r].Id+'">'+o[r].Name+"</option>":o[r].Name.toLowerCase()==multiDashboardName.toLowerCase()?'<option value="'+o[r].Id+'" selected=selected>'+o[r].Name+"</option>":'<option value="'+o[r].Id+'">'+o[r].Name+"</option>");$("#selected_dashboard").html(""),""==reportItemId?($("#selected_dashboard").html("<option value='' disabled='disabled' class='hide-option' selected='selected'>"+window.Server.App.LocalizationContent.SelectDashboard+"</option>"+listDashboards).selectpicker("destroy"),$("#selected_dashboard").html("<option value='' disabled='disabled' class='hide-option' selected='selected'>"+window.Server.App.LocalizationContent.SelectDashboard+"</option>"+listDashboards).selectpicker()):($("#selected_dashboard").html(listDashboards).selectpicker("destroy"),$("#selected_dashboard").html(listDashboards).selectpicker()),addTitleForDashboard(),$(".dashboard-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")}),""!=listDashboards&&$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown span.loader-gif").remove()}})}$(".dashboard-dropdown").find(".open").addClass("dropdown-alignment")}),$(document).on("click",".pwd-condition-btn",function(){$(".tooltip.show").each(function(){$(this).removeClass("show").addClass("d-block")}),$("#error-filedkey-info").remove(),AddNewElementAndIntialize(),$("#password-condition-section").find(".password-condition-section").length>=3&&$(".pwd-condition-btn").addClass("pointer-events")}),$(document).on("click","#remove-pwd-condition",function(){$(".tooltip.show").each(function(){$(this).removeClass("show").addClass("d-block")}),$("#error-filedkey-info").remove(),$(this).parent().closest(".password-condition-section").remove(),$(".pwd-condition-btn, .remove-condition-btn").removeClass("pointer-events")}),$(document).on("change","#enable-compression",function(){isSafariOrEdge&&($(this).find("label").toggleClass("check"),$("#custom-password, #default-password, #enable-password-protection").next().toggleClass("check")),$(this).is(":checked")?($("#enable-password-protection").prop("disabled",!1),EnablePasswordProtectionSection()):($("#enable-password-protection").prop("disabled",!0),DisablePasswordProtectionSection())}),$(document).on("change","#enable-password-protection",function(){isSafariOrEdge&&$("#custom-password, #default-password").next().toggleClass("check"),$(this).is(":checked")?EnablePasswordProtectionSection():DisablePasswordProtectionSection()}),$(document).on("change","#save-as-file",function(){if($("#checkbox-validation").css("visibility","hidden"),$(this).is(":checked")){$(".save-as-file-type").css("display","block"),""===$(".save-as-file-type").find("#export-path").val()&&$(".save-as-file-type").find("#export-path").val($("#edit-export-path").val()),"0"===$(".save-as-file-type").find("#max-report-count").val()&&$(".save-as-file-type").find("#max-report-count").val($("#export-report-count").val()),isFtpSettingsEnabled?$("#ftp-location-export").prop("checked",!0).trigger("change"):isS3SettingsEnabled?$("#s3bucket-location-export").prop("checked",!0).trigger("change"):$("#saveas-location-export").prop("checked",!0).trigger("change");var e=$("input[name='location-export']:checked").val();"saveas-location-export"===e?$("#local-export-div").show():"ftp-location-export"===e?$("#ftp-export-div").show():"s3bucket-location-export"===e&&$("#s3bucket-export-div").show()}else $(".save-as-file-type").css("display","none"),$("#local-export-div").hide(),$("#ftp-export-div").hide(),$("#s3bucket-export-div").hide(),$("input[name='location-export']").prop("checked",!1)}),$(document).on("change","input[name='location-export']",function(){var e=$(this).val();"saveas-location-export"===e?($("#local-export-div").show(),$("#ftp-export-div").hide(),$("#s3bucket-export-div").hide()):"ftp-location-export"===e?($("#ftp-export-div").show(),$("#local-export-div").hide(),$("#s3bucket-export-div").hide()):"s3bucket-location-export"===e&&($("#s3bucket-export-div").show(),$("#local-export-div").hide(),$("#ftp-export-div").hide())}),$(document).on("focusout","#export-path",function(e){var t=$("#export-path").val();return""===t?($(".directory-check").css("display","block"),void $(".directory-check").html(window.Server.App.LocalizationContent.ScheduleReportPath).css({color:"#a94442","font-size":"12px"})):t.indexOf(":")>0?($(".directory-check").css("display","block"),void $(".directory-check").html(window.Server.App.LocalizationContent.pathNotExist).css({color:"#a94442","font-size":"12px"})):($(".directory-check").css("display","none"),void $(".directory-check").html(""))}),$(document).on("focusout","#max-report-count",function(e){$.isNumeric(parseInt($("#max-report-count").val()))?$("#report-count-validation").css("visibility","hidden"):$("#report-count-validation").css("visibility","visible").css({color:"#a94442","font-size":"12px"})});var hasDashboardSharePermission,displayCategory={AllCategory:1,FavouriteItems:2,PublicItems:3,RecentItems:4,AllDashboards:5,PublicWidgets:6,AllWidgets:7,AllReports:8,DraftItems:9,OwnedByMe:10,SharedWithMe:11,ReportParts:12,DraftReportParts:13,Files:14,SpecificCategory:100},defaultSkipDashboardCount=0,defaultTakeDashboardCount=50,skipDashboardCount=defaultSkipDashboardCount,isVirtualRequested=!1,defaultReportTakeCountForGrid=15;function toggleSelectAllCheckboxVisibility(e){e==ReportLayoutView.Card?($(".dashboard-select-all").show(),$("#dashboard-list-select-all").parent().show()):($(".dashboard-select-all").hide(),$("#dashboard-list-select-all").parent().hide(),$("#dashboard-list-select-all").prop("checked",!1),$("#grid-dashboard-list-select-all").prop("checked",!1),$(".download-icon").hide())}function toggleFavorite(e,t){return e.IsFavorite=!e.IsFavorite,t({method:"post",url:favoriteItemUrl,data:$.param({itemId:e.Id,favoriteValue:e.IsFavorite})}).then(function(t){return!!t.data.Success||(e.IsFavorite=!e.IsFavorite,WarningAlert(window.Server.App.LocalizationContent.MarkFavoriteError,window.Server.App.LocalizationContent.InternalServerError,7e3),!1)},function(){return WarningAlert(window.Server.App.LocalizationContent.MarkFavoriteError,window.Server.App.LocalizationContent.InternalServerError,7e3),!1})}function togglePin(e,t){e.IsPinned=!e.IsPinned,t({method:"post",url:favoriteItemUrl,data:$.param({itemId:e.Id,favoriteValue:e.IsPinned})}).then(function(t){t.data.Success||(e.IsPinned=!e.IsPinned,WarningAlert(window.Server.App.LocalizationContent.MarkCategoryError,window.Server.App.LocalizationContent.InternalServerError,7e3))},function(){WarningAlert(window.Server.App.LocalizationContent.MarkCategoryError,window.Server.App.LocalizationContent.InternalServerError,7e3)})}function refreshCategoryScroll(){var e=($("#header-area").is(":visible")?$("#header-area").outerHeight():0)+($(".mobile-header").is(":visible")?$(".mobile-header").outerHeight():0),t=$(window).outerHeight()-(e+$(".category-bar-ul").outerHeight()+$(".category-search-area").outerHeight(!0)+$(".top-header").outerHeight());$("#parent-category-scroll-element").ejScroller({height:t,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!0,autoHide:!0,scrollOneStepBy:30,scroll:function(){}});var i=$("#parent-category-scroll-element").ejScroller("instance");i.model.height=t,i.refresh(),$("#parent-category-scroll-element .e-scrollbar").show(),$(".category-slide").show()}function refreshDashboardScroll(){let e;var t=$("#recent-content-container").is(":visible")?$("#recent-content-container").outerHeight():0,i=($("#header-area").is(":visible")?$("#header-area").outerHeight():0)+($(".mobile-header").is(":visible")?$(".mobile-header").outerHeight():18);e=isSandbox?$(window).outerHeight()-(i+$(".dashboard-action-container").outerHeight()+t+$(".top-header").outerHeight()):$(window).outerHeight()-(i+$(".dashboard-action-container").outerHeight()+$(".top-header").outerHeight());var o=$(window).innerWidth()-((window.innerWidth<=1040?0:$("#menu-area").outerWidth())+($("#category-panel").is(":visible")?$("#category-panel").outerWidth():0)+31);$("#parent-dashboard-scroll-element").ejScroller({height:e,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!0,autoHide:!0,scrollOneStepBy:40,scroll:"onDashboardScrolling"});var r=$("#parent-dashboard-scroll-element").ejScroller("instance");r.model.height=e,r.model.width=o,r.refresh(),$("#parent-dashboard-scroll-element .e-scrollbar").show()}function onDashboardScrolling(e){var t=$("#parent-dashboard-scroll-element").ejScroller("instance");if(t&&(scrollerPositon=e.scrollTop,document.querySelectorAll("#dashboard-scroll-content")[0].scrollHeight-(e.scrollTop+5)<=t.option("height"))){var i=angular.element("[ng-controller=DashboardCtrl]").scope();i.totalDashboardCount>skipDashboardCount+defaultTakeDashboardCount&&!isVirtualRequested&&i.reportLayoutView!=ReportLayoutView.Grid&&(i.isAppendLoading=!0,isVirtualRequested=!0,updateFilterParameter(void 0,skip=skipDashboardCount+defaultTakeDashboardCount,void 0,i.dashboardSearchQuery,void 0,void 0),i.refreshDashboardList(!0))}}function updateFilterParameter(e,t,i,o,r,n){null==t&&(t=defaultSkipDashboardCount),null==i&&(i=defaultTakeDashboardCount),null==o&&(o="");var a=angular.element("[ng-controller=DashboardCtrl]").scope();skipDashboardCount=t,null!=a.filterParameter?(null!=e&&(a.filterParameter.displayCategory=e),null!=t&&(a.filterParameter.skip=t),null!=i&&(a.filterParameter.take=i),null!=o&&(a.filterParameter.searchKey=o),null!=r&&(a.filterParameter.filterCollection=r),null!=n&&(a.filterParameter.sorted=n)):(a.filterParameter={displayCategory:e,requiresCounts:!0,skip:t,take:i,searchKey:o},a.filterParameter.filterCollection=r)}function ResetItemList(e){var t=angular.element("[ng-controller=DashboardCtrl]").scope();e==ItemType.Report?t.refreshDashboardList():t.refreshCategoryList()}function RefreshCategorySection(e){var t=angular.element("[ng-controller=DashboardCtrl]").scope();null!=t?t.refreshCategoryList(e):0===parseInt(parent.dashboardItemCount)&&(parent.$("body").ejWaitingPopup("show"),parent.location.reload())}function historyPush(e){var t=angular.element("[ng-controller=DashboardCtrl]").scope(),i="";switch(t.filterParameter.displayCategory){case displayCategory.AllReports:i+="view=all";break;case displayCategory.FavouriteItems:i+="view=favorites";break;case displayCategory.PublicItems:i+="view=public";break;case displayCategory.OwnedByMe:i+="view=owned";break;case displayCategory.SharedWithMe:i+="view=shared";break;case displayCategory.DraftItems:i+="view=drafts";break;case displayCategory.ReportParts:i+="view=report-parts";break;case displayCategory.Files:i+="view=files"}var o="";null!=t.filterParameter.filterCollection&&0!=t.filterParameter.filterCollection&&null!=t.filterParameter.filterCollection[0].FilterKey&&(isNullOrWhitespace(e)||t.filterParameter.filterCollection[0].FilterKey==e?o+="category="+t.filterParameter.filterCollection[0].FilterKey:o+="category="+e);var r="";if(isNullOrWhitespace(o)?isNullOrWhitespace(i)||(r+="?"+i):(r+="?"+o,isNullOrWhitespace(i)||(r+="&"+i)),!isNullOrWhitespace(r)){var n=window.location.pathname+r;window.location.pathname+window.location.search!=n&&window.innerWidth>=1041&&null!=history.pushState&&""!=n&&history.pushState({},"",n)}}$(document).on("touchend","[data-bs-toggle='dashboard-list-tooltip']",function(e){(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&$(this).click()}),$(document).ready(function(){if($(".dashboard-sort-container").css("visibility","visible"),intializeGetLinkDialog(),isSandbox){function e(){const e=document.querySelector(".report-filter-module.ng-scope li:nth-child(2)"),t=document.querySelector(".category-bar-ul li:first-child"),i=document.getElementById("recent-content-container");e&&e.classList.contains("selected")&&t&&t.classList.contains("active")?i.style.display="block":i.style.display="none"}e();const i=new MutationObserver(e);i.observe(document.querySelector(".report-filter-module.ng-scope"),{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),i.observe(document.querySelector(".category-bar-ul"),{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),$(document).on("click",".report-listing-type-list li",function(){"All"!==$(this).find(".search-option").text().trim()?$("#recent-content-container").hide():$(".category-bar-ul li:first-child").hasClass("active")&&$("#recent-content-container").show()})}$("#report-sort-option-module").selectpicker("destroy"),$("#report-sort-option-module").selectpicker(),updateSortValue(sortlabel,sortvalue);var t=createLoader("item-info-popup");$("#item-info-popup").ejWaitingPopup({template:$("#"+t)}),$(document).on("click",".prevent-default-action",function(e){e.preventDefault()}),document.querySelectorAll('[data-bs-toggle="clear-tooltip"]').forEach(e=>{new bootstrap.Tooltip(e,{animation:!0,html:!0})}),document.querySelectorAll('[data-bs-toggle="search-tooltip"]').forEach(e=>{new bootstrap.Tooltip(e,{animation:!0,html:!0})}),$.fn.selectpicker&&$("#report-sort-option-module").selectpicker("destroy"),$("#report-sort-option-module").selectpicker(),$("#report-sort-option-module").on("changed.bs.select",function(){$(this).selectpicker("toggle")});new MutationObserver(()=>{$('.disable-download-checkbox input[type="checkbox"]').prop("disabled",!0);0===$(".dashboard-select-individual").filter(function(){return!$(this).is(":disabled")&&!$(this).closest(".disable-download-checkbox").length}).length?($('.dashboard-select-all input[type="checkbox"]').prop("disabled",!0),$('#items .e-headercell input[type="checkbox"]').prop("disabled",!0)):($('.dashboard-select-all input[type="checkbox"]').prop("disabled",!1),$('#items .e-headercell input[type="checkbox"]').prop("disabled",!1))}).observe(document.body,{childList:!0,subtree:!0})}),serverApp.controller("DashboardCtrl",["$scope","$http","$timeout","$window","ajaxService",function(e,t,i,o,r){e.activeMenu=displayCategory.AllReports,e.activeMenuLabel=window.Server.App.LocalizationContent.AllReportInCategory,e.dashboardSearchQuery="",""!=categorySortlabel?(e.selectedCategorySort=categorySortAttribute,e.categorySortDirection=categorySortValue,categorySortlabel.includes("Category Name")?e.selectedCategorySortLabel="ascending"==categorySortValue?"Name (A-Z)":"Name(Z-A)":categorySortlabel.includes("Report Count")?e.selectedCategorySortLabel="ascending"==categorySortValue?"Count (Ascending)":"Count (Descending)":e.selectedCategorySortLabel="Recently Updated"):(e.selectedCategorySortLabel=window.Server.App.LocalizationContent.ReportCount,e.selectedCategorySort="ReportCount",e.categorySortDirection="descending"),e.selectedFilter=displayCategory.AllReports,e.selectedFilterLabel=window.Server.App.LocalizationContent.All,e.canCreateDashboard="undefined"!=typeof canCreateDashboard&&canCreateDashboard,e.currentUserId=currentUserId,e.isAdmin=isAdmin,e.canCreateCategory=canCreateCategory,e.isMarkItemsPublic=isMarkItemsPublic,e.isAppendLoading=!1,e.isUserBasedMenu=isUserBasedMenu,e.hasScheduleCreatePermission=userPermissionItem.Schedule,e.scheduleItemExist=allItemsCount.Schedule>0;var n=null!=window.granularPermissions&&(window.granularPermissions.All||window.granularPermissions.ReportSettings);hasDashboardSharePermission=null!=window.granularPermissions&&window.granularPermissions.Report,e.hasDashboardSettingsPermission=isAdmin||n,e.hasDashboardSharePermission=isAdmin||hasDashboardSharePermission,e.reportLayoutView=reportLayoutView,e.hideAuthorName=hideAuthorName,e.hideSortOption=hideSortOption,e.hideReportsSearch=hideReportsSearch,e.hideCategoryName=hideCategoryName,e.hideDescription=hideDescription,e.hideModifiedDate=hideModifiedDate,e.hideDownload=hideDownload,e.hideReportsFiltering=hideReportsFiltering,e.hideEdit=hideEdit,e.hideMakePublic=hideMakePublic,e.hideMakePrivate=hideMakePrivate,e.hideGetLink=hideGetLink,e.hideViews=hideViews,e.hideContextMenu=hideContextMenu,e.hideViewSchedules=hideViewSchedules,e.hideInfo=hideInfo,e.hideProcessingOptions=hideProcessingOptions,e.hideMove=hideMove,e.hideCopy=hideCopy,e.hideClone=hideClone,e.hideCreateSchedule=hideCreateSchedule,e.hideVersionHistory=hideVersionHistory,e.hideUpdate=hideUpdate,e.hideEditAsXml=hideEditAsXml,e.hideDelete=hideDelete,e.hideExport=hideExport,e.hideShare=hideShare,e.hideOpen=hideOpen,e.hidePublish=hidePublish,e.hideFavorite=hideFavorite,e.hideReportTileFooter=hideReportTileFooter,e.schemesDetails=schemesDetails,e.expandCatSec=!1,updateFilterParameter(e.selectedFilter,void 0,void 0,e.dashboardSearchQuery,0),e.isTablet=window.innerWidth<=1040,e.isMobile=window.innerWidth<=768,e.isHideIconBasedOnDnsName=isHideIconBasedOnDnsName,e.setActive=function(t,i,o,r){if($("#dashboard-list-select-all").prop("checked",!1),$("#grid-dashboard-list-select-all").prop("checked",!1),$(".download-icon").hide(),toggleSelectAllCheckboxVisibility(e.reportLayoutView),o.preventDefault(),e.dashboardSearchQuery="",t!=displayCategory.DraftItems?e.selectedFilter=e.selectedFilter!=displayCategory.DraftItems&&e.selectedFilter!=displayCategory.DraftReportParts&&e.selectedFilter!=displayCategory.FavouriteItems&&e.selectedFilter!=displayCategory.ReportParts&&e.selectedFilter!=displayCategory.Files?e.selectedFilter:displayCategory.AllReports:e.selectedFilter=displayCategory.DraftItems,e.expandCatSec=!1,null!=$(this)[0].categoryItem){if(($(o.target).hasClass("category-name")||$(o.target).hasClass("category-item")||$(o.target).hasClass("category-count"))&&0==r){e.activeMenu=t,e.activeMenuLabel=i,e.categoryCreatedBy=$(this)[0].categoryItem.CreatedByDisplayName;var n=[{PropertyName:"CategoryId",FilterType:"equal",FilterKey:$(this)[0].categoryItem.Id}];updateFilterParameter(e.selectedFilter,void 0,void 0,void 0,n),e.refreshDashboardList();var a=angular.element(o.currentTarget);a.find(".arrow-icon").hasClass("su-angle-right")?(a.closest("li").find(".nested-li").eq(0).removeClass("show-sub-category"),a.find(".arrow-icon").removeClass("su-angle-right").addClass("su-vertical-expand"),refreshCategoryScroll()):a.find(".arrow-icon").hasClass("su-vertical-expand")&&(a.closest("li").find(".nested-li").eq(0).addClass("show-sub-category"),a.find(".arrow-icon").removeClass("su-vertical-expand").addClass("su-angle-right"),a.removeClass("sub-category-panel"),refreshCategoryScroll())}}else e.activeMenu=t,e.activeMenuLabel=i,e.categoryCreatedBy="",t==displayCategory.DraftItems?updateFilterParameter(displayCategory.DraftItems,void 0,void 0,void 0,0):t==displayCategory.FavouriteItems?updateFilterParameter(displayCategory.FavouriteItems,void 0,void 0,void 0,0):t==displayCategory.ReportParts?updateFilterParameter(displayCategory.ReportParts,void 0,void 0,void 0,0):t==displayCategory.Files?updateFilterParameter(displayCategory.Files,void 0,void 0,void 0,0):updateFilterParameter(e.selectedFilter,void 0,void 0,void 0,0),e.refreshDashboardList();historyPush(i)},e.setActiveSubcategory=function(t,i,o,r){var n=$(this)[0].categoryItem,a=$(this)[0].subCategoryItem,s=$(this)[0].subCategoryItemTree;hideDownloadUploadOption(),o.preventDefault(),e.dashboardSearchQuery="",e.selectedFilter=e.selectedFilter!=displayCategory.DraftItems&&e.selectedFilter!=displayCategory.UsageAnalytics&&e.selectedFilter!=displayCategory.UploadDrafts?e.selectedFilter:displayCategory.AllDashboards,e.expandCatSec=!1;var l=angular.element(o.currentTarget);if(null!=$(this)[0].subCategoryItem&&($(o.target).hasClass("category-name")||$(o.target).hasClass("category-item")||$(o.target).hasClass("category-count"))){1==r?(e.activeMenu=t,e.activeMenuLabel=n.Name+" / "+i,e.categoryCreatedBy=$(this)[0].subCategoryItem.CreatedByDisplayName):2==r?(e.activeMenu=t,e.activeMenuLabel=n.Name+" / "+a.Name+" / "+i,e.categoryCreatedBy=$(this)[0].subCategoryItem.CreatedByDisplayName):3==r&&(e.activeMenu=t,e.activeMenuLabel=n.Name+" / "+a.Name+" / "+s.Name+" / "+i,e.categoryCreatedBy=$(this)[0].subCategoryItem.CreatedByDisplayName);var d=[{PropertyName:"CategoryId",FilterType:"equal",FilterKey:t}];updateFilterParameter(e.selectedFilter,void 0,void 0,void 0,d,e.customSort),e.refreshDashboardList(!1,!0),l.find(".arrow-icon").hasClass("su-angle-right")?(l.closest("li").find(".nested-li").eq(0).removeClass("show-sub-category"),l.find(".arrow-icon").removeClass("su-angle-right").addClass("su-vertical-expand")):l.find(".arrow-icon").hasClass("su-vertical-expand")&&(l.closest("li").find(".nested-li").eq(0).addClass("show-sub-category"),l.find(".arrow-icon").removeClass("su-vertical-expand").addClass("su-angle-right")),refreshCategoryScroll()}e.currentPage=1,e.executeWatch=!1,e.showSubCategories=!0,historyPush(i)},e.doCategorySearch=function(){updateFilterParameter(void 0,defaultSkipDashboardCount,defaultTakeDashboardCount,e.categorySearchQuery,void 0,void 0),hideDownloadUploadOption(),t({method:"post",url:getCategories,data:$.param({categorySorted:e.sortCategorySettings,searchKey:e.categorySearchQuery})}).then(function(t){e.categoryList=t.data,isNullOrWhitespace(e.categorySearchQuery)||function(){var e=angular.element("[ng-controller=DashboardCtrl]").scope();setTimeout(function(){$(".category-list-item").find(".category-name").filter(function(){return $(this).text().trim().toLowerCase().contains(e.categorySearchQuery.toLowerCase())}).parents("li.category-list-item").each(function(){$(this).find(".arrow-icon").hasClass("su-angle-right")&&($(this).children(".nested-li").removeClass("show-sub-category"),$(this).find(".arrow-icon").eq(0).removeClass("su-angle-right").addClass("su-vertical-expand"))})},1e3)}()},function(){warningToast(window.Server.App.LocalizationContent.ErrorGettingCategory)})},e.setSelectedSort=function(i,o){if($("#report-sort-option-module").val().length<2)updateSortValue(this.selectedSortLabel,this.sortDirection);else{i=null==i?"Modified":i,o=null==o?"descending":o.toLowerCase(),"Modified"==i?(i="ModifiedDate",e.selectedSortLabel="Recently Updated"):"Name"==i&&(i="Name",e.selectedSortLabel="ascending"==o?"Report Name (A-Z)":"Report Name (Z-A)"),e.selectedSort=i,e.sortDirection=o;var r=[{Name:i,Direction:e.sortDirection}];updateFilterParameter(void 0,void 0,void 0,e.dashboardSearchQuery,void 0,r),t({method:"post",url:saveSortUrl,data:$.param({sortAttribute:e.selectedSort,sortValue:e.sortDirection,userId:currentUserId,sortLabel:e.selectedSortLabel})}),e.refreshDashboardList()}},e.changeView=function(t){e.reportLayoutView!=t&&(e.dashboardDataBindComplete=!1,$.ajax({type:"PUT",url:updateReportLayoutViewUrl,data:$.param({userId:currentUserId,reportLayoutView:t}),success:function(i){i?(e.reportLayoutView=t,e.refreshDashboardList(),refreshDashboardScroll(),toggleSelectAllCheckboxVisibility(e.reportLayoutView)):WarningAlert(window.Server.App.LocalizationContent.ChangeView,window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert(window.Server.App.LocalizationContent.ChangeView,window.Server.App.LocalizationContent.InternalServerError,7e3)}}))},e.setSelectedSortCategory=function(i,o,r){e.selectedCategorySort=o,e.categorySortDirection=r,i.target.textContent.includes("Name")?e.selectedCategorySortLabel="ascending"==r?"Category Name (A-Z)":"Category Name(Z-A)":i.target.textContent.includes("Count")?e.selectedCategorySortLabel="ascending"==r?"Report Count (Ascending)":"Report Count (Descending)":e.selectedCategorySortLabel="Recently Updated";e.sortDirection;t({method:"post",url:saveCategorySortUrl,data:$.param({sortAttribute:e.selectedCategorySort,sortValue:e.categorySortDirection,userId:currentUserId,sortLabel:e.selectedCategorySortLabel})}).then(function(t){t.data&&e.refreshCategoryList()})},e.setSelectedFilter=function(i,o){$("#dashboard-list-select-all").prop("checked",!1),$("#grid-dashboard-list-select-all").prop("checked",!1),$(".dashboard-select-all-checkbox").removeClass("indeterminate"),$(".download-icon").hide(),e.selectedFilter=o,e.selectedFilterLabel=i.target.textContent,e.isPublicEnabled=!1,e.selectedFilter==displayCategory.PublicItems&&t({method:"get",url:getPublicStatusUrl,data:""}).then(function(e){e.data.isPublicEnabled?$(".public-dashboard-disabled").hide():$(".public-dashboard-disabled").show()}),updateFilterParameter(o,void 0,void 0,e.dashboardSearchQuery,void 0,void 0),e.refreshDashboardList(),o!=displayCategory.DraftReportParts&&historyPush()},e.dashboardDataBindComplete=!1,e.doDashboardComplete=function(){e.dashboardDataBindComplete=!0,e.isAppendLoading=!1,i(function(){refreshToolTip("dashboard-list-tooltip"),refreshDashboardScroll()},100)},e.categoryDataBindComplete=!1,e.doCategoryComplete=function(){e.categoryDataBindComplete=!0,i(function(){document.querySelectorAll('[data-bs-toggle="category-list-tooltip"]').forEach(e=>{new bootstrap.Tooltip(e,{animation:!0,html:!0})}),e.refreshCategoryScroll()},100)},e.toggleFavorite=function(i){var o=[];if(e.reportLayoutView==ReportLayoutView.Card)o=$(this)[0].dashboardItem;else{var r=i.getAttribute("data-item-id"),n="true"===i.getAttribute("data-is-favorite");o={Id:r,IsFavorite:n}}toggleFavorite(o,t).then(function(t){e.reportLayoutView==ReportLayoutView.Grid&&t&&(i.setAttribute("data-is-favorite",o.IsFavorite),o.IsFavorite?(i.classList.remove("su-dis-favorite"),i.classList.add("su-favorite"),i.setAttribute("title",window.Server.App.LocalizationContent.RemoveFavorite)):(i.classList.remove("su-favorite"),i.classList.add("su-dis-favorite"),i.setAttribute("title",window.Server.App.LocalizationContent.MarkFavorite)))})},e.togglePin=function(){togglePin($(this)[0].categoryItem,t),i(function(){e.refreshCategoryList()},100)},isHideGuidInUrl?(e.viewDashboardUrl=function(e,t,i){return encodeURI(viewDashboardUrlAction+"/"+t+"/"+i+"?showmyreports=1")},e.editDraftDashboardUrl=function(e,t){return encodeURI(editDashboardUrl+"/draft/"+t)},e.editDraftReportPartUrl=function(e,t){return encodeURI(reportPartEditUrl+"/draft/"+t)}):(e.viewDashboardUrl=function(e,t,i){return encodeURI(viewDashboardUrlAction+"/"+e+"/"+t+"/"+i+"?showmyreports=1")},e.editDraftDashboardUrl=function(e,t){return encodeURI(editDashboardUrl+"/"+e+"/draft/"+t)},e.editDraftReportPartUrl=function(e,t){return encodeURI(reportPartEditUrl+"/"+e+"/draft/"+t)}),e.downloadReportUrl=function(e,t,i,o){return encodeURI(downloadReportUrl+"/"+e+"/"+t+"/"+i+"/"+o)},e.doDashboardSearch=function(){(updateFilterParameter(void 0,defaultSkipDashboardCount,defaultTakeDashboardCount,e.dashboardSearchQuery,void 0,void 0),e.dashboardDataBindComplete=!1,e.totalDashboardCount=0==e.totalDashboardCount?1:e.totalDashboardCount,e.reportLayoutView==ReportLayoutView.Card||e.filterParameter.displayCategory==displayCategory.ReportParts||e.filterParameter.displayCategory==displayCategory.DraftReportParts)?r.getData(e.filterParameter.displayCategory==displayCategory.ReportParts||e.filterParameter.displayCategory==displayCategory.DraftReportParts?getReportListUrl:e.filterParameter.displayCategory==displayCategory.Files?getFilesUrl:getItemUrl,$.param(e.filterParameter)).then(function(t){null!=t.count?(e.dashboardList=t.result,isSandbox&&(e.recentItems=t.recentItems),$.each(e.dashboardList,function(e,t){t.Description=decodeHtmlAsString(t.Description)}),e.totalDashboardCount=t.count):WarningAlert(window.Server.App.LocalizationContent.Error,window.Server.App.LocalizationContent.ErrorGettingDashboard,7e3)}):(dashboardGrid=angular.element("[ng-controller=DashboardCtrl]").scope(),filter=e.filterParameter,$("#items").data("ejGrid").refreshContent(),i(function(){refreshDashboardScroll()},1e3))},e.onDashboardSearchClear=function(){e.dashboardSearchQuery="",e.doDashboardSearch(),i(function(){$("#dashboard-search-items").focus()},100)},e.onCategorySearchClear=function(){e.categorySearchQuery="",e.refreshCategoryList(),e.refreshCategoryScroll(),i(function(){$(".category-search-box").focus()},100)},e.refreshDashboardList=function(t){e.dashboardDataBindComplete=t,e.totalDashboardCount=0==e.totalDashboardCount?1:e.totalDashboardCount,(t||e.reportLayoutView==ReportLayoutView.Grid)&&i(function(){refreshDashboardScroll()},1e3),e.reportLayoutView==ReportLayoutView.Card||e.filterParameter.displayCategory==displayCategory.ReportParts||e.filterParameter.displayCategory==displayCategory.DraftReportParts||e.filterParameter.displayCategory==displayCategory.Files?r.getData(e.filterParameter.displayCategory==displayCategory.ReportParts||e.filterParameter.displayCategory==displayCategory.DraftReportParts?getReportListUrl:e.filterParameter.displayCategory==displayCategory.Files?getFilesUrl:getItemUrl,$.param(e.filterParameter)).then(function(i){null!=i.count?(e.dashboardList=t?e.dashboardList.concat(i.result):i.result,isSandbox&&(e.recentItems=i.recentItems),e.totalDashboardCount=i.count,isVirtualRequested=!1,$.each(e.dashboardList,function(e,t){t.Description=decodeHtmlAsString(t.Description)})):WarningAlert(window.Server.App.LocalizationContent.Error,window.Server.App.LocalizationContent.ErrorGettingDashboard,0)}):setGrid(e.filterParameter)},e.refreshCategoryList=function(i){t({method:"get",url:getCategories,data:""}).then(function(t){e.categoryList=t.data;var o=null!=window.granularPermissions&&window.granularPermissions.Category;e.hasCategorySharePermission=isAdmin||o,null!=i&&setCategorySection(i,e.categoryList)},function(){WarningAlert(window.Server.App.LocalizationContent.Error,window.Server.App.LocalizationContent.ErrorGettingCategory,0)})},""!=categoryList&&0!=categoryList.length?e.categoryList=categoryList:e.refreshCategoryList(),e.setWidthForDashboardName=function(){return e.activeMenu==displayCategory.AllReports||e.activeMenu==displayCategory.FavouriteItems?e.isTablet?e.isMobile?"col-12":"col-9":"col-10":e.isTablet?"col-12":"col-8"},applyRouting(),e.refreshDashboardList(),angular.element(o).bind("resize",function(){e.isTablet=window.innerWidth<=1040,e.isMobile=window.innerWidth<=768,e.$apply(),refreshCategoryScroll(),refreshDashboardScroll()}),e.refreshCategoryScroll=function(){i(function(){refreshCategoryScroll()},1e3)},e.onMobileSearchClicked=function(){e.showSearch=!0,i(function(){$("#dashboard-search-items").focus()},100)},e.onSearchFocusOut=function(){e.isFocus=!1,e.isTablet&&""==e.dashboardSearchQuery&&(e.showSearch=!1)},e.openInfo=function(t){var i=angular.element("[ng-controller=ItemInfoCtrl]").scope(),o=[];if(e.reportLayoutView==ReportLayoutView.Card||e.activeMenu==displayCategory.ReportParts||e.selectedFilter==displayCategory.DraftReportParts||e.activeMenu==displayCategory.Files)(o=$(this)[0].dashboardItem).ItemType==ItemType.ReportPart&&(o.Id=o.ReportPartId,o.ModifiedByFullName=o.ModifiedByDisplayName);else{var r=t.getAttribute("data-item-name"),n=t.getAttribute("data-description"),a=t.getAttribute("data-item-id"),s=t.getAttribute("data-createdByDisplayName"),l=t.getAttribute("data-createdDate"),d=t.getAttribute("data-modifiedByFullName"),c=t.getAttribute("data-modifiedDate"),p=t.getAttribute("data-categoryName"),u="true"===t.getAttribute("data-isDraft"),h=t.getAttribute("data-itemType");o={Name:r,Description:decodeHtmlAsString(n),Id:a,CreatedByDisplayName:s,CreatedDate:l,ModifiedByFullName:d,ModifiedDate:c,CategoryName:p,IsDraft:u,ItemType:h}}i.openInfoDialog(o,!0)},e.openDashboard=function(e){if(($(e.target.parentElement).hasClass("open-link")||$(e.target).hasClass("open-link"))&&!$(e.target.parentElement).hasClass("context-menu")&&!$(e.target).hasClass("context-menu")){var t=$(this)[0].dashboardItem,i=viewDashboardUrlAction+"/"+t.Id+"/"+t.CategoryName+"/"+t.Name;ReportRenderingTargetType(i)}},e.editDashboard=function(t){var i="",o=!1;if(e.reportLayoutView==ReportLayoutView.Card){var r=$(this)[0].dashboardItem;r.IsMultiDashboard?(o=!0,geteditSlideshowDetail(r.Id,!0)):i=isHideGuidInUrl?editDashboardUrl+"/"+r.CategoryName+"/"+r.Name:editDashboardUrl+"/"+r.Id+"/"+r.CategoryName+"/"+r.Name}else{var n=t.getAttribute("data-item-id"),a=t.getAttribute("data-category-name"),s=t.getAttribute("data-item-name");"true"===t.getAttribute("data-is-multi-tab-dashboard")?(o=!0,geteditSlideshowDetail(n,!0)):i=isHideGuidInUrl?editDashboardUrl+"/"+a+"/"+s:editDashboardUrl+"/"+n+"/"+a+"/"+s}o||ReportRenderingTargetType(i)},e.editDraftDashboard=function(t){var i="";if(e.reportLayoutView==ReportLayoutView.Card||e.selectedFilter==displayCategory.DraftReportParts){var o=$(this)[0].dashboardItem;i=o.ItemType==ItemType.Report?isHideGuidInUrl?editDashboardUrl+"/draft/"+o.Name:editDashboardUrl+"/"+o.Id+"/draft/"+o.Name:isHideGuidInUrl?reportPartEditUrl+"/draft/"+o.Name:reportPartEditUrl+"/"+o.ReportPartId+"/draft/"+o.Name}else{var r=t.getAttribute("data-item-id"),n=t.getAttribute("data-item-name");i=isHideGuidInUrl?editDashboardUrl+"/draft/"+n:editDashboardUrl+"/"+r+"/draft/"+n}ReportRenderingTargetType(i)},e.editRDLInXML=function(t){var i="";if(e.reportLayoutView==ReportLayoutView.Card){var o=$(this)[0].dashboardItem;i=isHideGuidInUrl?editReportAsXMLUrl+"/"+o.CategoryName+"/"+o.Name:editReportAsXMLUrl+"/"+o.Id+"/"+o.CategoryName+"/"+o.Name}else{var r=t.getAttribute("data-item-id"),n=t.getAttribute("data-item-name"),a=t.getAttribute("data-category-name");i=isHideGuidInUrl?editReportAsXMLUrl+"/"+a+"/"+n:editReportAsXMLUrl+"/"+r+"/"+a+"/"+n}ReportRenderingTargetType(i)},e.makePublic=function(t){var i=[];e.reportLayoutView==ReportLayoutView.Card?i=$(this)[0].dashboardItem:i={Id:t.getAttribute("data-item-id"),ItemType:t.getAttribute("data-item-type"),Name:t.getAttribute("data-item-name"),CategoryName:t.getAttribute("data-category-name")};makePublic(i)},e.makePrivate=function(t){var i=[];e.reportLayoutView==ReportLayoutView.Card?i=$(this)[0].dashboardItem:i={Id:t.getAttribute("data-item-id"),ItemType:t.getAttribute("data-item-type"),Name:t.getAttribute("data-item-name")};makePrivate(i)},e.getItemLink=function(t){var i=[];if(e.reportLayoutView==ReportLayoutView.Card)i=$(this)[0].dashboardItem;else{var o=t.getAttribute("data-item-id"),r=t.getAttribute("data-item-type");i={Id:o,Name:t.getAttribute("data-name"),ItemType:r,CategoryName:t.getAttribute("data-category")}}GetLink(i)},e.ProcessOption=function(t){var i=[];if(e.reportLayoutView==ReportLayoutView.Card)i=$(this)[0].dashboardItem;else{var o=t.getAttribute("data-item-id"),r=t.getAttribute("data-item-type");i={Id:o,Name:t.getAttribute("data-name"),ItemType:r,CategoryName:t.getAttribute("data-category")}}Report(i)},e.downloadReport=function(t){e.reportLayoutView==ReportLayoutView.Card?window.location=t.currentTarget.attributes.href.value:window.location=t.getAttribute("href")},e.downloadBulkReport=function(t){if(e.reportLayoutView==ReportLayoutView.Card){var i=Array.from(document.querySelectorAll(".dashboard-select-individual")).filter(e=>e.checked).map(e=>e.id);DownloadReportItem(angular.element("[ng-controller=DashboardCtrl]").scope().dashboardList.filter(e=>i.includes(e.Id)))}else{i=Array.from(document.querySelectorAll(".dashboard-select-individual")).filter(e=>e.checked).map(e=>e.getAttribute("data-checked-id"));DownloadReportItem($("#items").data("ejGrid").model.currentViewData.filter(e=>i.includes(e.Id)))}},e.getEmbedCode=function(){EmbedCode($(this)[0].dashboardItem)},e.getDashboardViews=function(t,i){e.reportLayoutView==ReportLayoutView.Card?getDashboardViews($(this)[0].dashboardItem,t.currentTarget.parentElement):getDashboardViews({Id:i.getAttribute("data-item-id"),IsChildDashboard:"true"===i.getAttribute("child-dashboard"),CategoryId:i.getAttribute("category-id"),ParentCategoryName:i.getAttribute("parent-category-name"),CategoryName:i.getAttribute("category-name"),Name:i.getAttribute("data-item-name")},t.currentTarget.parentElement)},e.viewSchedules=function(t){var i="";i=e.reportLayoutView==ReportLayoutView.Card?$(this)[0].dashboardItem.Name:t.getAttribute("data-item-name");var o=viewSchedulesUrl+"?report="+i;ReportRenderingTargetType(o)},e.copyDashboard=function(t){var i=[];e.reportLayoutView==ReportLayoutView.Card?i=$(this)[0].dashboardItem:i={Id:t.getAttribute("data-item-id")};CopyDashboardItem(i,"Copy")},e.cloneDashboard=function(t){var i=[];e.reportLayoutView==ReportLayoutView.Card?i=$(this)[0].dashboardItem:i={Id:t.getAttribute("data-item-id")};CopyDashboardItem(i,"Clone")},e.moveDashboard=function(t){var i=[];e.reportLayoutView==ReportLayoutView.Card?i=$(this)[0].dashboardItem:i={Id:t.getAttribute("data-item-id")};MoveDashboardItem(i,"Move")},e.getPublishSiteDetailDialog=function(t){var i=[];e.reportLayoutView==ReportLayoutView.Card?i=$(this)[0].dashboardItem:i={Id:t.getAttribute("data-item-id"),Name:t.getAttribute("data-item-name")};publishSiteDetailDialog(i)},e.scheduleDashboard=function(t){var i=[];e.reportLayoutView==ReportLayoutView.Card?i=$(this)[0].dashboardItem:i={Id:t.getAttribute("data-item-id"),Name:t.getAttribute("data-item-name"),CategoryName:t.getAttribute("data-category-name"),CategoryId:t.getAttribute("data-category-id"),MultiDashboardName:"true"===t.getAttribute("data-IsMulti-Dashboard")};ScheduleDashboard(i)},e.shareDashboardPermission=function(t){var i=[];e.reportLayoutView==ReportLayoutView.Card?i=$(this)[0].dashboardItem:i={Id:t.getAttribute("data-item-id"),Name:t.getAttribute("data-item-name"),CategoryName:t.getAttribute("data-category-name"),ItemType:parseInt(t.getAttribute("data-item-type")),CreatedById:t.getAttribute("data-created-by-id"),IsPublic:"true"===t.getAttribute("data-is-public"),Extension:t.getAttribute("data-extension")};shareDashboardPermission(i)},e.sharePermission=function(e){shareDashboardPermission(e)},e.versionHistory=function(t){if(e.reportLayoutView==ReportLayoutView.Card){var i=$(this)[0].dashboardItem;VersionHistory(i.Id,i.Name)}else{VersionHistory(t.getAttribute("data-item-id"),t.getAttribute("data-item-name"))}},e.updateDashboard=function(){EditDashboard($(this)[0].dashboardItem.Id)},e.updateDashboardDataSource=function(){UpdateDashboardDataSource($(this)[0].dashboardItem.Id)},e.updateReport=function(t){e.reportLayoutView==ReportLayoutView.Card?updateReport($(this)[0].dashboardItem.Id):updateReport(t.getAttribute("data-item-id"))},e.deleteItem=function(t){var i=[];if(e.reportLayoutView==ReportLayoutView.Card||e.activeMenu==displayCategory.ReportParts||e.selectedFilter==displayCategory.DraftReportParts||e.activeMenu==displayCategory.Files)null!=(i=$(this)[0].dashboardItem).ReportPartId&&(i={Id:i.ReportPartId,ItemType:ItemType.ReportPart,Name:i.Name});else{var o=t.getAttribute("data-item-type");i={Id:t.getAttribute("data-item-id"),Name:t.getAttribute("data-item-name"),ItemType:o}}DeleteItem(i)},e.exportReport=function(t){var i=[];e.reportLayoutView==ReportLayoutView.Card?i=$(this)[0].dashboardItem:i={Id:t.getAttribute("data-item-id"),Name:t.getAttribute("data-item-name"),CategoryName:t.getAttribute("data-category-name"),CategoryId:t.getAttribute("data-category-id")};ExportReport(i)},e.editCategory=function(e,t,i,o){EditCategory(e,t,i,o)},e.deleteCategory=function(e){deleteCategory(e)},e.addSubCategory=function(e,t,i){AddSubCategory(e,t,i)},e.expandCategorySection=function(){e.expandCatSec=!e.expandCatSec,e.refreshCategoryScroll()},e.editReportPart=function(){var e="",t=$(this)[0].dashboardItem;e=isHideGuidInUrl?reportPartEditUrl+"/"+t.Name:reportPartEditUrl+"/"+t.ReportPartId+"/"+t.Name,ReportRenderingTargetType(e)},e.deleteReportPart=function(){var e=$(this)[0].dashboardItem;DeleteItem({Id:e.ReportPartId,ItemType:ItemType.ReportPart,Name:e.Name})},e.deleteFile=function(){var e=$(this)[0].dashboardItem;DeleteItem({Id:e.Id,ItemType:ItemType.File,Name:e.Name})},$(document).on("click","#delete-report-part",function(i){var o=$(this).attr("data-item-id"),n=$(this).attr("data-item-name");$("#item-delete-confirmation_wrapper").ejWaitingPopup("show"),t({method:"DELETE",url:reportPartDeleteUrl,params:{reportPartIdentifier:o}}).then(function(t){$("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),$("#item-delete-confirmation").ejDialog("close"),t.data?(SuccessAlert(window.Server.App.LocalizationContent.ReportPartDeleted,n+window.Server.App.LocalizationContent.DeleteSuccess,7e3),r.getData(getReportListUrl).then(function(t){0==t.count?location.reload():e.refreshDashboardList()})):WarningAlert(window.Server.App.LocalizationContent.DeleteReportPartFailure,window.Server.App.LocalizationContent.InternalServerError,7e3)}).catch(function(e){$("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),$("#item-delete-confirmation").ejDialog("close"),WarningAlert(window.Server.App.LocalizationContent.DeleteReportPartFailure,window.Server.App.LocalizationContent.InternalServerError,7e3)})}),$(document).on("click","#delete-file",function(i){var o=$(this).attr("data-item-id"),n=$(this).attr("data-item-name");$("#item-delete-confirmation_wrapper").ejWaitingPopup("show"),t({method:"DELETE",url:fileDeleteUrl,params:{fileId:o}}).then(function(t){$("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),$("#item-delete-confirmation").ejDialog("close"),t.data?(SuccessAlert(window.Server.App.LocalizationContent.FileDeleted,n+window.Server.App.LocalizationContent.DeleteSuccess,7e3),r.getData(getFilesUrl).then(function(t){0==t.count?location.reload():e.refreshDashboardList()})):WarningAlert(window.Server.App.LocalizationContent.DeleteFileFailure,window.Server.App.LocalizationContent.InternalServerError,7e3)}).catch(function(e){$("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),$("#item-delete-confirmation").ejDialog("close"),WarningAlert(window.Server.App.LocalizationContent.DeleteFileFailure,window.Server.App.LocalizationContent.InternalServerError,7e3)})})}]),serverApp.directive("myPostRepeatDirective",function(){return function(e,t,i){e.$last&&e.$eval("doDashboardComplete()")}}),serverApp.directive("categoryRepeatDirective",function(){return function(e,t,i){e.$last&&e.$eval("doCategoryComplete()")}}),serverApp.animation(".category-slide",function(){var e="ng-hide";return{beforeAddClass:function(t,i,o){i===e&&t.slideUp(o)},removeClass:function(t,i,o){i===e&&t.hide().slideDown(o)}}}),serverApp.controller("MobileViewSortCtrl",["$scope",function(e){e.selectedSort="ModifiedDate",e.sortDirection="descending",e.updateSortSelection=function(t,i,o){e.selectedSort=i,e.sortDirection=o},e.onSortApplyClicked=function(){var t=angular.element("[ng-controller=DashboardCtrl]").scope();t.selectedSort=e.selectedSort,t.sortDirection=e.sortDirection;var i=[{Name:t.selectedSort,Direction:t.sortDirection}];updateFilterParameter(void 0,void 0,void 0,t.dashboardSearchQuery,void 0,i),t.refreshDashboardList()}}]),$(document).on("shown.bs.dropdown","#dashboard-scroll-content .dashboard-tile, #dashboard-scroll-content .e-row",function(){$(".tooltip").hide();var e=angular.element("[ng-controller=DashboardCtrl]").scope();if($(this).find(".context-menu").length>0){var t=$(this).offset().top+$(this).outerHeight(!0)/2-$("#parent-dashboard-scroll-element").offset().top,i=$("#dashboard-scroll-content").height()-$(this).offset().top-$(this).outerHeight(!0)/2,o=$(this).find(".dashboard-options").outerHeight(!0);i<=o&&t>=o&&e.reportLayoutView==ReportLayoutView.Card?$(this).find(".context-menu").removeClass("dropdown").addClass("dropup"):refreshDashboardScroll()}}),$(document).on("hidden.bs.dropdown","#dashboard-scroll-content .dashboard-tile, #dashboard-scroll-content .e-row",function(){refreshDashboardScroll()}),$(document).on("shown.bs.dropdown","#category-scroll-content .category-item",function(){if($(".tooltip").hide(),$(this).find(".category-context-menu").length>0){var e=$("#parent-category-scroll-element"),t=$(this).offset().top+$(this).outerHeight(!0)/2-e.offset().top,i=e.height()-($(this).offset().top-e.offset().top+$(this).outerHeight(!0)/2),o=$(this).find(".category-context-menu .dropdown-menu").outerHeight(!0);i<=o&&t>=o?$(this).find(".category-context-menu").removeClass("dropdown").addClass("dropup"):refreshCategoryScroll()}}),$(document).on("hidden.bs.dropdown","#dashboard-scroll-content .dashboard-tile",function(){refreshCategoryScroll()});var parentCategoryLabel=[];function applyRouting(){var e=angular.element("[ng-controller=DashboardCtrl]").scope();e.activeMenu=displayCategory.AllReports,e.activeMenuLabel=window.Server.App.LocalizationContent.AllReportInCategory,e.selectedFilter=displayCategory.AllReports,e.selectedFilterLabel=window.Server.App.LocalizationContent.All;var t=decodeURI(getQueryVariable("view"));if(!isEmptyOrWhitespace(t)){switch(t.toLowerCase()){case"favorites":e.activeMenu=displayCategory.FavouriteItems,e.activeMenuLabel=window.Server.App.LocalizationContent.Favorites,e.selectedFilter=displayCategory.FavouriteItems;break;case"public":e.selectedFilter=displayCategory.PublicItems,e.selectedFilterLabel=window.Server.App.LocalizationContent.Public;break;case"owned":e.selectedFilter=displayCategory.OwnedByMe,e.selectedFilterLabel=window.Server.App.LocalizationContent.OwnedByMe;break;case"shared":e.selectedFilter=displayCategory.SharedWithMe,e.selectedFilterLabel=window.Server.App.LocalizationContent.SharedWithMe;break;case"drafts":e.activeMenu=displayCategory.DraftItems,e.activeMenuLabel=window.Server.App.LocalizationContent.Drafts,e.selectedFilter=displayCategory.DraftItems;break;case"categories":e.expand=!0;break;case"report-parts":e.activeMenu=displayCategory.ReportParts,e.activeMenuLabel=window.Server.App.LocalizationContent.ReportPart,e.selectedFilter=displayCategory.ReportParts;break;case"files":e.activeMenu=displayCategory.Files,e.selectedFilter=displayCategory.Files}updateFilterParameter(e.selectedFilter,void 0,void 0,void 0,0)}var i=decodeURI(getQueryVariable("category"));if(!isEmptyOrWhitespace(i)&&"null"!=i&&(e.expand=!0,null!=e.categoryList)){var o=getItemDetailFromName(e.categoryList,i);if(parentCategoryLabel.reverse(),parentCategoryLabel.push(o.Name),null!=o&&null!=o&&null!=o.Id&&null!=o.Name){setTimeout(function(){$("li[data-dashboard-id='"+o.Id+"']").parents("li.category-list-item").each(function(){$(this).find(".arrow-icon").hasClass("su-angle-right")&&($(this).children(".nested-li").removeClass("show-sub-category"),$(this).find(".arrow-icon").eq(0).removeClass("su-angle-right").addClass("su-vertical-expand"))}),e.activeMenu=o.Id,e.activeMenuLabel=parentCategoryLabel.join(" / ")},500),e.categoryCreatedBy=o.CreatedByDisplayName;var r=[{PropertyName:"CategoryId",FilterType:"equal",FilterKey:o.Id}];updateFilterParameter(e.selectedFilter,void 0,void 0,void 0,r)}else updateFilterParameter(e.selectedFilter,void 0,void 0,void 0,0)}}function getItemDetailFromName(e,t){for(var i=0;i<e.length;i++){if(e[i].Name===t)return e[i];if(e[i].SubCategory&&e[i].SubCategory.length>0){var o=getItemDetailFromName(e[i].SubCategory,t);if(o)return parentCategoryLabel.push(e[i].Name),o}}return null}function setCategorySection(e,t){var i="",o=t,r=angular.element("[ng-controller=DashboardCtrl]").scope(),n=r.categoryList.filter(function(t){return t.Id==e})[0];if(null==n)for(var a=0;a<o.length;a++)if(null!=o[a].SubCategory&&o[a].SubCategory.length>0&&null==n)for(var s=0;s<o[a].SubCategory.length;s++)if(o[a].SubCategory[s].Id!=e&&null!=o[a].SubCategory[s].SubCategory&&o[a].SubCategory[s].SubCategory.length>0&&null==n)for(var l=0;l<o[a].SubCategory[s].SubCategory.length;l++)if(o[a].SubCategory[s].SubCategory[l].Id!=e&&null!=o[a].SubCategory[s].SubCategory[l].SubCategory&&o[a].SubCategory[s].SubCategory[l].SubCategory.length>0&&null==n)for(var d=0;d<o[a].SubCategory[s].SubCategory[l].SubCategory.length;d++)o[a].SubCategory[s].SubCategory[l].SubCategory[d].Id==e&&null==n&&(n=o[a].SubCategory[s].SubCategory[l].SubCategory[d],i=o[a].Name+" / "+o[a].SubCategory[s].Name+" / "+o[a].SubCategory[s].SubCategory[l].Name+" / ");else o[a].SubCategory[s].SubCategory[l].Id==e&&(n=o[a].SubCategory[s].SubCategory[l],i=o[a].Name+" / "+o[a].SubCategory[s].Name+" / ");else o[a].SubCategory[s].Id==e&&(n=o[a].SubCategory[s],i=o[a].Name+" / ");if(null!=n){r.categoryCreatedBy=n.CreatedByDisplayName,updateFilterParameter(r.selectedFilter,void 0,void 0,void 0,c),i=isNullOrWhitespace(i)?n.Name:i+n.Name;var c=[{PropertyName:"CategoryId",FilterType:"equal",FilterKey:n.Id}];r.refreshDashboardList(),r.refreshCategoryScroll(),setTimeout(function(){$("li[data-dashboard-id='"+e+"']").parents("li.category-list-item").each(function(){$(this).find(".arrow-icon").hasClass("su-angle-right")&&($(this).children(".nested-li").removeClass("show-sub-category"),$(this).find(".arrow-icon").eq(0).removeClass("su-angle-right").addClass("su-vertical-expand"))}),r.activeMenu=e,r.activeMenuLabel=i},500)}}function isNullOrWhitespace(e){return null==e||null==e||""==$.trim(e)}function updateSortValue(e,t){""!=e&&null!=e?(t="descending"==t?"Descending":"Ascending",e.includes("Report Name")&&(e="Name"),"Recently Updated"==e&&(e="Modified"),$("#report-sort-option-module").selectpicker("val",[e,t])):$("#report-sort-option-module").selectpicker("val",["Modified","Descending"])}function hideDownloadUploadOption(){$(".dashboard-select-individual").prop("checked",!1),$("#dashboard-list-select-all").prop("checked",!1),$(".dashboard-select-all-checkbox").removeClass("indeterminate"),$(".action-separator").removeClass("no-margin"),$(".action-separator").removeClass("upload-separator-margin"),$(".download-icon").hide(),$(".upload-button").hide(),angular.element("[ng-controller=DashboardCtrl]").scope().hideOptionMenu=!1}function DownloadReportItem(e){parent.$("body").ejWaitingPopup("show");$.ajax({type:"POST",url:bulkDownloadUrl,data:{data:JSON.stringify(e)},xhrFields:{responseType:"blob"},success:function(e){var t=document.createElement("a"),i=window.URL.createObjectURL(e);t.href=i,t.download="report collection.zip",document.body.append(t),t.click(),t.remove(),window.URL.revokeObjectURL(i),$(".dashboard-select-individual").prop("checked",!1),$("#dashboard-list-select-all").prop("checked",!1),$("#grid-dashboard-list-select-all").prop("checked",!1),$(".dashboard-select-all-checkbox").removeClass("indeterminate"),$(".download-icon").hide(),objectSelected=[],parent.$("body").ejWaitingPopup("hide"),SuccessAlert(window.Server.App.LocalizationContent.Dashboard,"File downloaded successfully.",7e3)},error:function(e,t,i){parent.$("body").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.Dashboard,window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function collapeGrid(){$(".collapseIcon").removeClass("collapse-category"),$(".collapseIcon").addClass("expand-category"),window.innerWidth<1041?$(".collapseIcon").html('<span class="su su-category-collapse-mobile"><i class="su su-category-collapse-mobile path1"></i><i class="su su-category-collapse-mobile path2"></i></span>'):$(".collapseIcon").html("<span class='su su-sidebar-collapse'></span>"),$(".item-listing").removeClass("expandedGrid"),$("#base_footer_Div").removeClass("expandedGrid"),refreshScroller()}function expandGrid(){$(".collapseIcon").removeClass("expand-category"),$(".collapseIcon").addClass("collapse-category"),window.innerWidth<1041?$(".collapseIcon").html('<span class="su su-category-expand-mobile"><i class="su su-category-expand-mobile path1"></i><i class="su su-category-expand-mobile path2"></i></span>'):$(".collapseIcon").html("<span class='su su-sidebar-expand'></span>"),$(".item-listing").addClass("expandedGrid"),$("#base_footer_Div").addClass("expandedGrid")}function initLayoutRender(e){window.innerWidth<1025?(expandGrid(),$(".collapseIcon").show()):($(".collapseIcon").hide(),collapeGrid())}function Report(e){$("#ReportProcessOption_popup").ejDialog("open"),$("#ReportProcessOption_popup").show(),ShowWaitingProgress("#ReportProcessOption_popup_wrapper","show"),$("#ReportProcessOption_popup_iframe").attr("src",processOptionUrl+"?itemId="+e.Id+"&itemName="+e.Name)}window.onpopstate=function(){applyRouting(),ResetItemList(ItemType.Report)},$(document).on("mousedown touchstart","#parent-dashboard-scroll-element .e-scrollbar, #parent-category-scroll-element .e-scrollbar",function(){$(this).addClass("active")}),$(document).on("mouseup touchend mouseleave","#server-app-container",function(){$("#parent-dashboard-scroll-element .e-scrollbar, #parent-category-scroll-element .e-scrollbar").removeClass("active")}),$(document).on("click","#toggle-favorite-report",function(){dashboardGrid.toggleFavorite(this)}),$(document).on("click","#edit-report",function(){dashboardGrid.editDashboard(this)}),$(document).on("click","#edit-draft-report",function(){dashboardGrid.editDraftDashboard(this)}),$(document).on("click","#share-report-permission",function(){dashboardGrid.shareDashboardPermission(this)}),$(document).on("click","#remove-public-grid",function(e){e.preventDefault(),dashboardGrid.makePrivate(this)}),$(document).on("click","#make-public-grid",function(e){e.preventDefault(),dashboardGrid.makePublic(this)}),$(document).on("click","#get-item-link",function(e){e.preventDefault(),dashboardGrid.getItemLink(this)}),$(document).on("click","#download-report",function(){dashboardGrid.downloadReport(this)}),$(document).on("mouseover","#report-views",function(e){e.preventDefault(),dashboardGrid.getDashboardViews(e,this)}),$(document).on("click","#view-schedules",function(){dashboardGrid.viewSchedules(this)}),$(document).on("click",".openInfo",function(e){e.preventDefault(),dashboardGrid.openInfo(this)}),$(document).on("click","#move-report",function(e){e.preventDefault(),dashboardGrid.moveDashboard(this)}),$(document).on("click","#copy-report",function(e){e.preventDefault(),dashboardGrid.copyDashboard(this)}),$(document).on("click","#clone-report",function(e){e.preventDefault(),dashboardGrid.cloneDashboard(this)}),$(document).on("click","#tenant-publish-report",function(e){e.preventDefault(),dashboardGrid.getPublishSiteDetailDialog(this)}),$(document).on("click","#create-report-schedule",function(e){e.preventDefault(),dashboardGrid.scheduleDashboard(this)}),$(document).on("click","#report-version-history",function(e){e.preventDefault(),dashboardGrid.versionHistory(this)}),$(document).on("click","#edit-report-as-xml",function(){dashboardGrid.editRDLInXML(this)}),$(document).on("click","#update-report",function(e){e.preventDefault(),dashboardGrid.updateReport(this)}),$(document).on("click",".delete-report",function(e){e.preventDefault(),dashboardGrid.deleteItem(this)}),$(document).on("click","#export-report",function(){dashboardGrid.exportReport(this)}),$(document).on("click","#report-processing-option",function(e){e.preventDefault(),dashboardGrid.ProcessOption(this)}),$(document).on("click","#dashboard-list-select-all, #grid-dashboard-list-select-all",function(){var e=angular.element("[ng-controller=DashboardCtrl]").scope(),t=angular.element("[ng-controller=DashboardCtrl]").scope(),i="";i=e.reportLayoutView==ReportLayoutView.Card?"#dashboard-list-select-all":"#grid-dashboard-list-select-all";var o=$(i),r=$(".dashboard-select-individual");r.closest("li");if($(".dashboard-select-all-checkbox").removeClass("indeterminate"),o.is(":checked")){if(t.hideOptionMenu=!0,t.reportLayoutView==ReportLayoutView.Card)r.filter(function(){return!$(this).is(":disabled")&&!$(this).closest(".disable-download-checkbox").length}).prop("checked",!0);else r.filter(function(){return!$(this).is(":disabled")}).prop("checked",!0);e.activeMenu==displayCategory.UploadDrafts?($(".upload-button").show(),$(".action-separator").addClass("upload-separator-margin")):($(".action-separator").addClass("no-margin"),$(".download-icon").show())}else r.prop("checked",!1),$(".download-icon").hide();t.$apply()}),$(document).on("click",".dashboard-select-individual",function(){var e=angular.element("[ng-controller=DashboardCtrl]").scope(),t="";t=e.reportLayoutView==ReportLayoutView.Card?"#dashboard-list-select-all":"#grid-dashboard-list-select-all";var i=$(t),o=$(".dashboard-select-individual"),r=o.length===o.filter(":checked").length,n=o.filter(":checked").length>0;if(r?(e.hideOptionMenu=!0,i.prop("checked",!0),$(".dashboard-select-all-checkbox").removeClass("indeterminate")):n?(e.hideOptionMenu=!0,i.prop("checked",!1),$(".dashboard-select-all-checkbox").addClass("indeterminate")):(e.hideOptionMenu=!1,i.prop("checked",!1),$(".dashboard-select-all-checkbox").removeClass("indeterminate")),e.$apply(),e.samePagePreview){var a=$(this),s=a.closest("li");a.is(":checked")?(s.addClass("selected-list"),$("#action-separator").hide()):(s.removeClass("selected-list"),$("#action-separator").show())}}),$(document).on("click",'.dashboard-list-section input[type="checkbox"]',function(){var e=$('.dashboard-list-section input[type="checkbox"]:checked').length,t=angular.element("[ng-controller=DashboardCtrl]").scope();e>0?t.activeMenu==displayCategory.UploadDrafts?($(".upload-button").show(),$(".action-separator").addClass("upload-separator-margin")):($(".action-separator").addClass("no-margin"),$(".download-icon").show()):($(".action-separator").removeClass("upload-separator-margin"),$(".action-separator").removeClass("no-margin"),$(".download-icon").hide(),$(".upload-button").hide(),$("#dashboard-list-select-all").prop("checked",!1),$("#grid-dashboard-list-select-all").prop("checked",!1)),e==t.dashboardList.length?($("#dashboard-list-select-all").prop("checked",!0),$("#grid-dashboard-list-select-all").prop("checked",!0)):($("#dashboard-list-select-all").prop("checked",!1),$("#grid-dashboard-list-select-all").prop("checked",!1))}),$(document).on("click",'.dashboard-list-section input[type="checkbox"]',function(){var e=$('.dashboard-list-section input[type="checkbox"]:checked').length,t=angular.element("[ng-controller=DashboardCtrl]").scope();e>0?t.activeMenu==displayCategory.UploadDrafts?($(".upload-button").show(),$(".action-separator").addClass("upload-separator-margin")):($(".action-separator").addClass("no-margin"),$(".download-icon").show()):($(".action-separator").removeClass("upload-separator-margin"),$(".action-separator").removeClass("no-margin"),$(".download-icon").hide(),$(".upload-button").hide(),$("#dashboard-list-select-all").prop("checked",!1),$("#grid-dashboard-list-select-all").prop("checked",!1)),e==t.dashboardList.length?($("#dashboard-list-select-all").prop("checked",!0),$("#grid-dashboard-list-select-all").prop("checked",!0)):($("#dashboard-list-select-all").prop("checked",!1),$("#grid-dashboard-list-select-all").prop("checked",!1))}),$(function(){$("#ReportProcessOption_popup").ejDialog({width:"750px",showOnInit:!1,allowDraggable:!0,enableResize:!1,showHeader:!1,enableModal:!0,close:"onreportProcessOptionDialogClose",open:"onreportProcessOptionDialogOpen"}),$("#ReportProcessOption_schedule_popup").ejDialog({width:"800px",showOnInit:!1,allowDraggable:!0,enableResize:!1,showHeader:!1,enableModal:!0,close:"onreportProcessOptionScheduleDialogClose",open:"onreportProcessOptionScheduleDialogOpen"}),$("#ReportProcessOption_schedule_popup_wrapper").ejWaitingPopup(),$("#ReportProcessOption_popup_wrapper").ejWaitingPopup(),$(document).on("click",".item-edit",function(e){$("#report_popup").ejDialog("open"),ShowWaitingProgress("#report_popup_wrapper","show"),$("#report_iframe").attr("src",editreportviewUrl+"?itemId="+$(this).attr("data-item-id")),$("#report_popup_title .e-title").html("Update RDL report")}),$(document).on("click",".update-datasource",function(){var e=$(this).attr("data-item-id");$("#update-data-source-popup").ejDialog("open"),ShowWaitingProgress("#update-data-source-popup_wrapper","show"),$("#update-data-source-popup-iframe").attr("src",getDataSourceDetailsUrl+"?itemId="+e+"&&itemName="+$(this).attr("data-itemname")+"&&categoryName="+$(this).attr("data-category-name")),$("#update-data-source-popup-iframe").attr("data-item-id",e)}),$(window).resize(function(){$("#items").data("ejGrid");var e=$("#ItemAction").data("ejDialog");e.isOpened()&&e._dialogPosition();var t=$("#popup-container").data("ejDialog");null!=t&&t.isOpened()&&t._dialogPosition()}),$(".collapseIcon").on("click",function(e){$(this).hasClass("collapse-category")?collapeGrid():expandGrid()})});var isSubCategoryDialogBinded=!1,isSubCategoryAddDialogBinded=!1;function deleteCategory(e){$(this).parents(".dropdown").removeClass("open"),$(this).parents(".dropdown").find(".dropdown-backdrop").remove(),$("#delete-item-name").html(e.Name),$("#delete-item").attr("data-item-id",e.Id),$("#item-delete-confirmation").ejDialog("open"),$("#item-delete-confirmation-wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:deleteConfirmationUrl,data:{itemId:e.Id,itemTypeId:e.ItemType,itemName:e.Name},async:!1,success:function(e){$("#item-delete-confirmation-wrapper").ejWaitingPopup("hide"),$("#item-delete-confirmation").html(e)}})}function EditCategory(e,t,i,o){t=decodeHtmlAsString(t),i=decodeHtmlAsString(i),$("#EditCategoryPopup #category_name").val(t),$("#EditCategoryPopup #category_description").val(i),$("#EditCategoryPopup").ejDialog("open"),window.isEdited=!1,window.editData={ItemId:e,Name:t,Description:i,ParentId:o}}function AddSubCategory(e,t,i){document.getElementById("AddSubCategoryPopup").style.display="block";var o='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.LocalizationContent.AddSubCategory+'</span><span class="item-name">'+t+"</span></span>";if(isSubCategoryAddDialogBinded){(r=document.getElementById("add-sub-category-dialog").ej2_instances)[0].header=o,r[0].show()}else{var r,n=document.createElement("div");n.setAttribute("id","add-sub-category-dialog"),document.getElementById("dashboard-page-container").appendChild(n),(r=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"430px":window.innerWidth-10,showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:o,showCloseIcon:!0,content:document.getElementById("AddSubCategoryPopup"),close:function(e){clearSubCategoryValues(e)},buttons:[{click:function(e){addSubCategory()},buttonModel:{isPrimary:!0,cssClass:"app-btn-primary",content:window.Server.App.LocalizationContent.AddButton}},{click:function(){closeaddSubCategoryPopup()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.LocalizationContent.CancelButton}}]})).appendTo(n),isSubCategoryAddDialogBinded=!0}ejs.popups.createSpinner({target:document.getElementById("add-sub-category-dialog")}),ejs.popups.setSpinner({type:"Material"}),ejs.popups.showSpinner(document.getElementById("add-sub-category-dialog")),window.editData={ItemId:e,Name:t,Description:i},ejs.popups.hideSpinner(document.getElementById("add-sub-category-dialog"))}function addSubCategory(){if(!$("#addSubCategoryForm").valid())return!1;document.getElementById("add-sub-category-dialog").ej2_instances;ejs.popups.showSpinner(document.getElementById("add-sub-category-dialog"));var e=$("#add-sub-category-dialog #sub-category_name").val().trim(),t=$("#add-sub-category-dialog #category_description").val().trim();$.ajax({type:"POST",url:addSubCategoryUrl,data:{CategoryName:e,Description:t,ParentId:window.editData.ItemId},async:!1,success:function(t){if(t.IsSuccess){var i=createLoader("item-list-panel");$("#item-list-panel").ejWaitingPopup({template:$("#"+i)}),void 0!==window.IsAddDashboard&&!0===window.IsAddDashboard||void 0!==window.IsCopyOrMoveDashboard&&!0===window.IsCopyOrMoveDashboard?(window.IsCategoryAdded=!0,isMultiTab?updateMultiTabCategory(window.CategoryName,t.ItemId):updateContents(window.CategoryName,t.ItemId,window.IsCopyOrMoveDashboard)):null!=window.UploadDashboard&&window.UploadDashboard?(ejs.popups.hideSpinner(document.getElementById("add-sub-category-dialog")),closeaddSubCategoryPopup(),onUploadDialogOpen()):(SuccessAlert(window.Server.App.LocalizationContent.Categoy,window.Server.App.LocalizationContent.AddSuccessMessage.format(e),7e3),"function"==typeof ResetItemList&&dashboardItemCount>0&&ResetItemList(1),setTimeout(function(){$("li[data-dashboard-id='"+t.ItemId+"']").parents("li.category-list-item").each(function(){$(this).find(".arrow-icon").hasClass("su-angle-right")&&($(this).children(".nested-li").removeClass("show-sub-category"),$(this).find(".arrow-icon").eq(0).removeClass("su-angle-right").addClass("su-vertical-expand"))})},1e3)),closeaddSubCategoryPopup()}else t.IsCategoryExist?($("#AddSubCategoryPopup #validate-name").parent("span").addClass("has-error"),$("#AddSubCategoryPopup #validate-name").html(window.Server.App.LocalizationContent.IsCategoryExist)):t.HasPermission||(ejs.popups.hideSpinner(document.getElementById("add-sub-category-dialog")),closeaddSubCategoryPopup(),WarningAlert(window.Server.App.LocalizationContent.Categoy,window.Server.App.LocalizationContent.AddCategoryPermissionWarningAlert,7e3))},complete:function(){ejs.popups.hideSpinner(document.getElementById("add-sub-category-dialog"))}})}function closeaddSubCategoryPopup(){$("#AddSubCategoryPopup #validate-name").parent("span").parent("td").removeClass("has-error"),$("#AddSubCategoryPopup #validate-name").parent("span").removeClass("has-error"),$("#AddSubCategoryPopup #validate-name").text(""),$("#AddSubCategoryPopup #plugin_validation").html(""),document.getElementById("add-sub-category-dialog").ej2_instances[0].hide(),$("#add-sub-category-dialog #sub-category_name").val(""),$("#add-sub-category-dialog #category_description").val("")}function clearSubCategoryValues(e){(e?.event?.target?.closest(".e-dlg-closeicon-btn")||e?.event?.target?.classList?.contains("e-icon-dlg-close"))&&($("#AddSubCategoryPopup #validate-name").parent("span").parent("td").removeClass("has-error"),$("#AddSubCategoryPopup #validate-name").parent("span").removeClass("has-error"),$("#AddSubCategoryPopup #validate-name").text(""),$("#AddSubCategoryPopup #plugin_validation").html(""),$("#add-sub-category-dialog #sub-category_name").val(""),$("#add-sub-category-dialog #category_description").val(""))}$(function(){var e=null!=$("#sub-category_name").attr("data-maxlength")?$("#sub-category_name").attr("data-maxlength"):255;$.validator.addMethod("isLengthExceeded",function(t,i){return t.length<=e},function(){return window.Server.App.LocalizationContent.CharacterExceedMessage.replace("{0}",e)}),$("#addSubCategoryForm").validate({errorElement:"div",onkeyup:function(e,t){9!=t.keyCode&&$(e).valid(),$("#sub-category_name").next("#validate-name").parent("span").removeClass("has-error"),$("#sub-category_name").next("#validate-name").html("")},onfocusout:function(e){$(e).valid()},rules:{categoryName:{isRequired:!0,isValidName:!0,isLengthExceeded:!0}},messages:{categoryName:{isRequired:window.Server.App.LocalizationContent.Categoryvalidator}},highlight:function(e){$(e).closest("td").addClass("has-error")},unhighlight:function(e){"sub-category_name"==$(e).attr("id")&&($(e).closest("td").removeClass("has-error"),$(e).closest("td").find("div").html(""))},errorPlacement:function(e,t){$(t).closest("td").find("div").html(e.html())}}),$(document).keyup(function(e){27==e.keyCode&&window.parent.$("#createButton").focus()}),$("#sub-category_name").bind("keypress",function(e){if(13==e.keyCode)return e.preventDefault(),addItemValidate(),!1})}),$(function(){$("#EditCategoryPopup").ejDialog({width:"600px",height:"250px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!0});var e=createLoader("EditCategoryPopup_wrapper");$("#EditCategoryPopup_wrapper").ejWaitingPopup({template:$("#"+e)})});var isSupported=!1,type="";function result(){isSupported||(window.location=designerUrl)}function launchApplication(e){/edge/i.test(navigator.userAgent)?launchIE(e):/opr/i.test(navigator.userAgent)||"opera"in window?launchOpera(e):/chrome/i.test(navigator.appVersion)?launchChrome(e):/safari/i.test(navigator.userAgent)?launchSafari(e):/firefox/i.test(navigator.userAgent)?launchMozilla(e):/trident/i.test(navigator.userAgent)&&launchIE(e)}function launchIE(e){if(navigator.msLaunchUri)navigator.msLaunchUri(e,msLaunchUriSuccess,msLaunchNoHandler);else{var t=window.open("","","width=0,height=0");t.document.write("<iframe src='"+e+"></iframe>"),setTimeout(function(){try{t.location.href,isSupported=!0}catch(e){}isSupported?t.setTimeout("window.close()",100):t.close(),result()},100)}}function msLaunchUriSuccess(){isSupported=!0,result()}function msLaunchNoHandler(){isSupported=!1,result()}function launchMozilla(e){iFrame=$("#hiddeniframe")[0],isSupported=!1;try{iFrame.contentWindow.location.href=e,isSupported=!0,result()}catch(e){"NS_ERROR_UNKNOWN_PROTOCOL"==e.name&&(isSupported=!1,result())}}function launchChrome(e){var t=$("#applauncherinputhidden")[0];isSupported=!1,t.focus(),console.log($($("#applauncherinputhidden")[0]).is(":focus")),t.onblur=function(){isSupported=!0},window.onblur=function(){isSupported=!0,console.log("blur")},location.href=e,setTimeout(function(){console.log($($("#applauncherinputhidden")[0]).is(":focus")),t.onblur=null,window.onblur=null,result()},2e3)}function launchSafari(e){isSupported=!1;var t=$("#hiddeniframe")[0];window.onblur=function(){isSupported=!0,console.log("blur")},t.contentWindow.location.href=e,setTimeout(function(){window.onblur=null,result()},4e3)}function launchOpera(e){var t=$("#hiddeniframe")[0],i=$("#applauncherinputhidden")[0];isSupported=!1,i.focus(),i.onblur=function(){isSupported=!0},window.onblur=function(){isSupported=!0,console.log("blur")},t.contentWindow.location.href=e,setTimeout(function(){console.log($($("#applauncherinputhidden")[0]).is(":focus")),i.onblur=null,window.onblur=null,result()},2e3)}function extractXSRFTokenFromCookie(){var e=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));return e?e.split("=")[1]:null}function setXSRFRequestHeader(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}function decodeHtmlAsString(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function EscapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}$(document).on("click","#launcher",function(e){if(i_am_ie9)e.preventDefault(),messageBox("su-info",window.Server.App.LocalizationContent.Information,window.Server.App.LocalizationContent.UnableToLaunchdesigner+" <a href='"+designerInstallationHelpUrl+"'>"+window.Server.App.LocalizationContent.LinkContent+"</a> "+window.Server.App.LocalizationContent.OpenDashboardDesigner,"success",function(){onCloseMessageBox()});else{var t=$(this).children("#designerArgument").html();launchApplication($("#DesignerName").val()+":"+t)}}),$.ajaxSetup({beforeSend:function(e){setXSRFRequestHeader(e)}});
