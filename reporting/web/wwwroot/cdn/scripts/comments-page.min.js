/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var i=[],n=Object.getPrototypeOf,o=i.slice,r=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},s=i.push,a=i.indexOf,l={},c=l.toString,h=l.hasOwnProperty,d=h.toString,u=d.call(Object),p={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},m=function(e){return null!=e&&e===e.window},g=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,i){var n,o,r=(i=i||g).createElement("script");if(r.text=e,t)for(n in v)(o=t[n]||t.getAttribute&&t.getAttribute(n))&&r.setAttribute(n,o);i.head.appendChild(r).parentNode.removeChild(r)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var _="3.5.1",w=function(e,t){return new w.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,i=y(e);return!f(e)&&!m(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}w.fn=w.prototype={jquery:_,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},w.extend=w.fn.extend=function(){var e,t,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||f(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&s!==n&&(c&&n&&(w.isPlainObject(n)||(o=Array.isArray(n)))?(i=s[t],r=o&&!Array.isArray(i)?[]:o||w.isPlainObject(i)?i:{},o=!1,s[t]=w.extend(c,r,n)):void 0!==n&&(s[t]=n));return s},w.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==c.call(e)||(t=n(e))&&("function"!=typeof(i=h.call(t,"constructor")&&t.constructor)||d.call(i)!==u))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){b(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(x(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var i=t||[];return null!=e&&(x(Object(e))?w.merge(i,"string"==typeof e?[e]:e):s.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:a.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,r=e.length,s=!i;o<r;o++)!t(e[o],o)!==s&&n.push(e[o]);return n},map:function(e,t,i){var n,o,s=0,a=[];if(x(e))for(n=e.length;s<n;s++)null!=(o=t(e[s],s,i))&&a.push(o);else for(s in e)null!=(o=t(e[s],s,i))&&a.push(o);return r(a)},guid:1,support:p}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=i[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var C=function(e){var t,i,n,o,r,s,a,l,c,h,d,u,p,f,m,g,v,b,y,_="sizzle"+1*new Date,w=e.document,x=0,C=0,S=le(),T=le(),k=le(),D=le(),L=function(e,t){return e===t&&(d=!0),0},A={}.hasOwnProperty,O=[],E=O.pop,I=O.push,M=O.push,j=O.slice,N=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$="[\\x20\\t\\r\\n\\f]",z="(?:\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+$+"*("+z+")(?:"+$+"*([*^$|!~]?=)"+$+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+$+"*\\]",F=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",R=new RegExp($+"+","g"),U=new RegExp("^"+$+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$+"+$","g"),W=new RegExp("^"+$+"*,"+$+"*"),B=new RegExp("^"+$+"*([>+~]|"+$+")"+$+"*"),q=new RegExp($+"|>"),V=new RegExp(F),G=new RegExp("^"+z+"$"),X={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$+"*(even|odd|(([+-]|)(\\d*)n|)"+$+"*(?:([+-]|)"+$+"*(\\d+)|))"+$+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+$+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$+"*((?:-\\d)?\\d*)"+$+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\([^\\r\\n\\f])","g"),ie=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){u()},se=_e(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{M.apply(O=j.call(w.childNodes),w.childNodes),O[w.childNodes.length].nodeType}catch(t){M={apply:O.length?function(e,t){I.apply(e,j.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function ae(e,t,n,o){var r,a,c,h,d,f,v,b=t&&t.ownerDocument,w=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return n;if(!o&&(u(t),t=t||p,m)){if(11!==w&&(d=Z.exec(e)))if(r=d[1]){if(9===w){if(!(c=t.getElementById(r)))return n;if(c.id===r)return n.push(c),n}else if(b&&(c=b.getElementById(r))&&y(t,c)&&c.id===r)return n.push(c),n}else{if(d[2])return M.apply(n,t.getElementsByTagName(e)),n;if((r=d[3])&&i.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(r)),n}if(i.qsa&&!D[e+" "]&&(!g||!g.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(v=e,b=t,1===w&&(q.test(e)||B.test(e))){for((b=ee.test(e)&&ve(t.parentNode)||t)===t&&i.scope||((h=t.getAttribute("id"))?h=h.replace(ne,oe):t.setAttribute("id",h=_)),a=(f=s(e)).length;a--;)f[a]=(h?"#"+h:":scope")+" "+ye(f[a]);v=f.join(",")}try{return M.apply(n,b.querySelectorAll(v)),n}catch(t){D(e,!0)}finally{h===_&&t.removeAttribute("id")}}}return l(e.replace(U,"$1"),t,n,o)}function le(){var e=[];return function t(i,o){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=o}}function ce(e){return e[_]=!0,e}function he(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var i=e.split("|"),o=i.length;o--;)n.attrHandle[i[o]]=t}function ue(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce(function(t){return t=+t,ce(function(i,n){for(var o,r=e([],i.length,t),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=ae.support={},r=ae.isXML=function(e){var t=e.namespaceURI,i=(e.ownerDocument||e).documentElement;return!K.test(t||i&&i.nodeName||"HTML")},u=ae.setDocument=function(e){var t,o,s=e?e.ownerDocument||e:w;return s!=p&&9===s.nodeType&&s.documentElement&&(f=(p=s).documentElement,m=!r(p),w!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),i.scope=he(function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),i.attributes=he(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=he(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=J.test(p.getElementsByClassName),i.getById=he(function(e){return f.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),i.getById?(n.filter.ID=function(e){var t=e.replace(te,ie);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,ie);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i,n,o,r=t.getElementById(e);if(r){if((i=r.getAttributeNode("id"))&&i.value===e)return[r];for(o=t.getElementsByName(e),n=0;r=o[n++];)if((i=r.getAttributeNode("id"))&&i.value===e)return[r]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(i.qsa=J.test(p.querySelectorAll))&&(he(function(e){var t;f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+$+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+$+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+$+"*name"+$+"*="+$+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),he(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+$+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=J.test(b=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&he(function(e){i.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",F)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(f.compareDocumentPosition),y=t||J.test(f.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},L=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e==p||e.ownerDocument==w&&y(w,e)?-1:t==p||t.ownerDocument==w&&y(w,t)?1:h?N(h,e)-N(h,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,o=e.parentNode,r=t.parentNode,s=[e],a=[t];if(!o||!r)return e==p?-1:t==p?1:o?-1:r?1:h?N(h,e)-N(h,t):0;if(o===r)return ue(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?ue(s[n],a[n]):s[n]==w?-1:a[n]==w?1:0}),p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(u(e),i.matchesSelector&&m&&!D[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var n=b.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){D(t,!0)}return 0<ae(t,p,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!=p&&u(e),y(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=p&&u(e);var o=n.attrHandle[t.toLowerCase()],r=o&&A.call(n.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==r?r:i.attributes||!m?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ae.escape=function(e){return(e+"").replace(ne,oe)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],o=0,r=0;if(d=!i.detectDuplicates,h=!i.sortStable&&e.slice(0),e.sort(L),d){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return h=null,e},o=ae.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=o(t);return i},(n=ae.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&V.test(i)&&(t=s(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+$+")"+e+"("+$+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var o=ae.attr(n,e);return null==o?"!="===t:!t||(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&-1<o.indexOf(i):"$="===t?i&&o.slice(-i.length)===i:"~="===t?-1<(" "+o.replace(R," ")+" ").indexOf(i):"|="===t&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,h,d,u,p,f,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(g){if(r){for(;m;){for(u=t;u=u[m];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&b){for(y=(p=(c=(h=(d=(u=g)[_]||(u[_]={}))[u.uniqueID]||(d[u.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(y=p=0)||f.pop();)if(1===u.nodeType&&++y&&u===t){h[e]=[x,p,y];break}}else if(b&&(y=p=(c=(h=(d=(u=t)[_]||(u[_]={}))[u.uniqueID]||(d[u.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===y)for(;(u=++p&&u&&u[m]||(y=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++y||(b&&((h=(d=u[_]||(u[_]={}))[u.uniqueID]||(d[u.uniqueID]={}))[e]=[x,y]),u!==t)););return(y-=o)===n||y%n==0&&0<=y/n}}},PSEUDO:function(e,t){var i,o=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return o[_]?o(t):1<o.length?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,i){for(var n,r=o(e,t),s=r.length;s--;)e[n=N(e,r[s])]=!(i[n]=r[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:ce(function(e){var t=[],i=[],n=a(e.replace(U,"$1"));return n[_]?ce(function(e,t,i,o){for(var r,s=n(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,o,r){return t[0]=e,n(t,null,r,i),t[0]=null,!i.pop()}}),has:ce(function(e){return function(t){return 0<ae(e,t).length}}),contains:ce(function(e){return e=e.replace(te,ie),function(t){return-1<(t.textContent||o(t)).indexOf(e)}}),lang:ce(function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ie).toLowerCase(),function(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,i){return[i<0?i+t:i]}),even:ge(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:ge(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:ge(function(e,t,i){for(var n=i<0?i+t:t<i?t:i;0<=--n;)e.push(n);return e}),gt:ge(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=fe(t);function be(){}function ye(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function _e(e,t,i){var n=t.dir,o=t.next,r=o||n,s=i&&"parentNode"===r,a=C++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,o);return!1}:function(t,i,l){var c,h,d,u=[x,a];if(l){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(h=(d=t[_]||(t[_]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=h[r])&&c[0]===x&&c[1]===a)return u[2]=c[2];if((h[r]=u)[2]=e(t,i,l))return!0}return!1}}function we(e){return 1<e.length?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function xe(e,t,i,n,o){for(var r,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(i&&!i(r,n,o)||(s.push(r),c&&t.push(a)));return s}function Ce(e,t,i,n,o,r){return n&&!n[_]&&(n=Ce(n)),o&&!o[_]&&(o=Ce(o,r)),ce(function(r,s,a,l){var c,h,d,u=[],p=[],f=s.length,m=r||function(e,t,i){for(var n=0,o=t.length;n<o;n++)ae(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),g=!e||!r&&t?m:xe(m,u,e,a,l),v=i?o||(r?e:f||n)?[]:s:g;if(i&&i(g,v,a,l),n)for(c=xe(v,p),n(c,[],a,l),h=c.length;h--;)(d=c[h])&&(v[p[h]]=!(g[p[h]]=d));if(r){if(o||e){if(o){for(c=[],h=v.length;h--;)(d=v[h])&&c.push(g[h]=d);o(null,v=[],c,l)}for(h=v.length;h--;)(d=v[h])&&-1<(c=o?N(r,d):u[h])&&(r[c]=!(s[c]=d))}}else v=xe(v===s?v.splice(f,v.length):v),o?o(null,s,v,l):M.apply(s,v)})}function Se(e){for(var t,i,o,r=e.length,s=n.relative[e[0].type],a=s||n.relative[" "],l=s?1:0,h=_e(function(e){return e===t},a,!0),d=_e(function(e){return-1<N(t,e)},a,!0),u=[function(e,i,n){var o=!s&&(n||i!==c)||((t=i).nodeType?h(e,i,n):d(e,i,n));return t=null,o}];l<r;l++)if(i=n.relative[e[l].type])u=[_e(we(u),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[_]){for(o=++l;o<r&&!n.relative[e[o].type];o++);return Ce(1<l&&we(u),1<l&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(U,"$1"),i,l<o&&Se(e.slice(l,o)),o<r&&Se(e=e.slice(o)),o<r&&ye(e))}u.push(i)}return we(u)}return be.prototype=n.filters=n.pseudos,n.setFilters=new be,s=ae.tokenize=function(e,t){var i,o,r,s,a,l,c,h=T[e+" "];if(h)return t?0:h.slice(0);for(a=e,l=[],c=n.preFilter;a;){for(s in i&&!(o=W.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=B.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(U," ")}),a=a.slice(i.length)),n.filter)!(o=X[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return t?a.length:a?ae.error(e):T(e,l).slice(0)},a=ae.compile=function(e,t){var i,o,r,a,l,h,d=[],f=[],g=k[e+" "];if(!g){for(t||(t=s(e)),i=t.length;i--;)(g=Se(t[i]))[_]?d.push(g):f.push(g);(g=k(e,(o=f,a=0<(r=d).length,l=0<o.length,h=function(e,t,i,s,h){var d,f,g,v=0,b="0",y=e&&[],_=[],w=c,C=e||l&&n.find.TAG("*",h),S=x+=null==w?1:Math.random()||.1,T=C.length;for(h&&(c=t==p||t||h);b!==T&&null!=(d=C[b]);b++){if(l&&d){for(f=0,t||d.ownerDocument==p||(u(d),i=!m);g=o[f++];)if(g(d,t||p,i)){s.push(d);break}h&&(x=S)}a&&((d=!g&&d)&&v--,e&&y.push(d))}if(v+=b,a&&b!==v){for(f=0;g=r[f++];)g(y,_,t,i);if(e){if(0<v)for(;b--;)y[b]||_[b]||(_[b]=E.call(s));_=xe(_)}M.apply(s,_),h&&!e&&0<_.length&&1<v+r.length&&ae.uniqueSort(s)}return h&&(x=S,c=w),y},a?ce(h):h))).selector=e}return g},l=ae.select=function(e,t,i,o){var r,l,c,h,d,u="function"==typeof e&&e,p=!o&&s(e=u.selector||e);if(i=i||[],1===p.length){if(2<(l=p[0]=p[0].slice(0)).length&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(te,ie),t)||[])[0]))return i;u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=X.needsContext.test(e)?0:l.length;r--&&(c=l[r],!n.relative[h=c.type]);)if((d=n.find[h])&&(o=d(c.matches[0].replace(te,ie),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(r,1),!(e=o.length&&ye(l)))return M.apply(i,o),i;break}}return(u||a(e,p))(o,t,!m,i,!t||ee.test(e)&&ve(t.parentNode)||t),i},i.sortStable=_.split("").sort(L).join("")===_,i.detectDuplicates=!!d,u(),i.sortDetached=he(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),he(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&he(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),he(function(e){return null==e.getAttribute("disabled")})||de(P,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ae}(e);w.find=C,w.expr=C.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=C.uniqueSort,w.text=C.getText,w.isXMLDoc=C.isXML,w.contains=C.contains,w.escapeSelector=C.escape;var S=function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&w(e).is(i))break;n.push(e)}return n},T=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},k=w.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,i){return f(t)?w.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?w.grep(e,function(e){return e===t!==i}):"string"!=typeof t?w.grep(e,function(e){return-1<a.call(t,e)!==i}):w.filter(t,e,i)}w.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?w.find.matchesSelector(n,e)?[n]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,i,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<n;t++)if(w.contains(o[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)w.find(e,o[t],i);return 1<n?w.uniqueSort(i):i},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&k.test(e)?w(e):e||[],!1).length}});var O,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,i){var n,o;if(!e)return this;if(i=i||O,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:E.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),L.test(n[1])&&w.isPlainObject(t))for(n in t)f(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(o=g.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==i.ready?i.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,O=w(g);var I=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,o=this.length,r=[],s="string"!=typeof e&&w(e);if(!k.test(e))for(;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&w.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(1<r.length?w.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?a.call(w(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,i){return S(e,"parentNode",i)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,i){return S(e,"nextSibling",i)},prevUntil:function(e,t,i){return S(e,"previousSibling",i)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(D(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(i,n){var o=w.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=w.filter(n,o)),1<this.length&&(M[e]||w.uniqueSort(o),I.test(e)&&o.reverse()),this.pushStack(o)}});var N=/[^\x20\t\r\n\f]+/g;function P(e){return e}function $(e){throw e}function z(e,t,i,n){var o;try{e&&f(o=e.promise)?o.call(e).done(t).fail(i):e&&f(o=e.then)?o.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}w.Callbacks=function(e){var t,i;e="string"==typeof e?(t=e,i={},w.each(t.match(N)||[],function(e,t){i[t]=!0}),i):w.extend({},e);var n,o,r,s,a=[],l=[],c=-1,h=function(){for(s=s||e.once,r=n=!0;l.length;c=-1)for(o=l.shift();++c<a.length;)!1===a[c].apply(o[0],o[1])&&e.stopOnFalse&&(c=a.length,o=!1);e.memory||(o=!1),n=!1,s&&(a=o?[]:"")},d={add:function(){return a&&(o&&!n&&(c=a.length-1,l.push(o)),function t(i){w.each(i,function(i,n){f(n)?e.unique&&d.has(n)||a.push(n):n&&n.length&&"string"!==y(n)&&t(n)})}(arguments),o&&!n&&h()),this},remove:function(){return w.each(arguments,function(e,t){for(var i;-1<(i=w.inArray(t,a,i));)a.splice(i,1),i<=c&&c--}),this},has:function(e){return e?-1<w.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return s=l=[],a=o="",this},disabled:function(){return!a},lock:function(){return s=l=[],o||n||(a=o=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),n||h()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},w.extend({Deferred:function(t){var i=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(i,function(i,n){var o=f(e[n[4]])&&e[n[4]];r[n[1]](function(){var e=o&&o.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,n,o){var r=0;function s(t,i,n,o){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<r)){if((e=n.apply(a,l))===i.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,f(c)?o?c.call(e,s(r,i,P,o),s(r,i,$,o)):(r++,c.call(e,s(r,i,P,o),s(r,i,$,o),s(r,i,P,i.notifyWith))):(n!==P&&(a=void 0,l=[e]),(o||i.resolveWith)(a,l))}},h=o?c:function(){try{c()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,h.stackTrace),r<=t+1&&(n!==$&&(a=void 0,l=[e]),i.rejectWith(a,l))}};t?h():(w.Deferred.getStackHook&&(h.stackTrace=w.Deferred.getStackHook()),e.setTimeout(h))}}return w.Deferred(function(e){i[0][3].add(s(0,e,f(o)?o:P,e.notifyWith)),i[1][3].add(s(0,e,f(t)?t:P)),i[2][3].add(s(0,e,f(n)?n:$))}).promise()},promise:function(e){return null!=e?w.extend(e,o):o}},r={};return w.each(i,function(e,t){var s=t[2],a=t[5];o[t[1]]=s.add,a&&s.add(function(){n=a},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),s.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=s.fireWith}),o.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,i=t,n=Array(i),r=o.call(arguments),s=w.Deferred(),a=function(e){return function(i){n[e]=this,r[e]=1<arguments.length?o.call(arguments):i,--t||s.resolveWith(n,r)}};if(t<=1&&(z(e,s.done(a(i)).resolve,s.reject,!t),"pending"===s.state()||f(r[i]&&r[i].then)))return s.then();for(;i--;)z(r[i],a(i),s.reject);return s.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&H.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();function R(){g.removeEventListener("DOMContentLoaded",R),e.removeEventListener("load",R),w.ready()}w.fn.ready=function(e){return F.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0)!==e&&0<--w.readyWait||F.resolveWith(g,[w])}}),w.ready.then=F.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",R),e.addEventListener("load",R));var U=function(e,t,i,n,o,r,s){var a=0,l=e.length,c=null==i;if("object"===y(i))for(a in o=!0,i)U(e,t,a,i[a],!0,r,s);else if(void 0!==n&&(o=!0,f(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(w(e),i)})),t))for(;a<l;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return o?e:c?t.call(e):l?t(e[0],i):r},W=/^-ms-/,B=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function V(e){return e.replace(W,"ms-").replace(B,q)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=w.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,o=this.cache(e);if("string"==typeof t)o[V(t)]=i;else for(n in t)o[V(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(V):(t=V(t))in n?[t]:t.match(N)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||w.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var K=new X,Y=new X,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(e,t,i){var n,o;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===(o=i)||"false"!==o&&("null"===o?null:o===+o+""?+o:Q.test(o)?JSON.parse(o):o)}catch(e){}Y.set(e,t,i)}else i=void 0;return i}w.extend({hasData:function(e){return Y.hasData(e)||K.hasData(e)},data:function(e,t,i){return Y.access(e,t,i)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,i){return K.access(e,t,i)},_removeData:function(e,t){K.remove(e,t)}}),w.fn.extend({data:function(e,t){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=Y.get(r),1===r.nodeType&&!K.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=V(n.slice(5)),Z(r,n,o[n]));K.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Y.set(this,e)}):U(this,function(t){var i;if(r&&void 0===t)return void 0!==(i=Y.get(r,e))||void 0!==(i=Z(r,e))?i:void 0;this.each(function(){Y.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Y.remove(this,e)})}}),w.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=K.get(e,t),i&&(!n||Array.isArray(i)?n=K.access(e,t,w.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=w.queue(e,t),n=i.length,o=i.shift(),r=w._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,function(){w.dequeue(e,t)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return K.get(e,i)||K.access(e,i,{empty:w.Callbacks("once memory").add(function(){K.remove(e,[t+"queue",i])})})}}),w.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?w.queue(this[0],e):void 0===t?this:this.each(function(){var i=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=w.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=K.get(r[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],ne=g.documentElement,oe=function(e){return w.contains(e.ownerDocument,e)},re={composed:!0};ne.getRootNode&&(oe=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(re)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===w.css(e,"display")};function ae(e,t,i,n){var o,r,s=20,a=n?function(){return n.cur()}:function(){return w.css(e,t,"")},l=a(),c=i&&i[3]||(w.cssNumber[t]?"":"px"),h=e.nodeType&&(w.cssNumber[t]||"px"!==c&&+l)&&te.exec(w.css(e,t));if(h&&h[3]!==c){for(l/=2,c=c||h[3],h=+l||1;s--;)w.style(e,t,h+c),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),h/=r;h*=2,w.style(e,t,h+c),i=i||[]}return i&&(h=+h||+l||0,o=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=h,n.end=o)),o}var le={};function ce(e,t){for(var i,n,o,r,s,a,l,c=[],h=0,d=e.length;h<d;h++)(n=e[h]).style&&(i=n.style.display,t?("none"===i&&(c[h]=K.get(n,"display")||null,c[h]||(n.style.display="")),""===n.style.display&&se(n)&&(c[h]=(l=s=r=void 0,s=(o=n).ownerDocument,a=o.nodeName,(l=le[a])||(r=s.body.appendChild(s.createElement(a)),l=w.css(r,"display"),r.parentNode.removeChild(r),"none"===l&&(l="block"),le[a]=l)))):"none"!==i&&(c[h]="none",K.set(n,"display",i)));for(h=0;h<d;h++)null!=c[h]&&(e[h].style.display=c[h]);return e}w.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?w(this).show():w(this).hide()})}});var he,de,ue=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fe=/^$|^module$|\/(?:java|ecma)script/i;he=g.createDocumentFragment().appendChild(g.createElement("div")),(de=g.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),he.appendChild(de),p.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",p.option=!!he.lastChild;var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?w.merge([e],i):i}function ve(e,t){for(var i=0,n=e.length;i<n;i++)K.set(e[i],"globalEval",!t||K.get(t[i],"globalEval"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,p.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function ye(e,t,i,n,o){for(var r,s,a,l,c,h,d=t.createDocumentFragment(),u=[],p=0,f=e.length;p<f;p++)if((r=e[p])||0===r)if("object"===y(r))w.merge(u,r.nodeType?[r]:r);else if(be.test(r)){for(s=s||d.appendChild(t.createElement("div")),a=(pe.exec(r)||["",""])[1].toLowerCase(),l=me[a]||me._default,s.innerHTML=l[1]+w.htmlPrefilter(r)+l[2],h=l[0];h--;)s=s.lastChild;w.merge(u,s.childNodes),(s=d.firstChild).textContent=""}else u.push(t.createTextNode(r));for(d.textContent="",p=0;r=u[p++];)if(n&&-1<w.inArray(r,n))o&&o.push(r);else if(c=oe(r),s=ge(d.appendChild(r),"script"),c&&ve(s),i)for(h=0;r=s[h++];)fe.test(r.type||"")&&i.push(r);return d}var _e=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Se(){return!1}function Te(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,i,n,o,r){var s,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)ke(e,a,i,n,t[a],r);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=Se;else if(!o)return e;return 1===r&&(s=o,(o=function(e){return w().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),e.each(function(){w.event.add(this,t,o,n,i)})}function De(e,t,i){i?(K.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var n,r,s=K.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=o.call(arguments),K.set(this,t,s),n=i(this,t),this[t](),s!==(r=K.get(this,t))||n?K.set(this,t,!1):r={},s!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else s.length&&(K.set(this,t,{value:w.event.trigger(w.extend(s[0],w.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===K.get(e,t)&&w.event.add(e,t,Ce)}w.event={global:{},add:function(e,t,i,n,o){var r,s,a,l,c,h,d,u,p,f,m,g=K.get(e);if(G(e))for(i.handler&&(i=(r=i).handler,o=r.selector),o&&w.find.matchesSelector(ne,o),i.guid||(i.guid=w.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(N)||[""]).length;c--;)p=m=(a=xe.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=w.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=w.event.special[p]||{},h=w.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:f.join(".")},r),(u=l[p])||((u=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?u.splice(u.delegateCount++,0,h):u.push(h),w.event.global[p]=!0)},remove:function(e,t,i,n,o){var r,s,a,l,c,h,d,u,p,f,m,g=K.hasData(e)&&K.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(p=m=(a=xe.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=w.event.special[p]||{},u=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=u.length;r--;)h=u[r],!o&&m!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(u.splice(r,1),h.selector&&u.delegateCount--,d.remove&&d.remove.call(e,h));s&&!u.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||w.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)w.event.remove(e,p+t[c],i,n,!0);w.isEmptyObject(l)&&K.remove(e,"handle events")}},dispatch:function(e){var t,i,n,o,r,s,a=new Array(arguments.length),l=w.event.fix(e),c=(K.get(this,"events")||Object.create(null))[l.type]||[],h=w.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){for(s=w.event.handlers.call(this,l,c),t=0;(o=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(n=((w.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,n,o,r,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],s={},i=0;i<l;i++)void 0===s[o=(n=t[i]).selector+" "]&&(s[o]=n.needsContext?-1<w(o,this).index(c):w.find(o,this,null,[c]).length),s[o]&&r.push(n);r.length&&a.push({elem:c,handlers:r})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ue.test(t.type)&&t.click&&D(t,"input")&&De(t,"click",Ce),!1},trigger:function(e){var t=this||e;return ue.test(t.type)&&t.click&&D(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return ue.test(t.type)&&t.click&&D(t,"input")&&K.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return De(this,e,Te),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||w.contains(this,n))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),w.fn.extend({on:function(e,t,i,n){return ke(this,e,t,i,n)},one:function(e,t,i,n){return ke(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,w(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Se),this.each(function(){w.event.remove(this,e,i,t)})}});var Le=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ee(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Me(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function je(e,t){var i,n,o,r,s,a;if(1===t.nodeType){if(K.hasData(e)&&(a=K.get(e).events))for(o in K.remove(t,"handle events"),a)for(i=0,n=a[o].length;i<n;i++)w.event.add(t,o,a[o][i]);Y.hasData(e)&&(r=Y.access(e),s=w.extend({},r),Y.set(t,s))}}function Ne(e,t,i,n){t=r(t);var o,s,a,l,c,h,d=0,u=e.length,m=u-1,g=t[0],v=f(g);if(v||1<u&&"string"==typeof g&&!p.checkClone&&Ae.test(g))return e.each(function(o){var r=e.eq(o);v&&(t[0]=g.call(this,o,r.html())),Ne(r,t,i,n)});if(u&&(s=(o=ye(t,e[0].ownerDocument,!1,e,n)).firstChild,1===o.childNodes.length&&(o=s),s||n)){for(l=(a=w.map(ge(o,"script"),Ie)).length;d<u;d++)c=o,d!==m&&(c=w.clone(c,!0,!0),l&&w.merge(a,ge(c,"script"))),i.call(e[d],c,d);if(l)for(h=a[a.length-1].ownerDocument,w.map(a,Me),d=0;d<l;d++)c=a[d],fe.test(c.type||"")&&!K.access(c,"globalEval")&&w.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},h):b(c.textContent.replace(Oe,""),c,h))}return e}function Pe(e,t,i){for(var n,o=t?w.filter(t,e):e,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||w.cleanData(ge(n)),n.parentNode&&(i&&oe(n)&&ve(ge(n,"script")),n.parentNode.removeChild(n));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,o,r,s,a,l,c,h=e.cloneNode(!0),d=oe(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(s=ge(h),n=0,o=(r=ge(e)).length;n<o;n++)a=r[n],"input"===(c=(l=s[n]).nodeName.toLowerCase())&&ue.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(i)for(r=r||ge(e),s=s||ge(h),n=0,o=r.length;n<o;n++)je(r[n],s[n]);else je(e,h);return 0<(s=ge(h,"script")).length&&ve(s,!d&&ge(e,"script")),h},cleanData:function(e){for(var t,i,n,o=w.event.special,r=0;void 0!==(i=e[r]);r++)if(G(i)){if(t=i[K.expando]){if(t.events)for(n in t.events)o[n]?w.event.remove(i,n):w.removeEvent(i,n,t.handle);i[K.expando]=void 0}i[Y.expando]&&(i[Y.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return U(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ne(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ee(this,e).appendChild(e)})},prepend:function(){return Ne(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ee(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!me[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(w.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ne(this,arguments,function(t){var i=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ge(this)),i&&i.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var i,n=[],o=w(e),r=o.length-1,a=0;a<=r;a++)i=a===r?this:this.clone(!0),w(o[a])[t](i),s.apply(n,i.get());return this.pushStack(n)}});var $e=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),ze=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},He=function(e,t,i){var n,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in n=i.call(e),t)e.style[o]=r[o];return n},Fe=new RegExp(ie.join("|"),"i");function Re(e,t,i){var n,o,r,s,a=e.style;return(i=i||ze(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||oe(e)||(s=w.style(e,t)),!p.pixelBoxStyles()&&$e.test(s)&&Fe.test(t)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(c).appendChild(h);var t=e.getComputedStyle(h);n="1%"!==t.top,l=12===i(t.marginLeft),h.style.right="60%",s=36===i(t.right),o=36===i(t.width),h.style.position="absolute",r=12===i(h.offsetWidth/3),ne.removeChild(c),h=null}}function i(e){return Math.round(parseFloat(e))}var n,o,r,s,a,l,c=g.createElement("div"),h=g.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===h.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r},reliableTrDimensions:function(){var t,i,n,o;return null==a&&(t=g.createElement("table"),i=g.createElement("tr"),n=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px",i.style.height="1px",n.style.height="9px",ne.appendChild(t).appendChild(i).appendChild(n),o=e.getComputedStyle(i),a=3<parseInt(o.height),ne.removeChild(t)),a}}))}();var We=["Webkit","Moz","ms"],Be=g.createElement("div").style,qe={};function Ve(e){return w.cssProps[e]||qe[e]||(e in Be?e:qe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=We.length;i--;)if((e=We[i]+t)in Be)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ke={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"};function Qe(e,t,i){var n=te.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Je(e,t,i,n,o,r){var s="width"===t?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=w.css(e,i+ie[s],!0,o)),n?("content"===i&&(l-=w.css(e,"padding"+ie[s],!0,o)),"margin"!==i&&(l-=w.css(e,"border"+ie[s]+"Width",!0,o))):(l+=w.css(e,"padding"+ie[s],!0,o),"padding"!==i?l+=w.css(e,"border"+ie[s]+"Width",!0,o):a+=w.css(e,"border"+ie[s]+"Width",!0,o));return!n&&0<=r&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-a-.5))||0),l}function Ze(e,t,i){var n=ze(e),o=(!p.boxSizingReliable()||i)&&"border-box"===w.css(e,"boxSizing",!1,n),r=o,s=Re(e,t,n),a="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(s)){if(!i)return s;s="auto"}return(!p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&D(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===w.css(e,"display",!1,n))&&e.getClientRects().length&&(o="border-box"===w.css(e,"boxSizing",!1,n),(r=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+Je(e,t,i||(o?"border":"content"),r,n,s)+"px"}function et(e,t,i,n,o){return new et.prototype.init(e,t,i,n,o)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Re(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=V(t),l=Xe.test(t),c=e.style;if(l||(t=Ve(a)),s=w.cssHooks[t]||w.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(e,!1,n))?o:c[t];"string"==(r=typeof i)&&(o=te.exec(i))&&o[1]&&(i=ae(e,t,o),r="number"),null!=i&&i==i&&("number"!==r||l||(i+=o&&o[3]||(w.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var o,r,s,a=V(t);return Xe.test(t)||(t=Ve(a)),(s=w.cssHooks[t]||w.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,i)),void 0===o&&(o=Re(e,t,n)),"normal"===o&&t in Ye&&(o=Ye[t]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,i,n){if(i)return!Ge.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,n):He(e,Ke,function(){return Ze(e,t,n)})},set:function(e,i,n){var o,r=ze(e),s=!p.scrollboxSize()&&"absolute"===r.position,a=(s||n)&&"border-box"===w.css(e,"boxSizing",!1,r),l=n?Je(e,t,n,a,r):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-Je(e,t,"border",!1,r)-.5)),l&&(o=te.exec(i))&&"px"!==(o[3]||"px")&&(e.style[t]=i,i=w.css(e,t)),Qe(0,i,l)}}}),w.cssHooks.marginLeft=Ue(p.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Re(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[e+ie[n]+t]=r[n]||r[n-2]||r[0];return o}},"margin"!==e&&(w.cssHooks[e+t].set=Qe)}),w.fn.extend({css:function(e,t){return U(this,function(e,t,i){var n,o,r={},s=0;if(Array.isArray(t)){for(n=ze(e),o=t.length;s<o;s++)r[t[s]]=w.css(e,t[s],!1,n);return r}return void 0!==i?w.style(e,t,i):w.css(e,t)},e,t,1<arguments.length)}}),((w.Tween=et).prototype={constructor:et,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(w.cssNumber[i]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,i=et.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=et.prototype.init,w.fx.step={};var tt,it,nt,ot,rt=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function at(){it&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function lt(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function ct(e,t){var i,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(i=ie[n])]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function ht(e,t,i){for(var n,o=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,t,e))return n}function dt(e,t,i){var n,o,r=0,s=dt.prefilters.length,a=w.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=tt||lt(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(n);return a.notifyWith(e,[c,n,i]),n<1&&s?i:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},i),originalProperties:t,originalOptions:i,startTime:tt||lt(),duration:i.duration,tweens:[],createTween:function(t,i){var n=w.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)c.tweens[i].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),h=c.props;for(function(e,t){var i,n,o,r,s;for(i in e)if(o=t[n=V(i)],r=e[i],Array.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(s=w.cssHooks[n])&&"expand"in s)for(i in r=s.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=o);else t[n]=o}(h,c.opts.specialEasing);r<s;r++)if(n=dt.prefilters[r].call(c,e,h,c.opts))return f(n.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return w.map(h,ht,c),f(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(dt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return ae(i.elem,e,te.exec(t),i),i}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(N);for(var i,n=0,o=e.length;n<o;n++)i=e[n],dt.tweeners[i]=dt.tweeners[i]||[],dt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,o,r,s,a,l,c,h,d="width"in t||"height"in t,u=this,p={},f=e.style,m=e.nodeType&&se(e),g=K.get(e,"fxshow");for(n in i.queue||(null==(s=w._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,w.queue(e,"fx").length||s.empty.fire()})})),t)if(o=t[n],rt.test(o)){if(delete t[n],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||w.style(e,n)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(p))for(n in d&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=K.get(e,"display")),"none"===(h=w.css(e,"display"))&&(c?h=c:(ce([e],!0),c=e.style.display||c,h=w.css(e,"display"),ce([e]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===w.css(e,"float")&&(l||(u.done(function(){f.display=c}),null==c&&(h=f.display,c="none"===h?"":h)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=K.access(e,"fxshow",{display:c}),r&&(g.hidden=!m),m&&ce([e],!0),u.done(function(){for(n in m||ce([e]),K.remove(e,"fxshow"),p)w.style(e,n,p[n])})),l=ht(m?g[n]:0,n,u),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),w.speed=function(e,t,i){var n=e&&"object"==typeof e?w.extend({},e):{complete:i||!i&&t||f(e)&&e,duration:e,easing:i&&t||t&&!f(t)&&t};return w.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in w.fx.speeds?n.duration=w.fx.speeds[n.duration]:n.duration=w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){f(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(e,t,i,n){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=w.isEmptyObject(e),r=w.speed(t,i,n),s=function(){var t=dt(this,w.extend({},e),r);(o||K.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=w.timers,s=K.get(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&st.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(i),t=!1,r.splice(o,1));!t&&i||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=K.get(this),n=i[e+"queue"],o=i[e+"queueHooks"],r=w.timers,s=n?n.length:0;for(i.finish=!0,w.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),w.each(["toggle","show","hide"],function(e,t){var i=w.fn[t];w.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ct(t,!0),e,n,o)}}),w.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),w.timers=[],w.fx.tick=function(){var e,t=0,i=w.timers;for(tt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||w.fx.stop(),tt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){it||(it=!0,at())},w.fx.stop=function(){it=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,i){return t=w.fx&&w.fx.speeds[t]||t,i=i||"fx",this.queue(i,function(i,n){var o=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(o)}})},nt=g.createElement("input"),ot=g.createElement("select").appendChild(g.createElement("option")),nt.type="checkbox",p.checkOn=""!==nt.value,p.optSelected=ot.selected,(nt=g.createElement("input")).value="t",nt.type="radio",p.radioValue="t"===nt.value;var ut,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return U(this,w.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?w.prop(e,t,i):(1===r&&w.isXMLDoc(e)||(o=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ut:void 0)),void 0!==i?null===i?void w.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=w.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&D(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,o=t&&t.match(N);if(o&&1===e.nodeType)for(;i=o[n++];)e.removeAttribute(i)}}),ut={set:function(e,t,i){return!1===t?w.removeAttr(e,i):e.setAttribute(i,i),i}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var i=pt[t]||w.find.attr;pt[t]=function(e,t,n){var o,r,s=t.toLowerCase();return n||(r=pt[s],pt[s]=o,o=null!=i(e,t,n)?s:null,pt[s]=r),o}});var ft=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function gt(e){return(e.match(N)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}w.fn.extend({prop:function(e,t){return U(this,w.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&w.isXMLDoc(e)||(t=w.propFix[t]||t,o=w.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,i,n,o,r,s,a,l=0;if(f(e))return this.each(function(t){w(this).addClass(e.call(this,t,vt(this)))});if((t=bt(e)).length)for(;i=this[l++];)if(o=vt(i),n=1===i.nodeType&&" "+gt(o)+" "){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(a=gt(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,o,r,s,a,l=0;if(f(e))return this.each(function(t){w(this).removeClass(e.call(this,t,vt(this)))});if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;i=this[l++];)if(o=vt(i),n=1===i.nodeType&&" "+gt(o)+" "){for(s=0;r=t[s++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");o!==(a=gt(n))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):f(e)?this.each(function(i){w(this).toggleClass(e.call(this,i,vt(this),t),t)}):this.each(function(){var t,o,r,s;if(n)for(o=0,r=w(this),s=bt(e);t=s[o++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||((t=vt(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":K.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+gt(vt(i))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;w.fn.extend({val:function(e){var t,i,n,o=this[0];return arguments.length?(n=f(e),this.each(function(i){var o;1===this.nodeType&&(null==(o=n?e.call(this,i,w(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=w.map(o,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(yt,""):null==i?"":i:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:gt(w.text(e))}},select:{get:function(e){var t,i,n,o=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:o.length;for(n=r<0?l:s?r:0;n<l;n++)if(((i=o[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!D(i.parentNode,"optgroup"))){if(t=w(i).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=w.makeArray(t),s=o.length;s--;)((n=o[s]).selected=-1<w.inArray(w.valHooks.option.get(n),r))&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<w.inArray(w(e).val(),t)}},p.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),p.focusin="onfocusin"in e;var _t=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,i,n,o){var r,s,a,l,c,d,u,p,v=[n||g],b=h.call(t,"type")?t.type:t,y=h.call(t,"namespace")?t.namespace.split("."):[];if(s=p=a=n=n||g,3!==n.nodeType&&8!==n.nodeType&&!_t.test(b+w.event.triggered)&&(-1<b.indexOf(".")&&(b=(y=b.split(".")).shift(),y.sort()),c=b.indexOf(":")<0&&"on"+b,(t=t[w.expando]?t:new w.Event(b,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:w.makeArray(i,[t]),u=w.event.special[b]||{},o||!u.trigger||!1!==u.trigger.apply(n,i))){if(!o&&!u.noBubble&&!m(n)){for(l=u.delegateType||b,_t.test(l+b)||(s=s.parentNode);s;s=s.parentNode)v.push(s),a=s;a===(n.ownerDocument||g)&&v.push(a.defaultView||a.parentWindow||e)}for(r=0;(s=v[r++])&&!t.isPropagationStopped();)p=s,t.type=1<r?l:u.bindType||b,(d=(K.get(s,"events")||Object.create(null))[t.type]&&K.get(s,"handle"))&&d.apply(s,i),(d=c&&s[c])&&d.apply&&G(s)&&(t.result=d.apply(s,i),!1===t.result&&t.preventDefault());return t.type=b,o||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(v.pop(),i)||!G(n)||c&&f(n[b])&&!m(n)&&((a=n[c])&&(n[c]=null),w.event.triggered=b,t.isPropagationStopped()&&p.addEventListener(b,wt),n[b](),t.isPropagationStopped()&&p.removeEventListener(b,wt),w.event.triggered=void 0,a&&(n[c]=a)),t.result}},simulate:function(e,t,i){var n=w.extend(new w.Event,i,{type:e,isSimulated:!0});w.event.trigger(n,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return w.event.trigger(e,t,i,!0)}}),p.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,o=K.access(n,t);o||n.addEventListener(e,i,!0),K.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,o=K.access(n,t)-1;o?K.access(n,t,o):(n.removeEventListener(e,i,!0),K.remove(n,t))}}});var xt=e.location,Ct={guid:Date.now()},St=/\?/;w.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),i};var Tt=/\[\]$/,kt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function At(e,t,i,n){var o;if(Array.isArray(t))w.each(t,function(t,o){i||Tt.test(e)?n(e,o):At(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,i,n)});else if(i||"object"!==y(t))n(e,t);else for(o in t)At(e+"["+o+"]",t[o],i,n)}w.param=function(e,t){var i,n=[],o=function(e,t){var i=f(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){o(this.name,this.value)});else for(i in e)At(i,e[i],t,o);return n.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Lt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var i=w(this).val();return null==i?null:Array.isArray(i)?w.map(i,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:i.replace(kt,"\r\n")}}).get()}});var Ot=/%20/g,Et=/#.*$/,It=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:GET|HEAD)$/,Nt=/^\/\//,Pt={},$t={},zt="*/".concat("*"),Ht=g.createElement("a");function Ft(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,r=t.toLowerCase().match(N)||[];if(f(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Rt(e,t,i,n){var o={},r=e===$t;function s(a){var l;return o[a]=!0,w.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!o["*"]&&s("*")}function Ut(e,t){var i,n,o=w.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&w.extend(!0,e,n),e}Ht.href=xt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,w.ajaxSettings),t):Ut(w.ajaxSettings,e)},ajaxPrefilter:Ft(Pt),ajaxTransport:Ft($t),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0),i=i||{};var n,o,r,s,a,l,c,h,d,u,p=w.ajaxSetup({},i),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?w(f):w.event,v=w.Deferred(),b=w.Callbacks("once memory"),y=p.statusCode||{},_={},x={},C="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Mt.exec(r);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return n&&n.abort(t),T(0,t),this}};if(v.promise(S),p.url=((t||p.url||xt.href)+"").replace(Nt,xt.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){l=g.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ht.protocol+"//"+Ht.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Rt(Pt,p,i,S),c)return S;for(d in(h=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!jt.test(p.type),o=p.url.replace(Et,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ot,"+")):(u=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(St.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(It,"$1"),u=(St.test(o)?"&":"?")+"_="+Ct.guid+++u),p.url=o+u),p.ifModified&&(w.lastModified[o]&&S.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&S.setRequestHeader("If-None-Match",w.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,S,p)||c))return S.abort();if(C="abort",b.add(p.complete),S.done(p.success),S.fail(p.error),n=Rt($t,p,i,S)){if(S.readyState=1,h&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&0<p.timeout&&(a=e.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,n.send(_,T)}catch(t){if(c)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,i,s,l){var d,u,g,_,x,C=i;c||(c=!0,a&&e.clearTimeout(a),n=void 0,r=l||"",S.readyState=0<t?4:0,d=200<=t&&t<300||304===t,s&&(_=function(e,t,i){for(var n,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),i[r]}(p,S,s)),!d&&-1<w.inArray("script",p.dataTypes)&&(p.converters["text script"]=function(){}),_=function(e,t,i,n){var o,r,s,a,l,c={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=h.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(o in c)if((a=o.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(r=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(p,_,S,d),d?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=x),(x=S.getResponseHeader("etag"))&&(w.etag[o]=x)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=_.state,u=_.data,d=!(g=_.error))):(g=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(i||C)+"",d?v.resolveWith(f,[u,C,S]):v.rejectWith(f,[S,C,g]),S.statusCode(y),y=void 0,h&&m.trigger(d?"ajaxSuccess":"ajaxError",[S,p,d?u:g]),b.fireWith(f,[S,C]),h&&(m.trigger("ajaxComplete",[S,p]),--w.active||w.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,i){return w.get(e,t,i,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,i,n,o){return f(i)&&(o=o||n,n=i,i=void 0),w.ajax(w.extend({url:e,type:t,dataType:o,data:i,success:n},w.isPlainObject(e)&&e))}}),w.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),w._evalUrl=function(e,t,i){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,i)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return f(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=f(e);return this.each(function(i){w(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},Bt=w.ajaxSettings.xhr();p.cors=!!Bt&&"withCredentials"in Bt,p.ajax=Bt=!!Bt,w.ajaxTransport(function(t){var i,n;if(p.cors||Bt&&!t.crossDomain)return{send:function(o,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);i=function(e){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Wt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(o){if(i)throw o}},abort:function(){i&&i()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(n,o){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){i&&i()}}});var qt,Vt=[],Gt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||w.expando+"_"+Ct.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,i,n){var o,r,s,a=!1!==t.jsonp&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Gt,"$1"+o):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||w.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){s=arguments},n.always(function(){void 0===r?w(e).removeProp(o):e[o]=r,t[o]&&(t.jsonpCallback=i.jsonpCallback,Vt.push(o)),s&&f(r)&&r(s[0]),s=r=void 0}),"script"}),p.createHTMLDocument=((qt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),w.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(p.createHTMLDocument?((n=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(n)):t=g),r=!i&&[],(o=L.exec(e))?[t.createElement(o[1])]:(o=ye([e],t,r),r&&r.length&&w(r).remove(),w.merge([],o.childNodes)));var n,o,r},w.fn.load=function(e,t,i){var n,o,r,s=this,a=e.indexOf(" ");return-1<a&&(n=gt(e.slice(a)),e=e.slice(0,a)),f(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<s.length&&w.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(n?w("<div>").append(w.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,i){var n,o,r,s,a,l,c=w.css(e,"position"),h=w(e),d={};"static"===c&&(e.style.position="relative"),a=h.offset(),r=w.css(e,"top"),l=w.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(r+l).indexOf("auto")?(s=(n=h.position()).top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),f(t)&&(t=t.call(e,i,w.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),h.css(d))}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],o={top:0,left:0};if("fixed"===w.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),o.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-w.css(n,"marginTop",!0),left:t.left-o.left-w.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ne})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;w.fn[e]=function(n){return U(this,function(e,n,o){var r;if(m(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===o)return r?r[t]:e[n];r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):e[n]=o},e,n,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=Ue(p.pixelPosition,function(e,i){if(i)return i=Re(e,t),$e.test(i)?w(e).position()[t]+"px":i})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){w.fn[n]=function(o,r){var s=arguments.length&&(i||"boolean"!=typeof o),a=i||(!0===o||!0===r?"margin":"border");return U(this,function(t,i,o){var r;return m(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?w.css(t,i,a):w.style(t,i,o,a)},t,s?o:void 0,s)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,i){return 0<arguments.length?this.on(t,null,e,i):this.trigger(t)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),f(e))return n=o.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(o.call(arguments)))}).guid=e.guid=e.guid||w.guid++,r},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=D,w.isFunction=f,w.isWindow=m,w.camelCase=V,w.type=y,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Kt=e.jQuery,Yt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Yt),t&&e.jQuery===w&&(e.jQuery=Kt),w},void 0===t&&(e.jQuery=e.$=w),w}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t()}(this,function(){"use strict";const e=new Map,t={set(t,i,n){e.has(t)||e.set(t,new Map);const o=e.get(t);o.has(i)||0===o.size?o.set(i,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`)},get:(t,i)=>e.has(t)&&e.get(t).get(i)||null,remove(t,i){if(!e.has(t))return;const n=e.get(t);n.delete(i),0===n.size&&e.delete(t)}},i="transitionend",n=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),o=e=>{e.dispatchEvent(new Event(i))},r=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),s=e=>r(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(n(e)):null,a=e=>{if(!r(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},l=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),c=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?c(e.parentNode):null},h=()=>{},d=e=>{e.offsetHeight},u=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,p=[],f=()=>"rtl"===document.documentElement.dir,m=e=>{var t;t=()=>{const t=u();if(t){const i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}},"loading"===document.readyState?(p.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of p)e()}),p.push(t)):t()},g=(e,t=[],i=e)=>"function"==typeof e?e(...t):i,v=(e,t,n=!0)=>{if(!n)return void g(e);const r=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const n=Number.parseFloat(t),o=Number.parseFloat(i);return n||o?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let s=!1;const a=({target:n})=>{n===t&&(s=!0,t.removeEventListener(i,a),g(e))};t.addEventListener(i,a),setTimeout(()=>{s||o(t)},r)},b=(e,t,i,n)=>{const o=e.length;let r=e.indexOf(t);return-1===r?!i&&n?e[o-1]:e[0]:(r+=i?1:-1,n&&(r=(r+o)%o),e[Math.max(0,Math.min(r,o-1))])},y=/[^.]*(?=\..*)\.|.*/,_=/\..*/,w=/::\d+$/,x={};let C=1;const S={mouseenter:"mouseover",mouseleave:"mouseout"},T=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function k(e,t){return t&&`${t}::${C++}`||e.uidEvent||C++}function D(e){const t=k(e);return e.uidEvent=t,x[t]=x[t]||{},x[t]}function L(e,t,i=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===i)}function A(e,t,i){const n="string"==typeof t,o=n?i:t||i;let r=M(e);return T.has(r)||(r=e),[n,o,r]}function O(e,t,i,n,o){if("string"!=typeof t||!e)return;let[r,s,a]=A(t,i,n);if(t in S){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const l=D(e),c=l[a]||(l[a]={}),h=L(c,s,r?i:null);if(h)return void(h.oneOff=h.oneOff&&o);const d=k(s,t.replace(y,"")),u=r?function(e,t,i){return function n(o){const r=e.querySelectorAll(t);for(let{target:s}=o;s&&s!==this;s=s.parentNode)for(const a of r)if(a===s)return N(o,{delegateTarget:s}),n.oneOff&&j.off(e,o.type,t,i),i.apply(s,[o])}}(e,i,s):function(e,t){return function i(n){return N(n,{delegateTarget:e}),i.oneOff&&j.off(e,n.type,t),t.apply(e,[n])}}(e,s);u.delegationSelector=r?i:null,u.callable=s,u.oneOff=o,u.uidEvent=d,c[d]=u,e.addEventListener(a,u,r)}function E(e,t,i,n,o){const r=L(t[i],n,o);r&&(e.removeEventListener(i,r,Boolean(o)),delete t[i][r.uidEvent])}function I(e,t,i,n){const o=t[i]||{};for(const[r,s]of Object.entries(o))r.includes(n)&&E(e,t,i,s.callable,s.delegationSelector)}function M(e){return e=e.replace(_,""),S[e]||e}const j={on(e,t,i,n){O(e,t,i,n,!1)},one(e,t,i,n){O(e,t,i,n,!0)},off(e,t,i,n){if("string"!=typeof t||!e)return;const[o,r,s]=A(t,i,n),a=s!==t,l=D(e),c=l[s]||{},h=t.startsWith(".");if(void 0===r){if(h)for(const i of Object.keys(l))I(e,l,i,t.slice(1));for(const[i,n]of Object.entries(c)){const o=i.replace(w,"");a&&!t.includes(o)||E(e,l,s,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;E(e,l,s,r,o?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;const n=u();let o=null,r=!0,s=!0,a=!1;t!==M(t)&&n&&(o=n.Event(t,i),n(e).trigger(o),r=!o.isPropagationStopped(),s=!o.isImmediatePropagationStopped(),a=o.isDefaultPrevented());const l=N(new Event(t,{bubbles:r,cancelable:!0}),i);return a&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function N(e,t={}){for(const[i,n]of Object.entries(t))try{e[i]=n}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>n})}return e}function P(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function $(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const z={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${$(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${$(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=P(e.dataset[n])}return t},getDataAttribute:(e,t)=>P(e.getAttribute(`data-bs-${$(t)}`))};class H{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=r(t)?z.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...r(t)?z.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,o]of Object.entries(t)){const t=e[n],s=r(t)?"element":null==(i=t)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${s}" but expected type "${o}".`)}var i}}class F extends H{constructor(e,i){super(),(e=s(e))&&(this._element=e,this._config=this._getConfig(i),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){v(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(s(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const R=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return t?t.split(",").map(e=>n(e)).join(","):null},U={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){const i=[];let n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!l(e)&&a(e))},getSelectorFromElement(e){const t=R(e);return t&&U.findOne(t)?t:null},getElementFromSelector(e){const t=R(e);return t?U.findOne(t):null},getMultipleElementsFromSelector(e){const t=R(e);return t?U.find(t):[]}},W=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;j.on(document,i,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),l(this))return;const o=U.getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(o)[t]()})},B=".bs.alert",q=`close${B}`,V=`closed${B}`;class G extends F{static get NAME(){return"alert"}close(){if(j.trigger(this._element,q).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),j.trigger(this._element,V),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=G.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}W(G,"close"),m(G);const X='[data-bs-toggle="button"]';class K extends F{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=K.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}j.on(document,"click.bs.button.data-api",X,e=>{e.preventDefault();const t=e.target.closest(X);K.getOrCreateInstance(t).toggle()}),m(K);const Y=".bs.swipe",Q=`touchstart${Y}`,J=`touchmove${Y}`,Z=`touchend${Y}`,ee=`pointerdown${Y}`,te=`pointerup${Y}`,ie={endCallback:null,leftCallback:null,rightCallback:null},ne={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class oe extends H{constructor(e,t){super(),this._element=e,e&&oe.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ie}static get DefaultType(){return ne}static get NAME(){return"swipe"}dispose(){j.off(this._element,Y)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),g(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&g(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,ee,e=>this._start(e)),j.on(this._element,te,e=>this._end(e)),this._element.classList.add("pointer-event")):(j.on(this._element,Q,e=>this._start(e)),j.on(this._element,J,e=>this._move(e)),j.on(this._element,Z,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const re=".bs.carousel",se=".data-api",ae="next",le="prev",ce="left",he="right",de=`slide${re}`,ue=`slid${re}`,pe=`keydown${re}`,fe=`mouseenter${re}`,me=`mouseleave${re}`,ge=`dragstart${re}`,ve=`load${re}${se}`,be=`click${re}${se}`,ye="carousel",_e="active",we=".active",xe=".carousel-item",Ce=we+xe,Se={ArrowLeft:he,ArrowRight:ce},Te={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ke={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class De extends F{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ye&&this.cycle()}static get Default(){return Te}static get DefaultType(){return ke}static get NAME(){return"carousel"}next(){this._slide(ae)}nextWhenVisible(){!document.hidden&&a(this._element)&&this.next()}prev(){this._slide(le)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?j.one(this._element,ue,()=>this.cycle()):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void j.one(this._element,ue,()=>this.to(e));const i=this._getItemIndex(this._getActive());if(i===e)return;const n=e>i?ae:le;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&j.on(this._element,pe,e=>this._keydown(e)),"hover"===this._config.pause&&(j.on(this._element,fe,()=>this.pause()),j.on(this._element,me,()=>this._maybeEnableCycle())),this._config.touch&&oe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of U.find(".carousel-item img",this._element))j.on(e,ge,e=>e.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(ce)),rightCallback:()=>this._slide(this._directionToOrder(he)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new oe(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Se[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=U.findOne(we,this._indicatorsElement);t.classList.remove(_e),t.removeAttribute("aria-current");const i=U.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(_e),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),n=e===ae,o=t||b(this._getItems(),i,n,this._config.wrap);if(o===i)return;const r=this._getItemIndex(o),s=t=>j.trigger(this._element,t,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:r});if(s(de).defaultPrevented)return;if(!i||!o)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=o;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";o.classList.add(c),d(o),i.classList.add(l),o.classList.add(l),this._queueCallback(()=>{o.classList.remove(l,c),o.classList.add(_e),i.classList.remove(_e,c,l),this._isSliding=!1,s(ue)},i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return U.findOne(Ce,this._element)}_getItems(){return U.find(xe,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return f()?e===ce?le:ae:e===ce?ae:le}_orderToDirection(e){return f()?e===le?ce:he:e===le?he:ce}static jQueryInterface(e){return this.each(function(){const t=De.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}j.on(document,be,"[data-bs-slide], [data-bs-slide-to]",function(e){const t=U.getElementFromSelector(this);if(!t||!t.classList.contains(ye))return;e.preventDefault();const i=De.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===z.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())}),j.on(window,ve,()=>{const e=U.find('[data-bs-ride="carousel"]');for(const t of e)De.getOrCreateInstance(t)}),m(De);const Le=".bs.collapse",Ae=`show${Le}`,Oe=`shown${Le}`,Ee=`hide${Le}`,Ie=`hidden${Le}`,Me=`click${Le}.data-api`,je="show",Ne="collapse",Pe="collapsing",$e=`:scope .${Ne} .${Ne}`,ze='[data-bs-toggle="collapse"]',He={parent:null,toggle:!0},Fe={parent:"(null|element)",toggle:"boolean"};class Re extends F{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=U.find(ze);for(const e of i){const t=U.getSelectorFromElement(e),i=U.find(t).filter(e=>e===this._element);null!==t&&i.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return He}static get DefaultType(){return Fe}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>Re.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning)return;if(j.trigger(this._element,Ae).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(Ne),this._element.classList.add(Pe),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pe),this._element.classList.add(Ne,je),this._element.style[t]="",j.trigger(this._element,Oe)},this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(j.trigger(this._element,Ee).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,d(this._element),this._element.classList.add(Pe),this._element.classList.remove(Ne,je);for(const e of this._triggerArray){const t=U.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pe),this._element.classList.add(Ne),j.trigger(this._element,Ie)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(je)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=s(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ze);for(const t of e){const e=U.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=U.find($e,this._config.parent);return U.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=Re.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}})}}j.on(document,Me,ze,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of U.getMultipleElementsFromSelector(this))Re.getOrCreateInstance(e,{toggle:!1}).toggle()}),m(Re);var Ue="top",We="bottom",Be="right",qe="left",Ve="auto",Ge=[Ue,We,Be,qe],Xe="start",Ke="end",Ye="clippingParents",Qe="viewport",Je="popper",Ze="reference",et=Ge.reduce(function(e,t){return e.concat([t+"-"+Xe,t+"-"+Ke])},[]),tt=[].concat(Ge,[Ve]).reduce(function(e,t){return e.concat([t,t+"-"+Xe,t+"-"+Ke])},[]),it="beforeRead",nt="read",ot="afterRead",rt="beforeMain",st="main",at="afterMain",lt="beforeWrite",ct="write",ht="afterWrite",dt=[it,nt,ot,rt,st,at,lt,ct,ht];function ut(e){return e?(e.nodeName||"").toLowerCase():null}function pt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ft(e){return e instanceof pt(e).Element||e instanceof Element}function mt(e){return e instanceof pt(e).HTMLElement||e instanceof HTMLElement}function gt(e){return"undefined"!=typeof ShadowRoot&&(e instanceof pt(e).ShadowRoot||e instanceof ShadowRoot)}const vt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];mt(o)&&ut(o)&&(Object.assign(o.style,i),Object.keys(n).forEach(function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});mt(n)&&ut(n)&&(Object.assign(n.style,r),Object.keys(o).forEach(function(e){n.removeAttribute(e)}))})}},requires:["computeStyles"]};function bt(e){return e.split("-")[0]}var yt=Math.max,_t=Math.min,wt=Math.round;function xt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ct(){return!/^((?!chrome|android).)*safari/i.test(xt())}function St(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),o=1,r=1;t&&mt(e)&&(o=e.offsetWidth>0&&wt(n.width)/e.offsetWidth||1,r=e.offsetHeight>0&&wt(n.height)/e.offsetHeight||1);var s=(ft(e)?pt(e):window).visualViewport,a=!Ct()&&i,l=(n.left+(a&&s?s.offsetLeft:0))/o,c=(n.top+(a&&s?s.offsetTop:0))/r,h=n.width/o,d=n.height/r;return{width:h,height:d,top:c,right:l+h,bottom:c+d,left:l,x:l,y:c}}function Tt(e){var t=St(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function kt(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&gt(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Dt(e){return pt(e).getComputedStyle(e)}function Lt(e){return["table","td","th"].indexOf(ut(e))>=0}function At(e){return((ft(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ot(e){return"html"===ut(e)?e:e.assignedSlot||e.parentNode||(gt(e)?e.host:null)||At(e)}function Et(e){return mt(e)&&"fixed"!==Dt(e).position?e.offsetParent:null}function It(e){for(var t=pt(e),i=Et(e);i&&Lt(i)&&"static"===Dt(i).position;)i=Et(i);return i&&("html"===ut(i)||"body"===ut(i)&&"static"===Dt(i).position)?t:i||function(e){var t=/firefox/i.test(xt());if(/Trident/i.test(xt())&&mt(e)&&"fixed"===Dt(e).position)return null;var i=Ot(e);for(gt(i)&&(i=i.host);mt(i)&&["html","body"].indexOf(ut(i))<0;){var n=Dt(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function Mt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function jt(e,t,i){return yt(e,_t(t,i))}function Nt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Pt(e,t){return t.reduce(function(t,i){return t[i]=e,t},{})}const $t={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,o=e.options,r=i.elements.arrow,s=i.modifiersData.popperOffsets,a=bt(i.placement),l=Mt(a),c=[qe,Be].indexOf(a)>=0?"height":"width";if(r&&s){var h=function(e,t){return Nt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Pt(e,Ge))}(o.padding,i),d=Tt(r),u="y"===l?Ue:qe,p="y"===l?We:Be,f=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],m=s[l]-i.rects.reference[l],g=It(r),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,y=h[u],_=v-d[c]-h[p],w=v/2-d[c]/2+b,x=jt(y,w,_),C=l;i.modifiersData[n]=((t={})[C]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&kt(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zt(e){return e.split("-")[1]}var Ht={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ft(e){var t,i=e.popper,n=e.popperRect,o=e.placement,r=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,h=e.roundOffsets,d=e.isFixed,u=s.x,p=void 0===u?0:u,f=s.y,m=void 0===f?0:f,g="function"==typeof h?h({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),y=qe,_=Ue,w=window;if(c){var x=It(i),C="clientHeight",S="clientWidth";x===pt(i)&&"static"!==Dt(x=At(i)).position&&"absolute"===a&&(C="scrollHeight",S="scrollWidth"),(o===Ue||(o===qe||o===Be)&&r===Ke)&&(_=We,m-=(d&&x===w&&w.visualViewport?w.visualViewport.height:x[C])-n.height,m*=l?1:-1),o!==qe&&(o!==Ue&&o!==We||r!==Ke)||(y=Be,p-=(d&&x===w&&w.visualViewport?w.visualViewport.width:x[S])-n.width,p*=l?1:-1)}var T,k=Object.assign({position:a},c&&Ht),D=!0===h?function(e,t){var i=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:wt(i*o)/o||0,y:wt(n*o)/o||0}}({x:p,y:m},pt(i)):{x:p,y:m};return p=D.x,m=D.y,l?Object.assign({},k,((T={})[_]=b?"0":"",T[y]=v?"0":"",T.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",T)):Object.assign({},k,((t={})[_]=b?m+"px":"",t[y]=v?p+"px":"",t.transform="",t))}const Rt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,o=void 0===n||n,r=i.adaptive,s=void 0===r||r,a=i.roundOffsets,l=void 0===a||a,c={placement:bt(t.placement),variation:zt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ft(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ft(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Ut={passive:!0};const Wt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,o=n.scroll,r=void 0===o||o,s=n.resize,a=void 0===s||s,l=pt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach(function(e){e.addEventListener("scroll",i.update,Ut)}),a&&l.addEventListener("resize",i.update,Ut),function(){r&&c.forEach(function(e){e.removeEventListener("scroll",i.update,Ut)}),a&&l.removeEventListener("resize",i.update,Ut)}},data:{}};var Bt={left:"right",right:"left",bottom:"top",top:"bottom"};function qt(e){return e.replace(/left|right|bottom|top/g,function(e){return Bt[e]})}var Vt={start:"end",end:"start"};function Gt(e){return e.replace(/start|end/g,function(e){return Vt[e]})}function Xt(e){var t=pt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Kt(e){return St(At(e)).left+Xt(e).scrollLeft}function Yt(e){var t=Dt(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function Qt(e){return["html","body","#document"].indexOf(ut(e))>=0?e.ownerDocument.body:mt(e)&&Yt(e)?e:Qt(Ot(e))}function Jt(e,t){var i;void 0===t&&(t=[]);var n=Qt(e),o=n===(null==(i=e.ownerDocument)?void 0:i.body),r=pt(n),s=o?[r].concat(r.visualViewport||[],Yt(n)?n:[]):n,a=t.concat(s);return o?a:a.concat(Jt(Ot(s)))}function Zt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ei(e,t,i){return t===Qe?Zt(function(e,t){var i=pt(e),n=At(e),o=i.visualViewport,r=n.clientWidth,s=n.clientHeight,a=0,l=0;if(o){r=o.width,s=o.height;var c=Ct();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:s,x:a+Kt(e),y:l}}(e,i)):ft(t)?function(e,t){var i=St(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):Zt(function(e){var t,i=At(e),n=Xt(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=yt(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=yt(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+Kt(e),l=-n.scrollTop;return"rtl"===Dt(o||i).direction&&(a+=yt(i.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}(At(e)))}function ti(e){var t,i=e.reference,n=e.element,o=e.placement,r=o?bt(o):null,s=o?zt(o):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(r){case Ue:t={x:a,y:i.y-n.height};break;case We:t={x:a,y:i.y+i.height};break;case Be:t={x:i.x+i.width,y:l};break;case qe:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=r?Mt(r):null;if(null!=c){var h="y"===c?"height":"width";switch(s){case Xe:t[c]=t[c]-(i[h]/2-n[h]/2);break;case Ke:t[c]=t[c]+(i[h]/2-n[h]/2)}}return t}function ii(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=void 0===n?e.placement:n,r=i.strategy,s=void 0===r?e.strategy:r,a=i.boundary,l=void 0===a?Ye:a,c=i.rootBoundary,h=void 0===c?Qe:c,d=i.elementContext,u=void 0===d?Je:d,p=i.altBoundary,f=void 0!==p&&p,m=i.padding,g=void 0===m?0:m,v=Nt("number"!=typeof g?g:Pt(g,Ge)),b=u===Je?Ze:Je,y=e.rects.popper,_=e.elements[f?b:u],w=function(e,t,i,n){var o="clippingParents"===t?function(e){var t=Jt(Ot(e)),i=["absolute","fixed"].indexOf(Dt(e).position)>=0&&mt(e)?It(e):e;return ft(i)?t.filter(function(e){return ft(e)&&kt(e,i)&&"body"!==ut(e)}):[]}(e):[].concat(t),r=[].concat(o,[i]),s=r[0],a=r.reduce(function(t,i){var o=ei(e,i,n);return t.top=yt(o.top,t.top),t.right=_t(o.right,t.right),t.bottom=_t(o.bottom,t.bottom),t.left=yt(o.left,t.left),t},ei(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(ft(_)?_:_.contextElement||At(e.elements.popper),l,h,s),x=St(e.elements.reference),C=ti({reference:x,element:y,strategy:"absolute",placement:o}),S=Zt(Object.assign({},y,C)),T=u===Je?S:x,k={top:w.top-T.top+v.top,bottom:T.bottom-w.bottom+v.bottom,left:w.left-T.left+v.left,right:T.right-w.right+v.right},D=e.modifiersData.offset;if(u===Je&&D){var L=D[o];Object.keys(k).forEach(function(e){var t=[Be,We].indexOf(e)>=0?1:-1,i=[Ue,We].indexOf(e)>=0?"y":"x";k[e]+=L[i]*t})}return k}const ni={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=i.mainAxis,r=void 0===o||o,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,c=i.padding,h=i.boundary,d=i.rootBoundary,u=i.altBoundary,p=i.flipVariations,f=void 0===p||p,m=i.allowedAutoPlacements,g=t.options.placement,v=bt(g),b=l||(v!==g&&f?function(e){if(bt(e)===Ve)return[];var t=qt(e);return[Gt(e),t,Gt(t)]}(g):[qt(g)]),y=[g].concat(b).reduce(function(e,i){return e.concat(bt(i)===Ve?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=i.boundary,r=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?tt:l,h=zt(n),d=h?a?et:et.filter(function(e){return zt(e)===h}):Ge,u=d.filter(function(e){return c.indexOf(e)>=0});0===u.length&&(u=d);var p=u.reduce(function(t,i){return t[i]=ii(e,{placement:i,boundary:o,rootBoundary:r,padding:s})[bt(i)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:i,boundary:h,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):i)},[]),_=t.rects.reference,w=t.rects.popper,x=new Map,C=!0,S=y[0],T=0;T<y.length;T++){var k=y[T],D=bt(k),L=zt(k)===Xe,A=[Ue,We].indexOf(D)>=0,O=A?"width":"height",E=ii(t,{placement:k,boundary:h,rootBoundary:d,altBoundary:u,padding:c}),I=A?L?Be:qe:L?We:Ue;_[O]>w[O]&&(I=qt(I));var M=qt(I),j=[];if(r&&j.push(E[D]<=0),a&&j.push(E[I]<=0,E[M]<=0),j.every(function(e){return e})){S=k,C=!1;break}x.set(k,j)}if(C)for(var N=function(e){var t=y.find(function(t){var i=x.get(t);if(i)return i.slice(0,e).every(function(e){return e})});if(t)return S=t,"break"},P=f?3:1;P>0&&"break"!==N(P);P--);t.placement!==S&&(t.modifiersData[n]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function oi(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function ri(e){return[Ue,Be,We,qe].some(function(t){return e[t]>=0})}const si={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=ii(t,{elementContext:"reference"}),a=ii(t,{altBoundary:!0}),l=oi(s,n),c=oi(a,o,r),h=ri(l),d=ri(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}},ai={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.offset,r=void 0===o?[0,0]:o,s=tt.reduce(function(e,i){return e[i]=function(e,t,i){var n=bt(e),o=[qe,Ue].indexOf(n)>=0?-1:1,r="function"==typeof i?i(Object.assign({},t,{placement:e})):i,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[qe,Be].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(i,t.rects,r),e},{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}},li={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=ti({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ci={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.mainAxis,r=void 0===o||o,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,c=i.rootBoundary,h=i.altBoundary,d=i.padding,u=i.tether,p=void 0===u||u,f=i.tetherOffset,m=void 0===f?0:f,g=ii(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),v=bt(t.placement),b=zt(t.placement),y=!b,_=Mt(v),w="x"===_?"y":"x",x=t.modifiersData.popperOffsets,C=t.rects.reference,S=t.rects.popper,T="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,k="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(x){if(r){var A,O="y"===_?Ue:qe,E="y"===_?We:Be,I="y"===_?"height":"width",M=x[_],j=M+g[O],N=M-g[E],P=p?-S[I]/2:0,$=b===Xe?C[I]:S[I],z=b===Xe?-S[I]:-C[I],H=t.elements.arrow,F=p&&H?Tt(H):{width:0,height:0},R=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=R[O],W=R[E],B=jt(0,C[I],F[I]),q=y?C[I]/2-P-B-U-k.mainAxis:$-B-U-k.mainAxis,V=y?-C[I]/2+P+B+W+k.mainAxis:z+B+W+k.mainAxis,G=t.elements.arrow&&It(t.elements.arrow),X=G?"y"===_?G.clientTop||0:G.clientLeft||0:0,K=null!=(A=null==D?void 0:D[_])?A:0,Y=M+V-K,Q=jt(p?_t(j,M+q-K-X):j,M,p?yt(N,Y):N);x[_]=Q,L[_]=Q-M}if(a){var J,Z="x"===_?Ue:qe,ee="x"===_?We:Be,te=x[w],ie="y"===w?"height":"width",ne=te+g[Z],oe=te-g[ee],re=-1!==[Ue,qe].indexOf(v),se=null!=(J=null==D?void 0:D[w])?J:0,ae=re?ne:te-C[ie]-S[ie]-se+k.altAxis,le=re?te+C[ie]+S[ie]-se-k.altAxis:oe,ce=p&&re?function(e,t,i){var n=jt(e,t,i);return n>i?i:n}(ae,te,le):jt(p?ae:ne,te,p?le:oe);x[w]=ce,L[w]=ce-te}t.modifiersData[n]=L}},requiresIfExists:["offset"]};function hi(e,t,i){void 0===i&&(i=!1);var n,o,r=mt(t),s=mt(t)&&function(e){var t=e.getBoundingClientRect(),i=wt(t.width)/e.offsetWidth||1,n=wt(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),a=At(t),l=St(e,s,i),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!i)&&(("body"!==ut(t)||Yt(a))&&(c=(n=t)!==pt(n)&&mt(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:Xt(n)),mt(t)?((h=St(t,!0)).x+=t.clientLeft,h.y+=t.clientTop):a&&(h.x=Kt(a))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function di(e){var t=new Map,i=new Set,n=[];function o(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!i.has(e)){var n=t.get(e);n&&o(n)}}),n.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||o(e)}),n}var ui={placement:"bottom",modifiers:[],strategy:"absolute"};function pi(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function fi(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,o=t.defaultOptions,r=void 0===o?ui:o;return function(e,t,i){void 0===i&&(i=r);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},ui,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,h={state:a,setOptions:function(i){var o="function"==typeof i?i(a.options):i;d(),a.options=Object.assign({},r,a.options,o),a.scrollParents={reference:ft(e)?Jt(e):e.contextElement?Jt(e.contextElement):[],popper:Jt(t)};var s,c,u=function(e){var t=di(e);return dt.reduce(function(e,i){return e.concat(t.filter(function(e){return e.phase===i}))},[])}((s=[].concat(n,a.options.modifiers),c=s.reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return a.orderedModifiers=u.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,o=e.effect;if("function"==typeof o){var r=o({state:a,name:t,instance:h,options:n});l.push(r||function(){})}}),h.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,i=e.popper;if(pi(t,i)){a.rects={reference:hi(t,It(i),"fixed"===a.options.strategy),popper:Tt(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var o=a.orderedModifiers[n],r=o.fn,s=o.options,l=void 0===s?{}:s,d=o.name;"function"==typeof r&&(a=r({state:a,options:l,name:d,instance:h})||a)}else a.reset=!1,n=-1}}},update:(o=function(){return new Promise(function(e){h.forceUpdate(),e(a)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(o())})})),s}),destroy:function(){d(),c=!0}};if(!pi(e,t))return h;function d(){l.forEach(function(e){return e()}),l=[]}return h.setOptions(i).then(function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)}),h}}var mi=fi(),gi=fi({defaultModifiers:[Wt,li,Rt,vt]}),vi=fi({defaultModifiers:[Wt,li,Rt,vt,ai,ni,ci,$t,si]});const bi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:at,afterRead:ot,afterWrite:ht,applyStyles:vt,arrow:$t,auto:Ve,basePlacements:Ge,beforeMain:rt,beforeRead:it,beforeWrite:lt,bottom:We,clippingParents:Ye,computeStyles:Rt,createPopper:vi,createPopperBase:mi,createPopperLite:gi,detectOverflow:ii,end:Ke,eventListeners:Wt,flip:ni,hide:si,left:qe,main:st,modifierPhases:dt,offset:ai,placements:tt,popper:Je,popperGenerator:fi,popperOffsets:li,preventOverflow:ci,read:nt,reference:Ze,right:Be,start:Xe,top:Ue,variationPlacements:et,viewport:Qe,write:ct},Symbol.toStringTag,{value:"Module"})),yi="dropdown",_i=".bs.dropdown",wi=".data-api",xi="ArrowUp",Ci="ArrowDown",Si=`hide${_i}`,Ti=`hidden${_i}`,ki=`show${_i}`,Di=`shown${_i}`,Li=`click${_i}${wi}`,Ai=`keydown${_i}${wi}`,Oi=`keyup${_i}${wi}`,Ei="show",Ii='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Mi=`${Ii}.${Ei}`,ji=".dropdown-menu",Ni=f()?"top-end":"top-start",Pi=f()?"top-start":"top-end",$i=f()?"bottom-end":"bottom-start",zi=f()?"bottom-start":"bottom-end",Hi=f()?"left-start":"right-start",Fi=f()?"right-start":"left-start",Ri={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ui={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Wi extends F{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,ji)[0]||U.prev(this._element,ji)[0]||U.findOne(ji,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ri}static get DefaultType(){return Ui}static get NAME(){return yi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!j.trigger(this._element,ki,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))j.on(e,"mouseover",h);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ei),this._element.classList.add(Ei),j.trigger(this._element,Di,e)}}hide(){if(l(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!j.trigger(this._element,Si,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.off(e,"mouseover",h);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ei),this._element.classList.remove(Ei),this._element.setAttribute("aria-expanded","false"),z.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,Ti,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!r(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${yi.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===bi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:r(this._config.reference)?e=s(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=vi(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Ei)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Hi;if(e.classList.contains("dropstart"))return Fi;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Pi:Ni:t?zi:$i}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(z.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...g(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const i=U.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>a(e));i.length&&b(i,t,e===Ci,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Wi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=U.find(Mi);for(const i of t){const t=Wi.getInstance(i);if(!t||!1===t._config.autoClose)continue;const n=e.composedPath(),o=n.includes(t._menu);if(n.includes(t._element)||"inside"===t._config.autoClose&&!o||"outside"===t._config.autoClose&&o)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const r={relatedTarget:t._element};"click"===e.type&&(r.clickEvent=e),t._completeHide(r)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=[xi,Ci].includes(e.key);if(!n&&!i)return;if(t&&!i)return;e.preventDefault();const o=this.matches(Ii)?this:U.prev(this,Ii)[0]||U.next(this,Ii)[0]||U.findOne(Ii,e.delegateTarget.parentNode),r=Wi.getOrCreateInstance(o);if(n)return e.stopPropagation(),r.show(),void r._selectMenuItem(e);r._isShown()&&(e.stopPropagation(),r.hide(),o.focus())}}j.on(document,Ai,Ii,Wi.dataApiKeydownHandler),j.on(document,Ai,ji,Wi.dataApiKeydownHandler),j.on(document,Li,Wi.clearMenus),j.on(document,Oi,Wi.clearMenus),j.on(document,Li,Ii,function(e){e.preventDefault(),Wi.getOrCreateInstance(this).toggle()}),m(Wi);const Bi="backdrop",qi="show",Vi=`mousedown.bs.${Bi}`,Gi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Xi={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ki extends H{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Gi}static get DefaultType(){return Xi}static get NAME(){return Bi}show(e){if(!this._config.isVisible)return void g(e);this._append();const t=this._getElement();this._config.isAnimated&&d(t),t.classList.add(qi),this._emulateAnimation(()=>{g(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(qi),this._emulateAnimation(()=>{this.dispose(),g(e)})):g(e)}dispose(){this._isAppended&&(j.off(this._element,Vi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=s(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),j.on(e,Vi,()=>{g(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){v(e,this._getElement(),this._config.isAnimated)}}const Yi=".bs.focustrap",Qi=`focusin${Yi}`,Ji=`keydown.tab${Yi}`,Zi="backward",en={autofocus:!0,trapElement:null},tn={autofocus:"boolean",trapElement:"element"};class nn extends H{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return en}static get DefaultType(){return tn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,Yi),j.on(document,Qi,e=>this._handleFocusin(e)),j.on(document,Ji,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,Yi))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=U.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===Zi?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Zi:"forward")}}const on=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rn=".sticky-top",sn="padding-right",an="margin-right";class ln{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,sn,t=>t+e),this._setElementAttributes(on,sn,t=>t+e),this._setElementAttributes(rn,an,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,sn),this._resetElementAttributes(on,sn),this._resetElementAttributes(rn,an)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);const o=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(o))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&z.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{const i=z.getDataAttribute(e,t);null!==i?(z.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(r(e))t(e);else for(const i of U.find(e,this._element))t(i)}}const cn=".bs.modal",hn=`hide${cn}`,dn=`hidePrevented${cn}`,un=`hidden${cn}`,pn=`show${cn}`,fn=`shown${cn}`,mn=`resize${cn}`,gn=`click.dismiss${cn}`,vn=`mousedown.dismiss${cn}`,bn=`keydown.dismiss${cn}`,yn=`click${cn}.data-api`,_n="modal-open",wn="show",xn="modal-static",Cn={backdrop:!0,focus:!0,keyboard:!0},Sn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Tn extends F{constructor(e,t){super(e,t),this._dialog=U.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ln,this._addEventListeners()}static get Default(){return Cn}static get DefaultType(){return Sn}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||j.trigger(this._element,pn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(_n),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(j.trigger(this._element,hn).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(wn),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){j.off(window,cn),j.off(this._dialog,cn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ki({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new nn({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=U.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),d(this._element),this._element.classList.add(wn),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,fn,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,bn,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),j.on(window,mn,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,vn,e=>{j.one(this._element,gn,t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(_n),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,un)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(j.trigger(this._element,dn).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(xn)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(xn),this._queueCallback(()=>{this._element.classList.remove(xn),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const e=f()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){const e=f()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=Tn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}})}}j.on(document,yn,'[data-bs-toggle="modal"]',function(e){const t=U.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),j.one(t,pn,e=>{e.defaultPrevented||j.one(t,un,()=>{a(this)&&this.focus()})});const i=U.findOne(".modal.show");i&&Tn.getInstance(i).hide(),Tn.getOrCreateInstance(t).toggle(this)}),W(Tn),m(Tn);const kn=".bs.offcanvas",Dn=".data-api",Ln=`load${kn}${Dn}`,An="show",On="showing",En="hiding",In=".offcanvas.show",Mn=`show${kn}`,jn=`shown${kn}`,Nn=`hide${kn}`,Pn=`hidePrevented${kn}`,$n=`hidden${kn}`,zn=`resize${kn}`,Hn=`click${kn}${Dn}`,Fn=`keydown.dismiss${kn}`,Rn={backdrop:!0,keyboard:!0,scroll:!1},Un={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Wn extends F{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Rn}static get DefaultType(){return Un}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||j.trigger(this._element,Mn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ln).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(On),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(An),this._element.classList.remove(On),j.trigger(this._element,jn,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&(j.trigger(this._element,Nn).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(En),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(An,En),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ln).reset(),j.trigger(this._element,$n)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Ki({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():j.trigger(this._element,Pn)}:null})}_initializeFocusTrap(){return new nn({trapElement:this._element})}_addEventListeners(){j.on(this._element,Fn,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():j.trigger(this._element,Pn))})}static jQueryInterface(e){return this.each(function(){const t=Wn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}j.on(document,Hn,'[data-bs-toggle="offcanvas"]',function(e){const t=U.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this))return;j.one(t,$n,()=>{a(this)&&this.focus()});const i=U.findOne(In);i&&i!==t&&Wn.getInstance(i).hide(),Wn.getOrCreateInstance(t).toggle(this)}),j.on(window,Ln,()=>{for(const e of U.find(In))Wn.getOrCreateInstance(e).show()}),j.on(window,zn,()=>{for(const e of U.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Wn.getOrCreateInstance(e).hide()}),W(Wn),m(Wn);const Bn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Vn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Gn=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!qn.has(i)||Boolean(Vn.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(i))},Xn={allowList:Bn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Kn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Yn={entry:"(string|element|function|null)",selector:"(string|element)"};class Qn extends H{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Xn}static get DefaultType(){return Kn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(e,i,t);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Yn)}_setContent(e,t,i){const n=U.findOne(i,e);n&&((t=this._resolvePossibleFunction(t))?r(t)?this._putElementInTemplate(s(t),n):this._config.html?n.innerHTML=this._maybeSanitize(t):n.textContent=t:n.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const n=(new window.DOMParser).parseFromString(e,"text/html"),o=[].concat(...n.body.querySelectorAll("*"));for(const e of o){const i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}const n=[].concat(...e.attributes),o=[].concat(t["*"]||[],t[i]||[]);for(const t of n)Gn(t,o)||e.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return g(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Jn=new Set(["sanitize","allowList","sanitizeFn"]),Zn="fade",eo="show",to=".modal",io="hide.bs.modal",no="hover",oo="focus",ro={AUTO:"auto",TOP:"top",RIGHT:f()?"left":"right",BOTTOM:"bottom",LEFT:f()?"right":"left"},so={allowList:Bn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ao={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class lo extends F{constructor(e,t){if(void 0===bi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return so}static get DefaultType(){return ao}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(to),io,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=j.trigger(this._element,this.constructor.eventName("show")),t=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),j.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(eo),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.on(e,"mouseover",h);this._queueCallback(()=>{j.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!j.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(eo),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.off(e,"mouseover",h);this._activeTrigger.click=!1,this._activeTrigger[oo]=!1,this._activeTrigger[no]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Zn,eo),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Zn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Qn({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Zn)}_isShown(){return this.tip&&this.tip.classList.contains(eo)}_createPopper(e){const t=g(this._config.placement,[this,e,this._element]),i=ro[t.toUpperCase()];return vi(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return g(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...g(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)j.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==t){const e=t===no?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===no?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");j.on(this._element,e,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?oo:no]=!0,t._enter()}),j.on(this._element,i,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?oo:no]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(to),io,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=z.getDataAttributes(this._element);for(const e of Object.keys(t))Jn.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:s(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=lo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}m(lo);const co={...lo.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ho={...lo.DefaultType,content:"(null|string|element|function)"};class uo extends lo{static get Default(){return co}static get DefaultType(){return ho}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=uo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}m(uo);const po=".bs.scrollspy",fo=`activate${po}`,mo=`click${po}`,go=`load${po}.data-api`,vo="active",bo="[href]",yo=".nav-link",_o=`${yo}, .nav-item > ${yo}, .list-group-item`,wo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},xo={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Co extends F{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return wo}static get DefaultType(){return xo}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=s(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,mo),j.on(this._config.target,mo,bo,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,o=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(r));continue}const e=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&e){if(i(r),!n)return}else o||e||i(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=U.find(bo,this._config.target);for(const t of e){if(!t.hash||l(t))continue;const e=U.findOne(decodeURI(t.hash),this._element);a(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(vo),this._activateParents(e),j.trigger(this._element,fo,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))U.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(vo);else for(const t of U.parents(e,".nav, .list-group"))for(const e of U.prev(t,_o))e.classList.add(vo)}_clearActiveClass(e){e.classList.remove(vo);const t=U.find(`${bo}.${vo}`,e);for(const e of t)e.classList.remove(vo)}static jQueryInterface(e){return this.each(function(){const t=Co.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}j.on(window,go,()=>{for(const e of U.find('[data-bs-spy="scroll"]'))Co.getOrCreateInstance(e)}),m(Co);const So=".bs.tab",To=`hide${So}`,ko=`hidden${So}`,Do=`show${So}`,Lo=`shown${So}`,Ao=`click${So}`,Oo=`keydown${So}`,Eo=`load${So}`,Io="ArrowLeft",Mo="ArrowRight",jo="ArrowUp",No="ArrowDown",Po="Home",$o="End",zo="active",Ho="fade",Fo="show",Ro=".dropdown-toggle",Uo=`:not(${Ro})`,Wo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Bo=`.nav-link${Uo}, .list-group-item${Uo}, [role="tab"]${Uo}, ${Wo}`,qo=`.${zo}[data-bs-toggle="tab"], .${zo}[data-bs-toggle="pill"], .${zo}[data-bs-toggle="list"]`;class Vo extends F{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,Oo,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?j.trigger(t,To,{relatedTarget:e}):null;j.trigger(e,Do,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(zo),this._activate(U.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),j.trigger(e,Lo,{relatedTarget:t})):e.classList.add(Fo)},e,e.classList.contains(Ho)))}_deactivate(e,t){e&&(e.classList.remove(zo),e.blur(),this._deactivate(U.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),j.trigger(e,ko,{relatedTarget:t})):e.classList.remove(Fo)},e,e.classList.contains(Ho)))}_keydown(e){if(![Io,Mo,jo,No,Po,$o].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(e=>!l(e));let i;if([Po,$o].includes(e.key))i=t[e.key===Po?0:t.length-1];else{const n=[Mo,No].includes(e.key);i=b(t,e.target,n,!0)}i&&(i.focus({preventScroll:!0}),Vo.getOrCreateInstance(i).show())}_getChildren(){return U.find(Bo,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=U.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const n=(e,n)=>{const o=U.findOne(e,i);o&&o.classList.toggle(n,t)};n(Ro,zo),n(".dropdown-menu",Fo),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(zo)}_getInnerElement(e){return e.matches(Bo)?e:U.findOne(Bo,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=Vo.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}j.on(document,Ao,Wo,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this)||Vo.getOrCreateInstance(this).show()}),j.on(window,Eo,()=>{for(const e of U.find(qo))Vo.getOrCreateInstance(e)}),m(Vo);const Go=".bs.toast",Xo=`mouseover${Go}`,Ko=`mouseout${Go}`,Yo=`focusin${Go}`,Qo=`focusout${Go}`,Jo=`hide${Go}`,Zo=`hidden${Go}`,er=`show${Go}`,tr=`shown${Go}`,ir="hide",nr="show",or="showing",rr={animation:"boolean",autohide:"boolean",delay:"number"},sr={animation:!0,autohide:!0,delay:5e3};class ar extends F{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sr}static get DefaultType(){return rr}static get NAME(){return"toast"}show(){j.trigger(this._element,er).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ir),d(this._element),this._element.classList.add(nr,or),this._queueCallback(()=>{this._element.classList.remove(or),j.trigger(this._element,tr),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(j.trigger(this._element,Jo).defaultPrevented||(this._element.classList.add(or),this._queueCallback(()=>{this._element.classList.add(ir),this._element.classList.remove(or,nr),j.trigger(this._element,Zo)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(nr),super.dispose()}isShown(){return this._element.classList.contains(nr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,Xo,e=>this._onInteraction(e,!0)),j.on(this._element,Ko,e=>this._onInteraction(e,!1)),j.on(this._element,Yo,e=>this._onInteraction(e,!0)),j.on(this._element,Qo,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=ar.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}return W(ar),m(ar),{Alert:G,Button:K,Carousel:De,Collapse:Re,Dropdown:Wi,Modal:Tn,Offcanvas:Wn,Popover:uo,ScrollSpy:Co,Tab:Vo,Toast:ar,Tooltip:lo}}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,o){return jQuery.easing[jQuery.easing.def](e,t,i,n,o)},easeInQuad:function(e,t,i,n,o){return n*(t/=o)*t+i},easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i},easeInOutQuad:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,o){return n*(t/=o)*t*t+i},easeOutCubic:function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,o){return n*(t/=o)*t*t*t+i},easeOutQuart:function(e,t,i,n,o){return-n*((t=t/o-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,o){return n*(t/=o)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,o){return n*((t=t/o-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,o){return n*Math.sin(t/o*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+i},easeInExpo:function(e,t,i,n,o){return 0==t?i:n*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(e,t,i,n,o){return t==o?i+n:n*(1-Math.pow(2,-10*t/o))+i},easeInOutExpo:function(e,t,i,n,o){return 0==t?i:t==o?i+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,n,o){return-n*(Math.sqrt(1-(t/=o)*t)-1)+i},easeOutCirc:function(e,t,i,n,o){return n*Math.sqrt(1-(t=t/o-1)*t)+i},easeInOutCirc:function(e,t,i,n,o){return(t/=o/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,o){e=1.70158;var r=0,s=n;return 0==t?i:1==(t/=o)?i+n:(r||(r=.3*o),s<Math.abs(n)?(s=n,e=r/4):e=r/(2*Math.PI)*Math.asin(n/s),-s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-e)*Math.PI/r)+i)},easeOutElastic:function(e,t,i,n,o){e=1.70158;var r=0,s=n;return 0==t?i:1==(t/=o)?i+n:(r||(r=.3*o),s<Math.abs(n)?(s=n,e=r/4):e=r/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*t)*Math.sin(2*(t*o-e)*Math.PI/r)+n+i)},easeInOutElastic:function(e,t,i,n,o){e=1.70158;var r=0,s=n;return 0==t?i:2==(t/=o/2)?i+n:(r||(r=.3*o*1.5),s<Math.abs(n)?(s=n,e=r/4):e=r/(2*Math.PI)*Math.asin(n/s),t<1?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-e)*Math.PI/r)+i:s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*o-e)*Math.PI/r)*.5+n+i)},easeInBack:function(e,t,i,n,o,r){return null==r&&(r=1.70158),n*(t/=o)*t*((r+1)*t-r)+i},easeOutBack:function(e,t,i,n,o,r){return null==r&&(r=1.70158),n*((t=t/o-1)*t*((r+1)*t+r)+1)+i},easeInOutBack:function(e,t,i,n,o,r){return null==r&&(r=1.70158),(t/=o/2)<1?n/2*t*t*((1+(r*=1.525))*t-r)+i:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+i},easeInBounce:function(e,t,i,n,o){return n-jQuery.easing.easeOutBounce(e,o-t,0,n,o)+i},easeOutBounce:function(e,t,i,n,o){return(t/=o)<1/2.75?7.5625*n*t*t+i:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,o){return t<o/2?.5*jQuery.easing.easeInBounce(e,2*t,0,n,o)+i:.5*jQuery.easing.easeOutBounce(e,2*t-o,0,n,o)+.5*n+i}}),
/*!
* Globalize
*
* http://github.com/jquery/globalize
*
* Copyright Software Freedom Conservancy, Inc.
* Dual licensed under the MIT or GPL Version 2 licenses.
* http://jquery.org/license
*/
function(e){var t,i,n,o,r,s,a,l,c,h,d,u,p,f,m,g,v,b,y,_,w,x,C,S;t=function(e){return new t.prototype.init(e)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=t:e.Globalize=t,t.cultures={},t.prototype={constructor:t,init:function(e){return this.cultures=t.cultures,this.cultureSelector=e,this}},t.prototype.init.prototype=t.prototype,t.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},t.cultures.default.calendar=t.cultures.default.calendars.standard,t.cultures.en=t.cultures.default,t.cultureSelector="en",i=/^0x[a-f0-9]+$/i,n=/^[+\-]?infinity$/i,o=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,r=/^\s+|\s+$/g,s=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},a=function(e,t){return e.substr(e.length-t.length)===t},l=function(){var e,t,i,n,o,r,s=arguments[0]||{},a=1,u=arguments.length,p=!1;for("boolean"==typeof s&&(p=s,s=arguments[1]||{},a=2),"object"==typeof s||h(s)||(s={});a<u;a++)if(null!=(e=arguments[a]))for(t in e)i=s[t],s!==(n=e[t])&&(p&&n&&(d(n)||(o=c(n)))?(o?(o=!1,r=i&&c(i)?i:[]):r=i&&d(i)?i:{},s[t]=l(p,r,n)):undefined!==n&&(s[t]=n));return s},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=function(e){return"[object Function]"===Object.prototype.toString.call(e)},d=function(e){return"[object Object]"===Object.prototype.toString.call(e)},u=function(e,t){return 0===e.indexOf(t)},p=function(e){return(e+"").replace(r,"")},f=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},m=function(e,t,i){for(var n=e.length;n<t;n+=1)e=i?"0"+e:e+"0";return e},g=function(e,t){for(var i,n=0,o=!1,r=0,s=e.length;r<s;r++)switch(i=e.charAt(r)){case"'":o?t.push("'"):n++,o=!1;break;case"\\":o&&t.push("\\"),o=!o;break;default:t.push(i),o=!1}return n},v=function(e,t){t=t||"F";var i,n=e.patterns,o=t.length;if(1===o){if(!(i=n[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===o&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},b=function(e,t,i){function n(e,t){var i,n=e+"";return t>1&&n.length<t?(i=D[t-2]+n).substr(i.length-t,t):i=n}function o(){return S||T||(S=L.test(t),T=!0),S}function r(e,t){if(k)return k[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var s,a,l,c,h,d,u,p,f,m=i.calendar,y=m.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?y?s=b(e,m.patterns.F,i):(a=new Date(e.getTime()),l=w(e,m.eras),a.setFullYear(x(e,m,l)),s=a.toLocaleString()):s=e.toString(),s;c=m.eras,h="s"===t,t=v(m,t),s=[];var C,S,T,k,D=["0","00","000"],L=/([^d]|^)(d|dd)([^d]|$)/g,A=0,O=_();for(!h&&y&&(k=y.fromGregorian(e));;){var E=O.lastIndex,I=O.exec(t),M=t.slice(E,I?I.index:t.length);if(A+=g(M,s),!I)break;if(A%2)s.push(I[0]);else switch(u=(d=I[0]).length,d){case"ddd":case"dddd":p=3===u?m.days.namesAbbr:m.days.names,s.push(p[e.getDay()]);break;case"d":case"dd":S=!0,s.push(n(r(e,2),u));break;case"MMM":case"MMMM":f=r(e,1),s.push(m.monthsGenitive&&o()?m.monthsGenitive[3===u?"namesAbbr":"names"][f]:m.months[3===u?"namesAbbr":"names"][f]);break;case"M":case"MM":s.push(n(r(e,1)+1,u));break;case"y":case"yy":case"yyyy":f=k?k[0]:x(e,m,w(e,c),h),u<4&&(f%=100),s.push(n(f,u));break;case"h":case"hh":0===(C=e.getHours()%12)&&(C=12),s.push(n(C,u));break;case"H":case"HH":s.push(n(e.getHours(),u));break;case"m":case"mm":s.push(n(e.getMinutes(),u));break;case"s":case"ss":s.push(n(e.getSeconds(),u));break;case"t":case"tt":f=e.getHours()<12?m.AM?m.AM[0]:" ":m.PM?m.PM[0]:" ",s.push(1===u?f.charAt(0):f);break;case"f":case"ff":case"fff":s.push(n(e.getMilliseconds(),3).substr(0,u));break;case"z":case"zz":C=e.getTimezoneOffset()/60,s.push((C<=0?"+":"-")+n(Math.floor(Math.abs(C)),u));break;case"zzz":C=e.getTimezoneOffset()/60,s.push((C<=0?"+":"-")+n(Math.floor(Math.abs(C)),2)+":"+n(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":m.eras&&s.push(m.eras[w(e,c)].name);break;case"/":s.push(m["/"]);break;default:throw"Invalid date format pattern '"+d+"'."}}return s.join("")},function(){var e;e=function(e,t,i){var n=i.groupSizes,o=n[0],r=1,s=Math.pow(10,t),a=Math.round(e*s)/s;isFinite(a)||(a=e);var l=(e=a)+"",c="",h=l.split(/e/i),d=h.length>1?parseInt(h[1],10):0;h=(l=h[0]).split("."),l=h[0],c=h.length>1?h[1]:"",d>0?(l+=(c=m(c,d,!1)).slice(0,d),c=c.substr(d)):d<0&&(c=(l=m(l,(d=-d)+1,!0)).slice(-d,l.length)+c,l=l.slice(0,-d)),c=t>0?i["."]+(c.length>t?c.slice(0,t):m(c,t)):"";for(var u=l.length-1,p=i[","],f="";u>=0;){if(0===o||o>u)return l.slice(0,u+1)+(f.length?p+f+c:c);f=l.slice(u-o+1,u+1)+(f.length?p+f:""),u-=o,r<n.length&&(o=n[r],r++)}return l.slice(0,u+1)+p+f+c},y=function(t,i,n){var o,r,s,a,l,c;if(!isFinite(t))return t===1/0?n.numberFormat.positiveInfinity:t===-1/0?n.numberFormat.negativeInfinity:n.numberFormat.NaN;if(!i||"i"===i)return n.name.length?t.toLocaleString():t.toString();i=i||"D";var h,d=n.numberFormat,u=Math.abs(t),p=-1;switch(i.length>1&&(p=parseInt(i.slice(1),10)),o=i.charAt(0).toUpperCase()){case"D":h="n",u=f(u),-1!==p&&(u=m(""+u,p,!0)),t<0&&(u="-"+u);break;case"N":r=d;case"C":r=r||d.currency;case"P":r=r||d.percent,h=t<0?r.pattern[0]:r.pattern[1]||"n",-1===p&&(p=r.decimals),u=e(u*("P"===o?100:1),p,r);break;default:throw"Bad number format specifier: "+o}for(s=/n|\$|-|%/g,a="";l=s.lastIndex,c=s.exec(h),a+=h.slice(l,c?c.index:h.length),c;)switch(c[0]){case"n":a+=u;break;case"$":a+=d.currency.symbol;break;case"-":/[1-9]/.test(u)&&(a+=d["-"]);break;case"%":a+=d.percent.symbol}return a}}(),_=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},w=function(e,t){var i,n,o,r;if(!t)return 0;for(n=e.getTime(),o=0,r=t.length;o<r;o++)if(null===(i=t[o].start)||n>=i)return o;return 0},x=function(e,t,i,n){var o=e.getFullYear();return!n&&t.eras&&(o-=t.eras[i].offset),o},function(){var e,t,i,n,o,r,a;e=function(e,t){if(t<100){var i=new Date,n=w(i),o=x(i,e,n),r=e.twoDigitYearMax;(t+=o-o%100)>(r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r)&&(t-=100)}return t},t=function(e,t,i){var n,o=e.days,l=e._upperDays;return l||(e._upperDays=l=[a(o.names),a(o.namesAbbr),a(o.namesShort)]),t=r(t),i?-1===(n=s(l[1],t))&&(n=s(l[2],t)):n=s(l[0],t),n},i=function(e,t,i){var n,o=e.months,l=e.monthsGenitive||e.months,c=e._upperMonths,h=e._upperMonthsGen;return c||(e._upperMonths=c=[a(o.names),a(o.namesAbbr)],e._upperMonthsGen=h=[a(l.names),a(l.namesAbbr)]),t=r(t),(n=s(i?c[1]:c[0],t))<0&&(n=s(i?h[1]:h[0],t)),n},n=function(e,t){var i,n,o,r,s,a,l=e._parseRegExp;if(l){if(i=l[t])return i}else e._parseRegExp=l={};for(var c,h=v(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),d=["^"],u=[],p=0,f=0,m=_();null!==(c=m.exec(h));)if(n=h.slice(p,c.index),p=m.lastIndex,(f+=g(n,d))%2)d.push(c[0]);else{switch(r=(o=c[0]).length,o){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":s="(\\D+)";break;case"tt":case"t":s="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":s="(\\d{"+r+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":s="(\\d\\d?)";break;case"zzz":s="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":s="([+-]?\\d\\d?)";break;case"/":s="(\\/)";break;default:throw"Invalid date format pattern '"+o+"'."}s&&d.push(s),u.push(c[0])}return g(h.slice(p),d),d.push("$"),a={regExp:d.join("").replace(/\s+/g,"\\s+"),groups:u},l[t]=a},o=function(e,t,i){return e<t||e>i},r=function(e){return e.split("Â ").join(" ").toUpperCase()},a=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=r(e[i]);return t},C=function(r,s,a){var l,c,h,d,f,m,g,v,b,y,_,w;r=p(r);var x=a.calendar,C=n(x,s),S=new RegExp(C.regExp).exec(r);if(null===S)return null;var T,k=C.groups,D=null,L=null,A=null,O=null,E=null,I=0,M=0,j=0,N=0,P=null,$=!1;for(l=0,c=k.length;l<c;l++)if(h=S[l+1]){var z=k[l],H=z.length,F=parseInt(h,10);switch(z){case"dd":case"d":if(o(O=F,1,31))return null;break;case"MMM":case"MMMM":if(A=i(x,h,3===H),o(A,0,11))return null;break;case"M":case"MM":if(o(A=F-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(L=H<4?e(x,F):F,o(L,0,9999))return null;break;case"h":case"hh":if(12===(I=F)&&(I=0),o(I,0,11))return null;break;case"H":case"HH":if(o(I=F,0,23))return null;break;case"m":case"mm":if(o(M=F,0,59))return null;break;case"s":case"ss":if(o(j=F,0,59))return null;break;case"tt":case"t":if(!($=x.PM&&(h===x.PM[0]||h===x.PM[1]||h===x.PM[2]))&&(!x.AM||h!==x.AM[0]&&h!==x.AM[1]&&h!==x.AM[2]))return null;break;case"f":case"ff":case"fff":if(N=F*Math.pow(10,3-H),o(N,0,999))return null;break;case"ddd":case"dddd":if(E=t(x,h,3===H),o(E,0,6))return null;break;case"zzz":if(2!==(d=h.split(/:/)).length||(T=parseInt(d[0],10),o(T,-12,13))||(f=parseInt(d[1],10),o(f,0,59)))return null;P=60*T+(u(h,"-")?-f:f);break;case"z":case"zz":if(o(T=F,-12,13))return null;P=60*T;break;case"g":case"gg":if(!(m=h)||!x.eras)return null;for(m=p(m.toLowerCase()),g=0,v=x.eras.length;g<v;g++)if(m===x.eras[g].name.toLowerCase()){D=g;break}if(null===D)return null}}if(b=new Date,y=(_=x.convert)?_.fromGregorian(b)[0]:b.getFullYear(),null===L?L=y:x.eras&&(L+=x.eras[D||0].offset),null===A&&(A=0),null===O&&(O=1),_){if(null===(b=_.toGregorian(L,A,O)))return null}else if(b.setFullYear(L,A,O),b.getDate()!==O||null!==E&&b.getDay()!==E)return null;return $&&I<12&&(I+=12),b.setHours(I,M,j,N),null!==P&&(w=b.getMinutes()-(P+b.getTimezoneOffset()),b.setHours(b.getHours()+parseInt(w/60,10),w%60)),b}}(),S=function(e,t,i){var n,o=t["-"],r=t["+"];switch(i){case"n -":o=" "+o,r=" "+r;case"n-":a(e,o)?n=["-",e.substr(0,e.length-o.length)]:a(e,r)&&(n=["+",e.substr(0,e.length-r.length)]);break;case"- n":o+=" ",r+=" ";case"-n":u(e,o)?n=["-",e.substr(o.length)]:u(e,r)&&(n=["+",e.substr(r.length)]);break;case"(n)":u(e,"(")&&a(e,")")&&(n=["-",e.substr(1,e.length-2)])}return n||["",e]},t.prototype.findClosestCulture=function(e){return t.findClosestCulture.call(this,e)},t.prototype.format=function(e,i,n){return t.format.call(this,e,i,n)},t.prototype.localize=function(e,i){return t.localize.call(this,e,i)},t.prototype.parseInt=function(e,i,n){return t.parseInt.call(this,e,i,n)},t.prototype.parseFloat=function(e,i,n){return t.parseFloat.call(this,e,i,n)},t.prototype.culture=function(e){return t.culture.call(this,e)},t.addCultureInfo=function(e,t,i){var n={},o=!1;"string"!=typeof e?(i=e,e=this.culture().name,n=this.cultures[e]):"string"!=typeof t?(i=t,o=null==this.cultures[e],n=this.cultures[e]||this.cultures.default):(o=!0,n=this.cultures[t]),this.cultures[e]=l(!0,{},n,i),o&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},t.findClosestCulture=function(e){var t,i,n,o,r,s;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),c(e)){for(var a,l=this.cultures,h=e,d=h.length,u=[],f=0;f<d;f++)n=(e=p(h[f])).split(";"),a=p(n[0]),1===n.length?i=1:0===(e=p(n[1])).indexOf("q=")?(e=e.substr(2),i=parseFloat(e),i=isNaN(i)?0:i):i=1,u.push({lang:a,pri:i});for(u.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),f=0;f<d;f++)if(t=l[a=u[f].lang])return t;for(f=0;f<d;f++)for(a=u[f].lang;;){if(-1===(o=a.lastIndexOf("-")))break;if(t=l[a=a.substr(0,o)])return t}for(f=0;f<d;f++)for(r in a=u[f].lang,l)if((s=l[r]).language==a)return s}else if("object"==typeof e)return e;return t||null},t.format=function(e,t,i){var n=this.findClosestCulture(i);return e instanceof Date?e=b(e,t,n):"number"==typeof e&&(e=y(e,t,n)),e},t.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},t.parseDate=function(e,t,i){var n,o,r,s,a,l;if(i=this.findClosestCulture(i),t){if("string"==typeof t&&(t=[t]),t.length)for(s=0,a=t.length;s<a&&(!(l=t[s])||!(n=C(e,l,i)));s++);}else for(o in r=i.calendar.patterns)if(n=C(e,r[o],i))break;return n||null},t.parseInt=function(e,i,n){return f(t.parseFloat(e,i,n))},t.parseFloat=function(e,t,r){var s,a,l,c,h,d,u,f,m,g,v;"number"!=typeof t&&(r=t,t=10);var b=this.findClosestCulture(r),y=NaN,_=b.numberFormat;if(e.indexOf(b.numberFormat.currency.symbol)>-1&&(e=(e=e.replace(b.numberFormat.currency.symbol,"")).replace(b.numberFormat.currency["."],b.numberFormat["."])),e=p(e),n.test(e))y=parseFloat(e);else if(!t&&i.test(e))y=parseInt(e,16);else{var w=S(e,_,_.pattern[0]),x=w[0],C=w[1];""===x&&"(n)"!==_.pattern[0]&&(x=(w=S(e,_,"(n)"))[0],C=w[1]),""===x&&"-n"!==_.pattern[0]&&(x=(w=S(e,_,"-n"))[0],C=w[1]),x=x||"+",(l=C.indexOf("e"))<0&&(l=C.indexOf("E")),l<0?(a=C,s=null):(a=C.substr(0,l),s=C.substr(l+1)),d=_["."],(u=a.indexOf(d))<0?(c=a,h=null):(c=a.substr(0,u),h=a.substr(u+d.length)),f=_[","],c=c.split(f).join(""),m=f.replace(/\u00A0/g," "),f!==m&&(c=c.split(m).join("")),g=x+c,null!==h&&(g+="."+h),null!==s&&(g+="e"+((v=S(s,_,"-n"))[0]||"+")+v[1]),o.test(g)&&(y=parseFloat(g))}return y},t.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}(this),function(e){"use strict";e.matchMedia=e.matchMedia||function(e){var t,i=e.documentElement,n=i.firstElementChild||i.firstChild,o=e.createElement("body"),r=e.createElement("div");return r.id="mq-test-1",r.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(o,n),t=42===r.offsetWidth,i.removeChild(o),{matches:t,media:e}}}(e.document)}(this),function(e){"use strict";function t(){y(!0)}var i={};e.respond=i,i.update=function(){};var n=[],o=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(i){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),r=function(e,t){var i=o();i&&(i.open("GET",e,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState&&i.send(null))};if(i.ajax=r,i.queue=n,i.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},i.mediaQueriesSupported=e.matchMedia&&null!==e.matchMedia("only all")&&e.matchMedia("only all").matches,!i.mediaQueriesSupported){var s,a,l,c=e.document,h=c.documentElement,d=[],u=[],p=[],f={},m=c.getElementsByTagName("head")[0]||h,g=c.getElementsByTagName("base")[0],v=m.getElementsByTagName("link"),b=function(){var e,t=c.createElement("div"),i=c.body,n=h.style.fontSize,o=i&&i.style.fontSize,r=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",i||((i=r=c.createElement("body")).style.background="none"),h.style.fontSize="100%",i.style.fontSize="100%",i.appendChild(t),r&&h.insertBefore(i,h.firstChild),e=t.offsetWidth,r?h.removeChild(i):i.removeChild(t),h.style.fontSize=n,o&&(i.style.fontSize=o),l=parseFloat(e)},y=function(t){var i="clientWidth",n=h[i],o="CSS1Compat"===c.compatMode&&n||c.body[i]||n,r={},f=v[v.length-1],g=(new Date).getTime();if(t&&s&&30>g-s)return e.clearTimeout(a),void(a=e.setTimeout(y,30));for(var _ in s=g,d)if(d.hasOwnProperty(_)){var w=d[_],x=w.minw,C=w.maxw,S=null===x,T=null===C;x&&(x=parseFloat(x)*(x.indexOf("em")>-1?l||b():1)),C&&(C=parseFloat(C)*(C.indexOf("em")>-1?l||b():1)),w.hasquery&&(S&&T||!(S||o>=x)||!(T||C>=o))||(r[w.media]||(r[w.media]=[]),r[w.media].push(u[w.rules]))}for(var k in p)p.hasOwnProperty(k)&&p[k]&&p[k].parentNode===m&&m.removeChild(p[k]);for(var D in p.length=0,r)if(r.hasOwnProperty(D)){var L=c.createElement("style"),A=r[D].join("\n");L.type="text/css",L.media=D,m.insertBefore(L,f.nextSibling),L.styleSheet?L.styleSheet.cssText=A:L.appendChild(c.createTextNode(A)),p.push(L)}},_=function(e,t,n){var o=e.replace(i.regex.keyframes,"").match(i.regex.media),r=o&&o.length||0,s=function(e){return e.replace(i.regex.urls,"$1"+t+"$2$3")},a=!r&&n;(t=t.substring(0,t.lastIndexOf("/"))).length&&(t+="/"),a&&(r=1);for(var l=0;r>l;l++){var c,h,p,f;a?(c=n,u.push(s(e))):(c=o[l].match(i.regex.findStyles)&&RegExp.$1,u.push(RegExp.$2&&s(RegExp.$2))),f=(p=c.split(",")).length;for(var m=0;f>m;m++)h=p[m],d.push({media:h.split("(")[0].match(i.regex.only)&&RegExp.$2||"all",rules:u.length-1,hasquery:h.indexOf("(")>-1,minw:h.match(i.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:h.match(i.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}y()},w=function(){if(n.length){var t=n.shift();r(t.href,function(i){_(i,t.href,t.media),f[t.href]=!0,e.setTimeout(function(){w()},0)})}},x=function(){for(var t=0;t<v.length;t++){var i=v[t],o=i.href,r=i.media,s=i.rel&&"stylesheet"===i.rel.toLowerCase();o&&s&&!f[o]&&(i.styleSheet&&i.styleSheet.rawCssText?(_(i.styleSheet.rawCssText,o,r),f[o]=!0):(!/^([a-zA-Z:]*\/\/)/.test(o)&&!g||o.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&("//"===o.substring(0,2)&&(o=e.location.protocol+o),n.push({href:o,media:r})))}w()};x(),i.update=x,i.getEmValue=b,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this);var SettingsScopes={All:0,SiteSettings:1,ReportSettings:2,EmbedSettings:3,Connector:4,Email:5,Accounts:6,UserDirectorySettings:7,AuthenticationSettings:8,NotificationSettings:9,ManageLicense:10,SupportSettings:11,Subscription:12,Payments:13,CORSPolicySettings:14,Security:15},PermissionEntities={None:0,AllReports:1,ReportsInCategory:2,SpecificReports:3,AllCategories:4,SpecificCategory:5,AllDataSources:6,SpecificDataSource:7,AllFiles:8,SpecificFile:9,AllSchedules:10,SpecificSchedule:11,AllDashboards:12,DashboardsInCategory:13,SpecificDashboard:14,AllWidgets:15,SpecificWidget:16,AllDatasets:17,SpecificDataset:18,SpecificItemView:19,AllItemViews:20,SpecificSlideshow:21,AllSlideshow:22,SpecificSettings:23,AllSettings:24,SpecificGroup:25,UsersandGroups:26,SpecificPermissions:27,AllPermissions:28,AllGroups:29},ReportLayoutView={Card:1,Grid:2};function ajaxPostCall(e,t,i,n,o,r,s){if(embedConfig.IsEmbedCode){if("GET"==e){var a=jQuery.param(i);t.api=t.api+"?"+a,i=null}return $.ajax({type:e,url:reportServerApiUrlForServerEmbed+t.api,headers:{"Content-type":"application/json",Authorization:token},data:JSON.stringify(i),beforeSend:function(e){isNullOrWhitespace(n)||n(e)},success:function(e,t){isNullOrWhitespace(o)||o(e)},error:function(e){isNullOrWhitespace(r)||r()},complete:function(e){isNullOrWhitespace(s)||s(e)}})}return $.ajax({type:e,url:t.web,data:i,beforeSend:function(e){embedConfig.IsEmbedReport||e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie()),isNullOrWhitespace(n)||n(e)},success:function(e,t){isNullOrWhitespace(o)||o(e)},error:function(e){isNullOrWhitespace(r)||r()},complete:function(e){isNullOrWhitespace(s)||s(e)}})}function isNullOrWhitespace(e){return null==e||null==e||""==$.trim(e)}function generateProfileAvatar(){$(".profile-pic-tag").each(function(){var e=$(this).attr("data-id"),t=$(this).attr("data-image-size"),i=t/3,n=$(this).attr("data-display-name"),o=$(this).attr("data-type");if($(this).html(""),0!=e){var r=["#b7fbff","#a9eec2","#ffe0a3","#ffa1ac","#8ed6ff","#bf9fee","#ffa0d2","#32dbc6","#d2c8c8","#e3e7f1"];if("user"==o){var s=e.match(/(\d+)/g),a=0;for(a=0;a<s.length;a++)var l=s[0][0];$(this).css("background-color",r[l]);var c=idpUrl+"/User/Avatar?id="+e,h=$('<img id="default-profile-image">');h.attr("src",c),h.attr("width",t),h.attr("height",t),h.css("position","absolute"),h.css("top","0px"),h.css("left","0px"),h.css("border-radius","50%"),h.appendTo($(this))}else{var d=e%10;$(this).css("background-color",r[d])}$(this).css("width",t),$(this).css("height",t),$(this).css("line-height",t+"px");var u=n.trim().toUpperCase().split(/ /),p=$('<span id="first-letter">');null==u[1]?p.text(u[0][0]):p.text(u[0][0]+u[u.length-1][0]),p.css("font-size",i+"px"),p.css("margin-left","2px"),p.appendTo($(this))}})}function extractXSRFTokenFromCookie(){var e=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));return e?e.split("=")[1]:null}$(document).on("click","#license-warning-designer",function(){var e=window.Server.App.LocalizationContent.LicenseWarningContent1+"<div class='license-warning-content'>"+window.Server.App.LocalizationContent.LicenseWarningContent2+"<a class='text-decoration-none' href='"+idpUrl+"/ums/administration/license-settings?product=enterprise-reporting'>"+window.Server.App.LocalizationContent.LicenseWarningContent3+"</a>"+window.Server.App.LocalizationContent.LicenseWarningContent4,t=document.createElement("style");t.innerHTML="\n        #license-warning-designer-item-dialog .e-icon-btn {\n            top: -3px;\n            left: -3px;\n            position: relative;\n        }\n\n        #license-warning-designer-item-dialog .e-icon-btn .e-icons {\n            height: 14px;\n            left: -2px;\n            top: 4px;\n            position: absolute;\n            width: 21px;\n        }\n    ",document.head.appendChild(t);var i=document.createElement("div");i.setAttribute("id","license-warning-designer-item-dialog");var n=document.createElement("div");n.setAttribute("id","content-area"),document.body.appendChild(n),document.getElementById("content-area").appendChild(i);var o=new ejs.popups.Dialog({header:window.Server.App.LocalizationContent.LicenseWarningHeader,showCloseIcon:!0,content:e,buttons:[{click:function(){o.hide()},buttonModel:{content:window.Server.App.LocalizationContent.CancelButton}}],width:"400px",isModal:!0});o.appendTo(i)}),$(document).on("click","#license-warning",function(){var e=window.Server.App.LocalizationContent.LicenseWarningContent1+"<div class='license-warning-content'>"+window.Server.App.LocalizationContent.LicenseWarningContent2+"<a class='text-decoration-none' href='"+idpUrl+"/ums/administration/license-settings?product=enterprise-reporting'>"+window.Server.App.LocalizationContent.LicenseWarningContent3+"</a>"+window.Server.App.LocalizationContent.LicenseWarningContent4,t=document.createElement("style");t.innerHTML="\n        #license-warning-item-dialog .e-icon-btn {\n            top: -3px;\n            left: -3px;\n            position: relative;\n        }\n\n        #license-warning-item-dialog .e-icon-btn .e-icons {\n            height: 14px;\n            left: -2px;\n            top: 4px;\n            position: absolute;\n            width: 21px;\n        }\n    ",document.head.appendChild(t);var i=document.createElement("div");i.setAttribute("id","license-warning-item-dialog");var n=document.createElement("div");n.setAttribute("id","content-area"),document.body.appendChild(n),document.getElementById("content-area").appendChild(i);var o=new ejs.popups.Dialog({header:window.Server.App.LocalizationContent.LicenseWarningHeader,showCloseIcon:!0,content:e,buttons:[{click:function(){o.hide()},buttonModel:{content:window.Server.App.LocalizationContent.CancelButton}}],width:"400px",isModal:!0});o.appendTo(i)}),$(document).on("click",".listing-dropdown .dropdown-toggle",function(e){$(".listing-dropdown .dropdown-menu").not($(this).next()).removeClass("show")}),$(document).on("click",function(e){let t=$(".listing-dropdown .dropdown-menu.show");$(e.target).closest(".listing-dropdown").length||t.length&&t.removeClass("show")});var timeOut,searchId,cursorPos,Paste,createHiddenEditable,isFocusable,initialLine,initialPosition,targetElement,itemId,dataManger,elementNode,getAllCommentAjax,deletedCommentId,userAgent=navigator.userAgent,regexIe8=new RegExp("Trident(/4.0)|(Trident/5.0)"),isSafari=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),clearSearch=!1,sessionData=!1,isSession=!1,isEtlstatusChecked=!1,keyCode={Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,LeftWindow:91,RightWindow:92},ItemType={None:0,Category:1,Dashboard:2,Report:3,Datasource:4,Dataset:5,File:6,Schedule:7,Widget:8,ItemView:9,Slideshow:10,Settings:11,UserManagement:12,Permissions:13,ReportPart:14},excludedSearchKeys=[keyCode.Tab,keyCode.Shift,keyCode.Ctrl,keyCode.Alt,keyCode.Pause,keyCode.CapsLock,keyCode.PageUp,keyCode.PageDown,keyCode.End,keyCode.Home,keyCode.LeftArrow,keyCode.UpArrow,keyCode.RightArrow,keyCode.DownArrow,keyCode.Insert,keyCode.LeftWindow,keyCode.RightWindow];function isEmptyOrWhitespace(e){return""==$.trim(e)}function convertToBoolean(e){switch("string"==typeof e&&(e=e.toLowerCase()),e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}}function handleAjaxError(){}function refreshScroller(){var e="block"==$(".collapseIcon").css("display")?$(".collapseIcon").height():0;if($(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+$("#listing").outerHeight()+e)<0){var t=$(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+e),i=$("#CatergoryHeading").outerWidth();$("#ScrollElement").ejScroller({height:window.innerWidth<1041&&t<200?200:t,width:i,buttonSize:0,scrollerSize:9})}else null!=$("#ScrollElement").data("ejScroller")&&$("#ScrollElement").data("ejScroller").destroy()}function refreshScrollerForCategory(){for(var e=0,t=0;t<$("#scroll-content #listing>li").length;t++)e+=$($("#scroll-content #listing>li")[t]).outerHeight();if($(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+e+$("#create-new-category").outerHeight())<0){var i=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+$("#create-new-category").outerHeight());$(".item-navigation").outerWidth();if($(".all-items").hasClass("active")&&$("#category-list").is(":visible")){$("#scroll-content").ejScroller({height:i,buttonSize:0,scrollerSize:9,autoHide:!0});var n=$("#scroll-content").data("ejScroller");null!=n&&null!=n&&n.refresh()}}else null!=$("#scroll-content").data("ejScroller")&&$("#scroll-content").data("ejScroller").destroy()}function addPlacehoder(e){regexIe8.test(userAgent)&&$(e).find("input[type=text],input[type=password],textarea").each(function(){""===$(this).val()?$($("<div>",{class:"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).show():$($("<div>",{class:"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).hide()})}function doAjaxPost(e,t,i,n,o,r,s,a,l,c){s&&(s.is(":input:button")||s.is("button")?s.prop({disabled:!0}):showWaitingPopup(s)),null==a&&(a=!0),null==l&&(l="application/x-www-form-urlencoded; charset=UTF-8"),$.ajax({type:e,url:t,context:this,processData:a,contentType:l,data:i,success:!0===c?$.proxy(getFnObj(n),window,i):$.proxy(getFnObj(n),window),error:$.proxy(function(e,t,i){e.statusText,o&&getFnObj(o).call(window,e,t,i)},this),complete:$.proxy(function(e){try{var t=JSON.parse(e.responseText);null!=t.data&&null!=t.data&&null!=t.data.Message&&null!=t.data.Message&&"unauthorized"==t.data.Message.toLowerCase()&&window.location.replace(window.location.href)}catch(e){}s&&(s.is(":input:button")||s.is("button")?s.prop({disabled:!1}):hideWaitingPopup(s)),r&&getFnObj(r).call(window,e)},this)})}function ShowWaitingProgress(e,t){if("show"==t){var i=createLoader(e);$(e).ejWaitingPopup({template:$("#"+i)}),$(e).ejWaitingPopup("show")}else $(e).ejWaitingPopup("hide")}function getFnObj(e){return"function"==typeof e||"string"==typeof e&&window[e]?e:void 0}function showWaitingPopup(e){if("string"==typeof e){var t=0===e.indexOf(".")?".":"#";0===e.indexOf(".")||0===e.indexOf("#")?t=e:t+=e,e=$(0===e.indexOf(".")?e:"#"+e)}else{if(e.first().attr("id"))t="#"+(e=e.first().attr("id"));else t=e="."+(e=e.first().attr("class"));e=$(0===e.indexOf(".")?e:"#"+e)}var i=createLoader(e,t);e.ejWaitingPopup({template:$("#"+i)}),e.ejWaitingPopup("show")}function hideWaitingPopup(e){"string"==typeof e&&(e=$(0===e.indexOf(".")?e:"#"+e)),e.ejWaitingPopup("hide")}function redirect(e,t){t?setTimeout(function(){window.location.assign(e)},t):window.location.assign(e)}function DateCustomFormat(e,t,i){var n,o,r,s,a,l,c,h,d,u,p,f,m,g,v,b,y,_,w,x,C,S,T=new Date(t),k=e;return o=((n=T.getFullYear())+"").slice(-2),a=(l=T.getMonth()+1)<10?"0"+l:l,s=(r=["January","February","March","April","May","June","July","August","September","October","November","December"][l-1]).substring(0,3),d=(u=T.getDate())<10?"0"+u:u,h=(c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][T.getDay()]).substring(0,3),C=u>=10&&u<=20?"th":1==(x=u%10)?"st":2==x?"nd":3==x?"rd":"th",e=e.replace("yyyy",n).replace("yy",o).replace("MMMM",r).replace("MMM",s).replace("MM",a).replace("dddd",c).replace("ddd",h).replace("dd",d).replace("d",u).replace("th",C),"True"==i?(S=(m=p=T.getHours())<10?"0"+m:m,g=(v=T.getMinutes())<10?"0"+v:v,b=(y=T.getSeconds())<10?"0"+y:y,k=e.replace("HH",S).replace("mm",g).replace("ss",b)):(0==(m=p=T.getHours())&&(m=24),m>12&&(m-=12),f=m<10?"0"+m:m,w=(_=p<12?"am":"pm").toUpperCase(),g=(v=T.getMinutes())<10?"0"+v:v,b=(y=T.getSeconds())<10?"0"+y:y,k=e.replace("hhh",p).replace("hh",f).replace("h",m).replace("mm",g).replace("m",v).replace("ss",b).replace("s",y).replace("ampm",_).replace("AMPM",w)),k}function isNumberKey(e){var t=e.which?e.which:e.keyCode;return!(46!=t&&t>31&&(t<48||t>57))}function validateUserName(e){return/\s/g.test(e)?{isValid:!1,message:window.Server.App.LocalizationContent.HasWhiteSpace}:/[^a-zA-Z0-9]/.test(e)?{isValid:!1,message:window.Server.App.LocalizationContent.UserNameSpecialCharacterValicator}:{isValid:!0,message:"valid"}}function isValidUrl(e){return!!/^(?!(ftp|https?):\/\/)([a-zA-Z0-9-_]+\.)*[a-zA-Z0-9][a-zA-Z0-9-]+(\.[a-z]{2,6})?(:\d{1,5})?(\/[a-zA-Z0-9-]+[a-zA-Z0-9-]*(\.[a-z]{2,8})?)*?$/gm.test(e)}function getMaxZIndex(){var e=0;return $("div").each(function(){var t=parseInt($(this).css("zIndex"),10);t>e&&(e=t)}),e}function IsEmail(e){return!!/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,63}|[0-9]{1,3})(\]?)$/.test(e)}function IsValidContactNumber(e){return!!/^(?:|[0-9\-\+]{9,15})$/.test(e)}function onCloseMessageBox(){$("#messageBox").ejDialog("close")}function onMessageDialogClose(){$("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html("")}function messageBox(e,t,i,n,o,r,s,a,l,c){var h,d,u;($("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox").find(".message-header").html("<span class='su "+e+"'></span> <span class='modal-title'  data-bs-toggle='tooltip' data-bs-placement='bottom' data-container='body' title='"+t+"'  >"+t+"</h2>"),$("#messageBox").find(".message-content").html(i),$("#messageBox").find(".message-content").removeClass("text-left"),"error"==n)?(null!=o&&(d=$("<input type='button' class='app-button app-critical-action-button app-btn-danger float-end' value='"+window.Server.App.LocalizationContent.YesButton+"'></input>")).bind("click",$.proxy(getFnObj(o),window)),null!=r?((h=$("<input type='button' class='app-button app-secondary-button app-btn-secondary float-end' tabindex='-1' value='"+window.Server.App.LocalizationContent.NoButton+"'></input>")).bind("click",$.proxy(getFnObj(r),window)),(u=$('<span class="su su-close"></span>')).bind("click",$.proxy(getFnObj(r),window))):(h=$("<input type='button' class='app-button app-secondary-button app-btn-secondary float-end' tabindex='-1' value='"+window.Server.App.LocalizationContent.NoButton+"'></input>"),u=$('<span class="su su-close"></span>'),h.click(function(){onCloseMessageBox()}),u.click(function(){onCloseMessageBox()})),$(".message-box-close").html(u),$(".message-box-btn-holder").append(h,d),$("#messageBox").unbind("keydown")):(null!=o?((d=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' tabindex='-1' value='"+window.Server.App.LocalizationContent.OKButton+"'></input>")).bind("click",$.proxy(getFnObj(o),window)),(u=$('<span class="su su-close"></span>')).bind("click",$.proxy(getFnObj(o),window))):(d=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' tabindex='-1' value='"+window.Server.App.LocalizationContent.OKButton+"'></input>"),u=$('<span class="su su-close"></span>'),d.click(function(){onCloseMessageBox()}),u.click(function(){onCloseMessageBox()})),$(".message-box-close").html(u),$(".message-box-btn-holder").append(d),$("#messageBox").on("keydown",function(e){switch(e.keyCode){case 13:case 27:d.click()}}));$('[data-bs-toggle="tooltip"]').tooltip(),$("#messageBox").ejDialog("open"),$("#messageBox").focus();var p=$("#messageBox").data("ejDialog");setTimeout(function(){null!=s&&p.option("width",s),window.innerWidth>1040&&null==a&&(a="135px"),p.option("height",a),null!=l&&p.option("maxHeight",l)},50),null!=c&&null!=c&&p.option("cssClass",c)}function deleteUserAvatar(){ShowWaitingProgress("#user-profile-master","show"),doAjaxPost("POST",deleteavatarUrl,{email:$("#user-email").val()},function(e){ShowWaitingProgress("#user-profile-master","hide"),e.status?messageBox("su-delete",window.Server.App.LocalizationContent.DeleteAvatar,window.Server.App.LocalizationContent.DeleteAvatarSuccess,"success",function(){var e=$("#logged-user").html().toLowerCase();$("#user-profile-picture").attr("src",getdefaultavatarUrl),$("#user-profile-picture").siblings("#avatar-delete-click").remove(),$("#user-name").val()==e&&$(".profile-picture,#profile-picture-menu").find("img").attr("src",getdefaultavatarUrl),onCloseMessageBox()}):messageBox("su-delete",window.Server.App.LocalizationContent.DeleteAvatarTitle,window.Server.App.LocalizationContent.DeleteAvatarError,"success",function(){onCloseMessageBox()})})}function IsValidName(e,t){return!("username"===e.toLowerCase()?new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\@\;\,]/):"datasetname"===e.toLowerCase()||"report-part"===e.toLowerCase()?new RegExp(/[!"#$%&'()*+,\s./:;<=>?@[\\\]^`{|}~-]/g):new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\&\#\?\'\"\;\,]/)).test(t)}function IsValidNumber(e){return/^\d+$/.test(e)}function UsernameValidation(e){return!!/^[a-zA-Z0-9]([._-](?![._-])|[a-zA-Z0-9]){1,252}[a-zA-Z0-9]$/.test(e)}function IsValidUsername(e){return UsernameValidation(e)||IsEmail(e)}function IsValidUsernameLength(e){return!!/^.{3,254}$/.test(e)}function GridLocalization(){ej.Grid.Locale["en-US"]={EmptyRecord:window.Server.App.LocalizationContent.NoRecords,StringMenuOptions:[{text:window.Server.App.LocalizationContent.SearchKeyStart,value:"StartsWith"},{text:window.Server.App.LocalizationContent.SearchKeyEnd,value:"EndsWith"},{text:window.Server.App.LocalizationContent.SearchKeyContanins,value:"Contains"},{text:window.Server.App.LocalizationContent.SearchKeyEqual,value:"Equal"},{text:window.Server.App.LocalizationContent.SearchKeyNotEqual,value:"NotEqual"}],FilterMenuCaption:window.Server.App.LocalizationContent.SearchValue,Filter:window.Server.App.LocalizationContent.Search,Clear:window.Server.App.LocalizationContent.ClearSearch},ej.Pager.Locale["en-US"]={pagerInfo:window.Server.App.LocalizationContent.pageCount,firstPageTooltip:window.Server.App.LocalizationContent.FirstPage,lastPageTooltip:window.Server.App.LocalizationContent.LastPage,nextPageTooltip:window.Server.App.LocalizationContent.NextPage,previousPageTooltip:window.Server.App.LocalizationContent.PreviousPage}}function PerformSearch(e){var t;if("#search-schedules"==e){t=$("#scheduleGrid").data("ejGrid");var i=$("#search-schedules").val();if(i.indexOf(":")>-1){var n=i.split(":")[0].toLowerCase(),o=i.split(":")[1].trim();switch(i.match(/:/g).length>1&&(firstKey=i.split(":")[1],secondKey=i.split(":")[2],o=(firstKey+":"+secondKey).trim()),n.replace(/ /g,"").toLowerCase()){case"name":n="Name";break;case"report":n="ItemName";break;case"lastrun":n="LastRunString";break;case"nextscheduledrun":n="NextScheduleString";break;case"exportpath":n="ExportPath";break;case"scheduleparameter":n="ScheduleParameter";break;case"status":n="Status"}t.model.searchSettings.fields=n,t.model.searchSettings.key=o,t.refreshContent(),t.model.searchSettings.fields=""}else t.search($("#search-schedules").val())}else"#search-slideshows"==e?((t=$("#slideshowGrid").data("ejGrid")).model.pageSettings.currentPage=1,t.refreshContent()):"#search-users"==e?((t=$("#user_grid").data("ejGrid")).model.pageSettings.currentPage=1,t.refreshContent()):"#search-ad-users"==e?($("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),(t=$("#user_grid").data("ejGrid")).search($("#search-ad-users").val())):"#search-items"==e?((t=$("#items").data("ejGrid")).model.pageSettings.currentPage=1,t.refreshContent()):"#search-home-page"==e?((t=$("#items").data("ejGrid")).model.filterSettings.filteredColumns=[],(!$("#category-list").is(":visible")||$("#category-list").length<=0)&&($(".all-items").hasClass("active")&&(t.model.filterSettings.filteredColumns=[{field:"CategoryName",operator:"equal",value:$("#category-section-name").html()}]),t.model.pageSettings.currentPage=1,t.refreshContent())):"#search-published-items"==e?((t=$("#PublishItemGrid").data("ejGrid")).model.pageSettings.currentPage=1,t.search($("#search-published-items").val()),t.refreshContent()):"#search-group-users"==e||"#search-groups"==e?((t=$("#Grid").data("ejGrid")).model.pageSettings.currentPage=1,t.refreshContent()):"#search-ad-groups"==e?(t=$("#Grid").data("ejGrid")).search($("#search-ad-groups").val()):"#ad-user-import"==e?($(".grid-error-validation").css("display","none"),$(".empty-validation").css("display","none"),$(".grid-validation").css("display","none"),searchADUsers($("#ad-user-import").val())):"#ad-group-import"==e?($(".grid_error_validation").css("display","none"),$(".empty_validation").css("display","none"),$(".grid_validation").css("display","none"),searchADGroups($("#ad-group-import").val())):"#search-user-permission"==e?(t=$("#itempermissiongrid").data("ejGrid")).search($("#search-user-permission").val()):"#search-group-permission"==e?(t=$("#itemgrouppermissiongrid").data("ejGrid")).search($("#search-group-permission").val()):"#userSearchKey"==e?(t=$("#UserGrid").data("ejGrid")).refreshContent():"#groupSearchKey"==e?(t=$("#GroupGrid").data("ejGrid")).refreshContent():"#search-linked-accounts"==e?(t=$("#ConnectedAccountGrid").data("ejGrid")).search($("#search-linked-accounts").val()):"#search-datasource-grid"==e&&((t=$("#add_datasource_grid").data("ejGrid")).model.selectedRecords=[],t.model.pageSettings.currentPage=1,t.refreshContent())}function SuccessAlert(e,t,i){window.top.$("#success-alert").css("display","table"),window.top.$("#message-header").html(e),window.top.$("#message-content").html(t),setTimeout(function(){window.top.$("#success-alert").fadeOut()},i)}function SuccessAlertFromPopup(e,t,i){window.top&&"function"==typeof window.top.SuccessAlert&&window.top.SuccessAlert(e,t,i)}function WarningAlert(e,t,i){parent.$("#warning-alert").css("display","table"),parent.$("#warning-alert #message-header").html(e),parent.$(" #warning-alert #message-content").html(t),null!=i&&""!=i&&setTimeout(function(){parent.$("#warning-alert").fadeOut()},i),$(document).on("click",".close-div",function(){parent.$("#warning-alert").fadeOut()})}function MobileAlert(e,t){parent.$("#mobile-alert").fadeIn(),parent.$("#mobile-alert #message").html(e),null!=t&&""!=t&&setTimeout(function(){parent.$("#mobile-alert").fadeOut(1e3)},t)}function ProgressAlert(e,t,i,n,o){var r="progress-alert_"+e;if(!parent.$("#progress-alert-container").find("#"+r).length){var s='<div id="'+r+'" class="progress-alert"><div id="image-container"><div class="image-holder"><span id="progress-notify-success" class="su su-tick display-none" alt="'+window.Server.App.LocalizationContent.SucessIcon+'"></span><div id="progress-notify-loader"><svg x="0px" y="0px" width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve"><rect x="0" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /></rect><rect x="8" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /></rect><rect x="16" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /></rect></svg></div></div></div><div id="message" class="div-close"><h1 id="message-header"></h1><span id="message-content"></span></div><div class="close-div"><span id="close-content">"'+window.Server.App.LocalizationContent.CloseIcon+'"</span></div></div>';$("#progress-alert-container").append(s)}parent.$("#"+r).css("display","table"),parent.$("#"+r+" #message-header").html(t),parent.$("#"+r+" #message-content").html(i),o?(parent.$("#"+r+" #progress-notify-loader").addClass("display-none"),parent.$("#"+r+" #progress-notify-success").removeClass("display-none")):(parent.$("#"+r+" #progress-notify-loader").removeClass("display-none"),parent.$("#"+r+" #progress-notify-success").addClass("display-none")),null!=n&&""!=n&&setTimeout(function(){parent.$("#"+r).fadeOut()},n),$(document).on("click",".close-div",function(){var e=$(this);parent.$(e).parent().remove()})}function getQueryVariable(e){for(var t=window.location.search.substring(1).split("&"),i=0;i<t.length;i++){var n=t[i].split("=");if(n[0]==e)return n[1]}return null}function getUrlQueryVariable(e,t){for(var i=e.substring(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++){var o=i[n].split("=");if(o[0]==t)return o[1]}return null}function createLoader(e,t){var i="";if("string"==typeof e){t=0===e.indexOf(".")?".":"#";if(i=(e=0===e.indexOf(".")||0===e.indexOf("#")?e.slice(1,e.length):e)+"-loader-icon",0==$("#"+i).length&&0!=$(t+e).length){var n=$("<div class='loader-blue loader-icon' id='"+i+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div>");$("body").append(n)}return i}t=0===(e=t).indexOf(".")?".":"#";if(i=(e=e.slice(1,e.length))+"-loader-icon",0==$("#"+i).length&&0!=$(t+e).length){n=$("<div class='loader-blue loader-icon' id='"+i+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div>");$("body").append(n)}return i}function ajaxPostCall(e,t,i,n,o,r,s){if(embedConfig.IsEmbedCode){if("GET"==e){var a=jQuery.param(i);t.api=t.api+"?"+a,i=null}return $.ajax({type:e,url:reportServerApiUrl+t.api,headers:{"Content-type":"application/json",Authorization:"bearer "+designerToken},data:JSON.stringify(i),beforeSend:function(e){isNullOrWhitespace(n)||n(e)},success:function(e,t){isNullOrWhitespace(o)||o(e)},error:function(e){isNullOrWhitespace(r)||r()},complete:function(e){isNullOrWhitespace(s)||s(e)}})}return $.ajax({type:e,url:t.web,data:i,beforeSend:function(e){isNullOrWhitespace(n)||n(e)},success:function(e,t){isNullOrWhitespace(o)||o(e)},error:function(e){isNullOrWhitespace(r)||r()},complete:function(e){isNullOrWhitespace(s)||s(e)}})}function isNullOrWhitespace(e){return null==e||null==e||""==$.trim(e)}function getCurrentPageNumber(e,t,i,n){var o=i-t;if(o>e){var r=o%e===0?o/e:Math.floor(o/e+1);return n>r?r:n}return 1}function isValidGuid(e){return/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/gi.test(e)}function showOrHideGridPager(e){var t=$(e).ejGrid("option","pageSettings");t.totalRecordsCount<=t.pageSize?$(e+" .e-pager").css("display","none"):$(e+" .e-pager").css("display","block")}function blurServerAppContainer(e){null!=e&&""!=e||(e="5px"),$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter","blur("+e+")"),$("#server-app-container").css("overflow","hidden"),$("#unlock-enterprise-features-container").length>0&&$("#unlock-enterprise-features-container").addClass("blur-content")}function unblurServerAppContainer(){$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter",""),$("#server-app-container").css("overflow",""),$("#unlock-enterprise-features-container").length>0&&$("#unlock-enterprise-features-container").removeClass("blur-content")}function generateUUID(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:3&i|8).toString(16)})}function PreloadResources(e,t){setTimeout(function(){for(var i=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")||-1!=navigator.userAgent.indexOf("Edge"),n=0;n<e.length;n++){var o=document.createElement("link");o.href=e[n],o.rel=i?"preload":"prefetch",o.as=t,document.head.appendChild(o)}})}function refreshToolTip(e){null==e&&(e="tooltip"),$('[data-bs-toggle="'+e+'"]').tooltip({animation:!0,delay:{show:500},html:!0})}function extractXSRFTokenFromCookie(){var e=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));return e?e.split("=")[1]:null}function isValidOrigin(e){return new RegExp(/^https?:\/\/(?:w{1,3}\.)?[^\s.]+(?:\.[a-z]+)*(?::\d+)?(?![^<]*(?:<\/\w+>|\/?>))/).test(e)}function createWaitingPopup(e){ejs.popups.createSpinner({target:document.getElementById(e)})}
/**
 * easymde v2.4.2
 * Copyright Jeroen Akkerman
 * @link https://github.com/ionaru/easy-markdown-editor
 * @license MIT
 */$(document).ready(function(e){$("body, .login-main, #server-app-container").removeAttr("style"),$("#layout-body-loader-icon").css("display","none"),$(document).on("click",".close-warning-icons",function(e){$("#content-area").removeClass("suspension-warning-space"),$(".suspension-warning").css("display","none")}),$(document).on("click",".close-user-warning-icons",function(e){$("#content-area").removeClass("user-warning-space"),$(".user-warning").css("display","none")}),$("form").attr("autocomplete","off"),$("input[type=text], input[type=password]").attr("autocomplete","off"),$.fn.tooltip=function(e){return this.each(function(){new bootstrap.Tooltip(this,e)})},$('[data-bs-toggle="tooltip"]').tooltip(),$('.help-option [second-toggle="tooltip"]').each(function(){var e=bootstrap.Tooltip.getInstance(this);e&&e.dispose()}),$('.help-option [second-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}}),$('#app-navigation [data-bs-toggle="tooltip"]').each(function(){var e=bootstrap.Tooltip.getInstance(this);e&&e.dispose()}),$('#app-navigation [data-bs-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}}),document.querySelectorAll('[data-bs-toggle="profile-tag-tooltip"]').forEach(e=>{new bootstrap.Tooltip(e,{animation:!0,html:!0,placement:"top"})}),$(".dropdown-menu #notify_header").click(function(e){e.stopPropagation()}),$(document).on("click","#notification-content-area.dropdown-menu",function(e){e.stopPropagation()}),$("#notification-icon").click(function(){if(!$("#notification-link").hasClass("open")){var e=angular.element($("#notification-content")).scope();e.$apply(function(){e.notifications=[],e.isFinal=!0,e.skip=0});var t=createLoader("notification-content-area");$("#notification-content-area").ejWaitingPopup({template:$("#"+t)}),$("#notification-content-area").addClass("show"),$("#notification-content-area").ejWaitingPopup("show"),$("#notification-content-area").removeClass("show"),$.ajax({type:"GET",url:getUserNotificationsPartialViewResultUrl,success:function(e){null!==e&&(angular.element($("#notification-content")).scope(),function(e){var t=angular.element($("#notification-content")).scope();parent.$("#notification-content-area").ejWaitingPopup("show"),t.$apply(function(){for(var i=t.skip,n=0;n<e.LogList.length;n++)t.notifications.push(e.LogList[n]);e.LogList.length>0?parent.$("#view-all-notification").removeClass("not-active"):parent.$("#view-all-notification").addClass("not-active"),t.totalNotifications=e.LogCount,t.skip=t.skip+e.LogList.length,t.isFinal=t.skip==t.totalNotifications,parent.$("#notification-content-area").ejWaitingPopup("hide"),setTimeout(function(){for(var e=document.getElementsByTagName("img"),t=i;t<e.length;t++)e[t].getAttribute("data-actual-image")&&e[t].setAttribute("src",e[t].getAttribute("data-actual-image"))},700)})}(e.Data))}}),$("#notification-indicator").remove()}}),$("#bold-etl").click(function(e){canCheckSession&&(isEtlstatusChecked?(document.getElementById("bold-etl-href").click(),isEtlstatusChecked=!1):(e.preventDefault(),$.ajax({type:"Post",url:etlHealthyStatusUrl,success:function(e){e.isEtlServiceHealthy?(isEtlstatusChecked=!0,$("#bold-etl").click()):WarningAlert("",window.Server.App.LocalizationContent.ETLLogoDisabled.format("<a target='_blank' href='"+etlHelpLink+"'>","</a>"),7e3)}})))}),$(function(){$(document).click(function(e){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")})}),$(document).on("touchend",function(e){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")});var t=$('<div id="nav-backdrop" class="modal-backdrop" style="z-index: 50; top: 0; left: 0; right: 0; bottom: 0; width: 100%; height: 100%; color: #fff; opacity: 0; position: absolute"></div>');$("#upload-item-section, #notification-link, #account-profile").on("hidden.bs.dropdown",function(){parent.$("#nav-backdrop").hide()}),$("#notification-link, #account-profile, #upload-item-section").click(function(e){0===$(".dropdown-backdrop").length&&$("body").append(t),$("#notification-link").hasClass("open")?($("#account-profile").hasClass("open"),t.show()):t.show()}),$(document).on("click","#account-profile .profile-info",function(e){e.stopPropagation()}),t.click(function(){t.hide()}),$(document).on("click",".dropdown-backdrop",function(){parent.$("#nav-backdrop").hide()}),"ad-user-import"==(searchId=$("#search-area").children("input").attr("id"))||"AD-group-import"==searchId||"search-ad-users"==searchId||"search-ad-groups"==searchId?($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.xhrPool.length=0},$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie()),$.xhrPool.push(e)},complete:function(e){var t=$.xhrPool.indexOf(e);t>-1&&$.xhrPool.splice(t,1)}})):($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.xhrPool.length=0},"undefined"!=typeof ej&&void 0!==ej.UrlAdaptor?(ej.UrlAdaptor.prototype.beforeSend=function(e,t){t.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie()),$.xhrPool.push(t)},$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())},complete:function(e){var t=$.xhrPool.indexOf(e);t>-1&&$.xhrPool.splice(t,1)}})):$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}})),$(".lazyload").each(function(){if("footerlogo"==$(this).attr("data-id"))$(this).parent().find("p#poweredbysyncfusion").append($("<img>").attr({src:$(this).attr("data-src"),alt:$(this).attr("data-alt"),id:$(this).attr("data-id"),onerror:$(this).attr("data-default")}));else if("profilelogo"===$(this).attr("data-id")||"user-profile-picture"===$(this).attr("data-id"))$(this).parent().append($("<img>").attr({src:$(this).attr("data-src-value"),alt:$(this).attr("data-alt"),id:$(this).attr("data-id"),onerror:$(this).attr("data-default")}));else if($(this).parent().append($("<img>").attr({src:$(this).attr("data-src"),alt:$(this).attr("data-alt"),id:$(this).attr("data-id"),onerror:$(this).attr("data-default")})),"application-logo"===$(this).attr("data-id")){var e=$(this).attr("data-src");if(void 0!==e&&""!==e&&e.length>3)"svg"===e.substr(e.length-3,e.length).toLowerCase()&&$("#application-logo").addClass("application-logo-svg")}$(this).remove()}),window.isSiteLoaded=!1,$("#top-menu-dropdown-profile").off("show.bs.dropdown").on("show.bs.dropdown",function(){"true"==isUmsAdmin.toLowerCase()&&$("#top-menu-dropdown-profile .dropdown-menu.sub-menu .admin-privilege").show(),window.isSiteLoaded||$.ajax({type:"POST",url:window.userTenantsUrl,success:function(e){$("#user-sites .loader-sites-gif").remove();for(var t=e.Sites,i=t.length>2?2:t.length,n=0;n<i;n++){var o=t[n].DNS;null!=t[n].TenantIdentifier&&(o+="/"+window.tenantIdentifierPrefix+"/"+t[n].TenantIdentifier),$("#user-sites").append($("<a href='"+o+"' target='_blank'> <div class='site-logo-container'> <img src='"+o+"/get-client-logo?logotype=headerlogo' alt='boldreports-header' class='site-logo'/><span class='site-name'>"+t[n].TenantName+"</span></div></a>"))}t.length>=3?$("#more-sites-id").append("<div class='float-start more-sites'><a href='"+window.idpUrl+"' target='_blank'>more sites...</a></div>"):$("#more-sites-id").remove(),window.isSiteLoaded=!0}})}),$(".hide-display").each(function(){$(this).removeClass("hide-display")}),"undefined"!=typeof showFeedbackDialog&&"true"==showFeedbackDialog.toLowerCase()&&($("#do-not-show-button").removeClass("display-none"),$("#show-later-button").removeClass("display-none"),$("#cancel-button").addClass("display-none"),$("#close-general-feedback").attr("data-feedback-close",!1),openFeedbackWindow());var i=createLoader("#body");if($("#body").ejWaitingPopup({template:$("#"+i)}),"undefined"!=typeof canCheckSession&&(isSession=Boolean(canCheckSession)),isSession){function n(){$.ajax({type:"GET",url:isSessionActiveUrl,success:function(e){e.isactive?setTimeout(function(){n()},18e4):(function(){if($(".e-btn-icon.e-icon-dlg-close.e-icons").is(":visible")){var e=$(".e-btn-icon.e-icon-dlg-close.e-icons:visible");$.each(e,function(e,t){var i=$(t).parents(".e-dialog").attr("id");null==i&&null==i||document.getElementById(i).ej2_instances[0].hide()})}if($(".popup-close").is(":visible")){var t=$(".popup-close:visible");$.each(t,function(e,t){var i=$(t).parents(".e-dialog").attr("id");null==i&&null==i||(eDialog=$("#"+i).data("ejDialog"),eDialog.close())})}}(),function(){if("undefined"!=typeof isViewerV2Enabled&&!isViewerV2Enabled||"undefined"!=typeof isDesignerV2Enabled&&!isDesignerV2Enabled){var e=$("#messageBox").data("ejDialog");null==e&&($("#messageBox").ejDialog({width:parent.window.innerWidth>460?"450px":parent.window.innerWidth-10,height:"150px",showOnInit:!1,allowDraggable:!0,enableResize:!1,showHeader:!1,enableModal:!0,close:"onMessageDialogClose"}),e=$("#messageBox").data("ejDialog")),messageBox("",window.Server.App.LocalizationContent.SessionHeader,window.Server.App.LocalizationContent.SessionContent,"success",o)}else{var t="",i='<span class ="dialog-header-title">'+window.Server.App.LocalizationContent.SessionHeader+"</span>";if(!sessionData){var n=document.createElement("div");n.setAttribute("id","session-time-dialog");var s=document.getElementById("content-area");if(null==s){var a=document.createElement("div");a.setAttribute("id","content-area"),document.body.appendChild(a),s=document.getElementById("content-area")}t=ejs.popups,s.appendChild(n);var l=window.Server.App.LocalizationContent.SessionContent;new t.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>500?"470px":window.innerWidth-10,height:"auto",showHeader:!1,isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,close:"closeDialog",showCloseIcon:!0,content:l,buttons:[{click:function(e){o()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.LocalizationContent.OKButton}}],close:r}).appendTo(n),sessionData=!0}}}())}})}setTimeout(function(){n()},18e4)}function o(){location.reload()}function r(){location.reload()}String.prototype.format=function(){for(k in a=this,arguments)a=a.replace("{"+k+"}",arguments[k]);return a}}),$(document).on("keyup","textarea",function(e){if(8!=e.keyCode&&46!=e.keyCode){var t=$(this).attr("maxlength");null!=t&&$(this).val().length>=t&&$(this).val($(this).val().substring(0,t))}}),$("textarea").keyup(function(e){if(8!=e.keyCode&&46!=e.keyCode){var t=255;null!=$(this).attr("maxlength")&&(t=$(this).attr("maxlength")),$(this).val().length>=t&&$(this).val($(this).val().substring(0,t))}}),$(document).on("focus","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&$(this).next(".placeholder").removeClass("show").addClass("hide")}),$(document).on("focusout","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&""===$(this).val()&&$(this).next(".placeholder").removeClass("hide").addClass("show")}),$(document).on("focus",".placeholder",function(){$(this).prev("input").focus()}),$(document).on("keyup","#SearchCategory, #search-groups, #search-group-users, #search-published-items, #ad-user-import, #userSearchKey,#groupSearchKey, #ad-group-import, #searchItems, #search-slideshows, #search-schedules, #search-users, #search-ad-users, #search-ad-groups, #search-user-permission, #search-group-permission, #search-database-users,#search-tree, #search-home-page, #search-items, .search-user-holder, .tree-view-search-holder, #search-linked-accounts, #template-datasource-search-items,#search-datasource-grid",function(e){var t="#"+this.id;""!=$(t).val()?"#search-home-page"==t?$(t).parent().siblings("span.close-icon").css("display","block"):($(t).siblings("span.close-icon").css("display","block"),$(t).siblings("span.search-user").css("display","none"),$(t).siblings("span.search-accounts").css("display","none"),$(t).siblings("span.search-group").css("display","none"),$(t).siblings("span.search-group-users").css("display","none"),$(t).siblings("span.search-icon").css("display","none"),$(t).siblings("span.search-item").css("display","none"),$(t).siblings("span.search-schedule").css("display","none"),$(t).siblings("span.search-slideshows").css("display","none"),$(t).siblings("span.search").css("display","none")):"#search-home-page"==t?$(t).parent().siblings("span.su-search").css("display","block"):($(t).siblings("span.close-icon").css("display","none"),$(t).siblings("span.su-search").css("display","block"))}),$(document).on("click","#clear-search,.clear-search",function(){var e=$(this).prevAll("input");(""==e||null==e||null==e||e.length<=0)&&(e=$(this).prev("div").find("input"));var t="#"+e.attr("id");if(e.val(""),clearSearch||$("#clear-search").css("display","none"),""==e.val()){if("#search-home-page"!=t||clearSearch?$("#clear-search").siblings("span.su-search").css("display","block"):($("#clear-search").parent().siblings("span.su-search").css("display","block"),$(".search-area").removeClass("add-background"),$(".placeholder, #clear-search").hide(),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?setTimeout(function(){$(".search-area").prevAll().show().parent().removeClass("float-end"),$("#category-section-name").show()},300):setTimeout(function(){$(".search-area").prevAll(":not(#back-icon)").show().parent().removeClass("float-end"),$("#category-section-name").show()},300),setTimeout(function(){$(".search-home-section:visible").removeClass("show")},300)),"#ad-user-import"==t||"#ad-group-import"==t||"#search-database-users"==t)if("#search-database-users"==t){var i=jQuery.Event("keypress",{keyCode:13});$("#search-database-users").trigger(i)}else{(n=$("#Grid").data("ejGrid")).option("dataSource","")}else PerformSearch(t);if("#search-ad-users"==t||"#search-ad-groups"==t)if("#search-ad-groups"==t){var n=$("#Grid").data("ejGrid");$("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),n.clearSelection()}else{n=$("#user_grid").data("ejGrid");$("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),n.clearSelection()}}else e.val("")}),$(document).on("keydown","#search-groups, #search-group-users, #searchItems, #search-published-items, #search-schedules,#search-slideshows,#userSearchKey,#groupSearchKey, #search-users, #search-user-permission, #search-group-permission, #search-home-page, #search-items, #search-linked-accounts",function(e){$.xhrPool.abortAll();var t=parseInt(e.which),i="#"+this.id;null!=timeOut&&(clearTimeout(timeOut),timeOut=null),t===keyCode.Enter?PerformSearch(i):-1===excludedSearchKeys.indexOf(t)&&(timeOut=setTimeout(function(){PerformSearch(i)},900))}),window.onpopstate=function(e){var t=window.location.search,i=window.location.pathname.split("/");e.preventDefault();var n=void 0!==i[2]?i[2]:null,o=null!=(void 0!==i[3]&&"dashboards"==i[3]?i[3]:null)&&void 0!==i[4]&&isValidGuid(i[4])?i[4]:null,r=null!=o&&void 0!==i[5]?i[5]:null,s=null!=o&&void 0!==i[6]?i[6]:null,a=getQueryVariable("view"),l=getQueryVariable("tab");if(null!=n&&null!=a&&null!=r&&null!=s&&null!=o){var c=$("#current-url").attr("data-url").split("/");if(o!==(null!=(void 0!==c[3]&&"dashboards"==c[3]?c[3]:null)&&void 0!==c[4]&&isValidGuid(c[4])?c[4]:null)){var h=rootUrlAction+"/dashboards";DashboardRender(h,o,r,s,a,l)}else $("#current-url").attr("data-url",rootUrlAction+"/dashboards/"+o+"/"+decodeURI(r)+"/"+decodeURI(s)+"?view="+decodeURI(a))}else if(null!=a&&null==r&&null==s){0==$(".item-navigation li[data-value='"+a+"']").hasClass("active")&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='"+a+"']").addClass("active")),$(".item-navigation li[data-value='"+a+"']").trigger("click"),document.getElementById("dashboard_render_iframe").contentWindow.location.href="about:blank",$("#item-viewer #initial-item-message").css("display","block"),$("#dashboard_render_iframe").css("display","none")}else if(""==t&&null==r&&null==a&&i.length<5){0==$(".item-navigation li[data-value='categories']").hasClass("active")&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='categories']").addClass("active")),$(".item-navigation li[data-value='categories']").trigger("click");var d=decodeURI(i[i.length-1]);$(".category-link[data-category='"+d+"']").trigger("click")}null===e.state||JSON.stringify(e.state)===JSON.stringify({})&&null===l||document.getElementById("dashboard_render_iframe").contentWindow.postMessage("filter","*")},$(window).on("load",function(){"undefined"!=typeof getTenantStatusUrl&&$.ajax({type:"Post",url:getTenantStatusUrl,success:function(e){if(void 0!==e&&e.IsAdmin&&!e.IsTenantStatusActive){$(".warning-content").text("");var t=window.location.pathname.indexOf("administration/payments")>-1,i="";"MarkedForSuspension"!==e.TenantStatus||t?"Suspended"===e.TenantStatus&&(i=window.Server.App.LocalizationContent.SuspendedWarning+" <span class='close-warning-icons su-close'></span>",$(".warning-content").append(i),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space")):(i=window.Server.App.LocalizationContent.SuspensionWarning+e.TenantStatusUpdateDate+". "+window.Server.App.LocalizationContent.Click+" <a href='"+paymentPageUrl+"'>"+window.Server.App.LocalizationContent.Here+"</a>"+window.Server.App.LocalizationContent.NavigatePaymentPage+"<span class='close-warning-icons su-close'></span>",$(".warning-content").append(i),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space"))}}}),"undefined"!=typeof getNotificationCountUrl&&$.ajax({type:"Post",url:getNotificationCountUrl,success:function(e){null!=e&&null!=e&&(e.notificationCount>0?$("#user-system-notification").append($("<span>").attr({id:"notification-indicator"})):$("#user-system-notification").find("#notification-indicator").remove())}})}),$(document).ready(function(e){$("#cookiesubs,#cookiesubs-dashboards").on("click",function(){$(".cookie-notification").remove(),$(".cookie-notification-dashboards").remove(),$.ajax({type:"POST",url:window.setPermissionUrl})})}),$(document).on("show.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").show(),$(".mobile-menu-icon span i").removeClass("su-mobile-menu-icon"),$(".mobile-menu-icon span i").addClass("su-close")}),$(document).on("hide.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").hide(),$(".mobile-menu-icon span i").removeClass("su-close"),$(".mobile-menu-icon span i").addClass("su-mobile-menu-icon")}),$(document).on("hidden.bs.collapse","#menu-area",function(){$("#menu-area").css("width","175px")}),$(document).on("click","#deploy-error-copy",function(e){var t=$("#deploy-error-copy"),i=$("#deploy-error-box");i.prop("disabled",!1),i.select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?(t.removeClass("su su-copy"),t.attr("data-original-title","")):(document.execCommand("copy"),t.attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess),t.tooltip("hide").attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess).tooltip("fixTitle").tooltip("show"),i.prop("disabled",!0),setTimeout(function(){t.attr("data-original-title",window.Server.App.LocalizationContent.LinkCopy),t.tooltip()},3e3))}),$(document).on("focusin","#deploy-error-box",function(){$("#deploy-error-copy").addClass("focusdiv")}),$(document).on("focusout","#deploy-error-box",function(){$("#deploy-error-copy").removeClass("focusdiv")}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EasyMDE=e()}(function(){return function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){return o(t[s][1][e]||e)},h,h.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){"use strict";i.byteLength=function(e){var t=l(e),i=t[0],n=t[1];return 3*(i+n)/4-n},i.toByteArray=function(e){for(var t,i=l(e),n=i[0],s=i[1],a=new r(3*(n+(u=s))/4-u),c=0,h=0<s?n-4:n,d=0;d<h;d+=4)t=o[e.charCodeAt(d)]<<18|o[e.charCodeAt(d+1)]<<12|o[e.charCodeAt(d+2)]<<6|o[e.charCodeAt(d+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;var u;return 2===s&&(t=o[e.charCodeAt(d)]<<2|o[e.charCodeAt(d+1)]>>4,a[c++]=255&t),1===s&&(t=o[e.charCodeAt(d)]<<10|o[e.charCodeAt(d+1)]<<4|o[e.charCodeAt(d+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t),a},i.fromByteArray=function(e){for(var t,i=e.length,o=i%3,r=[],s=0,a=i-o;s<a;s+=16383)r.push(c(e,s,a<s+16383?a:s+16383));return 1===o?(t=e[i-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[i-2]<<8)+e[i-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),r.join("")};for(var n=[],o=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=s[a],o[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e,t,i){for(var o,r,s=[],a=t;a<i;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(r=o)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(e,t,i){},{}],3:[function(e,t,i){"use strict";var n=e("base64-js"),o=e("ieee754");i.Buffer=a,i.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},i.INSPECT_MAX_BYTES=50;var r=2147483647;function s(e){if(r<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,i){if("number"!=typeof e)return l(e,t,i);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}function l(e,t,i){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|p(e,t),n=s(i),o=n.write(e,t);return o!==i&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer))return function(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i)).__proto__=a.prototype,n}(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,i);var o=function(e){if(a.isBuffer(e)){var t=0|u(e.length),i=s(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||N(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return c(e),s(e<0?0:0|u(e))}function d(e){for(var t=e.length<0?0:0|u(e.length),i=s(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function u(e){if(r<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===i)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return I(e).length;default:if(o)return n?-1:E(e).length;t=(""+t).toLowerCase(),o=!0}}function f(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function m(e,t,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),N(i=+i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:g(e,t,i,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):g(e,[t],i,n,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,i,n,o){var r,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a/=s=2,l/=2,i/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var h=-1;for(r=i;r<a;r++)if(c(e,r)===c(t,-1===h?0:r-h)){if(-1===h&&(h=r),r-h+1===l)return h*s}else-1!==h&&(r-=r-h),h=-1}else for(a<i+l&&(i=a-l),r=i;0<=r;r--){for(var d=!0,u=0;u<l;u++)if(c(e,r+u)!==c(t,u)){d=!1;break}if(d)return r}return-1}function v(e,t,i,n){i=Number(i)||0;var o=e.length-i;n?o<(n=Number(n))&&(n=o):n=o;var r=t.length;r/2<n&&(n=r/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(N(a))return s;e[i+s]=a}return s}function b(e,t,i,n){return M(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function y(e,t,i){i=Math.min(e.length,i);for(var n=[],o=t;o<i;){var r,s,a,l,c=e[o],h=null,d=239<c?4:223<c?3:191<c?2:1;if(o+d<=i)switch(d){case 1:c<128&&(h=c);break;case 2:128==(192&(r=e[o+1]))&&127<(l=(31&c)<<6|63&r)&&(h=l);break;case 3:r=e[o+1],s=e[o+2],128==(192&r)&&128==(192&s)&&2047<(l=(15&c)<<12|(63&r)<<6|63&s)&&(l<55296||57343<l)&&(h=l);break;case 4:r=e[o+1],s=e[o+2],a=e[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&65535<(l=(15&c)<<18|(63&r)<<12|(63&s)<<6|63&a)&&l<1114112&&(h=l)}null===h?(h=65533,d=1):65535<h&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),o+=d}return function(e){var t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=_));return i}(n)}i.kMaxLength=r,(a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,i){return l(e,t,i)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,i){return o=t,r=i,c(n=e),n<=0?s(n):void 0!==o?"string"==typeof r?s(n).fill(o,r):s(n).fill(o):s(n);var n,o,r},a.allocUnsafe=function(e){return h(e)},a.allocUnsafeSlow=function(e){return h(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(j(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,o=0,r=Math.min(i,n);o<r;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var i;if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;var n=a.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){var r=e[i];if(j(r,Uint8Array)&&(r=a.from(r)),!a.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(n,o),o+=r.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?y(this,0,e):function(e,t,i){var o,r,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,i);case"utf8":case"utf-8":return y(this,t,i);case"ascii":return w(this,t,i);case"latin1":case"binary":return x(this,t,i);case"base64":return o=this,s=i,0===(r=t)&&s===o.length?n.fromByteArray(o):n.fromByteArray(o.slice(r,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,i);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,i,n,o){if(j(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&i<=t)return 0;if(o<=n)return-1;if(i<=t)return 1;if(this===e)return 0;for(var r=(o>>>=0)-(n>>>=0),s=(i>>>=0)-(t>>>=0),l=Math.min(r,s),c=this.slice(n,o),h=e.slice(t,i),d=0;d<l;++d)if(c[d]!==h[d]){r=c[d],s=h[d];break}return r<s?-1:s<r?1:0},a.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},a.prototype.indexOf=function(e,t,i){return m(this,e,t,i,!0)},a.prototype.lastIndexOf=function(e,t,i){return m(this,e,t,i,!1)},a.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-t;if((void 0===i||o<i)&&(i=o),0<e.length&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r,s,a,l,c,h,d=!1;;)switch(n){case"hex":return v(this,e,t,i);case"utf8":case"utf-8":return c=t,h=i,M(E(e,this.length-c),this,c,h);case"ascii":case"latin1":case"binary":return b(this,e,t,i);case"base64":return a=t,l=i,M(I(e),this,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r=t,s=i,M(function(e,t){for(var i,n,o,r=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,o=i%256,r.push(o),r.push(n);return r}(e,this.length-r),this,r,s);default:if(d)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function w(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(127&e[o]);return n}function x(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(e[o]);return n}function C(e,t,i){var n,o=e.length;(!t||t<0)&&(t=0),(!i||i<0||o<i)&&(i=o);for(var r="",s=t;s<i;++s)r+=(n=e[s])<16?"0"+n.toString(16):n.toString(16);return r}function S(e,t,i){for(var n=e.slice(t,i),o="",r=0;r<n.length;r+=2)o+=String.fromCharCode(n[r]+256*n[r+1]);return o}function T(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(i<e+t)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,i,n,o,r){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<r)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function D(e,t,i,n,o,r){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(e,t,i,n,r){return t=+t,i>>>=0,r||D(e,0,i,4),o.write(e,t,i,n,23,4),i+4}function A(e,t,i,n,r){return t=+t,i>>>=0,r||D(e,0,i,8),o.write(e,t,i,n,52,8),i+8}a.prototype.slice=function(e,t){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=a.prototype,n},a.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=this[e],o=1,r=0;++r<t&&(o*=256);)n+=this[e+r]*o;return n},a.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=this[e+--t],o=1;0<t&&(o*=256);)n+=this[e+--t]*o;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=this[e],o=1,r=0;++r<t&&(o*=256);)n+=this[e+r]*o;return(o*=128)<=n&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=t,o=1,r=this[e+--n];0<n&&(o*=256);)r+=this[e+--n]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},a.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||k(this,e,t,i,Math.pow(2,8*i)-1,0);var o=1,r=0;for(this[t]=255&e;++r<i&&(o*=256);)this[t+r]=e/o&255;return t+i},a.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||k(this,e,t,i,Math.pow(2,8*i)-1,0);var o=i-1,r=1;for(this[t+o]=255&e;0<=--o&&(r*=256);)this[t+o]=e/r&255;return t+i},a.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*i-1);k(this,e,t,i,o-1,-o)}var r=0,s=1,a=0;for(this[t]=255&e;++r<i&&(s*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/s|0)-a&255;return t+i},a.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*i-1);k(this,e,t,i,o-1,-o)}var r=i-1,s=1,a=0;for(this[t+r]=255&e;0<=--r&&(s*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/s|0)-a&255;return t+i},a.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,i){return L(this,e,t,!0,i)},a.prototype.writeFloatBE=function(e,t,i){return L(this,e,t,!1,i)},a.prototype.writeDoubleLE=function(e,t,i){return A(this,e,t,!0,i)},a.prototype.writeDoubleBE=function(e,t,i){return A(this,e,t,!1,i)},a.prototype.copy=function(e,t,i,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var o=n-i;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,i,n);else if(this===e&&i<t&&t<n)for(var r=o-1;0<=r;--r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,n),t);return o},a.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var r;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(r=t;r<i;++r)this[r]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<i-t;++r)this[r+t]=s[r%l]}return this};var O=/[^+/0-9A-Za-z-_]/g;function E(e,t){var i;t=t||1/0;for(var n=e.length,o=null,r=[],s=0;s<n;++s){if(55295<(i=e.charCodeAt(s))&&i<57344){if(!o){if(56319<i){-1<(t-=3)&&r.push(239,191,189);continue}if(s+1===n){-1<(t-=3)&&r.push(239,191,189);continue}o=i;continue}if(i<56320){-1<(t-=3)&&r.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&-1<(t-=3)&&r.push(239,191,189);if(o=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function I(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,i,n){for(var o=0;o<n&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function N(e){return e!=e}},{"base64-js":1,ieee754:16}],4:[function(e,t,i){"use strict";var n=e("typo-js");function o(e){"function"==typeof(e=e||{}).codeMirrorInstance&&"function"==typeof e.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),e.codeMirrorInstance.defineMode("spell-checker",function(t){if(!o.aff_loading){o.aff_loading=!0;var i=new XMLHttpRequest;i.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),i.onload=function(){4===i.readyState&&200===i.status&&(o.aff_data=i.responseText,2==++o.num_loaded&&(o.typo=new n("en_US",o.aff_data,o.dic_data,{platform:"any"})))},i.send(null)}if(!o.dic_loading){o.dic_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),r.onload=function(){4===r.readyState&&200===r.status&&(o.dic_data=r.responseText,2==++o.num_loaded&&(o.typo=new n("en_US",o.aff_data,o.dic_data,{platform:"any"})))},r.send(null)}var s='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(e){var t=e.peek(),i="";if(s.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!s.includes(t);)i+=t,e.next();return o.typo&&!o.typo.check(i)?"spell-error":null}},l=e.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(l,a,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}o.num_loaded=0,o.aff_loading=!1,o.dic_loading=!1,o.aff_data="",o.dic_data="",t.exports=o},{"typo-js":18}],5:[function(e,t,i){!function(e){"use strict";e.defineOption("fullScreen",!1,function(t,i,n){var o,r;n==e.Init&&(n=!1),!n!=!i&&(i?(r=(o=t).getWrapperElement(),o.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:r.style.width,height:r.style.height},r.style.width="",r.style.height="auto",r.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",o.refresh()):function(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var i=e.state.fullScreenRestore;t.style.width=i.width,t.style.height=i.height,window.scrollTo(i.scrollLeft,i.scrollTop),e.refresh()}(t))})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],6:[function(e,t,i){!function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function i(e){t(e);var i=e.state.placeholder=document.createElement("pre");i.style.cssText="height: 0; overflow: visible",i.style.direction=e.getOption("direction"),i.className="CodeMirror-placeholder";var n=e.getOption("placeholder");"string"==typeof n&&(n=document.createTextNode(n)),i.appendChild(n),e.display.lineSpace.insertBefore(i,e.display.lineSpace.firstChild)}function n(e){r(e)&&i(e)}function o(e){var n=e.getWrapperElement(),o=r(e);n.className=n.className.replace(" CodeMirror-empty","")+(o?" CodeMirror-empty":""),o?i(e):t(e)}function r(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(i,r,s){var a=s&&s!=e.Init;if(r&&!a)i.on("blur",n),i.on("change",o),i.on("swapDoc",o),o(i);else if(!r&&a){i.off("blur",n),i.off("change",o),i.off("swapDoc",o),t(i);var l=i.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}r&&!i.hasFocus()&&n(i)})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],7:[function(e,t,i){!function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,n=/[*+-]\s/;function o(e,i){var n=i.line,o=0,r=0,s=t.exec(e.getLine(n)),a=s[1];do{var l=n+(o+=1),c=e.getLine(l),h=t.exec(c);if(h){var d=h[1],u=parseInt(s[3],10)+o-r,p=parseInt(h[3],10),f=p;if(a!==d||isNaN(p)){if(a.length>d.length)return;if(a.length<d.length&&1===o)return;r+=1}else u===p&&(f=p+1),p<u&&(f=u+1),e.replaceRange(c.replace(t,d+f+h[4]+h[5]),{line:l,ch:0},{line:l,ch:c.length})}}while(h)}e.commands.newlineAndIndentContinueMarkdownList=function(r){if(r.getOption("disableInput"))return e.Pass;for(var s=r.listSelections(),a=[],l=0;l<s.length;l++){var c=s[l].head,h=r.getStateAfter(c.line),d=!1!==h.list,u=0!==h.quote,p=r.getLine(c.line),f=t.exec(p),m=/^\s*$/.test(p.slice(0,c.ch));if(!s[l].empty()||!d&&!u||!f||m)return void r.execCommand("newlineAndIndent");if(i.test(p))/>\s*$/.test(p)||r.replaceRange("",{line:c.line,ch:0},{line:c.line,ch:c.ch+1}),a[l]="\n";else{var g=f[1],v=f[5],b=!(n.test(f[2])||0<=f[2].indexOf(">")),y=b?parseInt(f[3],10)+1+f[4]:f[2].replace("x"," ");a[l]="\n"+g+y+v,b&&o(r,c)}}r.replaceSelections(a)}}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],8:[function(e,t,i){!function(e){"use strict";e.overlayMode=function(t,i,n){return{startState:function(){return{base:e.startState(t),overlay:e.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:e.copyState(t,n.base),overlay:e.copyState(i,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(e,o){return(e!=o.streamSeen||Math.min(o.basePos,o.overlayPos)<e.start)&&(o.streamSeen=e,o.basePos=o.overlayPos=e.start),e.start==o.basePos&&(o.baseCur=t.token(e,o.base),o.basePos=e.pos),e.start==o.overlayPos&&(e.pos=e.start,o.overlayCur=i.token(e,o.overlay),o.overlayPos=e.pos),e.pos=Math.min(o.basePos,o.overlayPos),null==o.overlayCur?o.baseCur:null!=o.baseCur&&o.overlay.combineTokens||n&&null==o.overlay.combineTokens?o.baseCur+" "+o.overlayCur:o.overlayCur},indent:t.indent&&function(e,i){return t.indent(e.base,i)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var o,r;return t.blankLine&&(o=t.blankLine(e.base)),i.blankLine&&(r=i.blankLine(e.overlay)),null==r?o:n&&null!=o?o+" "+r:r}}}}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],9:[function(e,t,i){!function(e){"use strict";var t,i,n=e.Pos;function o(e,t){for(var i,n,o=null!=(n=(i=e).flags)?n:(i.ignoreCase?"i":"")+(i.global?"g":"")+(i.multiline?"m":""),r=o,s=0;s<t.length;s++)-1==r.indexOf(t.charAt(s))&&(r+=t.charAt(s));return o==r?e:new RegExp(e.source,r)}function r(e,t,i){t=o(t,"g");for(var r=i.line,s=i.ch,a=e.lastLine();r<=a;r++,s=0){t.lastIndex=s;var l=e.getLine(r),c=t.exec(l);if(c)return{from:n(r,c.index),to:n(r,c.index+c[0].length),match:c}}}function s(e,t){for(var i,n=0;;){t.lastIndex=n;var o=t.exec(e);if(!o)return i;if((n=(i=o).index+(i[0].length||1))==e.length)return i}}function a(e,t,i,n){if(e.length==t.length)return i;for(var o=0,r=i+Math.max(0,e.length-t.length);;){if(o==r)return o;var s=o+r>>1,a=n(e.slice(0,s)).length;if(a==i)return s;i<a?r=s:o=s+1}}function l(e,l,c,h){var d;this.atOccurrence=!1,this.doc=e,c=c?e.clipPos(c):n(0,0),this.pos={from:c,to:c},"object"==typeof h?d=h.caseFold:(d=h,h=null),"string"==typeof l?(null==d&&(d=!1),this.matches=function(o,r){return(o?function(e,o,r,s){if(!o.length)return null;var l=s?t:i,c=l(o).split(/\r|\n\r?/);e:for(var h=r.line,d=r.ch,u=e.firstLine()-1+c.length;u<=h;h--,d=-1){var p=e.getLine(h);-1<d&&(p=p.slice(0,d));var f=l(p);if(1==c.length){var m=f.lastIndexOf(c[0]);if(-1==m)continue e;return{from:n(h,a(p,f,m,l)),to:n(h,a(p,f,m+c[0].length,l))}}var g=c[c.length-1];if(f.slice(0,g.length)==g){var v=1;for(r=h-c.length+1;v<c.length-1;v++)if(l(e.getLine(r+v))!=c[v])continue e;var b=e.getLine(h+1-c.length),y=l(b);if(y.slice(y.length-c[0].length)==c[0])return{from:n(h+1-c.length,a(b,y,b.length-c[0].length,l)),to:n(h,a(p,f,g.length,l))}}}}:function(e,o,r,s){if(!o.length)return null;var l=s?t:i,c=l(o).split(/\r|\n\r?/);e:for(var h=r.line,d=r.ch,u=e.lastLine()+1-c.length;h<=u;h++,d=0){var p=e.getLine(h).slice(d),f=l(p);if(1==c.length){var m=f.indexOf(c[0]);if(-1==m)continue e;return r=a(p,f,m,l)+d,{from:n(h,a(p,f,m,l)+d),to:n(h,a(p,f,m+c[0].length,l)+d)}}var g=f.length-c[0].length;if(f.slice(g)==c[0]){for(var v=1;v<c.length-1;v++)if(l(e.getLine(h+v))!=c[v])continue e;var b=e.getLine(h+c.length-1),y=l(b),_=c[c.length-1];if(y.slice(0,_.length)==_)return{from:n(h,a(p,f,g,l)+d),to:n(h+c.length-1,a(b,y,_.length,l))}}}})(e,l,r,d)}):(l=o(l,"gm"),h&&!1===h.multiline?this.matches=function(t,i){return(t?function(e,t,i){t=o(t,"g");for(var r=i.line,a=i.ch,l=e.firstLine();l<=r;r--,a=-1){var c=e.getLine(r);-1<a&&(c=c.slice(0,a));var h=s(c,t);if(h)return{from:n(r,h.index),to:n(r,h.index+h[0].length),match:h}}}:r)(e,l,i)}:this.matches=function(t,i){return(t?function(e,t,i){t=o(t,"gm");for(var r,a=1,l=i.line,c=e.firstLine();c<=l;){for(var h=0;h<a;h++){var d=e.getLine(l--);r=null==r?d.slice(0,i.ch):d+"\n"+r}a*=2;var u=s(r,t);if(u){var p=r.slice(0,u.index).split("\n"),f=u[0].split("\n"),m=l+p.length,g=p[p.length-1].length;return{from:n(m,g),to:n(m+f.length-1,1==f.length?g+f[0].length:f[f.length-1].length),match:u}}}}:function(e,t,i){if(!/\\s|\\n|\n|\\W|\\D|\[\^/.test(t.source))return r(e,t,i);t=o(t,"gm");for(var s,a=1,l=i.line,c=e.lastLine();l<=c;){for(var h=0;h<a&&!(c<l);h++){var d=e.getLine(l++);s=null==s?d:s+"\n"+d}a*=2,t.lastIndex=i.ch;var u=t.exec(s);if(u){var p=s.slice(0,u.index).split("\n"),f=u[0].split("\n"),m=i.line+p.length-1,g=p[p.length-1].length;return{from:n(m,g),to:n(m+f.length-1,1==f.length?g+f[0].length:f[f.length-1].length),match:u}}}})(e,l,i)})}i=String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},function(e){return e}),l.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var i=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));i&&0==e.cmpPos(i.from,i.to);)t?i.from.ch?i.from=n(i.from.line,i.from.ch-1):i=i.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(n(i.from.line-1))):i.to.ch<this.doc.getLine(i.to.line).length?i.to=n(i.to.line,i.to.ch+1):i=i.to.line==this.doc.lastLine()?null:this.matches(t,n(i.to.line+1,0));if(i)return this.pos=i,this.atOccurrence=!0,this.pos.match||!0;var o=n(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:o,to:o},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,i){if(this.atOccurrence){var o=e.splitLines(t);this.doc.replaceRange(o,this.pos.from,this.pos.to,i),this.pos.to=n(this.pos.from.line+o.length-1,o[o.length-1].length+(1==o.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,i){return new l(this.doc,e,t,i)}),e.defineDocExtension("getSearchCursor",function(e,t,i){return new l(this,e,t,i)}),e.defineExtension("selectMatches",function(t,i){for(var n=[],o=this.getSearchCursor(t,this.getCursor("from"),i);o.findNext()&&!(0<e.cmpPos(o.to(),this.getCursor("to")));)n.push({anchor:o.from(),head:o.to()});n.length&&this.setSelections(n,0)})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],10:[function(e,t,i){!function(e){"use strict";function t(e){e.state.markedSelection&&e.operation(function(){!function(e){if(!e.somethingSelected())return a(e);if(1<e.listSelections().length)return l(e);var t=e.getCursor("start"),i=e.getCursor("end"),o=e.state.markedSelection;if(!o.length)return s(e,t,i);var c=o[0].find(),h=o[o.length-1].find();if(!c||!h||i.line-t.line<=n||0<=r(t,h.to)||r(i,c.from)<=0)return l(e);for(;0<r(t,c.from);)o.shift().clear(),c=o[0].find();for(r(t,c.from)<0&&(c.to.line-t.line<n?(o.shift().clear(),s(e,t,c.to,0)):s(e,t,c.from,0));r(i,h.to)<0;)o.pop().clear(),h=o[o.length-1].find();0<r(i,h.to)&&(i.line-h.from.line<n?(o.pop().clear(),s(e,h.from,i)):s(e,h.to,i))}(e)})}function i(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation(function(){a(e)})}e.defineOption("styleSelectedText",!1,function(n,o,r){var s=r&&r!=e.Init;o&&!s?(n.state.markedSelection=[],n.state.markedSelectionStyle="string"==typeof o?o:"CodeMirror-selectedtext",l(n),n.on("cursorActivity",t),n.on("change",i)):!o&&s&&(n.off("cursorActivity",t),n.off("change",i),a(n),n.state.markedSelection=n.state.markedSelectionStyle=null)});var n=8,o=e.Pos,r=e.cmpPos;function s(e,t,i,s){if(0!=r(t,i))for(var a=e.state.markedSelection,l=e.state.markedSelectionStyle,c=t.line;;){var h=c==t.line?t:o(c,0),d=c+n,u=d>=i.line,p=u?i:o(d,0),f=e.markText(h,p,{className:l});if(null==s?a.push(f):a.splice(s++,0,f),u)break;c=d}}function a(e){for(var t=e.state.markedSelection,i=0;i<t.length;++i)t[i].clear();t.length=0}function l(e){a(e);for(var t=e.listSelections(),i=0;i<t.length;i++)s(e,t[i].from(),t[i].to())}}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],11:[function(e,t,i){var n;n=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,i=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),r=/Edge\/(\d+)/.exec(e),s=n||o||r,a=s&&(n?document.documentMode||6:+(r||o)[1]),l=!r&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),h=!r&&/Chrome\//.test(e),d=/Opera\//.test(e),u=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),m=!r&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=m||/Mac/.test(t),y=/\bCrOS\b/.test(e),_=/win/i.test(t),w=d&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&15<=w&&(l=!(d=!1));var x=b&&(c||d&&(null==w||w<12.11)),C=i||s&&9<=a;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var T,k=function(e,t){var i=e.className,n=S(t).exec(i);if(n){var o=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(o?n[1]+o:"")}};function D(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function L(e,t){return D(e).appendChild(t)}function A(e,t,i,n){var o=document.createElement(e);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var r=0;r<t.length;++r)o.appendChild(t[r]);return o}function O(e,t,i,n){var o=A(e,t,i,n);return o.setAttribute("role","presentation"),o}function E(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function I(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function M(e,t){var i=e.className;S(t).test(i)||(e.className+=(i?" ":"")+t)}function j(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!S(i[n]).test(t)&&(t+=" "+i[n]);return t}T=document.createRange?function(e,t,i,n){var o=document.createRange();return o.setEnd(n||e,i),o.setStart(e,t),o}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var N=function(e){e.select()};function P(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function $(e,t,i){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function z(e,t,i,n,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var r=n||0,s=o||0;;){var a=e.indexOf("\t",r);if(a<0||t<=a)return s+(t-r);s+=a-r,s+=i-s%i,r=a+1}}m?N=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(N=function(e){try{e.select()}catch(e){}});var H=function(){this.id=null};function F(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}H.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var R={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},W={origin:"*mouse"},B={origin:"+move"};function q(e,t,i){for(var n=0,o=0;;){var r=e.indexOf("\t",n);-1==r&&(r=e.length);var s=r-n;if(r==e.length||t<=o+s)return n+Math.min(s,t-o);if(o+=r-n,n=r+1,t<=(o+=i-o%i))return n}}var V=[""];function G(e){for(;V.length<=e;)V.push(X(V)+" ");return V[e]}function X(e){return e[e.length-1]}function K(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function Y(){}function Q(e,t){var i;return i=Object.create?Object.create(e):(Y.prototype=e,new Y),t&&$(t,i),i}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Z(e){return/\w/.test(e)||"Â"<e&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function ee(e,t){return t?!!(-1<t.source.indexOf("\\w")&&Z(e))||t.test(e):Z(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ne(e){return 768<=e.charCodeAt(0)&&ie.test(e)}function oe(e,t,i){for(;(i<0?0<t:t<e.length)&&ne(e.charAt(t));)t+=i;return t}function re(e,t,i){for(var n=i<t?-1:1;;){if(t==i)return t;var o=(t+i)/2,r=n<0?Math.ceil(o):Math.floor(o);if(r==t)return e(r)?t:i;e(r)?i=r:t=r+n}}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var o=i.children[n],r=o.chunkSize();if(t<r){i=o;break}t-=r}return i.lines[t]}function ae(e,t,i){var n=[],o=t.line;return e.iter(t.line,i.line+1,function(e){var r=e.text;o==i.line&&(r=r.slice(0,i.ch)),o==t.line&&(r=r.slice(t.ch)),n.push(r),++o}),n}function le(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function ce(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function he(e){if(null==e.parent)return null;for(var t=e.parent,i=F(t.lines,e),n=t.parent;n;n=(t=n).parent)for(var o=0;n.children[o]!=t;++o)i+=n.children[o].chunkSize();return i+t.first}function de(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var o=e.children[n],r=o.height;if(t<r){e=o;continue e}t-=r,i+=o.chunkSize()}return i}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return i+s}function ue(e,t){return t>=e.first&&t<e.first+e.size}function pe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function fe(e,t,i){if(void 0===i&&(i=null),!(this instanceof fe))return new fe(e,t,i);this.line=e,this.ch=t,this.sticky=i}function me(e,t){return e.line-t.line||e.ch-t.ch}function ge(e,t){return e.sticky==t.sticky&&0==me(e,t)}function ve(e){return fe(e.line,e.ch)}function be(e,t){return me(e,t)<0?t:e}function ye(e,t){return me(e,t)<0?e:t}function _e(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function we(e,t){if(t.line<e.first)return fe(e.first,0);var i,n,o,r=e.first+e.size-1;return t.line>r?fe(r,se(e,r).text.length):(n=se(e,(i=t).line).text.length,null==(o=i.ch)||n<o?fe(i.line,n):o<0?fe(i.line,0):i)}function xe(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=we(e,t[n]);return i}var Ce=!1,Se=!1;function Te(e,t,i){this.marker=e,this.from=t,this.to=i}function ke(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function De(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function Le(e,t){if(t.full)return null;var i=ue(e,t.from.line)&&se(e,t.from.line).markedSpans,n=ue(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!i&&!n)return null;var o=t.from.ch,r=t.to.ch,s=0==me(t.from,t.to),a=function(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var r=e[o],s=r.marker;if(null==r.from||(s.inclusiveLeft?r.from<=t:r.from<t)||r.from==t&&"bookmark"==s.type&&(!i||!r.marker.insertLeft)){var a=null==r.to||(s.inclusiveRight?r.to>=t:r.to>t);(n||(n=[])).push(new Te(s,r.from,a?null:r.to))}}return n}(i,o,s),l=function(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var r=e[o],s=r.marker;if(null==r.to||(s.inclusiveRight?r.to>=t:r.to>t)||r.from==t&&"bookmark"==s.type&&(!i||r.marker.insertLeft)){var a=null==r.from||(s.inclusiveLeft?r.from<=t:r.from<t);(n||(n=[])).push(new Te(s,a?null:r.from-t,null==r.to?null:r.to-t))}}return n}(n,r,s),c=1==t.text.length,h=X(t.text).length+(c?o:0);if(a)for(var d=0;d<a.length;++d){var u=a[d];if(null==u.to){var p=ke(l,u.marker);p?c&&(u.to=null==p.to?null:p.to+h):u.to=o}}if(l)for(var f=0;f<l.length;++f){var m=l[f];null!=m.to&&(m.to+=h),null==m.from?ke(a,m.marker)||(m.from=h,c&&(a||(a=[])).push(m)):(m.from+=h,c&&(a||(a=[])).push(m))}a&&(a=Ae(a)),l&&l!=a&&(l=Ae(l));var g=[a];if(!c){var v,b=t.text.length-2;if(0<b&&a)for(var y=0;y<a.length;++y)null==a[y].to&&(v||(v=[])).push(new Te(a[y].marker,null,null));for(var _=0;_<b;++_)g.push(v);g.push(l)}return g}function Ae(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Oe(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Ee(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Ie(e){return e.inclusiveLeft?-1:0}function Me(e){return e.inclusiveRight?1:0}function je(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),o=t.find(),r=me(n.from,o.from)||Ie(e)-Ie(t);return r?-r:me(n.to,o.to)||Me(e)-Me(t)||t.id-e.id}function Ne(e,t){var i,n=Se&&e.markedSpans;if(n)for(var o=void 0,r=0;r<n.length;++r)(o=n[r]).marker.collapsed&&null==(t?o.from:o.to)&&(!i||je(i,o.marker)<0)&&(i=o.marker);return i}function Pe(e){return Ne(e,!0)}function $e(e){return Ne(e,!1)}function ze(e,t){var i,n=Se&&e.markedSpans;if(n)for(var o=0;o<n.length;++o){var r=n[o];r.marker.collapsed&&(null==r.from||r.from<t)&&(null==r.to||r.to>t)&&(!i||je(i,r.marker)<0)&&(i=r.marker)}return i}function He(e,t,i,n,o){var r=se(e,t),s=Se&&r.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),h=me(c.from,i)||Ie(l.marker)-Ie(o),d=me(c.to,n)||Me(l.marker)-Me(o);if(!(0<=h&&d<=0||h<=0&&0<=d)&&(h<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?0<=me(c.to,i):0<me(c.to,i))||0<=h&&(l.marker.inclusiveRight&&o.inclusiveLeft?me(c.from,n)<=0:me(c.from,n)<0)))return!0}}}function Fe(e){for(var t;t=Pe(e);)e=t.find(-1,!0).line;return e}function Re(e,t){var i=se(e,t),n=Fe(i);return i==n?t:he(n)}function Ue(e,t){if(t>e.lastLine())return t;var i,n=se(e,t);if(!We(e,n))return t;for(;i=$e(n);)n=i.find(1,!0).line;return he(n)+1}function We(e,t){var i=Se&&t.markedSpans;if(i)for(var n=void 0,o=0;o<i.length;++o)if((n=i[o]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Be(e,t,n))return!0}}function Be(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return Be(e,n.line,ke(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var o=void 0,r=0;r<t.markedSpans.length;++r)if((o=t.markedSpans[r]).marker.collapsed&&!o.marker.widgetNode&&o.from==i.to&&(null==o.to||o.to!=i.from)&&(o.marker.inclusiveLeft||i.marker.inclusiveRight)&&Be(e,t,o))return!0}function qe(e){for(var t=0,i=(e=Fe(e)).parent,n=0;n<i.lines.length;++n){var o=i.lines[n];if(o==e)break;t+=o.height}for(var r=i.parent;r;r=(i=r).parent)for(var s=0;s<r.children.length;++s){var a=r.children[s];if(a==i)break;t+=a.height}return t}function Ve(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=Pe(n);){var o=t.find(0,!0);n=o.from.line,i+=o.from.ch-o.to.ch}for(n=e;t=$e(n);){var r=t.find(0,!0);i-=n.text.length-r.from.ch,i+=(n=r.to.line).text.length-r.to.ch}return i}function Ge(e){var t=e.display,i=e.doc;t.maxLine=se(i,i.first),t.maxLineLength=Ve(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=Ve(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}var Xe=null;function Ke(e,t,i){var n;Xe=null;for(var o=0;o<e.length;++o){var r=e[o];if(r.from<t&&r.to>t)return o;r.to==t&&(r.from!=r.to&&"before"==i?n=o:Xe=o),r.from==t&&(r.from!=r.to&&"before"!=i?n=o:Xe=o)}return null!=n?n:Xe}var Ye=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,i=/[LRr]/,n=/[Lb1n]/,o=/[1n]/;function r(e,t,i){this.level=e,this.from=t,this.to=i}return function(s,a){var l="ltr"==a?"L":"R";if(0==s.length||"ltr"==a&&!e.test(s))return!1;for(var c,h=s.length,d=[],u=0;u<h;++u)d.push((c=s.charCodeAt(u))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var p=0,f=l;p<h;++p){var m=d[p];"m"==m?d[p]=f:f=m}for(var g=0,v=l;g<h;++g){var b=d[g];"1"==b&&"r"==v?d[g]="n":i.test(b)&&"r"==(v=b)&&(d[g]="R")}for(var y=1,_=d[0];y<h-1;++y){var w=d[y];"+"==w&&"1"==_&&"1"==d[y+1]?d[y]="1":","!=w||_!=d[y+1]||"1"!=_&&"n"!=_||(d[y]=_),_=w}for(var x=0;x<h;++x){var C=d[x];if(","==C)d[x]="N";else if("%"==C){var S=void 0;for(S=x+1;S<h&&"%"==d[S];++S);for(var T=x&&"!"==d[x-1]||S<h&&"1"==d[S]?"1":"N",k=x;k<S;++k)d[k]=T;x=S-1}}for(var D=0,L=l;D<h;++D){var A=d[D];"L"==L&&"1"==A?d[D]="L":i.test(A)&&(L=A)}for(var O=0;O<h;++O)if(t.test(d[O])){var E=void 0;for(E=O+1;E<h&&t.test(d[E]);++E);for(var I="L"==(O?d[O-1]:l),M=I==("L"==(E<h?d[E]:l))?I?"L":"R":l,j=O;j<E;++j)d[j]=M;O=E-1}for(var N,P=[],$=0;$<h;)if(n.test(d[$])){var z=$;for(++$;$<h&&n.test(d[$]);++$);P.push(new r(0,z,$))}else{var H=$,F=P.length;for(++$;$<h&&"L"!=d[$];++$);for(var R=H;R<$;)if(o.test(d[R])){H<R&&P.splice(F,0,new r(1,H,R));var U=R;for(++R;R<$&&o.test(d[R]);++R);P.splice(F,0,new r(2,U,R)),H=R}else++R;H<$&&P.splice(F,0,new r(1,H,$))}return"ltr"==a&&(1==P[0].level&&(N=s.match(/^\s+/))&&(P[0].from=N[0].length,P.unshift(new r(0,0,N[0].length))),1==X(P).level&&(N=s.match(/\s+$/))&&(X(P).to-=N[0].length,P.push(new r(0,h-N[0].length,h)))),"rtl"==a?P.reverse():P}}();function Qe(e,t){var i=e.order;return null==i&&(i=e.order=Ye(e.text,t)),i}var Je=[],Ze=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Je).concat(i)}};function et(e,t){return e._handlers&&e._handlers[t]||Je}function tt(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,o=n&&n[t];if(o){var r=F(o,i);-1<r&&(n[t]=o.slice(0,r).concat(o.slice(r+1)))}}}function it(e,t){var i=et(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)}function nt(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),it(e,i||t.type,e,t),ct(t)||t.codemirrorIgnore}function ot(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==F(i,t[n])&&i.push(t[n])}function rt(e,t){return 0<et(e,t).length}function st(e){e.prototype.on=function(e,t){Ze(this,e,t)},e.prototype.off=function(e,t){tt(this,e,t)}}function at(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function lt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ct(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ht(e){at(e),lt(e)}function dt(e){return e.target||e.srcElement}function ut(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var pt,ft,mt=function(){if(s&&a<9)return!1;var e=A("div");return"draggable"in e||"dragDrop"in e}();function gt(e){if(null==pt){var t=A("span","â");L(e,A("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(pt=t.offsetWidth<=1&&2<t.offsetHeight&&!(s&&a<8))}var i=pt?A("span","â"):A("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function vt(e){if(null!=ft)return ft;var t=L(e,document.createTextNode("AØ®A")),i=T(t,0,1).getBoundingClientRect(),n=T(t,1,2).getBoundingClientRect();return D(e),!(!i||i.left==i.right)&&(ft=n.right-i.right<3)}var bt,yt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var r=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),s=r.indexOf("\r");-1!=s?(i.push(r.slice(0,s)),t+=s+1):(i.push(r),t=o+1)}return i}:function(e){return e.split(/\r\n?|\n/)},_t=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},wt="oncopy"in(bt=A("div"))||(bt.setAttribute("oncopy","return;"),"function"==typeof bt.oncopy),xt=null,Ct={},St={};function Tt(e){if("string"==typeof e&&St.hasOwnProperty(e))e=St[e];else if(e&&"string"==typeof e.name&&St.hasOwnProperty(e.name)){var t=St[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Tt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Tt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function kt(e,t){t=Tt(t);var i=Ct[t.name];if(!i)return kt(e,"text/plain");var n=i(e,t);if(Dt.hasOwnProperty(t.name)){var o=Dt[t.name];for(var r in o)o.hasOwnProperty(r)&&(n.hasOwnProperty(r)&&(n["_"+r]=n[r]),n[r]=o[r])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)n[s]=t.modeProps[s];return n}var Dt={};function Lt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var o=t[n];o instanceof Array&&(o=o.concat([])),i[n]=o}return i}function At(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function Ot(e,t,i){return!e.startState||e.startState(t,i)}var Et=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Et.prototype.eol=function(){return this.pos>=this.string.length},Et.prototype.sol=function(){return this.pos==this.lineStart},Et.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Et.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Et.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Et.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Et.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Et.prototype.skipToEnd=function(){this.pos=this.string.length},Et.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(-1<t)return this.pos=t,!0},Et.prototype.backUp=function(e){this.pos-=e},Et.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Et.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Et.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&0<n.index?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var o=function(e){return i?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},Et.prototype.current=function(){return this.string.slice(this.start,this.pos)},Et.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Et.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Et.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var It=function(e,t){this.state=e,this.lookAhead=t},Mt=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function jt(e,t,i,n){var o=[e.state.modeGen],r={};Wt(e,t.text,e.doc.mode,i,function(e,t){return o.push(e,t)},r,n);for(var s=i.state,a=function(n){i.baseTokens=o;var a=e.state.overlays[n],l=1,c=0;i.state=!0,Wt(e,t.text,a.mode,i,function(e,t){for(var i=l;c<e;){var n=o[l];e<n&&o.splice(l,1,e,o[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(a.opaque)o.splice(i,l-i,e,"overlay "+t),l=i+2;else for(;i<l;i+=2){var r=o[i+1];o[i+1]=(r?r+" ":"")+"overlay "+t}},r),i.state=s,i.baseTokens=null,i.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:o,classes:r.bgClass||r.textClass?r:null}}function Nt(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Pt(e,he(t)),o=t.text.length>e.options.maxHighlightLength&&Lt(e.doc.mode,n.state),r=jt(e,t,n);o&&(n.state=o),t.stateAfter=n.save(!o),t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Pt(e,t,i){var n=e.doc,o=e.display;if(!n.mode.startState)return new Mt(n,!0,t);var r=function(e,t,i){for(var n,o,r=e.doc,s=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;s<a;--a){if(a<=r.first)return r.first;var l=se(r,a-1),c=l.stateAfter;if(c&&(!i||a+(c instanceof It?c.lookAhead:0)<=r.modeFrontier))return a;var h=z(l.text,null,e.options.tabSize);(null==o||h<n)&&(o=a-1,n=h)}return o}(e,t,i),s=r>n.first&&se(n,r-1).stateAfter,a=s?Mt.fromSaved(n,s,r):new Mt(n,Ot(n.mode),r);return n.iter(r,t,function(i){$t(e,i.text,a);var n=a.line;i.stateAfter=n==t-1||n%5==0||n>=o.viewFrom&&n<o.viewTo?a.save():null,a.nextLine()}),i&&(n.modeFrontier=a.line),a}function $t(e,t,i,n){var o=e.doc.mode,r=new Et(t,e.options.tabSize,i);for(r.start=r.pos=n||0,""==t&&zt(o,i.state);!r.eol();)Ht(o,r,i.state),r.start=r.pos}function zt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=At(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Ht(e,t,i,n){for(var o=0;o<10;o++){n&&(n[0]=At(e,i).mode);var r=e.token(t,i);if(t.pos>t.start)return r}throw new Error("Mode "+e.name+" failed to advance stream.")}Mt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Mt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Mt.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Mt.fromSaved=function(e,t,i){return t instanceof It?new Mt(e,Lt(e.mode,t.state),i,t.lookAhead):new Mt(e,Lt(e.mode,t),i)},Mt.prototype.save=function(e){var t=!1!==e?Lt(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new It(t,this.maxLookAhead):t};var Ft=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function Rt(e,t,i,n){var o,r,s=e.doc,a=s.mode,l=se(s,(t=we(s,t)).line),c=Pt(e,t.line,i),h=new Et(l.text,e.options.tabSize,c);for(n&&(r=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,o=Ht(a,h,c.state),n&&r.push(new Ft(h,o,Lt(s.mode,c.state)));return n?r:new Ft(h,o,c.state)}function Ut(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function Wt(e,t,i,n,o,r,s){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,h=null,d=new Et(t,e.options.tabSize,n),u=e.options.addModeClass&&[null];for(""==t&&Ut(zt(i,n.state),r);!d.eol();){if(l=d.pos>e.options.maxHighlightLength?(a=!1,s&&$t(e,t,n,d.pos),d.pos=t.length,null):Ut(Ht(i,d,n.state,u),r),u){var p=u[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||h!=l){for(;c<d.start;)o(c=Math.min(d.start,c+5e3),h);h=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);o(f,h),c=f}}var Bt=function(e,t,i){this.text=e,Ee(this,t),this.height=i?i(this):1};Bt.prototype.lineNo=function(){return he(this)},st(Bt);var qt={},Vt={};function Gt(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?Vt:qt;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var i=O("span",null,null,l?"padding-right: .1px":null),n={pre:O("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var r=o?t.rest[o-1]:t.line,s=void 0;n.pos=0,n.addToken=Yt,vt(e.display.measure)&&(s=Qe(r,e.doc.direction))&&(n.addToken=Qt(n.addToken,s)),n.map=[],Zt(r,n,Nt(e,r,t!=e.display.externalMeasured&&he(r))),r.styleClasses&&(r.styleClasses.bgClass&&(n.bgClass=j(r.styleClasses.bgClass,n.bgClass||"")),r.styleClasses.textClass&&(n.textClass=j(r.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(gt(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return it(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=j(n.pre.className,n.textClass||"")),n}function Kt(e){var t=A("span","â¢","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Yt(e,t,i,n,o,r,l){if(t){var c,h=e.splitSpaces?function(e,t){if(1<e.length&&!/  /.test(e))return e;for(var i=t,n="",o=0;o<e.length;o++){var r=e.charAt(o);" "!=r||!i||o!=e.length-1&&32!=e.charCodeAt(o+1)||(r=" "),n+=r,i=" "==r}return n}(t,e.trailingSpace):t,d=e.cm.state.specialChars,u=!1;if(d.test(t)){c=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var f=d.exec(t),m=f?f.index-p:t.length-p;if(m){var g=document.createTextNode(h.slice(p,p+m));s&&a<9?c.appendChild(A("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;p+=m+1;var v=void 0;if("\t"==f[0]){var b=e.cm.options.tabSize,y=b-e.col%b;(v=c.appendChild(A("span",G(y),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==f[0]||"\n"==f[0]?(v=c.appendChild(A("span","\r"==f[0]?"â":"â¤","cm-invalidchar"))).setAttribute("cm-text",f[0]):((v=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),s&&a<9?c.appendChild(A("span",[v])):c.appendChild(v)),e.col+=1;e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(h),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(u=!0),e.pos+=t.length;if(e.trailingSpace=32==h.charCodeAt(t.length-1),i||n||o||u||l){var _=i||"";n&&(_+=n),o&&(_+=o);var w=A("span",[c],_,l);return r&&(w.title=r),e.content.appendChild(w)}e.content.appendChild(c)}}function Qt(e,t){return function(i,n,o,r,s,a,l){o=o?o+" cm-force-border":"cm-force-border";for(var c=i.pos,h=c+n.length;;){for(var d=void 0,u=0;u<t.length&&!((d=t[u]).to>c&&d.from<=c);u++);if(d.to>=h)return e(i,n,o,r,s,a,l);e(i,n.slice(0,d.to-c),o,r,null,a,l),r=null,n=n.slice(d.to-c),c=d.to}}}function Jt(e,t,i,n){var o=!n&&i.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!n&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",i.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function Zt(e,t,i){var n=e.markedSpans,o=e.text,r=0;if(n)for(var s,a,l,c,h,d,u,p=o.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=h=d=a="",u=null,v=1/0;for(var b=[],y=void 0,_=0;_<n.length;++_){var w=n[_],x=w.marker;"bookmark"==x.type&&w.from==f&&x.widgetNode?b.push(x):w.from<=f&&(null==w.to||w.to>f||x.collapsed&&w.to==f&&w.from==f)?(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&w.from==f&&(h+=" "+x.startStyle),x.endStyle&&w.to==v&&(y||(y=[])).push(x.endStyle,w.to),x.title&&!d&&(d=x.title),x.collapsed&&(!u||je(u.marker,x)<0)&&(u=w)):w.from>f&&v>w.from&&(v=w.from)}if(y)for(var C=0;C<y.length;C+=2)y[C+1]==v&&(c+=" "+y[C]);if(!u||u.from==f)for(var S=0;S<b.length;++S)Jt(t,0,b[S]);if(u&&(u.from||0)==f){if(Jt(t,(null==u.to?p+1:u.to)-f,u.marker,null==u.from),null==u.to)return;u.to==f&&(u=!1)}}if(p<=f)break;for(var T=Math.min(p,v);;){if(g){var k=f+g.length;if(!u){var D=T<k?g.slice(0,T-f):g;t.addToken(t,D,s?s+l:l,h,f+D.length==v?c:"",d,a)}if(T<=k){g=g.slice(T-f),f=T;break}f=k,h=""}g=o.slice(r,r=i[m++]),s=Gt(i[m++],t.cm.options)}}else for(var L=1;L<i.length;L+=2)t.addToken(t,o.slice(r,r=i[L]),Gt(i[L+1],t.cm.options))}function ei(e,t,i){this.line=t,this.rest=function(e){for(var t,i;t=$e(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}(t),this.size=this.rest?he(X(this.rest))-i+1:1,this.node=this.text=null,this.hidden=We(e,t)}function ti(e,t,i){for(var n,o=[],r=t;r<i;r=n){var s=new ei(e.doc,se(e.doc,r),r);n=r+s.size,o.push(s)}return o}var ii=null,ni=null;function oi(e,t){var i=et(e,t);if(i.length){var n,o=Array.prototype.slice.call(arguments,2);ii?n=ii.delayedCallbacks:ni?n=ni:(n=ni=[],setTimeout(ri,0));for(var r=function(e){n.push(function(){return i[e].apply(null,o)})},s=0;s<i.length;++s)r(s)}}function ri(){var e=ni;ni=null;for(var t=0;t<e.length;++t)e[t]()}function si(e,t,i,n){for(var o=0;o<t.changes.length;o++){var r=t.changes[o];"text"==r?(s=e,l=(a=t).text.className,c=li(s,a),a.text==a.node&&(a.node=c.pre),a.text.parentNode.replaceChild(c.pre,a.text),a.text=c.pre,c.bgClass!=a.bgClass||c.textClass!=a.textClass?(a.bgClass=c.bgClass,a.textClass=c.textClass,ci(s,a)):l&&(a.text.className=l)):"gutter"==r?hi(e,t,i,n):"class"==r?ci(e,t):"widget"==r&&di(e,t,n)}var s,a,l,c;t.changes=null}function ai(e){return e.node==e.text&&(e.node=A("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function li(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Xt(e,t)}function ci(e,t){!function(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var n=ai(t);t.background=n.insertBefore(A("div",null,i),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?ai(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function hi(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=ai(t);t.gutterBackground=A("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var s=ai(t),a=t.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(A("div",pe(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],h=r.hasOwnProperty(c)&&r[c];h&&a.appendChild(A("div",[h],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function di(e,t,i){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,o=void 0;n;n=o)o=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);ui(e,t,i)}function ui(e,t,i){if(pi(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)pi(e,t.rest[n],t,i,!1)}function pi(e,t,i,n,o){if(t.widgets)for(var r=ai(i),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=A("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),fi(l,c,i,n),e.display.input.setUneditable(c),o&&l.above?r.insertBefore(c,i.gutter||i.text):r.appendChild(c),oi(l,"redraw")}}function fi(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function mi(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!E(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),L(t.display.measure,A("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function gi(e,t){for(var i=dt(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function vi(e){return e.lineSpace.offsetTop}function bi(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function yi(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=L(e.measure,A("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function _i(e){return 30-e.display.nativeBarWidth}function wi(e){return e.display.scroller.clientWidth-_i(e)-e.display.barWidth}function xi(e){return e.display.scroller.clientHeight-_i(e)-e.display.barHeight}function Ci(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var o=0;o<e.rest.length;o++)if(he(e.rest[o])>i)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Si(e,t,i,n){return Di(e,ki(e,t),i,n)}function Ti(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[nn(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function ki(e,t){var i=he(t),n=Ti(e,i);n&&!n.text?n=null:n&&n.changes&&(si(e,n,i,Qi(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var i=he(t=Fe(t)),n=e.display.externalMeasured=new ei(e.doc,t,i);n.lineN=i;var o=n.built=Xt(e,n);return n.text=o.pre,L(e.display.lineMeasure,o.pre),n}(e,t));var o=Ci(n,t,i);return{line:t,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Di(e,t,i,n,o){t.before&&(i=-1);var r,l=i+(n||"");return t.cache.hasOwnProperty(l)?r=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,i){var n=e.options.lineWrapping,o=n&&wi(e);if(!t.measure.heights||n&&t.measure.width!=o){var r=t.measure.heights=[];if(n){t.measure.width=o;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];2<Math.abs(l.bottom-c.bottom)&&r.push((l.bottom+c.top)/2-i.top)}}r.push(i.bottom-i.top)}}(e,t.view,t.rect),t.hasHeights=!0),(r=function(e,t,i,n){var o,r=Oi(t.map,i,n),l=r.node,c=r.start,h=r.end,d=r.collapse;if(3==l.nodeType){for(var u=0;u<4;u++){for(;c&&ne(t.line.text.charAt(r.coverStart+c));)--c;for(;r.coverStart+h<r.coverEnd&&ne(t.line.text.charAt(r.coverStart+h));)++h;if((o=s&&a<9&&0==c&&h==r.coverEnd-r.coverStart?l.parentNode.getBoundingClientRect():Ei(T(l,c,h).getClientRects(),n)).left||o.right||0==c)break;h=c,c-=1,d="right"}s&&a<11&&(o=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=xt)return xt;var t=L(e,A("span","x")),i=t.getBoundingClientRect(),n=T(t,0,1).getBoundingClientRect();return xt=1<Math.abs(i.left-n.left)}(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,o))}else{var p;0<c&&(d=n="right"),o=e.options.lineWrapping&&1<(p=l.getClientRects()).length?p["right"==n?p.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!o||!o.left&&!o.right)){var f=l.parentNode.getClientRects()[0];o=f?{left:f.left,right:f.left+Yi(e.display),top:f.top,bottom:f.bottom}:Ai}for(var m=o.top-t.rect.top,g=o.bottom-t.rect.top,v=(m+g)/2,b=t.view.measure.heights,y=0;y<b.length-1&&!(v<b[y]);y++);var _=y?b[y-1]:0,w=b[y],x={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:_,bottom:w};return o.left||o.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=m,x.rbottom=g),x}(e,t,i,n)).bogus||(t.cache[l]=r)),{left:r.left,right:r.right,top:o?r.rtop:r.top,bottom:o?r.rbottom:r.bottom}}var Li,Ai={left:0,right:0,top:0,bottom:0};function Oi(e,t,i){for(var n,o,r,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(o=0,r=1,s="left"):t<l?r=1+(o=t-a):(c==e.length-3||t==l&&e[c+3]>t)&&(o=(r=l-a)-1,l<=t&&(s="right")),null!=o){if(n=e[c+2],a==l&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==o)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)n=e[2+(c-=3)],s="left";if("right"==i&&o==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)n=e[(c+=3)+2],s="right";break}return{node:n,start:o,end:r,collapse:s,coverStart:a,coverEnd:l}}function Ei(e,t){var i=Ai;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var o=e.length-1;0<=o&&(i=e[o]).left==i.right;o--);return i}function Ii(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Mi(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ii(e.display.view[t])}function ji(e){Mi(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ni(){return h&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Pi(){return h&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function $i(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=mi(e.widgets[i]));return t}function zi(e,t,i,n,o){if(!o){var r=$i(t);i.top+=r,i.bottom+=r}if("line"==n)return i;n||(n="local");var s=qe(t);if("local"==n?s+=vi(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:Pi());var l=a.left+("window"==n?0:Ni());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function Hi(e,t,i){if("div"==i)return t;var n=t.left,o=t.top;if("page"==i)n-=Ni(),o-=Pi();else if("local"==i||!i){var r=e.display.sizer.getBoundingClientRect();n+=r.left,o+=r.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:o-s.top}}function Fi(e,t,i,n,o){return n||(n=se(e.doc,t.line)),zi(e,n,Si(e,n,t.ch,o),i)}function Ri(e,t,i,n,o,r){function s(t,s){var a=Di(e,o,t,s?"right":"left",r);return s?a.left=a.right:a.right=a.left,zi(e,n,a,i)}n=n||se(e.doc,t.line),o||(o=ki(e,n));var a=Qe(n,e.doc.direction),l=t.ch,c=t.sticky;if(l>=n.text.length?(l=n.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function h(e,t,i){return s(i?e-1:e,1==a[t].level!=i)}var d=Ke(a,l,c),u=Xe,p=h(l,d,"before"==c);return null!=u&&(p.other=h(l,u,"before"!=c)),p}function Ui(e,t){var i=0;t=we(e.doc,t),e.options.lineWrapping||(i=Yi(e.display)*t.ch);var n=se(e.doc,t.line),o=qe(n)+vi(e.display);return{left:i,right:i,top:o,bottom:o+n.height}}function Wi(e,t,i,n,o){var r=fe(e,t,i);return r.xRel=o,n&&(r.outside=!0),r}function Bi(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return Wi(n.first,0,null,!0,-1);var o=de(n,i),r=n.first+n.size-1;if(r<o)return Wi(n.first+n.size-1,se(n,r).text.length,null,!0,1);t<0&&(t=0);for(var s=se(n,o);;){var a=Xi(e,s,o,t,i),l=ze(s,a.ch+(0<a.xRel?1:0));if(!l)return a;var c=l.find(1);if(c.line==o)return c;s=se(n,o=c.line)}}function qi(e,t,i,n){n-=$i(t);var o=t.text.length,r=re(function(t){return Di(e,i,t-1).bottom<=n},o,0);return{begin:r,end:o=re(function(t){return Di(e,i,t).top>n},r,o)}}function Vi(e,t,i,n){return i||(i=ki(e,t)),qi(e,t,i,zi(e,t,Di(e,i,n),"line").top)}function Gi(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function Xi(e,t,i,n,o){o-=qe(t);var r=ki(e,t),s=$i(t),a=0,l=t.text.length,c=!0,h=Qe(t,e.doc.direction);if(h){var d=(e.options.lineWrapping?function(e,t,i,n,o,r,s){var a=qi(e,t,n,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var h=null,d=null,u=0;u<o.length;u++){var p=o[u];if(!(p.from>=c||p.to<=l)){var f=Di(e,n,1!=p.level?Math.min(c,p.to)-1:Math.max(l,p.from)).right,m=f<r?r-f+1e9:f-r;(!h||m<d)&&(h=p,d=m)}}return h||(h=o[o.length-1]),h.from<l&&(h={from:l,to:h.to,level:h.level}),h.to>c&&(h={from:h.from,to:c,level:h.level}),h}:function(e,t,i,n,o,r,s){var a=re(function(a){var l=o[a],c=1!=l.level;return Gi(Ri(e,fe(i,c?l.to:l.from,c?"before":"after"),"line",t,n),r,s,!0)},0,o.length-1),l=o[a];if(0<a){var c=1!=l.level,h=Ri(e,fe(i,c?l.from:l.to,c?"after":"before"),"line",t,n);Gi(h,r,s,!0)&&h.top>s&&(l=o[a-1])}return l})(e,t,i,r,h,n,o);a=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var u,p,f=null,m=null,g=re(function(t){var i=Di(e,r,t);return i.top+=s,i.bottom+=s,!!Gi(i,n,o,!1)&&(i.top<=o&&i.left<=n&&(f=t,m=i),!0)},a,l),v=!1;if(m){var b=n-m.left<m.right-n,y=b==c;g=f+(y?0:1),p=y?"after":"before",u=b?m.left:m.right}else{c||g!=l&&g!=a||g++,p=0==g?"after":g==t.text.length?"before":Di(e,r,g-(c?1:0)).bottom+s<=o==c?"after":"before";var _=Ri(e,fe(i,g,p),"line",t,r);u=_.left,v=o<_.top||o>=_.bottom}return Wi(i,g=oe(t.text,g,1),p,v,n-u)}function Ki(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Li){Li=A("pre");for(var t=0;t<49;++t)Li.appendChild(document.createTextNode("x")),Li.appendChild(A("br"));Li.appendChild(document.createTextNode("x"))}L(e.measure,Li);var i=Li.offsetHeight/50;return 3<i&&(e.cachedTextHeight=i),D(e.measure),i||1}function Yi(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=A("span","xxxxxxxxxx"),i=A("pre",[t]);L(e.measure,i);var n=t.getBoundingClientRect(),o=(n.right-n.left)/10;return 2<o&&(e.cachedCharWidth=o),o||10}function Qi(e){for(var t=e.display,i={},n={},o=t.gutters.clientLeft,r=t.gutters.firstChild,s=0;r;r=r.nextSibling,++s)i[e.options.gutters[s]]=r.offsetLeft+r.clientLeft+o,n[e.options.gutters[s]]=r.clientWidth;return{fixedPos:Ji(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Ji(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Zi(e){var t=Ki(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/Yi(e.display)-3);return function(o){if(We(e.doc,o))return 0;var r=0;if(o.widgets)for(var s=0;s<o.widgets.length;s++)o.widgets[s].height&&(r+=o.widgets[s].height);return i?r+(Math.ceil(o.text.length/n)||1)*t:r+t}}function en(e){var t=e.doc,i=Zi(e);t.iter(function(e){var t=i(e);t!=e.height&&ce(e,t)})}function tn(e,t,i,n){var o=e.display;if(!i&&"true"==dt(t).getAttribute("cm-not-content"))return null;var r,s,a=o.lineSpace.getBoundingClientRect();try{r=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=Bi(e,r,s);if(n&&1==c.xRel&&(l=se(e.doc,c.line).text).length==c.ch){var h=z(l,l.length,e.options.tabSize)-l.length;c=fe(c.line,Math.max(0,Math.round((r-yi(e.display).left)/Yi(e.display))-h))}return c}function nn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function on(e){e.display.input.showSelection(e.display.input.prepareSelection())}function rn(e,t){void 0===t&&(t=!0);for(var i=e.doc,n={},o=n.cursors=document.createDocumentFragment(),r=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(t||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&sn(e,a.head,o),l||ln(e,a,r)}}return n}function sn(e,t,i){var n=Ri(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=i.appendChild(A("div"," ","CodeMirror-cursor"));if(o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var r=i.appendChild(A("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));r.style.display="",r.style.left=n.other.left+"px",r.style.top=n.other.top+"px",r.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function an(e,t){return e.top-t.top||e.left-t.left}function ln(e,t,i){var n=e.display,o=e.doc,r=document.createDocumentFragment(),s=yi(e.display),a=s.left,l=Math.max(n.sizerWidth,wi(e)-n.sizer.offsetLeft)-s.right,c="ltr"==o.direction;function h(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),r.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?l-e:i)+"px;\n                             height: "+(n-t)+"px"))}function d(t,i,n){var r,s,d=se(o,t),u=d.text.length;function p(i,n){return Fi(e,fe(t,i),"div",d,n)}function f(t,i,n){var o=Vi(e,d,null,t),r="ltr"==i==("after"==n)?"left":"right";return p("after"==n?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1),r)[r]}var m=Qe(d,o.direction);return function(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var o=!1,r=0;r<e.length;++r){var s=e[r];(s.from<i&&s.to>t||t==i&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr",r),o=!0)}o||n(t,i,"ltr")}(m,i||0,null==n?u:n,function(e,t,o,d){var g="ltr"==o,v=p(e,g?"left":"right"),b=p(t-1,g?"right":"left"),y=null==i&&0==e,_=null==n&&t==u,w=0==d,x=!m||d==m.length-1;if(b.top-v.top<=3){var C=(c?_:y)&&x,S=(c?y:_)&&w?a:(g?v:b).left,T=C?l:(g?b:v).right;h(S,v.top,T-S,v.bottom)}else{var k,D,L,A;A=g?(k=c&&y&&w?a:v.left,D=c?l:f(e,o,"before"),L=c?a:f(t,o,"after"),c&&_&&x?l:b.right):(k=c?f(e,o,"before"):a,D=!c&&y&&w?l:v.right,L=!c&&_&&x?a:b.left,c?f(t,o,"after"):l),h(k,v.top,D-k,v.bottom),v.bottom<b.top&&h(a,v.bottom,null,b.top),h(L,b.top,A-L,b.bottom)}(!r||an(v,r)<0)&&(r=v),an(b,r)<0&&(r=b),(!s||an(v,s)<0)&&(s=v),an(b,s)<0&&(s=b)}),{start:r,end:s}}var u=t.from(),p=t.to();if(u.line==p.line)d(u.line,u.ch,p.ch);else{var f=se(o,u.line),m=se(o,p.line),g=Fe(f)==Fe(m),v=d(u.line,u.ch,g?f.text.length+1:null).end,b=d(p.line,g?0:null,p.ch).start;g&&(v.top<b.top-2?(h(v.right,v.top,null,v.bottom),h(a,b.top,b.left,b.bottom)):h(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&h(a,v.bottom,null,b.top)}i.appendChild(r)}function cn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function hn(e){e.state.focused||(e.display.input.focus(),un(e))}function dn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,pn(e))},100)}function un(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(it(e,"focus",e,t),e.state.focused=!0,M(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),cn(e))}function pn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(it(e,"blur",e,t),e.state.focused=!1,k(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function fn(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var o=t.view[n],r=void 0;if(!o.hidden){if(s&&a<8){var l=o.node.offsetTop+o.node.offsetHeight;r=l-i,i=l}else{var c=o.node.getBoundingClientRect();r=c.bottom-c.top}var h=o.line.height-r;if(r<2&&(r=Ki(t)),(.005<h||h<-.005)&&(ce(o.line,r),mn(o.line),o.rest))for(var d=0;d<o.rest.length;d++)mn(o.rest[d])}}}function mn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function gn(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-vi(e));var o=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,r=de(t,n),s=de(t,o);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<r?s=de(t,qe(se(t,r=a))+e.wrapper.clientHeight):Math.min(l,t.lastLine())>=s&&(r=de(t,qe(se(t,l))-e.wrapper.clientHeight),s=l)}return{from:r,to:Math.max(s,r+1)}}function vn(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Ji(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,r=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){e.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=r),i[s].gutterBackground&&(i[s].gutterBackground.style.left=r));var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=r}e.options.fixedGutter&&(t.gutters.style.left=n+o+"px")}}function bn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=pe(e.options,t.first+t.size-1),n=e.display;if(i.length==n.lineNumChars)return!1;var o=n.measure.appendChild(A("div",[A("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),r=o.firstChild.offsetWidth,s=o.offsetWidth-r;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(r,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",to(e),!0}function yn(e,t){var i=e.display,n=Ki(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,r=xi(e),s={};t.bottom-t.top>r&&(t.bottom=t.top+r);var a=e.doc.height+bi(i),l=t.top<n,c=t.bottom>a-n;if(t.top<o)s.scrollTop=l?0:t.top;else if(t.bottom>o+r){var h=Math.min(t.top,(c?a:t.bottom)-r);h!=o&&(s.scrollTop=h)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,u=wi(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),p=t.right-t.left>u;return p&&(t.right=t.left+u),t.left<10?s.scrollLeft=0:t.left<d?s.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>u+d-3&&(s.scrollLeft=t.right+(p?0:10)-u),s}function _n(e,t){null!=t&&(Cn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function wn(e){Cn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function xn(e,t,i){null==t&&null==i||Cn(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function Cn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Sn(e,Ui(e,t.from),Ui(e,t.to),t.margin))}function Sn(e,t,i,n){var o=yn(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});xn(e,o.scrollLeft,o.scrollTop)}function Tn(e,t){Math.abs(e.doc.scrollTop-t)<2||(i||eo(e,{top:t}),kn(e,t,!0),i&&eo(e),Kn(e,100))}function kn(e,t,i){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Dn(e,t,i,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,vn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ln(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+bi(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+_i(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var An=function(e,t,i){this.cm=i;var n=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=o.tabIndex=-1,e(n),e(o),Ze(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Ze(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};An.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var o=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var r=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+r)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&0<e.clientHeight&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},An.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},An.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},An.prototype.zeroWidthHack=function(){var e=b&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new H,this.disableVert=new H},An.prototype.enableZeroWidthBar=function(e,t,i){e.style.pointerEvents="auto",t.set(1e3,function n(){var o=e.getBoundingClientRect();("vert"==i?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},An.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var On=function(){};function En(e,t){t||(t=Ln(e));var i=e.display.barWidth,n=e.display.barHeight;In(e,t);for(var o=0;o<4&&i!=e.display.barWidth||n!=e.display.barHeight;o++)i!=e.display.barWidth&&e.options.lineWrapping&&fn(e),In(e,Ln(e)),i=e.display.barWidth,n=e.display.barHeight}function In(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}On.prototype.update=function(){return{bottom:0,right:0}},On.prototype.setScrollLeft=function(){},On.prototype.setScrollTop=function(){},On.prototype.clear=function(){};var Mn={native:An,null:On};function jn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&k(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Mn[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ze(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){"horizontal"==i?Dn(e,t):Tn(e,t)},e),e.display.scrollbars.addClass&&M(e.display.wrapper,e.display.scrollbars.addClass)}var Nn=0;function Pn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Nn},t=e.curOp,ii?ii.ops.push(t):t.ownsGroup=ii={ops:[t],delayedCallbacks:[]}}function $n(e){var t=e.curOp;t&&function(){var e=t.ownsGroup;if(e)try{!function(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var o=e.ops[n];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(i<t.length)}(e)}finally{ii=null,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,i=0;i<t.length;i++)void 0,r=void 0,a=(s=(n=t[i]).cm).display,!(r=(o=s).display).scrollbarsClipped&&r.scroller.offsetWidth&&(r.nativeBarWidth=r.scroller.offsetWidth-r.scroller.clientWidth,r.heightForcer.style.height=_i(o)+"px",r.sizer.style.marginBottom=-r.nativeBarWidth+"px",r.sizer.style.borderRightWidth=_i(o)+"px",r.scrollbarsClipped=!0),n.updateMaxLine&&Ge(s),n.mustUpdate=n.viewChanged||n.forceUpdate||null!=n.scrollTop||n.scrollToPos&&(n.scrollToPos.from.line<a.viewFrom||n.scrollToPos.to.line>=a.viewTo)||a.maxLineChanged&&s.options.lineWrapping,n.update=n.mustUpdate&&new Qn(s,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate);for(var n,o,r,s,a,l,c,h,d,u=0;u<t.length;u++)(l=t[u]).updatedDisplay=l.mustUpdate&&Jn(l.cm,l.update);for(var p=0;p<t.length;p++)h=void 0,d=void 0,d=(h=(c=t[p]).cm).display,c.updatedDisplay&&fn(h),c.barMeasure=Ln(h),d.maxLineChanged&&!h.options.lineWrapping&&(c.adjustWidthTo=Si(h,d.maxLine,d.maxLine.text.length).left+3,h.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+c.adjustWidthTo+_i(h)+h.display.barWidth),c.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+c.adjustWidthTo-wi(h))),(c.updatedDisplay||c.selectionChanged)&&(c.preparedSelection=d.input.prepareSelection());for(var f=0;f<t.length;f++)zn(t[f]);for(var m=0;m<t.length;m++)Hn(t[m])}(e)}(e)}}()}function zn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Dn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==I();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&En(t,e.barMeasure),e.updatedDisplay&&io(t,e.barMeasure),e.selectionChanged&&cn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&hn(e.cm)}function Hn(e){var t=e.cm,i=t.display,n=t.doc;e.updatedDisplay&&Zn(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&kn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Dn(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!nt(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),o=null;if(t.top+n.top<0?o=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!f){var r=A("div","â",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-vi(e.display))+"px;\n                         height: "+(t.bottom-t.top+_i(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(r),r.scrollIntoView(o),e.display.lineSpace.removeChild(r)}}}(t,function(e,t,i,n){var o;null==n&&(n=0),e.options.lineWrapping||t!=i||(i="before"==(t=t.ch?fe(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?fe(t.line,t.ch+1,"before"):t);for(var r=0;r<5;r++){var s=!1,a=Ri(e,t),l=i&&i!=t?Ri(e,i):a,c=yn(e,o={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-n,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+n}),h=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(Tn(e,c.scrollTop),1<Math.abs(e.doc.scrollTop-h)&&(s=!0)),null!=c.scrollLeft&&(Dn(e,c.scrollLeft),1<Math.abs(e.doc.scrollLeft-d)&&(s=!0)),!s)break}return o}(t,we(n,e.scrollToPos.from),we(n,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,r=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||it(o[s],"hide");if(r)for(var a=0;a<r.length;++a)r[a].lines.length&&it(r[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&it(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Fn(e,t){if(e.curOp)return t();Pn(e);try{return t()}finally{$n(e)}}function Rn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Pn(e);try{return t.apply(e,arguments)}finally{$n(e)}}}function Un(e){return function(){if(this.curOp)return e.apply(this,arguments);Pn(this);try{return e.apply(this,arguments)}finally{$n(this)}}}function Wn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Pn(t);try{return e.apply(this,arguments)}finally{$n(t)}}}function Bn(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var o=e.display;if(n&&i<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Se&&Re(e.doc,t)<o.viewTo&&Vn(e);else if(i<=o.viewFrom)Se&&Ue(e.doc,i+n)>o.viewFrom?Vn(e):(o.viewFrom+=n,o.viewTo+=n);else if(t<=o.viewFrom&&i>=o.viewTo)Vn(e);else if(t<=o.viewFrom){var r=Gn(e,i,i+n,1);r?(o.view=o.view.slice(r.index),o.viewFrom=r.lineN,o.viewTo+=n):Vn(e)}else if(i>=o.viewTo){var s=Gn(e,t,t,-1);s?(o.view=o.view.slice(0,s.index),o.viewTo=s.lineN):Vn(e)}else{var a=Gn(e,t,t,-1),l=Gn(e,i,i+n,1);a&&l?(o.view=o.view.slice(0,a.index).concat(ti(e,a.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=n):Vn(e)}var c=o.externalMeasured;c&&(i<c.lineN?c.lineN+=n:t<c.lineN+c.size&&(o.externalMeasured=null))}function qn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var r=n.view[nn(e,t)];if(null!=r.node){var s=r.changes||(r.changes=[]);-1==F(s,i)&&s.push(i)}}}function Vn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Gn(e,t,i,n){var o,r=nn(e,t),s=e.display.view;if(!Se||i==e.doc.first+e.doc.size)return{index:r,lineN:i};for(var a=e.display.viewFrom,l=0;l<r;l++)a+=s[l].size;if(a!=t){if(0<n){if(r==s.length-1)return null;o=a+s[r].size-t,r++}else o=a-t;t+=o,i+=o}for(;Re(e.doc,i)!=i;){if(r==(n<0?0:s.length-1))return null;i+=n*s[r-(n<0?1:0)].size,r+=n}return{index:r,lineN:i}}function Xn(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var o=t[n];o.hidden||o.node&&!o.changes||++i}return i}function Kn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,P(Yn,e))}function Yn(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=Pt(e,t.highlightFrontier),o=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(r){if(n.line>=e.display.viewFrom){var s=r.styles,a=r.text.length>e.options.maxHighlightLength?Lt(t.mode,n.state):null,l=jt(e,r,n,!0);a&&(n.state=a),r.styles=l.styles;var c=r.styleClasses,h=l.classes;h?r.styleClasses=h:c&&(r.styleClasses=null);for(var d=!s||s.length!=r.styles.length||c!=h&&(!c||!h||c.bgClass!=h.bgClass||c.textClass!=h.textClass),u=0;!d&&u<s.length;++u)d=s[u]!=r.styles[u];d&&o.push(n.line),r.stateAfter=n.save(),n.nextLine()}else r.text.length<=e.options.maxHighlightLength&&$t(e,r.text,n),r.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Kn(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),o.length&&Fn(e,function(){for(var t=0;t<o.length;t++)qn(e,o[t],"text")})}}var Qn=function(e,t,i){var n=e.display;this.viewport=t,this.visible=gn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=wi(e),this.force=i,this.dims=Qi(e),this.events=[]};function Jn(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return Vn(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Xn(e))return!1;bn(e)&&(Vn(e),t.dims=Qi(e));var o=n.first+n.size,r=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(o,t.visible.to+e.options.viewportMargin);i.viewFrom<r&&r-i.viewFrom<20&&(r=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(o,i.viewTo)),Se&&(r=Re(e.doc,r),s=Ue(e.doc,s));var a,c,h,d,u=r!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;c=r,h=s,0==(d=(a=e).display).view.length||c>=d.viewTo||h<=d.viewFrom?(d.view=ti(a,c,h),d.viewFrom=c):(d.viewFrom>c?d.view=ti(a,c,d.viewFrom).concat(d.view):d.viewFrom<c&&(d.view=d.view.slice(nn(a,c))),d.viewFrom=c,d.viewTo<h?d.view=d.view.concat(ti(a,d.viewTo,h)):d.viewTo>h&&(d.view=d.view.slice(0,nn(a,h)))),d.viewTo=h,i.viewOffset=qe(se(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var p=Xn(e);if(!u&&0==p&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var f=function(e){if(e.hasFocus())return null;var t=I();if(!t||!E(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&E(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}(e);return 4<p&&(i.lineDiv.style.display="none"),function(e,t,i){var n,o,r,s,a,c=e.display,h=e.options.lineNumbers,d=c.lineDiv,u=d.firstChild;function p(t){var i=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var f=c.view,m=c.viewFrom,g=0;g<f.length;g++){var v=f[g];if(v.hidden);else if(v.node&&v.node.parentNode==d){for(;u!=v.node;)u=p(u);var y=h&&null!=t&&t<=m&&v.lineNumber;v.changes&&(-1<F(v.changes,"gutter")&&(y=!1),si(e,v,m,i)),y&&(D(v.lineNumber),v.lineNumber.appendChild(document.createTextNode(pe(e.options,m)))),u=v.node.nextSibling}else{var _=(r=m,s=i,a=li(n=e,o=v),o.text=o.node=a.pre,a.bgClass&&(o.bgClass=a.bgClass),a.textClass&&(o.textClass=a.textClass),ci(n,o),hi(n,o,r,s),ui(n,o,s),o.node);d.insertBefore(_,u)}m+=v.size}for(;u;)u=p(u)}(e,i.updateLineNumbers,t.dims),4<p&&(i.lineDiv.style.display=""),i.renderedView=i.view,function(e){if(e&&e.activeElt&&e.activeElt!=I()&&(e.activeElt.focus(),e.anchorNode&&E(document.body,e.anchorNode)&&E(document.body,e.focusNode))){var t=window.getSelection(),i=document.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),t.removeAllRanges(),t.addRange(i),t.extend(e.focusNode,e.focusOffset)}}(f),D(i.cursorDiv),D(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,u&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Kn(e,400)),!(i.updateLineNumbers=null)}function Zn(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=wi(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+bi(e.display)-xi(e),i.top)}),t.visible=gn(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Jn(e,t);n=!1){fn(e);var o=Ln(e);on(e),En(e,o),io(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function eo(e,t){var i=new Qn(e,t);if(Jn(e,i)){fn(e),Zn(e,i);var n=Ln(e);on(e),En(e,n),io(e,n),i.finish()}}function to(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function io(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+_i(e)+"px"}function no(e){var t=e.display.gutters,i=e.options.gutters;D(t);for(var n=0;n<i.length;++n){var o=i[n],r=t.appendChild(A("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&((e.display.lineGutter=r).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",to(e)}function oo(e){var t=F(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}Qn.prototype.signal=function(e,t){rt(e,t)&&this.events.push(arguments)},Qn.prototype.finish=function(){for(var e=0;e<this.events.length;e++)it.apply(null,this.events[e])};var ro=0,so=null;function ao(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function lo(e,t){var n=ao(t),o=n.x,r=n.y,s=e.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,h=a.scrollHeight>a.clientHeight;if(o&&c||r&&h){if(r&&b&&l)e:for(var u=t.target,p=s.view;u!=a;u=u.parentNode)for(var f=0;f<p.length;f++)if(p[f].node==u){e.display.currentWheelTarget=u;break e}if(o&&!i&&!d&&null!=so)return r&&h&&Tn(e,Math.max(0,a.scrollTop+r*so)),Dn(e,Math.max(0,a.scrollLeft+o*so)),(!r||r&&h)&&at(t),void(s.wheelStartX=null);if(r&&null!=so){var m=r*so,g=e.doc.scrollTop,v=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),eo(e,{top:g,bottom:v})}ro<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=o,s.wheelDY=r,setTimeout(function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,i=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(so=(so*ro+i)/(ro+1),++ro)}},200)):(s.wheelDX+=o,s.wheelDY+=r))}}s?so=-.53:i?so=15:h?so=-.7:u&&(so=-1/3);var co=function(e,t){this.ranges=e,this.primIndex=t};co.prototype.primary=function(){return this.ranges[this.primIndex]},co.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!ge(i.anchor,n.anchor)||!ge(i.head,n.head))return!1}return!0},co.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ho(ve(this.ranges[t].anchor),ve(this.ranges[t].head));return new co(e,this.primIndex)},co.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},co.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(0<=me(t,n.from())&&me(e,n.to())<=0)return i}return-1};var ho=function(e,t){this.anchor=e,this.head=t};function uo(e,t,i){var n=e&&e.options.selectionsMayTouch,o=t[i];t.sort(function(e,t){return me(e.from(),t.from())}),i=F(t,o);for(var r=1;r<t.length;r++){var s=t[r],a=t[r-1],l=me(a.to(),s.from());if(n&&!s.empty()?0<l:0<=l){var c=ye(a.from(),s.from()),h=be(a.to(),s.to()),d=a.empty()?s.from()==s.head:a.from()==a.head;r<=i&&--i,t.splice(--r,2,new ho(d?h:c,d?c:h))}}return new co(t,i)}function po(e,t){return new co([new ho(e,t||e)],0)}function fo(e){return e.text?fe(e.from.line+e.text.length-1,X(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function mo(e,t){if(me(e,t.from)<0)return e;if(me(e,t.to)<=0)return fo(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=fo(t).ch-t.to.ch),fe(i,n)}function go(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var o=e.sel.ranges[n];i.push(new ho(mo(o.anchor,t),mo(o.head,t)))}return uo(e.cm,i,e.sel.primIndex)}function vo(e,t,i){return e.line==t.line?fe(i.line,e.ch-t.ch+i.ch):fe(i.line+(e.line-t.line),e.ch)}function bo(e){e.doc.mode=kt(e.options,e.doc.modeOption),yo(e)}function yo(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Kn(e,100),e.state.modeGen++,e.curOp&&Bn(e)}function _o(e,t){return 0==t.from.ch&&0==t.to.ch&&""==X(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function wo(e,t,i,n){function o(e){return i?i[e]:null}function r(e,i,o){!function(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Oe(e),Ee(e,i);var o=n?n(e):1;o!=e.height&&ce(e,o)}(e,i,o,n),oi(e,"change",e,t)}function s(e,t){for(var i=[],r=e;r<t;++r)i.push(new Bt(c[r],o(r),n));return i}var a=t.from,l=t.to,c=t.text,h=se(e,a.line),d=se(e,l.line),u=X(c),p=o(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(_o(e,t)){var m=s(0,c.length-1);r(d,d.text,p),f&&e.remove(a.line,f),m.length&&e.insert(a.line,m)}else if(h==d)if(1==c.length)r(h,h.text.slice(0,a.ch)+u+h.text.slice(l.ch),p);else{var g=s(1,c.length-1);g.push(new Bt(u+h.text.slice(l.ch),p,n)),r(h,h.text.slice(0,a.ch)+c[0],o(0)),e.insert(a.line+1,g)}else if(1==c.length)r(h,h.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),o(0)),e.remove(a.line+1,f);else{r(h,h.text.slice(0,a.ch)+c[0],o(0)),r(d,u+d.text.slice(l.ch),p);var v=s(1,c.length-1);1<f&&e.remove(a.line+1,f-1),e.insert(a.line+1,v)}oi(e,"change",e,t)}function xo(e,t,i){!function e(n,o,r){if(n.linked)for(var s=0;s<n.linked.length;++s){var a=n.linked[s];if(a.doc!=o){var l=r&&a.sharedHist;i&&!l||(t(a.doc,l),e(a.doc,n,l))}}}(e,null,!0)}function Co(e,t){if(t.cm)throw new Error("This document is already in use.");en((e.doc=t).cm=e),bo(e),So(e),e.options.lineWrapping||Ge(e),e.options.mode=t.modeOption,Bn(e)}function So(e){("rtl"==e.doc.direction?M:k)(e.display.lineDiv,"CodeMirror-rtl")}function To(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ko(e,t){var i={from:ve(t.from),to:fo(t),text:ae(e,t.from,t.to)};return Oo(e,i,t.from.line,t.to.line+1),xo(e,function(e){return Oo(e,i,t.from.line,t.to.line+1)},!0),i}function Do(e){for(;e.length&&X(e).ranges;)e.pop()}function Lo(e,t,i,n){var o=e.history;o.undone.length=0;var r,s,a,l=+new Date;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(r=(a=o).lastOp==n?(Do(a.done),X(a.done)):a.done.length&&!X(a.done).ranges?X(a.done):1<a.done.length&&!a.done[a.done.length-2].ranges?(a.done.pop(),X(a.done)):void 0))s=X(r.changes),0==me(t.from,t.to)&&0==me(t.from,s.to)?s.to=fo(t):r.changes.push(ko(e,t));else{var c=X(o.done);for(c&&c.ranges||Ao(e.sel,o.done),r={changes:[ko(e,t)],generation:o.generation},o.done.push(r);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(i),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=l,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,s||it(e,"historyAdded")}function Ao(e,t){var i=X(t);i&&i.ranges&&i.equals(e)||t.push(e)}function Oo(e,t,i,n){var o=t["spans_"+e.id],r=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((o||(o=t["spans_"+e.id]={}))[r]=i.markedSpans),++r})}function Eo(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function Io(e,t){var i=function(t,i){var n=i["spans_"+e.id];if(!n)return null;for(var o=[],r=0;r<i.text.length;++r)o.push(Eo(n[r]));return o}(0,t),n=Le(e,t);if(!i)return n;if(!n)return i;for(var o=0;o<i.length;++o){var r=i[o],s=n[o];if(r&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<r.length;++c)if(r[c].marker==l.marker)continue e;r.push(l)}else s&&(i[o]=s)}return i}function Mo(e,t,i){for(var n=[],o=0;o<e.length;++o){var r=e[o];if(r.ranges)n.push(i?co.prototype.deepCopy.call(r):r);else{var s=r.changes,a=[];n.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],h=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(h=d.match(/^spans_(\d+)$/))&&-1<F(t,Number(h[1]))&&(X(a)[d]=c[d],delete c[d])}}}return n}function jo(e,t,i,n){if(n){var o=e.anchor;if(i){var r=me(t,o)<0;r!=me(i,o)<0?(o=t,t=i):r!=me(t,i)<0&&(t=i)}return new ho(o,t)}return new ho(i||t,t)}function No(e,t,i,n,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Fo(e,new co([jo(e.sel.primary(),t,i,o)],0),n)}function Po(e,t,i){for(var n=[],o=e.cm&&(e.cm.display.shift||e.extend),r=0;r<e.sel.ranges.length;r++)n[r]=jo(e.sel.ranges[r],t[r],null,o);Fo(e,uo(e.cm,n,e.sel.primIndex),i)}function $o(e,t,i,n){var o=e.sel.ranges.slice(0);o[t]=i,Fo(e,uo(e.cm,o,e.sel.primIndex),n)}function zo(e,t,i,n){Fo(e,po(t,i),n)}function Ho(e,t,i){var n=e.history.done,o=X(n);o&&o.ranges?Ro(e,n[n.length-1]=t,i):Fo(e,t,i)}function Fo(e,t,i){var n,o,r,s,a,l,c,h,d,u,p;Ro(e,t,i),n=e,o=e.sel,r=e.cm?e.cm.curOp.id:NaN,s=i,u=n.history,p=s&&s.origin,r==u.lastSelOp||p&&u.lastSelOrigin==p&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==p||(a=n,l=p,c=X(u.done),h=o,"*"==(d=l.charAt(0))||"+"==d&&c.ranges.length==h.ranges.length&&c.somethingSelected()==h.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)))?u.done[u.done.length-1]=o:Ao(o,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=p,u.lastSelOp=r,s&&!1!==s.clearRedo&&Do(u.undone)}function Ro(e,t,i){var n,o,r,s;(rt(e,"beforeSelectionChange")||e.cm&&rt(e.cm,"beforeSelectionChange"))&&(n=e,r=i,s={ranges:(o=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new ho(we(n,e[t].anchor),we(n,e[t].head))},origin:r&&r.origin},it(n,"beforeSelectionChange",n,s),n.cm&&it(n.cm,"beforeSelectionChange",n.cm,s),t=s.ranges!=o.ranges?uo(n.cm,s.ranges,s.ranges.length-1):o),Uo(e,Bo(e,t,i&&i.bias||(me(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!e.cm||wn(e.cm)}function Uo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,ot(e.cm)),oi(e,"cursorActivity",e))}function Wo(e){Uo(e,Bo(e,e.sel,null,!1))}function Bo(e,t,i,n){for(var o,r=0;r<t.ranges.length;r++){var s=t.ranges[r],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[r],l=Vo(e,s.anchor,a&&a.anchor,i,n),c=Vo(e,s.head,a&&a.head,i,n);(o||l!=s.anchor||c!=s.head)&&(o||(o=t.ranges.slice(0,r)),o[r]=new ho(l,c))}return o?uo(e.cm,o,t.primIndex):t}function qo(e,t,i,n,o){var r=se(e,t.line);if(r.markedSpans)for(var s=0;s<r.markedSpans.length;++s){var a=r.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(o&&(it(l,"beforeCursorEnter"),l.explicitlyCleared)){if(r.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c=l.find(n<0?1:-1),h=void 0;if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(c=Go(e,c,-n,c&&c.line==t.line?r:null)),c&&c.line==t.line&&(h=me(c,i))&&(n<0?h<0:0<h))return qo(e,c,t,n,o)}var d=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(d=Go(e,d,n,d.line==t.line?r:null)),d?qo(e,d,t,n,o):null}}return t}function Vo(e,t,i,n,o){var r=n||1;return qo(e,t,i,r,o)||!o&&qo(e,t,i,r,!0)||qo(e,t,i,-r,o)||!o&&qo(e,t,i,-r,!0)||(e.cantEdit=!0,fe(e.first,0))}function Go(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?we(e,fe(t.line-1)):null:0<i&&t.ch==(n||se(e,t.line)).text.length?t.line<e.first+e.size-1?fe(t.line+1,0):null:new fe(t.line,t.ch+i)}function Xo(e){e.setSelection(fe(e.firstLine(),0),fe(e.lastLine()),U)}function Ko(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(t,i,o,r){t&&(n.from=we(e,t)),i&&(n.to=we(e,i)),o&&(n.text=o),void 0!==r&&(n.origin=r)}),it(e,"beforeChange",e,n),e.cm&&it(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Yo(e,t,i){if(e.cm){if(!e.cm.curOp)return Rn(e.cm,Yo)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(rt(e,"beforeChange")||e.cm&&rt(e.cm,"beforeChange"))||(t=Ko(e,t,!0))){var n=Ce&&!i&&function(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=F(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var o=[{from:t,to:i}],r=0;r<n.length;++r)for(var s=n[r],a=s.find(0),l=0;l<o.length;++l){var c=o[l];if(!(me(c.to,a.from)<0||0<me(c.from,a.to))){var h=[l,1],d=me(c.from,a.from),u=me(c.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&h.push({from:c.from,to:a.from}),(0<u||!s.inclusiveRight&&!u)&&h.push({from:a.to,to:c.to}),o.splice.apply(o,h),l+=h.length-3}}return o}(e,t.from,t.to);if(n)for(var o=n.length-1;0<=o;--o)Qo(e,{from:n[o].from,to:n[o].to,text:o?[""]:t.text,origin:t.origin});else Qo(e,t)}}function Qo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=me(t.from,t.to)){var i=go(e,t);Lo(e,t,i,e.cm?e.cm.curOp.id:NaN),er(e,t,i,Le(e,t));var n=[];xo(e,function(e,i){i||-1!=F(n,e.history)||(or(e.history,t),n.push(e.history)),er(e,t,null,Le(e,t))})}}function Jo(e,t,i){var n=e.cm&&e.cm.state.suppressEdits;if(!n||i){for(var o,r=e.history,s=e.sel,a="undo"==t?r.done:r.undone,l="undo"==t?r.undone:r.done,c=0;c<a.length&&(o=a[c],i?!o.ranges||o.equals(e.sel):o.ranges);c++);if(c!=a.length){for(r.lastOrigin=r.lastSelOrigin=null;;){if(!(o=a.pop()).ranges){if(n)return void a.push(o);break}if(Ao(o,l),i&&!o.equals(e.sel))return void Fo(e,o,{clearRedo:!1});s=o}var h=[];Ao(s,l),l.push({changes:h,generation:r.generation}),r.generation=o.generation||++r.maxGeneration;for(var d=rt(e,"beforeChange")||e.cm&&rt(e.cm,"beforeChange"),u=function(i){var n=o.changes[i];if(n.origin=t,d&&!Ko(e,n,!1))return a.length=0,{};h.push(ko(e,n));var r=i?go(e,n):X(a);er(e,n,r,Io(e,n)),!i&&e.cm&&e.cm.scrollIntoView({from:n.from,to:fo(n)});var s=[];xo(e,function(e,t){t||-1!=F(s,e.history)||(or(e.history,n),s.push(e.history)),er(e,n,null,Io(e,n))})},p=o.changes.length-1;0<=p;--p){var f=u(p);if(f)return f.v}}}}function Zo(e,t){if(0!=t&&(e.first+=t,e.sel=new co(K(e.sel.ranges,function(e){return new ho(fe(e.anchor.line+t,e.anchor.ch),fe(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Bn(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)qn(e.cm,n,"gutter")}}function er(e,t,i,n){if(e.cm&&!e.cm.curOp)return Rn(e.cm,er)(e,t,i,n);if(t.to.line<e.first)Zo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);Zo(e,o),t={from:fe(e.first,0),to:fe(t.to.line+o,t.to.ch),text:[X(t.text)],origin:t.origin}}var r=e.lastLine();t.to.line>r&&(t={from:t.from,to:fe(r,se(e,r).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ae(e,t.from,t.to),i||(i=go(e,t)),e.cm?function(e,t,i){var n=e.doc,o=e.display,r=t.from,s=t.to,a=!1,l=r.line;e.options.lineWrapping||(l=he(Fe(se(n,r.line))),n.iter(l,s.line+1,function(e){if(e==o.maxLine)return a=!0})),-1<n.sel.contains(t.from,t.to)&&ot(e),wo(n,t,i,Zi(e)),e.options.lineWrapping||(n.iter(l,r.line+t.text.length,function(e){var t=Ve(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;i<n;n--){var o=se(e,n).stateAfter;if(o&&(!(o instanceof It)||n+o.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}(n,r.line),Kn(e,400);var c=t.text.length-(s.line-r.line)-1;t.full?Bn(e):r.line!=s.line||1!=t.text.length||_o(e.doc,t)?Bn(e,r.line,s.line+1,c):qn(e,r.line,"text");var h=rt(e,"changes"),d=rt(e,"change");if(d||h){var u={from:r,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&oi(e,"change",e,u),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(u)}e.display.selForContextMenu=null}(e.cm,t,n):wo(e,t,n),Ro(e,i,U)}}function tr(e,t,i,n,o){var r;n||(n=i),me(n,i)<0&&(i=(r=[n,i])[0],n=r[1]),"string"==typeof t&&(t=e.splitLines(t)),Yo(e,{from:i,to:n,text:t,origin:o})}function ir(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function nr(e,t,i,n){for(var o=0;o<e.length;++o){var r=e[o],s=!0;if(r.ranges){r.copied||((r=e[o]=r.deepCopy()).copied=!0);for(var a=0;a<r.ranges.length;a++)ir(r.ranges[a].anchor,t,i,n),ir(r.ranges[a].head,t,i,n)}else{for(var l=0;l<r.changes.length;++l){var c=r.changes[l];if(i<c.from.line)c.from=fe(c.from.line+n,c.from.ch),c.to=fe(c.to.line+n,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,o+1),o=0)}}}function or(e,t){var i=t.from.line,n=t.to.line,o=t.text.length-(n-i)-1;nr(e.done,i,n,o),nr(e.undone,i,n,o)}function rr(e,t,i,n){var o=t,r=t;return"number"==typeof t?r=se(e,_e(e,t)):o=he(t),null==o?null:(n(r,o)&&e.cm&&qn(e.cm,o,i),r)}function sr(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function ar(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var o=e[n];t+=o.chunkSize(),i+=o.height,o.parent=this}this.size=t,this.height=i,this.parent=null}ho.prototype.from=function(){return ye(this.anchor,this.head)},ho.prototype.to=function(){return be(this.anchor,this.head)},ho.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},sr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i,n=e,o=e+t;n<o;++n){var r=this.lines[n];this.height-=r.height,(i=r).parent=null,Oe(i),oi(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},ar.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<o){var r=Math.min(t,o-e),s=n.height;if(n.removeInner(e,r),this.height-=s-n.height,o==r&&(this.children.splice(i--,1),n.parent=null),0==(t-=r))break;e=0}else e-=o}if(this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof sr))){var a=[];this.collapse(a),this.children=[new sr(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var o=this.children[n],r=o.chunkSize();if(e<=r){if(o.insertInner(e,t,i),o.lines&&50<o.lines.length){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var l=new sr(o.lines.slice(a,a+=25));o.height-=l.height,this.children.splice(++n,0,l),l.parent=this}o.lines=o.lines.slice(0,s),this.maybeSpill()}break}e-=r}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ar(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=F(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var n=new ar(e.children);(n.parent=e).children=[n,t],e=n}t.parent=e.parent}while(10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var o=this.children[n],r=o.chunkSize();if(e<r){var s=Math.min(t,r-e);if(o.iterN(e,s,i))return!0;if(0==(t-=s))break;e=0}else e-=r}}};var lr=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};function cr(e,t,i){qe(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&_n(e,i)}lr.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=he(i);if(null!=n&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(i.widgets=null);var r=mi(this);ce(i,Math.max(0,i.height-r)),e&&(Fn(e,function(){cr(e,i,-r),qn(e,n,"widget")}),oi(e,"lineWidgetCleared",e,this,n))}},lr.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var o=mi(this)-t;o&&(We(this.doc,n)||ce(n,n.height+o),i&&Fn(i,function(){i.curOp.forceUpdate=!0,cr(i,n,o),oi(i,"lineWidgetChanged",i,e,he(n))}))},st(lr);var hr=0,dr=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++hr};function ur(e,t,i,n,o){if(n&&n.shared)return function(e,t,i,n,o){(n=$(n)).shared=!1;var r=[ur(e,t,i,n,o)],s=r[0],a=n.widgetNode;return xo(e,function(e){a&&(n.widgetNode=a.cloneNode(!0)),r.push(ur(e,we(e,t),we(e,i),n,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=X(r)}),new pr(r,s)}(e,t,i,n,o);if(e.cm&&!e.cm.curOp)return Rn(e.cm,ur)(e,t,i,n,o);var r=new dr(e,o),s=me(t,i);if(n&&$(n,r,!1),0<s||0==s&&!1!==r.clearWhenEmpty)return r;if(r.replacedWith&&(r.collapsed=!0,r.widgetNode=O("span",[r.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||r.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(r.widgetNode.insertLeft=!0)),r.collapsed){if(He(e,t.line,t,i,r)||t.line!=i.line&&He(e,i.line,t,i,r))throw new Error("Inserting collapsed marker partially overlapping an existing one");Se=!0}r.addToHistory&&Lo(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,i.line+1,function(e){var n,o;c&&r.collapsed&&!c.options.lineWrapping&&Fe(e)==c.display.maxLine&&(a=!0),r.collapsed&&l!=t.line&&ce(e,0),n=e,o=new Te(r,l==t.line?t.ch:null,l==i.line?i.ch:null),n.markedSpans=n.markedSpans?n.markedSpans.concat([o]):[o],o.marker.attachLine(n),++l}),r.collapsed&&e.iter(t.line,i.line+1,function(t){We(e,t)&&ce(t,0)}),r.clearOnEnter&&Ze(r,"beforeCursorEnter",function(){return r.clear()}),r.readOnly&&(Ce=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),r.collapsed&&(r.id=++hr,r.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),r.collapsed)Bn(c,t.line,i.line+1);else if(r.className||r.title||r.startStyle||r.endStyle||r.css)for(var h=t.line;h<=i.line;h++)qn(c,h,"text");r.atomic&&Wo(c.doc),oi(c,"markerAdded",c,r)}return r}dr.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,i=t&&!t.curOp;if(i&&Pn(t),rt(this,"clear")){var n=this.find();n&&oi(this,"clear",n.from,n.to)}for(var o=null,r=null,s=0;s<this.lines.length;++s){var a=e.lines[s],l=ke(a.markedSpans,e);t&&!e.collapsed?qn(t,he(a),"text"):t&&(null!=l.to&&(r=he(a)),null!=l.from&&(o=he(a))),a.markedSpans=De(a.markedSpans,l),null==l.from&&e.collapsed&&!We(e.doc,a)&&t&&ce(a,Ki(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var h=Fe(e.lines[c]),d=Ve(h);d>t.display.maxLineLength&&(t.display.maxLine=h,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=o&&t&&this.collapsed&&Bn(t,o,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Wo(t.doc)),t&&oi(t,"markerCleared",t,this,o,r),i&&$n(t),this.parent&&this.parent.clear()}},dr.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var r=this.lines[o],s=ke(r.markedSpans,this);if(null!=s.from&&(i=fe(t?r:he(r),s.from),-1==e))return i;if(null!=s.to&&(n=fe(t?r:he(r),s.to),1==e))return n}return i&&{from:i,to:n}},dr.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;t&&n&&Fn(n,function(){var o=t.line,r=he(t.line),s=Ti(n,r);if(s&&(Ii(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!We(i.doc,o)&&null!=i.height){var a=i.height;i.height=null;var l=mi(i)-a;l&&ce(o,o.height+l)}oi(n,"markerChanged",n,e)})},dr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=F(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},dr.prototype.detachLine=function(e){if(this.lines.splice(F(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},st(dr);var pr=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function fr(e){return e.findMarks(fe(e.first,0),e.clipPos(fe(e.lastLine())),function(e){return e.parent})}function mr(e){for(var t=function(t){var i=e[t],n=[i.primary.doc];xo(i.primary.doc,function(e){return n.push(e)});for(var o=0;o<i.markers.length;o++){var r=i.markers[o];-1==F(n,r.doc)&&(r.parent=null,i.markers.splice(o--,1))}},i=0;i<e.length;i++)t(i)}pr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();oi(this,"clear")}},pr.prototype.find=function(e,t){return this.primary.find(e,t)},st(pr);var gr=0,vr=function(e,t,i,n,o){if(!(this instanceof vr))return new vr(e,t,i,n,o);null==i&&(i=0),ar.call(this,[new sr([new Bt("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var r=fe(i,0);this.sel=po(r),this.history=new To(null),this.id=++gr,this.modeOption=t,this.lineSep=n,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),wo(this,{from:r,to:r,text:e}),Fo(this,po(r),U)};vr.prototype=Q(ar.prototype,{constructor:vr,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=le(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Wn(function(e){var t=fe(this.first,0),i=this.first+this.size-1;Yo(this,{from:t,to:fe(i,se(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&xn(this.cm,0,0),Fo(this,po(t),U)}),replaceRange:function(e,t,i,n){tr(this,e,t=we(this,t),i=i?we(this,i):t,n)},getRange:function(e,t,i){var n=ae(this,we(this,e),we(this,t));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ue(this,e))return se(this,e)},getLineNumber:function(e){return he(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=se(this,e)),Fe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return we(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Wn(function(e,t,i){zo(this,we(this,"number"==typeof e?fe(e,t||0):e),null,i)}),setSelection:Wn(function(e,t,i){zo(this,we(this,e),we(this,t||e),i)}),extendSelection:Wn(function(e,t,i){No(this,we(this,e),t&&we(this,t),i)}),extendSelections:Wn(function(e,t){Po(this,xe(this,e),t)}),extendSelectionsBy:Wn(function(e,t){Po(this,xe(this,K(this.sel.ranges,e)),t)}),setSelections:Wn(function(e,t,i){if(e.length){for(var n=[],o=0;o<e.length;o++)n[o]=new ho(we(this,e[o].anchor),we(this,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Fo(this,uo(this.cm,n,t),i)}}),addSelection:Wn(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new ho(we(this,e),we(this,t||e))),Fo(this,uo(this.cm,n,n.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var o=ae(this,i[n].from(),i[n].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var o=ae(this,i[n].from(),i[n].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[n]=o}return t},replaceSelection:function(e,t,i){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:Wn(function(e,t,i){for(var n=[],o=this.sel,r=0;r<o.ranges.length;r++){var s=o.ranges[r];n[r]={from:s.from(),to:s.to(),text:this.splitLines(e[r]),origin:i}}for(var a=t&&"end"!=t&&function(e,t,i){for(var n=[],o=fe(e.first,0),r=o,s=0;s<t.length;s++){var a=t[s],l=vo(a.from,o,r),c=vo(fo(a),o,r);if(o=a.to,r=c,"around"==i){var h=e.sel.ranges[s],d=me(h.head,h.anchor)<0;n[s]=new ho(d?c:l,d?l:c)}else n[s]=new ho(l,l)}return new co(n,e.sel.primIndex)}(this,n,t),l=n.length-1;0<=l;l--)Yo(this,n[l]);a?Ho(this,a):this.cm&&wn(this.cm)}),undo:Wn(function(){Jo(this,"undo")}),redo:Wn(function(){Jo(this,"redo")}),undoSelection:Wn(function(){Jo(this,"undo",!0)}),redoSelection:Wn(function(){Jo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new To(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Mo(this.history.done),undone:Mo(this.history.undone)}},setHistory:function(e){var t=this.history=new To(this.history.maxGeneration);t.done=Mo(e.done.slice(0),null,!0),t.undone=Mo(e.undone.slice(0),null,!0)},setGutterMarker:Wn(function(e,t,i){return rr(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return!(n[t]=i)&&te(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Wn(function(e){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&rr(t,i,"gutter",function(){return i.gutterMarkers[e]=null,te(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!ue(this,e))return null;if(!(e=se(this,t=e)))return null}else if(null==(t=he(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Wn(function(e,t,i){return rr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(S(i).test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0})}),removeLineClass:Wn(function(e,t,i){return rr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[n];if(!o)return!1;if(null==i)e[n]=null;else{var r=o.match(S(i));if(!r)return!1;var s=r.index+r[0].length;e[n]=o.slice(0,r.index)+(r.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:Wn(function(e,t,i){return o=e,r=new lr(n=this,t,i),(s=n.cm)&&r.noHScroll&&(s.display.alignWidgets=!0),rr(n,o,"widget",function(e){var t=e.widgets||(e.widgets=[]);if(null==r.insertAt?t.push(r):t.splice(Math.min(t.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,s&&!We(n,e)){var i=qe(e)<n.scrollTop;ce(e,e.height+mi(r)),i&&_n(s,r.height),s.curOp.forceUpdate=!0}return!0}),s&&oi(s,"lineWidgetAdded",s,r,"number"==typeof o?o:he(o)),r;var n,o,r,s}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return ur(this,we(this,e),we(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ur(this,e=we(this,e),e,i,"bookmark")},findMarksAt:function(e){var t=[],i=se(this,(e=we(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,i){e=we(this,e),t=we(this,t);var n=[],o=e.line;return this.iter(e.line,t.line+1,function(r){var s=r.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++o}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter(function(o){var r=o.text.length+n;if(e<r)return t=e,!0;e-=r,++i}),we(this,fe(i,t))},indexFromPos:function(e){var t=(e=we(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new vr(le(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new vr(le(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i],o=n.find(),r=e.clipPos(o.from),s=e.clipPos(o.to);if(me(r,s)){var a=ur(e,r,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}(n,fr(this)),n},unlinkDoc:function(e){if(e instanceof ds&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),mr(fr(this));break}if(e.history==this.history){var i=[e.id];xo(e,function(e){return i.push(e.id)},!0),e.history=new To(null),e.history.done=Mo(this.history.done,i),e.history.undone=Mo(this.history.undone,i)}},iterLinkedDocs:function(e){xo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):yt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Wn(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Fn(t=this.cm,function(){So(t),Bn(t)}))})}),vr.prototype.eachLine=vr.prototype.iter;var br=0;function yr(e){var t=this;if(_r(t),!nt(t,e)&&!gi(t.display,e)){at(e),s&&(br=+new Date);var i=tn(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,r=Array(o),a=0,l=function(e,n){if(!t.options.allowDropFileTypes||-1!=F(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=Rn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),r[n]=e,++a==o){var l={from:i=we(t.doc,i),to:i,text:t.doc.splitLines(r.join(t.doc.lineSeparator())),origin:"paste"};Yo(t.doc,l),Ho(t.doc,po(i,fo(l)))}}),s.readAsText(e)}},c=0;c<o;++c)l(n[c],c);else{if(t.state.draggingText&&-1<t.doc.sel.contains(i))return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var h=e.dataTransfer.getData("Text");if(h){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Ro(t.doc,po(i,i)),d)for(var u=0;u<d.length;++u)tr(t.doc,"",d[u].anchor,d[u].head,"drag");t.replaceSelection(h,"around","paste"),t.display.input.focus()}}catch(e){}}}}function _r(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function wr(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&e(n)}}var xr=!1;function Cr(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Sr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Tr=0;Tr<10;Tr++)Sr[Tr+48]=Sr[Tr+96]=String(Tr);for(var kr=65;kr<=90;kr++)Sr[kr]=String.fromCharCode(kr);for(var Dr=1;Dr<=12;Dr++)Sr[Dr+111]=Sr[Dr+63235]="F"+Dr;var Lr={};function Ar(e){var t,i,n,o,r=e.split(/-(?!$)/);e=r[r.length-1];for(var s=0;s<r.length-1;s++){var a=r[s];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Or(e,t,i,n){var o=(t=jr(t)).call?t.call(e,n):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Or(e,t.fallthrough,i,n);for(var r=0;r<t.fallthrough.length;r++){var s=Or(e,t.fallthrough[r],i,n);if(s)return s}}}function Er(e){var t="string"==typeof e?e:Sr[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ir(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Mr(e,t){if(d&&34==e.keyCode&&e.char)return!1;var i=Sr[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),Ir(i,e,t))}function jr(e){return"string"==typeof e?Lr[e]:e}function Nr(e,t){for(var i=e.doc.sel.ranges,n=[],o=0;o<i.length;o++){for(var r=t(i[o]);n.length&&me(r.from,X(n).to)<=0;){var s=n.pop();if(me(s.from,r.from)<0){r.from=s.from;break}}n.push(r)}Fn(e,function(){for(var t=n.length-1;0<=t;t--)tr(e.doc,"",n[t].from,n[t].to,"+delete");wn(e)})}function Pr(e,t,i){var n=oe(e.text,t+i,i);return n<0||n>e.text.length?null:n}function $r(e,t,i){var n=Pr(e,t.ch,i);return null==n?null:new fe(t.line,n,i<0?"after":"before")}function zr(e,t,i,n,o){if(e){var r=Qe(i,t.doc.direction);if(r){var s,a=o<0?X(r):r[0],l=o<0==(1==a.level)?"after":"before";if(0<a.level||"rtl"==t.doc.direction){var c=ki(t,i);s=o<0?i.text.length-1:0;var h=Di(t,c,s).top;s=re(function(e){return Di(t,c,e).top==h},o<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Pr(i,s,1))}else s=o<0?a.to:a.from;return new fe(n,s,l)}}return new fe(n,o<0?i.text.length:0,o<0?"before":"after")}Lr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Lr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Lr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Lr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Lr.default=b?Lr.macDefault:Lr.pcDefault;var Hr={selectAll:Xo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),U)},killLine:function(e){return Nr(e,function(t){if(t.empty()){var i=se(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:fe(t.head.line+1,0)}:{from:t.head,to:fe(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Nr(e,function(t){return{from:fe(t.from().line,0),to:we(e.doc,fe(t.to().line+1,0))}})},delLineLeft:function(e){return Nr(e,function(e){return{from:fe(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Nr(e,function(t){var i=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:i},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Nr(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(fe(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(fe(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Fr(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Rr(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return i=e,n=t.head.line,(r=function(e){for(var t;t=$e(e);)e=t.find(1,!0).line;return e}(o=se(i.doc,n)))!=o&&(n=he(r)),zr(!0,i,o,n,-1);var i,n,o,r},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},B)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},B)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?Rr(e,t.head):n},B)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,o=0;o<i.length;o++){var r=i[o].from(),s=z(e.getLine(r.line),r.ch,n);t.push(G(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Fn(e,function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var o=t[n].head,r=se(e.doc,o.line).text;if(r)if(o.ch==r.length&&(o=new fe(o.line,o.ch-1)),0<o.ch)o=new fe(o.line,o.ch+1),e.replaceRange(r.charAt(o.ch-1)+r.charAt(o.ch-2),fe(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var s=se(e.doc,o.line-1).text;s&&(o=new fe(o.line,1),e.replaceRange(r.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),fe(o.line-1,s.length-1),o,"+transpose"))}i.push(new ho(o,o))}e.setSelections(i)})},newlineAndIndent:function(e){return Fn(e,function(){for(var t=e.listSelections(),i=t.length-1;0<=i;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);wn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Fr(e,t){var i=se(e.doc,t),n=Fe(i);return n!=i&&(t=he(n)),zr(!0,e,n,t,1)}function Rr(e,t){var i=Fr(e,t.line),n=se(e.doc,i.line),o=Qe(n,e.doc.direction);if(o&&0!=o[0].level)return i;var r=Math.max(0,n.text.search(/\S/)),s=t.line==i.line&&t.ch<=r&&t.ch;return fe(i.line,s?0:r,i.sticky)}function Ur(e,t,i){if("string"==typeof t&&!(t=Hr[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),o=t(e)!=R}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}var Wr=new H;function Br(e,t,i,n){var o=e.state.keySeq;if(o){if(Er(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Wr.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),qr(e,o+" "+t,i,n))return!0}return qr(e,t,i,n)}function qr(e,t,i,n){var o=function(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var o=Or(t,e.state.keyMaps[n],i,e);if(o)return o}return e.options.extraKeys&&Or(t,e.options.extraKeys,i,e)||Or(t,e.options.keyMap,i,e)}(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&oi(e,"keyHandled",e,t,i),"handled"!=o&&"multi"!=o||(at(i),cn(e)),!!o}function Vr(e,t){var i=Mr(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?Br(e,"Shift-"+i,t,function(t){return Ur(e,t,!0)})||Br(e,i,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Ur(e,t)}):Br(e,i,t,function(t){return Ur(e,t)}))}var Gr=null;function Xr(e){if(this.curOp.focus=I(),!nt(this,e)){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;this.display.shift=16==t||e.shiftKey;var i=Vr(this,e);d&&(Gr=i?t:null,!i&&88==t&&!wt&&(b?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function i(e){18!=e.keyCode&&e.altKey||(k(t,"CodeMirror-crosshair"),tt(document,"keyup",i),tt(document,"mouseover",i))}M(t,"CodeMirror-crosshair"),Ze(document,"keyup",i),Ze(document,"mouseover",i)}(this)}}function Kr(e){16==e.keyCode&&(this.doc.sel.shift=!1),nt(this,e)}function Yr(e){if(!(gi(this.display,e)||nt(this,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var t=e.keyCode,i=e.charCode;if(d&&t==Gr)return Gr=null,void at(e);if(!d||e.which&&!(e.which<10)||!Vr(this,e)){var n,o=String.fromCharCode(null==i?t:i);"\b"!=o&&(Br(n=this,"'"+o+"'",e,function(e){return Ur(n,e,!0)})||this.display.input.onKeyPress(e))}}}var Qr,Jr,Zr=function(e,t,i){this.time=e,this.pos=t,this.button=i};function es(e){var t,i,n,o,r=this,c=r.display;if(!(nt(r,e)||c.activeTouch&&c.input.supportsTouch()))if(c.input.ensurePolled(),c.shift=e.shiftKey,gi(c,e))l||(c.scroller.draggable=!1,setTimeout(function(){return c.scroller.draggable=!0},100));else if(!ns(r,e)){var h,d,u,p=tn(r,e),f=ut(e),m=p?(h=p,d=f,u=+new Date,Jr&&Jr.compare(u,h,d)?(Qr=Jr=null,"triple"):Qr&&Qr.compare(u,h,d)?(Jr=new Zr(u,h,d),Qr=null,"double"):(Qr=new Zr(u,h,d),Jr=null,"single")):"single";window.focus(),1==f&&r.state.selectingText&&r.state.selectingText(e),p&&(i=p,o="Click","double"==m?o="Double"+o:"triple"==m&&(o="Triple"+o),Br(t=r,Ir(o=(1==f?"Left":2==f?"Middle":"Right")+o,n=e),n,function(e){if("string"==typeof e&&(e=Hr[e]),!e)return!1;var n=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n=e(t,i)!=R}finally{t.state.suppressEdits=!1}return n}))||(1==f?p?function(e,t,i,n){s?setTimeout(P(hn,e),0):e.curOp.focus=I();var o,r,c,h,d,u,p,f,m,g,v=function(e,t,i){var n=e.getOption("configureMouse"),o=n?n(e,t,i):{};if(null==o.unit){var r=y?i.shiftKey&&i.metaKey:i.altKey;o.unit=r?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||i.shiftKey),null==o.addNew&&(o.addNew=b?i.metaKey:i.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(b?i.altKey:i.ctrlKey)),o}(e,i,n),_=e.doc.sel;e.options.dragDrop&&mt&&!e.isReadOnly()&&"single"==i&&-1<(o=_.contains(t))&&(me((o=_.ranges[o]).from(),t)<0||0<t.xRel)&&(0<me(o.to(),t)||t.xRel<0)?(c=n,h=t,d=v,u=(r=e).display,p=!1,f=Rn(r,function(e){l&&(u.scroller.draggable=!1),r.state.draggingText=!1,tt(u.wrapper.ownerDocument,"mouseup",f),tt(u.wrapper.ownerDocument,"mousemove",m),tt(u.scroller,"dragstart",g),tt(u.scroller,"drop",f),p||(at(e),d.addNew||No(r.doc,h,null,null,d.extend),l||s&&9==a?setTimeout(function(){u.wrapper.ownerDocument.body.focus(),u.input.focus()},20):u.input.focus())}),m=function(e){p=p||10<=Math.abs(c.clientX-e.clientX)+Math.abs(c.clientY-e.clientY)},g=function(){return p=!0},l&&(u.scroller.draggable=!0),(r.state.draggingText=f).copy=!d.moveOnDrag,u.scroller.dragDrop&&u.scroller.dragDrop(),Ze(u.wrapper.ownerDocument,"mouseup",f),Ze(u.wrapper.ownerDocument,"mousemove",m),Ze(u.scroller,"dragstart",g),Ze(u.scroller,"drop",f),dn(r),setTimeout(function(){return u.input.focus()},20)):function(e,t,i,n){var o=e.display,r=e.doc;at(t);var s,a,l=r.sel,c=l.ranges;if(n.addNew&&!n.extend?(a=r.sel.contains(i),s=-1<a?c[a]:new ho(i,i)):(s=r.sel.primary(),a=r.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new ho(i,i)),i=tn(e,t,!0,!0),a=-1;else{var h=ts(e,i,n.unit);s=n.extend?jo(s,h.anchor,h.head,n.extend):h}n.addNew?-1==a?(a=c.length,Fo(r,uo(e,c.concat([s]),a),{scroll:!1,origin:"*mouse"})):1<c.length&&c[a].empty()&&"char"==n.unit&&!n.extend?(Fo(r,uo(e,c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=r.sel):$o(r,a,s,W):(Fo(r,new co([s],a=0),W),l=r.sel);var d=i,u=o.wrapper.getBoundingClientRect(),p=0;function f(t){e.state.selectingText=!1,p=1/0,at(t),o.input.focus(),tt(o.wrapper.ownerDocument,"mousemove",m),tt(o.wrapper.ownerDocument,"mouseup",g),r.history.lastSelOrigin=null}var m=Rn(e,function(t){0!==t.buttons&&ut(t)?function t(c){var h=++p,f=tn(e,c,!0,"rectangle"==n.unit);if(f)if(0!=me(f,d)){e.curOp.focus=I(),function(t){if(0!=me(d,t))if(d=t,"rectangle"==n.unit){for(var o=[],c=e.options.tabSize,h=z(se(r,i.line).text,i.ch,c),u=z(se(r,t.line).text,t.ch,c),p=Math.min(h,u),f=Math.max(h,u),m=Math.min(i.line,t.line),g=Math.min(e.lastLine(),Math.max(i.line,t.line));m<=g;m++){var v=se(r,m).text,b=q(v,p,c);p==f?o.push(new ho(fe(m,b),fe(m,b))):v.length>b&&o.push(new ho(fe(m,b),fe(m,q(v,f,c))))}o.length||o.push(new ho(i,i)),Fo(r,uo(e,l.ranges.slice(0,a).concat(o),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,_=s,w=ts(e,t,n.unit),x=_.anchor;x=0<me(w.anchor,x)?(y=w.head,ye(_.from(),w.anchor)):(y=w.anchor,be(_.to(),w.head));var C=l.ranges.slice(0);C[a]=function(e,t){var i=t.anchor,n=t.head,o=se(e.doc,i.line);if(0==me(i,n)&&i.sticky==n.sticky)return t;var r=Qe(o);if(!r)return t;var s=Ke(r,i.ch,i.sticky),a=r[s];if(a.from!=i.ch&&a.to!=i.ch)return t;var l,c=s+(a.from==i.ch==(1!=a.level)?0:1);if(0==c||c==r.length)return t;if(n.line!=i.line)l=0<(n.line-i.line)*("ltr"==e.doc.direction?1:-1);else{var h=Ke(r,n.ch,n.sticky),d=h-s||(n.ch-i.ch)*(1==a.level?-1:1);l=h==c-1||h==c?d<0:0<d}var u=r[c+(l?-1:0)],p=l==(1==u.level),f=p?u.from:u.to,m=p?"after":"before";return i.ch==f&&i.sticky==m?t:new ho(new fe(i.line,f,m),n)}(e,new ho(we(r,x),y)),Fo(r,uo(e,C,a),W)}}(f);var m=gn(o,r);(f.line>=m.to||f.line<m.from)&&setTimeout(Rn(e,function(){p==h&&t(c)}),150)}else{var g=c.clientY<u.top?-20:c.clientY>u.bottom?20:0;g&&setTimeout(Rn(e,function(){p==h&&(o.scroller.scrollTop+=g,t(c))}),50)}}(t):f(t)}),g=Rn(e,f);e.state.selectingText=g,Ze(o.wrapper.ownerDocument,"mousemove",m),Ze(o.wrapper.ownerDocument,"mouseup",g)}(e,n,t,v)}(r,p,m,e):dt(e)==c.scroller&&at(e):2==f?(p&&No(r.doc,p),setTimeout(function(){return c.input.focus()},20)):3==f&&(C?r.display.input.onContextMenu(e):dn(r)))}}function ts(e,t,i){if("char"==i)return new ho(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new ho(fe(t.line,0),we(e.doc,fe(t.line+1,0)));var n=i(e,t);return new ho(n.from,n.to)}function is(e,t,i,n){var o,r;if(t.touches)o=t.touches[0].clientX,r=t.touches[0].clientY;else try{o=t.clientX,r=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&at(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(r>a.bottom||!rt(e,i))return ct(t);r-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o)return it(e,i,e,de(e.doc,r),e.options.gutters[l],t),ct(t)}}function ns(e,t){return is(e,t,"gutterClick",!0)}function os(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ji(e)}Zr.prototype.compare=function(e,t,i){return this.time+400>e&&0==me(t,this.pos)&&i==this.button};var rs={toString:function(){return"CodeMirror.Init"}},ss={},as={};function ls(e){no(e),Bn(e),vn(e)}function cs(e,t,i){if(!t!=!(i&&i!=rs)){var n=e.display.dragFunctions,o=t?Ze:tt;o(e.display.scroller,"dragstart",n.start),o(e.display.scroller,"dragenter",n.enter),o(e.display.scroller,"dragover",n.over),o(e.display.scroller,"dragleave",n.leave),o(e.display.scroller,"drop",n.drop)}}function hs(e){e.options.lineWrapping?(M(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(k(e.display.wrapper,"CodeMirror-wrap"),Ge(e)),en(e),Bn(e),ji(e),setTimeout(function(){return En(e)},100)}function ds(e,t){var n=this;if(!(this instanceof ds))return new ds(e,t);this.options=t=t?$(t):{},$(ss,t,!1),oo(t);var o=t.value;"string"==typeof o?o=new vr(o,t.mode,null,t.lineSeparator,t.direction):t.mode&&(o.modeOption=t.mode),this.doc=o;var r=new ds.inputStyles[t.inputStyle](this),c=this.display=new function(e,t,n){var o=this;this.input=n,o.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=O("div",null,"CodeMirror-code"),o.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=A("div",null,"CodeMirror-cursors"),o.measure=A("div",null,"CodeMirror-measure"),o.lineMeasure=A("div",null,"CodeMirror-measure"),o.lineSpace=O("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var r=O("div",[o.lineSpace],"CodeMirror-lines");o.mover=A("div",[r],null,"position: relative"),o.sizer=A("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=A("div",null,null,"position: absolute; height: 30px; width: 1px;"),o.gutters=A("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=A("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=A("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||i&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}(e,o,r);for(var h in no(c.wrapper.CodeMirror=this),os(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),jn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new H,keySeq:null,specialChars:null},t.autofocus&&!v&&c.input.focus(),s&&a<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(e){var t=e.display;Ze(t.scroller,"mousedown",Rn(e,es)),Ze(t.scroller,"dblclick",s&&a<11?Rn(e,function(t){if(!nt(e,t)){var i=tn(e,t);if(i&&!ns(e,t)&&!gi(e.display,t)){at(t);var n=e.findWordAt(i);No(e.doc,n.anchor,n.head)}}}):function(t){return nt(e,t)||at(t)}),Ze(t.scroller,"contextmenu",function(t){return n=t,void(gi((i=e).display,n)||(r=n,rt(o=i,"gutterContextMenu")&&is(o,r,"gutterContextMenu",!1))||nt(i,n,"contextmenu")||C||i.display.input.onContextMenu(n));var i,n,o,r});var i,n={end:0};function o(){t.activeTouch&&(i=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function r(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return 400<i*i+n*n}Ze(t.scroller,"touchstart",function(o){if(!nt(e,o)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(o)&&!ns(e,o)){t.input.ensurePolled(),clearTimeout(i);var r=+new Date;t.activeTouch={start:r,moved:!1,prev:r-n.end<=300?n:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}}),Ze(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),Ze(t.scroller,"touchend",function(i){var n=t.activeTouch;if(n&&!gi(t,i)&&null!=n.left&&!n.moved&&new Date-n.start<300){var s,a=e.coordsChar(t.activeTouch,"page");s=!n.prev||r(n,n.prev)?new ho(a,a):!n.prev.prev||r(n,n.prev.prev)?e.findWordAt(a):new ho(fe(a.line,0),we(e.doc,fe(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),at(i)}o()}),Ze(t.scroller,"touchcancel",o),Ze(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Tn(e,t.scroller.scrollTop),Dn(e,t.scroller.scrollLeft,!0),it(e,"scroll",e))}),Ze(t.scroller,"mousewheel",function(t){return lo(e,t)}),Ze(t.scroller,"DOMMouseScroll",function(t){return lo(e,t)}),Ze(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){nt(e,t)||ht(t)},over:function(t){nt(e,t)||(function(e){var i=tn(e,t);if(i){var n=document.createDocumentFragment();sn(e,i,n),e.display.dragCursor||(e.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),L(e.display.dragCursor,n)}}(e),ht(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-br<100))ht(t);else if(!nt(e,t)&&!gi(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!u)){var i=A("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),d&&i.parentNode.removeChild(i)}}(e,t)},drop:Rn(e,yr),leave:function(t){nt(e,t)||_r(e)}};var l=t.input.getField();Ze(l,"keyup",function(t){return Kr.call(e,t)}),Ze(l,"keydown",Rn(e,Xr)),Ze(l,"keypress",Rn(e,Yr)),Ze(l,"focus",function(t){return un(e,t)}),Ze(l,"blur",function(t){return pn(e,t)})}(this),function(){var e;xr||(Ze(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,wr(Cr)},100))}),Ze(window,"blur",function(){return wr(pn)}),xr=!0)}(),Pn(this),this.curOp.forceUpdate=!0,Co(this,o),t.autofocus&&!v||this.hasFocus()?setTimeout(P(un,this),20):pn(this),as)as.hasOwnProperty(h)&&as[h](n,t[h],rs);bn(this),t.finishInit&&t.finishInit(this);for(var p=0;p<us.length;++p)us[p](n);$n(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(c.lineDiv).textRendering&&(c.lineDiv.style.textRendering="auto")}ds.defaults=ss,ds.optionHandlers=as;var us=[];function ps(e,t,i,n){var o,r=e.doc;null==i&&(i="add"),"smart"==i&&(r.mode.indent?o=Pt(e,t).state:i="prev");var s=e.options.tabSize,a=se(r,t),l=z(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,h=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((c=r.mode.indent(o,a.text.slice(h.length),a.text))==R||150<c)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>r.first?z(se(r,t-1).text,null,s):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var d="",u=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)u+=s,d+="\t";if(u<c&&(d+=G(c-u)),d!=h)return tr(r,d,fe(t,0),fe(t,h.length),"+input"),!(a.stateAfter=null);for(var f=0;f<r.sel.ranges.length;f++){var m=r.sel.ranges[f];if(m.head.line==t&&m.head.ch<h.length){var g=fe(t,h.length);$o(r,f,new ho(g,g));break}}}ds.defineInitHook=function(e){return us.push(e)};var fs=null;function ms(e){fs=e}function gs(e,t,i,n,o){var r=e.doc;e.display.shift=!1,n||(n=r.sel);var s,a=e.state.pasteIncoming||"paste"==o,l=yt(t),c=null;if(a&&1<n.ranges.length)if(fs&&fs.text.join("\n")==t){if(n.ranges.length%fs.text.length==0){c=[];for(var h=0;h<fs.text.length;h++)c.push(r.splitLines(fs.text[h]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(c=K(l,function(e){return[e]}));for(var d=n.ranges.length-1;0<=d;d--){var u=n.ranges[d],p=u.from(),f=u.to();u.empty()&&(i&&0<i?p=fe(p.line,p.ch-i):e.state.overwrite&&!a?f=fe(f.line,Math.min(se(r,f.line).text.length,f.ch+X(l).length)):a&&fs&&fs.lineWise&&fs.text.join("\n")==t&&(p=f=fe(p.line,0))),s=e.curOp.updateInput;var m={from:p,to:f,text:c?c[d%c.length]:l,origin:o||(a?"paste":e.state.cutIncoming?"cut":"+input")};Yo(e.doc,m),oi(e,"inputRead",e,m)}t&&!a&&bs(e,t),wn(e),e.curOp.updateInput=s,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function vs(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Fn(t,function(){return gs(t,i,0,null,"paste")}),!0}function bs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;0<=n;n--){var o=i.ranges[n];if(!(100<o.head.ch||n&&i.ranges[n-1].head.line==o.head.line)){var r=e.getModeAt(o.head),s=!1;if(r.electricChars){for(var a=0;a<r.electricChars.length;a++)if(-1<t.indexOf(r.electricChars.charAt(a))){s=ps(e,o.head.line,"smart");break}}else r.electricInput&&r.electricInput.test(se(e.doc,o.head.line).text.slice(0,o.head.ch))&&(s=ps(e,o.head.line,"smart"));s&&oi(e,"electricInput",e,o.head.line)}}}function ys(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var o=e.doc.sel.ranges[n].head.line,r={anchor:fe(o,0),head:fe(o+1,0)};i.push(r),t.push(e.getRange(r.anchor,r.head))}return{text:t,ranges:i}}function _s(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function ws(){var e=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=A("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),_s(e),t}function xs(e,t,i,n,o){var r=t,s=i,a=se(e,t.line);function l(n){var r,s;if(null==(r=o?function(e,t,i,n){var o=Qe(t,e.doc.direction);if(!o)return $r(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var r=Ke(o,i.ch,i.sticky),s=o[r];if("ltr"==e.doc.direction&&s.level%2==0&&(0<n?s.to>i.ch:s.from<i.ch))return $r(t,i,n);var a,l=function(e,i){return Pr(t,e instanceof fe?e.ch:e,i)},c=function(i){return e.options.lineWrapping?(a=a||ki(e,t),Vi(e,t,a,i)):{begin:0,end:t.text.length}},h=c("before"==i.sticky?l(i,-1):i.ch);if("rtl"==e.doc.direction||1==s.level){var d=1==s.level==n<0,u=l(i,d?1:-1);if(null!=u&&(d?u<=s.to&&u<=h.end:u>=s.from&&u>=h.begin)){var p=d?"before":"after";return new fe(i.line,u,p)}}var f=function(e,t,n){for(var r=function(e,t){return t?new fe(i.line,l(e,1),"before"):new fe(i.line,e,"after")};0<=e&&e<o.length;e+=t){var s=o[e],a=0<t==(1!=s.level),c=a?n.begin:l(n.end,-1);if(s.from<=c&&c<s.to)return r(c,a);if(c=a?s.from:l(s.to,-1),n.begin<=c&&c<n.end)return r(c,a)}},m=f(r+n,n,h);if(m)return m;var g=0<n?h.end:l(h.begin,-1);return null==g||0<n&&g==t.text.length||!(m=f(0<n?0:o.length-1,n,c(g)))?null:m}(e.cm,a,t,i):$r(a,t,i))){if(n||(s=t.line+i)<e.first||s>=e.first+e.size||(t=new fe(s,t.ch,t.sticky),!(a=se(e,s))))return!1;t=zr(o,e.cm,a,t.line,i)}else t=r;return!0}if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var c=null,h="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),u=!0;!(i<0)||l(!u);u=!1){var p=a.text.charAt(t.ch)||"\n",f=ee(p,d)?"w":h&&"\n"==p?"n":!h||/\s/.test(p)?null:"p";if(!h||u||f||(f="s"),c&&c!=f){i<0&&(i=1,l(),t.sticky="after");break}if(f&&(c=f),0<i&&!l(!u))break}var m=Vo(e,t,r,s,!0);return ge(r,m)&&(m.hitSide=!0),m}function Cs(e,t,i,n){var o,r,s=e.doc,a=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*Ki(e.display),3);o=(0<i?t.bottom:t.top)+i*c}else"line"==n&&(o=0<i?t.bottom+3:t.top-3);for(;(r=Bi(e,a,o)).outside;){if(i<0?o<=0:o>=s.height){r.hitSide=!0;break}o+=5*i}return r}var Ss=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new H,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ts(e,t){var i=Ti(e,t.line);if(!i||i.hidden)return null;var n=se(e.doc,t.line),o=Ci(i,n,t.line),r=Qe(n,e.doc.direction),s="left";r&&(s=Ke(r,t.ch)%2?"right":"left");var a=Oi(o.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function ks(e,t){return t&&(e.bad=!0),e}function Ds(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return ks(e.clipPos(fe(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var r=e.display.view[o];if(r.node==n)return Ls(r,t,i)}}function Ls(e,t,i){var n=e.text.firstChild,o=!1;if(!t||!E(n,t))return ks(fe(he(e.line),0),!0);if(t==n&&(o=!0,t=n.childNodes[i],i=0,!t)){var r=e.rest?X(e.rest):e.line;return ks(fe(he(r),r.text.length),o)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,i&&(i=s.nodeValue.length));a.parentNode!=n;)a=a.parentNode;var l=e.measure,c=l.maps;function h(t,i,n){for(var o=-1;o<(c?c.length:0);o++)for(var r=o<0?l.map:c[o],s=0;s<r.length;s+=3){var a=r[s+2];if(a==t||a==i){var h=he(o<0?e.line:e.rest[o]),d=r[s]+n;return(n<0||a!=t)&&(d=r[s+(n?1:0)]),fe(h,d)}}}var d=h(s,a,i);if(d)return ks(d,o);for(var u=a.nextSibling,p=s?s.nodeValue.length-i:0;u;u=u.nextSibling){if(d=h(u,u.firstChild,0))return ks(fe(d.line,d.ch-p),o);p+=u.textContent.length}for(var f=a.previousSibling,m=i;f;f=f.previousSibling){if(d=h(f,f.firstChild,-1))return ks(fe(d.line,d.ch+m),o);m+=f.textContent.length}}Ss.prototype.init=function(e){var t=this,i=this,n=i.cm,o=i.div=e.lineDiv;function r(e){if(!nt(n,e)){if(n.somethingSelected())ms({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=ys(n);ms({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,U),n.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=fs.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var s=ws(),a=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),a.value=fs.text.join("\n");var l=document.activeElement;N(a),setTimeout(function(){n.display.lineSpace.removeChild(s),l.focus(),l==o&&i.showPrimarySelection()},50)}}_s(o,n.options.spellcheck),Ze(o,"paste",function(e){nt(n,e)||vs(e,n)||a<=11&&setTimeout(Rn(n,function(){return t.updateFromDOM()}),20)}),Ze(o,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),Ze(o,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),Ze(o,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),Ze(o,"touchstart",function(){return i.forceCompositionEnd()}),Ze(o,"input",function(){t.composing||t.readFromDOMSoon()}),Ze(o,"copy",r),Ze(o,"cut",r)},Ss.prototype.prepareSelection=function(){var e=rn(this.cm,!1);return e.focus=this.cm.state.focused,e},Ss.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ss.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ss.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),o=n.from(),r=n.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||r.line<t.display.viewFrom)e.removeAllRanges();else{var s=Ds(t,e.anchorNode,e.anchorOffset),a=Ds(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=me(ye(s,a),o)||0!=me(be(s,a),r)){var l=t.display.view,c=o.line>=t.display.viewFrom&&Ts(t,o)||{node:l[0].measure.map[2],offset:0},h=r.line<t.display.viewTo&&Ts(t,r);if(!h){var d=l[l.length-1].measure,u=d.maps?d.maps[d.maps.length-1]:d.map;h={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}if(c&&h){var p,f=e.rangeCount&&e.getRangeAt(0);try{p=T(c.node,c.offset,h.offset,h.node)}catch(e){}p&&(!i&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),f&&null==e.anchorNode?e.addRange(f):i&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ss.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ss.prototype.showMultipleSelections=function(e){L(this.cm.display.cursorDiv,e.cursors),L(this.cm.display.selectionDiv,e.selection)},Ss.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ss.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return E(this.div,t)},Ss.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ss.prototype.blur=function(){this.div.blur()},Ss.prototype.getField=function(){return this.div},Ss.prototype.supportsTouch=function(){return!0},Ss.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Fn(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Ss.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ss.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&h&&this.cm.options.gutters.length&&function(){for(var t=e.anchorNode;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}())return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=Ds(t,e.anchorNode,e.anchorOffset),n=Ds(t,e.focusNode,e.focusOffset);i&&n&&Fn(t,function(){Fo(t.doc,po(i,n),U),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Ss.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,i,n=this.cm,o=n.display,r=n.doc.sel.primary(),s=r.from(),a=r.to();if(0==s.ch&&s.line>n.firstLine()&&(s=fe(s.line-1,se(n.doc,s.line-1).length)),a.ch==se(n.doc,a.line).text.length&&a.line<n.lastLine()&&(a=fe(a.line+1,0)),s.line<o.viewFrom||a.line>o.viewTo-1)return!1;i=s.line==o.viewFrom||0==(e=nn(n,s.line))?(t=he(o.view[0].line),o.view[0].node):(t=he(o.view[e].line),o.view[e-1].node.nextSibling);var l,c,h=nn(n,a.line);if(c=h==o.view.length-1?(l=o.viewTo-1,o.lineDiv.lastChild):(l=he(o.view[h+1].line)-1,o.view[h+1].node.previousSibling),!i)return!1;for(var d=n.doc.splitLines(function(e,t,i,n,o){var r="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(){s&&(r+=a,l&&(r+=a),s=l=!1)}function h(e){e&&(c(),r+=e)}function d(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return void h(i);var r,u=t.getAttribute("cm-marker");if(u){var p=e.findMarks(fe(n,0),fe(o+1,0),(g=+u,function(e){return e.id==g}));return void(p.length&&(r=p[0].find(0))&&h(ae(e.doc,r.from,r.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;f&&c();for(var m=0;m<t.childNodes.length;m++)d(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),f&&(s=!0)}else 3==t.nodeType&&h(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;d(t),t!=i;)t=t.nextSibling,l=!1;return r}(n,i,c,t,l)),u=ae(n.doc,fe(t,0),fe(l,se(n.doc,l).text.length));1<d.length&&1<u.length;)if(X(d)==X(u))d.pop(),u.pop(),l--;else{if(d[0]!=u[0])break;d.shift(),u.shift(),t++}for(var p=0,f=0,m=d[0],g=u[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var b=X(d),y=X(u),_=Math.min(b.length-(1==d.length?p:0),y.length-(1==u.length?p:0));f<_&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)++f;if(1==d.length&&1==u.length&&t==s.line)for(;p&&p>s.ch&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)p--,f++;d[d.length-1]=b.slice(0,b.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var w=fe(t,p),x=fe(l,u.length?X(u).length-f:0);return 1<d.length||d[0]||me(w,x)?(tr(n.doc,d,w,x,"+input"),!0):void 0},Ss.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ss.prototype.reset=function(){this.forceCompositionEnd()},Ss.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ss.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ss.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Fn(this.cm,function(){return Bn(e.cm)})},Ss.prototype.setUneditable=function(e){e.contentEditable="false"},Ss.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Rn(this.cm,gs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ss.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ss.prototype.onContextMenu=function(){},Ss.prototype.resetPosition=function(){},Ss.prototype.needsContentAttribute=!0;var As,Os,Es,Is=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new H,this.hasSelection=!1,this.composing=null};Is.prototype.init=function(e){var t=this,i=this,n=this.cm;this.createField(e);var o=this.textarea;function r(e){if(!nt(n,e)){if(n.somethingSelected())ms({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=ys(n);ms({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,U):(i.prevInput="",o.value=t.text.join("\n"),N(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(o.style.width="0px"),Ze(o,"input",function(){s&&9<=a&&t.hasSelection&&(t.hasSelection=null),i.poll()}),Ze(o,"paste",function(e){nt(n,e)||vs(e,n)||(n.state.pasteIncoming=!0,i.fastPoll())}),Ze(o,"cut",r),Ze(o,"copy",r),Ze(e.scroller,"paste",function(t){gi(e,t)||nt(n,t)||(n.state.pasteIncoming=!0,i.focus())}),Ze(e.lineSpace,"selectstart",function(t){gi(e,t)||at(t)}),Ze(o,"compositionstart",function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Ze(o,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},Is.prototype.createField=function(e){this.wrapper=ws(),this.textarea=this.wrapper.firstChild},Is.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=rn(e);if(e.options.moveInputWithCursor){var o=Ri(e,i.sel.primary().head,"div"),r=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+s.top-r.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+s.left-r.left))}return n},Is.prototype.showSelection=function(e){var t=this.cm.display;L(t.cursorDiv,e.cursors),L(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Is.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&N(this.textarea),s&&9<=a&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",s&&9<=a&&(this.hasSelection=null))}},Is.prototype.getField=function(){return this.textarea},Is.prototype.supportsTouch=function(){return!1},Is.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||I()!=this.textarea))try{this.textarea.focus()}catch(e){}},Is.prototype.blur=function(){this.textarea.blur()},Is.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Is.prototype.receivedFocus=function(){this.slowPoll()},Is.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Is.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function i(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,i))})},Is.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||_t(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=i.value;if(o==n&&!t.somethingSelected())return!1;if(s&&9<=a&&this.hasSelection===o||b&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=o.charCodeAt(0);if(8203!=r||n||(n="â"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(n.length,o.length);l<c&&n.charCodeAt(l)==o.charCodeAt(l);)++l;return Fn(t,function(){gs(t,o.slice(l),n.length-l,null,e.composing?"*compose":null),1e3<o.length||-1<o.indexOf("\n")?i.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Is.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Is.prototype.onKeyPress=function(){s&&9<=a&&(this.hasSelection=null),this.fastPoll()},Is.prototype.onContextMenu=function(e){var t=this,i=t.cm,n=i.display,o=t.textarea,r=tn(i,e),c=n.scroller.scrollTop;if(r&&!d){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(r)&&Rn(i,Fo)(i.doc,po(r),U);var h=o.style.cssText,u=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var p,f=t.wrapper.getBoundingClientRect();if(o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(p=window.scrollY),n.input.focus(),l&&window.scrollTo(null,p),n.input.reset(),i.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=!0,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll),s&&9<=a&&g(),C){ht(e);var m=function(){tt(window,"mouseup",m),setTimeout(v,20)};Ze(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=o.selectionStart){var e=i.somethingSelected(),r="â"+(e?o.value:"");o.value="â",o.value=r,t.prevInput=e?"":"â",o.selectionStart=1,o.selectionEnd=r.length,n.selForContextMenu=i.doc.sel}}function v(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=u,o.style.cssText=h,s&&a<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=o.selectionStart){(!s||s&&a<9)&&g();var e=0,r=function(){n.selForContextMenu==i.doc.sel&&0==o.selectionStart&&0<o.selectionEnd&&"â"==t.prevInput?Rn(i,Xo)(i):e++<10?n.detectingSelectAll=setTimeout(r,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(r,200)}}},Is.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Is.prototype.setUneditable=function(){},Is.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function i(i,n,o,r){e.defaults[i]=n,o&&(t[i]=r?function(e,t,i){i!=rs&&o(e,t,i)}:o)}e.defineOption=i,e.Init=rs,i("value","",function(e,t){return e.setValue(t)},!0),i("mode",null,function(e,t){e.doc.modeOption=t,bo(e)},!0),i("indentUnit",2,bo,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(e){yo(e),ji(e),Bn(e)},!0),i("lineSeparator",null,function(e,t){if(e.doc.lineSep=t){var i=[],n=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var r=e.text.indexOf(t,o);if(-1==r)break;o=r+t.length,i.push(fe(n,r))}n++});for(var o=i.length-1;0<=o;o--)tr(e.doc,t,i[o],fe(i[o].line,i[o].ch+t.length))}}),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=rs&&e.refresh()}),i("specialCharPlaceholder",Kt,function(e){return e.refresh()},!0),i("electricChars",!0),i("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),i("rtlMoveVisually",!_),i("wholeLineUpdateBefore",!0),i("theme","default",function(e){os(e),ls(e)},!0),i("keyMap","default",function(e,t,i){var n=jr(t),o=i!=rs&&jr(i);o&&o.detach&&o.detach(e,n),n.attach&&n.attach(e,o||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,hs,!0),i("gutters",[],function(e){oo(e.options),ls(e)},!0),i("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Ji(e.display)+"px":"0",e.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(e){return En(e)},!0),i("scrollbarStyle","native",function(e){jn(e),En(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),i("lineNumbers",!1,function(e){oo(e.options),ls(e)},!0),i("firstLineNumber",1,ls,!0),i("lineNumberFormatter",function(e){return e},ls,!0),i("showCursorWhenSelecting",!1,on,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(e,t){"nocursor"==t&&(pn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),i("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),i("dragDrop",!0,cs),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,on,!0),i("singleCursorHeightPerLine",!0,on,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,yo,!0),i("addModeClass",!1,yo,!0),i("pollInterval",100),i("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),i("historyEventDelay",1250),i("viewportMargin",10,function(e){return e.refresh()},!0),i("maxHighlightLength",1e4,yo,!0),i("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),i("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),i("autofocus",null),i("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),i("phrases",null)}(ds),Os=(As=ds).optionHandlers,Es=As.helpers={},As.prototype={constructor:As,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,n=i[e];i[e]==t&&"mode"!=e||(i[e]=t,Os.hasOwnProperty(e)&&Rn(this,Os[e])(this,t,n),it(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](jr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Un(function(e,t){var i=e.token?e:As.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");!function(e,t,i){for(var n=0,o=i(t);n<e.length&&i(e[n])<=o;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:i,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,Bn(this)}),removeOverlay:Un(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Bn(this)}}),indentLine:Un(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ue(this.doc,e)&&ps(this,e,t,i)}),indentSelection:Un(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var o=t[n];if(o.empty())o.head.line>i&&(ps(this,o.head.line,e,!0),i=o.head.line,n==this.doc.sel.primIndex&&wn(this));else{var r=o.from(),s=o.to(),a=Math.max(i,r.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<i;++l)ps(this,l,e);var c=this.doc.sel.ranges;0==r.ch&&t.length==c.length&&0<c[n].from().ch&&$o(this.doc,n,new ho(r,c[n].to()),U)}}}),getTokenAt:function(e,t){return Rt(this,e,t)},getLineTokens:function(e,t){return Rt(this,fe(e),t,!0)},getTokenTypeAt:function(e){e=we(this.doc,e);var t,i=Nt(this,se(this.doc,e.line)),n=0,o=(i.length-1)/2,r=e.ch;if(0==r)t=i[2];else for(;;){var s=n+o>>1;if((s?i[2*s-1]:0)>=r)o=s;else{if(!(i[2*s+1]<r)){t=i[2*s+2];break}n=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?As.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!Es.hasOwnProperty(t))return i;var n=Es[t],o=this.getModeAt(e);if("string"==typeof o[t])n[o[t]]&&i.push(n[o[t]]);else if(o[t])for(var r=0;r<o[t].length;r++){var s=n[o[t][r]];s&&i.push(s)}else o.helperType&&n[o.helperType]?i.push(n[o.helperType]):n[o.name]&&i.push(n[o.name]);for(var a=0;a<n._global.length;a++){var l=n._global[a];l.pred(o,this)&&-1==F(i,l.val)&&i.push(l.val)}return i},getStateAfter:function(e,t){var i=this.doc;return Pt(this,(e=_e(i,null==e?i.first+i.size-1:e))+1,t).state},cursorCoords:function(e,t){var i=this.doc.sel.primary();return Ri(this,null==e?i.head:"object"==typeof e?we(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return Fi(this,we(this.doc,e),t||"page")},coordsChar:function(e,t){return Bi(this,(e=Hi(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Hi(this,{top:e,left:0},t||"page").top,de(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,o=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:r<e&&(e=r,o=!0),n=se(this.doc,e)}else n=e;return zi(this,n,{top:0,left:0},t||"page",i||o).top+(o?this.doc.height-qe(n):0)},defaultTextHeight:function(){return Ki(this.display)},defaultCharWidth:function(){return Yi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,o){var r,s=this.display,a=(e=Ri(this,we(this.doc,e))).bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t),"over"==n)a=e.top;else if("above"==n||"near"==n){var c=Math.max(s.wrapper.clientHeight,this.doc.height),h=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>c)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=c&&(a=e.bottom),l+t.offsetWidth>h&&(l=h-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(l=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?l=0:"middle"==o&&(l=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),i&&(null!=(r=yn(this,{left:l,top:a,right:l+t.offsetWidth,bottom:a+t.offsetHeight})).scrollTop&&Tn(this,r.scrollTop),null!=r.scrollLeft&&Dn(this,r.scrollLeft))},triggerOnKeyDown:Un(Xr),triggerOnKeyPress:Un(Yr),triggerOnKeyUp:Kr,triggerOnMouseDown:Un(es),execCommand:function(e){if(Hr.hasOwnProperty(e))return Hr[e].call(null,this)},triggerElectric:Un(function(e){bs(this,e)}),findPosH:function(e,t,i,n){var o=1;t<0&&(o=-1,t=-t);for(var r=we(this.doc,e),s=0;s<t&&!(r=xs(this.doc,r,o,i,n)).hitSide;++s);return r},moveH:Un(function(e,t){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?xs(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()},B)}),deleteH:Un(function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):Nr(this,function(i){var o=xs(n,i.head,e,t,!1);return e<0?{from:o,to:i.head}:{from:i.head,to:o}})}),findPosV:function(e,t,i,n){var o=1,r=n;t<0&&(o=-1,t=-t);for(var s=we(this.doc,e),a=0;a<t;++a){var l=Ri(this,s,"div");if(null==r?r=l.left:l.left=r,(s=Cs(this,l,o,i)).hitSide)break}return s},moveV:Un(function(e,t){var i=this,n=this.doc,o=[],r=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(r)return e<0?s.from():s.to();var a=Ri(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),o.push(a.left);var l=Cs(i,a,e,t);return"page"==t&&s==n.sel.primary()&&_n(i,Fi(i,l,"div").top-a.top),l},B),o.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=o[s]}),findWordAt:function(e){var t=se(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!i?++n:--i;for(var r=t.charAt(i),s=ee(r,o)?function(e){return ee(e,o)}:/\s/.test(r)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};0<i&&s(t.charAt(i-1));)--i;for(;n<t.length&&s(t.charAt(n));)++n}return new ho(fe(e.line,i),fe(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?M(this.display.cursorDiv,"CodeMirror-overwrite"):k(this.display.cursorDiv,"CodeMirror-overwrite"),it(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==I()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Un(function(e,t){xn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-_i(this)-this.display.barHeight,width:e.scrollWidth-_i(this)-this.display.barWidth,clientHeight:xi(this),clientWidth:wi(this)}},scrollIntoView:Un(function(e,t){var i;null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:fe(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(i=e,Cn(this),this.curOp.scrollToPos=i):Sn(this,e.from,e.to,e.margin)}),setSize:Un(function(e,t){var i=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Mi(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){qn(i,o,"widget");break}++o}),this.curOp.forceUpdate=!0,it(this,"refresh",this)}),operation:function(e){return Fn(this,e)},startOperation:function(){return Pn(this)},endOperation:function(){return $n(this)},refresh:Un(function(){var e=this.display.cachedTextHeight;Bn(this),this.curOp.forceUpdate=!0,ji(this),xn(this,this.doc.scrollLeft,this.doc.scrollTop),to(this),(null==e||.5<Math.abs(e-Ki(this.display)))&&en(this),it(this,"refresh",this)}),swapDoc:Un(function(e){var t=this.doc;return t.cm=null,Co(this,e),ji(this),this.display.input.reset(),xn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,oi(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},st(As),As.registerHelper=function(e,t,i){Es.hasOwnProperty(e)||(Es[e]=As[e]={_global:[]}),Es[e][t]=i},As.registerGlobalHelper=function(e,t,i,n){As.registerHelper(e,t,n),Es[e]._global.push({pred:i,val:n})};var Ms,js="iter insert remove copy getEditor constructor".split(" ");for(var Ns in vr.prototype)vr.prototype.hasOwnProperty(Ns)&&F(js,Ns)<0&&(ds.prototype[Ns]=function(e){return function(){return e.apply(this.doc,arguments)}}(vr.prototype[Ns]));return st(vr),ds.inputStyles={textarea:Is,contenteditable:Ss},ds.defineMode=function(e){ds.defaults.mode||"null"==e||(ds.defaults.mode=e),function(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ct[e]=t}.apply(this,arguments)},ds.defineMIME=function(e,t){St[e]=t},ds.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),ds.defineMIME("text/plain","null"),ds.defineExtension=function(e,t){ds.prototype[e]=t},ds.defineDocExtension=function(e,t){vr.prototype[e]=t},ds.fromTextArea=function(e,t){if((t=t?$(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=I();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}function n(){e.value=a.getValue()}var o;if(e.form&&(Ze(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var r=e.form;o=r.submit;try{var s=r.submit=function(){n(),r.submit=o,r.submit(),r.submit=s}}catch(t){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(tt(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var a=ds(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},(Ms=ds).off=tt,Ms.on=Ze,Ms.wheelEventPixels=function(e){var t=ao(e);return t.x*=so,t.y*=so,t},Ms.Doc=vr,Ms.splitLines=yt,Ms.countColumn=z,Ms.findColumn=q,Ms.isWordChar=Z,Ms.Pass=R,Ms.signal=it,Ms.Line=Bt,Ms.changeEnd=fo,Ms.scrollbarModel=Mn,Ms.Pos=fe,Ms.cmpPos=me,Ms.modes=Ct,Ms.mimeModes=St,Ms.resolveMode=Tt,Ms.getMode=kt,Ms.modeExtensions=Dt,Ms.extendMode=function(e,t){$(t,Dt.hasOwnProperty(e)?Dt[e]:Dt[e]={})},Ms.copyState=Lt,Ms.startState=Ot,Ms.innerMode=At,Ms.commands=Hr,Ms.keyMap=Lr,Ms.keyName=Mr,Ms.isModifierKey=Er,Ms.lookupKey=Or,Ms.normalizeKeyMap=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var o=K(i.split(" "),Ar),r=0;r<o.length;r++){var s,a=void 0;s=r==o.length-1?(a=o.join(" "),n):(a=o.slice(0,r+1).join(" "),"...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[i]}for(var c in t)e[c]=t[c];return e},Ms.StringStream=Et,Ms.SharedTextMarker=pr,Ms.TextMarker=dr,Ms.LineWidget=lr,Ms.e_preventDefault=at,Ms.e_stopPropagation=lt,Ms.e_stop=ht,Ms.addClass=M,Ms.contains=E,Ms.rmClass=k,Ms.keyNames=Sr,ds.version="5.41.0",ds},"object"==typeof i&&void 0!==t?t.exports=n():this.CodeMirror=n()},{}],12:[function(e,t,i){var n;n=function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?Â«Â»ââââ]))/i;e.defineMode("gfm",function(i,n){var o=/(?:\@Â (.*?)Â )/,r=/(?:\@\ (.*?)Â )/,s=/(^|\s)(@all)(\s|$)/,a=0,l={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,i){if(e.match(o))return"usercontainer";if(e.match(r))return"groupcontainer";if(e.match(s))return"allcontainer";if(i.combineTokens=null,i.codeBlock)return e.match(/^```+/)?i.codeBlock=!1:e.skipToEnd(),null;if(e.sol()&&(i.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),i.codeBlock=!0,null;if("`"===e.peek()){e.next();var l=e.pos;e.eatWhile("`");var c=1+e.pos-l;return i.code?c===a&&(i.code=!1):(a=c,i.code=!0),null}if(i.code)return e.next(),null;if(e.eatSpace())return i.ateSpace=!0,null;if((e.sol()||i.ateSpace)&&(i.ateSpace=!1)!==n.gitHubSpice){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return i.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return i.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(i.combineTokens=!0,"link"):(e.next(),null)},blankLine:function(e){return e.code=!1,null}},c={taskLists:!0,strikethrough:!0,emoji:!0};for(var h in n)c[h]=n[h];return c.name="markdown",e.overlayMode(e.getMode(i,c),l)},"markdown"),e.defineMIME("text/x-gfm","gfm")},"object"==typeof i&&"object"==typeof t?n(e("../../lib/codemirror"),e("../markdown/markdown"),e("../../addon/mode/overlay")):n(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":11,"../markdown/markdown":13}],13:[function(e,t,i){var n;n=function(e){"use strict";e.defineMode("markdown",function(t,i){var n=e.getMode(t,"text/html"),o="null"==n.name;void 0===i.highlightFormatting&&(i.highlightFormatting=!1),void 0===i.maxBlockquoteDepth&&(i.maxBlockquoteDepth=0),void 0===i.taskLists&&(i.taskLists=!1),void 0===i.strikethrough&&(i.strikethrough=!1),void 0===i.emoji&&(i.emoji=!1),void 0===i.fencedCodeBlockHighlighting&&(i.fencedCodeBlockHighlighting=!0),void 0===i.xml&&(i.xml=!0),void 0===i.tokenTypeOverrides&&(i.tokenTypeOverrides={});var r={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in r)r.hasOwnProperty(s)&&i.tokenTypeOverrides[s]&&(r[s]=i.tokenTypeOverrides[s]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,l=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,c=/^\[(x| )\](?=\s)/i,h=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,d=/^ *(?:\={1,}|-{1,})\s*$/,u=/^[^#!\[\]*_\\<>` "'(~:]+/,p=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,f=/^\s*\[[^\]]+?\]:.*$/,m=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function g(e,t,i){return t.f=t.inline=i,i(e,t)}function v(e,t,i){return t.f=t.block=i,i(e,t)}function b(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==_){var i=o;if(!i){var r=e.innerMode(n,t.htmlState);i="xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText}i&&(t.f=S,t.block=y,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function y(n,o){var s,u=n.column()===o.indentation,m=!(s=o.prevLine.stream)||!/\S/.test(s.string),v=o.indentedCode,b=o.prevLine.hr,y=!1!==o.list,_=(o.listStack[o.listStack.length-1]||0)+3;o.indentedCode=!1;var C=o.indentation;if(null===o.indentationDiff&&(o.indentationDiff=o.indentation,y)){for(o.em=!1,o.strong=!1,o.code=!1,o.strikethrough=!1,o.list=null;C<o.listStack[o.listStack.length-1];)o.listStack.pop(),o.listStack.length?o.indentation=o.listStack[o.listStack.length-1]:o.list=!1;!1!==o.list&&(o.indentationDiff=C-o.listStack[o.listStack.length-1])}var S=!(m||b||o.prevLine.header||y&&v||o.prevLine.fencedCodeEnd),T=(!1===o.list||b||m)&&o.indentation<=_&&n.match(a),k=null;if(4<=o.indentationDiff&&(v||o.prevLine.fencedCodeEnd||o.prevLine.header||m))return n.skipToEnd(),o.indentedCode=!0,r.code;if(n.eatSpace())return null;if(u&&o.indentation<=_&&(k=n.match(h))&&k[1].length<=6)return o.quote=0,o.header=k[1].length,o.thisLine.header=!0,i.highlightFormatting&&(o.formatting="header"),o.f=o.inline,x(o);if(o.indentation<=_&&n.eat(">"))return o.quote=u?1:o.quote+1,i.highlightFormatting&&(o.formatting="quote"),n.eatSpace(),x(o);if(!T&&!o.setext&&u&&o.indentation<=_&&(k=n.match(l))){var D=k[1]?"ol":"ul";return o.indentation=C+n.current().length,o.list=!0,o.quote=0,o.listStack.push(o.indentation),i.taskLists&&n.match(c,!1)&&(o.taskList=!0),o.f=o.inline,i.highlightFormatting&&(o.formatting=["list","list-"+D]),x(o)}return u&&o.indentation<=_&&(k=n.match(p,!0))?(o.quote=0,o.fencedEndRE=new RegExp(k[1]+"+ *$"),o.localMode=i.fencedCodeBlockHighlighting&&function(i){if(e.findModeByName){var n=e.findModeByName(i);n&&(i=n.mime||n.mimes[0])}var o=e.getMode(t,i);return"null"==o.name?null:o}(k[2]),o.localMode&&(o.localState=e.startState(o.localMode)),o.f=o.block=w,i.highlightFormatting&&(o.formatting="code-block"),o.code=-1,x(o)):o.setext||!(S&&y||o.quote||!1!==o.list||o.code||T||f.test(n.string))&&(k=n.lookAhead(1))&&(k=k.match(d))?(o.setext?(o.header=o.setext,o.setext=0,n.skipToEnd(),i.highlightFormatting&&(o.formatting="header")):(o.header="="==k[0].charAt(0)?1:2,o.setext=o.header),o.thisLine.header=!0,o.f=o.inline,x(o)):T?(n.skipToEnd(),o.hr=!0,o.thisLine.hr=!0,r.hr):"["===n.peek()?g(n,o,L):g(n,o,o.inline)}function _(t,i){var r=n.token(t,i.htmlState);if(!o){var s=e.innerMode(n,i.htmlState);("xml"==s.mode.name&&null===s.state.tagStart&&!s.state.context&&s.state.tokenize.isInText||i.md_inside&&-1<t.current().indexOf(">"))&&(i.f=S,i.block=y,i.htmlState=null)}return r}function w(e,t){var n,o=t.listStack[t.listStack.length-1]||0,s=t.indentation<o,a=o+3;return t.fencedEndRE&&t.indentation<=a&&(s||e.match(t.fencedEndRE))?(i.highlightFormatting&&(t.formatting="code-block"),s||(n=x(t)),t.localMode=t.localState=null,t.block=y,t.f=S,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,s?v(e,t,t.block):n):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),r.code)}function x(e){var t=[];if(e.formatting){t.push(r.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var n=0;n<e.formatting.length;n++)t.push(r.formatting+"-"+e.formatting[n]),"header"===e.formatting[n]&&t.push(r.formatting+"-"+e.formatting[n]+"-"+e.header),"quote"===e.formatting[n]&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=e.quote?t.push(r.formatting+"-"+e.formatting[n]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(r.linkHref,"url"):(e.strong&&t.push(r.strong),e.em&&t.push(r.em),e.strikethrough&&t.push(r.strikethrough),e.emoji&&t.push(r.emoji),e.linkText&&t.push(r.linkText),e.code&&t.push(r.code),e.image&&t.push(r.image),e.imageAltText&&t.push(r.imageAltText,"link"),e.imageMarker&&t.push(r.imageMarker)),e.header&&t.push(r.header,r.header+"-"+e.header),e.quote&&(t.push(r.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=e.quote?t.push(r.quote+"-"+e.quote):t.push(r.quote+"-"+i.maxBlockquoteDepth)),!1!==e.list){var o=(e.listStack.length-1)%3;o?1===o?t.push(r.list2):t.push(r.list3):t.push(r.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function C(e,t){if(e.match(u,!0))return x(t)}function S(t,o){var s=o.text(t,o);if(void 0!==s)return s;if(o.list)return o.list=null,x(o);if(o.taskList)return" "===t.match(c,!0)[1]?o.taskOpen=!0:o.taskClosed=!0,i.highlightFormatting&&(o.formatting="task"),o.taskList=!1,x(o);if(o.taskOpen=!1,o.taskClosed=!1,o.header&&t.match(/^#+$/,!0))return i.highlightFormatting&&(o.formatting="header"),x(o);var a=t.next();if(o.linkTitle){o.linkTitle=!1;var l=a;"("===a&&(l=")");var h="^\\s*(?:[^"+(l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(t.match(new RegExp(h),!0))return r.linkHref}if("`"===a){var d=o.formatting;i.highlightFormatting&&(o.formatting="code"),t.eatWhile("`");var u=t.current().length;if(0!=o.code||o.quote&&1!=u){if(u!=o.code)return o.formatting=d,x(o);var p=x(o);return o.code=0,p}return o.code=u,x(o)}if(o.code)return x(o);if("\\"===a&&(t.next(),i.highlightFormatting)){var f=x(o),g=r.formatting+"-escape";return f?f+" "+g:g}if("!"===a&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return o.imageMarker=!0,o.image=!0,i.highlightFormatting&&(o.formatting="image"),x(o);if("["===a&&o.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return o.imageMarker=!1,o.imageAltText=!0,i.highlightFormatting&&(o.formatting="image"),x(o);if("]"===a&&o.imageAltText)return i.highlightFormatting&&(o.formatting="image"),f=x(o),o.imageAltText=!1,o.image=!1,o.inline=o.f=k,f;if("["===a&&!o.image)return o.linkText&&t.match(/^.*?\]/)||(o.linkText=!0,i.highlightFormatting&&(o.formatting="link")),x(o);if("]"===a&&o.linkText)return i.highlightFormatting&&(o.formatting="link"),f=x(o),o.linkText=!1,o.inline=o.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?k:S,f;if("<"===a&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return o.f=o.inline=T,i.highlightFormatting&&(o.formatting="link"),(f=x(o))?f+=" ":f="",f+r.linkInline;if("<"===a&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return o.f=o.inline=T,i.highlightFormatting&&(o.formatting="link"),(f=x(o))?f+=" ":f="",f+r.linkEmail;if(i.xml&&"<"===a&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var b=t.string.indexOf(">",t.pos);if(-1!=b){var y=t.string.substring(t.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(y)&&(o.md_inside=!0)}return t.backUp(1),o.htmlState=e.startState(n),v(t,o,_)}if(i.xml&&"<"===a&&t.match(/^\/\w*?>/))return o.md_inside=!1,"tag";if("*"===a||"_"===a){for(var w=1,C=1==t.pos?" ":t.string.charAt(t.pos-2);w<3&&t.eat(a);)w++;var D=t.peek()||" ",L=!/\s/.test(D)&&(!m.test(D)||/\s/.test(C)||m.test(C)),A=!/\s/.test(C)&&(!m.test(C)||/\s/.test(D)||m.test(D)),O=null,E=null;if(w%2&&(o.em||!L||"*"!==a&&A&&!m.test(C)?o.em!=a||!A||"*"!==a&&L&&!m.test(D)||(O=!1):O=!0),1<w&&(o.strong||!L||"*"!==a&&A&&!m.test(C)?o.strong!=a||!A||"*"!==a&&L&&!m.test(D)||(E=!1):E=!0),null!=E||null!=O)return i.highlightFormatting&&(o.formatting=null==O?"strong":null==E?"em":"strong em"),!0===O&&(o.em=a),!0===E&&(o.strong=a),p=x(o),!1===O&&(o.em=!1),!1===E&&(o.strong=!1),p}else if(" "===a&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return x(o);t.backUp(1)}if(i.strikethrough)if("~"===a&&t.eatWhile(a)){if(o.strikethrough)return i.highlightFormatting&&(o.formatting="strikethrough"),p=x(o),o.strikethrough=!1,p;if(t.match(/^[^\s]/,!1))return o.strikethrough=!0,i.highlightFormatting&&(o.formatting="strikethrough"),x(o)}else if(" "===a&&t.match(/^~~/,!0)){if(" "===t.peek())return x(o);t.backUp(2)}if(i.emoji&&":"===a&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){o.emoji=!0,i.highlightFormatting&&(o.formatting="emoji");var I=x(o);return o.emoji=!1,I}return" "===a&&(t.match(/^ +$/,!1)?o.trailingSpace++:o.trailingSpace&&(o.trailingSpaceNewLine=!0)),x(o)}function T(e,t){if(">"!==e.next())return e.match(/^[^>]+/,!0),r.linkInline;t.f=t.inline=S,i.highlightFormatting&&(t.formatting="link");var n=x(t);return n?n+=" ":n="",n+r.linkInline}function k(e,t){if(e.eatSpace())return null;var n,o=e.next();return"("===o||"["===o?(t.f=t.inline=(n="("===o?")":"]",function(e,t){if(e.next()!==n)return e.match(D[n]),t.linkHref=!0,x(t);t.f=t.inline=S,i.highlightFormatting&&(t.formatting="link-string");var o=x(t);return t.linkHref=!1,o}),i.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,x(t)):"error"}var D={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function L(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=A,e.next(),i.highlightFormatting&&(t.formatting="link"),t.linkText=!0,x(t)):g(e,t,S)}function A(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=O,i.highlightFormatting&&(t.formatting="link");var n=x(t);return t.linkText=!1,n}return e.match(/^([^\]\\]|\\.)+/,!0),r.linkText}function O(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=S,r.linkHref+" url")}var E={startState:function(){return{f:y,prevLine:{stream:null},thisLine:{stream:null},block:y,htmlState:null,indentation:0,inline:S,text:C,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(n,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return b(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=_)){var i=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=i,t.indentationDiff=null,0<i)return null}}return t.f(e,t)},innerMode:function(e){return e.block==_?{state:e.htmlState,mode:n}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:E}},indent:function(t,i,o){return t.block==_&&n.indent?n.indent(t.htmlState,i,o):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,i,o):e.Pass},blankLine:b,getType:x,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return E},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")},"object"==typeof i&&"object"==typeof t?n(e("../../lib/codemirror"),e("../xml/xml"),e("../meta")):n(CodeMirror)},{"../../lib/codemirror":11,"../meta":14,"../xml/xml":15}],14:[function(e,t,i){!function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var i=e.modeInfo[t];i.mimes&&(i.mime=i.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.mime==t)return n;if(n.mimes)for(var o=0;o<n.mimes.length;o++)if(n.mimes[o]==t)return n}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.ext)for(var o=0;o<n.ext.length;o++)if(n.ext[o]==t)return n}},e.findModeByFileName=function(t){for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.file&&n.file.test(t))return n}var o=t.lastIndexOf("."),r=-1<o&&t.substring(o+1,t.length);if(r)return e.findModeByExtension(r)},e.findModeByName=function(t){t=t.toLowerCase();for(var i=0;i<e.modeInfo.length;i++){var n=e.modeInfo[i];if(n.name.toLowerCase()==t)return n;if(n.alias)for(var o=0;o<n.alias.length;o++)if(n.alias[o].toLowerCase()==t)return n}}}("object"==typeof i&&"object"==typeof t?e("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":11}],15:[function(e,t,i){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(n,o){var r,s,a=n.indentUnit,l={},c=o.htmlMode?t:i;for(var h in c)l[h]=c[h];for(var h in o)l[h]=o[h];function d(e,t){function i(i){return(t.tokenize=i)(e,t)}var n=e.next();return"<"==n?e.eat("!")?e.eat("[")?e.match("CDATA[")?i(p("atom","]]>")):null:e.match("--")?i(p("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),i(function e(t){return function(i,n){for(var o;null!=(o=i.next());){if("<"==o)return n.tokenize=e(t+1),n.tokenize(i,n);if(">"==o){if(1!=t)return n.tokenize=e(t-1),n.tokenize(i,n);n.tokenize=d;break}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=p("meta","?>"),"meta"):(r=e.eat("/")?"closeTag":"openTag",t.tokenize=u,"tag bracket"):"&"!=n?(e.eatWhile(/[^&<]/),null):(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error"}function u(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=d,r=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return r="equals",null;if("<"!=i)return/[\'\"]/.test(i)?(t.tokenize=(n=i,(o=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=u;break}return"string"}).isInAttribute=!0,o),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");t.tokenize=d,t.state=g,t.tagName=t.tagStart=null;var n,o,s=t.tokenize(e,t);return s?s+" tag error":"tag error"}function p(e,t){return function(i,n){for(;!i.eol();){if(i.match(t)){n.tokenize=d;break}i.next()}return e}}function f(e){e.context&&(e.context=e.context.prev)}function m(e,t){for(var i;;){if(!e.context)return;if(i=e.context.tagName,!l.contextGrabbers.hasOwnProperty(i)||!l.contextGrabbers[i].hasOwnProperty(t))return;f(e)}}function g(e,t,i){return"openTag"==e?(i.tagStart=t.column(),v):"closeTag"==e?b:g}function v(e,t,i){return"word"==e?(i.tagName=t.current(),s="tag",w):l.allowMissingTagName&&"endTag"==e?(s="tag bracket",w(e,t,i)):(s="error",v)}function b(e,t,i){if("word"!=e)return l.allowMissingTagName&&"endTag"==e?(s="tag bracket",y(e,t,i)):(s="error",_);var n=t.current();return i.context&&i.context.tagName!=n&&l.implicitlyClosed.hasOwnProperty(i.context.tagName)&&f(i),i.context&&i.context.tagName==n||!1===l.matchClosing?(s="tag",y):(s="tag error",_)}function y(e,t,i){return"endTag"!=e?(s="error",y):(f(i),g)}function _(e,t,i){return s="error",y(e,0,i)}function w(e,t,i){if("word"==e)return s="attribute",x;if("endTag"!=e&&"selfcloseTag"!=e)return s="error",w;var n=i.tagName,o=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(n)?m(i,n):(m(i,n),i.context=new function(e,t,i){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=i,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(i,n,o==i.indented)),g}function x(e,t,i){return"equals"==e?C:(l.allowMissing||(s="error"),w(e,0,i))}function C(e,t,i){return"string"==e?S:"word"==e&&l.allowUnquoted?(s="string",w):(s="error",w(e,0,i))}function S(e,t,i){return"string"==e?S:w(e,0,i)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:g,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;r=null;var i=t.tokenize(e,t);return(i||r)&&"comment"!=i&&(s=null,t.state=t.state(r||i,e,t),s&&(i="error"==s?i+" error":s)),i},indent:function(t,i,n){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+a;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=u&&t.tokenize!=d)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var r=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(r&&r[1])for(;o;){if(o.tagName==r[2]){o=o.prev;break}if(!l.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(r)for(;o;){var s=l.contextGrabbers[o.tagName];if(!s||!s.hasOwnProperty(r[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+a:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==C&&(e.state=w)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],16:[function(e,t,i){i.read=function(e,t,i,n,o){var r,s,a=8*o-n-1,l=(1<<a)-1,c=l>>1,h=-7,d=i?o-1:0,u=i?-1:1,p=e[t+d];for(d+=u,r=p&(1<<-h)-1,p>>=-h,h+=a;0<h;r=256*r+e[t+d],d+=u,h-=8);for(s=r&(1<<-h)-1,r>>=-h,h+=n;0<h;s=256*s+e[t+d],d+=u,h-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),r-=c}return(p?-1:1)*s*Math.pow(2,r-n)},i.write=function(e,t,i,n,o,r){var s,a,l,c=8*r-o-1,h=(1<<c)-1,d=h>>1,u=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),2<=(t+=1<=s+d?u/l:u*Math.pow(2,1-d))*l&&(s++,l/=2),h<=s+d?(a=0,s=h):1<=s+d?(a=(t*l-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));8<=o;e[i+p]=255&a,p+=f,a/=256,o-=8);for(s=s<<o|a,c+=o;0<c;e[i+p]=255&s,p+=f,s/=256,c-=8);e[i+p-f]|=128*m}},{}],17:[function(e,t,i){(function(e){!function(e){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:g,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:g,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:g,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function o(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||_.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=u(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=u(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=u(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=u(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=u(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag",n._tag).getRegex(),n.blockquote=u(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=v({},n),n.gfm=v({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=u(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=v({},n.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=v({},n.normal,{html:u("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),o.rules=n,o.lex=function(e,t){return new o(t).lex(e)},o.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},o.prototype.token=function(e,t){var i,o,r,s,a,l,c,h,d,u,p,f,m,g,v,_;for(e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),1<r[0].length&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:y(r,"\n")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]||""});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(t&&(r=this.rules.nptable.exec(e))&&(l={type:"table",header:b(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(r[0].length),p=0;p<l.align.length;p++)/^ *-+: *$/.test(l.align[p])?l.align[p]="right":/^ *:-+: *$/.test(l.align[p])?l.align[p]="center":/^ *:-+ *$/.test(l.align[p])?l.align[p]="left":l.align[p]=null;for(p=0;p<l.cells.length;p++)l.cells[p]=b(l.cells[p],l.header.length);this.tokens.push(l)}else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,t),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),c={type:"list_start",ordered:g=1<(s=r[2]).length,start:g?+s:"",loose:!1},this.tokens.push(c),i=!(h=[]),m=(r=r[0].match(this.rules.item)).length,p=0;p<m;p++)u=(l=r[p]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&p!==m-1&&(s===(a=n.bullet.exec(r[p+1])[0])||1<s.length&&1<a.length||(e=r.slice(p+1).join("\n")+e,p=m-1)),o=i||/\n\n(?!\s*$)/.test(l),p!==m-1&&(i="\n"===l.charAt(l.length-1),o||(o=i)),o&&(c.loose=!0),_=void 0,(v=/^\[[ xX]\] /.test(l))&&(_=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),d={type:"list_item_start",task:v,checked:_,loose:o},h.push(d),this.tokens.push(d),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(c.loose)for(m=h.length,p=0;p<m;p++)h[p].loose=!0;this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]});else if(t&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),r[3]&&(r[3]=r[3].substring(1,r[3].length-1)),f=r[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[f]||(this.tokens.links[f]={href:r[2],title:r[3]});else if(t&&(r=this.rules.table.exec(e))&&(l={type:"table",header:b(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(r[0].length),p=0;p<l.align.length;p++)/^ *-+: *$/.test(l.align[p])?l.align[p]="right":/^ *:-+: *$/.test(l.align[p])?l.align[p]="center":/^ *:-+ *$/.test(l.align[p])?l.align[p]="left":l.align[p]=null;for(p=0;p<l.cells.length;p++)l.cells[p]=b(l.cells[p].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(t&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var r={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:g,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:g,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function s(e,t){if(this.options=t||_.defaults,this.links=e,this.rules=r.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=r.pedantic:this.options.gfm&&(this.options.breaks?this.rules=r.breaks:this.rules=r.gfm)}function a(e){this.options=e||_.defaults}function l(){}function c(e){this.tokens=[],this.token=null,this.options=e||_.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function h(e,t){if(t){if(h.escapeTest.test(e))return e.replace(h.escapeReplace,function(e){return h.replacements[e]})}else if(h.escapeTestNoEncode.test(e))return e.replace(h.escapeReplaceNoEncode,function(e){return h.replacements[e]});return e}function d(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function u(e,t){return e=e.source||e,t=t||"",{replace:function(t,i){return i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,i),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t){return f[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=y(e,"/",!0)),e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}r._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=u(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,r.tag=u(r.tag).replace("comment",n._comment).replace("attribute",r._attribute).getRegex(),r._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,r._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,r.link=u(r.link).replace("label",r._label).replace("href",r._href).replace("title",r._title).getRegex(),r.reflink=u(r.reflink).replace("label",r._label).getRegex(),r.normal=v({},r),r.pedantic=v({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",r._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r._label).getRegex()}),r.gfm=v({},r.normal,{escape:u(r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:u(r.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),r.gfm.url=u(r.gfm.url).replace("email",r.gfm._extended_email).getRegex(),r.breaks=v({},r.gfm,{br:u(r.br).replace("{2,}","*").getRegex(),text:u(r.gfm.text).replace("{2,}","*").getRegex()}),s.rules=r,s.output=function(e,t,i){return new s(t,i).output(e)},s.prototype.output=function(e){for(var t,i,n,o,r,a,l="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),l+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),n="@"===r[2]?"mailto:"+(i=h(this.mangle(r[1]))):i=h(r[1]),l+=this.renderer.link(n,null,i);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.inRawBlock=!1),e=e.substring(r[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):h(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,n=r[2],o=this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n))?(n=t[1],t[3]):"":r[3]?r[3].slice(1,-1):"",n=n.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(r,{href:s.escapes(n),title:s.escapes(o)}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),l+=this.renderer.strong(this.output(r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),l+=this.renderer.em(this.output(r[6]||r[5]||r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),l+=this.renderer.codespan(h(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),l+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),l+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.inRawBlock?l+=this.renderer.text(r[0]):l+=this.renderer.text(h(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===r[2])n="mailto:"+(i=h(r[0]));else{for(;a=r[0],r[0]=this.rules._backpedal.exec(r[0])[0],a!==r[0];);i=h(r[0]),n="www."===r[1]?"http://"+i:i}e=e.substring(r[0].length),l+=this.renderer.link(n,null,i)}return l},s.escapes=function(e){return e?e.replace(s.rules._escapes,"$1"):e},s.prototype.outputLink=function(e,t){var i=t.href,n=t.title?h(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,h(e[1]))},s.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦"):e},s.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,i="",n=e.length,o=0;o<n;o++)t=e.charCodeAt(o),.5<Math.random()&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},a.prototype.code=function(e,t,i){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(i=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+h(t,!0)+'">'+(i?e:h(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:h(e,!0))+"</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,i){if(this.options.sanitize){try{var n=decodeURIComponent(d(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return i}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return i}this.options.baseUrl&&!m.test(e)&&(e=p(this.options.baseUrl,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return i}var o='<a href="'+h(e)+'"';return t&&(o+=' title="'+t+'"'),o+">"+i+"</a>"},a.prototype.image=function(e,t,i){this.options.baseUrl&&!m.test(e)&&(e=p(this.options.baseUrl,e));var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+(this.options.xhtml?"/>":">")},a.prototype.text=function(e){return e},l.prototype.strong=l.prototype.em=l.prototype.codespan=l.prototype.del=l.prototype.text=function(e){return e},l.prototype.link=l.prototype.image=function(e,t,i){return""+i},l.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new s(e.links,this.options),this.inlineText=new s(e.links,v({},this.options,{renderer:new l})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop()},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,d(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,n,o="",r="";for(i="",e=0;e<this.token.header.length;e++)i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",n=0;n<t.length;n++)i+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});r+=this.renderer.tablerow(i)}return this.renderer.table(o,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,s,a);case"list_item_start":r="";var l=this.token.loose;for(this.token.task&&(r+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)r+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(r);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},h.escapeTest=/[&<>"']/,h.escapeReplace=/[&<>"']/g,h.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,h.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(){}function v(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function b(e,t){var i=e.replace(/\|/g,function(e,t,i){for(var n=!1,o=t;0<=--o&&"\\"===i[o];)n=!n;return n?"|":" |"}).split(/ \|/),n=0;if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function y(e,t,i){if(0===e.length)return"";for(var n=0;n<e.length;){var o=e.charAt(e.length-n-1);if(o!==t||i){if(o===t||!i)break;n++}else n++}return e.substr(0,e.length-n)}function _(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"==typeof t){i||(i=t,t=null);var n,r,s=(t=v({},_.defaults,t||{})).highlight,a=0;try{n=o.lex(e,t)}catch(e){return i(e)}r=n.length;var l=function(e){if(e)return t.highlight=s,i(e);var o;try{o=c.parse(n,t)}catch(o){e=o}return t.highlight=s,e?i(e):i(null,o)};if(!s||s.length<3)return l();if(delete t.highlight,!r)return l();for(;a<n.length;a++)!function(e){"code"!==e.type?--r||l():s(e.text,e.lang,function(t,i){return t?l(t):null==i||i===e.text?--r||l():(e.text=i,e.escaped=!0,void(--r||l()))})}(n[a])}else try{return t&&(t=v({},_.defaults,t)),c.parse(o.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||_.defaults).silent)return"<p>An error occurred:</p><pre>"+h(e.message+"",!0)+"</pre>";throw e}}g.exec=g,_.options=_.setOptions=function(e){return v(_.defaults,e),_},_.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new a,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},_.defaults=_.getDefaults(),_.Parser=c,_.parser=c.parse,_.Renderer=a,_.TextRenderer=l,_.Lexer=o,_.lexer=o.lex,_.InlineLexer=s,_.inlineLexer=s.output,_.parse=_,void 0!==t&&"object"==typeof i?t.exports=_:e.marked=_}(this||("undefined"!=typeof window?window:e))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,i){(function(i,n){var o;!function(){"use strict";(o=function(e,t,i,o){o=o||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=o.flags||{},this.memoized={},this.loaded=!1;var r,s,a,l,c,h=this;function d(e,t){var i=h._readFile(e,null,o.asyncLoad);o.asyncLoad?i.then(function(e){t(e)}):t(i)}function u(e){t=e,i&&f()}function p(e){i=e,t&&f()}function f(){for(h.rules=h._parseAFF(t),h.compoundRuleCodes={},s=0,l=h.compoundRules.length;s<l;s++){var e=h.compoundRules[s];for(a=0,c=e.length;a<c;a++)h.compoundRuleCodes[e[a]]=[]}for(s in"ONLYINCOMPOUND"in h.flags&&(h.compoundRuleCodes[h.flags.ONLYINCOMPOUND]=[]),h.dictionaryTable=h._parseDIC(i),h.compoundRuleCodes)0===h.compoundRuleCodes[s].length&&delete h.compoundRuleCodes[s];for(s=0,l=h.compoundRules.length;s<l;s++){var n=h.compoundRules[s],r="";for(a=0,c=n.length;a<c;a++){var d=n[a];d in h.compoundRuleCodes?r+="("+h.compoundRuleCodes[d].join("|")+")":r+=d}h.compoundRules[s]=new RegExp(r,"i")}h.loaded=!0,o.asyncLoad&&o.loadedCallback&&o.loadedCallback(h)}return e&&(h.dictionary=e,t&&i?f():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(r=o.dictionaryPath?o.dictionaryPath:"typo/dictionaries",t||d(chrome.extension.getURL(r+"/"+e+"/"+e+".aff"),u),i||d(chrome.extension.getURL(r+"/"+e+"/"+e+".dic"),p)):(r=o.dictionaryPath?o.dictionaryPath:void 0!==n?n+"/dictionaries":"./dictionaries",t||d(r+"/"+e+"/"+e+".aff",u),i||d(r+"/"+e+"/"+e+".dic",p))),this}).prototype={load:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},_readFile:function(t,n,o){if(n=n||"utf8","undefined"!=typeof XMLHttpRequest){var r,s=new XMLHttpRequest;return s.open("GET",t,o),o&&(r=new Promise(function(e,t){s.onload=function(){200===s.status?e(s.responseText):t(s.statusText)},s.onerror=function(){t(s.statusText)}})),s.overrideMimeType&&s.overrideMimeType("text/plain; charset="+n),s.send(null),o?r:s.responseText}if(void 0!==e){var a=e("fs");try{if(a.existsSync(t)){var l=a.statSync(t),c=a.openSync(t,"r"),h=new i(l.size);return a.readSync(c,h,0,h.length,null),h.toString(n,0,h.length)}console.log("Path "+t+" does not exist.")}catch(t){return console.log(t),""}}},_parseAFF:function(e){var t,i,n,o,r,s,a,l={},c=(e=this._removeAffixComments(e)).split("\n");for(o=0,s=c.length;o<s;o++){var h=(t=c[o]).split(/\s+/),d=h[0];if("PFX"==d||"SFX"==d){var u=h[1],p=h[2],f=[];for(a=(r=o+1)+(i=parseInt(h[3],10));r<a;r++){var m=(n=c[r].split(/\s+/))[2],g=n[3].split("/"),v=g[0];"0"===v&&(v="");var b=this.parseRuleCodes(g[1]),y=n[4],_={};_.add=v,0<b.length&&(_.continuationClasses=b),"."!==y&&(_.match="SFX"===d?new RegExp(y+"$"):new RegExp("^"+y)),"0"!=m&&(_.remove="SFX"===d?new RegExp(m+"$"):m),f.push(_)}l[u]={type:d,combineable:"Y"==p,entries:f},o+=i}else if("COMPOUNDRULE"===d){for(a=(r=o+1)+(i=parseInt(h[1],10));r<a;r++)n=(t=c[r]).split(/\s+/),this.compoundRules.push(n[1]);o+=i}else"REP"===d?3===(n=t.split(/\s+/)).length&&this.replacementTable.push([n[1],n[2]]):this.flags[d]=h[1]}return l},_removeAffixComments:function(e){return(e=(e=(e=e.replace(/^\s*#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){var t=(e=this._removeDicComments(e)).split("\n"),i={};function n(e,t){i.hasOwnProperty(e)||(i[e]=null),0<t.length&&(null===i[e]&&(i[e]=[]),i[e].push(t))}for(var o=1,r=t.length;o<r;o++){var s=t[o].split("/",2),a=s[0];if(1<s.length){var l=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||n(a,l);for(var c=0,h=l.length;c<h;c++){var d=l[c],u=this.rules[d];if(u)for(var p=this._applyRule(a,u),f=0,m=p.length;f<m;f++){var g=p[f];if(n(g,[]),u.combineable)for(var v=c+1;v<h;v++){var b=l[v],y=this.rules[b];if(y&&y.combineable&&u.type!=y.type)for(var _=this._applyRule(g,y),w=0,x=_.length;w<x;w++)n(_[w],[])}}d in this.compoundRuleCodes&&this.compoundRuleCodes[d].push(a)}}else n(a.trim(),[])}return i},_removeDicComments:function(e){return e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"!==this.flags.FLAG)return"num"===this.flags.FLAG?e.split(","):void 0;for(var t=[],i=0,n=e.length;i<n;i+=2)t.push(e.substr(i,2));return t},_applyRule:function(e,t){for(var i=t.entries,n=[],o=0,r=i.length;o<r;o++){var s=i[o];if(!s.match||e.match(s.match)){var a=e;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===t.type?a+=s.add:a=s.add+a,n.push(a),"continuationClasses"in s)for(var l=0,c=s.continuationClasses.length;l<c;l++){var h=this.rules[s.continuationClasses[l]];h&&(n=n.concat(this._applyRule(a,h)))}}}return n},check:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var i=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}var n=t.toLowerCase();if(n!==t){if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}return!1},checkExact:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t,i,n=this.dictionaryTable[e];if(void 0===n){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(t=0,i=this.compoundRules.length;t<i;t++)if(e.match(this.compoundRules[t]))return!0}else{if(null===n)return!0;if("object"==typeof n)for(t=0,i=n.length;t<i;t++)if(!this.hasFlag(e,"ONLYINCOMPOUND",n[t]))return!0}return!1},hasFlag:function(e,t,i){if(!this.loaded)throw"Dictionary not loaded.";return!(!(t in this.flags)||(void 0===i&&(i=Array.prototype.concat.apply([],this.dictionaryTable[e])),!i||-1===i.indexOf(this.flags[t])))},alphabet:"",suggest:function(e,t){if(!this.loaded)throw"Dictionary not loaded.";if(t=t||5,this.memoized.hasOwnProperty(e)){var i=this.memoized[e].limit;if(t<=i||this.memoized[e].suggestions.length<i)return this.memoized[e].suggestions.slice(0,t)}if(this.check(e))return[];for(var n=0,o=this.replacementTable.length;n<o;n++){var r=this.replacementTable[n];if(-1!==e.indexOf(r[0])){var s=e.replace(r[0],r[1]);if(this.check(s))return[s]}}var a=this;function l(e){var t,i,n,o,r,s,l=[];for(t=0,o=e.length;t<o;t++){var c=e[t];for(i=0,r=c.length+1;i<r;i++){var h=[c.substring(0,i),c.substring(i)];if(h[1]&&l.push(h[0]+h[1].substring(1)),1<h[1].length&&h[1][1]!==h[1][0]&&l.push(h[0]+h[1][1]+h[1][0]+h[1].substring(2)),h[1])for(n=0,s=a.alphabet.length;n<s;n++)a.alphabet[n]!=h[1].substring(0,1)&&l.push(h[0]+a.alphabet[n]+h[1].substring(1));if(h[1])for(n=0,s=a.alphabet.length;n<s;n++)l.push(h[0]+a.alphabet[n]+h[1])}}return l}return a.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[e]={suggestions:function(e){var i,n,o=l([e]),r=l(o),s=function(e){for(var t=[],i=0,n=e.length;i<n;i++)a.check(e[i])&&t.push(e[i]);return t}(o.concat(r)),c={};for(i=0,n=s.length;i<n;i++)s[i]in c?c[s[i]]+=1:c[s[i]]=1;var h=[];for(i in c)c.hasOwnProperty(i)&&h.push([i,c[i]]);h.sort(function(e,t){return e[1]<t[1]?-1:1}).reverse();var d=[],u="lowercase";for(e.toUpperCase()===e?u="uppercase":e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()===e&&(u="capitalized"),i=0,n=Math.min(t,h.length);i<n;i++)"uppercase"===u?h[i][0]=h[i][0].toUpperCase():"capitalized"===u&&(h[i][0]=h[i][0].substr(0,1).toUpperCase()+h[i][0].substr(1)),a.hasFlag(h[i][0],"NOSUGGEST")||d.push(h[i][0]);return d}(e),limit:t},this.memoized[e].suggestions}}}(),void 0!==t&&(t.exports=o)}).call(this,e("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(e,t,i){var n=e("codemirror");n.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentMore");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var i=Array(e.options.tabSize+1).join(" ");e.replaceSelection(i)}},n.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentLess");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var i=Array(e.options.tabSize+1).join(" ");e.replaceSelection(i)}}},{codemirror:11}],20:[function(e,t,i){"use strict";var n=e("codemirror");e("codemirror/addon/edit/continuelist.js"),e("./codemirror/tablist"),e("codemirror/addon/display/fullscreen.js"),e("codemirror/mode/markdown/markdown.js"),e("codemirror/addon/mode/overlay.js"),e("codemirror/addon/display/placeholder.js"),e("codemirror/addon/selection/mark-selection.js"),e("codemirror/addon/search/searchcursor.js"),e("codemirror/mode/gfm/gfm.js"),e("codemirror/mode/xml/xml.js");var o=e("codemirror-spell-checker"),r=e("marked"),s=/Mac/.test(navigator.platform),a=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),l={toggleBold:v,toggleItalic:b,drawLink:O,toggleHeadingSmaller:x,toggleHeadingBigger:C,drawImage:E,toggleBlockquote:w,toggleOrderedList:L,toggleUnorderedList:D,toggleCodeBlock:_,togglePreview:$,toggleStrikethrough:y,toggleHeading1:S,toggleHeading2:T,toggleHeading3:k,cleanBlock:A,drawTable:I,drawHorizontalRule:M,undo:j,redo:N,toggleSideBySide:P,toggleFullScreen:g},c={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},h=function(e){for(var t in l)if(l[t]===e)return t;return null},d=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t};function u(e){return s?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function p(e,t,i){var n,o,r,a,l="uploadImage"===(e=e||{}).name?document.createElement("a"):document.createElement("button");l.className=e.name,t=null==t||t,e.title&&t&&(l.title=(o=i,a=e.title,(n=e.action)&&o[r=h(n)]&&(a+=" ("+u(o[r])+")"),a),s&&(l.title=l.title.replace("Ctrl","â"),l.title=l.title.replace("Alt","â¥"))),e.noDisable&&l.classList.add("no-disable"),e.noMobile&&l.classList.add("no-mobile"),l.tabIndex=-1;var c=document.createElement("i");return c.className=e.className,l.appendChild(c),l}function f(e,t){t=t||e.getCursor("start");var i=e.getTokenAt(t);if(!i.type)return{};for(var n,o,r=i.type.split(" "),s={},a=0;a<r.length;a++)"strong"===(n=r[a])?s.bold=!0:"variable-2"===n?(o=e.getLine(t.line),/^\s*\d+\.\s/.test(o)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===n?s.quote=!0:"em"===n?s.italic=!0:"quote"===n?s.quote=!0:"strikethrough"===n?s.strikethrough=!0:"comment"===n?s.code=!0:"link"===n?s.link=!0:"tag"===n?s.image=!0:n.match(/^header(-[1-6])?$/)&&(s[n.replace("header","heading")]=!0);return s}var m="";function g(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(m=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=m;var i=t.getWrapperElement();if(/fullscreen/.test(i.previousSibling.className)?i.previousSibling.className=i.previousSibling.className.replace(/\s*fullscreen\b/,""):i.previousSibling.className+=" fullscreen",e.toolbarElements&&e.toolbarElements.fullscreen){var n=e.toolbarElements.fullscreen;/active/.test(n.className)?n.className=n.className.replace(/\s*active\s*/g,""):n.className+=" active"}var o=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(o.className)&&P(e),e.options.onToggleFullScreen&&e.options.onToggleFullScreen(t.getOption("fullScreen")||!1)}function v(e){R(e,"bold",e.options.blockStyles.bold)}function b(e){R(e,"italic",e.options.blockStyles.italic)}function y(e){R(e,"strikethrough","~~")}function _(e){var t=e.options.blockStyles.code;function i(e){if("object"!=typeof e)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf("formatting-code-block")}function n(e){return e.state.base.base||e.state.base}function o(e,t,o,r,s){o=o||e.getLineHandle(t),r=r||e.getTokenAt({line:t,ch:1}),s=s||!!o.text&&e.getTokenAt({line:t,ch:o.text.length-1});var a=r.type?r.type.split(" "):[];return s&&n(s).indentedCode?"indented":-1!==a.indexOf("comment")&&(n(r).fencedChars||n(s).fencedChars||i(o)?"fenced":"single")}var r,s,a,l,c,h,d,u,p,f,m,g,v=e.codemirror,b=v.getCursor("start"),y=v.getCursor("end"),_=v.getTokenAt({line:b.line,ch:b.ch||1}),w=v.getLineHandle(b.line),x=o(v,b.line,w,_);if("single"===x){var C=w.text.slice(0,b.ch).replace("`",""),S=w.text.slice(b.ch).replace("`","");v.replaceRange(C+S,{line:b.line,ch:0},{line:b.line,ch:99999999999999}),b.ch--,b!==y&&y.ch--,v.setSelection(b,y),v.focus()}else if("fenced"===x)if(b.line!==y.line||b.ch!==y.ch){for(r=b.line;0<=r&&!i(w=v.getLineHandle(r));r--);var T,k,D,L,A=n(v.getTokenAt({line:r,ch:1})).fencedChars;k=i(v.getLineHandle(b.line))?(T="",b.line):i(v.getLineHandle(b.line-1))?(T="",b.line-1):(T=A+"\n",b.line),i(v.getLineHandle(y.line))?(D="",L=y.line,0===y.ch&&(L+=1)):(D=0!==y.ch&&i(v.getLineHandle(y.line+1))?"":A+"\n",L=y.line+1),0===y.ch&&(L-=1),v.operation(function(){v.replaceRange(D,{line:L,ch:0},{line:L+(D?0:1),ch:0}),v.replaceRange(T,{line:k,ch:0},{line:k+(T?0:1),ch:0})}),v.setSelection({line:k+(T?1:0),ch:0},{line:L+(T?1:-1),ch:0}),v.focus()}else{var O=b.line;if(i(v.getLineHandle(b.line))&&(O="fenced"===o(v,b.line+1)?(r=b.line,b.line+1):(s=b.line,b.line-1)),void 0===r)for(r=O;0<=r&&!i(w=v.getLineHandle(r));r--);if(void 0===s)for(a=v.lineCount(),s=O;s<a&&!i(w=v.getLineHandle(s));s++);v.operation(function(){v.replaceRange("",{line:r,ch:0},{line:r+1,ch:0}),v.replaceRange("",{line:s-1,ch:0},{line:s,ch:0})}),v.focus()}else if("indented"===x){if(b.line!==y.line||b.ch!==y.ch)r=b.line,s=y.line,0===y.ch&&s--;else{for(r=b.line;0<=r;r--)if(!(w=v.getLineHandle(r)).text.match(/^\s*$/)&&"indented"!==o(v,r,w)){r+=1;break}for(a=v.lineCount(),s=b.line;s<a;s++)if(!(w=v.getLineHandle(s)).text.match(/^\s*$/)&&"indented"!==o(v,s,w)){s-=1;break}}var E=v.getLineHandle(s+1),I=E&&v.getTokenAt({line:s+1,ch:E.text.length-1});I&&n(I).indentedCode&&v.replaceRange("\n",{line:s+1,ch:0});for(var M=r;M<=s;M++)v.indentLine(M,"subtract");v.focus()}else{var j=b.line===y.line&&b.ch===y.ch&&0===b.ch,N=b.line!==y.line;j||N?(l=v,h=y,d=t,u=(c=b).line+1,p=h.line+1,m=d+"\n",g="\n"+d,(f=c.line!==h.line)&&p++,f&&0===h.ch&&(g=d+"\n",p--),z(l,!1,[m,g]),l.setSelection({line:u,ch:0},{line:p,ch:0})):z(v,!1,["`","`"])}}function w(e){F(e.codemirror,"quote")}function x(e){H(e.codemirror,"smaller")}function C(e){H(e.codemirror,"bigger")}function S(e){H(e.codemirror,void 0,1)}function T(e){H(e.codemirror,void 0,2)}function k(e){H(e.codemirror,void 0,3)}function D(e){F(e.codemirror,"unordered-list")}function L(e){F(e.codemirror,"ordered-list")}function A(e){!function(e){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))for(var t,i=e.getCursor("start"),n=e.getCursor("end"),o=i.line;o<=n.line;o++)t=(t=e.getLine(o)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(t,{line:o,ch:0},{line:o,ch:99999999999999})}(e.codemirror)}function O(e){var t=e.codemirror,i=f(t),n=e.options,o="https://";if(n.promptURLs&&!(o=prompt(n.promptTexts.link)))return!1;z(t,i.link,n.insertTexts.link,o)}function E(e){var t=e.codemirror,i=f(t),n=e.options,o="https://";if(n.promptURLs&&!(o=prompt(n.promptTexts.image)))return!1;z(t,i.image,n.insertTexts.image,o)}function I(e){var t=e.codemirror,i=f(t),n=e.options;z(t,i.table,n.insertTexts.table)}function M(e){var t=e.codemirror,i=f(t),n=e.options;z(t,i.image,n.insertTexts.horizontalRule)}function j(e){var t=e.codemirror;t.undo(),t.focus()}function N(e){var t=e.codemirror;t.redo(),t.focus()}function P(e){var t=e.codemirror,i=t.getWrapperElement(),n=i.nextSibling,o=e.toolbarElements&&e.toolbarElements["side-by-side"],r=!1;/editor-preview-active-side/.test(n.className)?(n.className=n.className.replace(/\s*editor-preview-active-side\s*/g,""),o&&(o.className=o.className.replace(/\s*active\s*/g,"")),i.className=i.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||g(e),n.className+=" editor-preview-active-side"},1),o&&(o.className+=" active"),i.className+=" CodeMirror-sided",r=!0);var s=i.lastChild;if(/editor-preview-active/.test(s.className)){s.className=s.className.replace(/\s*editor-preview-active\s*/g,"");var a=e.toolbarElements.preview,l=i.previousSibling;a.className=a.className.replace(/\s*active\s*/g,""),l.className=l.className.replace(/\s*disabled-for-preview*/g,"")}t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=function(){n.innerHTML=e.options.previewRender(e.value(),n)}),r?(n.innerHTML=e.options.previewRender(e.value(),n),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction),t.refresh()}function $(e){var t=e.codemirror,i=t.getWrapperElement(),n=i.previousSibling,o=!!e.options.toolbar&&e.toolbarElements.preview,r=i.lastChild;r&&/editor-preview/.test(r.className)||((r=document.createElement("div")).className="editor-preview",i.appendChild(r)),/editor-preview-active/.test(r.className)?(r.className=r.className.replace(/\s*editor-preview-active\s*/g,""),o&&(o.className=o.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){r.className+=" editor-preview-active"},1),o&&(o.className+=" active",n.className+=" disabled-for-preview")),r.innerHTML=e.options.previewRender(e.value(),r);var s=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(s.className)&&P(e)}function z(e,t,i,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var o,r=i[0],s=i[1],a={},l={};"function"!=typeof Object.assign&&"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");var i=Object(e);if(null===t)return i;for(var n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},writable:!0,configurable:!0}),Object.assign(a,e.getCursor("start")),Object.assign(l,e.getCursor("end")),n&&(s=s.replace("#url#",n)),t?(r=(o=e.getLine(a.line)).slice(0,a.ch),s=o.slice(a.ch),e.replaceRange(r+s,{line:a.line,ch:0})):(o=e.getSelection(),e.replaceSelection(r+o+s),a.ch+=r.length,a!==l&&(l.ch+=r.length)),e.setSelection(a,l),e.focus()}}function H(e,t,i){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n,o,r,s=e.getCursor("start"),a=e.getCursor("end"),l=s.line;l<=a.line;l++)n=l,o=void 0,r=(o=e.getLine(n)).search(/[^#]/),o=void 0!==t?r<=0?"bigger"==t?"###### "+o:"# "+o:6==r&&"smaller"==t?o.substr(7):1==r&&"bigger"==t?o.substr(2):"bigger"==t?o.substr(1):"#"+o:1==i?r<=0?"# "+o:r==i?o.substr(r+1):"# "+o.substr(r+1):2==i?r<=0?"## "+o:r==i?o.substr(r+1):"## "+o.substr(r+1):r<=0?"### "+o:r==i?o.substr(r+1):"### "+o.substr(r+1),e.replaceRange(o,{line:n,ch:0},{line:n,ch:99999999999999});e.focus()}}function F(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var i=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,n=/^\s*/,o=f(e),r=e.getCursor("start"),s=e.getCursor("end"),a={quote:/^(\s*)>\s+/,"unordered-list":i,"ordered-list":i},l=1,c=r.line;c<=s.line;c++)!function(r){var s,c,h,d,u=e.getLine(r);if(o[t])u=u.replace(a[t],"$1");else{var p=i.exec(u),f=(d=l,{quote:">","unordered-list":"*","ordered-list":"%%i."}[t].replace("%%i",d));u=null!==p?(s=t,c=p[2],h=new RegExp({quote:">","unordered-list":"*","ordered-list":"d+."}[s]),c&&h.test(c)&&(f=""),p[1]+f+p[3]+u.replace(n,"").replace(a[t],"$1")):f+" "+u,l+=1}e.replaceRange(u,{line:r,ch:0},{line:r,ch:99999999999999})}(c);e.focus()}}function R(e,t,i,n){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){n=void 0===n?i:n;var o,r=e.codemirror,s=f(r),a=i,l=n,c=r.getCursor("start"),h=r.getCursor("end");s[t]?(a=(o=r.getLine(c.line)).slice(0,c.ch),l=o.slice(c.ch),"bold"==t?(a=a.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),l=l.replace(/(\*\*|__)/,"")):"italic"==t?(a=a.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),l=l.replace(/(\*|_)/,"")):"strikethrough"==t&&(a=a.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),l=l.replace(/(\*\*|~~)/,"")),r.replaceRange(a+l,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(c.ch-=2,c!==h&&(h.ch-=2)):"italic"==t&&(c.ch-=1,c!==h&&(h.ch-=1))):(o=r.getSelection(),"bold"==t?o=(o=o.split("**").join("")).split("__").join(""):"italic"==t?o=(o=o.split("*").join("")).split("_").join(""):"strikethrough"==t&&(o=o.split("~~").join("")),r.replaceSelection(a+o+l),c.ch+=i.length,h.ch=c.ch+o.length),r.setSelection(c,h),r.focus()}}function U(e,t){for(var i in t)t.hasOwnProperty(i)&&(t[i]instanceof Array?e[i]=t[i].concat(e[i]instanceof Array?e[i]:[]):null!==t[i]&&"object"==typeof t[i]&&t[i].constructor===Object?e[i]=U(e[i]||{},t[i]):e[i]=t[i]);return e}function W(e){for(var t=1;t<arguments.length;t++)e=U(e,arguments[t]);return e}function B(e){var t=e.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),i=0;if(null===t)return i;for(var n=0;n<t.length;n++)19968<=t[n].charCodeAt(0)?i+=t[n].length:i+=1;return i}var q={bold:{name:"bold",action:v,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:b,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:y,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:x,className:"fa fa-header fa-heading",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:x,className:"fa fa-header fa-heading header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:C,className:"fa fa-header fa-heading header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:S,className:"fa fa-header fa-heading header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:T,className:"fa fa-header fa-heading header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:k,className:"fa fa-header fa-heading header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:_,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:w,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:D,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:L,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:A,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:O,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:E,className:"fa fa-image",title:"Insert Image",default:!0},table:{name:"table",action:I,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:M,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:$,className:"fa fa-eye",noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:P,className:"fa fa-columns",noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:g,className:"fa fa-arrows-alt",noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:j,className:"fa fa-undo",noDisable:!0,title:"Undo"},redo:{name:"redo",action:N,className:"fa fa-repeat fa-redo",noDisable:!0,title:"Redo"}},V={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},G={link:"URL for the link:",image:"URL of the image:"},X={bold:"**",code:"```",italic:"*"};function K(e){(e=e||{}).parent=this;var t=!0;if(!1===e.autoDownloadFontAwesome&&(t=!1),!0!==e.autoDownloadFontAwesome)for(var i=document.styleSheets,n=0;n<i.length;n++)i[n].href&&-1<i[n].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")&&(t=!1);if(t){var o=document.createElement("link");o.rel="stylesheet",o.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(o)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log("EasyMDE: Error. No element was found.");if(void 0===e.toolbar)for(var r in e.toolbar=[],q)q.hasOwnProperty(r)&&(-1!=r.indexOf("separator-")&&e.toolbar.push("|"),(!0===q[r].default||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(r))&&e.toolbar.push(r));e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=W({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=W({},V,e.insertTexts||{}),e.promptTexts=W({},G,e.promptTexts||{}),e.blockStyles=W({},X,e.blockStyles||{}),e.shortcuts=W({},c,e.shortcuts||{}),e.minHeight=e.minHeight||"300px",null!=e.autosave&&null!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue)}function Y(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return!1}return!0}K.prototype.markdown=function(e){if(r){var t;if(t=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{},this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting){var i=this.options.renderingConfig.hljs||window.hljs;i&&(t.highlight=function(e){return i.highlightAuto(e).value})}return r.setOptions(t),function(e){for(var t;null!==(t=a.exec(e));){var i=t[0];if(-1===i.indexOf("target=")){var n=i.replace(/>$/,' target="_blank">');e=e.replace(i,n)}}return e}(r(e))}},K.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t,i,r=this.options,s=this,a={};for(var c in r.shortcuts)null!==r.shortcuts[c]&&null!==l[c]&&function(e){a[u(r.shortcuts[e])]=function(){l[e](s)}}(c);if(a.Enter="newlineAndIndentContinueMarkdownList",a.Tab="tabAndIndentMarkdownList",a["Shift-Tab"]="shiftTabAndUnindentMarkdownList",a.Esc=function(e){e.getOption("fullScreen")&&g(s)},document.addEventListener("keydown",function(e){27==(e=e||window.event).keyCode&&s.codemirror.getOption("fullScreen")&&g(s)},!1),!1!==r.spellChecker?(t="spell-checker",(i=r.parsingConfig).name="gfm",i.gitHubSpice=!1,o({codeMirrorInstance:n})):((t=r.parsingConfig).name="gfm",t.gitHubSpice=!1),this.codemirror=n.fromTextArea(e,{mode:t,backdrop:i,theme:null!=r.theme?r.theme:"easymde",tabSize:null!=r.tabSize?r.tabSize:2,indentUnit:null!=r.tabSize?r.tabSize:2,indentWithTabs:!1!==r.indentWithTabs,lineNumbers:!1,autofocus:!0===r.autofocus,extraKeys:a,lineWrapping:!1!==r.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:r.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:null!=r.styleSelectedText?r.styleSelectedText:!d(),configureMouse:function(e,t,i){return{addNew:!1}}}),this.codemirror.getScrollerElement().style.minHeight=r.minHeight,!0===r.forceSync){var h=this.codemirror;h.on("change",function(){h.save()})}!(this.gui={})!==r.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==r.status&&(this.gui.statusbar=this.createStatusbar()),null!=r.autosave&&!0===r.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var p=this.codemirror;setTimeout(function(){p.refresh()}.bind(p),0)}},K.prototype.autosave=function(){if(Y()){var e=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to use the autosave feature");!0!==this.options.autosave.binded&&(null!=e.element.form&&null!=e.element.form&&e.element.form.addEventListener("submit",function(){clearTimeout(e.autosaveTimeoutId),e.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+e.options.autosave.uniqueId),setTimeout(function(){e.autosave()},e.options.autosave.delay||1e4)}),this.options.autosave.binded=!0),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value());var t=document.getElementById("autosaved");if(null!=t&&null!=t&&""!=t){var i=new Date,n=i.getHours(),o=i.getMinutes(),r="am",s=n;12<=s&&(s=n-12,r="pm"),0==s&&(s=12),o=o<10?"0"+o:o,t.innerHTML="Autosaved: "+s+":"+o+" "+r}this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}else console.log("EasyMDE: localStorage not available, cannot autosave")},K.prototype.clearAutosavedValue=function(){if(Y()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},K.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),i=t.nextSibling;if(i&&/editor-preview-side/.test(i.className)||((i=document.createElement("div")).className="editor-preview-side",t.parentNode.insertBefore(i,t.nextSibling)),!1===this.options.syncSideBySidePreviewScroll)return i;var n=!1,o=!1;return e.on("scroll",function(e){if(n)n=!1;else{o=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,r=parseFloat(e.getScrollInfo().top)/t,s=(i.scrollHeight-i.clientHeight)*r;i.scrollTop=s}}),i.onscroll=function(){if(o)o=!1;else{n=!0;var t=i.scrollHeight-i.clientHeight,r=parseFloat(i.scrollTop)/t,s=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*r;e.scrollTo(0,s)}},i},K.prototype.createToolbar=function(e){if((e=e||this.options.toolbar)&&0!==e.length){var t;for(t=0;t<e.length;t++)null!=q[e[t]]&&(e[t]=q[e[t]]);var i=document.createElement("div");i.className="editor-toolbar";var n=this,o={};for(n.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||!1!==n.options.toolbarGuideIcon)&&!(n.options.hideIcons&&-1!=n.options.hideIcons.indexOf(e[t].name)||("fullscreen"==e[t].name||"side-by-side"==e[t].name)&&d())){if("|"===e[t]){for(var r=!1,s=t+1;s<e.length;s++)"|"===e[s]||n.options.hideIcons&&-1!=n.options.hideIcons.indexOf(e[s].name)||(r=!0);if(!r)continue}!function(e){var t,r;t="|"===e?((r=document.createElement("i")).className="separator",r.innerHTML="|",r):p(e,n.options.toolbarTips,n.options.shortcuts),e.action&&("function"==typeof e.action?t.onclick=function(t){t.preventDefault(),e.action(n)}:"string"==typeof e.action&&(t.onclick=function(t){t.preventDefault(),window.open(e.action,"_blank")})),o[e.name||e]=t,i.appendChild(t)}(e[t])}n.toolbarElements=o;var a=this.codemirror;a.on("cursorActivity",function(){var e,t,i=f(a);for(var n in o)t=void 0,t=o[e=n],i[e]?t.className+=" active":"fullscreen"!=e&&"side-by-side"!=e&&(t.className=t.className.replace(/\s*active\s*/g,""))});var l=a.getWrapperElement();return l.parentNode.insertBefore(i,l),i}},K.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,i=this.codemirror;if(e&&0!==e.length){var n,o,r,s=[];for(n=0;n<e.length;n++)if(r=o=void 0,"object"==typeof e[n])s.push({className:e[n].className,defaultValue:e[n].defaultValue,onUpdate:e[n].onUpdate});else{var a=e[n];"words"===a?(r=function(e){e.innerHTML=B(i.getValue())},o=function(e){e.innerHTML=B(i.getValue())}):"lines"===a?(r=function(e){e.innerHTML=i.lineCount()},o=function(e){e.innerHTML=i.lineCount()}):"cursor"===a?(r=function(e){e.innerHTML="0:0"},o=function(e){var t=i.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===a&&(r=function(e){null!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute("id","autosaved")}),s.push({className:a,defaultValue:r,onUpdate:o})}var l=document.createElement("div");for(l.className="editor-statusbar",n=0;n<s.length;n++){var c=s[n],h=document.createElement("span");h.className=c.className,"function"==typeof c.defaultValue&&c.defaultValue(h),"function"==typeof c.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(h,c)),l.appendChild(h)}var d=this.codemirror.getWrapperElement();return d.parentNode.insertBefore(l,d.nextSibling),l}},K.prototype.value=function(e){var t=this.codemirror;if(void 0===e)return t.getValue();if(t.getDoc().setValue(e),this.isPreviewActive()){var i=t.getWrapperElement().lastChild;i.innerHTML=this.options.previewRender(e,i)}return this},K.toggleBold=v,K.toggleItalic=b,K.toggleStrikethrough=y,K.toggleBlockquote=w,K.toggleHeadingSmaller=x,K.toggleHeadingBigger=C,K.toggleHeading1=S,K.toggleHeading2=T,K.toggleHeading3=k,K.toggleCodeBlock=_,K.toggleUnorderedList=D,K.toggleOrderedList=L,K.cleanBlock=A,K.drawLink=O,K.drawImage=E,K.drawTable=I,K.drawHorizontalRule=M,K.undo=j,K.redo=N,K.togglePreview=$,K.toggleSideBySide=P,K.toggleFullScreen=g,K.prototype.toggleBold=function(){v(this)},K.prototype.toggleItalic=function(){b(this)},K.prototype.toggleStrikethrough=function(){y(this)},K.prototype.toggleBlockquote=function(){w(this)},K.prototype.toggleHeadingSmaller=function(){x(this)},K.prototype.toggleHeadingBigger=function(){C(this)},K.prototype.toggleHeading1=function(){S(this)},K.prototype.toggleHeading2=function(){T(this)},K.prototype.toggleHeading3=function(){k(this)},K.prototype.toggleCodeBlock=function(){_(this)},K.prototype.toggleUnorderedList=function(){D(this)},K.prototype.toggleOrderedList=function(){L(this)},K.prototype.cleanBlock=function(){A(this)},K.prototype.drawLink=function(){O(this)},K.prototype.drawImage=function(){E(this)},K.prototype.drawTable=function(){I(this)},K.prototype.drawHorizontalRule=function(){M(this)},K.prototype.undo=function(){j(this)},K.prototype.redo=function(){N(this)},K.prototype.togglePreview=function(){$(this)},K.prototype.toggleSideBySide=function(){P(this)},K.prototype.toggleFullScreen=function(){g(this)},K.prototype.isPreviewActive=function(){var e=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(e.className)},K.prototype.isSideBySideActive=function(){var e=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(e.className)},K.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},K.prototype.getState=function(){return f(this.codemirror)},K.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t.exports=K},{"./codemirror/tablist":19,codemirror:11,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/search/searchcursor.js":9,"codemirror/addon/selection/mark-selection.js":10,"codemirror/mode/gfm/gfm.js":12,"codemirror/mode/markdown/markdown.js":13,"codemirror/mode/xml/xml.js":15,marked:17}]},{},[20])(20)});var dashboardTypeId="#sync_report_viewer",parentRefUrl=window.location!=window.parent.location?document.referrer:document.location.href.replace(document.location.pathname+document.location.search,"");if(""==parentRefUrl)var parentUrl="";else parentUrl=parentRefUrl.match(/:\/\/(.[^/]+)/)[1];var iframeRefUrl=window.location.href,iframeUrl=iframeRefUrl.match(/:\/\/(.[^/]+)/)[1],commentAction={Add:0,Edit:1,Delete:2,GetComments:3},date=new Date;function GetAllComments(e,t,i,n){var o={orderBy:n,skip:0,take:0,itemType:t,itemId:e,dashboardItemId:i,commentAction:commentAction.GetComments,parentDashboardId:parentDashboardId};showWaitingPopup("parent-scroll-element"),getAllCommentAjax=parent.ajaxPostCall("POST",getAllCommentsUrl,o,null,getCommentsResult,null,completeCommentResult)}function completeCommentResult(e){$(".post-message > p > img").on("load",function(){refreshCommentScroller()}),generateProfileAvatar()}function getCommentsResult(e){if(e){if(1==e.Status){$(".view-heading").css("display","block"),parent.$("#commentModuleContainer").hasClass("displayNone")?$($(".header-section a")[0]).css("display","none"):($($(".header-section a")[0]).css("display","block"),parent.$("#widget-loader-icon").hide());var t=ConstructTree(e.Comments,null);$(".comment-list").html(t),$(".comment-list").find(".post").find(".post").find(".children").addClass("no-left-padding"),$("#comment_count").text(e.ActiveCommentsCount),0==e.ActiveCommentsCount&&($("#comment_action_slider").click(),$(".additional-content").html("<h7>"+window.Server.App.LocalizationContent.NoComments+"</h7>")),$('[data-bs-toggle="tooltip"]').tooltip(),hideWaitingPopup("parent-scroll-element"),$("body").removeClass("displayNone"),refreshCommentScroller();document.URL;if(parent.document.URL.indexOf("comment=")>-1){var i="#comment-"+getUrlVars(parent.document.URL.split("#")[0]).comment;if($(i).find("span.time-ago:first").click(),$(i).find(".post-content:first").css({"background-color":"#F4E4AE"}),parent.document.URL.indexOf("isreply=true")>-1&&$(i).find(".reply-comment").first().click(),i_am_ie9){$(i).find(".post-content:first").css("backgroundColor","hsl(46,76%,82%");for(var n=3e3,o=82;o<=100;o+=.1)(function(e,t){setTimeout(function(){$(i).find(".post-content:first").css("backgroundColor","hsl(46,76%,"+e+"%)")},t)})(o,n+=10)}else setTimeout(function(){$(i).find(".post-content:first").css({transition:"background-color 10s ease-in-out","background-color":"inherit"})},40),setTimeout(function(){$(i).find(".post-content:first").attr("style","")},7e3)}addTarget_blank()}else hideWaitingPopup("parent-scroll-element");-1==parent.document.URL.indexOf("comment=")&&refreshCommentScroller()}}function refreshCommentScroller(){var e;if(e=$("#comment_action_area").hasClass("isHide")?$("#comment_submit_container").outerHeight():$("#comment_action_area").outerHeight(),"true"!=$("#isWidgetComment").val()){parent.$("#comment-module-container-loader-icon").hide(),$("#scroll-element").children().addClass("e-content");var t=parent.$("#commentModuleContainer").height()-(e+$(".count-sort").outerHeight()+$(".header-section").outerHeight()),i=parent.$("#commentModuleContainer").width()-2;$("#scroll-element").ejScroller({height:t,width:i,scrollerSize:7,buttonSize:0,enableTouchScroll:"false"!==parent.$("#is_mobile").val()});var n=$("#scroll-element").ejScroller("instance");n.model.height=t,n.refresh()}}function ConstructTree(e,t){generateProfileAvatar();var i="";if(null!=e)for(var n=0;n<e.length;n++){var o=0;if(e[n].Replies.length>0)for(var r=0;r<e[n].Replies.length;r++)e[n].Replies[r].IsActive&&(o+=1);e[n].IsActive?(i+="<li id='comment-"+e[n].Id+"'data-comment-id='"+e[n].Id+"' class='post'><div class='post-content'><div class='avatar-container'> <div class='user' data-userid='"+e[n].UserId+"'><div class='profile-pic-tag avatar' data-id='"+e[n].IdPReferenceId+"' data-type='user' data-display-name='"+e[n].UserDisplayName+"' data-image-size='32'  data-bs-toggle='tooltip' title='"+e[n].UserDisplayName+"' data-bs-placement='bottom'></div></div></div><div class='post-body'> <header><span class='post-byline col-5 no-padding'><span title='"+e[n].UserDisplayName+"'class='author publisher-anchor-color'>"+e[n].UserDisplayName+"</span></span><menu>",i+="<li class='reply' title='"+window.Server.App.LocalizationContent.ReplyButton+"'  data-bs-toggle='tooltip' data-bs-placement='bottom'> <a class='reply-comment'><span class='su su-reply'></span> </a></li>","true"!=$("#isadmin").text().toLowerCase()&&e[n].UserId!=$("#userName").val()&&null===t||(i+="<span class='dropdown-toggle option-icon' title='"+window.Server.App.LocalizationContent.Action+"' data-bs-toggle='dropdown'><span class='su su-options-horizontal'></span></span><ul class='dropdown-menu' role='menu'>",e[n].UserId==$("#userName").val()&&(i+="<li class='edit' title='"+window.Server.App.LocalizationContent.EditButton+"'  data-bs-toggle='tooltip' data-bs-placement='top'> <a class='edit-comment'><span>"+window.Server.App.LocalizationContent.EditButton+"</span> </a></li>"),"true"!=$("#isadmin").text().toLowerCase()&&e[n].UserId!=$("#userName").val()||(i+="<li class='delete' title='"+window.Server.App.LocalizationContent.Delete+"'  data-bs-toggle='tooltip' data-bs-placement='top'> <a class='delete-comment'><span>"+window.Server.App.LocalizationContent.Delete+"</span> </a></li>"),null!=t&&(i+="<li class='parent' data-parent-id='"+t.Id+"' title='"+window.Server.App.LocalizationContent.Replied+" "+t.UserDisplayName+"'  data-bs-toggle='tooltip' data-bs-placement='top'> <a class='parent-name'><span>"+window.Server.App.LocalizationContent.ShowParent+"</span> </a></li></ul>")),i+="</menu><span class='post-meta col-9 no-padding'><a "+commentPermalinkHelper(e[n].Id)+" class='permalink'><span class='time-ago' title='"+e[n].Id+"'class='permalink'><span class='time-ago' title='"+e[n].CreatedDateString+" - "+e[n].TimeZoneName+"'data-html='false'  data-bs-toggle='tooltip' data-bs-placement='right'>"+e[n].TimeAgo+"</span></a></span> </header> <div class='post-body-inner'><div class='edit-post displayNone'></div><div class='post-message'>"+SplitUserDisplayName(SanitizeHtml(customMarkdownParser(e[n].MarkdownComment)),SanitizeHtml(e[n].MarkdownComment))+"</div><div class='markDownComment d-none'>"+SanitizeHtml(e[n].MarkdownComment)+"</div> </div></div><div class='reply-form-container displayNone'></div><div class='col-12 reply-count "+(o>0?"hasChild":"")+"'><div class='col-6 child-count'><span class='count-text'>"+o+"</span><span class='count-label'>"+(1!=o?window.Server.App.LocalizationContent.Replies:window.Server.App.LocalizationContent.ReplyMessage)+"</span></div><div class='col-6 no-padding collapse-icon-container'><span class='su ",i+=o>0?"su-vertical-collapse collapse-icon' title='"+window.Server.App.LocalizationContent.Collapse+"'></span>":"collapse-icon' data-bs-toggle='collapse'></span>",i+="</div></div></div><ul class='children'>"):(i+="<li id='comment-"+e[n].Id+"'data-comment-id='"+e[n].Id+"' class='post'><div class='post-content'><div class='avatar-container'><div class='profile-pic-tag avatar' data-id='"+e[n].IdPReferenceId+"' data-type='user' data-display-name='"+e[n].UserDisplayName+"' data-image-size='32'></div></div><div class='post-body'> <header><span class='post-byline col-5 no-padding'></span><span class='post-meta col-9 hidden no-padding'><a "+commentPermalinkHelper(e[n].Id)+" class='permalink'><span class='time-ago' title='"+e[n].CreatedDateString+" - "+e[n].TimeZoneName+"'data-html='false'  data-bs-toggle='tooltip' data-bs-placement='right'>"+e[n].TimeAgo+"</span></a></span><menu class='deleted-post'><li class='reply' > <span class='su su-reply'></span> </li><span class='dropdown-toggle option-icon' ><span class='su su-options-horizontal'></span></span></menu></header> <div class='post-body-inner'><div class='post-message deleted-message'><span class='su su-warning'></span><span>"+window.Server.App.LocalizationContent.DeletedMessage+"</span></div> </div></div><div class='col-12 reply-count "+(o>0?"hasChild":"")+"'><div class='col-6 child-count'><span class='count-text'>"+o+"</span><span class='count-label'>"+(1!=o?window.Server.App.LocalizationContent.Replies:window.Server.App.LocalizationContent.ReplyMessage)+"</span></div><div class='col-6 no-padding'>",o>0&&(i+="<span class='su su-vertical-collapse collapse-icon' data-bs-toggle='collapse'</span>"),i+="</div></div></div><ul class='children'>"),e[n].Replies.length>0?i+=ConstructTree(e[n].Replies,e[n])+"</ul> </li>":i+="</ul> </li>"}return i}function customMarkdownParser(e){var t=[],i=[],n=[],o=/(?:\@\ (.*?)Â )/g,r=$("#itemType").attr("data-item-type").toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()}),s=new EasyMDE({element:$("#temp")[0],spellChecker:!1,autoDownloadFontAwesome:!1}),a=e;if(null!=(t=a.match(/(?:\@Â (\[.*?\])Â )/g))){t=jQuery.unique(t);for(var l=0;l<t.length;l++){var c=SplitUserDisplayName(t[l],t[l]);a=a.replace(t[l],"<span class='cm-usercontainer'>"+c+"</span>")}}if(null!=(i=a.match(o))){i=jQuery.unique(a.match(o));for(l=0;l<i.length;l++){var h=new RegExp(i[l],"g");a=a.replace(h,"<span class='cm-groupcontainer'>"+i[l]+"</span>")}}if(null!=(n=a.match(/(@all)/g))){n=jQuery.unique(n);for(l=0;l<n.length;l++){h=new RegExp(n[l],"g");a=a.replace(n[l],"<span class='cm-allcontainer'>"+n[l]+"</span>")}}a=s.options.previewRender(a);for(var d=$("<div></div>").html(a),u=$(d).find("a"),p=0;p<u.length;p++)u[p].setAttribute("target","_blank");var f=$(d).find("img");for(p=0;p<f.length;p++)if(f[p].setAttribute("target","_blank"),-1!==f[p].src.indexOf("image-")){var m=f[p].src.split("/");for(l=0;l<m.length;l++)-1!==m[l].indexOf("image-")&&(f[p].src=rootUrl+"/content/images/commentimages/"+r+"/"+itemId+"/"+m[l])}return a=$(d).html()}function renderMde(e){var t=new EasyMDE({element:$(e)[0],status:!1,spellChecker:!1,autoDownloadFontAwesome:!1,toolbar:[{name:"bold",action:EasyMDE.toggleBold,className:"su su-bold",title:window.Server.App.LocalizationContent.Bold},{name:"italic",action:EasyMDE.toggleItalic,className:"su su-italic",title:window.Server.App.LocalizationContent.Italic},{name:"heading",action:EasyMDE.toggleHeadingSmaller,className:"su su-header",title:window.Server.App.LocalizationContent.Heading},"|",{name:"quote",action:EasyMDE.toggleBlockquote,className:"su su-quote",title:window.Server.App.LocalizationContent.Quote},{name:"unordered-list",action:EasyMDE.toggleUnorderedList,className:"su su-list-ul",title:window.Server.App.LocalizationContent.Generic},{name:"ordered-list",action:EasyMDE.toggleOrderedList,className:"su su-list-ol",title:window.Server.App.LocalizationContent.Number},"|",{name:"link",action:EasyMDE.drawLink,className:"su su-link",title:window.Server.App.LocalizationContent.Link},{name:"image",action:EasyMDE.drawImage,className:"su su-image",title:window.Server.App.LocalizationContent.Image},{name:"uploadImage",className:"su su-upload-image",title:window.Server.App.LocalizationContent.UploadImage},{name:"preview",action:EasyMDE.togglePreview,className:"su su-preview no-disable",title:window.Server.App.LocalizationContent.Preview}],previewRender:function(e){return customMarkdownParser(e)}});return"comment-image-file"==$(".su-upload-image").attr("id")?$(".su-upload-image").attr("id","comment-image-edit-file"):$(".su-upload-image").attr("id","comment-image-file"),t}function getUrlVars(e){var t={};e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,i,n){t[i]=n});return t}function addTarget_blank(){$("ul#commentList li .post-message").find("a").attr("target","_blank")}function truncateUrl(){var e=parent.window.location.href.split("#")[0],t=e.indexOf("?comment="),i=e.indexOf("&comment="),n=e.substr(0,e.indexOf("/reports")+1);return n.length>0&&(e=e.replace(n,"/")),t>0?e=e.slice(0,e.lastIndexOf("?comment=")):i>0&&(e=e.slice(0,e.lastIndexOf("&comment="))),e}function getRelativePath(e){var t=$("#itemType").attr("data-item-type").toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()}),i=e.match(/(?:\!\[\]\((.*?)\))/g),n=[];if(null!=i){for(var o=0;o<i.length;o++)n[o]=i[o].split(/[\(\\!\[\ \]\\)\s]+/),n[o]=$.grep(n[o],function(e){return e});for(var r="",s=0;s<n.length;s++)n[s]=n[s].toString(),-1!==n[s].indexOf("image-")&&""!=(r=rootUrl+"/content/images/commentimages/"+t+"/"+itemId+"/"+n[s])&&(n[s]="![]("+n[s]+")",r="![]("+r+")",e=e.replace(n[s],r))}return e}function pasteImageReader(e){var t=e,i=$("#itemType").attr("data-item-type").toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()}),n={DataUrl:t,itemId:itemId,itemType:i,parentDashboardId:parentDashboardId};parent.ajaxPostCall("POST",commentImageUrl,n,null,pasteCommentImages,null,null)}function pasteCommentImages(e){if(""!==e&&-1!==e.indexOf("image-")){var t=" ![]("+e+")";cursorPos.codemirror.replaceSelection(t),hideWaitingPopup("parent-scroll-element")}else hideWaitingPopup("parent-scroll-element")}function autoCompletes(e,t){var i=function(e){return window.event?e.keyCode:e.which?e.which:void 0}(e);if(38===i)(n=jQuery.Event("keydown")).keyCode=38,n.which=38,$("#autocomplete-input").trigger(n);else if(40===i){var n;(n=jQuery.Event("keydown")).keyCode=40,n.which=40,$("#autocomplete-input").trigger(n)}else if(13===i){e.preventDefault();$("ul.e-ul li.e-hover").attr("id")}else autoCompleteRefresh(t),$("#autocomplete-input").val(t),$("#autocomplete-input").ejAutocomplete("enable"),$("#autocomplete-input").ejAutocomplete("search"),$("#autocomplete-input").ejAutocomplete("hide")}function getCaretCharacterOffsetWithin(e){var t,i=0,n=e.ownerDocument||e.document,o=n.defaultView||n.parentWindow;if(void 0!==o.getSelection){if((t=o.getSelection()).rangeCount>0){var r=o.getSelection().getRangeAt(0),s=r.cloneRange();s.selectNodeContents(e),s.setEnd(r.endContainer,r.endOffset),i=s.toString().length}}else if((t=n.selection)&&"Control"!=t.type){var a=t.createRange(),l=n.body.createTextRange();l.moveToElementText(e),l.setEndPoint("EndToEnd",a),i=l.text.length}return i}function onSelect(e){var t;$("#scroll-element").ejScroller("enable");var i,n=$("ul.e-ul li.e-hover").attr("id");""!=n&&null!=n&&null!=n&&(""!=(i=n.split("-"))&&null!=i&&null!=i&&(t=i[0],n.split(/-(.+)?/)[1]));var o=initialPosition.line,r=initialPosition.ch,s=initialLine.length;targetElement.focus(),cursorPos.codemirror.setSelection({line:o,ch:0},{line:o,ch:s}),cursorPos.codemirror.replaceSelection(initialLine),cursorPos.codemirror.setSelection({line:o,ch:r},{line:o,ch:r}),"User"==t?cursorPos.codemirror.replaceSelection("@Â ["+e.item.Name+"|~"+e.item.IdPReferenceId+"]Â "):cursorPos.codemirror.replaceSelection("@ "+e.value+"Â "),$("#autocomplete-input").ejAutocomplete("disable"),$("#autocomplete-input_suggestion").attr("style","display:none !important;")}function onOpen(){var e=$("#autocomplete-input").data("ejAutocomplete").scrollerObj;e.model.height=135,e.model.buttonSize=0,e.model.scrollerSize=9,e.refresh(),$("#autocomplete-input_suggestion").attr("style","display:block !important; z-index: 9;");var t=document.getElementById("autocomplete");if($(t).length){var i=$(t)[0].getBoundingClientRect(),n=i.left,o=i.top+30,r=$("#autocomplete-input_suggestion").width();$("#autocomplete-input_suggestion").height(),$(parent.$("#commentModuleContainer")[0]).height(),$(parent.$("#commentModuleContainer")[0]).width()>n+r?$("#autocomplete-input_suggestion").css("left",n):$("#autocomplete-input_suggestion").css("left",n-r+16);$("#autocomplete-input_suggestion").css("top",o),$("#autocomplete-input_suggestion").addClass("usermention-suggestionlist")}}function autoCompleteRefresh(e){var t=e;clearTimeout(window.timer),window.timer=setTimeout(function(){autosuggestion(t)},400)}function autosuggestion(e){$.xhrPool.abortAll();var t=parent.$("#dashboard_Comment").attr("data-item-id");if($("#autocomplete-input_suggestion").css("display","none"),""!=e.trim()){var i={searchWord:e,itemId:t,parentDashboardId:parent.$("#isMultiDashboard").attr("data-parent-id")};parent.ajaxPostCall("GET",userMentionDataSourceUrl,i,null,userMentionDataList,null,null)}}function userMentionDataList(e){$("#autocomplete-input_suggestion").css("display","none");var t=$("#autocomplete-input").data("ejAutocomplete");t.model.dataSource=JSON.parse(e),t._OnTextEnter(),onOpen()}function splitUserMention(e){var t=$(e).children().find(".CodeMirror-code"),n=!1,o=[],r=[],s=[],a=[],l=[],c=/(?:\@Â (.*?)Â )/,h=/(?:\@\ (.*?)Â )/,d=$(t)[0].getElementsByClassName("cm-usercontainer"),u=$(t)[0].getElementsByClassName("cm-groupcontainer"),p=$(t)[0].getElementsByClassName("cm-allcontainer");if(d.length)for(i=0;i<d.length;i++)s[i]=c.exec(d[i].textContent),s[i]&&o.push(s[i][1].replaceAll("[","").replaceAll("]",""));if(u.length)for(i=0;i<u.length;i++)s[i]=h.exec(u[i].textContent),s[i]&&r.push(s[i][1]);return p.length?n=!0:($.each(o,function(e,t){-1===$.inArray(t,a)&&a.push(t)}),$.each(r,function(e,t){-1===$.inArray(t,l)&&l.push(t)})),{uniqueUsersValue:a,uniqueGroupValue:l,mentionedAll:n}}function userMentionInitializing(e,t){var i=e.target,n=e.keyCode?e.keyCode:e.which;cursorPos.value();if(64===n&&(targetElement=i,0==$("#autocomplete-trigger").length)){var o='<span id="autocomplete"><span id="autocomplete-trigger">@</span><span id="autocomplete-search-text" contenteditable></span></span>';cursorPos.codemirrorIgnore;var r=cursorPos.codemirror.getCursor();initialPosition=r;var s=r.line,a=r.ch,l=cursorPos.codemirror.getLine(s);initialLine=l;var c=l.length,h="",d=cursorPos.codemirror.findWordAt({line:s,ch:a}).anchor.ch,u=cursorPos.codemirror.findWordAt({line:s,ch:a}).head.ch;if(d==u-1&&c==a||0==d&&0==u||" "==l[a-1]&&null==l[a])(p=$(t).children().find(".CodeMirror-code").children())&&($(p[s].firstChild).append(o),h=$("#autocomplete-search-text"),$(h[0]).focus()),e.preventDefault(),$("#scroll-element").ejScroller("disable");else if(a==d||" "==l[a-1]&&(" "==l[a+1]||" "==l[a])){cursorPos.codemirror.setSelection({line:s,ch:a},{line:s,ch:c});var p,f=cursorPos.codemirror.getSelection();if(cursorPos.codemirror.replaceSelection(""),p=$(t).children().find(".CodeMirror-code").children()){var m=p[s].firstChild;$(m).append(o),m.append(f),h=$("#autocomplete-search-text"),$(h[0]).focus()}e.preventDefault(),$("#scroll-element").ejScroller("disable")}$("#autocomplete-search-text").on("keydown",function(e){var t=e.keyCode?e.keyCode:e.which,n=$("#autocomplete-search-text").text(),o=getCaretCharacterOffsetWithin(document.getElementById("autocomplete-search-text"));8===t&&0==o&&($("#autocomplete-input_suggestion").css("display","none"),removingUserMentionContainer(i,n,s,a,c,l))}),$("#autocomplete-search-text").on("blur",function(e){$("#scroll-element").ejScroller("enable")}),$("#autocomplete-search-text").on("keyup",function(e){var t=e.keyCode?e.keyCode:e.which;$("#scroll-element").ejScroller("enable");var n=$("#autocomplete-search-text").text();getCaretCharacterOffsetWithin(document.getElementById("autocomplete-search-text"));if(27===t||33===t||9===t||36===t)removingUserMentionContainer(i,n,s,a,c,l);else if(13===t){e.preventDefault();var o=$("ul.e-ul li.e-hover").attr("id"),r=$("ul.e-ul li.e-hover").text();if(""!=r&&"No suggestions"!=r)onSelect({id:o,value:r});else removingUserMentionContainer(i,n,s,a,c,l)}else if(38!=t&&40!=t)autoCompletes(e,n);else autoCompletes(e,n)}),$(".CodeMirror").on("click",function(){var e="";$("#autocomplete-search-text").length&&$("#autocomplete").length&&(e=(e="@"+$("#autocomplete-search-text").text()).trim(),i.focus(),cursorPos.codemirror.setSelection({line:initialPosition.line,ch:0},{line:initialPosition.line,ch:initialLine.length}),cursorPos.codemirror.replaceSelection(initialLine),cursorPos.codemirror.setSelection({line:initialPosition.line,ch:initialPosition.ch},{line:initialPosition.line,ch:initialPosition.ch}),cursorPos.codemirror.replaceSelection(e),$("#autocomplete-input").ejAutocomplete("disable"),$("#autocomplete-input_suggestion").attr("style","display:none !important;"))})}}function displaySuggestionList(){$("#autocomplete-input_suggestion").css("display","none")}function removingUserMentionContainer(e,t,i,n,o,r){$("#scroll-element").ejScroller("enable");var s="";$("#autocomplete-search-text").length&&$("#autocomplete").length&&(s=(s="@"+t).trim(),$("#autocomplete-input").ejAutocomplete("disable"),$("#autocomplete-input_suggestion").attr("style","display:none !important;"),e.focus(),cursorPos.codemirror.setSelection({line:i,ch:0},{line:i,ch:o}),cursorPos.codemirror.replaceSelection(r),cursorPos.codemirror.setSelection({line:i,ch:n},{line:i,ch:n}),cursorPos.codemirror.replaceSelection(s),$("#autocomplete-input").ejAutocomplete("disable"),$("#autocomplete-input_suggestion").attr("style","display:none !important;"))}function closeComments(){$(".view-heading").css("display","none"),$(".header-section a").css("display","none"),parent.$("#commentImage_popup").ejDialog("close"),parent.$("#commentModuleContainer").addClass("displayNone"),parent.$("#delete_popup_iframe").addClass("displayNone"),parent.$("#dashboard-comment").removeClass(" highlight-icon"),parent.$("#widgetCommentModuleContainer").addClass("displayNone"),"true"==parent.$("#is_mobile").val()&&(parent.$(dashboardTypeId).show(),parent.$("#server-mobile-navbar .server-comment").hasClass("active")&&(parent.$("#server-mobile-navbar a.active").removeClass("active"),parent.$("#server-mobile-navbar .su-nav-dashboard").addClass("active"))),parent.$(".options").css("right","0px"),parent.$(".options li").removeClass("active"),iframeUrl==parentUrl?parent.$(dashboardTypeId).css("width",$(parent.window).width()):parent.$(".su-sidebar-collapse").is(":visible")||(parent.$(dashboardTypeId).css("width",parent.document.body.clientWidth-40),$(parent.parent.document.body).find("#item-viewer").css("width",parent.document.body.clientWidth-5))}function ajaxSetup(){$.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.xhrPool.length=0},$.ajaxSetup({beforeSend:function(e){$.xhrPool.push(e)},complete:function(e){var t=$.xhrPool.indexOf(e);t>-1&&$.xhrPool.splice(t,1)}})}function commentPermalinkHelper(e){return"href='#comment-"+e+"'"}function SplitUserDisplayName(e,t){var i=/\[|\]\\|\|\~.*?]/g,n=t.match(/(?:\@Â (.*?)Â )/g);return null!=n&&$.each(n,function(t,n){var o=n.replace(i,"");e=e.replace(n,o)}),e}function SanitizeHtml(e){return e.replace(/<\s*script[^>]*>/gi,"").replace(/<\s*\/\s*script\s*>/gi,"")}
/*!
*  filename: ej.core.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/$(document).ready(function(){dataManager=null,ajaxSetup();var e=ej.Query().from("userMentionList").select("Name","Type");$("#autocomplete-input").ejAutocomplete({allowSorting:!1,dataSource:dataManger,width:"200px",popupHeight:"135px",filterType:"contains",query:e,fields:{text:"Name",key:"Type"},select:"onSelect",create:"displaySuggestionList",actionSuccess:"displaySuggestionList",open:"displaySuggestionList"});var t=void 0!==$("#itemType").attr("data-item-type")?$("#itemType").attr("data-item-type").toLowerCase():"report",i=parent.$("#dashboard_Comment").attr("data-item-id"),n=parent.$("#dashboard_Comment").attr("data-category-name"),o=parent.$("#dashboard_Comment").attr("data-item-name");parentDashboardId=parent.$("#isMultiDashboard").attr("data-parent-id");var r=renderMde("#rte-post");function s(e){if(e){var i="<li id='comment-"+e.Comments[0].Id+"'data-comment-id='"+e.Comments[0].Id+"' class='post'><div class='post-content'><div class='avatar-container'> <div class='user' data-userid='"+e.Comments[0].UserId+"'><div class='profile-pic-tag avatar' data-id='"+e.Comments[0].IdPReferenceId+"' data-type='user' data-display-name='"+e.Comments[0].UserDisplayName+"' data-image-size='32'  data-bs-toggle='tooltip' title='"+e.Comments[0].UserDisplayName+"' data-bs-placement='bottom'></div> </div></div><div class='post-body'> <header><span class='post-byline col-5 no-padding'><span title='"+e.Comments[0].UserDisplayName+"'class='author publisher-anchor-color'>"+e.Comments[0].UserDisplayName+"</span><span class='su su-status-active'></span></span><menu><li class='reply' title='"+window.Server.App.LocalizationContent.ReplyButton+"'  data-bs-toggle='tooltip' data-bs-placement='bottom'> <a class='reply-comment'><span class='su su-reply'></span> </a></li><span class='dropdown-toggle option-icon' title='"+window.Server.App.LocalizationContent.Action+"' data-bs-toggle='dropdown'><span class='su su-options-horizontal'></span></span><ul class='dropdown-menu' role='menu'><li class='edit' title='"+window.Server.App.LocalizationContent.EditButton+"'   data-bs-toggle='tooltip' data-bs-placement='top'> <a class='edit-comment'><span>"+window.Server.App.LocalizationContent.EditButton+"</span> </a></li><li class='delete' title='"+window.Server.App.LocalizationContent.Delete+"'   data-bs-toggle='tooltip' data-bs-placement='top'> <a class='delete-comment'><span>"+window.Server.App.LocalizationContent.Delete+"</span> </a></li></menu><span class='post-meta col-9 no-padding'><a "+commentPermalinkHelper(e.Comments[0].Id)+" class='permalink'><span class='time-ago' title='"+e.Comments[0].Id+"'class='permalink'><span class='time-ago' title='"+e.Comments[0].CreatedDateString+" - "+e.Comments[0].TimeZoneName+"' data-html='false'  data-bs-toggle='tooltip' data-bs-placement='right'>"+e.Comments[0].TimeAgo+"</span></a></span> </header> <div class='post-body-inner'><div class='edit-post displayNone'></div><div class='post-message'>"+SplitUserDisplayName(SanitizeHtml(customMarkdownParser(e.Comments[0].MarkdownComment)),SanitizeHtml(e.Comments[0].MarkdownComment))+"</div><div class='markDownComment d-none'>"+SanitizeHtml(e.Comments[0].MarkdownComment)+"</div></div> <div class='footer'></div></div><div class='reply-form-container displayNone'></div><div class='col-12 reply-count'><div class='col-6 child-count'><span class='count-text'>0</span><span class='count-label'> "+window.Server.App.LocalizationContent.Replies+"</span></div><div class='col-6 no-padding collapse-icon-container'><span class='su collapse-icon' data-bs-toggle='collapse' data-target=''></span></div></div></div><ul class='children'></ul> </li>";$(".sort-old").hasClass("sort-active")?$(".comment-list").append(i):$(".comment-list").prepend(i),$(".additional-content").html("");var n=parseInt($("#comment_count").text());$("#comment_count").text(n+1),$('[data-bs-toggle="tooltip"]').tooltip(),r.value(""),$("#comment_action_area").show(),$(".watch-action").hasClass("watch")&&($("#watchItem").val("Unwatch"),$("#watchItem").removeClass("watch").addClass("unwatch"),$("#watch-text").removeClass("watch").addClass("unwatch"),$("#watchItem").attr("data-original-title",window.Server.App.LocalizationContent.Unwatch)),hideWaitingPopup("parent-scroll-element"),$("#comment_action_area").removeClass("isHide"),$("#comment_action_area").show(),$("#comment_submit_container").hide(),refreshCommentScroller(),addTarget_blank(),$("#comment-"+e.Comments[0].Id).find("span.time-ago:first").click(),0==n&&"report"==t&&parent.$("#dashboard-comment").removeClass("su-without-comment").addClass("su-with-comment"),$(".post-message > p > img").on("load",function(){refreshCommentScroller()})}else hideWaitingPopup("parent-scroll-element"),parent.frames[1].messageBox("su-open",window.Server.App.LocalizationContent.AddComment,window.Server.App.LocalizationContent.AddCommentFail,"success",function(){parent.frames[1].onCloseMessageBox()});generateProfileAvatar()}function a(e){e?($("#save-edit").parentsUntil(".post").find(".post-message").html(SplitUserDisplayName(SanitizeHtml(customMarkdownParser(e.Comments[0].MarkdownComment)),SanitizeHtml(e.Comments[0].MarkdownComment))),$("#save-edit").parentsUntil(".post").find(".markDownComment").html(SanitizeHtml(e.Comments[0].MarkdownComment)),$("#save-edit").parentsUntil(".post").find(".post-message").removeClass("displayNone"),$(".watch-action").hasClass("watch")&&($("#watchItem").val("Unwatch"),$("#watchItem").removeClass("watch").addClass("unwatch"),$("#watch-text").removeClass("watch").addClass("unwatch"),$("#watchItem").attr("data-original-title",window.Server.App.LocalizationContent.Unwatch)),hideWaitingPopup($("#save-edit").parentsUntil(".post").find(".edit-post")),$(".edit-post").addClass("displayNone"),$(".edit-post").html(""),refreshCommentScroller(),addTarget_blank()):(parent.frames[1].messageBox("su-open",window.Server.App.LocalizationContent.EditComment,window.Server.App.LocalizationContent.EditCommentFail,"success",function(){parent.frames[1].onCloseMessageBox()}),hideWaitingPopup($("#save-edit").parentsUntil(".post").find(".edit-post")))}function l(e){e?(addComment="<li id='comment-"+e.Comments[0].Id+"'data-comment-id='"+e.Comments[0].Id+"' class='post'><div class='post-content'><div class='avatar-container'> <div class='user' data-userid='"+e.Comments[0].UserId+"'><div class='profile-pic-tag avatar' data-id='"+e.Comments[0].IdPReferenceId+"' data-type='user' data-display-name='"+e.Comments[0].UserDisplayName+"' data-image-size='32'  data-bs-toggle='tooltip' title='"+e.Comments[0].UserDisplayName+"' data-bs-placement='bottom'></div></div></div><div class='post-body'> <header><span class='post-byline col-5 no-padding'><span title='"+e.Comments[0].UserDisplayName+"'class='author publisher-anchor-color'>"+e.Comments[0].UserDisplayName+"</span><span class='su su-status-active'></span></span><menu>",addComment+="<li class='reply' title='"+window.Server.App.LocalizationContent.ReplyButton+"' data-bs-toggle='tooltip' data-bs-placement='bottom'> <a class='reply-comment'><span class='su su-reply'></span> </a></li><span class='dropdown-toggle option-icon' title='"+window.Server.App.LocalizationContent.Action+"' data-bs-toggle='dropdown'><span class='su su-options-horizontal'></span></span><ul class='dropdown-menu' role='menu'><li class='edit' title='"+window.Server.App.LocalizationContent.EditButton+"'   data-bs-toggle='tooltip' data-bs-placement='top'> <a class='edit-comment'><span>"+window.Server.App.LocalizationContent.EditButton+"</span> </a></li><li class='delete' title='"+window.Server.App.LocalizationContent.Delete+"'   data-bs-toggle='tooltip' data-bs-placement='top'> <a class='delete-comment'><span>"+window.Server.App.LocalizationContent.Delete+"</span> </a></li><li class='parent' data-parent-id='"+e.Comments[0].ParentId+"' title='"+window.Server.App.LocalizationContent.Replied+" "+$("#replyComment").parents(".post").find(".author").attr("title")+"'> <a class='parent-name'><span>"+window.Server.App.LocalizationContent.ShowParent+"</span> </a></li></ul></menu><span class='post-meta col-9 no-padding'><a "+commentPermalinkHelper(e.Comments[0].Id)+" class='permalink'><span class='time-ago' title='"+e.Comments[0].Id+"'class='permalink'><span class='time-ago' title='"+e.Comments[0].CreatedDateString+" - "+e.Comments[0].TimeZoneName+"'data-html='false'  data-bs-toggle='tooltip' data-bs-placement='right'>"+e.Comments[0].TimeAgo+"</span></a></span> </header> <div class='post-body-inner'><div class='edit-post displayNone'></div><div class='post-message'>"+SplitUserDisplayName(SanitizeHtml(customMarkdownParser(e.Comments[0].MarkdownComment)),SanitizeHtml(e.Comments[0].MarkdownComment))+"</div><div class='markDownComment d-none'>"+SanitizeHtml(e.Comments[0].MarkdownComment)+"</div> </div> <div class='footer'></div></div><div class='reply-form-container displayNone'></div><div class='col-12 reply-count'><div class='col-6 child-count'><span class='count-text'>0</span><span class='count-label'> "+window.Server.App.LocalizationContent.Replies+"</span></div><div class='col-6 no-padding collapse-icon-container'><span class='su collapse-icon' data-bs-toggle='collapse' data-target=''></span></div></div></div><ul class='children'></ul> </li>",$("#post-reply").closest(".post-content").siblings().prepend(addComment),$(".reply-form-container").html(""),$("#replyComment").addClass("displayNone"),$(".comment-list").find(".post").find(".post").find(".children").addClass("no-left-padding"),$("#comment_count").text(parseInt($("#comment_count").text())+1),$('[data-bs-toggle="tooltip"]').tooltip(),$("#replyComment").parent().find(".count-text").text(parseInt($("#replyComment").parent().find(".count-text").text())+1),1==parseInt($("#replyComment").parent().find(".count-text").text())?$("#replyComment").parent().find(".count-label").text(window.Server.App.LocalizationContent.ReplyMessage):$("#replyComment").parent().find(".count-label").text(" "+window.Server.App.LocalizationContent.Replies),$("#replyComment").parent().find(".collapse-icon").addClass("su-vertical-collapse"),$("#replyComment").parent().find(".reply-count").addClass("hasChild"),$(".watch-action").hasClass("watch")&&($("#watchItem").val("Unwatch"),$("#watchItem").removeClass("watch").addClass("unwatch"),$("#watch-text").removeClass("watch").addClass("unwatch"),$("#watchItem").attr("data-original-title",window.Server.App.LocalizationContent.Unwatch)),hideWaitingPopup("replyComment"),$("#replyComment").removeClass("e-waitingpopup e-js"),$(".reply-form-container").attr("id",""),refreshCommentScroller(),addTarget_blank(),generateProfileAvatar()):($("#replyComment").addClass("displayNone"),hideWaitingPopup("replyComment"),$(".reply-form-container").attr("id",""),parent.frames[1].messageBox("su-open",window.Server.App.LocalizationContent.ReplyButton,window.Server.App.LocalizationContent.ReplyFail,"success",function(){parent.frames[1].onCloseMessageBox()}),refreshCommentScroller())}function c(e){if(e){var i=deletedCommentId;parent.messageBox("su-delete",window.Server.App.LocalizationContent.DeleteComment,window.Server.App.LocalizationContent.DeleteCommnetSuccess,"success",function(){""==$("#"+i).find(".children").html()||1==$("#"+i).find(".user").length?$("#"+i).html(""):($("#"+i).find(".avatar-container:first").html("<img src='"+avatarUrl+"' class='avatar'>"),$("#"+i).find(".post-body:first").html("<header><span class='post-byline col-5 no-padding'></span><span class='post-meta col-9 no-padding'></span><menu class='deleted-post'><li class='reply' > <span class='su su-reply'></span> </li><span class='dropdown-toggle option-icon' ><span class='su su-options-horizontal'></span></span></menu> </header> <div class='post-body-inner'><div class='post-message deleted-message'><span class='su su-warning'></span><span>"+window.Server.App.LocalizationContent.DeletedMessage+"</span></div> </div>")),0==$("#"+i).parents(".post:first").find(".post-content").find(".user").length&&$("#"+i).parents(".post:first").html(""),parent.onCloseMessageBox();var e=parseInt($("#comment_count").text());$("#comment_count").text(e-1);var n=parseInt($("#"+i).parents(".post:first").find(".count-text:first").html());1==n&&($("#"+i).parents(".post:first").find(".collapse-icon:first").removeClass("su-vertical-collapse"),$("#"+i).parents(".post:first").find(".reply-count:first").removeClass("hasChild")),2==n&&$("#"+i).parents(".post:first").find(".count-label:first").html(window.Server.App.LocalizationContent.ReplyMessage),$("#"+i).parents(".post:first").find(".count-text:first").html(n-1),refreshCommentScroller(),1==e&&"report"==t&&(parent.$("#dashboard-comment").removeClass("su-with-comment").addClass("su-without-comment"),$(".additional-content").html("<h7>"+window.Server.App.LocalizationContent.NoComments+"</h7>"))})}else parent.messageBox("su-delete",window.Server.App.LocalizationContent.DeleteComment,window.Server.App.LocalizationContent.DeleteCommentFail,"success",function(){parent.onCloseMessageBox()});$("#messageBox_wrapper").ejWaitingPopup("hide")}function h(e){e?($("#watchItem").val("Unwatch"),$("#watchItem").removeClass("watch").addClass("unwatch"),$("#watch-text").removeClass("watch").addClass("unwatch"),$("#watchItem").attr("data-original-title",window.Server.App.LocalizationContent.Unwatch)):parent.frames[1].messageBox("su-eye",window.Server.App.LocalizationContent.AddWatch,window.Server.App.LocalizationContent.WatchFail,"success",function(){parent.frames[1].onCloseMessageBox()}),$(".watch-action").removeClass("disable-post")}function d(e){e?($("#watchItem").val("Watch"),$("#watchItem").removeClass("unwatch").addClass("watch"),$("#watch-text").removeClass("unwatch").addClass("watch"),$("#watchItem").attr("data-original-title",window.Server.App.LocalizationContent.Watch)):parent.frames[1].messageBox("su-eye",window.Server.App.LocalizationContent.Unwatch,window.Server.App.LocalizationContent.UnWatchFail,"success",function(){parent.frames[1].onCloseMessageBox()}),$(".watch-action").removeClass("disable-post")}cursorPos=r,$("#comment_action_slider").click(function(){cursorPos=r.value(""),r.isPreviewActive()&&r.togglePreview(),$(".reply-form-container").html(""),$(".reply-form-container").addClass("displayNone"),$(".reply-form-container").attr("id",""),$(".edit-post").addClass("displayNone"),$(".post-message").removeClass("displayNone"),$(".edit-post").html(""),$("#comment_action_area").hide(),$("#comment_submit_container").show(),$("#comment_action_area").addClass("isHide"),$(".error-message").html(""),refreshCommentScroller(),setTimeout(function(){cursorPos.codemirror.focus(),cursorPos.codemirror.setCursor({line:0,ch:0})},500)}),$("#comment_submit_container > .CodeMirror").on("keypress","textarea",function(e){r.value().length>=4e3?e.preventDefault():userMentionInitializing(e,elementNode=$("#comment_submit_container > .CodeMirror"))}),$(document).on("click",".header-comment-close",function(){r.value(""),$("#comment_action_area").removeClass("isHide"),$("#comment_action_area").show(),$("#comment_submit_container").hide(),refreshCommentScroller()}),$(".sort-new").click(function(){GetAllComments(itemId,t,i,"1"),$(".sort-new").addClass("sort-active"),$(".sort-new").removeClass("sort-inactive"),$(".sort-old").addClass("sort-inactive"),$(".sort-old").removeClass("sort-active")}),$(".sort-old").click(function(){GetAllComments(itemId,t,i,"0"),$(".sort-new").addClass("sort-inactive"),$(".sort-new").removeClass("sort-active"),$(".sort-old").addClass("sort-active"),$(".sort-old").removeClass("sort-inactive")}),$(document).on("focus","textarea",function(){$("textarea").pastableTextarea()}),$(document).on("click","#post-comment",function(){var e=splitUserMention($("#comment_submit_container > .CodeMirror")),a=truncateUrl(),l=a.split("?"),c="";l.length>1&&(c=l[1]);var h=a.split("/");"report"==t.toLowerCase()&&(a=""!=c?"/"+h[1]+"/"+i+"/"+n+"/"+o+"?"+c:"/"+h[1]+"/"+i+"/"+n+"/"+o);var d=r.value();d=EscapeHtml(d=SanitizeHtml(d));var u=r.options.previewRender(d).replace("#",""),p=(d=getRelativePath(d)).replace("http://","").replace("https://","").replace("(","").replace(")","").replace("![]","");if(isEmptyOrWhitespace(u.replace(/<[^>]*>!/gi,""))||isEmptyOrWhitespace(p))$(".error-message").html("<span class='validate-fail'>"+window.Server.App.LocalizationContent.CommentValidator+"</span>");else if(d.length>4e3)$(".error-message").html("<span class='validate-fail'>"+window.Server.App.LocalizationContent.CommnetLengthValidator+"</span>");else{$(".comment-area").val(""),$(".error-message").html("");var f={itemId:itemId,comment:d,itemType:t,dashboardItemId:i,url:decodeURI(a),uniqueUsersValue:e.uniqueUsersValue,uniqueGroupValue:e.uniqueGroupValue,mentionedAll:e.mentionedAll,parentDashboardId:parentDashboardId,CommentAction:commentAction.Add,currentDate:date};showWaitingPopup("parent-scroll-element"),parent.ajaxPostCall("POST",addCommentUrl,f,null,s,null,null)}}),$(document).on("click",".edit-comment",function(){r.value("");var e=$(this).parents("menu").siblings(".post-meta").find("a.permalink"),s=$(e).attr("href").split("comment-")[1];void 0===s&&(s=$(e).attr("href").split("comment=")[1]),$(e).attr("href","#comment-"+s),$(e).attr("target","");var l=$(this).parents(".post").attr("data-comment-id");$("#comment_action_area").removeClass("isHide"),$("#comment_action_area").show(),$("#comment_submit_container").hide(),$(".reply-form-container").html(""),$(".reply-form-container").addClass("displayNone"),$(".reply-form-container").attr("id",""),$(".edit-post").addClass("displayNone"),$(".post-message").removeClass("displayNone"),$(".edit-post").html(""),$(this).closest("div").find(".edit-post").html("<div class='edit'><textarea id='edit_comment_"+l+"' class='form-control edit-text' placeholder='' style='overflow: hidden;'></textarea><span class='message'>*"+window.Server.App.LocalizationContent.CommentWords+"</span><span class='error-message-edit'></span><div class='temp-post'><button class='edit-cancel secondary-button app-btn-secondary float-end'>"+window.Server.App.LocalizationContent.CancelButton+"</button><button id ='save-edit' class='primary-button app-btn-primary "+tailwindClassName+" float-end' type='submit'>"+window.Server.App.LocalizationContent.SaveButton+"</button></div></div>");var c=renderMde("#edit_comment_"+l);cursorPos=c,$(this).closest("div").find(".post-message").addClass("displayNone"),$(this).closest("div").find(".edit-post").removeClass("displayNone"),refreshCommentScroller(),$(e).find("span.time-ago").click();var h=$(this).closest("div").find(".markDownComment").text(),d=h.match(/(?:\!\[\]\((.*?)\))/g),u=[];if(null!=d){for(var p=0;p<d.length;p++)u[p]=d[p].split(/[\(\\!\[\ \]\\)\s]+/),u[p]=$.grep(u[p],function(e){return e});for(var f=0;f<u.length;f++)if(u[f]=u[f].toString(),-1!==u[f].indexOf("image-"))for(var m=u[f].split("/"),g=0;g<m.length;g++)-1!==m[g].indexOf("image-")&&(h=h.replace(u[f],m[g]))}c.value(h),setTimeout(function(){cursorPos.codemirror.focus()},200),cursorPos.codemirror.setCursor({line:h.length,ch:h.length}),"false"==parent.$("#is_mobile").val()&&$("#save-edit").prop("disabled","true");var v=$(this).closest("div").find(".markDownComment").text();$(".CodeMirror").on("keypress keyup","textarea",function(e){var t=c.value();t.length>=4e3?e.preventDefault():userMentionInitializing(e,elementNode=$("#edit_comment_"+l).parent()),v!=t.trim()?$("#save-edit").removeAttr("disabled"):$("#save-edit").prop("disabled","true")}),$(".editor-toolbar").on("click",function(e){$("textarea").keypress()}),$("#save-edit").on("click",function(){var e=truncateUrl(),r=e.split("?"),s="";r.length>1&&(s=r[1]);var l=e.split("/");"report"==t.toLowerCase()&&(e=""!=s?"/"+l[1]+"/"+i+"/"+n+"/"+o+"?"+s:"/"+l[1]+"/"+i+"/"+n+"/"+o);var h=c.value();h=getRelativePath(h=EscapeHtml(h=SanitizeHtml(h)));var d=$(this).closest(".post").attr("data-comment-id"),u=splitUserMention($("#edit_comment_"+d).parent()),p={itemId:itemId,comment:h,commentId:d,itemType:t,dashboardItemId:i,url:decodeURI(e),uniqueUsersValue:u.uniqueUsersValue,uniqueGroupValue:u.uniqueGroupValue,mentionedAll:u.mentionedAll,commentAction:commentAction.Edit,parentDashboardId:parentDashboardId,currentDate:date},f=c.options.previewRender(h).replace("#",""),m=h.replace("http://","").replace("https://","").replace("(","").replace(")","").replace("![]","");return isEmptyOrWhitespace(f.replace(/<[^>]*>!/gi,""))||isEmptyOrWhitespace(m)?($(".edit-text").addClass("inactive-box"),void $(".error-message-edit").html("<span class='validate-fail'>"+window.Server.App.LocalizationContent.CommentValidator+"</span>")):h.length>4e3?($(".reply-text").addClass("inactive-box"),void $(".error-message-edit").html("<span class='validate-fail'>"+window.Server.App.LocalizationContent.CommnetLengthValidator+"</span>")):(showWaitingPopup($("#save-edit").parentsUntil(".post").find(".edit-post")),void parent.ajaxPostCall("POST",editCommentUrl,p,null,a,null,null))}),$(".edit-cancel").on("click",function(){$(".post-message").removeClass("displayNone"),$(".edit-post").addClass("displayNone"),$(".edit-post").html(""),$(".error-message-edit").html(""),refreshCommentScroller()})}),$(document).on("click",".reply-comment",function(){r.value("");var e=$(this).parents("menu").siblings(".post-meta").find("a.permalink"),s=$(e).attr("href").split("comment-")[1];void 0===s&&(s=$(e).attr("href").split("comment=")[1]),$(e).attr("href","#comment-"+s),$(e).attr("target","");var a=$(this).parents(".post").attr("data-comment-id");$("#comment_action_area").removeClass("isHide"),$("#comment_action_area").show(),$("#comment_submit_container").hide(),$(".post-message").removeClass("displayNone"),$(".edit-post").addClass("displayNone"),$(".edit-post").html(""),$(".reply-form-container").html(""),$(".reply-form-container").addClass("displayNone"),$(".reply-form-container").attr("id",""),$(this).closest("div").parent().parent().find(".reply-form-container").html("<textarea id='replyto_comment_"+a+"' class='form-control reply-text' maxlength='4000' style='overflow: hidden;'></textarea><span class='message'>*"+window.Server.App.LocalizationContent.CommentWords+"</span><div class='reply-comment-footer'><span class='error-message-reply'></span><button class='reply-cancel secondary-button app-btn-secondary float-end'>"+window.Server.App.LocalizationContent.CancelButton+"</button><input id='post-reply' class='primary-button app-btn-primary float-end' value='"+window.Server.App.LocalizationContent.ReplyButton+"' type='submit'></div>");var c=renderMde("#replyto_comment_"+a);cursorPos=c,$(this).closest("div").parent().parent().find(".reply-form-container").attr("id","replyComment"),$("#replyComment").removeClass("displayNone"),refreshCommentScroller(),$(e).find("span.time-ago").click(),setTimeout(function(){cursorPos.codemirror.focus()},200),cursorPos.codemirror.setCursor({line:0,ch:0}),$("#replyComment > .CodeMirror").on("keypress","textarea",function(e){c.value().length>=4e3?e.preventDefault():userMentionInitializing(e,elementNode=$("#replyComment > .CodeMirror"))}),$("#post-reply").on("click",function(){var e=truncateUrl(),r=e.split("?"),s="";r.length>1&&(s=r[1]);var a=e.split("/");"report"==t.toLowerCase()&&(e=""!==s?"/"+a[1]+"/"+i+"/"+n+"/"+o+"?"+s:"/"+a[1]+"/"+i+"/"+n+"/"+o);var h=c.value();h=EscapeHtml(h=SanitizeHtml(h));var d=splitUserMention($("#replyComment > .CodeMirror"));h=getRelativePath(h);var u=$(this).closest(".post").attr("data-comment-id"),p={itemId:itemId,comment:h,parentId:u,itemType:t,dashboardItemId:i,url:decodeURI(e),uniqueUsersValue:d.uniqueUsersValue,uniqueGroupValue:d.uniqueGroupValue,mentionedAll:d.mentionedAll,parentDashboardId:parentDashboardId,currentDate:date},f=c.options.previewRender(h).replace("#",""),m=h.replace("http://","").replace("https://","").replace("(","").replace(")","").replace("![]","");return isEmptyOrWhitespace(f.replace(/<[^>]*>!/gi,""))||isEmptyOrWhitespace(m)?($(".reply-text").addClass("inactive-box"),void $(".error-message-reply").html("<span class='validate-fail'>"+window.Server.App.LocalizationContent.ReplyValidator+"</span>")):h.length>4e3?($(".reply-text").addClass("inactive-box"),void $(".error-message-reply").html("<span class='validate-fail'>"+window.Server.App.LocalizationContent.ReplayContenLength+"</span>")):(showWaitingPopup("replyComment"),void parent.ajaxPostCall("POST",addCommentUrl,p,null,l,null,null))}),$(".reply-cancel").on("click",function(){$("#replyComment").addClass("displayNone"),$(".reply-form-container").html(""),$(".reply-form-container").attr("id",""),$(".error-message-reply").html(""),refreshCommentScroller()})}),$(document).on("click",".delete-comment",function(){var e=truncateUrl(),r=e.split("?"),s="";r.length>1&&(s=r[1]);var a=e.split("/");"report"==t.toLowerCase()&&(e=""!==s?"/"+a[1]+"/"+i+"/"+n+"/"+o+"?"+s:"/"+a[1]+"/"+i+"/"+n+"/"+o);var l=$(this).closest(".post").attr("data-comment-id"),h=$(this).closest(".post").attr("id");deletedCommentId=h,parent.messageBox("su-delete",window.Server.App.LocalizationContent.DeleteComment,window.Server.App.LocalizationContent.DeleteComentConfirm,"error",function(){var n=parent.createLoader("messageBox_wrapper");$("#messageBox_wrapper").ejWaitingPopup({template:parent.$("#"+n)}),$("#messageBox_wrapper").ejWaitingPopup("show");var o={itemId:itemId,commentId:l,itemType:t,dashboardItemId:i,url:decodeURI(e),commentAction:commentAction.Delete,currentDate:date};parent.ajaxPostCall("POST",deleteCommentUrl,o,null,c,null,null)})}),$(document).on("click",".watch-action",function(){if(!$(this).hasClass("disable-post"))if($(".watch-action").addClass("disable-post"),$(this).hasClass("watch")){var e={itemId:itemId,isWatch:!0,currentDate:date};parent.ajaxPostCall("POST",watchUrl,e,null,h,null,null)}else{e={itemId:itemId,isWatch:!1,currentDate:date};parent.ajaxPostCall("POST",unWatchUrl,e,null,d,null,null)}}),$(document).on("click",".parent",function(){var e="#comment-"+$(this).attr("data-parent-id"),t=$(e).find(".permalink:first").attr("href").split("comment-")[1];if(void 0===t&&(t=$(e).find(".permalink:first").attr("href").split("comment=")[1]),$(e).find(".permalink:first").attr("href","#comment-"+t),$(e).find(".permalink:first").attr("target",""),$(e).isOnScreen()||$(e).find(".time-ago:first").click(),$(e).find(".post-content:first").css({"background-color":"#F4E4AE"}),i_am_ie9){$(e).find(".post-content:first").css("backgroundColor","hsl(46,76%,82%");for(var i=3e3,n=82;n<=100;n+=.1)(function(t,i){setTimeout(function(){$(e).find(".post-content:first").css("backgroundColor","hsl(46,76%,"+t+"%)")},i)})(n,i+=10)}else setTimeout(function(){$(e).find(".post-content:first").css({transition:"background-color 5s ease-in-out","background-color":"inherit"})},20),setTimeout(function(){$(e).find(".post-content:first").attr("style","")},4e3)}),$(document).on("mousedown",".permalink",function(e){if(postId=$(this).attr("href").split("comment-")[1],"undefined"==typeof postId&&(postId=$(this).attr("href").split("comment=")[1]),2==e.which||3==e.which){var t=parent.document.URL;-1!=parent.window.location.href.indexOf("?comment")||-1==parent.window.location.href.indexOf("?")?(t=t.split("?comment=")[0],$(this).attr("href",t+"?comment="+postId)):(t=t.split("&comment=")[0],$(this).attr("href",t+"&comment="+postId)),$(this).attr("target","_blank")}1==e.which&&($(this).attr("href","#comment-"+postId),$(this).attr("target",""))}),$(document).on("click",".hasChild",function(){$(this).find(".collapse-icon").hasClass("su-vertical-expand")?($(this).find(".collapse-icon").parents(".post-content").siblings("ul.children").slideDown("slow",function(){refreshCommentScroller()}),$(this).find(".collapse-icon").addClass("su-vertical-collapse"),$(this).find(".collapse-icon").removeClass("su-vertical-expand"),$(this).find(".collapse-icon").parents(".reply-count").removeClass("expanded"),$(this).find(".collapse-icon").attr("title","Collapse")):($(this).find(".collapse-icon").parents(".post-content").siblings("ul.children").slideUp("slow",function(){refreshCommentScroller()}),$(this).find(".collapse-icon").addClass("su-vertical-expand"),$(this).find(".collapse-icon").removeClass("su-vertical-collapse"),$(this).find(".collapse-icon").parents(".reply-count").addClass("expanded"),$(this).find(".collapse-icon").attr("title","Expand"))}),$(document).on("mouseover","#comment-image-file,#comment-image-edit-file",function(){var e,t=$.now(),i=$("#itemType").attr("data-item-type").toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()});$("#comment-image-file,#comment-image-edit-file").ejUploadbox({saveUrl:fileUploadUrl+"?imageType=commentimage&&timeStamp="+t+"&&itemId="+itemId+"&&itemType="+i,autoUpload:!0,showFileDetails:!1,multipleFilesSelection:!1,buttonText:{browse:""},width:"29px",height:"29px",showBrowseButton:!1,extensionsAllow:".PNG,.png,.jpg,.JPG,.jpeg,.JPEG",beforeSend:function(e){setXSRFRequestHeader(e.xhr)},begin:function(){showWaitingPopup("parent-scroll-element")},fileSelect:function(t){$(".confirmatioMessage").hide(),e=t.files[0].extension.toLowerCase(),t.files[0].name},error:function(t){".png"==e||".jpg"==e||".jpeg"==e||$(".error-message").html("<span class='validate-fail'>"+window.Server.App.LocalizationContent.FileFormatNotsupport+"</span>")},complete:function(e){if(""!=e.responseText&&-1!==e.responseText.indexOf("image-")){var t=" ![]("+e.responseText.split(";")[1]+")";$("textarea").focus(),cursorPos.codemirror.replaceSelection(t),hideWaitingPopup("parent-scroll-element"),$("textarea").keypress()}}}),$("#comment-image-file_SelectButton,#comment-image-file,#comment-image-edit-file,.e-uploadinput").attr("title",window.Server.App.LocalizationContent.UploadImage)}),parent.$("#commentImage_popup").ejDialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,close:"commentImageDialogClose",closeOnEscape:!0}),$(document).on("click",".post-message > p > img",function(){var e;e=$(window).height();var t,i,n,o,r=null==parent.$(dashboardTypeId).width()?parent.$("#widget").width():parent.$(dashboardTypeId).width(),s=$(this).attr("src"),a=new Image;a.src=s,$(a).on("load",function(){t=a.width,i=a.height,e>i?(n=e-i>40?i:i=e-.07*e,parent.$("#commentImage_popup_wrapper").css({height:n}),parent.$("#commentImage_popup_image,#commentImage_popup,#PopupContainer,#commentImage_popup_wrapper .e-dialog-scroller").css({height:i})):(i=null!==parent.$("#widget").height()?i-(i-e+40):i-(i-e+20),n=i,parent.$("#commentImage_popup_wrapper").css({height:n}),parent.$("#commentImage_popup_image,#commentImage_popup,#PopupContainer,#commentImage_popup_wrapper .e-dialog-scroller").css({height:i})),r>=t&&t<=900?(o=r-t>40?t:t=r-.07*r,parent.$("#commentImage_popup_wrapper").css({width:o}),parent.$("#commentImage_popup_image,#commentImage_popup,#PopupContainer,#commentImage_popup_wrapper .e-dialog-scroller").css({width:t})):(o=t=.68*r,parent.$("#commentImage_popup_wrapper").css({width:o}),parent.$("#commentImage_popup_image,#commentImage_popup,#PopupContainer,#commentImage_popup_wrapper .e-dialog-scroller").css({width:t})),parent.$("#commentImage_popup_image").attr("src",s),parent.$("#commentImage_popup").removeClass("hidden"),parent.$("#commentImage_popup").ejDialog("open")})}),$(window).resize(function(){refreshCommentScroller()}),$(document).on("click",".prevent-default-action",function(e){e.preventDefault()})}),$.fn.isOnScreen=function(){windowHeight=$("#list_container").outerHeight(),$("#comment_action_area").hasClass("isHide")?textAreaHeight=$("#comment_submit_container").outerHeight():textAreaHeight=$("#comment_action_area").outerHeight();var e=textAreaHeight+$(".count-sort").outerHeight();return offsetTop=this.offset().top,offsetTop>=e&&offsetTop<=windowHeight},$.fn.pastableTextarea=function(){var e,t,i;for(t=0,i=this.length;t<i;t++)(e=this[t])._pastable||$(e).is(":not(textarea, input:text)")||(Paste.mountTextarea(e),e._pastable=!0);return this},createHiddenEditable=function(){return $(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"})},isFocusable=function(e,t){var i,n,o,r,s,a;return r=void 0,s=void 0,o=void 0,n=void 0,i=void 0,"area"===(a=e.nodeName.toLowerCase())?(s=(r=e.parentNode).name,!(!e.href||!s||"map"!==r.nodeName.toLowerCase())&&((o=$("img[usemap='#"+s+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(n=!e.disabled)&&(i=$(e).closest("fieldset")[0])&&(n=!i.disabled):n="a"===a&&e.href||t,(n=n||$(e).is("[contenteditable]"))&&$(e).is(":visible"))},Paste=function(){function e(e,t){var i;this._container=e,this._target=t,this._container=$(this._container),this._target=$(this._target).addClass("pastable"),this._container.on("paste",(i=this,function(e){var t,n,o,r,s,a,l,c,h,d,u,p,f;if(showWaitingPopup("parent-scroll-element"),i._paste_event_fired=!0,null!=(null!=(h=e.originalEvent)?h.clipboardData:void 0))if((t=e.originalEvent.clipboardData).items)for(r=0,a=(d=t.items).length;r<a;r++){if((o=d[r]).type.match(/^image\//)){(c=new FileReader).onload=function(e){return i._handleImage(e.target.result)},c.readAsDataURL(o.getAsFile()),e.preventDefault();break}"text/plain"===o.type&&o.getAsString(function(e){setTimeout(function(){return hideWaitingPopup("parent-scroll-element"),i._target.trigger("pasteText",{text:e})},1)})}else-1!==Array.prototype.indexOf.call(t.types,"text/plain")&&(f=t.getData("Text"),setTimeout(function(){return hideWaitingPopup("parent-scroll-element"),i._target.trigger("pasteText",{text:f})},1)),i._checkImagesInContainer(function(e){return i._handleImage(e)});if(t=window.clipboardData)if(null!=(u=f=t.getData("Text"))?u.length:void 0)setTimeout(function(){return hideWaitingPopup("parent-scroll-element"),i._target.trigger("pasteText",{text:f}),i._target.trigger("_pasteCheckContainerDone")},1);else{for(s=0,l=(p=t.files).length;s<l;s++)n=p[s],i._handleImage(URL.createObjectURL(n));i._checkImagesInContainer(function(e){})}return setTimeout(function(){hideWaitingPopup("parent-scroll-element")},1e3),null}))}return e.prototype._target=null,e.prototype._container=null,e.mountNonInputable=function(t){var i;return i=new e(createHiddenEditable().appendTo(t),t),$(t).on("click",function(e){if(!isFocusable(e.target,!1))return i._container.focus()}),i._container.on("focus",function(){return $(t).addClass("pastable-focus")}),i._container.on("blur",function(){return $(t).removeClass("pastable-focus")})},e.mountTextarea=function(t){var i,n;return DataTransfer.prototype.__lookupGetter__("items")?this.mountContenteditable(t):(n=new e(createHiddenEditable().insertBefore(t),t),i=!1,$(t).on("keyup",function(e){var t;return 17!==(t=e.keyCode)&&224!==t||(i=!1),null}),$(t).on("keydown",function(e){var o;return 17!==(o=e.keyCode)&&224!==o||(i=!0),null!=e.ctrlKey&&null!=e.metaKey&&(i=e.ctrlKey||e.metaKey),i&&86===e.keyCode&&(n._textarea_focus_stolen=!0,n._container.focus(),n._paste_event_fired=!1,setTimeout(function(){if(!n._paste_event_fired)return $(t).focus(),n._textarea_focus_stolen=!1},1)),null}),$(t).on("paste",function(){}),$(t).on("focus",function(){if(!n._textarea_focus_stolen)return $(t).addClass("pastable-focus")}),$(t).on("blur",function(){if(!n._textarea_focus_stolen)return $(t).removeClass("pastable-focus")}),$(n._target).on("_pasteCheckContainerDone",function(){return $(t).focus(),n._textarea_focus_stolen=!1}),$(n._target).on("pasteText",function(e,i){var n=i.text;return cursorPos.codemirror.replaceSelection(n),hideWaitingPopup("parent-scroll-element"),$(t).trigger("change")}))},e.mountContenteditable=function(t){return new e(t,t),$(t).on("focus",(hideWaitingPopup("parent-scroll-element"),function(){return $(t).addClass("pastable-focus")})),$(t).on("blur",function(){return hideWaitingPopup("parent-scroll-element"),$(t).removeClass("pastable-focus")})},e.prototype._handleImage=function(e){var t;return(t=new Image).crossOrigin="anonymous",t.onload=function(){var e;(e=document.createElement("canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,e.width,e.height);try{pasteImageReader(e.toDataURL("image/png"))}catch(e){hideWaitingPopup("parent-scroll-element")}},t.onerror=void 0,t.src=e},e.prototype._checkImagesInContainer=function(e){var t,i,n,o,r,s;for(r=Math.floor(1e3*Math.random()),i=0,n=(o=this._container.find("img")).length;i<n;i++)(t=o[i])["_paste_marked_"+r]=!0;return setTimeout((s=this,function(){var i,n,o;for(0==(o=s._container.find("img")).length&&hideWaitingPopup("parent-scroll-element"),i=0,n=o.length;i<n;i++)(t=o[i])["_paste_marked_"+r]||(e(t.src),$(t).remove());return s._target.trigger("_pasteCheckContainerDone")}),1)},e}(),$(document).on("click","#close-comment",function(){parent.isViewerV2Enabled?parent.$("#sync_report_viewer_toolbar_comments").trigger("click"):closeComments()}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i){"use strict";var n,o,r,s;t.version="14.4.0.15",t.consts={NamespaceJoin:"-"},t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},t.Orientation={Horizontal:"horizontal",Vertical:"vertical"},t.serverTimezoneOffset=0,t.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==i}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t.defineClass=function(e,n,o,r){if(!e||!o)return i;for(var s=e.split("."),a=window,l=0;l<s.length-1;l++)t.isNullOrUndefined(a[s[l]])&&(a[s[l]]={}),a=a[s[l]];return(r||t.isNullOrUndefined(a[s[l]]))&&(n="function"==typeof n?n:function(){},a[s[l]]=n,a[s[l]].prototype=o),a[s[l]]},t.util={getNameSpace:function(e){var i=e.toLowerCase().split(".");return"ej"===i[0]&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(e,n){var o,r,s;if(!n)return i;for(o=n,r=e.split("."),s=0;s<r.length&&!t.util.isNullOrUndefined(o);s++)o=o[r[s]];return o},createObject:function(e,n,o){for(var r,s=e.split("."),a=o||window,l=a,c=s.length,h=0;h<c;h++)r=s[h],h+1==c?l[r]=n===i?{}:n:t.isNullOrUndefined(l[r])&&(l[r]={}),l=l[r];return a},isNullOrUndefined:function(e){return e===i||null===e},print:function(i,n){var o,r,s=t.buildTag("div"),a=i.clone();s.append(a),n||(n=window.open("","print","height=452,width=1024,tabbar=no")),n.document.write("<!DOCTYPE html>"),o=e("head").find("link").add("style"),"msie"===t.browserInfo().name?(r="",o.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),r+=i.outerHTML}),n.document.write("<html><head></head><body>"+r+s[0].innerHTML+"</body></html>")):(r="",n.document.write("<html><head>"),o.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),r+=i.outerHTML}),n.document.writeln(r+"</head><body>"),n.document.writeln(s[0].innerHTML+"</body></html>")),n.document.close(),n.focus(),setTimeout(function(){t.isNullOrUndefined(n.window)||(n.print(),setTimeout(function(){n.close()},1e3))},1e3)},ieClearRemover:function(t){var i=e(t).height();t.style.paddingTop=parseFloat(i/2)+"px",t.style.paddingBottom=parseFloat(i/2)+"px",t.style.height="1px",t.style.lineHeight="1px"},sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.successHandler,error:t.errorHandler,beforeSend:t.beforeSendHandler,complete:t.completeHandler})},buildTag:function(t,n,o,r){var s,a=/^[a-z]*[0-9a-z]+/gi.exec(t)[0],l=/#([_a-z]+[-_0-9a-z]+)/gi.exec(t);return l=l?l[l.length-1]:i,s=(s=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(t))?s[s.length-1]:i,e(document.createElement(a)).attr(l?{id:l}:{}).addClass(s||"").css(o||{}).attr(r||{}).html(n||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var t=1;return((t=Math.max.apply(null,e.map(e("body *"),function(t){if("absolute"==e(t).css("position")||"fixed"==e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))==i||null==t)&&(t=1),t},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(t,i){var n,o,r,s=e(t).parents().andSelf().filter(":hidden");return s&&(o={visibility:"hidden",display:"block"},r=[],s.each(function(){var e={};for(var t in o)e[t]=this.style[t],this.style[t]=o[t];r.push(e)}),n=/(outer)/g.test(i)?e(t)[i](!0):e(t)[i](),s.each(function(e){var t=r[e];for(var i in o)this.style[i]=t[i]})),n},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||e.support.hasPointer?e.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(e("head"),"data-ej-forceset",!1)?t.getBooleanVal(e("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&t.isPortrait()&&t.isDevice()||window.innerWidth<=800&&!t.isDevice()||window.innerWidth<=800&&!t.isPortrait()&&t.isWindows()&&t.isDevice()||t.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-tablet",!1)||!t.isMobile()&&t.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&t.isMobile())&&this.isDevice()},getClearString:function(t){return e.trim(t.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,n){var o=e(t).attr(i);return null!=o?"true"==o.toLowerCase():n},_getSkewClass:function(e,t,i){var n=e.width(),o=e.height(),r=e.offset().left,s=e.offset().left+n,a=e.offset().top,l=e.offset().top+o,c=.3*n,h=.3*o;return t<r+c&&i<a+h?"e-m-skew-topleft":t>s-c&&i<a+h?"e-m-skew-topright":t>s-c&&i>l-h?"e-m-skew-bottomright":t<r+c&&i>l-h?"e-m-skew-bottomleft":t>r+c&&i<a+h&&t<s-c?"e-m-skew-top":t<r+c?"e-m-skew-left":t>s-c?"e-m-skew-right":i>l-h?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){e(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){if(e){var i=e.touches?e.touches[0]:e;t._distX=0,t._distY=0,t._moved=!1,t._pointX=i.pageX,t._pointY=i.pageY}},_isTouchMoved:function(e,t){if(e){var i,n,o=e.touches?e.touches[0]:e,r=o.pageX-t._pointX,s=o.pageY-t._pointY;Date.now();return t._pointX=o.pageX,t._pointY=o.pageY,t._distX+=r,t._distY+=s,i=Math.abs(t._distX),n=Math.abs(t._distY),!(i<5&&n<5)}},listenEvents:function(e,i,n,o,r,s){for(var a=0;a<e.length;a++)t.listenTouchEvent(e[a],i[a],n[a],o,r,s)},listenTouchEvent:function(i,n,o,r,s,a){for(var l,c=r?"removeEventListener":"addEventListener",h=r?"off":"on",d=e(i),u=0;u<d.length;u++)switch(l=d[u],n){case"touchstart":t._bindEvent(l,c,n,o,"mousedown","MSPointerDown","pointerdown",a);break;case"touchmove":t._bindEvent(l,c,n,o,"mousemove","MSPointerMove","pointermove",a);break;case"touchend":t._bindEvent(l,c,n,o,"mouseup","MSPointerUp","pointerup",a);break;case"touchcancel":t._bindEvent(l,c,n,o,"mousecancel","MSPointerCancel","pointercancel",a);break;case"tap":case"taphold":case"ejtouchmove":case"click":e(l)[h](n,o);break;default:"msie"==t.browserInfo().name&&t.browserInfo().version<9?s._on(e(l),n,o):l[c](n,o,!0)}},_bindEvent:function(t,i,n,o,r,s,a){e.support.hasPointer?t[i](window.navigator.pointerEnabled?a:s,o,!0):t[i](n,o,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),i=0,n=e.length;i<n;i++)if(e[i]+"ransform"in t.styles)return e[i].substr(0,e[i].length-1);return!1},addPrefix:function(e){return""===t.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),t.userAgent()+e)},destroyWidgets:function(t){e(t).find("[data-role *= ejm]").each(function(t,i){var n=e(i),o=n.data("ejWidgets");o&&n[o]("destroy")})},getAttrVal:function(t,i,n){var o=e(t).attr(i);return null!=o?o:n},getOffset:function(t){var i,n={},o=t.offset()||{left:0,top:0};return e.extend(!0,n,o),"static"!=e("body").css("position")&&(i=e("body").offset(),n.left-=i.left,n.top-=i.top),n},getZindexPartial:function(i,n){var o,r,s;if(!t.isNullOrUndefined(i)&&i.length>0)return o=i.parents(),r=e("body").children(),!t.isNullOrUndefined(i)&&i.length>0&&r.splice(r.index(n),1),e(r).each(function(e,t){o.push(t)}),s=Math.max.apply(s,e.map(o,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})),!s||s<1e4?s=1e4:s+=1,s},isValidAttr:function(t,i){var n;return void 0!==(t=e(t)[0])[i]||(n=!1,e.each(t,function(e){if(e.toLowerCase()==i.toLowerCase())return n=!0,!1}),n)}},e.extend(t,t.util),t.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(i,n,o,r){var s=null;return("object"==typeof i||i.startsWith("#")||i.startsWith("."))&&(s=e(i).attr("type")),s&&(s=s.toLowerCase(),t.template[s])?t.template[s](this,i,n,o,r):t.template.render(this,i,n,o,r)},destroy:function(){var i,n,o,r;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),e(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(i=this.element.data("ejWidgets")||[],r=0;r<i.length;r++)i[r]==this.pluginName&&i.splice(r,1);for(i.length||this.element.removeData("ejWidgets");this._events&&(o=[],n=this._events.pop());){for(r=0;r<n[1].length;r++)e.isPlainObject(n[1][r])||o.push(n[1][r]);e.fn.off.apply(n[0],o)}this._events=null,this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(i){this._events||(this._events=[]);for(var n=[].splice.call(arguments,1,arguments.length-1),o={},r=n.length;o&&"function"!=typeof o;)o=n[--r];return n[r]=t.proxy(n[r],this),this._events.push([i,n,o,n[r]]),e.fn.on.apply(i,n),this},_off:function(t,i,n,o){var r,s,a,l,c=this._events;if(!c||!c.length)return this;for("function"==typeof n&&(r=o,o=n,n=r),s=i.match(/\S+/g)||[""],a=0;a<c.length;a++)if((l=c[a])[0].length&&(!o||l[2]===o)&&(l[1][0]===i||s[0])&&(!n||l[1][1]===n)&&e.inArray(t[0],l[0])>-1){e.fn.off.apply(t,o?[i,n,l[3]]:[i,n]),c.splice(a,1);break}return this},_trigger:function(i,n){var o,r,s,a,l=null,c={};return e.extend(c,n),i in this.model&&(l=this.model[i]),l&&("string"==typeof l&&(l=t.util.getObject(l,window)),e.isFunction(l)&&(r=t.event(i,this.model,n),o=l.call(this,r),(s=this.model._applyScope)&&s.call(),n&&e.extend(n,r),r.cancel||!t.isNullOrUndefined(o)))?!1===o||r.cancel:(a=Boolean(n),(n=n||{}).originalEventType=i,n.type=this.pluginName+i,r=e.Event(n.type,t.event(n.type,this.model,n)),this.element.trigger(r),a&&e.extend(n,r),t.isOnWebForms&&0==r.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,n,c),r.cancel)},setModel:function(t,i){var o,r,s,a;if(!this._trigger("modelChange",{changes:t})){for(o in t){if(!i){if(this.model[o]===t[o]){delete t[o];continue}if(e.isPlainObject(t[o])&&(n(this.model[o],t[o]),e.isEmptyObject(t[o]))){delete t[o];continue}}if(this.dataTypes&&!0!==(r=this._isValidModelValue(o,this.dataTypes,t)))throw"setModel - Invalid input for property :"+o+" - "+r;this.model.notifyOnEachPropertyChanges&&this.model[o]!==t[o]&&(s={oldValue:this.model[o],newValue:t[o]},t[o]=this._trigger(o+"Change",s)?this.model[o]:s.newValue)}e.isEmptyObject(t)||(this._setFirst?((a=t.dataSource)&&delete t.dataSource,e.extend(!0,this.model,t),a&&(this.model.dataSource=a instanceof Array?a.slice():a,t.dataSource=this.model.dataSource),this._setModel&&this._setModel(t)):this._setModel&&!1===this._setModel(t)||e.extend(!0,this.model,t),"enablePersistence"in t&&this._setState(t.enablePersistence))}},option:function(n,o,r){if(!n)return this.model;if(e.isPlainObject(n))return this.setModel(n,r);if("string"==typeof n){n=n.replace(/^model\./,"");var s=t.getObject(n,this.model);if(o===i&&!r)return s;if("enablePersistence"===n)return this._setState(o);if(r&&o===t.extensions.modelGUID)return this._setModel(t.createObject(n,t.getObject(n,this.model),{}));if(r||t.getObject(n,this.model)!==o)return this.setModel(t.createObject(n,o,{}),r)}return i},_isValidModelValue:function(e,t,i){var n,o,r,s=t[e],a=i[e];if(!s)return!0;if("string"==typeof s){if("enum"==s&&(i[e]=a?a.toString().toLowerCase():a,s="string"),"array"===s){if("[object Array]"===Object.prototype.toString.call(a))return!0}else if("data"===s||"parent"===s||typeof a===s)return!0;return"Expected type - "+s}if(a instanceof Array){for(o=0;o<a.length;o++)if(!0!==(n=this._isValidModelValue(e,t,a[o])))return" ["+o+"] - "+n;return!0}for(r in a)if(!0!==(n=this._isValidModelValue(r,s,a)))return r+" : "+n;return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var i,n=this.observables,o=0;o<n.length;o++)i=t.getObject(n[o],e),t.isNullOrUndefined(i)||"function"!=typeof i||this._returnFn(e,n[o]);return JSON.stringify(e)},_setState:function(i){!0===i?(this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler)):(this.deleteState(),e(window).off("unload",this._persistHandler))},_removeProp:function(e,i){t.isNullOrUndefined(e)||(-1!=i.indexOf(".")?this._removeProp(e[i.split(".")[0]],i.split(".").slice(1).join(".")):delete e[i])},persistState:function(){var e,i;if(this._ignoreOnPersist){for(e=a({},this.model),i=0;i<this._ignoreOnPersist.length;i++)this._removeProp(e,this._ignoreOnPersist[i]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},i=0;i<this._addToPersist.length;i++)t.createObject(this._addToPersist[i],t.getObject(this._addToPersist[i],this.model),e);e.addToPersist=this._addToPersist}else e=a({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(t.isNullOrUndefined(t.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",t.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(t.isNullOrUndefined(t.persistStateVersion)||null!=t.cookie.get("persistKey")||t.cookie.set("persistKey",t.persistStateVersion),t.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&t.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(i){var n,o,r=null;if(window.localStorage?r=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(r=t.cookie.get("$ej$"+this.pluginName+this._id)),r&&(n=JSON.parse(r),this._restoreState&&(this._restoreState(n.customPersists),delete n.customPersists),!1===t.isNullOrUndefined(n)&&(t.isNullOrUndefined(n.ignoreOnPersist)?t.isNullOrUndefined(n.addToPersist)||(this._addToPersist=n.addToPersist,delete n.addToPersist):(this._ignoreOnPersist=n.ignoreOnPersist,delete n.ignoreOnPersist))),t.isNullOrUndefined(n)||t.isNullOrUndefined(this._ignoreOnPersist))this.model=e.extend(!0,this.model,n);else{for(o in this._ignoreOnPersist)-1!==this._ignoreOnPersist[o].indexOf(".")?t.createObject(this._ignoreOnPersist[o],t.getObject(this._ignoreOnPersist[o],this.model),n):n[this._ignoreOnPersist[o]]=this.model[this._ignoreOnPersist[o]];this.model=n}!i&&r&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,n,o=[];if("object"==typeof e?o=e:"string"==typeof e&&o.push(e),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<o.length;t++)this._ignoreOnPersist.push(o[t]);else for(t=0;t<o.length;t++)n=this._addToPersist.indexOf(o[t]),this._addToPersist.splice(n,1)},addToPersist:function(t){var n,o,r=[];if("object"==typeof t?r=t:"string"==typeof t&&r.push(t),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],o=0;o<r.length;o++)n=this._ignoreOnPersist.indexOf(r[o]),this._ignoreOnPersist.splice(n,1);else for(o=0;o<r.length;o++)-1===e.inArray(r[o],this._addToPersist)&&this._addToPersist.push(r[o])},formatting:function(i,n,o){var r,s,a,l,c,h,d,u;if(i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),o=t.preferredCulture(o)?o:"en-US",r=i,s=i.split("{0:"),c=i.split("}"),a=s[0],l=c[1],"string"==typeof n&&e.isNumeric(n)&&(n=Number(n)),-1!=i.indexOf("{0:"))return null!=(h=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(i))&&null!=n?null!=a&&null!=l?a+t.format(n,h[2],o)+l:t.format(n,h[2],o):null!=n?n:"";if(r.startsWith("{")&&!r.startsWith("{0:")){var p=r.split(""),f=(n=(n||"")+"").split(""),m=/[0aA\*CN<>\?]/gm;for(d=0,u=0;d<p.length;d++)p[d]=m.test(p[d])?"{"+u+++"}":p[d];return String.format.apply(String,[p.join("")].concat(f)).replace("{","").replace("}","")}return null!=this.data&&null==this.data.Value?(e.each(this.data,function(e,t){r=r.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),r):this.data.Value}},t.WidgetBase=function(){},n=function(t,i){for(var o in t)t[o]===i[o]&&delete i[o],e.isPlainObject(i[o])&&e.isPlainObject(t[o])&&n(t[o],i[o])},t.widget=function(n,r,c){var d,u,p;if("object"!=typeof n)p=c._rootCSS||t.getNameSpace(r),c=t.defineClass(r,function(i,s){var h,d,u,f,m,g,v,b,y,_;if(this.sfType=r,this.pluginName=n,this.instance=l,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},e.extend(this,t.widgetBase),this.dataTypes)for(h in s)if(!0!==(d=this._isValidModelValue(h,this.dataTypes,s)))throw"setModel - Invalid input for property :"+h+" - "+d;for((u=i.data("ejWidgets")||[]).push(n),i.data("ejWidgets",u),m=0;t.widget.observables&&this.observables&&m<this.observables.length;m++)(f=t.getObject(this.observables[m],s))&&t.createObject(this.observables[m],t.widget.observables.register(f,this.observables[m],this,i),s);if(this.element=i.jquery?i:e(i),this.model=a(!0,{},c.prototype.defaults,s),this.model.keyConfigs=a(this.keyConfigs),this.element.addClass(p+" e-js").data(n,this),this._id=i[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!t.isNullOrUndefined(t.persistStateVersion)&&window.localStorage.getItem("persistKey")!=t.persistStateVersion)for(m in window.localStorage)-1!=m.indexOf("$ej$")&&window.localStorage.removeItem(m);else if(document.cookie&&!t.isNullOrUndefined(t.persistStateVersion)&&t.cookie.get("persistKey")!=t.persistStateVersion)for(g in document.cookie.split(/; */))-1!=g.indexOf("$ej$")&&t.cookie.set(g.split("=")[0],model,new Date);this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(s),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(b in v=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==b){v=!0;break}v&&this._keyPressed&&(y=i,_="keydown",this.keySettings&&(y=this.keySettings.getElement&&this.keySettings.getElement()||y,_=this.keySettings.event||_),this._on(y,_,function(e){if(this.model.keyConfigs){var t=o.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey};t&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}}))}this._trigger("create")},c),e.fn[n]=function(o){for(var a,l,d=o,u=0;u<this.length;u++){var f=e(this[u]),m=f.data(n),g=m&&f.hasClass(p),v=null;if(this.length>0&&e.isPlainObject(d)&&(o=t.copyObject({},d)),g){if(o)if(l=[].slice.call(arguments,1),this.length>0&&l[0]&&"option"===d&&e.isPlainObject(l[0])&&(l[0]=t.copyObject({},l[0])),e.isPlainObject(o))m.setModel(o);else if(0!==o.indexOf("_")&&!t.isNullOrUndefined(v=t.getObject(o,m))||0===o.indexOf("model.")){if(!v||!e.isFunction(v)){if(1==arguments.length)return v;m.option(o,arguments[1]);continue}if((a=v.apply(m,l))!==i)return a}else s(r+": function/property - "+o+" does not exist")}else!0!==c.prototype._requiresID||e(this[u]).attr("id")||f.attr("id",h("ejControl_")),o&&"object"!=typeof o?s(n+": methods/properties can be accessed only after plugin creation"):(c.prototype.defaults&&!t.isNullOrUndefined(t.setCulture)&&"locale"in c.prototype.defaults&&"ejChart"!=n&&(!o||"locale"in o?t.isNullOrUndefined(o)&&((o={}).locale=t.setCulture().name):o.locale=t.setCulture().name),new c(f,o))}return-1!=n.indexOf("ejm")&&t.widget.registerInstance(f,n,r,c.prototype),this},t.widget.register(n,r,c.prototype);else for(d in c=r,n)(u=n[d])instanceof Array&&(c._rootCSS=u[1],u=u[0]),t.widget(d,u,c),n[d]instanceof Array&&(c._rootCSS="")},e.extend(t.widget,function(){var e={},i=[];return{register:function(i,n,o){t.isNullOrUndefined(e[i])||s("ej.widget : The widget named "+i+" is trying to register twice."),e[i]={name:i,className:n,proto:o},t.widget.extensions&&t.widget.extensions.registerWidget(i)},registerInstance:function(e,t,n,o){i.push({element:e,pluginName:t,className:n,proto:o})},registeredWidgets:e,registeredInstances:i}}()),t.widget.destroyAll=function(e){var t,i,n,o;if(e&&e.length)for(t=0;t<e.length;t++)if((n=(i=e.eq(t).data()).ejWidgets)&&n.length)for(o=0;o<n.length;o++)i[n[o]]&&i[n[o]].destroy&&i[n[o]].destroy()},t.cookie={get:function(e){var t=RegExp(e+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},o={getActionFromCode:function(e,t,i,n,r){var s,a,l;for(s in i=i||!1,n=n||!1,r=r||!1,e)if("focus"!==s)for(a=o.getKeyObject(e[s]),l=0;l<a.length;l++)if(t===a[l].code&&i==a[l].isCtrl&&n==a[l].isShift&&r==a[l].isAlt)return s;return null},getKeyObject:function(t){for(var i,n,r,s={isCtrl:!1,isShift:!1,isAlt:!1},a=e.extend(!0,{},s),l=t.split(","),c=[],h=0;h<l.length;h++){if(i=null,-1!=l[h].indexOf("+"))for(n=l[h].split("+"),r=0;r<n.length;r++)i=o.getResult(e.trim(n[r]),s);else i=o.getResult(e.trim(l[h]),e.extend(!0,{},a));c.push(i)}return c},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},t.getScrollableParents=function(t){return e(t).parentsUntil("html").filter(function(){return"visible"!=e(this).css("overflow")}).add(e(window))},t.browserInfo=function(){var i,n,o,r,s={},a=[],l={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in l)if(l.hasOwnProperty(i)&&(a=navigator.userAgent.match(l[i]))){if(s.name="opr"==a[1].toLowerCase()?"opera":a[1].toLowerCase(),s.version=a[2],s.culture={},s.culture.name=s.culture.language=navigator.language||navigator.userLanguage,void 0!==t.globalize){for(n=t.preferredCulture().name,o=navigator.language||navigator.userLanguage?t.preferredCulture(navigator.language||navigator.userLanguage):t.preferredCulture("en-US"),r=0;navigator.languages&&r<navigator.languages.length&&(o=t.preferredCulture(navigator.languages[r])).language!=navigator.languages[r];r++);t.preferredCulture(n),e.extend(!0,s.culture,o)}!navigator.userAgent.match(/Trident\/7\./)||(s.name="msie");break}return s.isMSPointerEnabled="msie"==s.name&&s.version>9&&window.navigator.msPointerEnabled,s.pointerEnabled=window.navigator.pointerEnabled,s},t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},t.event=function(t,i,n){return e.extend(n||{},{type:t,model:i,cancel:!1})},t.proxy=function(e,t,i){return e&&"function"==typeof e?"on"in e&&t?i?e.on(t,i):e.on(t):function(){var n=i?[i]:[];return n.push.apply(n,arguments),e.apply(t||this,n)}:null},t.hasStyle=function(e){var t,i,n=document.documentElement.style;if(e in n)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in n)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var a=t.copyObject=function(e,n){var o,r,s,l,c,h,d=2;for("boolean"!=typeof e&&(d=1),s=[].slice.call(arguments,d),1===d&&(n=e,e=i),l=0;l<s.length;l++)for(c in s[l])if(o=n[c],(r=s[l][c])!==i&&o!==r&&s[l]!==r&&n!==r)if(r instanceof Array)if(0===l&&e)for(n[c]=[],h=0;h<r.length;h++)a(!0,n[c],r);else n[c]=r.slice();else t.isPlainObject(r)?(n[c]=o||{},e?a(e,n[c],r):a(n[c],r)):n[c]=r;return n},l=function(){return this},c=0,h=function(e){return e+c++};t.template={},t.template.render=t.template["text/x-jsrender"]=function(t,i,n,o,r){"#"!==i.slice(0,1)&&(i=["<div>",i,"</div>"].join(""));var s={prop:r,index:o};return e(i).render(n,s)},t.isPlainObject=function(e){if(!e||t.DataManager!==i&&e instanceof t.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var n,o=t.support.isOwnLast;for(n in e)if(o)break;return n===i||e.hasOwnProperty(n)},r=!1,t.util.valueFunction=function(e){return function(n,o){var s=t.getObject(e,this.model);if(!1===r&&(r=t.getObject("observables.getValue",t.widget)),n===i)return t.isNullOrUndefined(r)?"function"==typeof s?s.call(this):s:r(s,o);"function"==typeof s?(this["ob.values"][e]=n,s.call(this,n)):t.createObject(e,n,this.model)}},t.util.getVal=function(e){return"function"==typeof e?e():e},t.support={isOwnLast:function(){var e,t=function(){this.a=1};for(e in t.prototype.b=1,new t)return"b"===e}(),outerHTML:document.createElement("div").outerHTML!==i},s=t.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},t.getRandomValue=function(e,n){var o,r;return e===i||n===i?t.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(r=new Uint16Array(1),window.crypto.getRandomValues(r),o=r[0]%(n-e)+e):o=Math.random()*(n-e)+e,0|o)},t.extensions={},t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(e){var t=$(this);$.each(e,function(e,i){i&&i.specified&&t.attr(i.name,i.value)})},$.fn.removeEleAttrs=function(e){return this.each(function(){var t=$(this),i=$(this.attributes).clone();$.each(i,function(i,n){n&&n.specified&&e.test(n.name)&&t.removeAttr(n.name)})})},$.fn.attrNotStartsWith=function(e){var t,n=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;n.push(t[i])}return n},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var e=$(this),t=$(this.attributes).clone();$.each(t,function(t,i){i&&i.specified&&""===i.value&&e.removeAttr(i.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var n=e.attributes,o=0;o<n.length;o++)if(0===n[o].nodeName.indexOf(i[3]))return!1;return!0}});var e=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}()}),
/*!
*  filename: ej.data.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i,n){"use strict";var o,r,s,a,l,c,h,d,u;t.DataManager=function(i,o,r){if(!(this instanceof t.DataManager))return new t.DataManager(i,o,r);i||(i=[]),"string"==typeof(r=r||i.adaptor)&&(r=new t[r]);var s=[],a=this;return i instanceof Array?s={json:i,offline:!0}:"object"==typeof i?e.isPlainObject(i)?(i.json||(i.json=[]),i.table&&(i.json=this._getJsonFromElement(i.table,i.headerOption)),s={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,timeTillExpiration:i.timeTillExpiration,cachingPageSize:i.cachingPageSize,enableCaching:i.enableCaching,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,jsonp:i.jsonp,dataType:i.dataType,offline:i.offline!==n?i.offline:!("remoteSaveAdaptor"==i.adaptor||i.adaptor instanceof t.remoteSaveAdaptor)&&!i.url,requiresFormat:i.requiresFormat}):(i.jquery||P(i))&&(s={json:this._getJsonFromElement(i),offline:!0,table:i}):"string"==typeof i&&(s={url:i,offline:!1,dataType:"json",json:[]}),s.requiresFormat!==n||t.support.cors||(s.requiresFormat=!!d(s.crossDomain)||s.crossDomain),s.dataType===n&&(s.dataType="json"),this.dataSource=s,this.defaultQuery=o,s.url&&s.offline&&!s.json.length?(this.isDataAvailable=!1,this.adaptor=r||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(o||t.Query()).done(function(e){a.dataSource.offline=!0,a.isDataAvailable=!0,s.json=e.result,a.adaptor=new t.JsonAdaptor})):this.adaptor=s.offline?new t.JsonAdaptor:new t.ODataAdaptor,!s.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(s.jsonp="callback"),this.adaptor=r||this.adaptor,s.enableCaching&&(this.adaptor=new t.CacheAdaptor(this.adaptor,s.timeTillExpiration,s.cachingPageSize)),this},t.DataManager.prototype={setDefaultQuery:function(e){this.defaultQuery=e},executeQuery:function(i,o,r,s){var a,c,h;return"function"==typeof i&&(s=r,r=o,o=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||u("DataManager - executeQuery() : A query is required to execute"),(a=e.Deferred()).then(o,r,s),c={query:i},this.dataSource.offline||this.dataSource.url==n?t.isNullOrUndefined(this.dataSource.async)||0!=this.dataSource.async?l(function(){this._localQueryProcess(i,c,a)},this):this._localQueryProcess(i,c,a):(h=this.adaptor.processQuery(this,i),t.isNullOrUndefined(h.url)?l(function(){c=this._getDeferedArgs(i,h,c),a.resolveWith(this,[c])},this):this._makeRequest(h,a,c,i)),a.promise()},_localQueryProcess:function(e,t,i){var n=this.executeLocal(e);t=this._getDeferedArgs(e,n,t),i.resolveWith(this,[t])},_getDeferedArgs:function(e,t,i){return e._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=z(e._fromTable,i.result,this),i.getKnockoutModel=H(i.result),i},executeLocal:function(i){var n,o;if(this.defaultQuery||i instanceof t.Query||u("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||u("DataManager - executeLocal() : Json data is required to execute"),i=i||this.defaultQuery,n=this.adaptor.processQuery(this,i),i._subQuery){var r=i._subQuery._fromTable,s=i._subQuery._lookup,a=i._requiresCount?n.result:n;for(s&&s instanceof Array&&p(i._subQuery._fKey,r,a,s,i._subQuery._key),o=0;o<a.length;o++)a[o][r]instanceof Array&&(a[o]=e.extend({},a[o]),a[o][r]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(a[o][r].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(n,this,i)},_makeRequest:function(i,n,o,r){var s,a=!!r._subQuerySelector,l=h(function(e){o.error=e,n.rejectWith(this,[o])},this),d=h(function(e,t,i,s,l,c,h){a||(o.xhr=i,o.count=parseInt(t,10),o.result=e,o.request=s,o.aggregates=c,o.getTableModel=z(r._fromTable,e,this),o.getKnockoutModel=H(e),o.actual=l,o.virtualSelectRecords=h,n.resolveWith(this,[o]))},this),u=h(function(t,i){var n,s,c=e.Deferred(),h={parent:o};return r._subQuery._isChild=!0,n=this.adaptor.processQuery(this,r._subQuery,t?this.adaptor.processResponse(t):i),s=this._makeRequest(n,c,h,r._subQuery),a||c.then(function(e){t&&(p(r._subQuery._fKey,r._subQuery._fromTable,t,e,r._subQuery._key),d(t))},l),s},this),f=c(function(e,i,n,o){-1==n.getResponseHeader("Content-Type").indexOf("xml")&&t.dateParse&&(e=t.parseJSON(e));var s=this.adaptor.processResponse(e,this,r,n,o),l=0,c=null,h=e.virtualSelectRecords;r._requiresCount&&(l=s.count,c=s.aggregates,s=s.result),r._subQuery?a||u(s):d(s,l,n,o,e,c,h)},this),m=e.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:h(this._beforeSend,this),processData:!1,success:f,error:l},i);return"async"in this.dataSource&&(m.async=this.dataSource.async),m=e.ajax(m),a&&((s=r._subQuerySelector.call(this,{query:r._subQuery,parent:r}))&&s.length?(m=e.when(m,u(null,s))).then(c(function(e,t,i){var n,o=this.adaptor.processResponse(e[0],this,r,e[2],i[0]),s=0;r._requiresCount&&(s=o.count,o=o.result),n=this.adaptor.processResponse(t[0],this,r._subQuery,t[2],i[1]),s=0,r._subQuery._requiresCount&&(s=n.count,n=n.result),p(r._subQuery._fKey,r._subQuery._fromTable,o,n,r._subQuery._key),a=!1,d(o,s,e[2])},this),l):a=!1),m},_beforeSend:function(e,t){var i,n,o,r;for(this.adaptor.beforeSend(this,e,t),i=this.dataSource.headers,o=0;i&&o<i.length;o++)for(r in n=[],i[o])n.push(r),e.setRequestHeader(r,i[o][r])},saveChanges:function(i,n,o,r){var s,a,l;return o instanceof t.Query&&(r=o,o=null),s={url:o,key:n||this.dataSource.key},a=this.adaptor.batchRequest(this,i,s,r),this.dataSource.offline?a:(l=e.Deferred(),e.ajax(e.extend({beforeSend:h(this._beforeSend,this),success:c(function(e,t,n,o){l.resolveWith(this,[this.adaptor.processResponse(e,this,null,n,o,i)])},this),error:function(e){l.rejectWith(this,[{error:e}])}},a)),l.promise())},insert:function(i,n,o){var r,s;return i=_.replacer(i),n instanceof t.Query&&(o=n,n=null),r=this.adaptor.insert(this,i,n,o),this.dataSource.offline?r:(s=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:h(this._beforeSend,this),success:c(function(e,i,n,o){try{t.isNullOrUndefined(e)?e=[]:_.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(_.parseJson(e),this,null,n,o),s.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){s.rejectWith(this,[{error:e,dataManager:this}])}},r)),s.promise())},remove:function(i,n,o,r){var s,a;return"object"==typeof n&&(n=n[i]),o instanceof t.Query&&(r=o,o=null),s=this.adaptor.remove(this,i,n,o,r),this.dataSource.offline?s:(a=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:h(this._beforeSend,this),success:c(function(e,i,n,o){try{t.isNullOrUndefined(e)?e=[]:_.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(_.parseJson(e),this,null,n,o),a.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){a.rejectWith(this,[{error:e,dataManager:this}])}},s)),a.promise())},update:function(i,n,o,r){var s,a;return n=_.replacer(n),o instanceof t.Query&&(r=o,o=null),s=this.adaptor.update(this,i,n,o,r),this.dataSource.offline?s:(a=e.Deferred(),e.ajax(e.extend({contentType:"application/json; charset=utf-8",beforeSend:h(this._beforeSend,this),success:c(function(e,i,n,o){try{t.isNullOrUndefined(e)?e=[]:_.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(_.parseJson(e),this,null,n,o),a.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){a.rejectWith(this,[{error:e,dataManager:this}])}},s)),a.promise())},_getJsonFromElement:function(i){"string"==typeof i&&(i=e(e(i).html()));var n=(i=i.jquery?i[0]:i).tagName.toLowerCase();return"table"!==n&&u("ej.DataManager : Unsupported htmlElement : "+n),t.parseTable(i)}};var p=function(e,i,n,o,r){var s,a,l={};for(o.result&&(o=o.result),o.GROUPGUID&&u("ej.DataManager: Do not have support Grouping in hierarchy"),s=0;s<o.length;s++)(l[a=t.getObject(e,o[s])]||(l[a]=[])).push(o[s]);for(s=0;s<n.length;s++)n[s][i]=l[t.getObject(r||e,n[s])]},f="application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",m="multipart/mixed",g="--changeset_",v="batch_",b="Content-Type: application/http\nContent-Transfer-Encoding: binary ",y="Content-Type: application/json; charset=utf-8 ",_={parseJson:function(e){var t=typeof e;return"string"===t?e=JSON.parse(e,_.jsonReviver):e instanceof Array?_.iterateAndReviveArray(e):"object"===t&&_.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)"object"==typeof e[t]?_.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{|\"/g.test(e[t])?_.parseJson(e[t]):_.jsonReviver("",e[t])},iterateAndReviveJson:function(e){var t;for(var i in e)i.startsWith("__")||("object"==typeof(t=e[i])?t instanceof Array?_.iterateAndReviveArray(t):_.iterateAndReviveJson(t):e[i]=_.jsonReviver(i,t))},jsonReviver:function(e,t){var i,n,o=t;if("string"==typeof t){if(i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t))return _.replacer(new Date(parseInt(i[1])));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=_.replacer(new Date(t)),isNaN(t)&&(n=o.split(/[^0-9]/),t=_.replacer(new Date(n[0],n[1]-1,n[2],n[3],n[4],n[5]))))}return t},isJson:function(e){return"string"==typeof e[0]?e:t.parseJSON(e)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(e){return t.isPlainObject(e)?_.jsonReplacer(e):e instanceof Array?_.arrayReplacer(e):e instanceof Date?_.jsonReplacer({val:e}).val:e},jsonReplacer:function(e){var i;for(var n in e)(i=e[n])instanceof Date&&(e[n]=new Date(+i+36e5*t.serverTimezoneOffset));return e},arrayReplacer:function(e){for(var i=0;i<e.length;i++)t.isPlainObject(e[i])?e[i]=_.jsonReplacer(e[i]):e[i]instanceof Date&&(e[i]=_.jsonReplacer({date:e[i]}).date);return e}};t.isJSON=_.isJson,t.parseJSON=_.parseJson,t.dateParse=!0,t.isGUID=_.isGuid,t.Query=function(e){return this instanceof t.Query?(this.queries=[],this._key="",this._fKey="","string"==typeof e?this._fromTable=e||"":e&&e instanceof Array&&(this._lookup=e),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(e)},t.Query.prototype={key:function(e){return"string"==typeof e&&(this._key=e),this},using:function(e){return e instanceof t.DataManager?(this.dataManagar=e,this):u("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(e,i,n,o){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeQuery(this,i,n,o):u("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(e){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeLocal(this):u("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var e=new t.Query;return e.queries=this.queries.slice(0),e._key=this._key,e._isChild=this._isChild,e.dataManagar=this.dataManager,e._fromTable=this._fromTable,e._params=this._params.slice(0),e._expands=this._expands.slice(0),e._sortedColumns=this._sortedColumns.slice(0),e._groupedColumns=this._groupedColumns.slice(0),e._subQuerySelector=this._subQuerySelector,e._subQuery=this._subQuery,e._fKey=this._fKey,e._requiresCount=this._requiresCount,e},from:function(e){return"string"==typeof e&&(this._fromTable=e),this},addParams:function(e,i){return"function"==typeof i||t.isPlainObject(i)?"function"==typeof i&&this._params.push({key:e,fn:i}):this._params.push({key:e,value:i}),this},expand:function(e){return this._expands="string"==typeof e?[].slice.call(arguments,0):e.slice(0),this},where:function(e,i,n,o){i=(i||t.FilterOperators.equal).toLowerCase();var r=null;return"string"==typeof e?r=new t.Predicate(e,i,n,o):e instanceof t.Predicate?r=e:u("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:r}),this},search:function(e,i,n,o){i&&"boolean"!=typeof i?"string"==typeof i&&(i=[i]):o=i=[],"boolean"==typeof n&&(o=n,n=null),(n=n||t.FilterOperators.contains).length<3&&(n=t.data.operatorSymbols[n]);var r=t.data.fnOperators[n]||t.data.fnOperators.processSymbols(n);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:n,searchKey:e,ignoreCase:o,comparer:r}}),this},sortBy:function(e,i,n){var o,r,s,a,l=t.sortOrder.Ascending;if("string"==typeof e&&e.toLowerCase().endsWith(" desc")&&(e=e.replace(/ desc$/i,""),i=t.sortOrder.Descending),e instanceof Array){for(s=0;s<e.length;s++)this.sortBy(e[s],i,n);return this}if("boolean"==typeof i?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:"function"==typeof i&&(l="custom"),i&&"string"!=typeof i||(l=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),n)for(o=w(this.queries,"onSortBy"),s=0;s<o.length;s++)if("string"==typeof(r=o[s].e.fieldName)){if(r===e)return this}else if(r instanceof Array)for(a=0;a<r.length;a++)if(r[a]===e||e.toLowerCase()===r[a]+" desc")return this;return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:i,direction:l}}),this},sortByDesc:function(e){return this.sortBy(e,t.sortOrder.Descending)},group:function(e,t){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,fn:t}}),this},page:function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},range:function(e,t){return("number"!=typeof e||"number"!=typeof t)&&u("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},take:function(e){return"number"!=typeof e&&u("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:e}}),this},skip:function(e){return"number"!=typeof e&&u("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:e}}),this},select:function(e){return"string"==typeof e&&(e=[].slice.call(arguments,0)),e instanceof Array||u("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},hierarchy:function(e,i){return e&&e instanceof t.Query||u("Query() - hierarchy : query must be instance of ej.Query"),"function"==typeof i&&(this._subQuerySelector=i),this._subQuery=e,this},foreignKey:function(e){return"string"==typeof e&&(this._fKey=e),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(e,t){this.queries.push({fn:"onAggregates",e:{field:t,type:e}})}},t.Adaptor=function(e){this.dataSource=e,this.pvt={},this.init.apply(this,[].slice.call(arguments,1))},t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"},init:function(){},extend:function(t){var i,n,o=function(t){this.dataSource=t,this.options&&(this.options=e.extend({},this.options)),this.init.apply(this,[].slice.call(arguments,0)),this.pvt={}};for(n in(o.prototype=new this.type).type=o,i=o.prototype.base={},t)o.prototype[n]&&(i[n]=o.prototype[n]);return e.extend(!0,o.prototype,t),o},processQuery:function(){},processResponse:function(e){return e.d?e.d:e},convertToQueryString:function(t){return e.param(t)},type:t.Adaptor},t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(e,t,i){var n,r,s,a,l,c,h=w(t.queries,"onSortBy"),u=w(t.queries,"onGroup"),p=w(t.queries,"onWhere"),f=w(t.queries,"onSearch"),m=w(t.queries,"onAggregates"),g=x(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),v=t._params,b=e.dataSource.url,y=null,_=this.options,S={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]};for(g.onPage?(n=g.onPage,r=((r=o(n.pageIndex,t))-1)*(y=o(n.pageSize,t))):g.onRange&&(r=(n=g.onRange).start,y=n.end-n.start),s=0;s<h.length;s++)n=o(h[s].e.fieldName,t),S.sorted.push(C(this,"onEachSort",{name:n,direction:h[s].e.direction},t));for(i&&((n=this.getFiltersFrom(i,t))&&S.filters.push(C(this,"onEachWhere",n.toJSON(),t))),s=0;s<p.length;s++)for(l in S.filters.push(C(this,"onEachWhere",p[s].e.toJSON(),t)),S.filters[s])d(S[l])&&delete S[l];for(s=0;s<f.length;s++)n=f[s].e,S.searches.push(C(this,"onEachSearch",{fields:n.fieldNames,operator:n.operator,key:n.searchKey,ignoreCase:n.ignoreCase},t));for(s=0;s<u.length;s++)S.grouped.push(o(u[s].e.fieldName,t));for(s=0;s<m.length;s++)n=m[s].e,S.aggregates.push({type:n.type,field:o(n.field,t)});for(l in(a={})[_.from]=t._fromTable,_.expand&&(a[_.expand]=t._expands),a[_.select]=g.onSelect?C(this,"onSelect",o(g.onSelect.fieldNames,t),t):"",a[_.count]=t._requiresCount?C(this,"onCount",t._requiresCount,t):"",a[_.search]=S.searches.length?C(this,"onSearch",S.searches,t):"",a[_.skip]=g.onSkip?C(this,"onSkip",o(g.onSkip.nos,t),t):"",a[_.take]=g.onTake?C(this,"onTake",o(g.onTake.nos,t),t):"",a[_.where]=S.filters.length||S.searches.length?C(this,"onWhere",S.filters,t):"",a[_.sortBy]=S.sorted.length?C(this,"onSortBy",S.sorted,t):"",a[_.group]=S.grouped.length?C(this,"onGroup",S.grouped,t):"",a[_.aggregates]=S.aggregates.length?C(this,"onAggregates",S.aggregates,t):"",a.param=[],C(this,"addParams",{dm:e,query:t,params:v,reqParams:a}),a)(d(a[l])||""===a[l]||0===a[l].length)&&delete a[l];return _.skip in a&&_.take in a||null===y||(a[_.skip]=C(this,"onSkip",r,t),a[_.take]=C(this,"onTake",y,t)),c=this.pvt,this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(a),url:b,ejPvtData:c,type:"POST",contentType:"application/json; charset=utf-8"}:(n=this.convertToQueryString(a,t,e),{type:"GET",url:(n=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+n).length?b.replace(/\/*$/,n):b,ejPvtData:c})},convertToQueryString:function(t,i,n){return n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")?e.param(t):"?"+e.param(t)},processResponse:function(e,i,o,r,s,a){var l,c,h,d,u=s.ejPvtData||{},p=e.groupDs;if(r&&r.getResponseHeader("Content-Type")&&-1!=r.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return o._requiresCount?{result:[],count:0}:[];if((l=JSON.parse(s.data))&&"batch"===l.action&&e.added)return a.added=e.added,a;if(e.d&&(e=e.d),u&&u.aggregates&&u.aggregates.length){var f,m=u.aggregates,g={},v={};for(("count"in e&&(g.count=e.count),e.result&&(g.result=e.result),e.aggregate&&(e=e.aggregate),h=0);h<m.length;h++)(f=t.aggregates[m[h].type])&&(v[m[h].field+" - "+m[h].type]=f(e,m[h].field));g.aggregates=v,e=g}if(u&&u.groups&&u.groups.length){for((c=u.groups,g={},"count"in e&&(g.count=e.count),e.aggregates&&(g.aggregates=e.aggregates),e.result&&(e=e.result),h=0);h<c.length;h++)d=I(c[h],o.queries),t.isNullOrUndefined(p)||(p=t.group(p,c[h],null,d)),e=t.group(e,c[h],u.aggregates,d,null,p);return g.count!=n?g.result=e:g=e,g}return e},onGroup:function(e){this.pvt.groups=e},onAggregates:function(e){this.pvt.aggregates=e},batchRequest:function(e,t,i,n){var o={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:o}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(o)}},beforeSend:function(){},insert:function(e,t,i,n){var o={value:t,table:i,action:"insert"};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:o}),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(o)}},remove:function(e,t,i,n,o){var r={key:i,keyColumn:t,table:n,action:"remove"};return o&&this.addParams({dm:e,query:o,params:o._params,reqParams:r}),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(r)}},update:function(e,t,i,n,o){var r={value:i,action:"update",keyColumn:t,key:i[t],table:n};return o&&this.addParams({dm:e,query:o,params:o._params,reqParams:r}),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(r)}},getFiltersFrom:function(e,i){var n;e instanceof Array&&e.length||u("ej.SubQuery: Array of key values required");var o,r=i._fKey,s=r,a=i._key,l=[],c="object"!=typeof e[0];for("object"!=typeof e[0]&&(s=null),n=0;n<e.length;n++)o=c?e[n]:t.pvt.getObject(a||s,e[n]),l.push(new t.Predicate(r,"==",o));return t.Predicate.or(l)},addParams:function(e){var t,i,n=e.dm,o=e.query,r=e.params,s=e.reqParams;for(s.params={},t=0;i=r[t];t++)s[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),s[i.key]=i.value,i.fn&&(s[i.key]=i.fn.call(o,i.key,o,n)),s.params[i.key]=s[i.key]}}),t.WebMethodAdaptor=(new t.UrlAdaptor).extend({processQuery:function(e,i,n){var o=t.UrlAdaptor.prototype.processQuery(e,i,n),r=t.parseJSON(o.data),s={};return s.value=r,C(this,"addParams",{dm:e,query:i,params:i._params,reqParams:s}),{data:JSON.stringify(s),url:o.url,ejPvtData:o.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(e){var t,i,n,o,r=e.dm,s=e.query,a=e.params,l=e.reqParams;for(l.params={},t=0;i=a[t];t++)l[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),n=i.key,o=i.value,i.fn&&(o=i.fn.call(s,i.key,s,r)),l[n]=o,l.params[n]=l[n]}}),t.CacheAdaptor=(new t.UrlAdaptor).extend({init:function(e,i,n){var o,r;t.isNullOrUndefined(e)||(this.cacheAdaptor=e),this.pageSize=n,this.guidId=t.getGuid("cacheAdaptor"),o={keys:[],results:[]},window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify(o)),r=this.guidId,t.isNullOrUndefined(i)||setInterval(function(){for(var e=t.parseJSON(window.localStorage.getItem(r)),n=[],o=0;o<e.results.length;o++)e.results[o].timeStamp=new Date-new Date(e.results[o].timeStamp),new Date-new Date(e.results[o].timeStamp)>i&&n.push(o);for(o=0;o<n.length;o++)e.results.splice(n[o],1),e.keys.splice(n[o],1);window.localStorage.removeItem(r),window.localStorage.setItem(r,JSON.stringify(e))},i)},generateKey:function(e,t){var i,n,o,r,s=w(t.queries,"onSortBy"),a=w(t.queries,"onGroup"),l=w(t.queries,"onWhere"),c=w(t.queries,"onSearch"),h=(w(t.queries,"onPage"),x(t.queries,["onSelect","onPage","onSkip","onTake","onRange"])),d=(t._params,e);for(h.onPage&&(d+=h.onPage.pageIndex),s.forEach(function(e){d+=e.e.direction+e.e.fieldName}),a.forEach(function(e){d+=e.e.fieldName}),c.forEach(function(e){d+=e.e.searchKey}),i=0;i<l.length;i++)if((n=l[i]).e.isComplex){for((o=t.clone()).queries=[],r=0;r<n.e.predicates.length;r++)o.queries.push({fn:"onWhere",e:n.e.predicates[r],filter:t.queries.filter});d+=n.e.condition+this.generateKey(e,o)}else d+=n.e.field+n.e.operator+n.e.value;return d},processQuery:function(e,i){var n,o,r=this.generateKey(e.dataSource.url,i);return window.localStorage&&(n=t.parseJSON(window.localStorage.getItem(this.guidId))),null==(o=n?n.results[n.keys.indexOf(r)]:null)||this._crudAction||this._insertAction?(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):o},processResponse:function(i,n,o,r,s,a){var l;if(this._insertAction||s&&this.cacheAdaptor.options.batch&&s.url.endsWith(this.cacheAdaptor.options.batch)&&"post"===s.type.toLowerCase())return this.cacheAdaptor.processResponse(i,n,o,r,s,a);i=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0));var c=this.generateKey(n.dataSource.url,o),h={};for(window.localStorage&&(h=t.parseJSON(window.localStorage.getItem(this.guidId))),-1!=(l=e.inArray(c,h.keys))&&(h.results.splice(l,1),h.keys.splice(l,1)),h.results[h.keys.push(c)-1]={keys:c,result:i.result,timeStamp:new Date,count:i.count};h.results.length>this.pageSize;)h.results.splice(0,1),h.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(h)),i},update:function(e,t,i,n){return this._crudAction=!0,this.cacheAdaptor.update(e,t,i,n)},insert:function(e,t,i){return this._insertAction=!0,this.cacheAdaptor.insert(e,t,i)},remove:function(e,t,i,n){return this._crudAction=!0,this.cacheAdaptor.remove(e,t,i,n)},batchRequest:function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}});var w=function(e,t){return e.filter(function(e){return e.fn===t})||[]},x=function(e,t){for(var i=e.filter(function(e){return-1!==t.indexOf(e.fn)}),n={},o=0;o<i.length;o++)n[i[o].fn]||(n[i[o].fn]=i[o].e);return n},C=function(e,t,i,n){if(e[t]){var o=e[t](i,n);d(o)||(i=o)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(e,t){return e.isComplex?this.onComplexPredicate(e,t):this.onPredicate(e,t)},onPredicate:function(e,i,n){var o,r,s,a="",l=e.value,c=typeof l,h=this._p(e.field);return l instanceof Date&&(l="datetime'"+_.replacer(l).toJSON()+"'"),"string"===c&&(l="'"+l+"'",n&&(h="cast("+h+", 'Edm.String')"),t.isGUID(l)&&(r="guid"),e.ignoreCase&&(r||(h="tolower("+h+")"),l=l.toLowerCase())),(o=t.data.odBiOperator[e.operator])?(a+=h,a+=o,r&&(a+=r),a+l):(o=t.data.odUniOperator[e.operator])&&"string"===c?("substringof"===o&&(s=l,l=h,h=s),a+=o+"(",a+=h+",",r&&(a+=r),a+(l+")")):""},onComplexPredicate:function(e,t){for(var i=[],n=0;n<e.predicates.length;n++)i.push("("+this.onEachWhere(e.predicates[n],t)+")");return i.join(" "+e.condition+" ")},onWhere:function(e){return this.pvt.searches&&e.push(this.onEachWhere(this.pvt.searches,null,!0)),e.join(" and ")},onEachSearch:function(e){var i,n;for(0===e.fields.length&&u("Query() - Search : oData search requires list of field names to search"),i=this.pvt.searches||[],n=0;n<e.fields.length;n++)i.push(new t.Predicate(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.searches=i},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(e){var t,i=[];if(e.name instanceof Array)for(t=0;t<e.name.length;t++)i.push(this._p(e.name[t]));else i.push(this._p(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},onSortBy:function(e){return e.reverse().join(",")},onGroup:function(e){return this.pvt.groups=e,""},onSelect:function(e){for(var t=0;t<e.length;t++)e[t]=this._p(e[t]);return e.join(",")},onAggregates:function(e){return this.pvt.aggregates=e,""},onCount:function(e){return!0===e?"allpages":""},beforeSend:function(e,t,i){i.url.endsWith(this.options.batch)&&"post"===i.type.toLowerCase()&&(t.setRequestHeader("Accept",m),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")),e.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,n,o,r,s,a){var l,c,h,u,p,f,m,g,v,b;if(!t.isNullOrUndefined(i.d)&&(l=o&&o._requiresCount?i.d.results:i.d,!t.isNullOrUndefined(l)))for(v=0;v<l.length;v++)t.isNullOrUndefined(l[v].__metadata)||delete l[v].__metadata;if(c=s&&s.ejPvtData,r&&r.getResponseHeader("Content-Type")&&-1!=r.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return o._requiresCount?{result:[],count:0}:[];if(s&&this.options.batch&&s.url.endsWith(this.options.batch)&&"post"===s.type.toLowerCase()){if(h=(h=r.getResponseHeader("Content-Type")).substring(h.indexOf("=batchresponse")+1),(i=i.split(h)).length<2)return;for(i=i[1],f=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(f[0],""),m=f[1],v=(i=i.split(m)).length;v>-1;v--)/\bContent-ID:/i.test(i[v])&&/\bHTTP.+201/.test(i[v])&&(u=parseInt(/\bContent-ID: (\d+)/i.exec(i[v])[1]),a.added[u]&&(p=_.parseJson(/^\{.+\}/m.exec(i[v])[0]),e.extend(a.added[u],this.processResponse(p))));return a}var y=r&&r.getResponseHeader("DataServiceVersion"),w=null,x={};if(y=y&&parseInt(y,10)||2,o&&o._requiresCount&&((i.__count||i["odata.count"])&&(w=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(w=i.__count||i["odata.count"])),3===y&&i.value&&(i=i.value),i.d&&(i=i.d),y<3&&i.results&&(i=i.results),c&&c.aggregates&&c.aggregates.length){var C,S=c.aggregates,T={};for(v=0;v<S.length;v++)(C=t.aggregates[S[v].type])&&(T[S[v].field+" - "+S[v].type]=C(i,S[v].field));x=T}if(c&&c.groups&&c.groups.length)for(g=c.groups,v=0;v<g.length;v++)b=I(g[v],o.queries),i=t.group(i,g[v],c.aggregates,b);return d(w)?i:{result:i,count:w,aggregates:x}},convertToQueryString:function(e,t,i){var n,o=[],r=e.table||"";for(n in delete e.table,i.dataSource.requiresFormat&&(e.$format="json"),e)o.push(n+"="+e[n]);return o=o.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!r?o:o.length?r+"?"+o:r||""},insert:function(e,t,i){return{url:e.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(e,t,i,n){return{type:"DELETE",url:e.dataSource.url.replace(/\/*$/,n?"/"+n:"")+"("+i+")"}},update:function(e,t,i,n){return{type:"PUT",url:e.dataSource.url.replace(/\/*$/,n?"/"+n:"")+"("+i[t]+")",data:JSON.stringify(i),accept:this.options.accept}},batchRequest:function(e,i,n){var o=n.guid=t.getGuid(v),r=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch),s={url:n.url,key:n.key,cid:1,cSet:t.getGuid(g)},a="--"+o+"\n";return a+="Content-Type: multipart/mixed; boundary="+s.cSet.replace("--","")+"\n",this.pvt.changeSet=0,a+=this.generateInsertRequest(i.added,s),a+=this.generateUpdateRequest(i.changed,s),a+=this.generateDeleteRequest(i.deleted,s),a+=s.cSet+"--\n",{type:"POST",url:r,contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:a+="--"+o+"--"}},generateDeleteRequest:function(e,t){var i,n;if(!e)return"";for(i="",n=0;n<e.length;n++)i+="\n"+t.cSet+"\n",i+=b+"\n\n",i+="DELETE ",i+=t.url+"("+e[n][t.key]+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+f+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=y+"\n";return i+"\n"},generateInsertRequest:function(e,t){var i,n;if(!e)return"";for(i="",n=0;n<e.length;n++)i+="\n"+t.cSet+"\n",i+=b+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+f+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=y+"\n\n",i+=JSON.stringify(e[n])+"\n";return i},generateUpdateRequest:function(e,t){var i,n;if(!e)return"";for(i="",n=0;n<e.length;n++)i+="\n"+t.cSet+"\n",i+=b+"\n\n",i+="PUT ",i+=t.url+"("+e[n][t.key]+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+f+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=y+"\n\n",i+=JSON.stringify(e[n])+"\n\n";return i},_p:function(e){return e.replace(/\./g,"/")}}),t.ODataV4Adaptor=(new t.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(e){return!0===e?"true":""},onPredicate:function(e,i,n){var o="",r=e.value instanceof Date;return t.data.odUniOperator.contains="contains",o=t.ODataAdaptor.prototype.onPredicate.call(this,e,i,n),t.data.odUniOperator.contains="substringof",r&&(o=o.replace(/datetime'(.*)'$/,"$1")),o},onEachSearch:function(e){var t=this.pvt.search||[];t.push(e.key),this.pvt.search=t},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(e,i){for(var n,o,r=/\/[\d*\/]*/g,s="",a=i._expands.length-1;a>0;a--)if(s.indexOf(i._expands[a])>=0)i._expands.pop();else if(r.test(i._expands[a])){for(n=(s=i._expands.pop()).replace(r,"($expand="),o=0;o<s.split(r).length-1;o++)n+=")";i._expands.unshift(n),a++}return t.ODataAdaptor.prototype.processQuery.apply(this,[e,i])},processResponse:function(i,n,o,r,s,a){var l,c,h,u,p,f,m,g,v,b,y=s&&s.ejPvtData;if(r&&r.getResponseHeader("Content-Type")&&-1!=r.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return o._requiresCount?{result:[],count:0}:[];if(s&&this.options.batch&&s.url.endsWith(this.options.batch)&&"post"===s.type.toLowerCase()){if(l=(l=r.getResponseHeader("Content-Type")).substring(l.indexOf("=batchresponse")+1),(i=i.split(l)).length<2)return;for(i=i[1],u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(u[0],""),p=u[1],v=(i=i.split(p)).length;v>-1;v--)/\bContent-ID:/i.test(i[v])&&/\bHTTP.+201/.test(i[v])&&(c=parseInt(/\bContent-ID: (\d+)/i.exec(i[v])[1]),a.added[c]&&(h=_.parseJson(/^\{.+\}/m.exec(i[v])[0]),e.extend(a.added[c],this.processResponse(h))));return a}if(f=null,m={},o&&o._requiresCount&&"@odata.count"in i&&(f=i["@odata.count"]),i=t.isNullOrUndefined(i.value)?i:i.value,y&&y.aggregates&&y.aggregates.length){var w,x=y.aggregates,C={};for(v=0;v<x.length;v++)(w=t.aggregates[x[v].type])&&(C[x[v].field+" - "+x[v].type]=w(i,x[v].field));m=C}if(y&&y.groups&&y.groups.length)for(g=y.groups,v=0;v<g.length;v++)b=I(g[v],o.queries),i=t.group(i,g[v],y.aggregates,b);return d(f)?i:{result:i,count:f,aggregates:m}}}),t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(e,t){for(var i,o,r=e.dataSource.json.slice(0),s=r.length,a=!0,l={},c=0;c<t.queries.length;c++)i=this[(o=t.queries[c]).fn].call(this,r,o.e,t),"onAggregates"==o.fn?l[o.e.field+" - "+o.e.type]=i:r=i!==n?i:r,("onPage"===o.fn||"onSkip"===o.fn||"onTake"===o.fn||"onRange"===o.fn)&&(a=!1),a&&(s=r.length);return t._requiresCount&&(r={result:r,count:s,aggregates:l}),r},batchRequest:function(e,t,i){for(var n=0;n<t.added.length;n++)this.insert(e,t.added[n]);for(n=0;n<t.changed.length;n++)this.update(e,i.key,t.changed[n]);for(n=0;n<t.deleted.length;n++)this.remove(e,i.key,t.deleted[n]);return t},onWhere:function(e,t){return e?e.filter(function(e){return t.validate(e)}):e},onAggregates:function(e,i){var n=t.aggregates[i.type];return e&&n&&0!=e.length?n(e,i.field):null},onSearch:function(e,i){return e&&e.length?(0===i.fieldNames.length&&t.pvt.getFieldList(e[0],i.fieldNames),e.filter(function(e){for(var n=0;n<i.fieldNames.length;n++)if(i.comparer.call(e,t.pvt.getObject(i.fieldNames[n],e),i.searchKey,i.ignoreCase))return!0;return!1})):e},onSortBy:function(e,i,n){var r,s,a;if(!e)return e;if(!(s=o(i.fieldName,n)))return e.sort(i.comparer);if(s instanceof Array){for(a=(s=s.slice(0)).length-1;a>=0;a--)s[a]&&(r=i.comparer,s[a].endsWith(" desc")&&(r=t.pvt.fnSort(t.sortOrder.Descending),s[a]=s[a].replace(" desc","")),e=E(e,s[a],r,[]));return e}return E(e,s,i.comparer,n?n.queries:[])},onGroup:function(e,i,n){var r,s,a,l,c;if(!e)return e;if(s=[],(r=w(n.queries,"onAggregates")).length)for(l=0;l<r.length;l++)a=r[l].e,s.push({type:a.type,field:o(a.field,n)});return c=I(i.fieldName,n.queries),t.group(e,o(i.fieldName,n),s,c)},onPage:function(e,t,i){var n=o(t.pageSize,i),r=(o(t.pageIndex,i)-1)*n,s=r+n;return e?e.slice(r,s):e},onRange:function(e,t){return e?e.slice(o(t.start),o(t.end)):e},onTake:function(e,t){return e?e.slice(0,o(t.nos)):e},onSkip:function(e,t){return e?e.slice(o(t.nos)):e},onSelect:function(e,i){return e?t.select(e,o(i.fieldNames)):e},insert:function(e,t){return e.dataSource.json.push(t)},remove:function(e,i,n){var o,r=e.dataSource.json;for("object"==typeof n&&(n=t.getObject(i,n)),o=0;o<r.length&&t.getObject(i,r[o])!==n;o++);return o!==r.length?r.splice(o,1):null},update:function(i,n,o){for(var r=i.dataSource.json,s=t.getObject(n,o),a=0;a<r.length&&t.getObject(n,r[a])!==s;a++);return a<r.length?e.extend(r[a],o):null}}),t.ForeignKeyAdaptor=function(i,o){var r=(new t[o||"JsonAdaptor"]).extend({init:function(){var e,n;for(this.foreignData=[],this.key=[],this.adaptorType=o,this.value=[],this.fValue=[],this.keyField=[],e=i,n=0;n<e.length;n++)this.foreignData[n]=e[n].dataSource,this.key[n]=e[n].foreignKeyField,this.fValue[n]=t.isNullOrUndefined(e[n].field)?e[n].foreignKeyValue:e[n].field+"_"+e[n].foreignKeyValue,this.value[n]=e[n].foreignKeyValue,this.keyField[n]=e[n].field||e[n].foreignKeyField,this.initial=!0},processQuery:function(e,i){var n,o,r,s=e.dataSource.json;if(this.initial){for(n=0;n<s.length;n++)for(o=this,r=0;r<this.foreignData.length;r++)this.foreignData[r].filter(function(e){t.getObject(o.key[r],e)==t.getObject(o.keyField[r],s[n])&&(s[n][o.fValue[r]]=t.getObject(o.value[r],e))});this.initial=!1}return this.base.processQuery.apply(this,[e,i])},setValue:function(i){for(var o,r,s,a=0;a<this.foreignData.length;a++)o=this,"string"!=typeof(r=i[this.fValue[a]])||isNaN(r)||(r=t.parseFloat(r)),s=e.grep(o.foreignData[a],function(e){return e[o.value[a]]==r})[0],t.isNullOrUndefined(s)&&(s=e.grep(o.foreignData[a],function(e){return e[o.key[a]]==r})[0],t.getObject(this.value[a],s)!=n&&t.createObject(o.value[a],t.getObject(this.value[a],s),i)),t.getObject(this.value[a],s)!=n&&t.createObject(this.keyField[a],t.getObject(this.key[a],s),i)},insert:function(e,t,i){return this.setValue(t),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},update:function(e,i,n,o){return this.setValue(n),t.JsonAdaptor.prototype.update(e,i,n,o),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:n,action:"update",keyColumn:i,key:n[i],table:o})}}});return e.extend(this,new r),this},t.remoteSaveAdaptor=(new t.JsonAdaptor).extend({beforeSend:t.UrlAdaptor.prototype.beforeSend,insert:t.UrlAdaptor.prototype.insert,update:t.UrlAdaptor.prototype.update,remove:t.UrlAdaptor.prototype.remove,addParams:t.UrlAdaptor.prototype.addParams,batchRequest:function(e,i,n){for(var o=0;o<i.added.length;o++)t.JsonAdaptor.prototype.insert(e,i.added[o]);for(o=0;o<i.changed.length;o++)t.JsonAdaptor.prototype.update(e,n.key,i.changed[o]);for(o=0;o<i.deleted.length;o++)t.JsonAdaptor.prototype.remove(e,n.key,i.deleted[o]);return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:i.changed,added:i.added,deleted:i.deleted,action:"batch",table:n.url,key:n.key})}}}),t.WebApiAdaptor=(new t.ODataAdaptor).extend({insert:function(e,t){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(e,t,i){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},processResponse:function(e,i,n,o,r){var s,a,l,c=r&&r.ejPvtData;if(r&&"post"!=r.type.toLowerCase()){var h=o&&o.getResponseHeader("DataServiceVersion"),u=null,p={};if(h=h&&parseInt(h,10)||2,n&&n._requiresCount&&(d(e.Count)||(u=e.Count)),h<3&&e.Items&&(e=e.Items),c&&c.aggregates&&c.aggregates.length){var f,m=c.aggregates,g={};for(a=0;a<m.length;a++)(f=t.aggregates[m[a].type])&&(g[m[a].field+" - "+m[a].type]=f(e,m[a].field));p=g}if(c&&c.groups&&c.groups.length)for(s=c.groups,a=0;a<s.length;a++)l=I(s[a],n.queries),e=t.group(e,s[a],c.aggregates,l);return d(u)?e:{result:e,count:u,aggregates:p}}}}),o=function(e,t){return"function"==typeof e?e.call(t||{}):e},t.TableModel=function(i,n,o,r){var s,a,l,c;if(!$(this,t.TableModel))return new t.TableModel(n);for($(n,Array)||u("ej.TableModel - Json Array is required"),s=[],l=h(k,this),c=0;c<n.length;c++)(a=new t.Model(n[c],this)).state="unchanged",a.on("stateChange",l),r&&a.computes(r),s.push(a);return this.name=i||"table1",this.rows=t.NotifierArray(s),this._deleted=[],this._events=e({}),this.dataManager=o,this._isDirty=!1,this},t.TableModel.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},setDataManager:function(e){this.dataManagar=e},saveChanges:function(){if(this.dataManager&&$(this.dataManager,t.DataManager)||u("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var e=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);e.done(h(function(e){for(var t=this.toArray(),i=0;i<t.length;i++)"added"===t.state&&t.set(this.key,e.added.filter(function(e){return e[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this)),e.fail(h(function(e){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:e})},this)),this._isDirty=!1}},rejectChanges:function(){for(var e=this.toArray(),t=0;t<e.length;t++)e[t].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(e){var i=new t.Model(e);i._isDirty=this._isDirty=!0,this.rows.push(i),this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(e){var t;this.key||u("TableModel - update : Primary key should be assigned to TableModel.key");var i,n=e,o=this.key,r=n[o];for(t in i=this.rows.array.filter(function(e){return e.get(o)===r}),i=i[0],n)i.set(t,n[t]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:i,table:this})},remove:function(e){var t,i,o,r;for(this.key||u("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,e&&"object"==typeof e&&(e=e[t]!==n?e[t]:e.get(t)),r=0;r<this.rows.length();r++)if(this.rows.array[r].get(t)===e){i=r;break}i>-1&&((o=this.rows.removeAt(i)).markDelete(),this._deleted.push({model:o,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:o,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var e={added:[],changed:[]},i=this.toArray(),n=0;n<i.length;n++)e[i[n].state]&&e[i[n].state].push(i[n].json);return e.deleted=t.select(this._deleted,["model"]),e},toArray:function(){return this.rows.toArray()},setDirty:function(e,t){this._isDirty!==!!e&&(this._isDirty=!!e,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(e){return this.rows.array[e]},length:function(){return this.rows.array.length},bindTo:function(t){var i,n,o=r,a=e(t.html()),l=this.toArray();for(e.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(o=s),o.insertBefore(t),t.detach().empty(),n=0;n<l.length;n++)i=a.clone(),l[n].bindTo(i),t.append(i);t.insertAfter(o),o.remove()}},r=i?e(document.createElement("div")):{},s=i?e(document.createElement("tr")):{},t.Model=function(i,n,o){"string"==typeof n&&(o=n,n=null),this.$id=R("m"),this.json=i,this.table=n instanceof t.TableModel?n:null,this.name=o||this.table&&this.table.name,this.dataManager=n instanceof t.DataManager?n:n.dataManagar,this.actual={},this._events=e({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},t.Model.prototype={computes:function(t){e.extend(this.computed,t)},on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},set:function(e,t){var i,o,r=this.json,s=e;for(e=e.split("."),o=0;o<e.length-1;o++)r=r[(e=e[0])[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),i=r[e],this.actual[e]!==n||e in this.actual||(this.actual[e]=t),r[e]=t,this._updateValues(e,t),this._events.triggerHandler({type:s,current:t,previous:i,model:this})},get:function(e){return t.pvt.getObject(e,this.json)},revert:function(e){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,e?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,n){return i=i||this.dataManagar,n=n||i.dataSource.key,i||u("ej.Model - DataManager is required to commit the changes"),"added"===this.state?i.insert(this.json,this.name).done(t.proxy(function(t){e.extend(this.json,t.record)},this)):"changed"===this.state?i.update(n,this.json,this.name):"deleted"===this.state?i.remove(n,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if("added"===this.state){if("deleted"!==t)return;t="unchanged"}var n=t;i=i||{},this.state=t,this._events.triggerHandler(e.extend({type:"stateChange",current:t,previous:n,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var e in this.json)this._props.push(e),this._updates[e]={read:[],input:[]};return this._props},bindTo:function(t){var i,n,o,r,s=e(t),a=s.find("[ej-observe], [ej-computed], [ej-prop]"),l=a.length;for(s.data("ejModel",this),o={fields:[],props:[],computes:[]},r=0;r<l;r++)(n=(i=a.eq(r)).attr("ej-prop"))&&this._processAttrib(n,i,o),(n=i.attr("ej-observe"))&&-1!==this._props.indexOf(n)?this._processField(i,n,o):(n=i.attr("ej-computed"))&&this._processComputed(n,i,o);s.data("ejModelBinding"+this.$id,o)},unbind:function(t){var i,n,o,r,s,a,l,c={props:this._attrEls,computes:this._computeEls},h=!1;for(n in t&&(c=e(t).removeData("ejModel").data("ejModelBinding"+this.$id)||c,h=!0),this.computed)i=c.computes[n],n=this.computed[n],i&&n.deps&&(this.off(n.deps.join(" "),i.handle),h&&delete this._computeEls[n]);for(n in h||(this._computeEls={}),c.props)(i=c.props[n])&&(this.off(i.deps.join(" "),i.handle),delete c.props[n],h&&delete this._attrEls[n]);if(h||(this._attrEls={}),c.fields&&c.fields.length)for(o=c.fields.length,l=0;l<o;l++)r=c.fields[l],e(r).off("change",null,this._changeHandler),a=-1!==this.formElements.indexOf(r.tagName.toLowerCase())?"input":"read",-1!==(s=this._updates[a].indexOf(r))&&this._updates[a].splice(s,1)},_processComputed:function(e,t,i){if(e){var n,o,r=T(e),s=-1!==this.formElements.indexOf(t[0].tagName.toLowerCase())?"val":"html";this.computed[e]&&this.computed[r]||(this.computed[r]={value:new Function("var e = this; return "+e),deps:this._generateDeps(e)},e=r),(n=this.computed[e]).get||(n.get=function(){n.value.call(this.json)}),o=n.deps,n=n.value,this._updateDeps(o),this._updateElement(t,s,n),n={el:t,handle:h(this._computeHandle,this,{value:e,type:s})},this._computeEls[e]=n,i.computes[e]=n,this.on(o.join(" "),n.handle)}},_computeHandle:function(e){var t=this._computeEls[e.value];t&&this.computed[e.value]&&this._updateElement(t.el,e.type,this.computed[e.value].value)},_updateElement:function(t,i,n){t[i](n.call(e.extend({},this.json,this.computed)))},_updateDeps:function(e){for(var i=0;i<e.length;i++)!(e[i]in this.json)&&e[i]in this.computed&&t.merge(e,this.computed[e[i]].deps)},_generateDeps:function(e){for(var t,i=e.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),n=[],o=0;o<i.length;o++)i[o].startsWith("#ej.#")&&((t=i[o].replace("#ej.#","").split(" ")[0])&&-1!==this._props.indexOf(t)&&n.push(t));return n},_processAttrib:function(e,t,i){var n,o,r,s,a={};for(e=e.replace(/^ +| +$/g,"").split(";"),r=0;r<e.length;r++)e[r]=e[r].split(":"),e[r].length<2||(a[n=e[r][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,"")]=e[r][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));for(n in s=[],e=a)s.push(e[n]);this._updateDeps(s),this._updateProps(t,e),a=R("emak"),o={el:t,handle:h(this._attrHandle,this,a),value:e,deps:s},t.prop("ejmodelattrkey",a),i.props[a]=o,this._attrEls[a]=o,this.on(s.join(" "),o.handle)},_attrHandle:function(e){var t=this._attrEls[e];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var n,o=this.json,r=this.computed;for(var s in i)(n=i[s])in o?n=o[n]:n in r&&((n=r[n])&&(n=n.value.call(e.extend({},this.json,r)))),d(n)||t.prop(s,n)},_updateValues:function(e,t){var i=this._updates[e];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,n){if(t)for(var o=t.length-1;o>-1;o--)t[o].offsetParent?e(t[o])[i](n):t.splice(o,1)},_changeHandler:function(t){t.data.self.set(t.data.prop,e(this).val())},_processField:function(e,t,i){var n={self:this,prop:t},o=this.get(t);return i.fields.push(e[0]),-1===this.formElements.indexOf(e[0].tagName.toLowerCase())?(e.html(o),this._updates[t].read.push(e[0])):(e.val(o).off("change",null,this._changeHandler).on("change",null,n,this._changeHandler),this._updates[t].input.push(e[0]))},formElements:["input","select","textarea"]};var S=/[^\w]+/g,T=function(e){return e.replace(S,"_")},k=function(e){this.setDirty(!0,e.model)};if(t.Predicate=function(e,i,n,o){return this instanceof t.Predicate?("string"==typeof e?(this.field=e,this.operator=i,this.value=n,this.ignoreCase=o,this.isComplex=!1,this._comparer=t.data.fnOperators.processOperator(this.operator)):(e instanceof t.Predicate&&n instanceof t.Predicate||n instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[e],n instanceof Array?[].push.apply(this.predicates,n):this.predicates.push(n)),this):new t.Predicate(e,i,n,o)},t.Predicate.and=function(){return a._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return a._combinePredicates([].slice.call(arguments,0),"or")},t.Predicate.fromJSON=function(e){var t,i,n;if($(e,Array)){for(t=[],i=0,n=e.length;i<n;i++)t.push(a._fromJSON(e[i]));return t}return a._fromJSON(e)},a={_combinePredicates:function(e,i){if(!e.length)return n;if(1===e.length){if(!$(e[0],Array))return e[0];e=e[0]}return new t.Predicate(e[0],i,e.slice(1))},_combine:function(e,i,n,o,r,s){return i instanceof t.Predicate?t.Predicate[r](e,i):"string"==typeof i?t.Predicate[r](e,new t.Predicate(i,n,o,s)):u("Predicate - "+r+" : invalid arguments")},_fromJSON:function(e){var i;if(!e||$(e,t.Predicate))return e;var n=e.predicates||[],o=n.length,r=[];for(i=0;i<o;i++)r.push(a._fromJSON(n[i]));return e.isComplex?new t.Predicate(r[0],e.condition,r.slice(1)):new t.Predicate(e.field,e.operator,t.parseJSON({val:e.value}).val,e.ignoreCase)}},t.Predicate.prototype={and:function(e,t,i,n){return a._combine(this,e,t,i,"and",n)},or:function(e,t,i,n){return a._combine(this,e,t,i,"or",n)},validate:function(e){var i,n,o,r=this.predicates;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,e),this.value,this.ignoreCase);for(i="and"===this.condition,o=0;o<r.length;o++)if(n=r[o].validate(e),i){if(!n)return!1}else if(n)return!0;return i},toJSON:function(){var e,t,i;if(this.isComplex)for(e=[],t=this.predicates,i=0;i<t.length;i++)e.push(t[i].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,condition:this.condition,predicates:e}}},t.dataUtil={swap:function(e,t,i){if(t!=i){var n=e[t];e[t]=e[i],e[i]=n}},mergeSort:function(e,i,n){return n&&"string"!=typeof n||(n=t.pvt.fnSort(n,!0)),"function"==typeof i&&(n=i,i=null),t.pvt.mergeSort(e,i,n)},max:function(e,i,n){return"function"==typeof i&&(n=i,i=null),t.pvt.getItemFromComparer(e,i,n||t.pvt.fnDescending)},min:function(e,i,n){return"function"==typeof i&&(n=i,i=null),t.pvt.getItemFromComparer(e,i,n||t.pvt.fnAscending)},distinct:function(e,t,i){for(var n,o=[],r={},s=0;s<e.length;s++)(n=N(e,t,s))in r||(o.push(i?e[s]:n),r[n]=1);return o},sum:function(e,t){for(var i,n=0,o="number"!=typeof N(e,t,0),r=0;r<e.length;r++)i=N(e,t,r),isNaN(i)||null===i||(o&&(i=+i),n+=i);return n},avg:function(e,i){return t.sum(e,i)/e.length},select:function(e,i){for(var n=[],o=0;o<e.length;o++)n.push(t.pvt.extractFields(e[o],i));return n},group:function(i,n,o,r,s,a){var l,c,h,d,u,p,f,m,g,v;if(s=s||1,i.GROUPGUID==t.pvt.consts.GROUPGUID){for(g=0;g<i.length;g++)t.isNullOrUndefined(a)?(i[g].items=t.group(i[g].items,n,o,r,i.level+1),i[g].count=i[g].items.length):(-1,v=e.grep(a,function(e){return e.key==i[g].key}),l=a.indexOf(v[0]),i[g].items=t.group(i[g].items,n,o,r,i.level+1,a[l].items),i[g].count=a[l].count);return i.childLevels+=1,i}for(c={},(h=[]).GROUPGUID=t.pvt.consts.GROUPGUID,h.level=s,h.childLevels=0,h.records=i,p=0;p<i.length;p++)d=N(i,n,p),t.isNullOrUndefined(r)||(d=r(d,n)),c[d]||(c[d]={key:d,count:0,items:[],aggregates:{},field:n},h.push(c[d]),t.isNullOrUndefined(a)||(u=e.grep(a,function(e){return e.key==c[d].key}),c[d].count=u[0].count)),c[d].count=t.isNullOrUndefined(a)?c[d].count+=1:c[d].count,c[d].items.push(i[p]);if(o&&o.length)for(p=0;p<h.length;p++){for(f={},g=0;g<o.length;g++)m=t.aggregates[o[g].type],t.isNullOrUndefined(a)?m&&(f[o[g].field+" - "+o[g].type]=m(h[p].items,o[g].field)):(v=e.grep(a,function(e){return e.key==h[p].key}),m&&(f[o[g].field+" - "+o[g].type]=m(v[0].items,o[g].field)));h[p].aggregates=f}return h},parseTable:function(i,n,o){var r,s,a,l,c,h,d,u=i.rows,p=[],f=[];if(!u.length)return[];switch(o=o||0,(n||"").toLowerCase()){case t.headerOption.tHead:r=i.tHead.rows[o];break;case t.headerOption.row:default:r=i.rows[o]}for(a=r.cells,s=0;s<a.length;s++)p.push(e.trim(a[s].innerHTML));for(s=o+1;s<u.length;s++){for(l={},c=u[s].cells,h=0;h<c.length;h++)d=c[h].innerHTML,l[p[h]]="string"==typeof d&&e.isNumeric(d)?Number(d):d;f.push(l)}return f}},t.headerOption={tHead:"thead",row:"row"},t.aggregates={sum:function(e,i){return t.sum(e,i)},average:function(e,i){return t.avg(e,i)},minimum:function(e,i){return t.getObject(i,t.min(e,i))},maximum:function(e,i){return t.getObject(i,t.max(e,i))},truecount:function(e,i){var n=t.Predicate(i,"equal",!0);return t.DataManager(e).executeLocal(t.Query().where(n)).length},falsecount:function(e,i){var n=t.Predicate(i,"equal",!1);return t.DataManager(e).executeLocal(t.Query().where(n)).length},count:function(e){return e.length}},t.pvt={filterQueries:w,mergeSort:function(e,i,n){if(e.length<=1)return e;var o=parseInt(e.length/2,10),r=e.slice(0,o),s=e.slice(o);return r=t.pvt.mergeSort(r,i,n),s=t.pvt.mergeSort(s,i,n),t.pvt.merge(r,s,i,n)},getItemFromComparer:function(e,i,n){var o,r,s,a=0,l="string"==typeof N(e,i,0);if(e.length)for(;t.isNullOrUndefined(o)&&a<e.length;)o=N(e,i,a),s=e[a++];for(;a<e.length;a++)r=N(e,i,a),t.isNullOrUndefined(r)||(l&&(o=+o,r=+r),n(o,r)>0&&(o=r,s=e[a]));return s},quickSelect:function(e,i,n,o,r,s){if(n==o)return e[n];var a=t.pvt.partition(e,i,n,o,s),l=a-n+1;return l==r?e[a]:r<l?t.pvt.quickSelect(e,i,n,a-1,r,s):t.pvt.quickSelect(e,i,a+1,o,r-l,s)},extractFields:function(e,i){var n,o={};if(1==i.length)return t.pvt.getObject(i[0],e);for(n=0;n<i.length;n++)o[i[n].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[n],e);return o},partition:function(e,i,n,o,r){var s,a=parseInt((n+o)/2,10),l=N(e,i,a);for(t.swap(e,a,o),a=n,s=n;s<o;s++)r(N(e,i,s),l)&&(t.swap(e,s,a),a++);return t.swap(e,a,o),a},fnSort:function(e){return(e=e?e.toLowerCase():t.sortOrder.Ascending)==t.sortOrder.Ascending?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(e,i){return function(n,o){return i(t.pvt.getObject(e,n),t.pvt.getObject(e,o))}},fnAscending:function(e,t){return null===t||t===n?-1:"string"==typeof e?e.localeCompare(t):null===e||e===n?1:e-t},fnDescending:function(e,t){return null===t||t===n?1:"string"==typeof e?-1*e.localeCompare(t):null===e||e===n?-1:t-e},merge:function(e,t,i,n){for(var o,r=[];e.length>0||t.length>0;)o=e.length>0&&t.length>0?n?n(N(e,i,0),N(t,i,0))<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,r.push(o.shift());return r},getObject:function(e,t){var i,o,r;if(!t)return n;if(!e)return t;if(-1===e.indexOf("."))return t[e];for(i=t,o=e.split("."),r=0;r<o.length&&null!=i;r++)i=i[o[r]];return i},createObject:function(e,t,i){for(var o=e.split("."),r=i||window,s=r,a=0;a<o.length;a++)a+1==o.length?s[o[a]]=t===n?{}:t:null==s[o[a]]&&(s[o[a]]={}),s=s[o[a]];return r},getFieldList:function(e,i,o){if(o===n&&(o=""),i===n||null===i)return t.pvt.getFieldList(e,[],o);for(var r in e)"object"!=typeof e[r]||e[r]instanceof Array?i.push(o+r):t.pvt.getFieldList(e[r],i,o+r+".");return i}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.data.fnOperators={equal:function(e,t,i){return i?j(e)==j(t):e==t},notequal:function(e,i,n){return!t.data.fnOperators.equal(e,i,n)},lessthan:function(e,t,i){return i?j(e)<j(t):e<t},greaterthan:function(e,t,i){return i?j(e)>j(t):e>t},lessthanorequal:function(e,t,i){return i?j(e)<=j(t):e<=t},greaterthanorequal:function(e,t,i){return i?j(e)>=j(t):e>=t},contains:function(e,t,i){return i?!d(e)&&!d(t)&&-1!=j(e).indexOf(j(t)):!d(e)&&!d(t)&&-1!=e.toString().indexOf(t)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(e,t,i){return i?e&&t&&j(e).startsWith(j(t)):e&&t&&e.startsWith(t)},endswith:function(e,t,i){return i?e&&t&&j(e).endsWith(j(t)):e&&t&&e.endsWith(t)},processSymbols:function(e){var i,n=t.data.operatorSymbols[e];return n&&(i=t.data.fnOperators[n])?i:u("Query - Process Operator : Invalid operator")},processOperator:function(e){var i=t.data.fnOperators[e];return i||t.data.fnOperators.processSymbols(e)}},t.NotifierArray=function(i){return $(this,t.NotifierArray)?(this.array=i,this._events=e({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},push:function(e){var t;return t=$(e,Array)?[].push.apply(this.array,e):this.array.push(e),this._raise("add",{item:e,index:this.length()-1}),t},pop:function(){var e=this.array.pop();return this._raise("remove",{item:e,index:this.length()-1}),e},addAt:function(e,t){return this.array.splice(e,0,t),this._raise("add",{item:t,index:e}),t},removeAt:function(e){var t=this.array.splice(e,1)[0];return this._raise("remove",{item:t,index:e}),t},remove:function(e){var t=this.array.indexOf(e);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:e,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(e.extend({type:t},i)),this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},e.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=0,n=this.length;i<n;++i)e.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(e){var t,i,n,o;if("function"!=typeof e)throw new TypeError;for(t=[],i=arguments[1]||this,n=0;n<this.length;n++)o=this[n],e.call(i,o,n,this)&&t.push(o);return t},String.prototype.endsWith=String.prototype.endsWith||function(e){return this.slice(-e.length)===e},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},t.support||(t.support={}),t.support.stableSort=function(){for(var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(function(){return 0}),t=0;t<17;t++)if(t!==e[t])return!1;return!0}(),t.support.cors=e.support.cors,!e.support.cors&&window.XDomainRequest){var D=/^https?:\/\//i,L=/^get|post$/i,A=new RegExp("^"+location.protocol,"i"),O=/\/xml/i;e.ajaxTransport("text html xml json",function(e,t){if(e.crossDomain&&e.async&&L.test(e.type)&&D.test(t.url)&&A.test(t.url)){var i=null,o=(t.dataType||"").toLowerCase();return{send:function(r,s){i=new XDomainRequest,/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout),i.ontimeout=function(){s(500,"timeout")},i.onload=function(){var e,t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,r={code:200,message:"success"},a={text:i.responseText};try{if("json"===o)try{a.json=JSON.parse(i.responseText)}catch(e){r.code=500,r.message="parseerror"}else if("xml"===o||"text"!==o&&O.test(i.contentType)){(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1;try{e.loadXML(i.responseText)}catch(t){e=n}if(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)throw r.code=500,r.message="parseerror","Invalid XML: "+i.responseText;a.xml=e}}catch(e){throw e}finally{s(r.code,r.message,a,t)}},i.onerror=function(){s(500,"error",{text:i.responseText})},-1!=navigator.userAgent.indexOf("MSIE 9.0")&&(i.onprogress=function(){}),i.open(e.type,e.url),i.send(t.data)},abort:function(){i&&i.abort()}}}})}e.support.cors=!0,t.sortOrder={Ascending:"ascending",Descending:"descending"},t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"},l=function(e,t){t&&(e=h(e,t)),(window.setImmediate||window.setTimeout)(e,0)},t.support.enableLocalizedSort=!1;var E=function(e,i,n,o){return t.support.stableSort?t.support.enableLocalizedSort||"string"!=typeof t.pvt.getObject(i,e[0]||{})||n!==t.pvt.fnAscending&&n!==t.pvt.fnDescending||1!==o.filter(function(e){return"onSortBy"===e.fn}).length?e.sort(t.pvt.fnGetComparer(i,n)):M(e,i,n===t.pvt.fnDescending):t.mergeSort(e,i,n)},I=function(i,n){for(var o=e.grep(n,function(e){return"onGroup"==e.fn}),r=0;r<o.length;r++)if(t.getObject("fieldName",o[r].e)==i)return t.getObject("fn",o[r].e)},M=function(e,i,n){var o=Object.prototype.toString;Object.prototype.toString=-1===i.indexOf(".")?function(){return this[i]}:function(){return t.pvt.getObject(i,this)},e=e.sort(),Object.prototype.toString=o,n&&e.reverse()},j=function(e){return e?e.toLowerCase?e.toLowerCase():e.toString().toLowerCase():0===e||!1===e?e.toString():""},N=function(e,i,n){return i?t.pvt.getObject(i,e[n]):e[n]},P=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&1===e.nodeType&&"object"==typeof e&&"string"==typeof e.nodeName},$=function(e,t){return e instanceof t},z=function(e,i,n,o){return function(r){return"object"==typeof r&&(o=r,r=null),new t.TableModel(r||e,i,n,o)}},H=function(t){return function(i,n){var o,r,s,a,l;for((n=n||window.ko)||u("Knockout is undefined"),r=[],l=0;l<t.length;l++){for(s in o={},t[l])s.startsWith("_")||(o[s]=n.observable(t[l][s]));for(s in i)a=i[s],e.isPlainObject(a)?(a.owner||(a.owner=o),a=n.computed(a)):a=n.computed(a,o),o[s]=a;r.push(o)}return n.observableArray(r)}},F=0,R=function(e){return e+(F+=1)};t.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(e,i){if("crypto"in window&&"getRandomValues"in crypto){var n=new Uint8Array(1);window.crypto.getRandomValues(n),t=n[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===i?3&t|8:t]})},c=function(e,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),e.apply(t||this,i)}},h=function(e,t,i){return"bind"in e?i?e.bind(t,i):e.bind(t):function(){var n=i?[i]:[];return n.push.apply(n,arguments),e.apply(t||this,n)}},t.merge=function(e,t){e&&t&&Array.prototype.push.apply(e,t)},d=function(e){return e===n||null===e},u=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}}}(window.jQuery,window.Syncfusion,window.document)}),
/*!
*  filename: ej.scroller.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){(function(e,t,i,n){"use strict";t.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:t.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content="horizontal"===this.model.orientation?this.element.find(".e-hhandle"):this.element.find(".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal?this.element.addClass("e-hscrollbar"):this.element.addClass("e-vscrollbar"),(0!==this.value()||0!==this.model.minimum)&&(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){e.fn.jquery;this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(e){for(var t in e){if("value"!==t){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(t,i,n,o){var r,s={};e.fn.jquery;return s.dimension=t,s.xy=i,s.position=n,s.css=o,s.uDimension=t,this._calculateLayout(s),this._createLayout(s),r=this[s.main].find(".e-button"),this._off(r,"mousedown")._on(r,"mousedown",{d:s,step:1},this._spaceMouseDown),this._off(this[s.scroll],"mousedown")._on(this[s.scroll],"mousedown",{d:s},this._spaceMouseDown),this._off(this[s.handler],"mousedown touchstart")._on(this[s.handler],"mousedown touchstart",{d:s},this._mouseDown),s},_createLayout:function(i){var n,o="<div class='"+i.css+"{0}' style='"+i.dimension+":{1}px'>{2}</div>",r=e.fn.jquery,s={};s[i.dimension]=i.modelDim,n=t.buildTag("div."+i.css+"scroll e-box",String.format(o,"up e-chevron-up_01 e-icon e-box e-button",i.buttonSize)+String.format(o,"handlespace",i.handleSpace,String.format(o,"handle e-box e-pinch",i.handle))+String.format(o,"down e-chevron-down_01 e-icon e-box e-button",i.buttonSize),s),this.element.append(n),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),"1.7.1"===r||"1.7.2"===r?i.uDimension.toLowerCase():i.uDimension,this[i.handler]=this.element.find("."+i.handler),this[i.handler].css("transition","none"),this[i.scroll]=this[i.handler].parent(),this[i.main]=this[i.scroll].parent(),this[i.main].find(".e-button")["outer"+i.uDimension](i.buttonSize)},_calculateLayout:function(e){var i,o;e.scrollDim="scroll"+e.dimension,e.lPosition=e.position.toLowerCase(),e.clientXy="page"+e.xy,e.scrollVal="scroll"+e.position,e.scrollOneStepBy=this.model.smallChange,e.modelDim=this.model[e.dimension=e.dimension.toLowerCase()],e.handler=e.css+"handle",e.buttonSize=this.model.buttonSize,e.main=e.css+"scroll",e.scroll=e.css+"ScrollSpace",e.handleSpace=e.modelDim-2*e.buttonSize,e.scrollable=this.model.maximum-this.model.minimum,i=this.model.height,"horizontal"===this.model.orientation&&(i=this.model.width),e.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(i-2*this.model.buttonSize),o=!t.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),e.handle<20&&!o&&(e.handle=20),e.onePx=e.scrollable/(e.handleSpace-e.handle),e.fromScroller=!1,e.up=!0,e.vInterval=n},_updateLayout:function(e){this.element.height(this.model.height),this.element.width(this.model.width);var t=this.element.find("."+e.css+"handle"),i=this.element.find("."+e.css+"handlespace"),o="width"==e.dimension?t.css("left"):t.css("top"),r="width"==e.dimension?i.outerWidth():i.outerHeight();o!==n&&"auto"!==o&&(r>=e.handle+parseFloat(o)||(this.model.enableRTL?t.css("width"===e.dimension?"left":"top",parseFloat(r)-e.handle):t.css("width"===e.dimension?"left":"top",parseFloat(r)-e.handle>0?parseFloat(r)-e.handle:0))),this.element.find("."+e.css+"scroll").css(e.dimension,e.modelDim+"px").find(".e-button").css(e.dimension,this.model.buttonSize).end().find("."+e.css+"handlespace").css(e.dimension,e.handleSpace+"px").find("."+e.css+"handle").css(e.dimension,e.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(e,i,n,o){var r,s,a=this._scrollData;if(!n)if(this.model.orientation===t.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollLeft:e,originalEvent:o}))return}else if(this._trigger("scroll",{source:i||"custom",scrollData:this._scrollData,scrollTop:e,originalEvent:o}))return;!this._scrollData.enableRTL||"mousemove"!=o&&"touchmove"!=o||"msie"==t.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=o&&"touchmove"!=o||"msie"!=t.browserInfo().name?this.value(e):this.value(-1*e):this.value(-a.scrollable+e),this.content().length>0&&(this.model.orientation===t.ScrollBar.Orientation.Horizontal?(e=(r=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(e-this.model.minimum)/this._scrollData.onePx?r:(e-this.model.minimum)/this._scrollData.onePx,this._scrollData.enableRTL&&("mousemove"==o||"touchmove"==o)&&"msie"!=t.browserInfo().name&&((e=r-e)>0&&(e*=-1)),this._scrollData.enableRTL&&("mousemove"==o||"touchmove"==o)&&"msie"==t.browserInfo().name&&(e=-e),this._scrollData.enableRTL&&e>0&&!this._scrollData._scrollleftflag&&(e=0),this._scrollData._scrollleftflag&&(e>0&&(e*=-1),this.value(e)),this.content()[0].style.left=e+"px",this._scrollData._scrollleftflag=!1):(e=(s=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(e-this.model.minimum)/this._scrollData.onePx?s:(e-this.model.minimum)/this._scrollData.onePx,this.content()[0].style.top=e+"px"))},_changeTop:function(e,t,i){var n,o;return e.dimension,o=(n=this.value())+t,e.step=t,e.enableRTL&&t<0||t>0&&!e.enableRTL?e.enableRTL?o<-1*this.model.maximum&&(o=-1*this.model.maximum):o>this.model.maximum&&(o=this.model.maximum):e.enableRTL?o>this.model.minimum&&(o=this.model.minimum):o<this.model.minimum&&(o=this.model.minimum),(o!==n||this.model.infiniteScrolling)&&this.scroll(o,i),o!==n},_mouseUp:function(i){if(i.data){var n=i.data.d;clearInterval(n.vInterval),"touchend"==i.type&&e(i.target).removeClass("e-touch"),"mouseup"!==i.type&&"touchend"!==i.type&&(i.toElement||i.relatedTarget||i.target)||(this._prevY=this._d=this._data=null,this._off(e(document),"mousemove touchmove",this._mouseMove),e(document).off("mouseup touchend",t.proxy(this._mouseUp,this)),n.fromScroller=!1,this[n.scroll].off("mousemove"),this[n.handler].off("mousemove").css("transition",""),"thumb"!==i.data.source||t.isNullOrUndefined(this.model)||e.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:i,scrollData:n})},this))),n.up=!0}},_mouseDown:function(i){this._enabled&&(this._d=i,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(e(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),e(document).one("mouseup touchend",{d:this._data,source:"thumb"},t.proxy(this._mouseUp,this)),"touchstart"==i.type&&e(i.target).addClass("e-touch"))},_mouseCall:function(e){e.type="mouseup",this._mouseUp(e)},_mouseMove:function(i){var n,o,r=0,s=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(i.preventDefault(),t.isNullOrUndefined(i.target.tagName)){if(e(i.target).is(document))return void this._mouseCall(i)}else if("iframe"===i.target.tagName.toLowerCase())return void this._mouseCall(i);o="mousemove"==i.type?i[this._data.clientXy]:i.originalEvent.changedTouches[0][this._data.clientXy],this._prevY&&o!==this._prevY&&(r=o-this._prevY,this.model.infiniteScrolling?(s+=r,this._data.step=r,(this._data.enableRTL?s>0:s<0)&&(s=0),s*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(s=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),n=Math.ceil(s*this._data.onePx),this.scroll(n,"thumb")):(n=r*this._data.onePx,this._changeTop(this._data,n,"thumb",this._d)),this._trigger("thumbMove",{originalEvent:i,scrollData:this._data})),this._prevY=o},_spaceMouseDown:function(i){var n,o,r;i.data&&this._enabled&&(n=i.data.d,1===i.which&&i.target!==this[n.handler][0])&&(o=i.data.step?this.model.smallChange:this.model.largeChange,r=i.data.top||this[n.handler].offset()[n.lPosition],i[n.clientXy]=i[n.clientXy]||0,i[n.clientXy]<r&&(o*=-1),n.target=i.target,this._changeTop(n,o,3===o?"track":"button",i),1!==i.data.step&&this[n.scroll].mousemove(function(){n.up=!0}),n.up=!1,n.vInterval=setInterval(t.proxy(function(){(o<0?r+o/n.onePx<i[n.clientXy]:r+n.handle+o/n.onePx>i[n.clientXy])&&(n.up=!0),n.up?clearInterval(n.vInterval):(this._changeTop(n,o,3===o?"track":"button",i),r=i.data&&i.data.top||this[n.handler].offset()[n.lPosition])},this),150),e(document).one("mouseup",{d:n},t.proxy(this._mouseUp,this)),e(document).mouseout({d:n},t.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===t.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===t.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),t.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}})(jQuery,Syncfusion,window),function(e,t,i,n){"use strict";t.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:n,enableTouchScroll:!0,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:t.util.valueFunction("scrollTop"),scrollLeft:t.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){t.isNullOrUndefined(this.content()[0])||(this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=t.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this.model.enableRTL===n&&(this.model.enableRTL="rtl"===this.element.css("direction")),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),(this._prevScrollWidth!==this.content()[0].scrollWidth||this._prevScrollHeight!==this.content()[0].scrollHeight)&&this.refresh()),this._addActionClass()},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):e(this.content()[0]).height("")),t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):e(this.content()[0]).width(""))},_setScrollLeftValue:function(e){this.model.enableRTL&&(e="mozilla"==t.browserInfo().name?e<0?e:-1*e:!t.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==t.browserInfo().name||this._rtlScrollLeftValue>0)?e<0?this._rtlScrollLeftValue+e:this._rtlScrollLeftValue-e:Math.abs(e)),this.content().scrollLeft(e)},_ensureScrollers:function(){var n,o,r,s,a,l=e.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),this.content().length>0&&(this.isVScroll()?(this._vScrollbar||(this._vScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Vertical,this.isHScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._hScrollbar||(this._hScrollbar=this._createScrollbar(t.ScrollBar.Orientation.Horizontal,this.isVScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),this.element.find(".e-hscroll").length>0||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),"1.7.1"===l||"1.7.2"===l?(n="height",o="width"):(n="outerHeight",o="outerWidth"),s=(r=this._exactElementDimension(this.element)).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[n](s-(this._hScroll&&!this.model.autoHide?this.model.scrollerSize:0)),a=r.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[o](a-(this._vScroll&&!this.model.autoHide?this.model.scrollerSize:0)),isNaN(this._eleWidth)&&this._eleWidth.indexOf("%")>0&&isNaN(this._eleHeight)&&this._eleHeight.indexOf("%")>0&&e(i).on("resize",e.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=e(this.element).parent().height(),this._parentWidth=e(this.element).parent().width())},_convertPercentageToPixel:function(e,t){return Math.floor(e*t/100)},isHScroll:function(){if(t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")){if(this.model.width>0){var i=this.content().find(this.model.targetPane);return null!=this.model.targetPane&&i.length?i[0].scrollWidth+i.siblings().width()>this.model.width:this.content()[0].scrollWidth>this.model.width||this.content()[0].scrollWidth==this.model.width&&e(this.content()[0]).find("> *").length>0&&e(this.content()[0]).find("> *")[0].scrollWidth>this.model.width}return!1}return this.content()[0].scrollWidth>this.element.width()},isVScroll:function(){return t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(this.model.height>0&&(this.content()[0].scrollHeight>this.model.height||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(e){for(var i in e)if("enableRTL"===i)e[i]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),t.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));else if("scrollLeft"===i)(parseFloat(e[i])<0||!this._hScroll)&&(e[i]=0),this._externalCall=!0,this._hScrollbar&&(e[i]=parseFloat(e[i])>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e[i])),this._setScrollLeftValue(parseFloat(e[i])),this.scrollLeft(e[i]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(e[i]);else if("scrollTop"===i)this._vScrollbar&&(e[i]=parseFloat(e[i])>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e[i])),(parseFloat(e[i])<0||!this._vScroll)&&(e[i]=0),this._externalCall=!0,this.content().scrollTop(parseFloat(e[i])),this.scrollTop(e[i]),this.scrollY(e[i]);else if("touchScroll"===i)this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");else if("scrollOneStepBy"===i)this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=e[i],this._vScrollbar.model.smallChange=e[i]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=e[i],this._hScrollbar.model.smallChange=e[i]);else{if("buttonSize"!==i){"height"===i&&(this._eleHeight=e[i]),"width"===i&&(this._eleWidth=e[i]),this.refresh();break}this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh()}},_createScrollbar:function(i,n){var o,r,s,a,l,c,h,d=this,u=document.createElement("div");return i===t.ScrollBar.Orientation.Vertical?(r=this.model.scrollerSize,s=o=t.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(n?this.model.scrollerSize:0):this.element.height()-(n?this.model.scrollerSize:0),a=this.content()[0].scrollHeight,l=this.scrollTop()):(r=o=this.model.width-(n?this.model.scrollerSize:0),s=this.model.scrollerSize,t.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(c=this.content().find(this.model.targetPane),a=null!=this.model.targetPane&&c.length?c[0].scrollWidth+c.parent().width()-c.width():this.content()[0].scrollWidth):(r=o=this.element.width()-(n?this.model.scrollerSize:0),a=this.content()[0].scrollWidth),l=this.scrollLeft()),this.element.children(".e-hscrollbar").length>0?e(this.element.children(".e-hscrollbar")).before(u):this.element.append(u),e(u).ejScrollBar({elementHeight:d._eleHeight,elementWidth:d._eleWidth,buttonSize:d.model.buttonSize,orientation:i,viewportSize:o,height:s,width:r,maximum:a-o,value:l,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:t.proxy(this._scrollChanged,this),thumbEnd:t.proxy(this._thumbEnd,this),thumbStart:t.proxy(this._thumbStart,this),thumbMove:t.proxy(this._thumbMove,this)}),h=e(u).ejScrollBar("instance"),i!==t.ScrollBar.Orientation.Vertical&&n||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:h._scrollData},this._mouseWheel),i===t.ScrollBar.Orientation.Horizontal?this._scrollXdata=h._scrollData:this._scrollYdata=h._scrollData,i===t.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(h._scrollData.enableRTL=!0),h._enabled=this.model.enabled,h},_updateScrollbar:function(i,n){var o=i===t.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;o&&(i===t.ScrollBar.Orientation.Vertical?(o.model.width=this.model.scrollerSize,o.model.height=o.model.viewportSize=this.model.height-(n?this.model.scrollerSize:0),o.model.maximum=this.content()[0].scrollHeight-o.model.viewportSize,o.model.value=this.scrollTop()):(o.model.width=o.model.viewportSize=this.model.width-(n?this.model.scrollerSize:0),o.model.height=this.model.scrollerSize,o.model.maximum=(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length>0?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-e(this.model.targetPane).outerWidth()):this.content()[0].scrollWidth)-o.model.viewportSize,this.model.enableRTL||(o.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").hide()):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_scrollChanged:function(i){this._updateScroll=!0,i.scrollTop!==n?this.scrollY(i.scrollTop,!0,"",i.source):i.scrollLeft!==n&&this.scrollX(i.scrollLeft,!0,"",i.source),this._updateScroll=!1;var o=this;e.when(this.content()).done(t.proxy(function(){o._trigger("scrollEnd",{scrollData:i})}))},_bindBlurEvent:function(n,o){this._scrollEle=e(n).data("ejScrollBar"),this._event=o;this._listener=function(){this._scrollEle._off(e(document),"mousemove touchmove",this._scrollEle._mouseMove),e(document).off("mouseup touchend",t.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(e(document),"mousemove touchmove",this._mouseMove),this._off(e(document),"mouseup touchend",this._mouseUp),this._off(e(i),"blur"),this._evtData.handler,this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(e(i),"blur",this._listener)},_thumbStart:function(e){this._evtData=e.scrollData;var t=(e.scrollData.handler,this.element.find("."+e.scrollData.handler).closest(".e-scrollbar"));e.scrollData.handler,t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");this._bindBlurEvent(t,e),this._trigger("thumbStart",e)},_thumbMove:function(e){this._trigger("thumbMove",e)},_thumbEnd:function(t){this._trigger("thumbEnd",t),this._off(e(i),"blur")},refresh:function(i){var n,o;i||this.element.find(">.e-content").removeAttr("style"),t.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==e(this.element).parent().height()||(n=(n=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),n)),t.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==e(this.element).parent().width()||(n=(n=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),n)),this._ensureScrollers(),o=this.scrollLeft(),this.model.enableRTL?(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),o>0?this.content().scrollLeft(o):this._setScrollLeftValue(o)):this.content().scrollLeft(o),(this.scrollTop()&&null==this._vScrollbar||null!==this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(t.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData)),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(t.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData)),"msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(e){var t,i,n,o=e.get(0).getBoundingClientRect(),r=["left","right","top","bottom"];for(t=o.width?o.width:o.right-o.left,i=o.height?o.height:o.bottom-o.top,n=0;n<r.length;n++)this["border_"+r[n]]=isNaN(parseFloat(e.css("border-"+r[n]+"-width")))?0:parseFloat(e.css("border-"+r[n]+"-width")),this["padding_"+r[n]]=isNaN(parseFloat(e.css("padding-"+r[n])))?0:parseFloat(e.css("padding-"+r[n]));return{width:t,height:i}},_keyPressed:function(e,i){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(i.tagName.toLowerCase()))return!0;var n,o;if(-1!==["up","down","pageUp","pageDown"].indexOf(e))this._vScrollbar&&("msie"==t.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),n=this._vScrollbar._scrollData),o="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(e))return!0;this._hScrollbar&&(n=this._hScrollbar._scrollData),o="i"}return!n||!this._changeTop(n,(e.indexOf(o)<0?-1:1)*("p"!==e[0]?1:3)*n.scrollOneStepBy,"key")}},scrollY:function(e,i,n,o,r){if(""!==e){if(i){r={source:o||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:r};if(this._trigger("scroll",r))return;return e=r.scrollTop,this.scrollTop(e),void this.content().scrollTop(e)}(t.isNullOrUndefined(n)||""===n)&&(n=100),this._vScrollbar&&(e=parseFloat(e)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e)),this.scrollTop(e),this.content().stop().animate({scrollTop:e},n,"linear"),this._trigger("scroll",{source:o||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:r})}},scrollX:function(e,i,n,o,r){var s;if(""!==e){if(this._hScrollbar&&(e=parseFloat(e)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e)),this._externalCall=!0,s=t.browserInfo().name,this.model.enableRTL&&"mozilla"!=s&&(e<0&&(e=Math.abs(e)),null!=this.model.targetPane?this.content().find(this.model.targetPane)[0]:this.content()[0],"mousemove"!=r&&"touchmove"!=r&&"msie"!=s&&"msie"!=s&&(e=this._hScrollbar._scrollData.scrollable-e)),this.scrollLeft(e),i){if(this._trigger("scroll",{source:o||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:r}))return;return void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).scrollLeft(e):this.content().scrollLeft(e))}(t.isNullOrUndefined(n)||""===n)&&(n=100),null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).stop().animate({scrollLeft:e},n,"linear"):this.content().stop().animate({scrollLeft:e},n,"linear"),this._trigger("scroll",{source:o||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:r})}},enable:function(){var e=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");e.hasClass("e-disable")&&(e.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(e,i,n,o){var r,s=null!=this.model.targetPane&&"height"!=e.dimension?this.content().find(this.model.targetPane)[e.scrollVal]():this.content()[e.scrollVal]();return"height"==e.dimension&&0==s&&(s=0!=this.scrollTop()?this.scrollTop():0),r=s+i,(e.enableRTL?r<e.scrollable:r>e.scrollable)&&(r=e.scrollable),(e.enableRTL?r>0:r<0)&&(r=0),r!==s&&(this["scroll"+e.xy](r,!0,"",n,o),"X"!==e.xy||t.isNullOrUndefined(this._hScrollbar)?t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(r,n,!0,o):this._hScrollbar.scroll(r,n,!0,o)),r!==s},_mouseWheel:function(t){var n;if((this._vScrollbar||t.shiftKey)&&t.data&&this.model.enabled){var o,r=0,s=t.data.d,a=t;if(t=t.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:t,scrollData:a.data.d}),this._wheelStart=!1,clearTimeout(e.data(this,"timer")),1!=this._wheelx&&(0==t.wheelDeltaX||0==t.wheelDeltaY)&&(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?t.axis==t.HORIZONTAL_AXIS?s=this._scrollXdata:this._scrollYdata:"msie"==this._browser?("wheel"==t.type&&(r=t.deltaX/120),"mousewheel"==t.type&&t.shiftKey&&(s=this._scrollXdata,t.preventDefault?t.preventDefault():t.returnValue=!1)):this._wheelx&&0!=t.wheelDeltaX&&0==t.wheelDeltaY&&this._scrollXdata&&(s=this._scrollXdata),0==t.wheelDeltaX&&(this._wheelx=t.wheelDeltaX),t.wheelDelta?(r=0==navigator.platform.indexOf("Mac")?-t.wheelDelta/3:-t.wheelDelta/120,i.opera&&parseFloat(i.opera.version,10)<10&&(r=-r)):t.detail&&(r=t.detail/3),r&&(a.originalEvent&&(o=a.originalEvent.wheelDelta&&a.originalEvent.wheelDelta>0||a.originalEvent.detail&&a.originalEvent.detail<0?-1:1),this._changeTop(s,r*s.scrollOneStepBy,"wheel",t)?(t.preventDefault?t.preventDefault():a.preventDefault(),a.stopImmediatePropagation(),a.stopPropagation(),this._trigger("wheelMove",{originalEvent:t,scrollData:a.data.d,direction:o})):(this._trigger("scrollEnd",{originalEvent:t,scrollData:a}),this._wheelx=0),n=this,e.data(this,"timer",setTimeout(function(){n._wheelStart=!0,n._trigger("wheelStop",{originalEvent:t,scrollData:a.data.d,direction:o})},250)))}},_scrollerHover:function(e){"mouseenter"!=e.type&&"touchstart"!=e.type||this.content().siblings().is(":visible")?("mouseleave"==e.type||"touchend"==e.type)&&this.content().siblings().hide():this.content().siblings().css("display","block")},_mouseUp:function(n){if(n.data){var o=n.data.d;"mouseup"!==n.type&&"touchend"!==n.type&&(n.toElement||n.relatedTarget)||(this.content().css("cursor","default"),this._off(e(document),"mousemove touchmove"),this._off(e(document),"mouseup touchend",this._mouseUp),o.fromScroller=!1,!0!==this._mouseMoved||"thumb"!==n.data.source||t.isNullOrUndefined(this.model)||(e.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:n,scrollData:o})},this)),this._off(e(i),"blur"))),o.up=!0}},_mouseDownOnContent:function(o){var r,s;if(this._velocity=0,this.model.enabled&&(r=o.data.d,this._evtData=o.data,this._startX=o.clientX!=n?o.clientX:o.originalEvent.changedTouches[0][r.clientXy],this._startY=o.clientY!=n?o.clientY:o.originalEvent.changedTouches[0][r.clientXy],this._timeStart=o.timeStamp||Date.now(),r.handler,s=this.element.find("."+r.handler).closest(".e-scrollbar"),this._bindBlurEvent(s,o),!this._trigger("thumbStart",{originalEvent:o,scrollData:r}))&&(3!=o.which||2!=o.button)){r.fromScroller=!0;var a,l=null,c=1;this._document=e(document),this._window=e(i),this._mouseMove=function(e){var i,o,s;if(this._relDisX=(this._startx=e.clientX!=n?e.clientX:e.originalEvent.changedTouches[0][r.clientXy])-this._startX,this._relDisY=(this._starty=e.clientY!=n?e.clientY:e.originalEvent.changedTouches[0][r.clientXy])-this._startY,this._duration=(e.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,e.preventDefault(),"iframe"===e.target.tagName.toLowerCase())return e.type="mouseup",void this._mouseUp(e);if(i="mousemove"==e.type?e[r.clientXy]:e.originalEvent.changedTouches[0][r.clientXy],l&&i!==l&&(this._mouseMoved=!0,o=i-l,s=this.model[r.scrollVal]-o,1==c&&Math.abs(o)>5&&(a=r.position,c=0),0==c&&(l=i),s>=0&&s<=r.scrollable&&a===r.position)){var h=this._velocityY>.5&&this._duration<50&&"Top"==r.position,d=this._velocityX>.5&&this._duration<50&&"Left"==r.position;(this._velocityY>.5||this._velocityX>.5)&&this._duration<50?h?(s=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(s+=this.scrollTop())>r.scrollable&&(s=r.scrollable):s<this.scrollTop()&&(s=Math.abs(s-this.scrollTop())),this.scrollTop()<=r.scrollable&&this.scrollY(s,!1,this.model.animationSpeed,"thumb")):d&&(s=Math.abs(this._relDisX),this._startX>this._startx?(s+=this.scrollLeft())>r.scrollable&&(s=r.scrollable):(s-=this.scrollLeft(),((s=Math.abs(s))>r.scrollable||s>=this.scrollLeft())&&(s=0)),this.scrollLeft()<=r.scrollable&&this.scrollX(s,!1,this.model.animationSpeed,"thumb")):(this["scroll"+r.xy](s,!0,"","thumb",e.type),"X"===r.xy?this._hScrollbar.scroll(s,"thumb",!0,e.type):t.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(s,"thumb",!0,e.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:e,scrollData:r}))}null==l&&(l=i)},this._on(e(document),"mousemove touchmove",{d:r,source:"thumb"},this._mouseMove),this._mouseMoved=!1,this._on(e(document),"mouseup touchend",{d:r,source:"thumb"},this._mouseUp)}},_scroll:function(e){for(var i,n,o=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null],r=0;r<2;r++)if((i=o[r])&&!i.skipChange){if(this._externalCall||("height"===i.dimension?this.scrollTop(e.target[i.scrollVal]):this.scrollLeft(e.target[i.scrollVal])),i.sTop=this.model&&null!=this.model.targetPane&&1==r&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][i.scrollVal]:"scrollTop"==i.scrollVal?this.scrollTop():this.scrollLeft(),this[i.scrollVal](i.sTop),i.fromScroller)return;1===r?(n=this.content()[0],this._rtlScrollLeftValue&&n.scrollWidth-n.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=n.scrollWidth-n.clientWidth),i.sTop=this.model&&"mozilla"!=t.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*i.sTop:i.sTop-this._rtlScrollLeftValue:i.sTop,this._hScrollbar.scroll(i.sTop,"",!0)):this._vScrollbar.scroll(i.sTop,"",!0),(2==o.length&&1==r||1==o.length&&0==r)&&(this._externalScroller=!1)}},_changevHandlerPosition:function(e){var t=this._vScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&e>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_changehHandlerPosition:function(e){var t=this._hScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t&&top>=0&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px"))},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""})}})}(jQuery,Syncfusion,window)}),
/*!
*  filename: ej.autocomplete.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.scroller.min"],e):e()}(function(){!function(e,t,i){t.widget("ejAutocomplete","ej.Autocomplete",{element:null,model:null,validTags:["input"],_ignoreOnPersist:["fields","dataSource","query","focusIn","focusOut","change","select","create","destroy","open","close","actionComplete","actionSuccess","actionFailure"],_setFirst:!1,_rootCSS:"e-autocomplete",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{dataSource:null,query:null,fields:{text:null,key:null,category:null,groupBy:null,htmlAttributes:null},locale:"en-US",template:null,allowGrouping:!1,enableDistinct:!1,allowSorting:!0,sortOrder:"ascending",htmlAttributes:{},multiSelectMode:"none",delimiterChar:",",allowAddNew:!1,addNewText:"Add New",showRoundedCorner:!1,readOnly:!1,cssClass:"",watermarkText:null,value:"",selectValueByKey:null,filterType:"startswith",caseSensitiveSearch:!1,showLoadingIcon:!0,showResetIcon:!1,itemsCount:0,minCharacter:1,delaySuggestionTimeout:200,showPopupButton:!1,highlightSearch:!1,enableAutoFill:!1,enableRTL:!1,enabled:!0,visible:!0,height:"",width:"",emptyResultText:"No suggestions",animateType:"slide",showEmptyResultText:!0,enablePersistence:!1,popupHeight:"152px",popupWidth:"auto",autoFocus:!1,multiColumnSettings:{enable:!1,showHeader:!0,stringFormat:"{0}",columns:[{field:null,headerText:null,textAlign:"left",headerTextAlign:"left",cssClass:"",type:"string",filterType:"startswith"}]},validationRules:null,validationMessage:null,focusIn:null,focusOut:null,change:null,select:null,create:null,open:null,close:null,destroy:null,actionBegin:null,actionComplete:null,actionSuccess:null,actionFailure:null},dataTypes:{autoFocus:"boolean",watermarkText:"string",locale:"string",cssClass:"string",filterType:"enum",caseSensitiveSearch:"boolean",showLoadingIcon:"boolean",template:"string",allowGrouping:"boolean",enableDistinct:"boolean",allowSorting:"boolean",sortOrder:"enum",allowAddNew:"boolean",addNewText:"string",showRoundedCorner:"boolean",showResetIcon:"boolean",readOnly:"boolean",itemsCount:"number",animateType:"enum",minCharacter:"number",showPopupButton:"boolean",highlightSearch:"boolean",enableAutoFill:"boolean",enableRTL:"boolean",multiSelectMode:"enum",delimiterChar:"string",emptyResultText:"string",showEmptyResultText:"boolean",enabled:"boolean",visible:"boolean",enablePersistence:"boolean",dataSource:"data",query:"data",fields:"data",validationRules:"data",validationMessage:"data",htmlAttributes:"data",multiColumnSettings:"data"},observables:["value","selectValueByKey"],value:t.util.valueFunction("value"),_selectValueByKey:t.util.valueFunction("selectValueByKey"),enable:function(){this.model.enabled||(this.model.enabled=!0,this.target.disabled=!1,this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.removeAttr("disabled"),this.model.showPopupButton&&this.dropdownbutton.removeClass("e-disable").attr({"aria-disabled":!1}),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable").attr({"aria-disabled":!1}))},disable:function(){this.model.enabled&&(this._hideResult(),this.model.enabled=!1,this.target.disabled=!0,this.element.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.model.showPopupButton&&this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),"visualmode"==this.model.multiSelectMode&&this._ulBox&&this._ulBox.addClass("e-disable").attr({"aria-disabled":!0}))},clearText:function(){"visualmode"==this.model.multiSelectMode&&this._deleteBox(this._ulBox.children("li")),this.element.val(""),this._valueChange(),this._isFocused?this.element.blur():this._focusOutAction(),this._hideResult()},getValue:function(){var e=this.value();return null==e?"":e},getSelectedItems:function(){return this._isFocused&&"visualmode"!=this.model.multiSelectMode&&this._updateSelectedItemArray(this.getValue()),this._selectedItems},_setValue:function(i){var n,o,r;if(this._isWatermark||this._hiddenSpan.css("display","none"),("object"==typeof i||"number"==typeof i&&isNaN(i)||""==e.trim(i))&&(i=""),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(""),this.element.val(""),i)if("visualmode"==this.model.multiSelectMode)if(this._selectedItems=[],this._modelValue=i,this._deleteBox(this._ulBox.children("li")),n=i.split(this.model.delimiterChar),this.element.width(1).val("").removeAttr("placeholder"),this._hiddenInput||(this._hiddenInput=t.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden",name:this.element.attr("name")}).insertBefore(this.element)),t.DataManager&&this.model.dataSource instanceof t.DataManager)this._createBoxForObjectType(n);else if(this.suggestionListItems=this.model.dataSource,this.suggestionListItems&&"object"!=typeof this.suggestionListItems[0])for(this._hiddenInput.val(i),o=0,r=n.length;o<r;o++)n[o]&&(this._ulBox.append(this._createBox(n[o])),this._selectedItems.push(n[o]));else this._createBoxForObjectType(n);else this.element.val(i),this._updateSelectedItemArray(i);return"visualmode"!=this.model.multiSelectMode&&this.value(this.element.val()),this._preVal=this.element.val(),this._isWatermark||this._setWatermarkTxt(),i},_createBoxForObjectType:function(i){for(var n,o=this,r=this._declareVariable(),s=0,a=i.length;s<a;s++)""!=(n=e.trim(i[s]))&&(t.DataManager&&this.model.dataSource instanceof t.DataManager?(this._dataQuery=this._getQuery().where(r[0],"equal",n,!1),this._promise=this.model.dataSource.executeQuery(this._dataQuery),this._promise.done(function(e){var i=e.result;o._strData=i instanceof Array&&i.length?i[0]:n,t.isNullOrUndefined(o._strData[r[1]])||o._selectKeyInit(),o._selectedItems.push(o._strData)}).fail(function(){o._selectedItems.push(n)})):(this._dataQuery=t.Query().where(r[0],"equal",n,!1),this._promise=t.DataManager(this.suggestionListItems).executeLocal(this._dataQuery),this._strData=this._promise instanceof Array&&this._promise.length?this._promise[0]:n,t.isNullOrUndefined(this._strData[r[1]])||this._selectKeyInit(),this._selectedItems.push(this._strData)),"visualmode"==this.model.multiSelectMode&&this._ulBox.append(this._createBox(n)))},_selectKeyInit:function(){var e,i=this._declareVariable();delimiterChar=this._delimiterChar(),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(this._hiddenInput.val()+(t.isNullOrUndefined(this._strData[i[1]]||this._strData[i[0]])?"":(this._strData[i[1]]||this._strData[i[0]])+this.model.delimiterChar)),t.isNullOrUndefined(this._strData[i[1]])||("none"!=this.model.multiSelectMode?(e=(e=null!=this._selectValueByKey()?this._selectValueByKey()+this._strData[i[1]]+delimiterChar:this._strData[i[1]]+delimiterChar).split(delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),this._selectValueByKey(e.join(delimiterChar))):this._selectValueByKey(this._strData[i[1]]))},_declareVariable:function(){var e=this.model.fields,i={_key:null,_text:null,_attr:null},n=[];if(!t.isNullOrUndefined(e))return i._text=e&&e.text?e.text:"text",i._key=e&&e.key?e.key:"key",n.push(i._text,i._key),n},selectValueByKey:function(t){var i,n=this;t=t.toString(),i="none"!=this.model.multiSelectMode?t.split(this.model.delimiterChar):t.split(","),"[object Array]"===Object.prototype.toString.call(i)&&e.each(i,function(t,i){n._setOperation(e.trim(i),"key")})},selectValueByText:function(e){this._setOperation(e,"text")},setValue:function(e){this._setText(e)},_setOperation:function(e,i){var n,o,r,s="",a=this,l=this.model.dataSource;if(t.isNullOrUndefined(l))return!1;if("object"==typeof l[0]||l instanceof t.DataManager)s=(r=this.model.fields)&&r[i]?r[i]:i;else if("key"==i)return!1;if(t.DataManager&&l instanceof t.DataManager)o=this._getQuery().where(s,"equal",e,!this.model.caseSensitiveSearch),(n=l.executeQuery(o)).done(function(e){a._setText(e.result[0])});else{if(!l||!l.length||l.length<1)return!1;o=t.Query().where(s,"equal",e,!this.model.caseSensitiveSearch),n=t.DataManager(l).executeLocal(o),this._setText(n[0])}},_setText:function(e){var t,i,n;if(!e)return!1;if(i=this.model.fields,t="object"==typeof this.model.dataSource[0]||"object"==typeof e?"string"==typeof e?e:i&&i.text?e[i.text]:e.text:e){if("visualmode"==this.model.multiSelectMode&&this._removeDuplicates(e))return!1;this._valueToTextBox(t,e,!0),n="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val(),this.value(n),this.model.showResetIcon&&this._showReset()}},_textFormateString:function(e){var i,n,o=this.model.multiColumnSettings.stringFormat;if(this._columnsIndex(),t.isNullOrUndefined(e)||"object"!=typeof e)o=t.isNullOrUndefined(e)||"object"==typeof e?this._currList[this._activeItem-1]:o.replace("{"+this._columnIndex[0]+"}",e);else for(i=0,n=this._columnIndex.length;i<n;i++)o=o.replace("{"+this._columnIndex[i]+"}",e[this.model.multiColumnSettings.columns[parseInt(this._columnIndex[i])].field]);return o},_columnsIndex:function(){var t=this;this._columnIndex=[],e.each(this.model.multiColumnSettings.stringFormat.match(/\{.+?\}/g),function(e,i){t._columnIndex[e]=i.slice(1,-1)})},_valueToTextBox:function(e,i,n){var o,r,s;!this._addNewTemplate&&this.model.multiColumnSettings.enable&&"string"!=typeof i&&(e=this._textFormateString(i)),"visualmode"==this.model.multiSelectMode?(i="string"==typeof i&&this._addNewTemplate&&i.substr(i.length-this._addNewTemplate.length)==this._addNewTemplate?i.replace(this._addNewTemplate,""):i,o=e.indexOf(this._addNewTemplate),this._addNewTemplate&&(e=e.substr(0,e.length-this._addNewTemplate.length)),s=this.model.delimiterChar,r=(r=this._getUniqueKey())||(this.model.fields&&this.model.fields.key?i[this.model.fields.key]:t.isNullOrUndefined(i.key)?r:i.key),(!(this._selectValueByKey()==r||null==r)||o>-1)&&this._selectValueByKey(null!=this._selectValueByKey()?this._selectValueByKey()+(o>-1?e:r)+s:(o>-1?e:r)+s),(!(this._hiddenInput.val()==r||null==r)||o>-1)&&this._hiddenInput.val(this._hiddenInput.val()+(r||e)+s),this._modelValue=t.isNullOrUndefined(this.value())?e+s:this.value()+e+s,this.element.val("").removeAttr("placeholder").width(1),this._ulBox.append(this._createBox(e)),this._addNewTemplate=null):"delimiter"==this.model.multiSelectMode?(s=this.target.value.lastIndexOf(this.model.delimiterChar),this._typed||""==this.element.val()||n||!this.model.showPopupButton?n?this.element.val(""==this.element.val()?e+this.model.delimiterChar:this.element.val()+e+this.model.delimiterChar):-1==s?this.element.val(this._queryString.substr(0,s+1)+e+this.model.delimiterChar):this.element.val(this._queryString.substr(0,s+this.model.delimiterChar.length)+e+this.model.delimiterChar):!this.model.enableAutoFill||this.showSuggestionBox?this._checkDeli()?this.element.val(this._queryString.substr(0,s)+this.model.delimiterChar+e+this.model.delimiterChar):this.element.val(this.element.val()+this.model.delimiterChar):this._checkDeli()||this.element.val(this.element.val()+this.model.delimiterChar),this._typed=!1):(this.element.val(e),this._selectedItems=[]),this._selectedItems.push(i),this._originalval.push(e),this._moveCaretToEnd(this.element[0])},_removeDuplicates:function(e){return 0!=this._selectedItems.length&&(-1!=this._selectedItems.indexOf(e)||void 0)},search:function(){this.model.enabled&&this._checkDelimiter()&&(this._hideResult(),this._autoFill=!1,this._queryString=e.trim(this._queryString),this._queryString.length>0&&this._OnTextEnter())},setVisible:function(e){e?this.wrapper.show():this.wrapper.hide()},hide:function(){this._hideResult()},open:function(){this._showFullList()},_changeWatermark:function(e){this._isWatermark?this.element.attr("placeholder",e):this._hiddenSpan.text(e)},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.suggestionList.removeClass(this.model.cssClass).addClass(e)},_setDropdown:function(e){this.model.showPopupButton=e,e?this._renderDropdown():this._destroyDropdown()},_changeHeight:function(e){this.wrapper.height(e)},_changeWidth:function(e){this.wrapper.width(e),this._setListWidth()},_setCulture:function(){this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.addNewText)||(this._localizedLabels.addNewText=this._options.addNewText),t.isNullOrUndefined(this._options.emptyResultText)||(this._localizedLabels.emptyResultText=this._options.emptyResultText)),this.model.addNewText=this._localizedLabels.addNewText,this.model.emptyResultText=this._localizedLabels.emptyResultText},_init:function(e){if(this._options=e,this._setCulture(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this.model.fields.groupBy=this.model.fields.groupBy?this.model.fields.groupBy:this.model.fields.category,this._initialize(),this._render(),this._wireEvents(),this.initialRender=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation())},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,n,o,r,s;if(this.model.validationRules)for(o in(i="visualmode"==this.model.multiSelectMode?this._hiddenInput:this.element).rules("add",this.model.validationRules),n=(n=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=i.attr("name"),n.settings.messages[name]={},this.model.validationRules)if(r=null,!t.isNullOrUndefined(this.model.validationRules[o])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[o]))for(s in n.settings.messages[name][o]=e.validator.messages[o],this.model.validationMessage)o==s&&(r=this.model.validationMessage[o]);else r=this.model.validationRules.messages[o];n.settings.messages[name][o]=null!=r?r:e.validator.messages[o]}},_removeDuplicateValue:function(e){return e.split(this.model.delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]).join(this.model.delimiterChar)},_delimiterChar:function(){return"none"!=this.model.multiSelectMode?this.model.delimiterChar:""},_setModel:function(e){var i,n,o,r,s,a,l;for(i in e){switch(i){case"dataSource":this.model.dataSource=null;break;case"watermarkText":this._changeWatermark(e[i]);break;case"delaySuggestionTimeout":this.model.delaySuggestionTimeout=parseInt(e[i]);break;case"value":deli=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(l=e[i].substr(e[i].length-deli.length)==deli?e[i]:e[i]+deli,e[i]=""==e[i]?this.value():(this.value()?this.value():"")+l,"visualmode"==this.model.multiSelectMode&&(e[i]=e[i].split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),e[i]=e[i].join(deli))),this.value(this._setValue(e[i])),this._modelValue=this.value(),n="visualmode"==this.model.multiSelectMode?this._hiddenInput.val():this.element.val(),this._changeEvtTrigger(n),this.model.showResetIcon&&this._showReset();break;case"showPopupButton":this._setDropdown(e[i]);break;case"enableRTL":this._RightToLeft(e[i]);break;case"showRoundedCorner":this._setRoundedCorner(e[i]);break;case"readOnly":this._checkReadOnly(e[i]);break;case"delimiterChar":o=this.model.delimiterChar,e[i]=this._validateDelimiter(e[i]),this.model.delimiterChar=e[i],this.element.val(this.value().replace(new RegExp(o,"g"),this.model.delimiterChar)),this.value(this.element.val());break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[i],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[i],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"locale":t.Autocomplete.Locale[e[i]]?(this.model.locale=e[i],this._setCulture()):e[i]=this.model.locale;break;case"filterType":for(a in r=[],t.filterType)t.filterType.hasOwnProperty(a)&&r.push(t.filterType[a]);r.indexOf(e[i])>-1?this.model.filterType=e[i]:e[i]=this.model.filterType;break;case"multiSelectMode":this.model.multiSelectMode=e[i],s=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(a=this._selectValueByKey(),(l=this.value())&&(l=l.substr(l.length-s.length)==s?l:l+s,this.value(l),"visualmode"==this.model.multiSelectMode&&this.value(this._removeDuplicateValue(this.value()))),a&&(this._selectValueByKey(a.substr(a.length-s.length)==s?a:a+s),"visualmode"==this.model.multiSelectMode&&this._selectValueByKey(this._removeDuplicateValue(this._selectValueByKey())))),"visualmode"==e[i]?(null!=this.model.validationRules&&this.element.rules("remove"),""!=this.element.val()&&this._isWatermark&&this.element.removeAttr("placeholder"),this._renderBoxModel()):this.element.hasClass("e-visual-mode")&&this._destroyBoxModel(),this._setValue(this.value()),this._setValidation(),t.isNullOrUndefined(this.element.attr("placeholder"))&&this._isWatermark&&this._setWatermark();break;case"enabled":this._disabled(!e[i]);break;case"visible":this.setVisible(e[i]);break;case"height":this._changeHeight(e[i]);break;case"width":this._changeWidth(e[i]);break;case"cssClass":this._changeSkin(e[i]);break;case"itemsCount ":(e[i]<=0||isNaN(e[i]))&&(e[i]=0);break;case"popupHeight":this.suggestionList.css({"max-height":isNaN(e[i])?e[i]:e[i]+"px"});break;case"popupWidth":this.model.popupWidth=e[i],this._setListWidth();break;case"selectValueByKey":deli=this._delimiterChar(),a=t.util.getVal(e[i]),this.selectValueByKey(a),keyValue="none"!=this.model.multiSelectMode?this._selectValueByKey()+e[i]:e[i],keyValue=keyValue.split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),keyValue=keyValue.join(deli),e[i]=keyValue.substr(keyValue.length-deli.length)==deli?keyValue:keyValue+deli;break;case"htmlAttributes":this._addAttr(e[i]);break;case"emptyResultText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.emptyResultText=this.model.emptyResultText=e[i],this._setCulture();break;case"addNewText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.addNewText=this.model.emptyResultText=e[i],this._setCulture();break;case"multiColumnSettings":t.isNullOrUndefined(e[i].enable)||(this.model.multiColumnSettings.enable=e[i].enable),t.isNullOrUndefined(e[i].showHeader)||(this.model.multiColumnSettings.showHeader=e[i].showHeader),t.isNullOrUndefined(e[i].stringFormat)||(this.model.multiColumnSettings.stringFormat=e[i].stringFormat),t.isNullOrUndefined(e[i].columns)||(this.model.multiColumnSettings.columns=e[i].columns),this.suggestionList.remove(),this._renderSuggestionList();break;case"showResetIcon":this.model.showResetIcon=e[i],e[i]?this._showReset():this._removeReset()}this._hideResult()}},_destroy:function(){this.element.width("").removeAttr("role aria-label aria-expanded aria-haspopup aria-autocomplete autocomplete placeholder aria-owns aria-disabled disabled"),this.element.insertAfter(this.wrapper),"visualmode"==this.model.multiSelectMode&&this.element.removeClass("e-visual-mode").attr("name",this._hiddenInput.attr("name")),this.model.enabled||this.element.removeClass("e-disable"),this.wrapper.remove(),this.element.removeClass("e-input").val(""),this._isWatermark&&this.element.removeAttr("placeholder"),this._hideResult(),this.suggestionList.remove()},_initialize:function(){this.value(""===this.value()?this.element[0].value:this.value()),this.element.attr("role","combobox").attr("aria-label","Autocomplete textbox").attr("aria-expanded",!1).attr("tabindex",0).attr("aria-autocomplete","list"),/Edge\/12./i.test(navigator.userAgent)&&this.element.addClass("edge-browser"),this.target=this.element[0],this.dropdownbutton=null,this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this.showSuggestionBox=!1,this.noresult=!0,this._queryString=null,this.suggLen=0,this._selectedItems=[],this._modelValue="",this._activeItem=0,this._originalval=[],this.ctrlKeyPressed=!1,this._isFocused=!1,this._isOpened=!1,this._typed=!1,this._cancelEvent=!1,this._isWatermark=this._checkWatermarkSupport(),this._selectedObj=[]},_render:function(){this._renderWrapper(),this._addAttr(this.model.htmlAttributes),this._setDimentions(),this._renderDropdown(),this._checkProperties(),this._isWatermark?this._setWatermark():this._setWatermarkTxt(),this._renderSuggestionList(),this._RightToLeft(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this.setVisible(this.model.visible),this._setListPosition()},_renderWrapper:function(){var e,i;this.element.addClass("e-input").attr("autocomplete","off"),this.wrapper=t.buildTag("span.e-atc e-widget "+this.model.cssClass+"#"+this.target.id+"_wrapper").insertAfter(this.element),document.activeElement==this.element[0]&&(e=!0),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),this._isWatermark||(this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this.model.watermarkText),this._hiddenSpan.css("display","none"),i=this,this._hiddenSpan.click(function(){this._isFocused||i.element.focus()})),e&&this.element.focus()},_renderDropdown:function(){if(this.model.showPopupButton){var i=t.buildTag("span.e-icon e-search").attr(this._isIE8?{unselectable:"on"}:{});this.dropdownbutton=t.buildTag("span.e-select#"+this.target.id+"_dropdown").attr(this._isIE8?{unselectable:"on"}:{}).append(i),this.container.append(this.dropdownbutton).addClass("e-padding"),this.model.enabled||this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),this.dropdownbutton.on("mousedown",e.proxy(this._OnDropdownClick,this))}},_addAttr:function(t){var i=this;e.map(t,function(e,t){"required"==t&&i.element.attr(t,e),"class"==t?i.wrapper.addClass(e):"name"==t?i.element.attr(t,e):"disabled"==t&&"disabled"==e?i._disabled(!0):"readOnly"==t&&!0===e?i._checkReadOnly(!0):i.wrapper.attr(t,e)})},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_renderBoxModel:function(){this._ulBox=t.buildTag("ul.e-ul e-boxes");var i=this.model.enabled?"":"e-disable";this._ulBox.addClass(i),this._hiddenInput=t.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden"}).insertBefore(this.element),this._hiddenInput.attr("name",this.element.attr("name")),this.element.val("").removeAttr("name").addClass("e-visual-mode"),this._isWatermark||this.element.width(1),this.container.prepend(this._hiddenInput,this._ulBox),this.wrapper.height("auto"),this._on(this.container,"mousedown",function(t){if(!this.model.enabled)return!1;var i=e(t.target);i.is(this.element)||(t.preventDefault(),this._isFocused||this.element.focus(),i.hasClass("e-options")?(!t.ctrlKey&&i.siblings().hasClass("e-active")&&this._removeActive(),i.hasClass("e-active")?i.removeClass("e-active"):i.addClass("e-active")):this._moveCaretToEnd(this.element[0])),!t.ctrlKey&&(i.hasClass("e-boxes")||i.hasClass("e-input"))&&this._removeActive()})},_destroyBoxModel:function(){this.container.prepend(this.element),this.element.attr({name:this._hiddenInput.attr("name")}).removeAttr("style").removeClass("e-visual-mode"),this.wrapper.height(this.model.height),this._hiddenInput.remove(),this._hiddenInput=null,this._ulBox.remove(),this._off(this.container,"mousedown")},_deleteLastBox:function(){var e=this._ulBox.children().last(),t=e.hasClass("e-active");this._removeActive(),t?this._deleteBox(e):e.addClass("e-active")},_deleteBox:function(t){for(var i,n,o,r,s=0,a=t.length;s<a;s++)i=this._ulBox.children().index(t[s]),this._selectedItems.splice(i,1),n=this.model.delimiterChar,(o=this._hiddenInput.val().split(n)).splice(i,1),this._hiddenInput.val(o.join(n)),this._selectValueByKey(o.join(n)),(r=this._modelValue.split(n)).splice(i,1),this._modelValue=r.join(n),e(t[s]).remove();this.showSuggestionBox&&this._refreshPopup(),this._valueChange(),""==this._hiddenInput.val()&&this._setWatermark()},_removeActive:function(){this._ulBox.children("li.e-active").removeClass("e-active")},_adjustWidth:function(){var e,i=t.buildTag("span",this.element.val());this.container.append(i),e=i.width()+30,this.element.width()!=e&&this.element.width(e),""==this._hiddenInput.val()&&this._setWatermark(),i.remove()},_checkProperties:function(){var i,n;this._checkReadOnly(this.model.readOnly),this.model.delimiterChar=this._validateDelimiter(this.model.delimiterChar),this.model.enabled?this.model.enabled&&e(this.element).hasClass("e-disable")&&(this.model.enabled=!1,this._disabled(!1)):(this.model.enabled=!0,this._disabled(!0)),this._checkNameAttr(),"visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),null!=this._selectValueByKey()&&""==this.value()?(i=this._selectValueByKey().toString(),"none"!=this.model.multiSelectMode&&(i=i.substr(i.length-this.model.delimiterChar.length)==this.model.delimiterChar?i:i+this.model.delimiterChar,"visualmode"==this.model.multiSelectMode?this._selectValueByKey(null):this._selectValueByKey(i)),this.selectValueByKey(i),this.model.showResetIcon&&this._showReset()):(n=this.value(),"none"!=this.model.multiSelectMode&&(t.isNullOrUndefined(n)||""!=n)&&(n=n.substr(n.length-this.model.delimiterChar.length)==this.model.delimiterChar?n:n+this.model.delimiterChar),this.value(this._setValue(n)),this.model.showResetIcon&&""!=this.value()&&this._showReset())},_checkNameAttr:function(){this.element.attr("name")||this.element.attr("name",this.element[0].id)},_disabled:function(e){e?this.disable():this.enable()},_destroyDropdown:function(){this.dropdownbutton.off("mousedown",e.proxy(this._OnDropdownClick,this)),this.dropdownbutton.remove(),this.dropdownbutton=null,this.container.removeClass("e-padding")},_validateDelimiter:function(t){return e.trim(t).length!=t.length&&null==t.length||/^[a-zA-Z0-9]+$/.test(t)?",":t},_checkWatermarkSupport:function(){return"placeholder"in document.createElement("input")},_setWatermark:function(){(this.model.watermarkText&&(""==this.value()||t.isNullOrUndefined(this.value()))||"visualmode"!=this.model.multiSelectMode)&&this.element.attr("placeholder",this.model.watermarkText).width("")},_setWatermarkTxt:function(){null!=this.model.watermarkText&&""==e.trim(this.element.val())&&("visualmode"!=this.model.multiSelectMode||""==e.trim(this._hiddenInput.val()))&&this._hiddenSpan.css("display","block").text(this.model.watermarkText)},_renderSuggestionList:function(){var i,n,o,r,s,a,l=e("#"+this.element[0].id+"_suggestion").get(0);if(l&&e(l).remove(),this.suggestionList=t.buildTag("div.e-atc-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_suggestion","",{display:"none"}).attr("role","listbox"),this.element.attr("aria-owns",this.target.id+"_suggestion"),this.popup=this.suggestionList,i=t.buildTag("div"),this.model.multiColumnSettings.enable){if(this._tableColumn=t.buildTag("table","",{},{role:"listbox","border-collapse":"separate",border:0,cellspacing:0,cellpadding:0,class:"e-atc-tableContent"}),this._listEventBind(this._tableColumn,"tr"),this._headerColGroup=document.createElement("colgroup"),this.model.multiColumnSettings.showHeader){for(this._tableHeaderDiv=t.buildTag("div",{},{},{class:"e-atc-tableHeader "+(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll")}),n=t.buildTag("div",{},{},{class:"e-atc-tableHeaderContent e-atc-tableHeaderBorder"}),o=document.createElement("tr"),this._tableHeader=t.buildTag("table","",{},{cellspacing:"0.25px"}),r=0,s=this.model.multiColumnSettings.columns.length;r<s;r++)e(o).append(t.buildTag("th",this.model.multiColumnSettings.columns[r].headerText?this.model.multiColumnSettings.columns[r].headerText:"column"+r,{"text-align":this.model.multiColumnSettings.columns[r].headerTextAlign?this.model.multiColumnSettings.columns[r].headerTextAlign:"left"},{class:r==this.model.multiColumnSettings.columns.length-1?"":this.model.enableRTL?"e-atc-thleft":"e-atc-thright"})),e(this._headerColGroup).append(document.createElement("col"));e(this._tableHeaderDiv).append(e(n).append(e(this._tableHeader).append(o).append(this._headerColGroup))),this.suggestionList.append(this._tableHeaderDiv)}else{for(r=0,s=this.model.multiColumnSettings.columns.length;r<s;r++)e(this._headerColGroup).append(document.createElement("col"));this._tableColumn.append(this._headerColGroup)}(a=t.buildTag("div")).append(this._tableColumn),i.append(a)}else this.ul=t.buildTag("ul.e-ul").attr("role","listbox"),this._listEventBind(this.ul,"li:not('.e-category')"),i.append(this.ul);this.suggestionList.append(i),e("body").append(this.suggestionList),this._setListWidth(),this._setListHeight(),this.model.multiColumnSettings.enable?(i.ejScroller({height:i.height(),width:0,scrollerSize:20}),this.scrollerObj=i.ejScroller("instance")):(this.suggestionList.ejScroller({height:this.suggestionList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.suggestionList.ejScroller("instance"))},_listEventBind:function(t,i){t.on({mouseenter:e.proxy(this._OnMouseEnter,this),mouseleave:e.proxy(this._OnMouseLeave,this),click:e.proxy(this._OnMouseClick,this)},i)},_checkEmptyList:function(){"visualmode"==this.model.multiSelectMode&&this._removeRepeated(),0==this.suggestionListItems.length?(this.suggestionListItems.push(this.model.emptyResultText),this.noresult=!0):this.noresult=!1},_showSuggestionList:function(e){this.suggestionListItems=this.model.enableDistinct?t.dataUtil.distinct(this.suggestionListItems,"object"!=typeof this.suggestionListItems[0]?"":this.model.fields&&this.model.fields.text?this.model.fields.text:"text",!0):this.suggestionListItems,this.model.itemsCount>0&&(this.suggestionListItems=t.DataManager(this.suggestionListItems).executeLocal(t.Query().take(this.model.itemsCount))),this._checkEmptyList(),this._addNewTemplate=null,this.noresult&&"visualmode"==this.model.multiSelectMode&&this.model.allowAddNew&&""!=this.element.val()&&!this._repeatRemove&&(this.noresult=!1,this.suggestionListItems.pop(),this._addNewTemplate="   ("+this.model.addNewText+")",this.suggestionListItems.push(this.element.val()+this._addNewTemplate),this._checkEmptyList()),(!this.noresult||this.model.showEmptyResultText)&&this._generateSuggestionList(e)},_generateSuggestionList:function(i){var n,o,r,s,a,l,c,h,d,u,p,f=this.suggestionListItems;if(this.model.multiColumnSettings.enable?this._tableColumn.empty()&&this.model.multiColumnSettings.showHeader&&this._tableHeaderDiv.css("display",""):this.ul.empty(),n=this,o=document.createDocumentFragment(),"object"!=typeof f[0]){if(n.model.multiColumnSettings.enable){var m=t.buildTag("tbody"),g=t.buildTag("tr").attr("role","option").attr(n._isIE8?{unselectable:"on"}:{}),v=t.buildTag("td",{},{},{role:"option"});for(s=0,a=f.length;a>s;s++){var b=n.model.highlightSearch&&!n.noresult?n._highlightSuggestion(f[s]):f[s],y=g.clone(),_=v.clone();e(_).attr(n._isIE8?{unselectable:"on"}:{}).attr(f[s]!=f.length-1?{class:"e-atc-tdbottom"}:{}).html(b),y[0].appendChild(_[0]),m[0].appendChild(y[0]),o.appendChild(m[0]),n.model.showEmptyResultText&&n.model.emptyResultText==b&&n.model.multiColumnSettings.showHeader&&n._tableHeaderDiv.css("display","none")&&e(_).removeClass("e-atc-tdbottom"),n._addNewTemplate&&!t.isNullOrUndefined(n._tableHeaderDiv)&&n._tableHeaderDiv.css("display","none")}n._tableColumn[0].appendChild(o)}else{for(r=t.buildTag("li",{},{},{role:"option"}).attr(n._isIE8?{unselectable:"on"}:{}),s=0,a=f.length;a>s;s++)b=n.model.highlightSearch&&!n.noresult?n._highlightSuggestion(f[s]):f[s],(l=r.clone())[0].innerHTML=b,o.appendChild(l[0]);n.ul[0].appendChild(o)}this._currList=f,this._mapper={txt:null,key:null}}else c=this.model.fields,(h={_key:null,_text:null,_attr:null})._key=c&&c.key?c.key:"key",h._text=c&&c.text?c.text:"text",h._attr=c&&c.htmlAttributes?c.htmlAttributes:"htmlAttributes",this._mapper={txt:h._text,key:h._key},this._currList=[],this.model.fields.groupBy?(d=c&&c.groupBy?c.groupBy:"groupBy",p=t.Query().group(d),this._addSortingQuery(p,"key"),u=t.DataManager(f).executeLocal(p),this._swapUnCategorized(u),u.forEach(function(e,i){if(e.key)if(n.model.multiColumnSettings.enable){var o=t.buildTag("tr.e-category").attr("role","option").attr(n._isIE8?{unselectable:"on"}:{});o.append(t.buildTag("td",e.key).attr("role","option").attr(n._isIE8?{unselectable:"on"}:{}).attr(i!=f.length-1?{class:"e-atc-tdbottom"}:{})),n._tableColumn.append(o)}else n.ul.append(t.buildTag("li.e-category",e.key).attr("role","option").attr(n._isIE8?{unselectable:"on"}:{}));n._generateLi(e.items,h)})):this._generateLi(f,h);this._getLiTags().length>0&&(e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),this._showResult(i))},_swapUnCategorized:function(e){for(var t,i=e.length,n=0;n<i;n++)if(!e[n].key){for(t=n;t>0;t--)e[t]=e[t-1];return e[t]=e[n],!1}},_generateLi:function(i,n){var o,r,s,a,l,c,h,d,u,p,f,m=this,g=document.createDocumentFragment(),v=document.createDocumentFragment();if(m.model.multiColumnSettings.enable){for(o=m.model.multiColumnSettings.columns.length,this._tableColumn.append(t.buildTag("tbody")),r=t.buildTag("tr"),s=t.buildTag("td"),h=0,d=i.length;d>h;h++)if(u=i[h][n._text],p=i[h][n._key],!t.isNullOrUndefined(u)||m.model.multiColumnSettings.enable){for(m._getField(i[h]),(a=r.clone())[0].className=h%2?"e-atc-trbgcolor":"",l=0;l<o;l++)(c=s.clone())[0].innerHTML=m.model.highlightSearch&&e.inArray(l.toString(),m._columnIndex)>-1?m._highlightSuggestion(m._getField(i[h],m.model.multiColumnSettings.columns[l].field).toString()):m._getField(i[h],m.model.multiColumnSettings.columns[l].field),c[0].className=(h!=i.length-1?"e-atc-tdbottom ":"")+(l!=m.model.multiColumnSettings.columns.length-1?m.model.enableRTL?"e-atc-tdleft ":"e-atc-tdright ":"")+(m.model.multiColumnSettings.columns[l].cssClass?m.model.multiColumnSettings.columns[l].cssClass:""),c[0].style.textAlign=m.model.multiColumnSettings.columns[l].textAlign?m.model.multiColumnSettings.columns[l].textAlign:"left",v.appendChild(c[0]);a[0].appendChild(v),p&&a.attr("id",p),m._setAttributes(m._getField(i[h],n._attr),a[0]),g.appendChild(a[0]),m._currList=m._currList.concat([i[h]])}e(m._tableColumn).find("tbody")[0].appendChild(g)}else{for(h=0,d=i.length;d>h;h++)u=i[h][n._text],p=i[h][n._key],t.isNullOrUndefined(u)||(m.model.highlightSearch&&(u=m._highlightSuggestion(u)),m.model.template&&(u=m._getTemplatedString(i[h],n._text,u)),(f=document.createElement("li")).innerHTML+=u,p&&f.setAttribute("id",p),m._setAttributes(m._getField(i[h],n._attr),f),g.appendChild(f),m._currList=m._currList.concat([i[h]]));m.ul[0].appendChild(g)}},_getLiTags:function(){return this.model.multiColumnSettings.enable?this._tableColumn.find("tbody tr:not('.e-category')"):this.ul.children("li:not('.e-category')")},_getTemplatedString:function(e,t,i){for(var n=this.model.template,o=n.indexOf("${"),r=n.indexOf("}");-1!=o&&-1!=r;){var s=n.substring(o,r+1),a=s.replace("${","").replace("}",""),l=this._getField(e,a);t==a&&(l=i),l||(l=""),o=(n=n.split(s).join(l)).indexOf("${"),r=n.indexOf("}")}return n},_getField:function(e,i){return t.pvt.getObject(i,e)},_setAttributes:function(t,i){if(t)for(var n in"string"==typeof t&&(t=e.parseJSON(t)),t)i.setAttribute(n,t[n])},_setListWidth:function(){var e=this.model.popupWidth;e&&"auto"!=e?this.suggestionList.css({width:e}):this.suggestionList.css({width:this.wrapper.width()})},_setListHeight:function(){this.suggestionList.css({"max-height":this.model.popupHeight})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.wrapper.outerWidth()!=this.suggestionList.outerWidth()&&(this.suggestionList.css({width:this.wrapper.width()}),this._refreshScroller()),this._setListPosition()},_showResult:function(n){var o,r,s,a;this._refreshScroller(),this._refreshPopup(),this._isOpened?e(document).on("mousedown",e.proxy(this._OnDocumentClick,this)):(this.suggestionList.css("display","none"),o=this,clearTimeout(this._typing),this._typing=setTimeout(function(){o.suggestionList["slide"==o.model.animateType?"slideDown":"fadeIn"]("none"==o.model.animateType?0:300,function(){e(document).on("mousedown",e.proxy(o._OnDocumentClick,o))})},this.model.delaySuggestionTimeout),r=n!=i?{event:n,isInteraction:!0}:{isInteraction:!1},this._trigger("open",r),this.wrapper.addClass("e-active")),this._isOpened=!0,this.showSuggestionBox=!0,s=this._getLiTags(),this._listSize=s.length,e(window).on("resize",e.proxy(this._OnWindowResize,this)),(a=t.getScrollableParents(this.wrapper))[0]!=window&&this._on(a,"scroll",this._hideResult)},_hideResult:function(n){var o,r;this.showSuggestionBox&&(this.showSuggestionBox=!1,this._activeItem=0,clearTimeout(this._hiding),this.element.attr("aria-expanded",!1),o=this,this._isOpened?(this.suggestionList.css("display","none"),r=n!=i?{event:n,isInteraction:!0}:{isInteraction:!1},this._trigger("close",r)):this._hiding=setTimeout(function(){o.model&&o.suggestionList["slide"==o.model.animateType?"slideUp":"fadeOut"]("none"==o.model.animateType?0:100),o._activeItem=0},this.model.delaySuggestionTimeout),e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this.wrapper.removeClass("e-active"))},_refreshScroller:function(){this.suggestionList.css("height","auto"),this.suggestionList.find(".e-content , .e-scroller").removeAttr("style"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(e(this._tableColumn).attr("width","auto"),e(this._tableHeader).attr("width","auto")),this.suggestionList.css("display","block"),this.model.multiColumnSettings.enable&&(this.scrollerObj.option("height","auto"),this._columnBorderAlign());var i=this.suggestionList.height()>parseInt(e.isNumeric(this.model.popupHeight)?this.model.popupHeight:this.model.popupHeight.replace("px",""))-4;i||this.model.multiColumnSettings.enable&&(this.suggestionList.height()<=this._tableColumn.height()||this.suggestionList.width()<=this._tableColumn.width()||this.model.multiColumnSettings.showHeader&&this.suggestionList.width()<=this._tableHeader.width())?(i&&(this.scrollerObj.model.height=this.model.multiColumnSettings.showHeader&&this._tableHeader?parseInt(this.suggestionList.height())-parseInt(this._tableHeader.height()):this.suggestionList.height()),!this.model.multiColumnSettings.enable&&this.suggestionList.width()<this.suggestionList.find(".e-ul").width()&&this.suggestionList.find(".e-ul").width(this.suggestionList.find(".e-ul").width()),this.scrollerObj.model.width=this.suggestionList.width(),this.scrollerObj.refresh(),this.scrollerObj.option({enableRTL:this.model.enableRTL,scrollTop:0,scrollLeft:0}),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._addThBorder(),this.suggestionList.addClass("e-scroller"),!this.scrollerObj._vScroll&&this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()):(this.suggestionList.removeClass("e-scroller"),this.scrollerObj.refresh(),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()),this.suggestionList.css("height","auto"),this._isIE8&&this.suggestionList.find(".e-vscroll div, .e-hscroll div").attr("unselectable","on"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this.suggestionList.find(".e-content").scroll(t.proxy(function(t){this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(e(t.currentTarget).scrollLeft())},this)),this.suggestionList.find(".e-content").length>0&&this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(this.model.enableRTL?this.suggestionList.find(".e-content")[0].scrollWidth-this.suggestionList.find(".e-content")[0].clientWidth:0))},_columnBorderAlign:function(){var t,i,n;if(this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&"none"!=this._tableHeaderDiv.css("display")){for(this._tableWid=this._tableHeader.outerWidth()>this._tableColumn.outerWidth()?this._tableHeader.outerWidth():this._tableColumn.outerWidth(),this._tableColumn.find("colgroup").remove(),e(this._headerColGroup.children).removeAttr("style"),i=0,n=this._headerColGroup.children.length;i<n;i++)e(this._headerColGroup.children[i]).css({width:parseInt(e(this._tableColumn).find("tr:first td").eq(i).outerWidth())>parseInt(this._tableHeader.find("tr:first th").eq(i).outerWidth())?e(this._tableColumn).find("tr:first td").eq(i).outerWidth():this._tableHeader.find("tr:first th").eq(i).outerWidth()});this._tableColumn.append(e(this._headerColGroup).clone()),t=this._tableWid>this.suggestionList.width()?this._tableWid:"100%",e(this._tableColumn).attr("width",t),e(this._tableHeader).attr("width",t)}else if(this.model.multiColumnSettings.enable&&!this.model.multiColumnSettings.showHeader){if(e(this._tableColumn).attr("width","auto"),this._tableWid=this._tableColumn.outerWidth(),e(this._headerColGroup.children).removeAttr("style"),"100%"!=(t=this._tableWid>this.suggestionList.width()?this._tableWid:"100%")){for(i=0,n=this._headerColGroup.children.length;i<n;i++)e(this._headerColGroup.children[i]).css({width:e(this._tableColumn).find("tr:first td").eq(i).outerWidth()});this._tableColumn.append(this._headerColGroup)}e(this._tableColumn).attr("width",t)}else e(this._tableColumn).attr("width","100%")},_removeThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").removeClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.parent(".e-atc-tableHeaderContent").removeClass("e-atc-tableHeaderBorder")},_addThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").addClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll").removeClass(this.model.enableRTL?"e-atc-tableHeaderScroll":"e-atc-tableHeaderRTL"),this._tableHeader.parent(".e-atc-tableHeaderContent").addClass("e-atc-tableHeaderBorder")},_setListPosition:function(){var t,i=this.wrapper,n=this._getOffset(i),o=e(document).scrollTop()+e(window).height()-(n.top+e(i).outerHeight()),r=n.top-e(document).scrollTop(),s=this.suggestionList.outerHeight(),a=this.suggestionList.outerWidth(),l=n.left,c=i.outerHeight(),h=(c-i.height())/2,d=this._getZindexPartial(),u=(s<o||s>r?n.top+c+3:n.top-s-3)-h;t=e(document).scrollLeft()+e(window).width()-l,(this.model.enableRTL||a>t&&a<l+i.outerWidth())&&(l-=this.suggestionList.outerWidth()-i.outerWidth()),this.suggestionList.css({left:l+"px",top:u+"px","z-index":d})},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.suggestionList)},_targetFocus:function(e){"visualmode"==this.model.multiSelectMode&&this._setWatermarkWidth(30),this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this._isFocused=!0,this._trigger("focusIn",{event:e,isInteraction:!0,value:this.value()})},_focusOutAction:function(e){var i,n;this._isFocused=!1,this.wrapper.removeClass("e-focus"),this._isWatermark||this._setWatermarkTxt(),this._removeSelection(),"visualmode"==this.model.multiSelectMode&&this.model.showResetIcon&&""!=this.element.val()&&this._removeReset(),"visualmode"==this.model.multiSelectMode?(this._removeActive(),this.element.val(""),this._setWatermarkWidth(1),this._preVal="",this._addNewTemplate=null):("delimiter"==this.model.multiSelectMode&&this._valueChange(e),this._updateSelectedItemArray(this.getValue())),t.isNullOrUndefined(this.value())||""==this.value()||(i=this.value().split(this.model.delimiterChar),("delimiter"==this.model.multiSelectMode||"none"==this.model.multiSelectMode)&&(n=this._removeDuplicateVal(i),this._keyProcess(n))),""==this.element.val()&&(""==this.value()||null==this.value())&&this._selectValueByKey(null)},_targetBlur:function(e){this._focusOutAction(e),this._trigger("focusOut",{event:e,isInteraction:!0,value:this.value()})},_setWatermarkWidth:function(e){this.model.watermarkText&&this.element.attr("placeholder")?this.element.width(""):this.element.val("").width(e)},_checkDeli:function(){var e=this.element.val(),t=this.model.delimiterChar;return e.substr(e.length-t.length,e.length)==t&&(this.element.val(e.substr(0,e.length-t.length)),!0)},_removeSelection:function(){if(this.model.enableAutoFill){this.element.attr("aria-autocomplete","both");var e=this._getCaretSelection();e.end-e.start!=0&&e.end-e.start!=this.element.val().length&&(this.target.value=this.target.value.substr(0,e.start))}},_removeListHover:function(){this._getLiTags().removeClass("e-hover")},_addListHover:function(){var t=e(this._getLiTags()[this._activeItem-1]);t.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),t.focus()},_calcScrollTop:function(){this.model.multiColumnSettings.enable?this.model.multiColumnSettings.showHeader?(this._tableColumn.outerHeight(),this._tableHeader.outerHeight()):this._tableColumn.outerHeight():this.ul.outerHeight();var e,t=this.model.multiColumnSettings.enable?this._tableColumn.find("tr"):this.ul.find("li");return e=this.model.multiColumnSettings.enable?this._tableColumn.find("tr.e-hover").index():this.ul.find("li.e-hover").index(),t.eq(1).outerHeight()*e-((this.model.multiColumnSettings.enable?this._tableColumn.parent().outerHeight():this.suggestionList.outerHeight())-t.eq(e).outerHeight())/2},getActiveText:function(){if(this._activeItem>0)return this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):!t.isNullOrUndefined(this._mapper)&&this._mapper.txt?this._getField(this._currList[this._activeItem-1],this._mapper.txt):this._currList[this._activeItem-1]},_getUniqueKey:function(){var e=null;return t.isNullOrUndefined(this._mapper)||(this._mapper.key&&(e=this._getField(this._currList[this._activeItem-1],this._mapper.key)),t.isNullOrUndefined(e)&&(e=null)),e},_setTextBoxValue:function(){var t,i,n,o,r,s;this._activeItem&&!this.noresult&&(t=this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):this.getActiveText(),i=this._getCaretSelection(),this.suggLen=i.start,n=this.target.value.substr(0,this.suggLen),s=-1==(r=this.target.value.lastIndexOf(this.model.delimiterChar))?e.trim(n.substr(r+1,this.suggLen)):e.trim(n.substr(r+this.model.delimiterChar.length,this.suggLen)),!n||n.toLowerCase()!=t.substr(0,this.suggLen).toLowerCase()&&s.toLowerCase()!=t.substr(0,this.suggLen-(r+this.model.delimiterChar.length)).toLowerCase()?("delimiter"==this.model.multiSelectMode&&t&&s?this.element.val(this.element.val().replace(s,t)):t&&this.element.val(t),this._removeSelection()):(o="delimiter"==this.model.multiSelectMode?n+t.substr(s.length,t.length):n+t.substr(n.length,t.length),this.element.val(o),this._autofilSelection(),"visualmode"==this.model.multiSelectMode&&(this._adjustWidth(),this.model.enableAutoFill&&this._refreshPopup()),this.model.autoFocus&&!this.noresult&&this._addListHover()))},_enterTextBoxValue:function(e){var t,i,n;!this._activeItem||this.noresult||this.model.readOnly||(t=this.getActiveText(),i=this._currList[this._activeItem-1],this._preVal=t+("delimiter"==this.model.multiSelectMode?this.model.delimiterChar:""),this._valueToTextBox(t,i,!1),n="visualmode"==this.model.multiSelectMode?this._modelValue:""==this.element.val()?null:this.element.val(),this._trigger("select",{event:e,isInteraction:!0,value:n,text:t,key:this._getUniqueKey(),item:i}),this._valueChange(e),this.model.showResetIcon&&this._showReset()),this._isOpened&&this._trigger("close",{event:e,isInteraction:!0})},_createBox:function(i){var n=t.buildTag("span.e-icon e-close"),o=t.buildTag("li.e-options",i).append(n);return this._on(n,"click",function(t){if(!this.model.enabled)return!1;this._deleteBox(e(t.target).parent())}),o},_addLoadingClass:function(){this.model.showLoadingIcon&&this.element.addClass("e-load")},_removeLoadingClass:function(){this.element.removeClass("e-load")},_highlightSuggestion:function(t){var i,n,o,r,s,a,l,c,h;if(""!=e.trim(this._queryString)&&(i=this.model.caseSensitiveSearch?"g":"gi",a=e.trim(this._queryString),a=/^[a-zA-Z0-9- ]*$/.test(a)?a:a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n="startswith"==this.model.filterType?"^"+a:"endswith"==this.model.filterType?a+"$":a,(o=new RegExp(n,i)).test(t)))for(r=t.match(o),l=t.replace(o,"~^"),t="",c=0,h=(s=l.split("~^")).length;h>c;c++)t+=r[c]?s[c]+"<span class='e-hilight-txt'>"+r[c]+"</span>":s[c];return t},_RightToLeft:function(e){e?(this.wrapper.addClass("e-rtl"),this.suggestionList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.suggestionList.removeClass("e-rtl")),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this._tableHeaderDiv.removeClass(e?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.find("tr :not(th:last)").addClass(e?"e-atc-thleft":"e-atc-thright").removeClass(e?"e-atc-thright":"e-atc-thleft"))},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.suggestionList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.suggestionList.removeClass("e-corner"))},_checkReadOnly:function(e){this.model.readOnly=e,this.model.readOnly?(this.element.attr({readonly:"readonly","aria-readonly":!0}),this._off(this.element,"keydown",this._OnKeyDown),this._off(this.element,"keyup",this._OnKeyUp),this._off(this.element,"paste",this._OnPaste),this._off(this.element,"keypress",this._onkeyPress)):(this.element.removeAttr("readonly aria-readonly"),this._on(this.element,"keydown",this._OnKeyDown),this._on(this.element,"keyup",this._OnKeyUp),this._on(this.element,"paste",this._OnPaste),this._on(this.element,"keypress",this._onkeyPress))},_onkeyPress:function(e){13==e.keyCode&&this._PreventDefaultAction(e)},_OnPaste:function(e){var t=this;setTimeout(function(){t._OnKeyUp(e)},0)},_OnKeyDown:function(t){var i;switch("startswith"!=this.model.filterType&&(this.model.enableAutoFill=!1),t.keyCode){case 37:case 35:case 36:this._removeSelection();break;case 38:this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),this._activeItem>1?this._activeItem-=1:this._activeItem=this._listSize,this._navigationHover()),this._PreventDefaultAction(t);break;case 40:this.showSuggestionBox&&this.suggestionList?(this._removeListHover(),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=1,this._navigationHover()):t.ctrlKey&&""==this.element.val()?this._showFullList(t):t.ctrlKey&&this._showSuggestionList(t),this._PreventDefaultAction(t);break;case 33:case 34:if(this.showSuggestionBox&&this.suggestionList){this._removeListHover();var n=this.model.multiColumnSettings.enable?this._tableColumn.parent().height():this.suggestionList.height(),o=this.model.multiColumnSettings.enable?this._tableColumn.find("tr").outerHeight():this.ul.children("li").outerHeight(),r=0!=Math.round(n/o)?Math.round(n/o):this._listSize;this._activeItem=33==t.keyCode?this._activeItem-r:this._activeItem+r,this._activeItem<1&&(this._activeItem=1),this._activeItem>this._listSize&&(this._activeItem=this._listSize),this._navigationHover()}this._PreventDefaultAction(t);break;case 8:""==e.trim(this.element.val())&&(this._isOpened=!1),"visualmode"==this.model.multiSelectMode&&""==this.element.val()&&this._deleteLastBox();break;case 17:this.ctrlKeyPressed=!0;break;case 9:this.showSuggestionBox&&(this._queryString=this.element.val(),this._enterTextBoxValue(t),this._hideResult(t),this._isOpened=!1,this._PreventDefaultAction(t));break;case 27:this._isOpened=!1,i=this.showSuggestionBox,this._hideResult(t),this._PreventDefaultAction(t),i&&this._trigger("close",{event:t,isInteraction:!0})}"visualmode"==this.model.multiSelectMode&&(17!=t.keyCode&&8!=t.keyCode&&46!=t.keyCode&&this._removeActive(),this._adjustWidth())},_PreventDefaultAction:function(e){e.preventDefault(),this._cancelEvent||(e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!0)},_bubbleEvent:function(e){return"boolean"==typeof e&&(this._cancelEvent=e),this._cancelEvent},_navigationHover:function(){this._addListHover(),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this._queryString=this.target.value,this._setTextBoxValue())},_OnKeyUp:function(t){if(this._keyDownComplete(t),this.ctrlKeyPressed&&"paste"!=t.type)return 17==t.keyCode&&(this.ctrlKeyPressed=!1),!1;if(""==e.trim(this.element.val())&&38==t.keyCode&&40==t.keyCode)return this._hideResult(t),!1;if(!this._checkDelimiter())return!1;switch(this._queryString=e.trim(this._queryString),t.keyCode){case 34:case 33:case 38:case 40:case 37:case 39:case 20:case 16:case 17:case 18:case 35:case 36:case 144:case 9:case 27:break;case 13:t.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(t),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this.suggLen=this.element.val().length,this._autofilSelection()),this._isOpened=!1,this._hideResult(t);break;case 46:if("visualmode"==this.model.multiSelectMode&&""==this.element.val()){this._deleteBox(this._ulBox.children("li.e-active"));break}case 8:this._queryString.length>=this.model.minCharacter?(this._autoFill=!1,this._OnTextEnter(t)):(this.noresult=!0,this._hideResult(t),""==e.trim(this.element.val())&&(this._isOpened=!1)),this._typed=!0;break;default:this._queryString.length>=this.model.minCharacter?(this._autoFill=!0,this._OnTextEnter(t)):this.noresult=!0,this._typed=!0}},_getFilteredList:function(e,i){var n,o;clearTimeout(this.timeDelay),t.isNullOrUndefined(e)||"object"!=typeof e[0]||(n=this.model.fields.text?this.model.fields.text:"text",this.model.actionFailure&&t.isNullOrUndefined(t.DataManager(e).executeLocal(t.Query().select(n))[0])&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})),!e||!e.length||e.length<1?(this.suggestionListItems=[],this.model.actionFailure&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})):(o=t.Query(),this._addQuery(o,"object"==typeof e[0]),this.suggestionListItems=t.DataManager(e).executeLocal(o),this.model.actionSuccess&&this._trigger("actionSuccess")),this._doneRemaining(i),this.model.actionComplete&&this._trigger("actionComplete")},_performSearch:function(e){var i,n;this.model.actionBegin&&this._trigger("actionBegin"),i=this.model.dataSource,t.DataManager&&i instanceof t.DataManager?i.dataSource.offline||i.dataSource.json&&i.dataSource.json.length>0?(this._getFilteredList(i.dataSource.json,e),this._selectedObj.push(i.dataSource.json)):(window.clearTimeout(this.timer),n=this,this.timer=window.setTimeout(function(){n._fetchRemoteDat(i)},700)):this._getFilteredList(i,e)},_fetchRemoteDat:function(e){var t=this,i=this._getQuery();this._addQuery(i,!0),e.executeQuery(i).fail(function(e){t.suggestionListItems=null,t._removeLoadingClass(),t._trigger("actionFailure",e)}).done(function(e){t.suggestionListItems=e.result,"none"==t.model.multiSelectMode?t._selectedObj=e.result:"delimiter"==t.model.multiSelectMode&&(t._selectedObj=t._selectedObj.concat(e.result)),t._doneRemaining(e),t._trigger("actionSuccess",e)}).always(function(e){t._trigger("actionComplete",e)})},_addSortingQuery:function(e,t){if(this.model.allowSorting){var i="descending"==this.model.sortOrder;e.sortBy(t,i)}},_addQuery:function(e,t){var i,n,o,r,s="";if(t&&(s=(n=this.model.fields)&&n.text?n.text:"text"),this._queryString)if(this.model.multiColumnSettings.enable)if(this._columnsIndex(),t){for(s=[],o=0,r=this._columnIndex.length;o<r;o++)s.push(this.model.multiColumnSettings.columns[this._columnIndex[o]].field),i=this._predicateConvertion(i,this.model.multiColumnSettings.columns[this._columnIndex[o]].field,this.model.multiColumnSettings.columns[this._columnIndex[o]].filterType?this.model.multiColumnSettings.columns[this._columnIndex[o]].filterType:"startswith",this._queryString,!this.model.caseSensitiveSearch,this.model.multiColumnSettings.columns[this._columnIndex[o]].type?this.model.multiColumnSettings.columns[this._columnIndex[o]].type:"string");e.where(i)}else e.where(s,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);else e.where(s,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);this._addSortingQuery(e,s)},_predicateConvertion:function(e,n,o,r,s,a){var l;return"number"==a?l=Number(r):"boolean"==a?"true"==r||"yes"==r||"1"==r?l=!0:("false"==r||"no"==r||"0"==r)&&(l=!1):l="date"==a?new Date(r):r,"number"==a&&isNaN(l)||"boolean"==a&&l==i?e:e!=i?e.or(n,o,l,s):t.Predicate(n,o,l,s)},_getQuery:function(){var e;if(t.isNullOrUndefined(this.model.query)){var i=[],n=t.Query(),o=this.model.fields;for(e in o)"tableName"!==e&&o[e]&&i.push(o[e]);i.length>0&&n.select(i),t.isNullOrUndefined(this.model.dataSource.dataSource.url)||this.model.dataSource.dataSource.url.match(o.tableName+"$")||t.isNullOrUndefined(o.tableName)||n.from(o.tableName)}else n=this.model.query.clone();return n},_OnTextEnter:function(e){var i=this;t.isDevice()?(clearTimeout(this.timeDelay),this.timeDelay=setTimeout(function(){i._onTextProcess(e)},i.model.delaySuggestionTimeout)):i._onTextProcess(e)},_onTextProcess:function(e){this._addLoadingClass(),this.element.attr("aria-expanded",!1),this._performSearch(e),this.model.showResetIcon&&this._showReset()},_showReset:function(){t.isNullOrUndefined(this.resetSpan)&&(this.resetSpan=t.buildTag("span.e-icon e-iclose"),this.model.showPopupButton?(this.dropdownbutton.before(this.resetSpan),this.container.addClass("e-popup e-reset")):this.container.append(this.resetSpan).addClass("e-reset")),this._on(this.resetSpan,"mousedown",this._refreshSearch)},_refreshSearch:function(){this.resetSpan=null,this.clearText(),this._refreshPopup()},_removeReset:function(){this.resetSpan=this.resetSpan&&this.resetSpan[0].remove(),this._refreshPopup()},_doneRemaining:function(e){this._showSuggestionList(e),this.element.attr({"aria-expanded":!0,"aria-haspopup":!0}),(this.model.enableAutoFill&&this._autoFill&&!this.noresult||this.model.autoFocus)&&(this.element.attr("aria-autocomplete","both"),this._activeItem=1,this._queryString=this.target.value),this.model.enableAutoFill&&this._autoFill&&!this.noresult&&this._setTextBoxValue(),this.model.autoFocus&&!this.noresult&&this._addListHover(),this._removeLoadingClass(),this.noresult&&!this.model.showEmptyResultText&&this._hideResult(e)},_removeRepeated:function(){var e,t,i,n=this.suggestionListItems;if(!n||0==n.length||0==this._selectedItems.length||1==this.suggestionListItems.length&&this.suggestionListItems[0]==this.element.val()+this._addNewTemplate)return!1;for(this._repeatRemove=!1,e=0,t=this._selectedItems.length;e<t;e++)-1!=(i=n.indexOf(this._selectedItems[e]))&&this.suggestionListItems.splice(i,1),this.element.val()==this._selectedItems[e]&&(this._repeatRemove=!0)},_checkDelimiter:function(){this._queryString=this.element.val();var e="delimiter"!=this.model.multiSelectMode?-1:this._queryString.lastIndexOf(this.model.delimiterChar);return-1==e||(this._queryString=this._queryString.substr(e+this.model.delimiterChar.length,this._queryString.length)),!0},_autofilSelection:function(){var e=this.element[0],t=this.element.val().length;e.setSelectionRange?e.setSelectionRange(this.suggLen,t):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",this.suggLen),e.select())},_OnDropdownClick:function(e){this.model.enabled&&!this.model.readOnly&&(e.preventDefault(),(e.which&&1==e.which||e.button&&0==e.button)&&(this._addLoadingClass(),this.showSuggestionBox?(this._hideResult(e),this._isOpened=!1,this._removeLoadingClass()):this._showFullList(e)))},_showFullList:function(e){this._isFocused||this.element.focus(),this._queryString=null,this._autoFill=!1,this._performSearch(e)},_OnMouseEnter:function(e){this._getActiveItemIndex(e)},_getActiveItemIndex:function(t){var i=t.target;this.model.multiColumnSettings.enable&&"tr"!=t.target.tagName.toLowerCase()?i=e(t.target).parents("tr"):"li"!=t.target.tagName.toLowerCase()&&(i=e(t.target).parents("li")),this._getLiTags().removeClass("e-hover"),e(i).addClass("e-hover"),this._queryString=this.element.val(),this._activeItem=this._getLiTags().index(e(i))+1},_OnMouseLeave:function(){this._getLiTags().removeClass("e-hover"),this.model.highlightSearch&&this._getLiTags().find(".e-hilight-txt").removeClass("e-hover")},_OnMouseClick:function(e){this._getActiveItemIndex(e),this.noresult||(this._enterTextBoxValue(e),this._isOpened=!1,this._hideResult(e))},_OnDocumentClick:function(t){e(t.target).is(this.suggestionList)||e(t.target).parents(".e-atc-popup").is(this.suggestionList)||e(t.target).is(this.element)||e(t.target).parents(".e-atc").is(this.wrapper)?(e(t.target).is(this.suggestionList)||e(t.target).parents(".e-atc-popup").is(this.suggestionList))&&t.preventDefault():(this._isOpened=!1,this._hideResult(t),this._trigger("close",{event:t,isInteraction:!0}))},_OnWindowResize:function(){this._refreshPopup()},_keyProcess:function(e){var i,n,o,r,s=this._declareVariable();if(i=this._delimiterChar(),!t.isNullOrUndefined(e))for(n=0,o=e.length;n<o;n++)r=e[n],t.DataManager&&this.model.dataSource instanceof t.DataManager?this._selectValueByKey(null):(this._dataQuery=this.model.multiColumnSettings.enable?t.Query():t.Query().where(s[0],this.model.filterType,r,!1),this._promise=t.DataManager(this.model.dataSource).executeLocal(this._dataQuery),this.model.multiColumnSettings.enable?this._formatStringKey(e,s,i):this._promise instanceof Array&&0==this._promise.length?null!=this._selectValueByKey()&&this._selectValueByKey():this._getFieldKey(this._promise[0],s[1],i))},_formatStringKey:function(e,t,i){var n,o,r,s,a,l;for(this._selectValueByKey(null),n=0,o=e.length;n<o;n++)if(""!=e[n]){for(r=e[n],a=0,l=this._promise.length;a<l;a++)r==this._textFormateString(this._promise[a])&&(s=a);s?this._getFieldKey(this._promise[s],t[1],i):null!=this._selectValueByKey()&&this._selectValueByKey()}},_getFieldKey:function(i,n,o){if((t.isNullOrUndefined(this.model.template)||!t.isNullOrUndefined(this._getField(i,n)))&&!t.isNullOrUndefined(this._getField(i,n))){if(a=this._getField(i,n).toString(),"none"!=this.model.multiSelectMode){var r,s,a=this._selectValueByKey();delimiterChar=this.model.delimiterChar,r=this._getField(i,n).toString(),null!=a?(s=a.toString().split(o).filter(function(e){return""!==e}),-1==e.inArray(r,s)?(s.push(r),a=s.join(delimiterChar)+delimiterChar):a=r+delimiterChar):a=r+delimiterChar}this._selectValueByKey(a)}},_removeDuplicateVal:function(i){var n=[];return e.each(i,function(t,i){-1==e.inArray(i,n)&&n.push(i)}),1!=i.length||t.isNullOrUndefined(this._originalval)||-1==e.inArray(i[0],this._originalval)&&this._selectValueByKey(null),n},_valueChange:function(e){var t="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val();(this.value()!=t||""==t&&""!=this.element.val())&&(this.value(t),this._changeEvtTrigger(t,e)),this.model.showResetIcon&&!t&&(this.wrapper.find("span.e-iclose").remove(),this.resetSpan=null)},_changeEvtTrigger:function(e,t){var n=t!=i?{event:t,isInteraction:!0,value:e}:{isInteraction:!1,value:e};this.initialRender||(this._trigger("_change",{value:e}),this._trigger("change",n))},_updateSelectedItemArray:function(i){var n,o,r,s=[];if(this._selectedItems=[],this.suggestionListItems=this.model.dataSource,"delimiter"==this.model.multiSelectMode&&i)if(s=i.split(this.model.delimiterChar),t.DataManager&&this.model.dataSource instanceof t.DataManager||!t.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]){for(n=0,o=s.length;n<o;n++)if(s[n]){var a=this,l=this._selectedObj.length,c={};for(r=0;r<l;r++)this._selectedObj[r][a.model.fields.text]==s[n]&&(c=this._selectedObj[r],r=l);this._selectedItems.push(e.isEmptyObject(c)?s[n]:c)}}else this._createBoxForObjectType(s);else"none"==this.model.multiSelectMode&&i&&(s.push(i),t.DataManager&&this.model.dataSource instanceof t.DataManager||!t.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]?(a=this,c=e.grep(this._selectedObj,function(e){if(e[a.model.fields.text]==i)return e}),this._selectedItems.push(c.length>0?c:i)):this._createBoxForObjectType(s))},_keyDownComplete:function(e){var t=this.element.val();this._preVal!=t&&(this._preVal=t,"visualmode"==this.model.multiSelectMode&&this._adjustWidth(),this._valueChange(e))},_moveCaretToEnd:function(e){var t,i;e.scrollLeft=e.scrollWidth,e.createTextRange&&((t=e.createTextRange()).moveEnd("textedit"),t.moveStart("textedit"),t.select()),"number"==typeof e.selectionStart?e.selectionStart=e.selectionEnd=e.value.length:void 0!==e.createTextRange&&((i=e.createTextRange()).collapse(!1),i.select())},_getCaretSelection:function(){var e,t,i,n,o=this.element[0],r=0,s=0;return isNaN(o.selectionStart)?(e=document.selection.createRange().getBookmark(),(t=o.createTextRange()).moveToBookmark(e),(i=o.createTextRange()).collapse(!0),i.setEndPoint("EndToStart",t),{start:n=i.text.length,end:n+t.text.length}):(r=o.selectionStart,s=o.selectionEnd,{start:Math.abs(r),end:Math.abs(s)})},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur)}}),t.Autocomplete.Locale=t.Autocomplete.Locale||{},t.Autocomplete.Locale.default=t.Autocomplete.Locale["en-US"]={addNewText:"Add New",emptyResultText:"No suggestions",actionFailure:"The specified field doesn't exist in given data source"},t.filterType={StartsWith:"startswith",Contains:"contains",EndsWith:"endswith",LessThan:"lessthan",GreaterThan:"greaterthan",LessThanOrEqual:"lessthanorequal",GreaterThanOrEqual:"greaterthanorequal",Equal:"equal",NotEqual:"notequal"},t.SortOrder={Ascending:"ascending",Descending:"descending"},t.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},t.Animation={None:"none",Slide:"slide",Fade:"fade"},t.Type={Number:"number",String:"string",Boolean:"boolean",Date:"date"}}(jQuery,Syncfusion)}),
/*!
*  filename: ej.draggable.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:null,clone:!1,distance:1,dragOnTaphold:!1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,create:null,destroy:null,helper:function(){return e('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},helpers={},this._wireEvents(),this._browser=t.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,"msie"==this._browser.name&&this.element.addClass("e-pinch")},_setModel:function(e){for(var t in e)switch(t){case"dragArea":this.model.dragArea=e[t];break;case"dragOnTaphold":this.model.dragOnTaphold=e[t]}},_destroy:function(){e(document).off(t.eventType.mouseUp,this._destroyHandler).off(t.eventType.mouseUp,this._dragStopHandler).off(t.eventType.mouseMove,this._dragStartHandler).off(t.eventType.mouseMove,this._dragHandler).off("mouseleave",this._dragMouseOutHandler).off("selectstart",!1),t.widgetBase.droppables[this.scope]=null},_initialize:function(i){var n,o=i;i.preventDefault(),i=this._getCoordinate(i),this.target=e(o.currentTarget),this._initPosition={x:i.pageX,y:i.pageY},e(document).on(t.eventType.mouseMove,this._dragStartHandler).on(t.eventType.mouseUp,this._destroyHandler),this.model.clone||(n=this.element.offset(),this._relXposition=i.pageX-n.left,this._relYposition=i.pageY-n.top),e(document.documentElement).trigger(t.eventType.mouseDown,o)},_setDragArea:function(){var i,n,o,r,s,a,l,c=e(this.model.dragArea)[0];if(c){if(r=["left","right","bottom","top"],t.isNullOrUndefined(c.getBoundingClientRect)){for(i=e(this.model.dragArea).outerWidth(),n=e(this.model.dragArea).outerHeight(),l=0;l<r.length;l++)this["border-"+r[l]+"-width"]=0,this["padding-"+r[l]]=0;s=a=0}else{for(i=(o=c.getBoundingClientRect()).width?o.width:o.right-o.left,n=o.height?o.height:o.bottom-o.top,l=0;l<r.length;l++)this["border-"+r[l]+"-width"]=isNaN(parseFloat(e(e(this.model.dragArea)[0]).css("border-"+r[l]+"-width")))?0:parseFloat(e(e(this.model.dragArea)[0]).css("border-"+r[l]+"-width")),this["padding-"+r[l]]=isNaN(parseFloat(e(e(this.model.dragArea)[0]).css("padding-"+r[l])))?0:parseFloat(e(e(this.model.dragArea)[0]).css("padding-"+r[l]));s=e(this.model.dragArea).offset().top,a=e(this.model.dragArea).offset().left}this._left=t.isNullOrUndefined(e(this.model.dragArea).offset())?0+this["border-left-width"]+this["padding-left"]:a+this["border-left-width"]+this["padding-left"],this._top=t.isNullOrUndefined(e(this.model.dragArea).offset())?0+this["border-top-width"]+this["padding-top"]:s+this["border-top-width"]+this["padding-top"],this._right=a+i-[this["border-right-width"]+this["padding-right"]],this._bottom=s+n-[this["border-bottom-width"]+this["padding-bottom"]]}},_dragStart:function(i){var n,o,r,s,a,l=i;i=this._getCoordinate(i),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.position=this._getMousePosition(l);var c=this._initPosition.x-i.pageX,h=this._initPosition.y-i.pageY;if(Math.sqrt(c*c+h*h)>=this.model.distance){if(!(n=this.model.helper({sender:l,element:this.target}))||t.isNullOrUndefined(n))return;if(o=this.model.handle=this.helper=n,this.model.dragStart&&(r=null,"touchmove"==l.type?(s=l.originalEvent.changedTouches[0],r=document.elementFromPoint(s.clientX,s.clientY)):r=l.originalEvent.target||l.target,this._trigger("dragStart",{event:l,element:this.element,target:r})))return this._destroy(),!1;this.model.dragArea?this._setDragArea():(this._left=this._top=this._right=this._bottom=0,this["border-top-width"]=this["border-left-width"]=0),a=o.offsetParent().offset(),e(document).off(t.eventType.mouseMove,this._dragStartHandler).off(t.eventType.mouseUp,this._destroyHandler).on(t.eventType.mouseMove,this._dragHandler).on(t.eventType.mouseUp,this._dragStopHandler).on("mouseleave",this._dragMouseOutHandler).on("selectstart",!1),t.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:o.css({position:"absolute",left:this.position.left-a.left,top:this.position.top-a.top}),destroy:this._destroyHandler}}},_drag:function(i){var n,o,r,s,a,l,c,h,d;i.preventDefault(),this.position=this._getMousePosition(i),this.position.top<0&&(this.position.top=0),e(document).height()<this.position.top&&(this.position.top=e(document).height()),e(document).width()<this.position.left&&(this.position.left=e(document).width()),h=t.widgetBase.droppables[this.model.scope].helper,this.model.drag&&(a=null,"touchmove"==i.type?(l=i.originalEvent.changedTouches[0],a=document.elementFromPoint(l.clientX,l.clientY)):a=i.originalEvent.target||i.target,this._trigger("drag",{event:i,element:this.target,target:a})),c=this._checkTargetElement(i),t.isNullOrUndefined(c)?this._hoverTarget&&(i.target=i.toElement=this._hoverTarget,this._hoverTarget.object._out(i),this._hoverTarget=null):(i.target=i.toElement=c,c.object._over(i),this._hoverTarget=c),d=(h=t.widgetBase.droppables[this.model.scope].helper).offsetParent().offset(),r=t.isNullOrUndefined(i.pageX)?i.originalEvent.changedTouches[0].pageX:i.pageX,s=t.isNullOrUndefined(i.pageY)?i.originalEvent.changedTouches[0].pageY:i.pageY,this.model.dragArea?(this._pageX!=r&&(n=this._left>this.position.left?this._left:this._right<this.position.left+h.outerWidth(!0)?this._right-h.outerWidth(!0):this.position.left),this._pageY!=s&&(o=this._top>this.position.top?this._top:this._bottom<this.position.top+h.outerHeight(!0)?this._bottom-h.outerHeight(!0):this.position.top)):(n=this.position.left,o=this.position.top),(o<0||o-[d.top+this["border-top-width"]]<0)&&(o=[d.top+this["border-top-width"]]),(n<0||n-[d.left+this["border-left-width"]]<0)&&(n=[d.left+this["border-left-width"]]),h.css({left:n-[d.left+this["border-left-width"]],top:o-[d.top+this["border-top-width"]]}),this.position.left=n,this.position.top=o,this._pageX=r,this._pageY=s},_dragStop:function(e){var t,i;("mouseup"==e.type||"touchend"==e.type)&&this._destroy(e),this.model.dragStop&&(t=null,"touchend"==e.type?(i=e.originalEvent.changedTouches[0],t=document.elementFromPoint(i.clientX,i.clientY)):t=e.originalEvent.target||e.target,this._trigger("dragStop",{event:e,element:this.target,target:t})),this._dragEnd(e)},_dragEnd:function(e){var i=this._checkTargetElement(e);t.isNullOrUndefined(i)||(e.target=e.toElement=i,i.object._drop(e))},_dragMouseEnter:function(t){e(document).off("mouseenter",this._dragMouseEnterHandler),this._isIE9?this._dragManualStop(t):this._isIE8?0==t.button&&this._dragManualStop(t):0==t.buttons&&this._dragManualStop(t)},_dragManualStop:function(e){null!=this.model.dragStop&&this._trigger("dragStop",{event:e,element:this.target,target:e.originalEvent.target||e.target}),this._destroy(e)},_dragMouseOut:function(){e(document).on("mouseenter",this._dragMouseEnterHandler)},_checkTargetElement:function(e){var t=e.target;return this.helper&&this._contains(this.helper[0],t)?(this.helper.hide(),t=this._elementUnderCursor(e),this.helper.show(),this._withDropElement(t)):this._withDropElement(t)},_withDropElement:function(i){if(i&&(dropObj=e(i).data("ejDroppable"),t.isNullOrUndefined(dropObj)&&(dropObj=this._checkParentElement(e(i))),!t.isNullOrUndefined(dropObj)))return e.extend(i,{object:dropObj})},_checkParentElement:function(i){var n=e(i).closest(".e-droppable");if(n.length>0&&(dropObj=e(n).data("ejDroppable"),!t.isNullOrUndefined(dropObj)))return dropObj},_elementUnderCursor:function(e){return"touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type?document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY):document.elementFromPoint(e.clientX,e.clientY)},_contains:function(t,i){try{return e.contains(t,i)||t==i}catch(e){return!1}},_wireEvents:function(){1==t.isDevice()&&1==this.model.dragOnTaphold?this._on(this.element,"taphold",this._initialize):this._on(this.element,t.eventType.mouseDown,this._initialize),this._dragStartHandler=e.proxy(this._dragStart,this),this._destroyHandler=e.proxy(this._destroy,this),this._dragStopHandler=e.proxy(this._dragStop,this),this._dragHandler=e.proxy(this._drag,this),this._dragMouseEnterHandler=e.proxy(this._dragMouseEnter,this),this._dragMouseOutHandler=e.proxy(this._dragMouseOut,this)},_getMousePosition:function(e){e=this._getCoordinate(e);var t=this.model.clone?e.pageX:e.pageX-this._relXposition,i=this.model.clone?e.pageY:e.pageY-this._relYposition;return{left:t-[this.margins.left+this.model.cursorAt.left],top:i-[this.margins.top+this.model.cursorAt.top]}},_getCoordinate:function(e){var i=e;return("touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type&&"msie"!=t.browserInfo().name)&&(i=e.originalEvent.changedTouches[0]),i}}),function(e,t){t.widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],defaults:{accept:null,scope:"default",drop:null,over:null,out:null,create:null,destroy:null},_init:function(){this.model.accept?e(this.element).delegate(this.accept,"mouseup",e.proxy(this._drop,this)):e(this.element).on("mouseup",e.proxy(this._drop,this)),this._on(e(document),"touchend",this._drop),this._mouseOver=!1},_setModel:function(){},_destroy:function(){e(this.element).off("mouseup",e.proxy(this._drop,this))},_over:function(e){this._mouseOver||(this._trigger("over",e),this._mouseOver=!0)},_out:function(e){this._mouseOver&&(this._trigger("out",e),this._mouseOver=!1)},_drop:function(i){var n=t.widgetBase.droppables[this.model.scope],o=!t.isNullOrUndefined(n.helper)&&n.helper.is(":visible"),r=this._isDropArea(i);n&&!t.isNullOrUndefined(this.model.drop)&&o&&r.canDrop&&this.model.drop(e.extend(i,{dropTarget:r.target},!0),n)},_isDropArea:function(t){var i,n,o,r,s,a={canDrop:!0,target:e(t.target)};if("touchend"==t.type)for(i=t.originalEvent.changedTouches[0],n=document.elementFromPoint(i.clientX,i.clientY),a.canDrop=!1,o=e(n).parents(),r=0;r<this.element.length;r++){if(e(n).is(e(this.element[r])))a={canDrop:!0,target:e(n)};else for(s=0;s<o.length;s++)if(e(this.element[r]).is(e(o[s]))){a={canDrop:!0,target:e(n)};break}if(a.canDrop)break}return a}})}(jQuery,Syncfusion),function(e,t){t.widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,create:null,destroy:null,helper:function(){return e('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this._browser=t.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,null!=this.handle?e(this.target).delegate(this.handle,t.eventType.mouseDown,e.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):e(this.target).on("mousedown",e.proxy(this._mousedown,this)),this._resizeStartHandler=e.proxy(this._resizeStart,this),this._destroyHandler=e.proxy(this._destroy,this),this._resizeStopHandler=e.proxy(this._resizeStop,this),this._resizeHandler=e.proxy(this._resize,this),this._resizeMouseEnterHandler=e.proxy(this._resizeMouseEnter,this)},_mouseover:function(i){e(i.target).hasClass("e-resizable")?(e(i.target).css({cursor:"se-resize"}),e(this.target).on(t.eventType.mouseDown,e.proxy(this._mousedown,this))):(e(this.target).off(t.eventType.mouseDown),e(this.target).css({cursor:""}))},_blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},_setModel:function(){},_mousedown:function(i){var n=i;return i=this._getCoordinate(i),this.target=e(n.currentTarget),this._initPosition={x:i.pageX,y:i.pageY},this._pageX=i.pageX,this._pageY=i.pageY,e(document).on(t.eventType.mouseMove,this._resizeStartHandler).on(t.eventType.mouseUp,this._destroyHandler),e(document.documentElement).trigger(t.eventType.mouseDown,n),!1},_resizeStart:function(i){var n;if(e(i.target).hasClass("e-resizable")){i=this._getCoordinate(i);var o,r,s=this._initPosition.x-i.pageX,a=this._initPosition.y-i.pageY;if(Math.sqrt(s*s+a*a)>=this.model.distance){if(null!=this.model.resizeStart&&this._trigger("resizeStart",{event:i,element:this.target}))return;n=this.model.helper({element:this.target}),o=i.pageX-this._pageX+n.outerWidth(),r=i.pageY-this._pageY+n.outerHeight(),this._pageX=i.pageX,this._pageY=i.pageY,this.getElementPosition(n),e(document).off(t.eventType.mouseMove,this._resizeStartHandler).off(t.eventType.mouseUp,this._destroyHandler).on(t.eventType.mouseMove,this._resizeHandler).on(t.eventType.mouseUp,this._resizeStopHandler).on("mouseenter",this._resizeMouseEnterHandler).on("selectstart",!1),t.widgetBase.resizables[this.scope]={resizable:this.target,helper:n.css({width:o,height:r}),destroy:this._destroyHandler}}}},_resize:function(e){var i,n,o,r;e=this._getCoordinate(e),this.getElementPosition(t.widgetBase.resizables[this.scope].helper),r=this.model.helper({element:this.target}),i=e.pageX-this._pageX+r.outerWidth(),n=e.pageY-this._pageY+r.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,i<this.model.minWidth&&(o=this.model.minWidth-i,i=this.model.minWidth,this._pageX=e.pageX+o),n<this.model.minHeight&&(o=this.model.minHeight-n,n=this.model.minHeight,this._pageY=e.pageY+o),null!=this.model.maxHeight&&n>this.model.maxHeight&&(o=n-this.model.maxHeight,n=this.model.maxHeight,this._pageY=e.pageY-o),null!=this.model.maxWidth&&i>this.model.maxWidth&&(o=i-this.model.maxWidth,i=this.model.maxWidth,this._pageX=e.pageX-o),t.widgetBase.resizables[this.scope].helper.css({width:i,height:n}),this._trigger("resize",{element:this.target})},_resizeStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),("mouseup"==e.type||"touchend"==e.type)&&this._destroy(e)},_resizeMouseEnter:function(e){this._isIE9?this._resizeManualStop(e):this._isIE8?0==e.button&&this._resizeManualStop(e):0==e.buttons&&this._resizeManualStop(e)},_resizeManualStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),this._destroy(e)},_destroy:function(){e(document).off(t.eventType.mouseUp,this._destroyHandler).off(t.eventType.mouseUp,this._resizeStopHandler).off(t.eventType.mouseMove,this._resizeStartHandler).off(t.eventType.mouseMove,this._resizeHandler).off("mouseenter",this._resizeMouseEnterHandler).off("selectstart",!1),t.widgetBase.resizables[this.scope]=null},getElementPosition:function(e){return null!=e&&e.length>0?{left:e[0].offsetLeft,top:e[0].offsetTop}:null},_getCoordinate:function(e){var t=e;return("touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type)&&(t=e.originalEvent.changedTouches[0]),t}})}(jQuery,Syncfusion)}),
/*!
*  filename: ej.globalize.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){!function(e){function t(e,t){return 0===e.indexOf(t)}function i(e,t){return e.substr(e.length-t.length)===t}function n(e){return(e+"").replace(w,"")}function o(e,t,i){for(var n=e.length;n<t;n++)e=i?"0"+e:e+"0";return e}function r(e,n,o){var r,s=n["-"],a=n["+"];switch(o){case"n -":s=" "+s,a=" "+a;case"n-":i(e,s)?r=["-",e.substr(0,e.length-s.length)]:i(e,a)&&(r=["+",e.substr(0,e.length-a.length)]);break;case"- n":s+=" ",a+=" ";case"-n":t(e,s)?r=["-",e.substr(s.length)]:t(e,a)&&(r=["+",e.substr(a.length)]);break;case"(n)":t(e,"(")&&i(e,")")&&(r=["-",e.substr(1,e.length-2)])}return r||["",e]}function s(e,t,i){var n,r;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var s,a=i.numberFormat,l=Math.abs(e),c=-1;switch(t.length>1&&(c=parseInt(t.slice(1),10)),n=t.charAt(0).toUpperCase()){case"D":s="n",l=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)}(l),-1!==c&&(l=o(""+l,c,!0)),e<0&&(l=-l);break;case"N":(r=a).pattern=r.pattern||["-n"];case"C":(r=r||a.currency).pattern=r.pattern||["-$n","$n"];case"P":(r=r||a.percent).pattern=r.pattern||["-n %","n %"],s=e<0?r.pattern[0]||"-n":r.pattern[1]||"n",-1===c&&(c=r.decimals),l=function(e,t,i){var n,r=i.groupSizes||[3],s=r[0],a=1,l=Math.pow(10,t),c=Math.round(e*l)/l;isFinite(c)||(c=e);var h=(e=c)+"",d="",u=h.split(/e/i),p=u.length>1?parseInt(u[1],10):0;u=(h=u[0]).split("."),h=u[0],d=u.length>1?u[1]:"",p>0?(h+=(d=o(d,p,!1)).slice(0,p),d=d.substr(p)):p<0&&(d=(h=o(h,1+(p=-p))).slice(-p,h.length)+d,h=h.slice(0,-p)),n=i["."]||".",d=t>0?n+(d.length>t?d.slice(0,t):o(d,t)):"";for(var f=h.length-1,m=i[","]||",",g="";f>=0;){if(0===s||s>f)return h.slice(0,f+1)+(g.length?m+g+d:d);g=h.slice(f-s+1,f+1)+(g.length?m+g:""),f-=s,a<r.length&&(s=r[a],a++)}return h.slice(0,f+1)+m+g+d}(l*("P"===n?100:1),c,r);break;default:throw"Bad number format specifier: "+n}return function(e,t,i){for(var n,o,r=/n|\$|-|%/g,s="";n=r.lastIndex,o=r.exec(t),s+=t.slice(n,o?o.index:t.length),o;)switch(o[0]){case"n":s+=e;break;case"$":s+=i.currency.symbol||"$";break;case"-":/[1-9]/.test(e)&&(s+=i["-"]||"-");break;case"%":s+=i.percent.symbol||"%"}return s}(l,s,a)}function a(e,t,i){return e<t||e>i}function l(e,t){var i,n,o=new Date;return t<100&&(i="string"==typeof(i=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(i,10):i,(t+=(n=o.getFullYear())-n%100)>i&&(t-=100)),t}function c(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function h(e){return e.split("Â ").join(" ").toUpperCase()}function d(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=h(e[i]);return t}function u(e,t,i){var n,o=e.days,r=e._upperDays;return r||(e._upperDays=r=[d(o.names),d(o.namesAbbr),d(o.namesShort)]),t=h(t),i?-1===(n=c(r[1],t))&&(n=c(r[2],t)):n=c(r[0],t),n}function p(e,t,i){var n,o=e.months,r=e.monthsGenitive||e.months,s=e._upperMonths,a=e._upperMonthsGen;return s||(e._upperMonths=s=[d(o.names),d(o.namesAbbr)],e._upperMonthsGen=a=[d(r.names),d(r.namesAbbr)]),t=h(t),(n=c(i?s[1]:s[0],t))<0&&(n=c(i?a[1]:a[0],t)),n}function f(e,t){for(var i,n=0,o=!1,r=0,s=e.length;r<s;r++)"'"==(i=e.charAt(r))?(o?t.push("'"):n++,o=!1):"\\"==i?(o&&t.push("\\"),o=!o):(t.push(i),o=!1);return n}function m(e,t,i,n){if(!e)return null;var o=0,r=0,s=null;t=t.split(""),length=t.length;for(var a=function(e){for(var i=0;t[o]===e;)i++,o++;return i>0&&(o-=1),i},l=function(t){var i=new RegExp("^\\d{1,"+t+"}"),n=e.substr(r,t).match(i);return n?(n=n[0],r+=n.length,parseInt(n,10)):null},c=function(t,i){for(var n,o,s,a=0,l=t.length;a<l;a++)if(o=(n=t[a]).length,s=e.substr(r,o),i&&(s=s.toLowerCase()),s==n)return r+=o,a+1;return null},h=function(e){for(var t=0,i=e.length,n=[];t<i;t++)n[t]=(e[t]+"").toLowerCase();return n},d=function(e){var t={};for(var i in e)t[i]=h(e[i]);return t};o<length;o++)ch=t[o],"d"===ch&&(count=a("d"),n._lowerDays||(n._lowerDays=d(n.days)),s=count<3?l(2):c(n._lowerDays[3==count?"namesAbbr":"names"],!0));return s}function g(e,t){t=t||"F";var i,n=e.patterns,o=t.length;if(1===o){if(!(i=n[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===o&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function v(e,i,o){var r,s,c,h,d,f,g,v,b;e=n(e),i=n(i);var y=o.calendar,w=ej.globalize._getDateParseRegExp(y,i),x=new RegExp(w.regExp).exec(e);if(null===x)return null;var C,S=w.groups,T=null,k=null,D=null,L=null,A=0,O=0,E=0,I=0,M=null,j=!1;for(r=0,s=S.length;r<s;r++)if(c=x[r+1]){var N=S[r],P=N.length,$=parseInt(c,10);switch(N){case _.DAY_OF_MONTH_DOUBLE_DIGIT:case _.DAY_OF_MONTH_SINGLE_DIGIT:if(a(D=$,1,31))return null;break;case _.MONTH_THREE_LETTER:case _.MONTH_FULL_NAME:if(a(k=p(y,c,3===P),0,11))return null;break;case _.MONTH_SINGLE_DIGIT:case _.MONTH_DOUBLE_DIGIT:if(a(k=$-1,0,11))return null;break;case _.YEAR_SINGLE_DIGIT:case _.YEAR_DOUBLE_DIGIT:case _.YEAR_FULL:if(a(T=P<4?l(y,$):$,0,9999))return null;break;case _.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case _.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(12===(A=$)&&(A=0),a(A,0,11))return null;break;case _.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case _.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(a(A=$,0,23))return null;break;case _.MINUTES_SINGLE_DIGIT:case _.MINUTES_DOUBLE_DIGIT:if(a(O=$,0,59))return null;break;case _.SECONDS_SINGLE_DIGIT:case _.SECONDS_DOUBLE_DIGIT:if(a(E=$,0,59))return null;break;case _.MERIDIAN_INDICATOR_FULL:case _.MERIDIAN_INDICATOR_SINGLE:if(!(j=y.PM&&(c===y.PM[0]||c===y.PM[1]||c===y.PM[2]))&&(!y.AM||c!==y.AM[0]&&c!==y.AM[1]&&c!==y.AM[2]))return null;break;case _.DECISECONDS:case _.CENTISECONDS:case _.MILLISECONDS:if(a(I=$*Math.pow(10,3-P),0,999))return null;break;case _.DAY_OF_WEEK_THREE_LETTER:D=m(e,i,0,y);break;case _.DAY_OF_WEEK_FULL_NAME:if(u(y,c,3===P),a(L,0,6))return null;break;case _.TIME_ZONE_OFFSET_FULL:if(2!==(h=c.split(/:/)).length||a(C=parseInt(h[0],10),-12,13)||a(d=parseInt(h[1],10),0,59))return null;M=60*C+(t(c,"-")?-d:d);break;case _.TIME_ZONE_OFFSET_SINGLE_DIGIT:case _.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(a(C=$,-12,13))return null;M=60*C}}if(f=new Date,g=(v=y.convert)?v.fromGregorian(f)[0]:f.getFullYear(),null===T&&(T=g),null===k&&(k=0),null===D&&(D=1),v){if(null===(f=v.toGregorian(T,k,D)))return null}else if(f.setFullYear(T,k,D),f.getDate()!==D)return null;return j&&A<12&&(A+=12),f.setHours(A,O,E,I),null!==M&&(b=f.getMinutes()-(M+f.getTimezoneOffset()),f.setHours(f.getHours()+parseInt(b/60,10),b%60)),f}function b(e,t,i){function n(e,t){var i,n=e+"";return t>1&&n.length<t?(i=w[t-2]+n).substr(i.length-t,t):n}function o(){return m||v||(m=x.test(t),v=!0),m}var r,s,a,l,c,h,d=i.calendar,u=d.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?u?b(e,d.patterns.F,i):e.toLocaleString():e.toString();s="s"===t,t=g(d,t),r=[];var p,m,v,y,w=["0","00","000"],x=/([^d]|^)(d|dd)([^d]|$)/g,C=0,S=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!s&&u&&(y=u.fromGregorian(e));;){var T=S.lastIndex,k=S.exec(t);if(C+=f(t.slice(T,k?k.index:t.length),r),!k)break;if(C%2)r.push(k[0]);else switch(l=(a=k[0]).length,a){case _.DAY_OF_WEEK_THREE_LETTER:case _.DAY_OF_WEEK_FULL_NAME:c=3===l?d.days.namesAbbr:d.days.names,r.push(c[e.getDay()]);break;case _.DAY_OF_MONTH_SINGLE_DIGIT:case _.DAY_OF_MONTH_DOUBLE_DIGIT:m=!0,r.push(n(y?y[2]:e.getDate(),l));break;case _.MONTH_THREE_LETTER:case _.MONTH_FULL_NAME:h=y?y[1]:e.getMonth(),r.push(d.monthsGenitive&&o()?d.monthsGenitive[3===l?"namesAbbr":"names"][h]:d.months[3===l?"namesAbbr":"names"][h]);break;case _.MONTH_SINGLE_DIGIT:case _.MONTH_DOUBLE_DIGIT:r.push(n((y?y[1]:e.getMonth())+1,l));break;case _.YEAR_SINGLE_DIGIT:case _.YEAR_DOUBLE_DIGIT:case _.YEAR_FULL:h=y?y[0]:e.getFullYear(),l<4&&(h%=100),r.push(n(h,l));break;case _.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case _.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0===(p=e.getHours()%12)&&(p=12),r.push(n(p,l));break;case _.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case _.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:r.push(n(e.getHours(),l));break;case _.MINUTES_SINGLE_DIGIT:case _.MINUTES_DOUBLE_DIGIT:r.push(n(e.getMinutes(),l));break;case _.SECONDS_SINGLE_DIGIT:case _.SECONDS_DOUBLE_DIGIT:r.push(n(e.getSeconds(),l));break;case _.MERIDIAN_INDICATOR_SINGLE:case _.MERIDIAN_INDICATOR_FULL:h=e.getHours()<12?d.AM?d.AM[0]:" ":d.PM?d.PM[0]:" ",r.push(1===l?h.charAt(0):h);break;case _.DECISECONDS:case _.CENTISECONDS:case _.MILLISECONDS:r.push(n(e.getMilliseconds(),3).substr(0,l));break;case _.TIME_ZONE_OFFSET_SINGLE_DIGIT:case _.TIME_ZONE_OFFSET_DOUBLE_DIGIT:p=e.getTimezoneOffset()/60,r.push((p<=0?"+":"-")+n(Math.floor(Math.abs(p)),l));break;case _.TIME_ZONE_OFFSET_FULL:p=e.getTimezoneOffset()/60,r.push((p<=0?"+":"-")+n(Math.floor(Math.abs(p)),2)+":"+n(Math.abs(e.getTimezoneOffset()%60),2));break;case _.DATE_SEPARATOR:r.push(d["/"]||"/");break;default:throw"Invalid date format pattern '"+a+"'."}}return r.join("")}function y(e,t){return t.length?y(e[t[0]],t.slice(1)):e}var _;ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=e.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard;var w=/^\s+|\s+$/g,x=/^[+-]?infinity$/i,C=/^0x[a-f0-9]+$/i,S=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/;_={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(e,t){var i,n,o,r,s,a,l=e._parseRegExp;if(l){if(i=l[t])return i}else e._parseRegExp=l={};for(var c,h=g(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),d=["^"],u=[],p=0,m=0,v=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(c=v.exec(h));)if(n=h.slice(p,c.index),p=v.lastIndex,(m+=f(n,d))%2)d.push(c[0]);else{switch(r=(o=c[0]).length,o){case _.DAY_OF_WEEK_THREE_LETTER:case _.DAY_OF_WEEK_FULL_NAME:case _.MONTH_FULL_NAME:case _.MONTH_THREE_LETTER:s="(\\D+)";break;case _.MERIDIAN_INDICATOR_FULL:case _.MERIDIAN_INDICATOR_SINGLE:s="(\\D*)";break;case _.YEAR_FULL:case _.MILLISECONDS:case _.CENTISECONDS:case _.DECISECONDS:s="(\\d{"+r+"})";break;case _.DAY_OF_MONTH_DOUBLE_DIGIT:case _.DAY_OF_MONTH_SINGLE_DIGIT:case _.MONTH_DOUBLE_DIGIT:case _.MONTH_SINGLE_DIGIT:case _.YEAR_DOUBLE_DIGIT:case _.YEAR_SINGLE_DIGIT:case _.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case _.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case _.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case _.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case _.MINUTES_DOUBLE_DIGIT:case _.MINUTES_SINGLE_DIGIT:case _.SECONDS_DOUBLE_DIGIT:case _.SECONDS_SINGLE_DIGIT:s="(\\d\\d?)";break;case _.TIME_ZONE_OFFSET_FULL:s="([+-]?\\d\\d?:\\d{2})";break;case _.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case _.TIME_ZONE_OFFSET_SINGLE_DIGIT:s="([+-]?\\d\\d?)";break;case _.DATE_SEPARATOR:s="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+o+"'."}s&&d.push(s),u.push(c[0])}return f(h.slice(p),d),d.push("$"),a={regExp:d.join("").replace(/\s+/g,"\\s+"),groups:u},l[t]=a},ej.globalize.addCulture=function(t,i){ej.cultures[t]=e.extend(!0,e.extend(!0,{},ej.cultures.default,i),ej.cultures[t]),ej.cultures[t].calendar=ej.cultures[t].calendars.standard},ej.globalize.preferredCulture=function(e){return e=void 0!==e&&typeof e==typeof this.cultureObject?e.name:e,this.cultureObject=ej.globalize.findCulture(e),this.cultureObject},ej.globalize.setCulture=function(e){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(e)),(e=void 0!==e&&typeof e==typeof this.globalCultureObject?e.name:e)&&(this.globalCultureObject=ej.globalize.findCulture(e)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(e){ej.cultures.current=ej.globalize.findCulture(e)},ej.globalize.findCulture=function(t){var i,n,o,r,s;if(t){if(e.isPlainObject(t)&&t.numberFormat&&(i=t),"string"==typeof t){if((n=ej.cultures)[t])return n[t];if(t.indexOf("-")>-1){if(n[o=t.split("-")[0]])return n[o]}else for(r=e.map(n,function(e){return e}),s=0;s<r.length;s++)if(r[s].name.split("-")[0]===t)return r[s];return ej.cultures.default}}else i=ej.cultures.current||ej.cultures.default;return i},ej.globalize.format=function(e,t,i){var n=ej.globalize.findCulture(i);return"number"==typeof e?e=s(e,t,n):e instanceof Date&&(e=b(e,t,n)),e},ej.globalize.parseInt=function(e,t,i){return Math.floor(this.parseFloat(e,t,i))},ej.globalize.parseFloat=function(e,t,i){var o,s,a,l,c,h,d,u,p,f,m;"string"==typeof t&&(i=t,t=10);var g=NaN,v=(i=ej.globalize.findCulture(i)).numberFormat,b=i.numberFormat.pattern[0];if((e=e.replace(/ /g,"")).indexOf(i.numberFormat.currency.symbol)>-1?(e=(e=e.replace(i.numberFormat.currency.symbol||"$","")).replace(i.numberFormat.currency["."]||".",i.numberFormat["."]||"."),b=n(i.numberFormat.currency.pattern[0].replace("$",""))):e.indexOf(i.numberFormat.percent.symbol)>-1&&(e=(e=e.replace(i.numberFormat.percent.symbol||"%","")).replace(i.numberFormat.percent["."]||".",i.numberFormat["."]||"."),b=n(i.numberFormat.percent.pattern[0].replace("%",""))),e=n(e),x.test(e))g=parseFloat(e,t);else if(!t&&C.test(e))g=parseInt(e,16);else{var y=r(e,v,b),_=y[0],w=y[1];""===_&&"-n"!==v.pattern[0]&&(_=(y=r(e,v,"-n"))[0],w=y[1]),_=_||"+",(a=w.indexOf("e"))<0&&(a=w.indexOf("E")),a<0?(s=w,o=null):(s=w.substr(0,a),o=w.substr(a+1)),h=v["."]||".",(d=s.indexOf(h))<0?(l=s,c=null):(l=s.substr(0,d),c=s.substr(d+h.length)),u=v[","]||",",l=l.split(u).join(""),p=u.replace(/\u00A0/g," "),u!==p&&(l=l.split(p).join("")),f=_+l,null!==c&&(f+="."+c),null!==o&&(f+="e"+((m=r(o,v,b))[0]||"+")+m[1]),S.test(f)&&(g=parseFloat(f))}return g},ej.globalize.parseDate=function(e,t,i){var n,o,r,s,a,l;if(i=ej.globalize.findCulture(i),t){if("string"==typeof t&&(t=[t]),t.length)for(s=0,a=t.length;s<a&&(!(l=t[s])||!(n=v(e,l,i)));s++);}else for(o in r=i.calendar.patterns)if(n=v(e,r[o],i))break;return n||null},ej.globalize.getLocalizedConstants=function(t,i){var n,o=t.replace("ej.","").split(".");return n=y(ej,o),e.extend(!0,{},n.Locale.default,n.Locale[i||this.cultureObject.name])},e.extend(ej,ej.globalize)}(jQuery)}),
/*!
*  filename: ej.dialog.min.js
*  version : 2.4.85
*  Copyright Syncfusion Inc. 2001 - 2020. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e,t){t.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,backgroundScroll:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",backgroundScroll:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(i){var n,o;for(n in i)switch(n){case"closeIconTooltip":this._dialogClose.attr("title",i[n]);break;case"tooltip":this._tooltipText(i[n]);break;case"title":this.model.title=i[n],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(i[n]),this._updateCaptionWidth();break;case"width":this.model.width=i[n],this._changeSize(),this._updateCaptionWidth(),i[n]=this.model.width;break;case"height":this.model.height=i[n],this._changeSize(),i[n]=this.model.height;break;case"position":this.model.position=i[n],this._dialogPosition();break;case"cssClass":this._changeSkin(i[n]);break;case"showRoundedCorner":this.model.showRoundedCorner=i[n],this._roundedCorner(i[n]);break;case"contentType":this.model.contentType=i[n],this._appendContent(i[n]);break;case"enabled":this.model.enabled=i[n],this._enabledAction(i[n]);break;case"contentUrl":this.model.contentUrl=i[n],this._appendContent(this.model.contentType);break;case"backgroundScroll":this.model.backgroundScroll=i[n],!this.model.backgroundScroll&&this.model.enableModal?e("body").addClass("e-dialog-modal"):e("body").removeClass("e-dialog-modal");break;case"content":case"target":this._ejDialog.appendTo(e(i[n])),this.model.target=this.model.content=i[n],this._dialogPosition();break;case"containment":this._setDragArea(i[n]),t.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=i[n]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=i[n],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels,!0),this._tooltipText(this.model.tooltip),this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(this.model.title),this._updateCaptionWidth();break;case"minHeight":this.model.minHeight=i[n],this._ejDialog.css("minHeight",i[n]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=i[n],this._ejDialog.css("minWidth",i[n]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=i[n],this._ejDialog.css("maxHeight",i[n]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=i[n],this._ejDialog.css("maxWidth",i[n]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",i[n]);break;case"faviconCSS":this.model.faviconCSS=i[n],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=i[n],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=i[n],i[n]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=i[n],i[n]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=i[n],i[n]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1-this._dialogTitlebar.outerHeight(!0):"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=i[n],i[n]?(this._appendContent(),this._ejDialog.find(".e-resizable").remove()):this._ejDialog.find(".e-footerbar").remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=i[n],this.model.showFooter&&(this._ejDialog.find(".e-footerbar").empty(),o=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(o),this._enableResize());break;case"enableRTL":this.model.enableRTL=i[n],this.model.faviconCSS&&this._favIcon(),i[n]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl"),this.scroller&&this._resetScroller()):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr"),this.scroller&&this._resetScroller());break;case"actionButtons":t.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(i[n])),this.model.actionButtons=i[n],this._updateCaptionWidth();break;case"enableModal":this._enableModal(i[n]);break;case"htmlAttributes":this._addAttr(i[n])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this.model.enableAnimation&&this._ejDialog.stop(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1,e(window).off("resize",e.proxy(this._reSizeHandler,this))},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),this.scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"),this.scrObj&&this.scrObj._resetScroller(),this.hidden=!1,this._init=!1,this._keyNavigation=!1},_responsive:function(){this.width=this.model.width,e(this.element).width(this.width),this.height=this.model.height,e(this.element).height(this.height),e(window).on("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=e(this._dialogTitlebar).outerWidth(),e(this.contentDiv).width(this.width),e(this.contentDiv).children().width(this.width),this.model.height=this.height=e(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-e(this._dialogTitlebar).outerHeight()-e(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),t.isNullOrUndefined(this.element)||this._collapsible||this._resetScroller()},_setLocaleCulture:function(e,t){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=e.closeIconTooltip),t&&(this.model.tooltip=this.localizedLabels.tooltip,this.model.title=this.localizedLabels.title),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=e.tooltip),this.model.title===this.defaults.title&&(this.model.title=e.title)},_setDragArea:function(i){t.isNullOrUndefined(i)?this._target=null:"string"==typeof i?("parent"==i&&(this._target=e(this.element).parent()),"document"==i.toLowerCase()&&(this._target=e(document)),"window"==i.toLowerCase()?this._target=e(window):e(i).length>0&&(this._target=e(i))):"object"==typeof i?i.length>0&&(this._target=i):this._target=null},_addAttr:function(t){var i=this;e.map(t,function(e,t){if("class"==t)i._ejDialog.addClass(e);else if("disabled"==t&&"disabled"==e)i.model.enabled=!1,i._enabledAction(!1);else if(i._ejDialog[0].hasAttribute("style")){var n=i._ejDialog[0].getAttribute("style")+e;i._ejDialog.attr(t,n)}})},_tooltipText:function(i){e.extend(this.model.tooltip,i),!t.isNullOrUndefined(this._dialogClose)&&this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),!t.isNullOrUndefined(this._dialogCollapsible)&&(i.collapse||i.expand)&&(this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand)),!t.isNullOrUndefined(this._dialogMaximize)&&(i.maximize||i.restore)&&(this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogMinimize)&&(i.minimize||i.restore)&&(this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogPin)&&(i.pin||i.unPin)&&(this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin))},_renderControl:function(){var i,n,o;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=t.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,n=t.isNullOrUndefined(i)?document.body:i,(o=e(n).find("#"+this._id+"_wrapper").get(0))&&e(o).remove(),this._ejDialog.appendTo(n),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&this._favIcon()),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize(),"auto"!=this.model.height&&this._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){if("auto"!=this.model.height){var t=this._ejDialog.outerHeight()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1;this.contentDiv.height(t),this.element.outerHeight(t)}return this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){if(this.model.enableResize){this._ejDialog.addClass("e-resizable");var e=t.buildTag("div.e-icon e-resize-handle");this.model.showFooter?e.appendTo(this._dialogFooterbar):e.appendTo(this._ejDialog),this._resizeDialog()}return this},_changeSkin:function(e){this.model.cssClass!=e&&this._ejDialog.removeClass(this.model.cssClass).addClass(e)},_enableModal:function(e){e?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(e){e?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),t.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),t.buildTag("div.e-disable-overlay").appendTo(this.wrapper),t.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=t.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header e-dialog").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=t.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-dialog e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=t.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var e=this.model.faviconCSS&&!t.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&!t.isNullOrUndefined(this._dialogTitlebar)&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-e),this},_iconsRender:function(i){for(var n=0;n<i.length;n++)switch("msie"==t.browserInfo().name&&t.browserInfo().version<=8?e.trim(i[n]):i[n].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(i[n])}},_customIconsRender:function(e){this._customIcon=t.util.buildTag("div#"+this.element[0].id+"_"+e+"button.e-dialog-icon e-icon e-"+e,null,null).attr("tabIndex","0").attr("title",e),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(t){if(!this.element.hasClass("e-disable")){var i={cancel:!1,buttonID:e(t.target).attr("id"),event:t.type,model:this.model,currentTarget:t.currentTarget.title};this._trigger("actionButtonClick",i)}},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(i){var n,o,r,s,a;this.contentDiv=t.isNullOrUndefined(this.contentDiv)?t.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),n=this,t.isNullOrUndefined(this.model.contentUrl)||t.isNullOrUndefined(i)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==i?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==i?(this.element.children(".e-iframe").length>0?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=t.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&e(this.iframe).load(function(){n.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):"image"==i?(o=t.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(o).show().appendTo(this.contentDiv),e(o).on("load",function(){n._dialogPosition()}),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),this._ejDialog.find("div.e-resize-handle").length>0?0==this._ejDialog.find(".e-footerbar").length&&this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(r=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(r)?0==this._ejDialog.find(".e-footerbar").length?this.contentDiv.appendTo(this._ejDialog):this.contentDiv.insertBefore(this._dialogFooterbar):(this.contentDiv.appendTo(this._ejDialog),s=e("#"+this.contentDiv.find("iframe").attr("id")),e(s[0].contentDocument.lastChild).remove(),s[0].contentDocument.appendChild(r),"mozilla"==t.browserInfo().name&&setTimeout(function(){e(s[0].contentDocument.lastChild).remove(),s[0].contentDocument.appendChild(r)},500))),this.model.showFooter&&0==this._ejDialog.find(".e-footerbar").length&&(this._renderFooterBar(),null!=this.model.footerTemplateId&&(a=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(a)))},_roundedCorner:function(e){this._ejDialog[e?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):this.model.showHeader||this.model.showFooter||this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){if(null!=this.scroller&&(this.scroller.refresh(!0),!this.model.enableRTL)){if(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter)var e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=0,i=0;else e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=2,i=this._ejDialog.find("div.e-resize-handle").outerHeight();Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1)&&(this.scroller._vScrollbar.model.height-=i+t,this.scroller._vScrollbar._scrollData.handle-=i,this.scroller._vScrollbar._scrollData.handleSpace-=i+t,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(e-i-t))}if((!this.scroller._vScrollbar||!this.scroller._vScrollbar._scrollData)&&this.scroller._hScrollbar&&this.scroller._hScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter){var n=this.scroller._hScrollbar.element.find("> div.e-hscroll").width();t=0,i=0}else n=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),t=2,i=this._ejDialog.find("div.e-resize-handle").outerWidth();this.scroller._hScrollbar.model.width-=i+t,this.scroller._hScrollbar._scrollData.handle-=i+t,this.scroller._hScrollbar._scrollData.handleSpace-=i+t,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(n-i-t)}}},_dialogMaxZindex:function(){var t,i,n,o=this.element.parents();return t=e("body").children(),e(t).each(function(e,t){o.push(t)}),i=e(this.model.target).children(),e(i).each(function(e,t){o.push(t)}),!(n=Math.max.apply(n,e.map(o,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))||n<1e4?n=1e4:n+=1,n},_setZindex:function(){var e=this._dialogMaxZindex();this.model.zIndex<=e&&this._ejDialog.css({zIndex:e+1})},_createOverlay:function(){var i,n=this._ejDialog.css("zIndex");t.isNullOrUndefined(this._overLay)||this._overLay.remove(),this.model.backgroundScroll||e("body").addClass("e-dialog-modal"),this._overLay=t.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:n-1}),e(this._overLay).addClass("e-widget"),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,this._overLay.appendTo(t.isNullOrUndefined(i)?document.body:i);var o=t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?"fixed":"absolute",r=t.isNullOrUndefined(i)||"fixed"==o||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().left,s=t.isNullOrUndefined(i)||"fixed"==o||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().top;this._overLay.css({top:s,left:r,position:o})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var n=this,o=this.model.title,r={success:function(e){try{n._ajaxSuccessHandler(e,t,i,o)}catch(e){}},error:function(e){try{n._ajaxErrorHandler({status:e.status,responseText:e.responseText,statusText:e.statusText},t,i,o)}catch(e){}},complete:function(){try{n._setContainerSize(),n._resetScroller(),n.model.showOnInit||n._setHiddenDialogSize()}catch(e){}}};e.extend(!0,r,this.model.ajaxSettings),this._sendAjaxRequest(r)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(e,t,i){t.removeClass("e-load"),t.html(e).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:e,url:i})},_ajaxErrorHandler:function(e,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:e,url:i})},_closeIcon:function(){this._dialogClose=t.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):("close"==this.model.closeIconTooltip&&this.model.tooltip.close,this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close)),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=t.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=t.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=t.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=t.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){if(this._dialogFavIcon)e=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom");else{this._dialogFavIcon=t.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")});var e=t.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"});e.appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)}this.model.faviconCSS?e.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),i=parseInt(this.model.maxWidth),n=parseInt(this.model.maxHeight),o=parseInt(this.model.width),r=parseInt(this.model.height),s=this._getParentObj();isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(e=this._convertPercentageToPixel(s.outerWidth(),e)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(t=this._convertPercentageToPixel(s.outerHeight(),t)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(i=this._convertPercentageToPixel(s.innerWidth(),i)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(n=this._convertPercentageToPixel(s.innerHeight(),n)),isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(o=this._convertPercentageToPixel(s.innerWidth(),o)),isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(r=this._convertPercentageToPixel(s.innerHeight(),r)),(i&&o>i||e&&o<e)&&(this.model.width=o>i?i:e),(n&&r>n||t&&r<t)&&(this.model.height=r>n?n:t)},_setSize:function(){var e=this.model;return this._minMaxValidation(),this._ejDialog.css({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth}),this._ejDialog.css({height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var i,n=this._ejDialog.outerHeight(!0)-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),o={width:"0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?Math.round(this._ejDialog.width()):Math.round(this._ejDialog.width()-2),enableRTL:this.model.enableRTL,height:"0px"==this.contentDiv.css("border-width")?n:n-1,enableTouchScroll:!1};"auto"==this.model.height&&(this.element.height()<this.model.maxHeight||!this.model.maxHeight)&&!this._maximize&&(o.height="auto"),"auto"!=this.model.width||this._maximize||(o.width=this.model.width),this.contentDiv.ejScroller(o),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(e(this.element).css("padding-top"))+parseInt(e(this.element).css("padding-bottom")),"none"==e(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!t.isNullOrUndefined(this.contentDiv.height())&&this.contentDiv.height()>0&&(i=t.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:!this.scroller._hScrollbar&&this.scroller._vScrollbar?this.contentDiv.outerHeight():this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:i-1}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth("0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?this._ejDialog.width():this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(e,t){this.contentDiv.ejScroller({width:t,height:e,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var i=this;this._ejDialog.parents(".e-dialog-scroller");return this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(e){return e.element.attr("aria-grabbed",!0),i._clickHandler(),!i.dialogPin&&i.model.allowDraggable&&i.model.enabled?i._trigger("dragStart",{event:e})?(e.cancel=!0,!1):void 0:(e.cancel=!0,!1)},drag:function(e){i._trigger("drag",{event:e})},dragStop:function(n){var o,r;i._ejDialog.focus(),n.element.attr("aria-grabbed",!1),i.element.find("> .e-draggable.e-titlebar")&&((o=e("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&o.option("cursorAt",i.element.offset())),r=this.helper.offsetParent().offset(),i._trigger("dragStop",{event:n}),i.model.position.X=t.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[r.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],i.model.position.Y=t.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[r.top+parseFloat(this.helper.offsetParent().css("border-top-width"))],i._positionChanged=!0,i.dlgresized=!0},helper:function(){return e(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){if(this.model.enableResize){var t,i=this,n=!1,o=parseInt(this.model.minWidth),r=parseInt(this.model.minHeight),s=parseInt(this.model.maxWidth),a=parseInt(this.model.maxHeight);return t=this._getParentObj(),isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(o=this._convertPercentageToPixel(t.outerWidth(),o)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(r=this._convertPercentageToPixel(t.outerHeight(),r)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(s=this._convertPercentageToPixel(t.innerWidth(),s)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(a=this._convertPercentageToPixel(t.innerHeight(),a)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:r,minWidth:o,maxHeight:a,maxWidth:s,handle:"e-widget-content",resizeStart:function(e){if(i.dlgresized=!0,!i.model.enabled)return!1;n||i._trigger("resizeStart",{event:e}),n=!0,i.model.position={X:i._ejDialog.css("left"),Y:i._ejDialog.css("top")},i._dialogPosition()},resize:function(t){i.dlgresized=!0;var n=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(n).outerHeight(),i.model.width=e(n).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),i._updateCaptionWidth(),i._trigger("resize",{event:t}),i._sizeType={width:"px",height:"px"},this.scrObj&&this.scrObj._resetScroller()},resizeStop:function(t){i.dlgresized=!0,i._ejDialog.focus(),i._sizeInPercent();var o=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(o).outerHeight(),i.model.width=e(o).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),n&&i._trigger("resizeStop",{event:t}),n=!1,i._setDimension()},helper:function(){return e(i._ejDialog)}}),this}},_dialogPosition:function(){if(this._ejDialog.parents("form").length>0&&t.isNullOrUndefined(this.model.containment)&&t.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y)if(this._ejDialog.css("position","absolute"),t.isNullOrUndefined(this.model.target)&&t.isNullOrUndefined(this.model.containment))this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y);else{var i=t.isNullOrUndefined(this.model.containment)?this.model.target:this.model.containment;this.dlgresized||this._keyNavigation?(this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):(this._ejDialog.css("left",e(i).offset().left+parseInt(this.model.position.X)),this._ejDialog.css("top",e(i).offset().top+parseInt(this.model.position.Y)))}else this._centerPosition();return this},_centerPosition:function(){var i,n,o,r,s=0,a=0;t.isNullOrUndefined(this.model.target)&&(t.isNullOrUndefined(this._target)||e(this._target).is(e(document))||e(this._target).is(e(window)))?(r=document.documentElement,s=(e(window).outerWidth()>this._ejDialog.width()?(e(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||r.scrollLeft),a=(e(window).outerHeight()>this._ejDialog.height()?(e(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||r.scrollTop)):("static"==(i=t.isNullOrUndefined(this._target)?e(this.model.target):e(this._target)).css("position")&&(n=i.offsetParent().offset(),s=(o=i.offset()).left-n.left,a=o.top-n.top),i.outerWidth()>this._ejDialog.width()&&(s+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(a+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:a,left:s}),this._ejDialog.css("position","absolute")},_closeClick:function(e){"touchstart"==e.type&&e.preventDefault(),this.model.enabled&&(e.stopPropagation(),this.close(e))},_collapsibleClick:function(t){this.model.enabled&&(e(t.target).hasClass("e-arrowhead-up")?this._actionCollapse(t):e(t.target).hasClass("e-arrowhead-down")&&this._actionExpand(t))},_actionCollapse:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!e}),this._collapsible=!0)},_actionExpand:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!e}),this._collapsible=!1)},_maximizeClick:function(i){if(this.model.enabled){var n=e(i.target),o=this._dialogMaximize;n.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.minimize)),n.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):n.hasClass("e-restore")&&(this._actionRestore(),n.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!t.isNullOrUndefined(o)&&e(o).hasClass("e-arrowhead-down")&&(e(o).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var i=this;this._dialogCollapsible&&!t.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",function(){i.refresh(),i._reRenderScroller()}),this._resetScroller(),e(this.contentDiv).is(":hidden")&&this.contentDiv.show()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(i){if(this.model.enabled){var n=e(i.target),o=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize;n.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):n.hasClass("e-restore")&&(this._actionRestore(),n.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!t.isNullOrUndefined(o)&&e(o).hasClass("e-arrowhead-down")&&(e(o).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}},_actionMinimize:function(){var t;e(window).height(),this._ejDialog.height(),this.element.height();this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?t=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),t=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",t+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(i){var n=this._dialogCollapsible?this._dialogCollapsible:null;i?(t.isNullOrUndefined(n)||e(n).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(t.isNullOrUndefined(n)||e(n).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(t){if(this.model.enabled){var i=e(t.target);i.hasClass("e-unpin")?(this.dialogPin=!0,i.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):i.hasClass("e-pin")&&(this.dialogPin=!1,i.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin))}},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse)))},_clickHandler:function(){var e=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<e&&this._ejDialog.css({zIndex:e+1})},_mouseClick:function(t){t.currentTarget==this._id&&(e(t.target).hasClass("e-dialog")||e(t.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),e(t.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(t){var i;i=t.keyCode?t.keyCode:t.which?t.which:t.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&e(t.target).hasClass("e-dialog")&&e.inArray(i,this.keyConfigs)>-1&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(i,t.ctrlKey),t.preventDefault()),this.model.closeOnEscape&&27===i&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(t),t.preventDefault())),13===i&&this.model.enabled&&(e(t.target).hasClass("e-close")?this.close(t):(e(t.target).hasClass("e-arrowhead-up")||e(t.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(t),e(t.target).hasClass("e-maximize")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMaximize)?this._maximizeClick(t):(e(t.target).hasClass("e-minus")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMinimize))&&this._minimizeClick(t),(e(t.target).hasClass("e-pin")||e(t.target).hasClass("e-unpin"))&&this._pinClick(t)),9==i&&this.model.enableModal&&this._focusOnTab(t)},_focusOnTab:function(t){var i=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')");i=e(i).find("a, button, :input, select, [tabindex]:not('')"),t.shiftKey?i[i.index(t.target)-1]||(t.preventDefault(),i.last().focus()):i[i.index(t.target)+1]||(t.preventDefault(),i[0].focus())},_keyPressed:function(e,t){switch(this._keyNavigation=!0,e){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:this._ejDialog.position().top>3?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:this._ejDialog.position().left>3?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(e,t){this.model.enableResize&&this.option(e,t)},_sizeInPercent:function(){if(!this._enableWindowResize())return this;var e=this._getParentObj();return this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(e.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(e.outerHeight(),this._ejDialog.outerHeight()),this._widthPercent>=100&&(this._widthPercent=100,this._ejDialog.outerWidth(e.outerWidth()),this.model.width=this._ejDialog.width()),this._heightPercent>=100&&(this._heightPercent=100,this._ejDialog.outerHeight(e.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return t.isNullOrUndefined(this.model.containment)?t.isNullOrUndefined(this.model.target)?e(document):e(this.model.target):e(this.model.containment)},_convertPercentageToPixel:function(e,t){return Math.round(t*e/100)},_convertPixelToPercentage:function(e,t){return Math.round(t/e*100)},_reSizeHandler:function(){var t;this._maximize?this._resetScroller():(""!=this.model.position.X&&(""!=this.model.position.Y||this._minimize)||this._centerPosition(),t=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=e(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(t):this._pixelsWidthDimension(t):this._windowSize.outerHeight!=e(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(t):this._pixelsHeightDimension(t)),this._change&&this._resizeContainer(t),this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._centerPosition())},_setDimension:function(){t.isNullOrUndefined(this.model.maxWidth)?t.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:("px"==this._sizeType.width||"auto"==this._sizeType.width)&&(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,t.isNullOrUndefined(this.model.maxHeight)?t.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:("px"==this._sizeType.height||"auto"==this._sizeType.height)&&(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(e){this._ejDialog.outerWidth(this._convertPercentageToPixel(e.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(e){this._ejDialog.outerHeight(this._convertPercentageToPixel(e.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(t){e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<e(t).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(t.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(t){e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<e(t).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(t.outerHeight()),this._change=!0)},_setWidth:function(e){this._ejDialog.outerWidth(e.outerWidth()),this._change=!0},_setHeight:function(e){this._ejDialog.outerHeight(e.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width());var i=this._ejDialog.height()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0);this.contentDiv.height(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.element.outerHeight(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.scroller=this.contentDiv.ejScroller({width:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this._ejDialog.width():this._ejDialog.width()-2),height:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this.element.outerHeight():this.element.outerHeight()-2),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),""==this.model.position.X||""==this.model.position.Y&&!this._minimize||this._positionChanged?this._centerPosition():this._ejDialog.css("height",this._dialogTitlebar.outerHeight()),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&"auto"!=this.model.height)},_wireResizing:function(){e(window)[this._enableWindowResize()?"on":"off"]("resize",e.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var i,n,o,r,s;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),i=this,n={},this._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),"slide"==this.model.animation.show.effect?(r=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),n={left:r,opacity:1}):n={opacity:1}),this._ejDialog.animate(n,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){i.model&&("none"==i._ejDialog.css("display")&&i._ejDialog.show(),i._ejDialog.eq(0).focus(),i._ejDialog.css({opacity:""}),i.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),i._trigger("open"),i._updateCaptionWidth(),i.model.enableModal&&!i.model.backgroundScroll&&(i._ejDialog.height()>e(window).height()&&i._ejDialog.css("height",e(window).height()),i.model.height=e(window).height(),i._overLay.css("position","fixed"),i.scroller.refresh(!0),i.refresh()),(i.model.maxHeight||i.model.maxWidth)&&(o=i._ejDialog.outerHeight(!0)-(i._dialogTitlebar?i._dialogTitlebar.outerHeight(!0):0),("auto"==i.model.height||"100%"==i.model.height)&&(o=i.model.height),i._updateScroller(t.isNullOrUndefined(this.contentDiv)?o-2:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?i._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width")),i.scroller.refresh()))}),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&((s=e("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&s.option("cursorAt",this.element.offset())),this)},close:function(t){var i,n,o;return!this._isOpen||!this.model.enabled||(i=!!t,1!=this._trigger("beforeClose",{event:t,isInteraction:i})&&(this._isOpen=!1,n=this,o={},this.model.enableAnimation&&(o="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(o,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){n._trigger("close",{event:t,isInteraction:i}),n._ejDialog.hide()}),this.model.enableModal&&(this._overLay&&this._overLay.remove(),this.model.backgroundScroll||e("body").removeClass("e-dialog-modal")),this))},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(e){return this.model.title=e,this._titleText.text(e),this._updateCaptionWidth(),this},setContent:function(e){return!!this.model.enabled&&(this.element.html(e),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),e(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),e(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),e(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){if(this.model.showHeader){var t=this._minimize;return this._actionRestore(),e(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(t?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this}},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,e(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,e(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),t.Dialog.Locale=t.Dialog.Locale||{},t.Dialog.Locale.default=t.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},title:"",closeIconTooltip:"close"}}(jQuery,Syncfusion),
/*!
*  filename: ej.button.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e),"disabled"==t&&"disabled"==e&&i.disable()})},_destroy:function(){this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(e){for(var t in e)switch(t){case"size":this._setSize(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"contentType":this._setContentType(e[t]);break;case"imagePosition":this._setImagePosition(e[t]);break;case"text":this._setText(e[t]);break;case"prefixIcon":this._setMajorIcon(e[t]);break;case"suffixIcon":this._setMinorIcon(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"timeInterval":this.model.timeInterval=e[t];break;case"htmlAttributes":this._addAttr(e[t])}},_setSize:function(e){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+e)},_setType:function(e){this.element.prop({type:e})},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(e){this.element.css("width",e)},_setText:function(e){"inputButton"==this.buttonType?this.element.val(e):this.model.contentType==t.ContentType.TextOnly?this.element.html(e):this.textspan.html(e),this.model.text=e},_setMajorIcon:function(e){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(e),this.model.prefixIcon=e},_setMinorIcon:function(e){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(e),this.model.suffixIcon=e},_setContentType:function(e){e!=this.model.contentType&&(this.element.empty(),this.model.contentType=e,this._renderButtonNormal())},_setImagePosition:function(e){this.model.contentType==t.ContentType.TextAndImage&&e!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=e,this._renderButtonNormal())},_setRTL:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(e){e?this.enable():this.disable()},_setSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass),this.element.addClass(e))},_initialize:function(){t.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.model.text&&this.element.attr("aria-describedby",this.model.text)},_renderButtonNormal:function(){if((null==this.model.text||""==this.model.text)&&(this.model.text=this.element.html()),this.element.empty(),this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.model.contentType.indexOf("image")>-1&&(this.majorimgtag=t.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=t.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=t.buildTag("div")),this.model.contentType==t.ContentType.TextAndImage){switch(this.model.imagePosition){case t.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case t.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==t.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(e){1==e?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(t){t&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(e(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(e(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(e){var t,i=this;if(!i.model.enabled)return!1;i.element.hasClass("e-disable")||(t={target:e.currentTarget,e:e,status:i.model.enabled},i._trigger("click",t))},_btnRepatMouseClickEvent:function(e){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(t.model.enabled,(0==e.button||1==e.which)&&(t._timeout=setInterval(function(){t._trigger("click",{target:e.currentTarget,status:t.model.enabled})},this.model.timeInterval)))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(e){var t,i=this;i.element.hasClass("e-disable")||(t={status:i.model.enabled},(32==e.keyCode||13==e.keyCode)&&i._trigger("click",t))},_btnRepatKeyUpEvent:function(e){(32==e.keyCode||13==e.keyCode)&&clearTimeout(this._timeout)}}),t.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},t.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},t.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},t.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}),
/*!
*  filename: ej.waitingpopup.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=t.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var i=this.model.template;"string"==typeof i&&(i=e(i)),this.templateObj="object"==typeof i&&"function"==typeof i.css?i:t.buildTag("div","",{"text-align":"center"}).append(i),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){e(window).on("resize",e.proxy(this._resizeHandler,this))},_unwireEvents:function(){e(window).off("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(i){for(var n in i)switch(n){case"text":this._setText(i[n]);break;case"cssClass":this._setTheme(i[n]);break;case"htmlAttributes ":this._addAttr(i[n]);break;case"showOnInit":this._setVisibility(i[n]);break;case"showImage":this._showImage(i[n]),this._setContentPosition();break;case"target":this.model.target=i[n],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=i[n],this._setTarget(),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),i[n]?(this.model.template=i[n],this._setTemplate()):(this.model.template=i[n]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?e(document):"window"==this.model.target?e(window):this.model.target?e(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var i=e("#"+this.element[0].id+"_WaitingPopup").get(0);i&&e(i).remove(),this.maindiv=t.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),t.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?e("body").append(this.maindiv):this.maindiv.appendTo(e(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)})},_setPanelPosition:function(){var i=t.util.getOffset(this.targetElement);null!=this.model.appendTo&&e(this.model.appendTo).length>0&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==e(this.model.appendTo)[0]?(i.left-=this.targetElement.offsetParent().offset().left,i.top-=this.targetElement.offsetParent().offset().top):i={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(i.left)+"px",top:Math.ceil(i.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(null==this.model.template){var e,t=0,i=0,n=null;e=this.targetElement.outerHeight(),this.popupText&&(t=this.popupText.outerHeight()),this.popupImage&&(i=this.popupImage.outerHeight()),this.popupImage&&(n=Math.ceil((e-(i+t))/2),this.popupImage.css("top",n+"px")),this.popupText&&(n||(n=Math.ceil((e-t)/2)),this.popupText.css("top",n+"px"))}else this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=t.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return t.util.getZindexPartial(this.element)}})});var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};function extractXSRFTokenFromCookie(){var e=parent.document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));return e?e.split("=")[1]:null}function setXSRFRequestHeader(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}function decodeHtmlAsString(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function EscapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}!function(e){var t=function(t){function i(i,n){return t.call(this),this._rootCSS="e-tooltip",this._setFirst=!1,this.PluginName="ejTooltip",this.id="null",this.model=null,this.defaults={height:"auto",width:"auto",enabled:!0,content:null,containment:"body",target:null,title:null,closeMode:"none",autoCloseTimeout:4e3,position:{stem:{horizontal:"center",vertical:"bottom"},target:{horizontal:"center",vertical:"top"}},associate:"target",collision:"flipfit",showShadow:!1,cssClass:null,animation:{effect:"none",speed:0},isBalloon:!0,showRoundedCorner:!1,enableRTL:!1,allowKeyboardNavigation:!0,tip:{size:{width:20,height:10},adjust:{xValue:0,yValue:0}},trigger:"hover",create:null,click:null,destroy:null,hover:null,tracking:null,beforeOpen:null,beforeClose:null,open:null,close:null},this.dataTypes={enabled:"boolean",closeMode:"enum",autoCloseTimeout:"number",trigger:"enum",position:{stem:"data",target:"data"},associate:"enum",collision:"enum",showShadow:"boolean",animation:{effect:"enum",speed:"number"},isBalloon:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",tip:{size:{width:"number",height:"number"},adjust:{xValue:"number",yValue:"number"}}},this.isTrack=!0,this._isCancel=!1,this._isHidden=!0,this.arrowValue={left:0,top:0,width:0,height:0,display:null},this.tooltipPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.targetPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.mouseTimer=null,this.positionTarget=null,this.positionTooltip=null,this.containerSize=null,this._createTitle=function(){this.tooltipTitle=ej.buildTag("div.e-def e-header"," ",{},{}),this.tooltipHeader=ej.buildTag("div"," ",{},{}),e(this.tooltipTitle).html(this.model.title).appendTo(this.tooltipHeader)},i&&(i.jquery||(i=e("#"+i)),i.length)?e(i).ejTooltip(n).data(this.PluginName):void 0}return __extends(i,t),i.prototype.setModel=function(e,t){this.setModel(e,t)},i.prototype.option=function(e,t){this.option(e,t)},i.prototype.triggerEvents=function(e,t){var i,n,o,r,s,a,l;switch(e){case"click":n=t,i=this._trigger(e,n);break;case"hover":o=t,i=this._trigger(e,o);break;case"tracking":r=t,i=this._trigger(e,r);break;case"beforeOpen":s=t,i=this._trigger(e,s);break;case"open":a=t,i=this._trigger(e,a);break;case"beforeClose":case"close":l=t,i=this._trigger(e,l)}return i},i.prototype.enable=function(){this.tooltip.hasClass("e-disable")&&(this.model.enabled=!0,this.tooltip.removeClass("e-disable"))},i.prototype.disable=function(){this.tooltip.hasClass("e-disable")||(this.model.enabled=!1,this.tooltip.addClass("e-disable"))},i.prototype.show=function(t,i){if(this.model.enabled){if(ej.isNullOrUndefined(t)){var n=null==this.model.target?this.element:e(this.element).find(this.model.target+":first");this._positionElement(n)}else this._positionElement(t);ej.isNullOrUndefined(i)?this._showTooltip():"string"==typeof i?e(this.tooltip).show(i):"function"==typeof i&&i.call.apply(this.tooltip)}},i.prototype.hide=function(t){this.model.enabled&&(ej.isNullOrUndefined(t)?this._hideTooltip():"string"==typeof t?e(this.tooltip).hide(t):"function"==typeof t&&t.call.apply(this.tooltip))},i.prototype._destroy=function(){this.mouseTimer&&clearTimeout(this.mouseTimer),this.timer&&clearTimeout(this.timer),e(this.tooltip).remove(),this.tooltip=null},i.prototype._setModel=function(t){var i,n;for(i in t)switch(i){case"height":this._setHeight(t[i]);break;case"width":this._setWidth(t[i]);break;case"enabled":this._enabled(t[i]);break;case"content":this._setContent(t[i]);break;case"title":this.model.title=t[i],null==this.model.title?(e(this.tooltipHeader).remove(),this.tooltipHeader=null,this.tooltipTitle=null,this.model.closeMode===ej.Tooltip.CloseMode.Sticky&&this._iconRender()):ej.isNullOrUndefined(this.tooltipHeader)?this._createHeader():e(this.tooltipTitle).html(this.model.title),this.tooltipPos.height=e(this.tooltip).outerHeight();break;case"associate":this.model.associate=t[i],this._wireMouseEvents(!1),this._wireMouseEvents(!0);break;case"position":this._setPosition(t[i]);break;case"collision":this.model.collision=t[i];break;case"closeMode":void 0!==t[i]&&(this.model.closeMode=t[i],this.model.closeMode==ej.Tooltip.CloseMode.Sticky?this._iconRender():(e(this.tooltipClose).remove(),this.tooltipClose=null),this.tooltipPos.height=e(this.tooltip).outerHeight());break;case"cssClass":this._setSkin(t[i]);break;case"showShadow":this._shadowEffect(t[i],this.model.position);break;case"isBalloon":ej.isNullOrUndefined(t[i])||(this.model.isBalloon=t[i],this.model.isBalloon?this._renderArrow():(e(this.tip).remove(),this.tip=null));break;case"animation":n=t[i],this.model.animation=e.extend(!0,this.model.animation,n),this.model.animation.effect!=ej.Tooltip.Effect.None?(this._off(e(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._off(e(this.tooltip),"mouseleave",this._onTooltipMouseLeave)):this.model.animation.effect==ej.Tooltip.Effect.None&&(this._on(e(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._on(e(this.tooltip),"mouseleave",this._onTooltipMouseLeave));break;case"enableRTL":this._setRTL(t[i]);break;case"target":this._wireTriggerEvents(!1),this.model.target=t[i],this._wireTriggerEvents(!0),this._renderTarget();break;case"trigger":this._setTrigger(t[i]);break;case"showRoundedCorner":this.model.showRoundedCorner=t[i],this._roundedCorner(t[i]);break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=t[i],this.model.allowKeyboardNavigation?this._on(e(window),"keydown",this._keyDown):this._off(e(window),"keydown",this._keyDown)}},i.prototype._enabled=function(e){e?this.enable(e):this.disable(e),this.model.enabled=e},i.prototype._shadowEffect=function(t,i){this.model.showShadow=t;var n=null;if(e(this.tooltip).removeClass("e-tooltipShadowLeft e-tooltipShadowRight"),this.model.showShadow){if(this.model.isBalloon)switch(i.stem.horizontal){case"center":n="top"==i.stem.vertical?"e-tooltipShadowLeft":"bottom"==i.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft";break;case"right":n="center"==i.target.horizontal&&"top"==i.stem.vertical?"e-tooltipShadowLeft":"e-tooltipShadowRight";break;case"left":n="center"==i.target.horizontal&&"bottom"==i.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft"}else n="e-tooltipShadowLeft";e(this.tooltip).addClass(n)}},i.prototype._setContent=function(t){this.model.content=t,e(this.tooltipContent).html(this.model.content),this.tooltipPos.height=e(this.tooltip).outerHeight(),this.tooltipPos.width=e(this.tooltip).outerWidth()},i.prototype._setPosition=function(t){this.model.position.stem=e.extend(!0,this.model.position.stem,t.stem),this.model.position.target=e.extend(!0,this.model.position.target,t.target)},i.prototype._setTrigger=function(e){this._wireTriggerEvents(!1),this.model.trigger=e,this._wireTriggerEvents(!0)},i.prototype._init=function(){this.id=this.element[0].id,this.positionTarget=e.extend(!0,{},this.model.position.target),this.positionTooltip=e.extend(!0,{},this.model.position.stem),this.tipSize=e.extend(!0,{},this.model.tip.size),this._initialize(),this._render(),this.enable(this.model.enabled),this._wireEvents(!0)},i.prototype._initialize=function(){ej.isNullOrUndefined(this.model.target)?ej.isNullOrUndefined(this.model.content)&&!ej.isNullOrUndefined(this.element.attr("title"))&&(this.model.content=this.element.attr("title"),this.element.attr("data-content",this.model.content),this.element.removeAttr("title")):this._renderTarget()},i.prototype._wireEvents=function(t){var i=t?"_on":"_off";this._wireTriggerEvents(t),this.model.allowKeyboardNavigation&&this[i](e(window),"keydown",this._keyDown),null!=this.model.target?this[i](this.element,"scroll",this.model.target,this._hideTooltip):this[i](this.element,"scroll",this._hideTooltip),this[i](e(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this[i](e(this.tooltip),"mouseleave",this._onTooltipMouseLeave),this[i](e(window),"resize",this._hideTooltip),this[i](e(window),"touchend",this._docTouchEndHandler)},i.prototype._wireTriggerEvents=function(e){var t,i=e?"_on":"_off";this.model.trigger==ej.Tooltip.Trigger.Focus?null!=this.model.target?this[i](this.element,"blur",this.model.target,this._hideTooltip):this[i](this.element,"blur",this._hideTooltip):null!=this.model.target?this[i](this.element,ej.isDevice()?"touchstart":"mouseleave",this.model.target,this._onMouseOut):this[i](this.element,ej.isDevice()?"touchstart":"mouseleave",this._onMouseOut),this._wireMouseEvents(e),t=this.model.trigger==ej.Tooltip.Trigger.Click?ej.isDevice()?"touchstart":"click":this.model.trigger==ej.Tooltip.Trigger.Focus?ej.isDevice()?"touchstart":"focus":ej.isDevice()?"touchstart":"mouseenter",null!=this.model.target?this[i](this.element,t,this.model.target,this._targetHover):this[i](this.element,t,this._targetHover)},i.prototype._wireMouseEvents=function(e){var t=e?"_on":"_off";(this.model.associate==ej.Tooltip.Associate.MouseEnter||this.model.associate==ej.Tooltip.Associate.MouseFollow)&&(null!=this.model.target?this[t](this.element,ej.isDevice()?"touchstart":"mousemove",this.model.target,this._tooltipMove):this[t](this.element,ej.isDevice()?"touchstart":"mousemove",this._tooltipMove))},i.prototype._render=function(){this.tooltip=ej.buildTag("div.e-tooltip-wrap e-widget","",{},{role:"tooltip","aria-readonly":"true","aria-hidden":"true","aria-describedby":this.id+"_content",id:this.id+"_Main"}),this.tooltipInter=ej.buildTag("div.e-tipContainer","",{},{}),this.tooltip.append(this.tooltipInter),this.model.isBalloon&&this._renderArrow(),e(this.model.containment).append(this.tooltip),this._setHeight(this.model.height),this._setWidth(this.model.width),this._createHeader(),this._tooltipContent(),this.model.cssClass&&this.tooltip.addClass(this.model.cssClass),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._setRTL(this.model.enableRTL),e(this.tooltip).css({top:"auto",left:"auto"}),this.tooltipPos={width:e(this.tooltip).outerWidth(),height:e(this.tooltip).outerHeight(),left:e(this.tooltip).offset().left,top:e(this.tooltip).offset().top,position:"absolute"},ej.isNullOrUndefined(this.model.target)&&(this._containerCalc(this.element),this._positionElement(this.element))},i.prototype._containerCalc=function(t){ej.isNullOrUndefined(t)&&(t=this.element);var i=e(t).offset();this.containerSize={height:"body"==this.model.containment?e(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight:e(this.model.containment).innerHeight(),width:"body"==this.model.containment?e(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth:e(this.model.containment).innerWidth()},this.containerSize.left="body"!=this.model.containment&&"static"==e(this.model.containment).css("position")?e(this.model.containment).offset().left-e(this.model.containment).offsetParent().offset().left:0,this.containerSize.top="body"!=this.model.containment&&"static"==e(this.model.containment).css("position")?e(this.model.containment).offset().top-e(this.model.containment).offsetParent().offset().top:0,i.left-="body"!=this.model.containment?"static"==e(this.model.containment).css("position")?e(this.model.containment).offsetParent().offset().left:e(this.model.containment).offset().left:0,i.top-="body"!=this.model.containment?"static"==e(this.model.containment).css("position")?e(this.model.containment).offsetParent().offset().top:e(this.model.containment).offset().top:0,this.targetPos.left=i.left,this.targetPos.top=i.top},i.prototype._setHeight=function(t){this.model.height=t,!isNaN(+t)&&isFinite(t)?e(this.tooltip).css("height",t+"px"):e(this.tooltip).css("height",t),this.tooltipPos.height=e(this.tooltip).outerHeight()},i.prototype._setWidth=function(t){this.model.width=t,"auto"!=this.model.width&&(t=!isNaN(+t)&&isFinite(t)?t+"px":t,e(this.tooltip).css("max-width",t),e(this.tooltip).css("min-width","0px")),e(this.tooltip).css("width",t),this.tooltipPos.height=e(this.tooltip).outerHeight()},i.prototype._setRTL=function(e){this.model.enableRTL=e,e?this.tooltip.addClass("e-rtl"):this.tooltip.removeClass("e-rtl")},i.prototype._setSkin=function(e){this.model.cssClass!=e&&(this.tooltip.removeClass(this.model.cssClass).addClass(e),this.model.cssClass=e)},i.prototype._roundedCorner=function(){this.model.showRoundedCorner?this.tooltip.addClass("e-corner"):this.tooltip.removeClass("e-corner")},i.prototype._renderArrow=function(){ej.isNullOrUndefined(this.tip)&&(this.tip=ej.buildTag("div.e-arrowTip"," ",{id:this.id+"_eTip"},{}),e(this.tip).append("<div class='e-arrowTipOuter'></div>").append("<div class='e-arrowTipInner'></div>"),e(this.tip).insertBefore(this.tooltipInter))},i.prototype._adjustArrow=function(t){var i,n,o=e(this.tooltip).width(),r=e(this.tooltip).height(),s=t.stem,a=t.target,l={tipHeight:0,tipWidth:0};"right"==a.horizontal||"left"==a.horizontal?(i="left"==s.horizontal?-this.model.tip.size.height:"right"==s.horizontal?o:o/2-this.tipSize.width/2,n="center"!=s.horizontal?"top"==s.vertical?5:"center"==s.vertical?r/2-this.tipSize.width/2:r-5-this.tipSize.width:"top"==s.vertical?-this.tipSize.height:"bottom"==s.vertical?r:this.tooltipPos.height/2-this.tipSize.width/2,l=this._arrowBinding(t,"horizontal")):(n="top"==s.vertical?-this.tipSize.height:"bottom"==s.vertical?r:r/2-this.tipSize.width/2,i="center"==s.vertical?"left"==s.horizontal?-this.model.tip.size.height:o:"left"==s.horizontal?10:"center"==s.horizontal?this.tooltipPos.width/2-this.tipSize.width/2:o-10-this.tipSize.width,l=this._arrowBinding(t,"vertical")),this.arrowValue.left=i,this.arrowValue.top=n,e(this.tip).css({height:l.tipHeight+"px",width:l.tipWidth+"px",left:i+"px",top:n+"px",display:"center"==s.horizontal&&"center"==s.vertical?"none":"block"})},i.prototype._arrowBinding=function(t,i){var n,o,r=t.stem,s="horizontal"==i?"center"!=r.horizontal:"center"==r.vertical,a=e(this.tooltip).css("border-top-color"),l=e(this.tooltip).css("background-color"),c=this.model.tip.size.height,h=this.model.tip.size.height-1,d={"border-top":"none","border-bottom":"none","border-right":"none","border-left":"none"};return s?(n=this.model.tip.size.height,o=this.model.tip.size.width,e(this.tip).find(".e-arrowTipOuter").css(this._arrow(t,c,a,d,"horizontal")),e(this.tip).find(".e-arrowTipInner").css(this._arrow(t,h,l,d,"horizontal"))):(n=this.model.tip.size.width,o=this.model.tip.size.height,e(this.tip).find(".e-arrowTipOuter").css(this._arrow(t,c,a,d,"vertical")),e(this.tip).find(".e-arrowTipInner").css(this._arrow(t,h,l,d,"vertical"))),{tipHeight:o,tipWidth:n}},i.prototype._arrow=function(e,t,i,n,o){var r=e.stem,s="horizontal"==o&&"right"==r.horizontal?"0px":"1px",a="horizontal"==o?"1px":"bottom"==r.vertical?"0px":"1px";return n["border-top"]="horizontal"==o?t+"px solid transparent":"bottom"==r.vertical?t+"px solid "+i:"none",n["border-bottom"]="horizontal"==o?t+"px solid transparent":"top"==r.vertical?t+"px solid "+i:"none",n["border-right"]="horizontal"==o?"left"==r.horizontal?t+"px solid "+i:"none":t+"px solid transparent",n["border-left"]="horizontal"==o?"right"==r.horizontal?t+"px solid "+i:"none":t+"px solid transparent",t==this.model.tip.size.height-1&&(n.left=s,n.top=a),n},i.prototype._iconRender=function(){this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&(ej.isNullOrUndefined(this.tooltipClose)||e(this.tooltipClose).remove(),this.tooltipClose=ej.buildTag("div .e-icon"," ",{},{id:"_closeIcon"}),null!=this.model.title?e(this.tooltipClose).insertAfter(this.tooltipTitle).addClass("e-close"):e(this.tooltipClose).insertBefore(this.tooltipInter).addClass("e-cross-circle"),this._on(e(this.tooltipClose),"click",this._hideTooltip))},i.prototype._renderTarget=function(){this.targetElement=e(this.element).find(this.model.target);for(var t=0;t<this.targetElement.length;t++)ej.isNullOrUndefined(e(this.targetElement[t]).attr("title"))||(this.targetElement[t].setAttribute("data-content",this.targetElement[t].title),this.targetElement[t].removeAttribute("title"))},i.prototype._tooltipContent=function(){this.tooltipContent=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_content"}),e(this.tooltipContent).html(this.model.content).addClass("e-def"),null!=this.model.title?e(this.tooltipContent).insertAfter(this.tooltipHeader):e(this.tooltipContent).appendTo(this.tooltipInter)},i.prototype._positionElement=function(t){this.tooltipPos.width=e(this.tooltip).outerWidth(),this.tooltipPos.height=e(this.tooltip).outerHeight(),this.targetPos.width=e(t).outerWidth(),this.targetPos.height=e(t).outerHeight(),this._containerCalc(t),this.model.associate==ej.Tooltip.Associate.Window?this._browserPosition():this.model.associate==ej.Tooltip.Associate.Axis?this._axisPosition():this.model.associate==ej.Tooltip.Associate.Target&&this._tooltipPosition(this.model.position),this.model.collision!=ej.Tooltip.Collision.None&&this.model.associate==ej.Tooltip.Associate.Target&&this._calcCollision(this.model.position,t)},i.prototype._browserPosition=function(){if("body"==this.model.containment){this.containerSize={height:e(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight,width:e(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth};var t=e.extend(!0,{},this.model.position),i={position:"absolute",left:"auto",top:"auto",bottom:"auto",right:"auto"};ej.isNullOrUndefined(this.tip)||e(this.tip).css({display:"none"}),"right"==this.model.position.target.horizontal?i.right=0:i.left="left"==this.model.position.target.horizontal?0:this.containerSize.width/2-this.tooltipPos.width/2,"top"==this.model.position.target.vertical?i.top=0:"center"==this.model.position.target.vertical?i.top=this.containerSize.height/2-this.tooltipPos.height/2:i.bottom=0,this.model.showShadow&&this._shadowEffect(this.model.showShadow,t),e(this.tooltip).css(i)}},i.prototype._tooltipMove=function(e){if(this.model.closeMode==ej.Tooltip.CloseMode.None&&this.model.enabled){var t=this;if(this._isCancel)return;this.model.associate==ej.Tooltip.Associate.MouseFollow?this._mousePosition(e):this.model.associate==ej.Tooltip.Associate.MouseEnter&&(clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){t.isTrack&&t._mousePosition(e)},300))}},i.prototype._mousePosition=function(t){var i,n,o;"touchstart"==t.type?(t.preventDefault(),i=t.touches[0].pageX,n=t.touches[0].pageY):"mousemove"==t.type&&(i=t.pageX,n=t.pageY),this.isCollision=!0,this._containerCalc(t.currentTarget);var r=0,s=0,a=0,l=e.extend(!0,{},this.model.position.stem),c=e.extend(!0,{},this.model.position),h={left:0,top:0},d={left:i,top:n},u={left:i,top:n},p=this.containerSize.left,f=this.containerSize.top,m="body"!=this.model.containment?i-e(this.model.containment).offset().left:i,g="body"!=this.model.containment?n-e(this.model.containment).offset().top:n;for(c.target.horizontal=c.target.vertical="center","body"!=this.model.containment&&(h="static"==e(this.model.containment).css("position")?e(this.model.containment).offsetParent().offset():e(this.model.containment).offset()),u.left-=h.left,u.top-=h.top;this.isCollision;)if(d=e.extend(!0,{},u),this.model.isBalloon&&("top"==l.vertical||"bottom"==l.vertical)?5+this.tipSize.height/2:0,o=this.model.isBalloon&&("right"==l.horizontal||"left"==l.horizontal)?10+this.tipSize.width/2:0,r=0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:7,s=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:10,a=this.model.isBalloon?"center"!=l.horizontal||"center"!=l.vertical?this.model.tip.size.height:0:2,d.left+="right"==l.horizontal?-this.tooltipPos.width:"left"==l.horizontal?0:-this.tooltipPos.width/2,d.top+="bottom"==l.vertical?-this.tooltipPos.height:"top"==l.vertical?0:-this.tooltipPos.height/2,d.left+="center"!=l.vertical?"right"==l.horizontal?o:"left"==l.horizontal?-o:0:0,d.left+="center"==l.vertical?"right"==l.horizontal?-a:"left"==l.horizontal?+(a+r):0:0,d.top+="top"==l.vertical?+(a+s):"bottom"==l.vertical?-a:0,this.targetElement!=t.currentTarget&&(this.targetElement=t.currentTarget,(d.left<p||d.left+this.tooltipPos.width>p+this.containerSize.width)&&(this.positionTooltip.horizontal=m>=this.tooltipPos.width?"right":this.containerSize.width-m>=this.tooltipPos.width?"left":"center"),(d.top<f||d.top+this.tooltipPos.height>this.containerSize.height+f)&&(this.positionTooltip.vertical=g>=this.tooltipPos.height?"bottom":this.containerSize.height-g>=this.tooltipPos.height?"top":"center")),this.positionTooltip.horizontal!=l.horizontal||this.positionTooltip.vertical!=l.vertical)this.isCollision=!0,l=e.extend(!0,{},this.positionTooltip);else if(this.isCollision=!1,e(this.tooltip).css({top:d.top+"px",left:d.left+"px",position:"absolute",right:"auto",bottom:"auto"}),c.stem=e.extend(!0,{},this.positionTooltip),this.model.showShadow&&this._shadowEffect(this.model.showShadow,c),this.model.isBalloon&&this._adjustArrow(c),this._showTooltip(),this.model.associate==ej.Tooltip.Associate.MouseEnter&&(this.isTrack=!1),this.model.associate==ej.Tooltip.Associate.MouseFollow&&this.triggerEvents("tracking",{position:this.model.position,event:t}))return},i.prototype._axisPosition=function(){var t,i,n,o,r=e.extend(!0,{},this.model.position);"number"==typeof this.model.position.target.horizontal&&(t=this.model.position.target.horizontal.toString()),"number"==typeof this.model.position.target.vertical&&(i=this.model.position.target.vertical.toString()),n=parseInt(t),o=parseInt(i),ej.isNullOrUndefined(this.tip)||e(this.tip).css({display:"none"}),this.model.showShadow&&this._shadowEffect(this.model.showShadow,r),this.model.isBalloon&&this._adjustArrow(r),isFinite(n)&&isFinite(o)&&e(this.tooltip).css({top:o,left:n,position:"absolute"})},i.prototype._tooltipPosition=function(t){var i=e.extend(!0,{},t.stem),n=e.extend(!0,{},t.target),o=e.extend(!0,{},this.targetPos),r="top"===i.vertical||"bottom"===i.vertical?5+this.tipSize.width/2:0,s="right"===i.horizontal||"left"===i.horizontal?10+this.tipSize.width/2:0,a=this.model.isBalloon&&("center"!==i.horizontal||"center"!==i.vertical)?this.model.tip.size.height:0,l=0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:this.model.isBalloon?0:2,c=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:this.model.isBalloon?0:2;o.left+="right"===n.horizontal?this.targetPos.width:"left"===n.horizontal?0:this.targetPos.width/2,o.top+="bottom"===n.vertical?this.targetPos.height:"top"===n.vertical?0:this.targetPos.height/2,o.left+="right"===i.horizontal?-this.tooltipPos.width:"left"===i.horizontal?0:-this.tooltipPos.width/2,o.top+="bottom"===i.vertical?-this.tooltipPos.height:"top"===i.vertical?0:-this.tooltipPos.height/2,o.left+="center"!==n.horizontal||"center"===i.vertical?"right"===i.horizontal?-a:"left"===i.horizontal?a:0:0,o.top+="center"===n.horizontal||"center"===i.horizontal?"bottom"===i.vertical?-a:"top"===i.vertical?a:0:0,o.left+="center"===n.horizontal&&"center"!==i.vertical?"right"===i.horizontal?s:"left"===i.horizontal?-s:0:0,o.top+="center"!==n.horizontal&&"center"!==i.horizontal?"top"===i.vertical?-r:"bottom"===i.vertical?r:0:0,o.left+="center"!==n.horizontal||"center"===i.vertical?"right"===i.horizontal?-l:"left"===i.horizontal?l:0:0,o.top+="center"===n.horizontal||"center"===i.horizontal?"bottom"===i.vertical?-c:"top"===i.vertical?c:0:0,this.tooltipPos.left=o.left,this.tooltipPos.top=o.top,this.model.collision===ej.Tooltip.Collision.None&&(this.model.isBalloon&&this._adjustArrow(t),this._shadowEffect(this.model.showShadow,t),e(this.tooltip).css({top:o.top+"px",left:o.left+"px",position:"absolute"}))},i.prototype._calcCollision=function(t,i){t=e.extend(!0,{},t);var n=e.extend(!0,{},t),o=this.model.tip.size.height,r=!0,s="body"!=this.model.containment?e(i).offset().left-e(this.model.containment).offset().left:e(i).offset().left,a="body"!=this.model.containment?e(i).offset().top-e(this.model.containment).offset().top:e(i).offset().top,l={topSpace:a,rightSpace:this.containerSize.width-(s+this.targetPos.width),bottomSpace:this.containerSize.height-(a+this.targetPos.height),leftSpace:s,centerRight:this.containerSize.width-(s+this.targetPos.width/2),centerLeft:s+this.targetPos.width/2,centerTop:a+this.targetPos.height/2,centerBottom:this.containerSize.height-(a+this.targetPos.height/2),tooltipWidth:this.tooltipPos.width+o,tooltipHeight:this.tooltipPos.height+o};if(this.model.collision===ej.Tooltip.Collision.Fit)this._collisionFit(t,l);else{for(;r;)(n=this._collisionFlip(n,l)).target.horizontal!=t.target.horizontal||n.target.vertical!=t.target.vertical||n.stem.horizontal!=t.stem.horizontal||n.stem.vertical!=t.stem.vertical?(this._tooltipPosition(n),t=e.extend(!0,{},n)):r=!1;r||(this.model.collision==ej.Tooltip.Collision.FlipFit?this._collisionFit(n,l):(this._adjustArrow(n),this._shadowEffect(this.model.showShadow,n),e(this.tooltip).css({top:this.tooltipPos.top+"px",left:this.tooltipPos.left+"px",position:"absolute"})))}},i.prototype._collisionFlip=function(t,i){var n=e.extend(!0,{},this.tooltipPos),o=e.extend(!0,{},t),r=e(this.model.containment).scrollLeft(),s=e(this.model.containment).scrollTop(),a=this.containerSize.left,l=this.containerSize.top;return(n.left+n.width>a+this.containerSize.width+r||n.left<a)&&("center"!=t.target.horizontal?o.target.horizontal=i.leftSpace>=i.tooltipWidth?"left":i.rightSpace>=i.tooltipWidth?"right":"center":o.stem.horizontal=i.centerLeft>=i.tooltipWidth?"right":i.centerRight>=i.tooltipWidth?"left":"center"),n.top<l&&(o.target.vertical=i.bottomSpace>=i.tooltipHeight?"bottom":"center"),n.top+n.height>this.containerSize.height+s+l&&(o.target.vertical=i.topSpace>=i.tooltipHeight?"top":"center"),(o.target.horizontal!=t.target.horizontal||o.target.vertical!=t.target.vertical)&&(o.stem.horizontal="center"==o.target.horizontal?i.centerLeft>=i.tooltipWidth?"right":i.centerRight>=i.tooltipWidth?"left":"center":"right"==o.target.horizontal?"left":"right"),(o.target.vertical!=t.target.vertical||o.target.horizontal!=t.target.horizontal)&&(o.stem.vertical="center"==o.target.vertical?i.centerTop>=i.tooltipHeight?"bottom":i.centerBottom>=i.tooltipHeight?"top":i.centerTop>i.centerBottom?"bottom":"top":"top"==o.target.vertical?"bottom":"top"),o},i.prototype._collisionFit=function(t,i){var n,o,r,s,a,l,c=e.extend(!0,{},this.tooltipPos),h=!1,d=!1,u=1,p=1,f=e(this.model.containment).scrollLeft();o="body"==this.model.containment?document.documentElement.scrollTop||document.body.scrollTop:e(this.model.containment).scrollTop(),r=this.containerSize.left,s=this.containerSize.top,(c.left<r||c.left+c.width>this.containerSize.width+f+r)&&(u=c.left<r?r:c.left+c.width>this.containerSize.width+f+r?c.left-(c.left+c.width-(this.containerSize.width+r)):1,h=!0),(c.top<s||c.top+c.height>this.containerSize.height+o+s)&&(p=c.top<s?s:c.top+c.height>this.containerSize.height+o+s?c.top-(c.top+c.height-(this.containerSize.height+s)):1,d=!0),e(this.tooltip).css({top:1!=p?p+"px":c.top+"px",left:1!=u?u+"px":c.left+"px",position:"absolute"}),this._adjustArrow(t),n={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:e(this.tip).css("display")},this.tooltipPos.top=p=1!=p?p:c.top,this.tooltipPos.left=u=1!=u?u:c.left,a=e(this.tooltip).width(),l=e(this.tooltip).height(),(h||d&&"none"!=n.display)&&(this.model.isBalloon&&(h&&(this.arrowValue.left=this._horizontalAdjustment(t,i)),d&&(this.arrowValue.top=this._verticalAdjustment(t,i))),this.arrowValue.left==-this.model.tip.size.height||this.arrowValue.left==a||this.arrowValue.top==-this.model.tip.size.height||this.arrowValue.top==l?e(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"block"}):e(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"none"})),this._shadowEffect(this.model.showShadow,t)},i.prototype._horizontalAdjustment=function(t,i){var n,o,r={left:this.arrowValue.left,top:this.arrowValue.top};return e(this.tooltip).css({display:"block"}),t.target.horizontal,n=this.model.tip.size.height,o="center"!=t.target.horizontal&&"left"==t.stem.horizontal?e(this.tip).offset().left:"center"!=t.target.horizontal&&"right"==t.stem.horizontal?e(this.tip).offset().left+n:e(this.tip).offset().left,e(this.tooltip).css({display:"none"}),o>i.leftSpace&&o+n<i.leftSpace+this.targetPos.width||(o>i.leftSpace+this.targetPos.width||o<i.leftSpace)&&(r.left=i.leftSpace+this.targetPos.width/2-parseInt(this.tooltipPos.left.toString())),r.left},i.prototype._verticalAdjustment=function(t,i){var n,o,r={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display};return e(this.tooltip).css({display:"block"}),t.target.horizontal,n=this.model.tip.size.height,o="center"==t.target.horizontal&&"top"==t.stem.vertical?e(this.tip).offset().top:e(this.tip).offset().top+n,e(this.tooltip).css({display:"none"}),o>i.topSpace&&o<i.topSpace+this.targetPos.height||(o<i.topSpace||o+n>i.topSpace+this.targetPos.height)&&(r.top=i.topSpace+this.targetPos.height/2-parseInt(this.tooltipPos.top.toString())),r.top},i.prototype._createHeader=function(){null!=this.model.title&&(ej.isNullOrUndefined(this.tooltipTitle)&&this._createTitle(),ej.isNullOrUndefined(this.tooltipContent)?e(this.tooltipHeader).appendTo(this.tooltipInter).addClass("e-tooltipHeader"):e(this.tooltipHeader).insertBefore(this.tooltipContent).addClass("e-tooltipHeader")),this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&this._iconRender()},i.prototype._hideTooltip=function(){var t;if(this._isHidden=!0,t=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,1==this.model.enabled&&"block"==e(this.tooltip).css("display")){if(this.triggerEvents("beforeClose",{}))return;if(this.model.animation.effect==ej.Tooltip.Effect.Fade?e(this.tooltip).fadeOut(t):this.model.animation.effect==ej.Tooltip.Effect.Slide?e(this.tooltip).slideUp(t):e(this.tooltip).css({display:"none"}),"none"==e(this.tooltip).css("display")&&e(this.tooltip).attr("aria-hidden","true").removeClass("e-customAnimation"),this.triggerEvents("close",{}))return}},i.prototype._showTooltip=function(){var t,i,n,o,r,s;this._isHidden&&(t=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,this._isHidden=!1,"none"==e(this.tooltip).css("display")&&1==this.model.enabled&&(this.model.animation.effect==ej.Tooltip.Effect.Fade?e(this.tooltip).fadeIn(t):this.model.animation.effect==ej.Tooltip.Effect.Slide?e(this.tooltip).slideDown(t):e(this.tooltip).css({display:"block"}),"block"==e(this.tooltip).css("display")&&(i=e(this.tooltip[0]).parents(),n=e("body").children(),e(n).each(function(e,t){i.push(t)}),o=e(this.model.target).parents(),e(o).each(function(e,t){i.push(t)}),!(r=Math.max.apply(r,e.map(i,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))||r<1e4?r=1e4:r+=1,e(this.tooltip).attr("aria-hidden","false").css({zIndex:r}),this.model.animation.effect==ej.Tooltip.Effect.None&&e(this.tooltip).addClass("e-customAnimation"),s=this._getScrollableParents(),this._on(s,"scroll",this._hideTooltip)),this.triggerEvents("open",{})))},i.prototype._getScrollableParents=function(){return e(this.element).parentsUntil("html").filter(function(){return"visible"!=e(this).css("overflow")}).add(e(window))},i.prototype._tooltipAuto=function(){var e=this;this.timer=setTimeout(function(){e._hideTooltip()},e.model.autoCloseTimeout)},i.prototype._beforeOpenTooltip=function(t){this.positionTooltip=e.extend(!0,{},this.model.position.stem),this.positionTarget=e.extend(!0,{},this.model.position.target),this.targetElement=this.element,ej.isNullOrUndefined(this.model.target)||ej.isNullOrUndefined(e(t.currentTarget).attr("data-content"))||(this.model.content=e(t.currentTarget).attr("data-content"),this._setContent(this.model.content))},i.prototype._targetHover=function(e){if(this.isTrack=!0,this.model.enabled)if(this._isHidden||("msie"==ej.browserInfo().name||"edge"==ej.browserInfo().name)&&this.model.associate==ej.Tooltip.Associate.MouseFollow){if(this.tooltip.stop(!0,!0),this.triggerEvents("beforeOpen",{event:e}))return void(this._isCancel=!0);this._isCancel=!1,this._beforeOpenTooltip(e),this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow?(ej.isNullOrUndefined(this.model.target)?this._positionElement(this.element):this._positionElement(e.currentTarget),clearTimeout(this.timer),this._showTooltip(),this.model.closeMode==ej.Tooltip.CloseMode.Auto&&this._tooltipAuto(),"click"==e.type?this.triggerEvents("click",{event:e}):this.triggerEvents("hover",{event:e})):this.isTrack=!0}else ej.isNullOrUndefined(this.model.target)||this._positionElement(e.currentTarget)},i.prototype._onMouseOut=function(){this.model.enabled&&!this._isHidden&&(this.model.closeMode==ej.Tooltip.CloseMode.None&&this._hideTooltip(),clearTimeout(this.mouseTimer)),this.isTrack=!1},i.prototype._onTooltipMouseEnter=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&e(this.tooltip).css({display:"block"})},i.prototype._onTooltipMouseLeave=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&this.model.closeMode==ej.Tooltip.CloseMode.None&&e(this.tooltip).css({display:"none"})},i.prototype._docTouchEndHandler=function(t){e(t.target).closest(".e-tooltip").length||this.model.closeMode!=ej.Tooltip.CloseMode.None||this._hideTooltip()},i.prototype._keyDown=function(e){var t=e.keyCode?e.keyCode:e.which?e.which:e.charCode;if(this.model.enabled&&27===t)e.preventDefault(),this._hideTooltip()},i}(ej.WidgetBase);window.ej.widget("ejTooltip","ej.Tooltip",new t),window.ejTooltip=null}(jQuery),ej.Tooltip.CloseMode={Auto:"auto",None:"none",Sticky:"sticky"},ej.Tooltip.Effect={Slide:"slide",Fade:"fade",None:"none"},ej.Tooltip.Trigger={Hover:"hover",Click:"click",Focus:"focus"},ej.Tooltip.Collision={Flip:"flip",FlipFit:"flipfit",None:"none",Fit:"fit"},ej.Tooltip.Associate={Window:"window",MouseFollow:"mousefollow",MouseEnter:"mouseenter",Target:"target",Axis:"axis"},
/*!
*  filename: ej.uploadbox.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min","./../common/ej.globalize.min","./../common/ej.scroller.min","./ej.tooltip.min","./../common/ej.draggable.min","./ej.dialog.min"],e):e()}(function(){var e,t,n;e=jQuery,(t=Syncfusion).widget("ejUploadbox","ej.Uploadbox",{element:null,_addToPersist:[""],model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-uploadbox",defaults:{buttonText:{browse:"Browse",upload:"Upload",cancel:"Cancel",close:"Close"},width:"100px",height:"35px",htmlAttributes:{},dialogPosition:{X:"",Y:""},dialogText:{title:"Upload Box",name:"Name",size:"Size",status:"Status"},customFileDetails:{title:!0,name:!0,size:!0,status:!0,action:!0},dialogAction:{modal:!1,closeOnComplete:!1,drag:!0,content:null},locale:"en-US",asyncUpload:!0,pushFile:null,enabled:!0,multipleFilesSelection:!0,autoUpload:!1,showFileDetails:!0,fileSize:31457280,extensionsAllow:"",extensionsDeny:"",saveUrl:"",removeUrl:"",uploadName:"",cssClass:"",dropAreaText:"Drop files or click to upload",allowDragAndDrop:!1,showBrowseButton:!0,showRoundedCorner:!0,dropAreaHeight:"100%",dropAreaWidth:"100%",enableRTL:!1,create:null,fileSelect:null,begin:null,beforeSend:null,cancel:null,inProgress:null,success:null,complete:null,remove:null,error:null,destroy:null},dataTypes:{buttonText:"data",dialogText:"data",disbled:"boolean",customFileDetails:"data",pushFile:"data",dialogAction:"data",multipleFilesSelection:"boolean",autoUpload:"boolean",showFileDetails:"boolean",allowDragAndDrop:"boolean",showBrowseButton:"boolean",showRoundedCorner:"boolean",fileSize:"number",extensionsAllow:"string",extensionsDeny:"string",saveUrl:"string",removeUrl:"string",cssClass:"string",enableRTL:"boolean",htmlAttributes:"data"},disable:function(){this._changeState(!1)},enable:function(){this._changeState(!0)},_changeState:function(t){t?e(this.control).removeClass("e-disable"):e(this.control).addClass("e-disable"),this.model.enabled=t,e(this._currentElement).find(".e-uploadinput")[0].disabled=!t,this.diaObj&&(this.diaObj.option("beforeClose",this._onBeforeClose),this.diaObj.setModel({enabled:t,allowDraggable:t}))},refresh:function(){this.diaObj&&(this.diaObj.isOpened()?this.diaObj.close():this._uploadFileListDelete())},_updateLocalConstant:function(){this._localizedLabels=t.getLocalizedConstants("ej.Uploadbox",this.model.locale)},_init:function(){this.s=t.browserInfo(),this._updateLocalConstant(),this._initialize(),this._wireEvents(),this.model.asyncUpload||this._initObjectsSyncUpload(),this._controlStatus(this.model.enabled),"en-US"==this.model.locale?this._buttonText(this.model.buttonText):this._setLocale(),this._roundedCorner(this.model.showRoundedCorner)},_setModel:function(e){for(var t in e){switch(t){case"buttonText":this._buttonText(e[t]);break;case"htmlAttributes":this._addAttr(e[t]);break;case"dialogText":this._dialogText(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"locale":this.model.locale=e[t],this._updateLocalConstant(),this._setLocale();break;case"height":this.model.height=e[t],this._setHeight(this.model.height);break;case"width":this.model.width=e[t],this._setWidth(this.model.width);break;case"dialogPosition":this.model.dialogPosition=e[t],this._dialogPosition();break;case"allowDragAndDrop":this.model.allowDragAndDrop=e[t],this._dragAndDrop();break;case"dropAreaText":this.model.dropAreaText=e[t],this._dropAreaText(this.model.dropAreaText);break;case"showBrowseButton":this.model.showBrowseButton=e[t],this._hideBrowseButton(),this._refreshUploadDialogParent();break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"dropAreaHeight":this.model.dropAreaHeight=e[t],this._setSize();break;case"dropAreaWidth":this.model.dropAreaWidth=e[t],this._setSize();break;case"pushFile":this.model.pushFile=e[t],null!=this.model.pushFile&&"Xhr"==this.UploadType&&this.model.asyncUpload&&(this._files=this.model.pushFile),this._onXhrSelect();break;case"multipleFilesSelection":this.model.multipleFilesSelection=e[t],0==(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&(this.model.multipleFilesSelection?this._currentElement.find(".e-uploadinput").attr("multiple","multiple"):this._currentElement.find(".e-uploadinput").removeAttr("multiple"));break;case"uploadName":this.model.uploadName=e[t],this.inputupload.attr("name",this.model.uploadName),this.refresh();break;case"autoUpload":this.model.autoUpload=e[t];break;case"showFileDetails":this.model.showFileDetails=e[t],this.refresh();break;case"fileSize":this.model.fileSize=e[t];break;case"extensionsAllow":this.model.extensionsAllow=e[t],this._currentElement.find(".e-uploadinput").attr("accept",e[t]);break;case"extensionsDeny":this.model.extensionsDeny=e[t];break;case"saveUrl":this.model.saveUrl=e[t];break;case"removeUrl":this.model.removeUrl=e[t]}this._currentElement=this.model.allowDragAndDrop&&!this.model.showBrowseButton?this.dragWrapper:this.element}},_controlStatus:function(e){1!=e?this.disable():this.enable()},_setRTL:function(e){e?this._currentElement.addClass("e-rtl"):this._currentElement.removeClass("e-rtl"),this.updialog&&this.updialog.ejDialog({enableRTL:e})},_getLocalizedLabels:function(e){var i,n="";return i="browse"==e||"upload"==e||"cancel"==e||"close"==e?"buttonText":"dialogText",this._localizedLabels[e]?n=this._localizedLabels[e]:this._localizedLabels[i][e]?n=this._localizedLabels[i][e]:t.Uploadbox.Locale["en-US"][e]?n=t.Uploadbox.Locale["en-US"][e]:t.Uploadbox.Locale["en-US"][i][e]&&(n=t.Uploadbox.Locale["en-US"][i][e]),n},_setLocale:function(){this._buttonText(this._localizedLabels.buttonText),this._dialogText(this._localizedLabels.dialogText),this._dropAreaText(this._localizedLabels.dropAreaText)},_buttonText:function(t){e.extend(this.model.buttonText,t),this.buttondiv.val(this.model.buttonText.browse),this.updialog&&(this.updialog.find(".e-action-container .e-uploadbtn").html(this.model.buttonText.upload),this.updialog.find(".e-action-container .e-uploadclosebtn").html(this.model.buttonText.cancel))},_dialogText:function(t){e.extend(this.model.dialogText,t),this.diaObj==n||this.diaObj.option("title",this.model.dialogText.title),this.updialog&&(this.updialog.find(".e-head-name").html(this.model.dialogText.name),this.updialog.find(".e-head-size").html(this.model.dialogText.size),this.updialog.find(".e-head-status").html(this.model.dialogText.status))},_destroy:function(){this._currentElement.hasClass("e-uploadbox")&&(this._currentElement.removeClass("e-uploadbox e-widget"),this._currentElement.empty(),e(this.dragWrapper).after(this._currentElement),this.element.css({width:"",height:""}),this._bindResizeHandler(!1),this.dragWrapper.remove())},_setSkin:function(e){this._currentElement.removeClass(this.model.cssClass),this._currentElement.addClass(e),this.diaObj&&this.diaObj.setModel({cssClass:this.model.cssClass}),this.model.allowDragAndDrop&&this.dragWrapper.addClass(e)},_initialize:function(){this.control=this.element[0],this.element.addClass("e-widget "+this.model.cssClass),this.innerdiv=t.buildTag("div.e-selectpart e-select e-box"),this.element.append(this.innerdiv),this.buttondiv=t.buildTag("input.e-inputbtn e-btn#"+this.control.id+"_SelectButton","",{},{type:"button","data-role":"none",value:this._getLocalizedLabels("browse")}),this.inputupload=t.buildTag("input.e-uploadinput","",{},{type:"file","data-role":"none",name:""!=this.model.uploadName?this.model.uploadName:this.control.id}).attr("accept",this.model.extensionsAllow),this.model.multipleFilesSelection&&0==(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&this.inputupload.attr("multiple","multiple"),this.innerdiv.append(this.buttondiv),this.innerdiv.append(this.inputupload),this.model.allowDragAndDrop&&this._dragAndDrop(!0),this._Selector=this.buttondiv[0],this._currentElement=this.model.allowDragAndDrop&&!this.model.showBrowseButton?this.dragWrapper:this.element,this._setRTL(this.model.enableRTL),this._addAttr(this.model.htmlAttributes),this.Uploadframes=[],this.UploadForms=[],this._successFiles=[],this.UploadType=this._isXhrSupported()?"Xhr":"IFrame",""!=this.model.width&&this._setWidth(this.model.width),""!=this.model.height&&this._setHeight(this.model.height),this._hideBrowseButton()},_refreshUploadDialogParent:function(){this.diaObj&&this.diaObj.setModel({target:null!=this.model.dialogAction.content&&""!=this.model.dialogAction.content?this.model.dialogAction.content:!this.model.showBrowseButton&&this.model.allowDragAndDrop?"#"+this.control.id+"_dragWrapper":"#"+this.control.id})},_hideBrowseButton:function(){!this.model.showBrowseButton&&this.model.allowDragAndDrop?(this.element.addClass("e-browse-hide"),this._dropAreaSize()):this.element.hasClass("e-browse-hide")&&(this.element.removeClass("e-browse-hide"),this.element.width(this.model.width),this.element.height(this.model.height))},_setSize:function(){this.model.allowDragAndDrop&&(""!=this.model.dropAreaWidth&&this.dragWrapper.outerWidth(this.model.dropAreaWidth),""!=this.model.dropAreaHeight&&this.dragWrapper.outerHeight(this.model.dropAreaHeight),this.model.showBrowseButton||this._dropAreaSize())},_dropAreaSize:function(){""!=this.model.dropAreaWidth&&this.element.width(this.model.dropAreaWidth),""!=this.model.dropAreaHeight&&this.element.height(this.model.dropAreaHeight)},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.element.addClass(e):"disabled"==t&&"disabled"==e?i.disable():i.element.attr(t,e)})},_dragAndDrop:function(){this.model.allowDragAndDrop?(this.dragWrapper=t.buildTag("div.e-drag-wrapper e-widget-wrapper e-upload-box "+this.model.cssClass+"#"+this.control.id+"_dragWrapper"),this.innerWrapper=t.buildTag("div.e-drag-container"),this._spanTag=t.buildTag("span.e-drag-text").html("en-US"==this.model.locale?this.model.dropAreaText:t.Uploadbox.Locale[this.model.locale].dropAreaText),this.innerWrapper.append(this._spanTag),this.innerWrapper.insertBefore(this.element),this.dragWrapper.insertBefore(this.element),this.innerWrapper.append(this.element),this.dragWrapper.append(this.innerWrapper),this._bindDragEvents(),this._refreshUploadDialogParent(),this._setSize()):(this._refreshUploadDialogParent(),this.element.insertBefore(this.dragWrapper),this.dragWrapper.remove(),this._unBindDragEvents()),this._hideBrowseButton()},_resizeHandler:function(){this.diaObj&&(e(window).width()>750?(e(this.updialog).closest(".e-dialog.e-uploadbox").removeClass("e-mobile-upload"),this.diaObj.setModel({width:this._getDialogContentWidth(),height:"auto"})):(e(this.updialog).closest(".e-dialog.e-uploadbox").addClass("e-mobile-upload"),this.diaObj.setModel({width:250,height:"auto"})),this.diaObj.scroller&&this.diaObj.scroller.setModel({height:"auto"}))},_getDialogContentWidth:function(){var e=0;return this.model.customFileDetails.name&&(e+=200),this.model.customFileDetails.size&&(e+=100),this.model.customFileDetails.status?e+=200:this.model.customFileDetails.action&&(e+=45),e+5},_dropAreaText:function(e){this.model.allowDragAndDrop&&this._spanTag.html(e)},_bindDragEvents:function(){this._on(this.dragWrapper,"dragover",this._onDragOverHandler),this._on(this.dragWrapper,"drop",this._onDropHandler)},_unBindDragEvents:function(){this._off(this.dragWrapper,"dragover",this._onDragOverHandler),this._off(this.dragWrapper,"drop",this._onDropHandler)},_setWidth:function(e){this.element.css("width",e)},_setHeight:function(e){this.element.height(e)},_dialogPosition:function(){if(this.diaObj){if((this.diaObj.model.content=="#"+this.control.id||this.diaObj.model.content=="#"+this.control.id+"_dragWrapper")&&""==this.model.dialogPosition.X&&""==this.model.dialogPosition.Y){var t=parseInt(this.diaObj.wrapper.css("left"))-(this.diaObj.wrapper.outerWidth()-e(this.diaObj.model.content).outerWidth())/2;this.model.dialogPosition.X=parseInt(t)>0?t:parseInt(this.diaObj.wrapper.css("left")),this.model.dialogPosition.Y=parseInt(this.diaObj.wrapper.css("top"))+e(this.diaObj.model.content).outerHeight()}""!=this.model.dialogPosition.X&&""!=this.model.dialogPosition.Y&&this.diaObj.setModel({position:this.model.dialogPosition})}},_roundedCorner:function(e){e?this.innerdiv.addClass("e-corner"):this.innerdiv.hasClass("e-corner")&&this.innerdiv.removeClass("e-corner")},_wireEvents:function(){this._on(this.element,"click",this._disableclickselect),this._on(this.element,"keydown",this._keydownselect),this._bindInputChangeEvent(),this._bindResizeHandler(!0)},_bindResizeHandler:function(t){t?e(window).on("resize",e.proxy(this._resizeHandler,this)):e(window).off("resize",e.proxy(this._resizeHandler,this))},_keydownselect:function(e){this.element.hasClass("e-disable")||13!=e.keyCode||this.diaObj&&this.diaObj.isOpened()||this.element.find(".e-uploadinput").click()},_onDropHandler:function(e){if("msie"===t.browserInfo().name&&"8.0"===t.browserInfo().version||"9.0"===t.browserInfo().version||this._currentElement.hasClass("e-disable"))return!1;e.stopPropagation(),e.preventDefault(),this._files=this._getAllFileInfo(e.originalEvent.dataTransfer.files),this._fileSelect(e)},_onDragOverHandler:function(e){if(this._currentElement.hasClass("e-disable"))return!1;e.stopPropagation(),e.preventDefault()},_disableclickselect:function(e){this._currentElement.hasClass("e-disable")&&e.preventDefault()},_bindInputChangeEvent:function(){this._on(this.inputupload,"change",this._inputValueChange)},_inputValueChange:function(t){return this._files=this._getInputFileInfo(e(t.target)),this._fileSelect(t)},_fileSelect:function(e){if(this._trigger("fileSelect",{files:this._files}))return this._resetFileInput(this._currentElement.find(".e-uploadinput")),!1;this._fileUpload(e)},_fileUpload:function(e){var t=this._isAllowed(this._files);this._files=t.files,this.model.asyncUpload?null!=t.files&&t.files.length>0&&("Xhr"==this.UploadType?this._onXhrSelect(e):this._onSelectIFrame(e),this._resetFileInput(this._currentElement.find(".e-uploadinput"))):t.status&&this._onSelectSyncUpload(e),this._renderTooltip()},__uploadButtonClick:function(t){this._currentElement.hasClass("e-disable")||(this._currentElement.find(".e-uploadbtn"),this._currentElement.find(".e-uploadbtn").hasClass("e-disable")?t.preventDefault():"Xhr"==this.UploadType?this._xhrOnUploadButtonClick(t):this._onUploadButtonClickIFrame(t),e(t.target).attr("disabled","disabled").addClass("e-disable"))},_actionClick:function(t){var i,n;this._currentElement.hasClass("e-disable")||(n=(i=e(t.target)).closest(".e-upload-file"),this._file=e(n).data("file"),i.hasClass("e-delete")?"Xhr"==this.UploadType?this._xhrOnRemove(t,n):this._onRemoveIFrame(t,n):i.hasClass("e-file-cancel")?(this._trigger("cancel",{fileStatus:this._file}),this.updialog.find(".e-file-cancel").hasClass("e-disable")?t.preventDefault():this.model.asyncUpload?(this._removeFile(e(n).data("file")),"Xhr"==this.UploadType?this._xhrOnCancel(t,n):this._onCancelIFrame(t,n)):this._onCancelSyncUpload(t,n)):i.hasClass("e-reload")&&("Xhr"==this.UploadType?this._xhrOnRetry(t,n):this._onRetryIFrame(t,n)))},_removeFileEntry:function(e){e.remove()},_removeFile:function(e){for(var t=[],i=0;i<this._files.length;i++)this._files[i]!=e&&t.push(this._files[i]);this._files=t},_isFileUpload:function(t){return!this.model.customFileDetails.action||e(t).find("div.e-icon").is(".e-file-cancel")},_isXhrSupported:function(){return!("msie"==this.s.name&&parseInt(this.s.version)<9||"safari"==this.s.name&&"chrome"==this.s.name&&"536"==this.s.version)&&"undefined"!=typeof FormData&&"undefined"!=typeof File},_getFileName:function(t){return e.map(this._getAllFileInfo(t),function(e){return e.name}).join(", ")},_getFileSize:function(t){var i=this;return e.map(this._getAllFileInfo(t),function(e){return i._formatSize(e.size)}).join(", ")},_pushFile:function(i,n){var o,r,s,a,l,c,h,d,u,p,f;for(c=e("<div class='e-head-content'></div>"),d=e("<div class='e-file-head e-head-name'>"+this._getLocalizedLabels("name")+"</div>"),u=e("<div class='e-file-head e-head-size'>"+this._getLocalizedLabels("size")+"</div>"),p=e("<div class='e-file-head e-head-status'>"+this._getLocalizedLabels("status")+"</div>"),this.model.customFileDetails.name&&e(d).appendTo(c),this.model.customFileDetails.size&&e(u).appendTo(c),this.model.customFileDetails.status&&e(p).appendTo(c),filedialog=this.updialog,filedialog&&0!=filedialog.length?this.model.showFileDetails&&(this.updialog&&this.updialog.find(".e-uploadbtn").removeAttr("disabled").removeClass("e-disable"),this.diaObj.open()):(this.updialog=t.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:this._getLocalizedLabels("title")}),this.model.allowDragAndDrop&&!this.model.showBrowseButton?(this.dragWrapper.append(this.updialog),DialogContentContainer="#"+this.control.id+"_dragWrapper"):(this.element.append(this.updialog),DialogContentContainer="#"+this.control.id)),o=this.updialog.find(".e-ul"),e(this.updialog.find(".e-head-content"))&&e(this.updialog.find(".e-head-content")).replaceWith(c),0==o.length&&(c.appendTo(this.updialog),o=t.buildTag("ul.e-ul").appendTo(this.updialog)),e(this.updialog).find(".e-file-upload").length>0&&e(this.updialog).find(".e-file-upload").remove(),fileListActions=t.buildTag("div.e-file-upload").appendTo(this.updialog).append(this.model.autoUpload||!this.model.asyncUpload?e(t.buildTag("div.e-action-container")).addClass("sync"):t.buildTag("div.e-action-container")),dialogActions=t.buildTag("button.e-uploadclosebtn e-btn e-select",this._getLocalizedLabels("cancel"),{},{type:"button","data-role":"none"}).appendTo(e(this.updialog).find(".e-action-container")),this.model.showRoundedCorner&&dialogActions.addClass("e-corner"),this._on(dialogActions,"click",this._dialogclose),this._on(dialogActions,"keydown",this._keydownDialogClose),f=null!=this.model.dialogAction.content&&""!=this.model.dialogAction.content?this.model.dialogAction.content:DialogContentContainer,this.updialog.ejDialog({showOnInit:!1,closeIconTooltip:this._getLocalizedLabels("closeToolTip"),minWidth:240,width:e(window).width()<750?250:this._getDialogContentWidth(),height:"auto",cssClass:"e-uploadbox "+this.model.cssClass,close:e.proxy(this._uploadFileListDelete,this),enableRTL:this.model.enableRTL,target:f,enableResize:!1,allowDraggable:this.model.dialogAction.drag,enableModal:!!this.model.asyncUpload&&this.model.dialogAction.modal,showHeader:this.model.customFileDetails.title,showRoundedCorner:this.model.showRoundedCorner}),e(window).width()<750?e(this.updialog).closest(".e-dialog.e-uploadbox").addClass("e-mobile-upload"):e(this.updialog).closest(".e-dialog.e-uploadbox").removeClass("e-mobile-upload"),this.diaObj=this.updialog.data("ejDialog"),""!=this.model.cssClass&&this.diaObj.setModel({cssClass:this.model.cssClass}),this._dialogPosition(),this.model.multipleFilesSelection||this.updialog.find(".e-ul>.e-upload-file").remove(),a=0;a<i.length;a++)r=e("<li class='e-upload-file'></li>").appendTo(o).data(n),addedlist=e("<div class='e-file-list'></div>"),addedfilename=e("<div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+i[a].name+"</span></div>"),h="<div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+this._formatSize(i[a].size)+"</span></div>",addedfilestatus=e("<div class='e-file-percentage e-file-view'><div class='e-file-progress-bar'><div class='e-file-progress-status'></div></div></div>"),addedfileaction=e("<div class='e-action-perform'><div class='e-icon e-file-view'></div></div>"),this.model.customFileDetails.name&&e(addedfilename).appendTo(addedlist),this.model.customFileDetails.size&&(0==this._getFileSize(i[a]).toString().toLowerCase().match("0.0kb").length||null!=i[a].size?e(h).appendTo(addedlist):e(this.updialog).find(".e-head-size").remove()),this.model.customFileDetails.status&&e(addedfilestatus).appendTo(addedlist),this.model.customFileDetails.action&&(e(addedfileaction).appendTo(addedlist),l="cancel",addedlist.find(".e-icon").remove().addClass(l.toString()),s=t.buildTag("div.e-icon e-file-cancel","",{},{"data-content":this._getLocalizedLabels("cancelToolTip")}),addedlist.find(".e-action-perform").append(s),this._on(s,"click",this._actionClick)),e(addedlist).appendTo(r);return this.model.showFileDetails&&this.diaObj.open(),this._buttonText(this.model.buttonText),this._dialogText(this.model.dialogText),r},_keydownDialogClose:function(e){this._currentElement.hasClass("e-disable")||13==e.keyCode&&this._dialogclose()},_pushFileDetails:function(i){var n,o,r,s,a,l,c,h,d,u,p,f,m;return r=e("<div class='e-head-content'></div>"),s=e("<div class='e-file-head e-head-name'>"+this._getLocalizedLabels("name")+"</div>"),a=e("<div class='e-file-head e-head-size'>"+this._getLocalizedLabels("size")+"</div>"),l=e("</div><div class='e-file-head e-head-status'>"+this._getLocalizedLabels("status")+"</div>"),this.model.customFileDetails.name&&e(s).appendTo(r),this.model.customFileDetails.size&&e(a).appendTo(r),this.model.customFileDetails.status&&e(l).appendTo(r),n=this,filedialog=this.updialog,filedialog&&0!=filedialog.length?this.model.showFileDetails&&(DialogContentContainer="#"+this.control.id,this.updialog&&this.updialog.find(".e-uploadbtn").removeAttr("disabled").removeClass("e-disable"),n.diaObj.open()):(this.updialog=t.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:this._getLocalizedLabels("title")}),this.model.allowDragAndDrop&&!this.model.showBrowseButton?(this.dragWrapper.append(this.updialog),DialogContentContainer="#"+this.control.id+"_dragWrapper"):(this.element.append(this.updialog),DialogContentContainer="#"+this.control.id)),p=this.updialog.find(".e-ul"),e(this.updialog.find(".e-head-content"))&&e(this.updialog.find(".e-head-content")).replaceWith(r),0==p.length&&(r.appendTo(this.updialog),p=t.buildTag("ul.e-ul").appendTo(this.updialog)),e(this.updialog).find(".e-file-upload").length>0&&e(this.updialog).find(".e-file-upload").remove(),fileListActions=t.buildTag("div.e-file-upload").appendTo(this.updialog).append(this.model.autoUpload||!this.model.asyncUpload?e(t.buildTag("div.e-action-container")).addClass("sync"):t.buildTag("div.e-action-container")),dialogActions=t.buildTag("button.e-uploadclosebtn e-btn e-select",this._getLocalizedLabels("cancel"),{},{type:"button","data-role":"none"}).appendTo(e(this.updialog).find(".e-action-container")),this.model.showRoundedCorner&&dialogActions.addClass("e-corner"),this._on(dialogActions,"click",this._dialogclose),this.model.multipleFilesSelection||this.updialog.find(".e-ul>.e-upload-file").remove(),f=e("<li class='e-upload-file'></li>").appendTo(p).data("file",i),o=e("<div class='e-file-list'></div>"),c=e("<div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+i.name+"</span></div>"),d=e("<div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+this._formatSize(0)+"\\"+this._formatSize(i.size)+"</span></div>"),h=e("<div class='e-file-percentage e-file-view'><div class='e-file-progress-bar'><div class='e-file-progress-status'></div></div></div>"),u=e("<div class='e-action-perform'><div class='e-icon e-file-view'></div></div></div>"),this.model.customFileDetails.name&&e(c).appendTo(o),this.model.customFileDetails.size&&e(d).appendTo(o),this.model.customFileDetails.status&&e(h).appendTo(o),this.model.customFileDetails.action&&e(u).appendTo(o),e(o).appendTo(f),m=null!=this.model.dialogAction.content&&""!=this.model.dialogAction.content?this.model.dialogAction.content:DialogContentContainer,this.updialog.ejDialog({showOnInit:!1,closeIconTooltip:this._getLocalizedLabels("closeToolTip"),minWidth:240,width:e(window).width()<750?250:this._getDialogContentWidth(),height:"auto",cssClass:"e-uploadbox "+this.model.cssClass,close:e.proxy(this._uploadFileListDelete,this),enableRTL:this.model.enableRTL,target:m,enableResize:!1,allowDraggable:this.model.dialogAction.drag,enableModal:!!this.model.asyncUpload&&this.model.dialogAction.modal,showHeader:this.model.customFileDetails.title,showRoundedCorner:this.model.showRoundedCorner}),e(window).width()<750?e(this.updialog).closest(".e-dialog.e-uploadbox").addClass("e-mobile-upload"):e(this.updialog).closest(".e-dialog.e-uploadbox").removeClass("e-mobile-upload"),n.diaObj=this.updialog.data("ejDialog"),""!=n.model.cssClass&&n.diaObj.setModel({cssClass:this.model.cssClass}),n._dialogPosition(),this.model.showFileDetails&&n.diaObj.open(),this._buttonText(this.model.buttonText),this._dialogText(this.model.dialogText),f},_setProgress:function(t,i,n){var o,r,s;this.model.customFileDetails.status&&e(t).find(".e-file-progress-status").width(i+"%"),this.model.customFileDetails.size&&(o=e(t).find(".e-file-size .e-file-name-txt"),r=this._formatSize(n.loaded),s=this._formatSize(n.total),o.html(r+"\\"+s))},_setAction:function(e,i){var n;this.model.customFileDetails.action&&(e.find(".e-action-perform .e-icon,.e-file-percentage .e-icon").remove().addClass(i.toString()),"cancel"==i?n=t.buildTag("div.e-icon e-file-cancel","",{},{"data-content":this._getLocalizedLabels("cancelToolTip")}):"remove"==i?n=t.buildTag("div.e-icon e-delete","",{},{"data-content":this._getLocalizedLabels("removeToolTip")}):"retry"==i&&(n=t.buildTag("div.e-icon e-reload","",{},{"data-content":this._getLocalizedLabels("retryToolTip")})),e.find(".e-action-perform").append(n),this._on(n,"click",this._actionClick))},_setStatus:function(e,i){if(this.model.customFileDetails.status){var n=t.buildTag("div");"success"==i&&(e.find(".file-status").addClass("e-file-status-success").html("Completed"),e.find(".e-file-percentage").html(""),n.addClass("e-icon e-checkmark").attr("data-content",this._getLocalizedLabels("completedToolTip")),e.find(".e-file-percentage").append(n)),"failed"==i&&(e.find(".file-status").addClass("e-file-status-failed").html("Failed"),e.find(".e-file-percentage").html(""),n.addClass("e-icon e-file-percentage-failed").attr("data-content",this._getLocalizedLabels("failedToolTip")),e.find(".e-file-percentage").append(n)),"progress"==i&&e.find(".file-status").addClass("file-status-inprogress").html("in progress"),"uploading"==i&&(e.find(".file-status").addClass("file-status-inprogress").html("uploading"),e.find(".e-file-percentage").html(""))}},_renderTooltip:function(){t.isNullOrUndefined(this.updialog)||(this.upTooltip=e(this.updialog).ejTooltip({target:".e-file-cancel, .e-delete, .e-reload, .e-checkmark, .e-close, .e-file-percentage-failed",content:" ",isBalloon:!1,showRoundedCorner:this.model.showRoundedCorner,enableRTL:this.model.enableRTL,position:{target:{horizontal:"center",vertical:"bottom"},stem:{horizontal:"left",vertical:"top"}}}).data("ejTooltip"),e(this.upTooltip.tooltip).css({"min-width":"auto"}))},_createInputandBind:function(){var e=t.buildTag("input","",{},{type:"file","data-role":"none"});e.attr("name",""!=this.model.uploadName?this.model.uploadName:this.control.id).attr("autocomplete","off").attr("class","e-uploadinput").attr("accept",this.model.extensionsAllow),this.model.multipleFilesSelection&&0==(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&e.attr("multiple","multiple"),e.appendTo(this.element.find(".e-selectpart")),this.inputupload=e,this._bindInputChangeEvent()},_showUploadButton:function(){var i=this.updialog.find(".e-uploadbtn");0==i.length&&(i=t.buildTag("button.e-uploadbtn e-btn e-select",this._getLocalizedLabels("upload"),{},{type:"button","data-role":"none"}),this.model.showRoundedCorner&&i.addClass("e-corner"),this.updialog.find(".e-action-container").append(i),this._on(i,"click",this.__uploadButtonClick),this._on(i,"keydown",this._keydownUpload),e(i).focus()),this._buttonText(this.model.buttonText)},_keydownUpload:function(e){13==e.keyCode&&this.__uploadButtonClick(e)},_resetFileInput:function(e){var t=e.clone(!1,!1);this._on(t,"change",this._inputValueChange),e.replaceWith(t)},_isAllowed:function(t){var i,n,o,r,s,a,l=this,c=[],h=[],d=!0;return i=this.element.find(".e-uploadinput"),n=this,""!=this.model.extensionsAllow?(r=this.model.extensionsAllow.replace(/\s/g,"").toLowerCase().split(","),e(t).each(function(){-1==e.inArray(this.extension.toLowerCase(),r)?(o={action:"Files Processing",error:l._getLocalizedLabels("allowError").replace("#Extension",r.join(", ")),files:this},n._trigger("error",o),l._resetFileInput(i),d=!1):""!=this.extension&&c.push(this)})):""!=this.model.extensionsDeny?(a=this.model.extensionsDeny.replace(/\s/g,"").toLowerCase().split(","),e(t).each(function(){-1!=e.inArray(this.extension.toLowerCase(),a)?(o={action:"Files Processing",error:l._getLocalizedLabels("denyError").replace("#Extension",a.join(", ")),files:this},n._trigger("error",o),l._resetFileInput(i),d=!1):""!=this.extension&&c.push(this)})):e(t).each(function(){""!=this.extension&&c.push(this)}),""!=this.model.fileSize?(s=this.model.fileSize,e(c).each(function(){this.size>s?(o={action:"Files Processing",error:l._getLocalizedLabels("filedetail").replace("#fileSize",s),files:this},n._trigger("error",o),l._resetFileInput(i),d=!1):h.push(this)})):h=c,{files:h,status:d}},_fileListRemove:function(){fileList=this.updialog.find(".e-upload-file .e-delete"),0==fileList.length&&(this.updialog.find(".e-uploadbtn").attr("disabled","disabled").addClass("e-disable"),this.updialog.ejDialog("close"))},_uploadHide:function(){fileList=this.updialog.find(".e-upload-file .e-file-cancel"),0==fileList.length&&(this.updialog.find(".e-ul").empty(),this.updialog.find(".e-uploadbtn").attr("disabled","disabled").addClass("e-disable"),this.updialog.ejDialog("close"),this.upTooltip.hide())},_onBeforeClose:function(i){t.isNullOrUndefined(i.event)||(i.cancel=!!e(i.event.currentTarget).hasClass("e-disable"))},_dialogclose:function(t){if(!this._currentElement.hasClass("e-disable")){var i,n,o=this.updialog.find(".e-uploadclosebtn");n=this.updialog.find(".e-ul").children().first(),i=e(n).data("file"),o.hasClass("e-disable")?t.preventDefault():(this._uploadFileListDelete(),this.updialog.ejDialog("close")),this._trigger("cancel",{fileStatus:i})}},_uploadFileListDelete:function(){this.updialog.find(".e-ul").empty(),this._currentElement.find(".e-uploadinput").val(""),this._resetFileInput(this._currentElement.find(".e-uploadinput")),this.model.asyncUpload||this._formResetSyncUpload()},_onXhrSelect:function(){var t,i;this._xhrBeforeUpload(this._files),t=this,e.each(t._files,function(n,o){i=e(o).data("filelist"),t._setAction(i,"cancel"),t.model.autoUpload?t._xhrPerformUpload(o):t._showUploadButton()})},_xhrBeforeUpload:function(t){var i,n,o,r;return i=t,n=this,e.each(i,function(t,i){o=n._createFormObjectXhr(i),e(i).data("formobject",o),r=n._pushFileDetails(i),e(i).data("filelist",r)}),i},_xhrPerformUpload:function(t){var i,o,r,s,a;return s=new XMLHttpRequest,o=this,a={files:t},this._trigger("begin",a)?(e(t).data("xhr",s),void o._onRequestError(o,n,t)):(i=this.model.saveUrl,(r=e(t).data("formobject")).append((this.model.uploadName&&""!=this.model.uploadName?this.model.uploadName:this.control.id)+"_data",JSON.stringify(a.data)),e(t).data("xhr",s),s.addEventListener("load",function(e){o._onRequestSuccess(o,e,t)},!1),s.addEventListener("error",function(e){o._onRequestError(o,e,t)},!1),s.upload.addEventListener("progress",function(e){o._onRequestProgress(o,e,t)},!1),s.open("POST",i),a={files:t,xhr:s},this._trigger("beforeSend",a)?(e(t).data("xhr",s),void o._onRequestError(o,n,t)):void s.send(r))},_xhrOnUploadButtonClick:function(){var t;for(t=(this.model.showBrowseButton?this.diaObj.wrapper:this.dragWrapper).find(".e-ul li.e-upload-file"),i=0;i<t.length;i++)e(this),this._isFileUpload(t[i])&&this._xhrPerformUpload(e(t[i]).data("file"))},_xhrOnRemove:function(t,i){var n=e(i).find(".e-file-name").text().toString().split(","),o=this;e.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+n,success:function(){e(i).remove(),o._fileListRemove(),o._trigger("remove",{fileStatus:o._file})}}),this.upTooltip.hide()},_xhrOnCancel:function(t,i){var n;n=e(i).data("file"),e(n).data("xhr")&&e(n).data("xhr").abort(),e(n).data("xhr",null),e(i).data("file",null),e(i).remove(),this._uploadHide()},_xhrOnRetry:function(t,i){if(!this._currentElement.hasClass("e-disable")){var n=e(i).data("file");this._xhrPerformUpload(n)}},_onRequestSuccess:function(t,i,n){var o=e(n).data("xhr");o.status>=200&&o.status<=299?t._onXhrUploadSuccess(t,i,n):t._onRequestError(t,i,n)},_onXhrUploadSuccess:function(t,i,n){var o,r,s,a,l;o=e(n).data("filelist"),r=e(n).data("xhr"),t.model.removeUrl?(t._setAction(o,"remove"),t._setStatus(o,"success")):(o.find(".e-action-perform .e-icon,.e-file-percentage .e-icon").remove(),t._setStatus(o,"success")),e(n).length>0&&(e(o).find(".e-file-progress-status").width("100%"),s=e(n)[0].size,a=this._formatSize(s),e(o).find(".e-file-size .e-file-name-txt").html(a+"\\"+a)),l={files:n,responseText:r.responseText,xhr:r,e:i},this.updialog.find(".e-file-upload .e-uploadclosebtn").html(this.model.buttonText.close).focus(),t._trigger("success",l),this._successFiles.push(n),t._files.length==this._successFiles.length&&(l={files:n,responseText:r.responseText,success:this._successFiles,xhr:r,e:i},t._trigger("complete",l),this._successFiles.length=0,this.model.dialogAction.closeOnComplete&&this._dialogclose())},_onRequestError:function(t,i,n){var o,r,s;o=e(n).data("filelist"),r=e(n).data("xhr"),t._setAction(o,"retry"),t._setStatus(o,"failed"),s={action:"File Processing",error:r.status?r.status+" "+r.statusText:"Unable to reach the server.",files:n,xhr:r,e:i},t._trigger("error",s)},_onRequestProgress:function(t,i,n){var o,r,s;o=Math.round(100*i.loaded/i.total),r=e(n).data("filelist"),t._setProgress(r,o,i),t._setStatus(r,"progress"),s={file:n,percentage:o,e:i},this._trigger("inProgress",s)},_createFormObjectXhr:function(e){var t=new FormData;return t.append(""!=this.model.uploadName?this.model.uploadName:this.control.id,e.rawFile),t},_getInputFileInfo:function(e){var t=e[0];return t.files?this._getAllFileInfo(t.files):[{name:this._GetName(t.value),extension:this._getFileExtensionType(t.value),size:this._getFileSizeinIE(t.value)}]},_getFileSizeinIE:function(e){var t,i;t=null,i=null;try{t=new ActiveXObject("Scripting.FileSystemObject")}catch(e){i=null}return t&&(i=t.getFile(e).size),i},_getFileExtensionType:function(e){return e.match&&e.match(/\.([^\.]+)$/)?e.match(/\.([^\.]+)$/)[0]:""},_getAllFileInfo:function(t){var i=this;return e.map(t,function(e){return i._getFileInfo(e||t)})},_GetName:function(e){var t=e.lastIndexOf("\\");return-1!=t?e.substr(t+1):e},_getFileInfo:function(e){var t=e.name||e.fileName||e;return{name:t,extension:this._getFileExtensionType(t),size:e.size||e.fileSize,rawFile:e}},_formatSize:function(e){var t=-1;if(!e)return"0.0KB";do{e/=1024,t++}while(e>99);return Math.max(e,0).toFixed(1)+["KB","MB","GB","TB","PB","EB"][t]},_onSelectIFrame:function(t){var i,n,o;i=e(t.target),n=this._getInputFileInfo(i),(o=this._beforeUploadIFrame(n)).data("iframe"),this.model.autoUpload?this._performUploadIFrame(o):this._showUploadButton(),this._off(this.inputupload,"change"),this._bindInputChangeEvent()},_onRemoveIFrame:function(t,i){var n,o,r;n=i.data("iframe"),o=e(i).data("file")[0].name,r=this,n?(this._removeFileEntry(i),this.model.removeUrl&&e.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+o,success:function(){r._fileListRemove(),r._trigger("remove",{fileStatus:r._file})}})):(this._removeFileEntry(i),this._trigger("remove",{fileStatus:this._file}))},_onCancelIFrame:function(e,t){var i;this._trigger("cancel",{Status:t}),(i=t.data("iframe"))&&(this._removeFileEntry(t),void 0!==i.stop?i.stop():i.document&&(i.document.execCommand("Stop"),i.contentWindow.location.href=i.contentWindow.location.href),this._processServerResponse(i,"")),this._uploadHide()},_onRetryIFrame:function(e,t){this._performUploadIFrame(t)},_beforeUploadIFrame:function(e){var t,i,n;return t=this._createFrame(this.control.id+"_Iframe"+this.Uploadframes.length),this.Uploadframes.push(t),i=this._createForm(this.model.saveUrl,t[0].id),this._currentElement.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(i),this._createInputandBind(),n=this._pushFile(e,{iframe:t,form:i,file:e}),t.data({filelist:n}),this._setAction(n,"cancel"),n},_performUploadIFrame:function(t){var i,n,o,r;o={files:t},this._trigger("begin",o)?this._failureIframeUpload(t,"File upload has been denied"):(t.data("file"),this._setStatus(t,"uploading"),i=t.data("iframe"),n=t.data("form"),r=e("<input>").attr("name",(this.model.uploadName&&""!=this.model.uploadName?this.model.uploadName:this.control.id)+"_data").attr("type","hidden").val(JSON.stringify(o.data)),n.append(r),i.appendTo(document.body),n.appendTo(document.body),this._on(i,"load",this._removeFramesIFrame),n.submit())},_onUploadButtonClickIFrame:function(){var t,i;e(".e-ul li.e-upload-file",(t=this).updialog).each(function(){i=e(this),t._isFileUpload(i)&&t._performUploadIFrame(i)})},_removeFramesIFrame:function(t){var i,n,o;o=(i=e(t.target)).data("filelist");try{n=e.trim(i.context.contentDocument.body.innerText.replace(/\n|\r/g," "))}catch(t){n="Server Error trying to get server response: "+t}"Server Error"!=n.substring(0,12)&&0!=n.indexOf("HTTP Error")?(this._processServerResponse(i,n),this._setIframeProgress(o,100,t),this._setStatus(o,"progress"),this._successIframeUpload(o,n)):this._failureIframeUpload(o,n)},_setIframeProgress:function(t,i){e(t).find(".e-file-progress-status").width(i+"%")},_successIframeUpload:function(e,t){fileEntry=e.data("file"),this.model.removeUrl?(this._setAction(e,"remove"),this._setStatus(e,"success")):(e.find(".file-action").remove(),this._setStatus(e,"success")),args={files:fileEntry,responseText:t},this.updialog.find(".e-file-upload .e-uploadclosebtn").html(this.model.buttonText.close).focus(),this._trigger("success",args),this._successFiles.push(fileEntry),e.length==this._successFiles.length&&(args={files:fileEntry,responseText:t,success:this._successFiles},this._trigger("complete",args),this._successFiles.length=0,this.model.dialogAction.closeOnComplete&&this._dialogclose())},_failureIframeUpload:function(e,t){fileEntry=e.data("file"),this.model.saveUrl&&"File upload has been denied"!=t?(this._setAction(e,"retry"),this._setStatus(e,"failed")):(e.find(".file-action").remove(),this._setStatus(e,"failed")),args=0==t.indexOf("HTTP Error")?{files:fileEntry,responseText:t,status:t.match(/\d+/).toString()}:{files:fileEntry,responseText:t},this._trigger("error",args)},_processServerResponse:function(t){var i;i=e(document.body).find("form[target='"+e(t).attr("id")+"']"),setTimeout(function(){i.remove(),t.remove()},0)},_createDivBlock:function(e){return t.buildTag("div."+e)},_createForm:function(e,i){return t.buildTag("form","",{},{enctype:"multipart/form-data",method:"POST",action:e,target:i})},_createFrame:function(e){return t.buildTag("iframe#"+e,"",{display:"none"},{name:e})},_createInput:function(e){return t.buildTag("input","",{},{type:"file",name:e,"data-role":"none"})},_initObjectsSyncUpload:function(){this._currentElement.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data"),this._wireEventsSyncUpload()},_wireEventsSyncUpload:function(){var t=this._currentElement.closest("form")[0];this._on(e(t),"submit",this._formSubmitSyncUpload),this._on(e(t),"reset",this._formResetSyncUpload)},_onSelectSyncUpload:function(t){var i,n;i=e(t.target),n=e(".e-selectpart",this.control),this._currentElement.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(n),this._createInputandBind(),this._pushFile(this._files,{file:this._files,Input:i})},_onCancelSyncUpload:function(e,t){var i=t.data("Input");t.data("file",null),t.data("Input",null),t.remove(),i.remove(),this._uploadHide()},_formSubmitSyncUpload:function(){var t,i;(t=e(".e-uploadinput",this.control)).attr("name",""),i=""!=this.model.uploadName?this.model.uploadName:this.control.id,setTimeout(function(){t.attr("name",i)},0)},_formResetSyncUpload:function(){e(".e-selectpart",this.control).children('input[type="file"]').each(function(){e(this).hasClass("e-uploadinput")||e(this).remove()})}}),t.Uploadbox.Locale=t.Uploadbox.Locale||{},t.Uploadbox.Locale.default=t.Uploadbox.Locale["en-US"]={buttonText:{upload:"Upload",browse:"Browse",cancel:"Cancel",close:"Close"},dialogText:{title:"Upload Box",name:"Name",size:"Size",status:"Status"},dropAreaText:"Drop files or click to upload",filedetail:"The selected file size is too large.  Please select a file within #fileSize",denyError:"Files with #Extension extensions are not allowed.",allowError:"Only files with #Extension extensions are allowed.",cancelToolTip:"Cancel",removeToolTip:"Remove",retryToolTip:"Retry",completedToolTip:"Completed",failedToolTip:"Failed",closeToolTip:"Close"}}),$.ajaxSetup({beforeSend:function(e){setXSRFRequestHeader(e)}});
