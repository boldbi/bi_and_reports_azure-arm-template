!function(e){"use strict";function t(e){if(!y(e))return Xi;b(e.objectMaxDepth)&&(Xi.objectMaxDepth=i(e.objectMaxDepth)?e.objectMaxDepth:NaN),b(e.urlErrorParamsEnabled)&&D(e.urlErrorParamsEnabled)&&(Xi.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function i(e){return C(e)&&0<e}function n(e,t){return t=t||Error,function(){var i,n=arguments[0];for(i="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.8.3/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){var s;i=i+(1==n?"?":"&")+"p"+(n-1)+"=",i+=encodeURIComponent(s="function"==typeof(s=arguments[n])?s.toString().replace(/ \{[\s\S]*$/,""):void 0===s?"undefined":"string"!=typeof s?JSON.stringify(s):s)}return new t(i)}}function s(e){if(null==e||O(e))return!1;if(S(e)||$(e)||Qi&&e instanceof Qi)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(0<=t&&t-1 in e||"function"==typeof e.item)}function r(e,t,i){var n,o;if(e)if(k(e))for(n in e)"prototype"!==n&&"length"!==n&&"name"!==n&&e.hasOwnProperty(n)&&t.call(i,e[n],n,e);else if(S(e)||s(e)){var a="object"!=typeof e;for(n=0,o=e.length;n<o;n++)(a||n in e)&&t.call(i,e[n],n,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(w(e))for(n in e)t.call(i,e[n],n,e);else if("function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e);else for(n in e)en.call(e,n)&&t.call(i,e[n],n,e);return e}function o(e,t,i){for(var n=Object.keys(e).sort(),s=0;s<n.length;s++)t.call(i,e[n[s]],n[s]);return n}function a(e){return function(t,i){e(i,t)}}function l(){return++cn}function h(e,t,i){for(var n=e.$$hashKey,s=0,r=t.length;s<r;++s){var o=t[s];if(y(o)||k(o))for(var a=Object.keys(o),l=0,d=a.length;l<d;l++){var c=a[l],u=o[c];i&&y(u)?x(u)?e[c]=new Date(u.valueOf()):T(u)?e[c]=new RegExp(u):u.nodeName?e[c]=u.cloneNode(!0):L(u)?e[c]=u.clone():"__proto__"!==c&&(y(e[c])||(e[c]=S(u)?[]:{}),h(e[c],[u],!0)):e[c]=u}}return n?e.$$hashKey=n:delete e.$$hashKey,e}function d(e){return h(e,sn.call(arguments,1),!1)}function c(e){return h(e,sn.call(arguments,1),!0)}function u(e){return parseInt(e,10)}function p(e,t){return d(Object.create(e),t)}function m(){}function f(e){return e}function g(e){return function(){return e}}function v(e){return k(e.toString)&&e.toString!==an}function _(e){return void 0===e}function b(e){return void 0!==e}function y(e){return null!==e&&"object"==typeof e}function w(e){return null!==e&&"object"==typeof e&&!ln(e)}function $(e){return"string"==typeof e}function C(e){return"number"==typeof e}function x(e){return"[object Date]"===an.call(e)}function S(e){return Array.isArray(e)||e instanceof Array}function I(e){switch(an.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function k(e){return"function"==typeof e}function T(e){return"[object RegExp]"===an.call(e)}function O(e){return e&&e.window===e}function A(e){return e&&e.$evalAsync&&e.$watch}function D(e){return"boolean"==typeof e}function L(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){return tn(e.nodeName||e[0]&&e[0].nodeName)}function j(e,t){var i=e.indexOf(t);return 0<=i&&e.splice(i,1),i}function M(e,t,n){function s(e,t,i){if(0>--i)return"...";var n,s=t.$$hashKey;if(S(e)){n=0;for(var r=e.length;n<r;n++)t.push(o(e[n],i))}else if(w(e))for(n in e)t[n]=o(e[n],i);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=o(e[n],i));else for(n in e)en.call(e,n)&&(t[n]=o(e[n],i));return s?t.$$hashKey=s:delete t.$$hashKey,t}function o(e,t){if(!y(e))return e;if(-1!==(i=l.indexOf(e)))return h[i];if(O(e)||A(e))throw hn("cpws");var i=!1,n=a(e);return void 0===n&&(n=S(e)?[]:Object.create(ln(e)),i=!0),l.push(e),h.push(n),i?s(e,n,t):n}function a(e){switch(an.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(o(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return(t=new RegExp(e.source,e.toString().match(/[^/]*$/)[0])).lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(k(e.cloneNode))return e.cloneNode(!0)}var l=[],h=[];if(n=i(n)?n:NaN,t){if(function(e){return e&&C(e.length)&&fn.test(an.call(e))}(t)||"[object ArrayBuffer]"===an.call(t))throw hn("cpta");if(e===t)throw hn("cpi");return S(t)?t.length=0:r(t,function(e,i){"$$hashKey"!==i&&delete t[i]}),l.push(e),h.push(t),s(e,t,n)}return o(e,n)}function E(e,t){return e===t||e!=e&&t!=t}function N(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var i,n=typeof e;if(n===typeof t&&"object"===n){if(!S(e)){if(x(e))return!!x(t)&&E(e.getTime(),t.getTime());if(T(e))return!!T(t)&&e.toString()===t.toString();if(A(e)||A(t)||O(e)||O(t)||S(t)||x(t)||T(t))return!1;for(i in n=ae(),e)if("$"!==i.charAt(0)&&!k(e[i])){if(!N(e[i],t[i]))return!1;n[i]=!0}for(i in t)if(!(i in n)&&"$"!==i.charAt(0)&&b(t[i])&&!k(t[i]))return!1;return!0}if(!S(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!N(e[i],t[i]))return!1;return!0}}return!1}function R(e,t,i){return e.concat(sn.call(t,i))}function U(e,t){var i=2<arguments.length?sn.call(arguments,2):[];return!k(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(e,R(i,arguments,0)):t.apply(e,i)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(t,i){var n=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=void 0:O(i)?n="$WINDOW":i&&e.document===i?n="$DOCUMENT":A(i)&&(n="$SCOPE"),n}function z(e,t){if(!_(e))return C(t)||(t=t?2:null),JSON.stringify(e,B,t)}function V(e){return $(e)?JSON.parse(e):e}function H(e,t){e=e.replace(yn,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return un(i)?t:i}function W(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function F(e,t,i){i=i?-1:1;var n=e.getTimezoneOffset();return W(e,i*((t=H(t,n))-n))}function q(e){e=Qi(e).clone().empty();var t=Qi("<div></div>").append(e).html();try{return e[0].nodeType===Sn?tn(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+tn(t)})}catch(e){return tn(t)}}function G(e){try{return decodeURIComponent(e)}catch(e){}}function K(e){var t={};return r((e||"").split("&"),function(e){var i,n,s;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(i=e.indexOf("="))&&(n=e.substring(0,i),s=e.substring(i+1)),b(n=G(n))&&(s=!b(s)||G(s),en.call(t,n)?S(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s))}),t}function Q(e){return J(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function J(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Y(t,i){var n,s,o={};r(wn,function(e){e+="app",!n&&t.hasAttribute&&t.hasAttribute(e)&&(n=t,s=t.getAttribute(e))}),r(wn,function(e){var i;e+="app",!n&&(i=t.querySelector("["+e.replace(":","\\:")+"]"))&&(n=i,s=i.getAttribute(e))}),n&&($n?(o.strictDi=null!==function(e,t){var i,n,s=wn.length;for(n=0;n<s;++n)if(i=wn[n]+t,$(i=e.getAttribute(i)))return i;return null}(n,"strict-di"),i(n,s?[s]:[],o)):e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function X(t,i,n){y(n)||(n={}),n=d({strictDi:!1},n);var s=function(){if((t=Qi(t)).injector()){var s=t[0]===e.document?"document":q(t);throw hn("btstrpd",s.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(i=i||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),n.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng"),(s=Be(i,n.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,i,n){e.$apply(function(){t.data("$injector",n),i(t)(e)})}]),s},o=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(n.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!a.test(e.name))return s();e.name=e.name.replace(a,""),dn.resumeBootstrap=function(e){return r(e,function(e){i.push(e)}),s()},k(dn.resumeDeferredBootstrap)&&dn.resumeDeferredBootstrap()}function Z(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ee(e){if(!(e=dn.element(e).injector()))throw hn("test");return e.get("$$testability")}function te(e,t){return t=t||"_",e.replace(Cn,function(e,i){return(i?t:"")+e.toLowerCase()})}function ie(){fe.legacyXHTMLReplacement=!0}function ne(e,t,i){if(!e)throw hn("areq",t||"?",i||"required");return e}function se(e,t,i){return i&&S(e)&&(e=e[e.length-1]),ne(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function re(e,t){if("hasOwnProperty"===e)throw hn("badname",t)}function oe(e){for(var t,i=e[0],n=e[e.length-1],s=1;i!==n&&(i=i.nextSibling);s++)(t||e[s]!==i)&&(t||(t=Qi(sn.call(e,0,s))),t.push(i));return t||e}function ae(){return Object.create(null)}function le(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!v(e)||S(e)||x(e)?z(e):e.toString()}return e}function he(e,t){if(S(e)){t=t||[];for(var i=0,n=e.length;i<n;i++)t[i]=e[i]}else if(y(e))for(i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function de(e,t){var n=[];return i(t)&&(e=dn.copy(e,null,t)),JSON.stringify(e,function(e,t){if(y(t=B(e,t))){if(0<=n.indexOf(t))return"...";n.push(t)}return t})}function ce(e,t){return t.toUpperCase()}function ue(e){return e.replace(On,ce)}function pe(e){return 1===(e=e.nodeType)||!e||9===e}function me(t,i){var n,s,o,a,l=i.createDocumentFragment(),h=[];if(jn.test(t)){if(n=l.appendChild(i.createElement("div")),s=(Mn.exec(t)||["",""])[1].toLowerCase(),o=fe.legacyXHTMLReplacement?t.replace(En,"<$1></$2>"):t,10>Ki)for(s=Un[s]||Un._default,n.innerHTML=s[1]+o+s[2],a=s[0];a--;)n=n.firstChild;else{for(a=(s=Nn[s]||[]).length;-1<--a;)n.appendChild(e.document.createElement(s[a])),n=n.firstChild;n.innerHTML=o}h=R(h,n.childNodes),(n=l.firstChild).textContent=""}else h.push(i.createTextNode(t));return l.textContent="",l.innerHTML="",r(h,function(e){l.appendChild(e)}),l}function fe(t){if(t instanceof fe)return t;var i,n;if($(t)&&(t=gn(t),i=!0),!(this instanceof fe)){if(i&&"<"!==t.charAt(0))throw Ln("nosel");return new fe(t)}i?(i=e.document,ke(this,t=(n=Pn.exec(t))?[i.createElement(n[1])]:(n=me(t,i))?n.childNodes:[])):k(t)?Le(t):ke(this,t)}function ge(e){return e.cloneNode(!0)}function ve(e,t){!t&&pe(e)&&Qi.cleanData([e]),e.querySelectorAll&&Qi.cleanData(e.querySelectorAll("*"))}function _e(e){for(var t in e)return!1;return!0}function be(e){var t,i=e.ng339,n=(t=i&&kn[i])&&t.events;(t=t&&t.data)&&!_e(t)||n&&!_e(n)||(delete kn[i],e.ng339=void 0)}function ye(e,t,i,n){if(b(n))throw Ln("offargs");var s=(n=$e(e))&&n.events,o=n&&n.handle;if(o){if(t){var a=function(t){var n=s[t];b(i)&&j(n||[],i),b(i)&&n&&0<n.length||(e.removeEventListener(t,o),delete s[t])};r(t.split(" "),function(e){a(e),Dn[e]&&a(Dn[e])})}else for(t in s)"$destroy"!==t&&e.removeEventListener(t,o),delete s[t];be(e)}}function we(e,t){var i=e.ng339;(i=i&&kn[i])&&(t?delete i.data[t]:i.data={},be(e))}function $e(e,t){var i=(i=e.ng339)&&kn[i];return t&&!i&&(e.ng339=i=++Tn,i=kn[i]={events:{},data:{},handle:void 0}),i}function Ce(e,t,i){if(pe(e)){var n,s=b(i),r=!s&&t&&!y(t),o=!t;if(e=(e=$e(e,!r))&&e.data,s)e[ue(t)]=i;else{if(o)return e;if(r)return e&&e[ue(t)];for(n in t)e[ue(n)]=t[n]}}}function xe(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function Se(e,t){if(t&&e.setAttribute){var i=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=i;r(t.split(" "),function(e){e=gn(e),n=n.replace(" "+e+" "," ")}),n!==i&&e.setAttribute("class",gn(n))}}function Ie(e,t){if(t&&e.setAttribute){var i=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=i;r(t.split(" "),function(e){e=gn(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),n!==i&&e.setAttribute("class",gn(n))}}function ke(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var i=t.length;if("number"==typeof i&&t.window!==t){if(i)for(var n=0;n<i;n++)e[e.length++]=t[n]}else e[e.length++]=t}}function Te(e,t){return Oe(e,"$"+(t||"ngController")+"Controller")}function Oe(e,t,i){for(9===e.nodeType&&(e=e.documentElement),t=S(t)?t:[t];e;){for(var n=0,s=t.length;n<s;n++)if(b(i=Qi.data(e,t[n])))return i;e=e.parentNode||11===e.nodeType&&e.host}}function Ae(e){for(ve(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function De(e,t){t||ve(e);var i=e.parentNode;i&&i.removeChild(e)}function Le(t){function i(){e.document.removeEventListener("DOMContentLoaded",i),e.removeEventListener("load",i),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",i),e.addEventListener("load",i))}function Pe(e,t){var i=Wn[t.toLowerCase()];return i&&Fn[P(e)]&&i}function je(e,t,i){i.call(e,t)}function Me(e,t,i){var n=t.relatedTarget;n&&(n===e||Vn.call(e,n))||i.call(e,t)}function Ee(){this.$get=function(){return d(fe,{hasClass:function(e,t){return e.attr&&(e=e[0]),xe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ie(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Se(e,t)}})}}function Ne(e,t){var i=e&&e.$$hashKey;return i?("function"==typeof i&&(i=e.$$hashKey()),i):"function"===(i=typeof e)||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||l)():i+":"+e}function Re(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function Ue(e){return(e=Function.prototype.toString.call(e).replace(es,"")).match(Jn)||e.match(Yn)}function Be(e,t){function i(e){return function(t,i){if(!y(t))return e(t,i);r(t,a(e))}}function n(e,t){if(re(e,"service"),(k(t)||S(t))&&(t=m.instantiate(t)),!t.$get)throw ts("pget",e);return p[e+"Provider"]=t}function s(e,t){return function(){var i=b.invoke(t,this);if(_(i))throw ts("undef",e);return i}}function o(e,t,i){return n(e,{$get:!1!==i?s(e,t):t})}function l(e){ne(_(e)||S(e),"modulesToLoad","not an array");var t,i=[];return r(e,function(e){function n(e){var t,i;for(t=0,i=e.length;t<i;t++){var n=e[t],s=m.get(n[0]);s[n[1]].apply(s,n[2])}}if(!u.get(e)){u.set(e,!0);try{$(e)?(t=Yi(e),b.modules[e]=t,i=i.concat(l(t.requires)).concat(t._runBlocks),n(t._invokeQueue),n(t._configBlocks)):k(e)||S(e)?i.push(m.invoke(e)):se(e,"module")}catch(t){throw S(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ts("modulerr",e,t.stack||t.message||t)}}}),i}function h(e,i){function n(t,n){if(e.hasOwnProperty(t)){if(e[t]===d)throw ts("cdep",t+" <- "+c.join(" <- "));return e[t]}try{return c.unshift(t),e[t]=d,e[t]=i(t,n),e[t]}catch(i){throw e[t]===d&&delete e[t],i}finally{c.shift()}}function s(e,i,s){for(var r=[],o=0,a=(e=Be.$$annotate(e,t,s)).length;o<a;o++){var l=e[o];if("string"!=typeof l)throw ts("itkn",l);r.push(i&&i.hasOwnProperty(l)?i[l]:n(l,s))}return r}return{invoke:function(e,t,i,n){if("string"==typeof i&&(n=i,i=null),i=s(e,i,n),S(e)&&(e=e[e.length-1]),n=e,Ki||"function"!=typeof n)n=!1;else{var r=n.$$ngIsClass;D(r)||(r=n.$$ngIsClass=/^class\b/.test(Function.prototype.toString.call(n))),n=r}return n?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)},instantiate:function(e,t,i){var n=S(e)?e[e.length-1]:e;return(e=s(e,t,i)).unshift(null),new(Function.prototype.bind.apply(n,e))},get:n,annotate:Be.$$annotate,has:function(t){return p.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},c=[],u=new Kn,p={$provide:{provider:i(n),factory:i(o),service:i(function(e,t){return o(e,["$injector",function(e){return e.instantiate(t)}])}),value:i(function(e,t){return o(e,g(t),!1)}),constant:i(function(e,t){re(e,"constant"),p[e]=t,f[e]=t}),decorator:function(e,t){var i=m.get(e+"Provider"),n=i.$get;i.$get=function(){var e=b.invoke(n,i);return b.invoke(t,null,{$delegate:e})}}}},m=p.$injector=h(p,function(e,t){throw dn.isString(t)&&c.push(t),ts("unpr",c.join(" <- "))}),f={},v=h(f,function(e,t){var i=m.get(e+"Provider",t);return b.invoke(i.$get,i,void 0,e)}),b=v;p.$injectorProvider={$get:g(v)},b.modules=m.modules=ae();var w=l(e);return(b=v.get("$injector")).strictDi=t,r(w,function(e){e&&b.invoke(e)}),b.loadNewModules=function(e){r(l(e),function(e){e&&b.invoke(e)})},b}function ze(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(i,n,s){function r(e){var t;e?(e.scrollIntoView(),k(t=o.yOffset)?t=t():L(t)?(t=t[0],t="fixed"!==i.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom):C(t)||(t=0),t&&(e=e.getBoundingClientRect().top,i.scrollBy(0,e-t))):i.scrollTo(0,0)}function o(e){var t;(e=$(e)?e:C(e)?e.toString():n.hash())?(t=a.getElementById(e))||(t=function(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===P(e))return t=e,!0}),t}(a.getElementsByName(e)))?r(t):"top"===e&&r(null):r(null)}var a=i.document;return t&&s.$watch(function(){return n.hash()},function(t,i){t===i&&""===t||function(t,i){"complete"===(i=i||e).document.readyState?i.setTimeout(t):Qi(i).on("load",t)}(function(){s.$evalAsync(o)})}),o}]}function Ve(e,t){return e||t?e?t?(S(e)&&(e=e.join(" ")),S(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function He(e){return y(e)?e:{}}function We(e,t,i,n,s){function o(){$=null,l()}function a(){N(v=_(v=C())?null:v,I)&&(v=I),b=I=v}function l(){var e=b;a(),y===h.url()&&e===v||(y=h.url(),b=v,r(x,function(e){e(h.url(),v)}))}var h=this,d=e.location,c=e.history,u=e.setTimeout,p=e.clearTimeout,f={},g=s(i);h.isMock=!1,h.$$completeOutstandingRequest=g.completeTask,h.$$incOutstandingRequestCount=g.incTaskCount,h.notifyWhenNoOutstandingRequests=g.notifyWhenNoPendingTasks;var v,b,y=d.href,w=t.find("base"),$=null,C=n.history?function(){try{return c.state}catch(e){}}:m;a(),h.url=function(t,i,s){if(_(s)&&(s=null),d!==e.location&&(d=e.location),c!==e.history&&(c=e.history),t){var r=b===s;if(t=ii(t).href,y===t&&(!n.history||r))return h;var o=y&&wt(y)===wt(t);return y=t,b=s,!n.history||o&&r?(o||($=t),i?d.replace(t):o?(i=d,r=(s=t).indexOf("#"),s=-1===r?"":s.substr(r),i.hash=s):d.href=t,d.href!==t&&($=t)):(c[i?"replaceState":"pushState"](s,"",t),a()),$&&($=t),h}return($||d.href).replace(/#$/,"")},h.state=function(){return v};var x=[],S=!1,I=null;h.onUrlChange=function(t){return S||(n.history&&Qi(e).on("popstate",o),Qi(e).on("hashchange",o),S=!0),x.push(t),t},h.$$applicationDestroyed=function(){Qi(e).off("hashchange popstate",o)},h.$$checkUrlChange=l,h.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},h.defer=function(e,t,i){var n;return t=t||0,i=i||g.DEFAULT_TASK_TYPE,g.incTaskCount(i),n=u(function(){delete f[n],g.completeTask(e,i)},t),f[n]=i,n},h.defer.cancel=function(e){if(f.hasOwnProperty(e)){var t=f[e];return delete f[e],p(e),g.completeTask(m,t),!0}return!1}}function Fe(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,i,n,s){return new We(e,n,t,i,s)}]}function qe(){this.$get=function(){function e(e,i){function s(e){e!==u&&(p?p===e&&(p=e.n):p=e,r(e.n,e.p),r(e,u),(u=e).n=null)}function r(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw n("$cacheFactory")("iid",e);var o=0,a=d({},i,{id:e}),l=ae(),h=i&&i.capacity||Number.MAX_VALUE,c=ae(),u=null,p=null;return t[e]={put:function(e,t){if(!_(t)){if(h<Number.MAX_VALUE)s(c[e]||(c[e]={key:e}));return e in l||o++,l[e]=t,o>h&&this.remove(p.key),t}},get:function(e){if(h<Number.MAX_VALUE){var t=c[e];if(!t)return;s(t)}return l[e]},remove:function(e){if(h<Number.MAX_VALUE){var t=c[e];if(!t)return;t===u&&(u=t.p),t===p&&(p=t.n),r(t.n,t.p),delete c[e]}e in l&&(delete l[e],o--)},removeAll:function(){l=ae(),o=0,c=ae(),u=p=null},destroy:function(){c=a=l=null,delete t[e]},info:function(){return d({},a,{size:o})}}}var t={};return e.info=function(){var e={};return r(t,function(t,i){e[i]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ge(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ke(t,i){function n(e,t,i){var n=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,s=ae();return r(e,function(e,r){if((e=e.trim())in w)s[r]=w[e];else{var o=e.match(n);if(!o)throw hs("iscp",t,r,e,i?"controller bindings definition":"isolate scope definition");s[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r},o[4]&&(w[e]=s[r])}}),s}function s(e){var t=e.require||e.controller&&e.name;return!S(t)&&y(t)&&r(t,function(e,i){var n=e.match(u);e.substring(n[0].length)||(t[i]=n[0]+i)}),t}var o={},l=/^\s*directive:\s*([\w-]+)\s+(.*)$/,h=/(([\w-]+)(?::([^;]+))?;?)/,c=function(e){var t,i={};for(e=e.split(","),t=0;t<e.length;t++)i[e[t]]=!0;return i}("ngSrc,ngSrcset,src,srcset"),u=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/,w=ae();this.directive=function e(i,n){return ne(i,"name"),re(i,"directive"),$(i)?(function(e){var t=e.charAt(0);if(!t||t!==tn(t))throw hs("baddir",e);if(e!==e.trim())throw hs("baddir",e)}(i),ne(n,"directiveFactory"),o.hasOwnProperty(i)||(o[i]=[],t.factory(i+"Directive",["$injector","$exceptionHandler",function(e,t){var n=[];return r(o[i],function(r,o){try{var a=e.invoke(r);k(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||i,a.require=s(a);var l=a,h=a.restrict;if(h&&(!$(h)||!/[EACM]/.test(h)))throw hs("badrestrict",h,i);l.restrict=h||"EA",a.$$moduleName=r.$$moduleName,n.push(a)}catch(e){t(e)}}),n}])),o[i].push(n)):r(i,a(e)),this},this.component=function e(t,i){function n(e){function t(t){return k(t)||S(t)?function(i,n){return e.invoke(t,this,{$element:i,$attrs:n})}:t}var n=i.template||i.templateUrl?i.template:"",o={controller:s,controllerAs:Ze(i.controller)||i.controllerAs||"$ctrl",template:t(n),templateUrl:t(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return r(i,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}if(!$(t))return r(t,a(U(this,e))),this;var s=i.controller||function(){};return r(i,function(e,t){"$"===t.charAt(0)&&(n[t]=e,k(s)&&(s[t]=e))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationTrustedUrlList=function(e){return b(e)?(i.aHrefSanitizationTrustedUrlList(e),this):i.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return b(e)?(i.imgSrcSanitizationTrustedUrlList(e),this):i.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var C=!0;this.debugInfoEnabled=function(e){return b(e)?(C=e,this):C};var x=!1;this.strictComponentBindingsEnabled=function(e){return b(e)?(x=e,this):x};var T=10;this.onChangesTtl=function(e){return arguments.length?(T=e,this):T};var O=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(O=e,this):O};var L=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(L=e,this):L};var M=ae();this.addPropertySecurityContext=function(e,t,i){var n=e.toLowerCase()+"|"+t.toLowerCase();if(n in M&&M[n]!==i)throw hs("ctxoverride",e,t,M[n],i);return M[n]=i,this},function(){function e(e,t){r(t,function(t){M[t.toLowerCase()]=e})}e(Us.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Us.CSS,["*|style"]),e(Us.URL,"area|href area|ping a|href a|ping blockquote|cite body|background del|cite input|src ins|cite q|cite".split(" ")),e(Us.MEDIA_URL,"audio|src img|src img|srcset source|src source|srcset track|src video|src video|poster".split(" ")),e(Us.RESOURCE_URL,"*|formAction applet|code applet|codebase base|href embed|src frame|src form|action head|profile html|manifest iframe|src link|href media|src object|codebase object|data script|src".split(" "))}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,i,s,a,g,b,w,R,B){function z(){try{if(! --Ae)throw Se=void 0,hs("infchng",T);w.$apply(function(){for(var e=0,t=Se.length;e<t;++e)try{Se[e]()}catch(e){s(e)}Se=void 0})}finally{Ae++}}function V(e,t){if(!e)return e;if(!$(e))throw hs("srcset",t,e.toString());for(var i="",n=gn(e),s=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,r=(s=/\s/.test(n)?s:/(,)/,n=n.split(s),s=Math.floor(n.length/2),0);r<s;r++){var o=2*r;i=(i=i+R.getTrustedMediaUrl(gn(n[o])))+" "+gn(n[o+1])}return n=gn(n[2*r]).split(/\s/),i+=R.getTrustedMediaUrl(gn(n[0])),2===n.length&&(i+=" "+gn(n[1])),i}function H(e,t){if(t){var i,n,s,r=Object.keys(t);for(i=0,n=r.length;i<n;i++)this[s=r[i]]=t[s]}else this.$attr={};this.$$element=e}function W(e,t){try{e.addClass(t)}catch(e){}}function F(e,t,i,n,s){e instanceof Qi||(e=Qi(e));var r=G(e,t,e,i,n,s);F.$$addScopeClass(e);var o=null;return function(t,i,n){if(!e)throw hs("multilink");ne(t,"scope"),s&&s.needsNewScope&&(t=t.$parent.$new());var a=(n=n||{}).parentBoundTranscludeFn,l=n.transcludeControllers;if(n=n.futureParentElement,a&&a.$$boundTransclude&&(a=a.$$boundTransclude),o||(o=(n=n&&n[0])&&"foreignobject"!==P(n)&&an.call(n).match(/SVG/)?"svg":"html"),n="html"!==o?Qi(fe(o,Qi("<div></div>").append(e).html())):i?Hn.clone.call(e):e,l)for(var h in l)n.data("$"+h+"Controller",l[h].instance);return F.$$addScopeInfo(n,t),i&&i(n,t),r&&r(t,n,n,a),i||(e=r=null),n}}function G(e,t,i,n,s,r){for(var o,a,l,h,d,c=[],u=S(e)||e instanceof Qi,p=0;p<e.length;p++)o=new H,11===Ki&&K(e,p,u),(r=(a=J(e[p],[],o,0===p?n:void 0,s)).length?ie(a,e[p],o,t,i,null,[],[],r):null)&&r.scope&&F.$$addScopeClass(o.$$element),o=r&&r.terminal||!(l=e[p].childNodes)||!l.length?null:G(l,r?(r.transcludeOnThisElement||!r.templateOnThisElement)&&r.transclude:t),(r||o)&&(c.push(p,r,o),h=!0,d=d||r),r=null;return h?function(e,i,n,s){var r,o,a,l,h,u;if(d)for(u=Array(i.length),l=0;l<c.length;l+=3)u[r=c[l]]=i[r];else u=i;for(l=0,h=c.length;l<h;)o=u[c[l++]],i=c[l++],r=c[l++],i?(i.scope?(a=e.$new(),F.$$addScopeInfo(Qi(o),a)):a=e,i(r,a,o,n,i.transcludeOnThisElement?Q(e,i.transclude,s):!i.templateOnThisElement&&s?s:!s&&t?Q(e,t):null)):r&&r(e,o.childNodes,void 0,s)}:null}function K(e,t,i){var n,s=e[t],r=s.parentNode;if(s.nodeType===Sn)for(;(n=r?s.nextSibling:e[t+1])&&n.nodeType===Sn;)s.nodeValue+=n.nodeValue,n.parentNode&&n.parentNode.removeChild(n),i&&n===e[t+1]&&e.splice(t+1,1)}function Q(e,t,i){function n(n,s,r,o,a){return n||((n=e.$new(!1,a)).$$transcluded=!0),t(n,s,{parentBoundTranscludeFn:i,transcludeControllers:r,futureParentElement:o})}var s,r=n.$$slots=ae();for(s in t.$$slots)r[s]=t.$$slots[s]?Q(e,t.$$slots[s],i):null;return n}function J(e,t,i,n,r){var o,a=i.$attr;switch(e.nodeType){case 1:le(t,Je(o=P(e)),"E",n,r);for(var l,d,c,u,p,m=e.attributes,f=0,v=m&&m.length;f<v;f++){var _,b=!1,C=!1,x=!1,S=!1,I=!1;d=(l=m[f]).name,u=l.value,(p=(c=Je(d.toLowerCase())).match(Me))?(x="Attr"===p[1],S="Prop"===p[1],I="On"===p[1],d=d.replace(cs,"").toLowerCase().substr(4+p[1].length).replace(/_(.)/g,function(e,t){return t.toUpperCase()})):(_=c.match(Ee))&&he(_[1])&&(b=d,C=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),S||I?(i[c]=u,a[c]=l.name,S?_e(e,t,c,d):t.push(zi(g,w,s,c,d,!1))):(a[c=Je(d.toLowerCase())]=d,!x&&i.hasOwnProperty(c)||(i[c]=u,Pe(e,c)&&(i[c]=!0)),be(e,t,u,c,x),le(t,c,"A",n,r,b,C))}if("input"===o&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Oe)break;if(y(a=e.className)&&(a=a.animVal),$(a)&&""!==a)for(;e=h.exec(a);)le(t,c=Je(e[2]),"C",n,r)&&(i[c]=gn(e[3])),a=a.substr(e.index+e[0].length);break;case Sn:me(t,e.nodeValue);break;case 8:if(!Te)break;Y(e,t,i,n,r)}return t.sort(ue),t}function Y(e,t,i,n,s){try{var r=l.exec(e.nodeValue);if(r){var o=Je(r[1]);le(t,o,"M",n,s)&&(i[o]=gn(r[2]))}}catch(e){}}function X(e,t,i){var n=[],s=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw hs("uterdir",t,i);1===e.nodeType&&(e.hasAttribute(t)&&s++,e.hasAttribute(i)&&s--),n.push(e),e=e.nextSibling}while(0<s);else n.push(e);return Qi(n)}function Z(e,t,i){return function(n,s,r,o,a){return s=X(s[0],t,i),e(n,s,r,o,a)}}function ee(e,t,i,n,s,r){var o;return e?F(t,i,n,s,r):function(){return o||(o=F(t,i,n,s,r),t=i=r=null),o.apply(this,arguments)}}function ie(t,i,n,o,a,l,h,c,u){function p(e,t,i,n){e&&(i&&(e=Z(e,i,n)),e.require=f.require,e.directiveName=g,(I===f||f.$$isolateScope)&&(e=we(e,{isolateScope:!0})),h.push(e)),t&&(i&&(t=Z(t,i,n)),t.require=f.require,t.directiveName=g,(I===f||f.$$isolateScope)&&(t=we(t,{isolateScope:!0})),c.push(t))}function m(e,t,o,a,l){var u,p,m,f,g,v,b,w;for(u in i===o?(a=n,w=n.$$element):a=new H(w=Qi(o),n),g=t,I?f=t.$new(!0):C&&(g=t.$parent),l&&(b=function(e,t,i,n){var s;if(A(e)||(n=i,i=t,t=e,e=void 0),j&&(s=v),i||(i=j?w.parent():w),!n)return l(e,t,s,i,O);var r=l.$$slots[n];if(r)return r(e,t,s,i,O);if(_(r))throw hs("noslot",n,q(w))},b.$$boundTransclude=l,b.isSlotFilled=function(e){return!!l.$$slots[e]}),x&&(v=re(w,a,b,x,f,t,I)),I&&(F.$$addScopeInfo(w,f,!0,!(T&&(T===I||T===I.$$originalDirective))),F.$$addScopeClass(w,!0),f.$$isolateBindings=I.$$isolateBindings,(p=xe(t,a,f,f.$$isolateBindings,I)).removeWatches&&f.$on("$destroy",p.removeWatches)),v){p=x[u],m=v[u];var $=p.$$bindings.bindToController;m.instance=m(),w.data("$"+p.name+"Controller",m.instance),m.bindingInfo=xe(g,a,m.instance,$,p)}for(r(x,function(e,t){var i=e.require;e.bindToController&&!S(i)&&y(i)&&d(v[t].instance,se(t,i,w,v))}),r(v,function(e){var t=e.instance;if(k(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){s(e)}if(k(t.$onInit))try{t.$onInit()}catch(e){s(e)}k(t.$doCheck)&&(g.$watch(function(){t.$doCheck()}),t.$doCheck()),k(t.$onDestroy)&&g.$on("$destroy",function(){t.$onDestroy()})}),u=0,p=h.length;u<p;u++)$e(m=h[u],m.isolateScope?f:t,w,a,m.require&&se(m.directiveName,m.require,w,v),b);var O=t;for(I&&(I.template||null===I.templateUrl)&&(O=f),e&&e(O,o.childNodes,void 0,l),u=c.length-1;0<=u;u--)$e(m=c[u],m.isolateScope?f:t,w,a,m.require&&se(m.directiveName,m.require,w,v),b);r(v,function(e){k((e=e.instance).$postLink)&&e.$postLink()})}u=u||{};for(var f,g,v,b,w,$=-Number.MAX_VALUE,C=u.newScopeDirective,x=u.controllerDirectives,I=u.newIsolateScopeDirective,T=u.templateDirective,O=u.nonTlbTranscludeDirective,D=!1,L=!1,j=u.hasElementTranscludeDirective,M=n.$$element=Qi(i),E=o,N=!1,R=!1,B=0,z=t.length;B<z;B++){var V=(f=t[B]).$$start,W=f.$$end;if(V&&(M=X(i,V,W)),v=void 0,$>f.priority)break;if((w=f.scope)&&(f.templateUrl||(y(w)?(pe("new/isolated scope",I||C,f,M),I=f):pe("new/isolated scope",I,f,M)),C=C||f),g=f.name,!N&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(w=B+1;N=t[w++];)if(N.transclude&&!N.$$tlb||N.replace&&(N.templateUrl||N.template)){R=!0;break}N=!0}if(!f.templateUrl&&f.controller&&(x=x||ae(),pe("'"+g+"' controller",x[g],f,M),x[g]=f),w=f.transclude)if(D=!0,f.$$tlb||(pe("transclusion",O,f,M),O=f),"element"===w)j=!0,$=f.priority,v=M,M=n.$$element=Qi(F.$$createComment(g,n[g])),i=M[0],ye(a,sn.call(v,0),i),E=ee(R,v,o,$,l&&l.name,{nonTlbTranscludeDirective:O});else{var G=ae();if(y(w)){v=e.document.createDocumentFragment();var K=ae(),Q=ae();for(var Y in r(w,function(e,t){var i="?"===e.charAt(0);e=i?e.substring(1):e,K[e]=t,G[t]=null,Q[t]=i}),r(M.contents(),function(t){var i=K[Je(P(t))];i?(Q[i]=!0,G[i]=G[i]||e.document.createDocumentFragment(),G[i].appendChild(t)):v.appendChild(t)}),r(Q,function(e,t){if(!e)throw hs("reqslot",t)}),G)G[Y]&&(E=Qi(G[Y].childNodes),G[Y]=ee(R,E,o));v=Qi(v.childNodes)}else v=Qi(ge(i)).contents();M.empty(),(E=ee(R,v,o,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope})).$$slots=G}if(f.template)if(L=!0,pe("template",T,f,M),T=f,w=k(f.template)?f.template(M,n):f.template,w=je(w),f.replace){if(l=f,v=jn.test(w)?Xe(fe(f.templateNamespace,gn(w))):[],i=v[0],1!==v.length||1!==i.nodeType)throw hs("tplrt",g,"");ye(a,M,i),w=J(i,[],z={$attr:{}});var te=t.splice(B+1,t.length-(B+1));(I||C)&&oe(w,I,C),t=t.concat(w).concat(te),de(n,z),z=t.length}else M.html(w);if(f.templateUrl)L=!0,pe("template",T,f,M),T=f,f.replace&&(l=f),m=ce(t.splice(B,t.length-B),M,n,a,D&&E,h,c,{controllerDirectives:x,newScopeDirective:C!==f&&C,newIsolateScopeDirective:I,templateDirective:T,nonTlbTranscludeDirective:O}),z=t.length;else if(f.compile)try{b=f.compile(M,n,E);var ie=f.$$originalDirective||f;k(b)?p(null,U(ie,b),V,W):b&&p(U(ie,b.pre),U(ie,b.post),V,W)}catch(e){s(e,q(M))}f.terminal&&(m.terminal=!0,$=Math.max($,f.priority))}return m.scope=C&&!0===C.scope,m.transcludeOnThisElement=D,m.templateOnThisElement=L,m.transclude=E,u.hasElementTranscludeDirective=j,m}function se(e,t,i,n){var s;if($(t)){var o=t.match(u);t=t.substring(o[0].length);var a=o[1]||o[3];o="?"===o[2];if("^^"===a?i=i.parent():s=(s=n&&n[t])&&s.instance,!s){var l="$"+t+"Controller";s="^^"===a&&i[0]&&9===i[0].nodeType?null:a?i.inheritedData(l):i.data(l)}if(!s&&!o)throw hs("ctreq",t,e)}else if(S(t))for(s=[],a=0,o=t.length;a<o;a++)s[a]=se(e,t[a],i,n);else y(t)&&(s={},r(t,function(t,r){s[r]=se(e,t,i,n)}));return s||null}function re(e,t,i,n,s,r,o){var a,l=ae();for(a in n){var h=n[a],d={$scope:h===o||h.$$isolateScope?s:r,$element:e,$attrs:t,$transclude:i},c=h.controller;"@"===c&&(c=t[h.name]),d=b(c,d,!0,h.controllerAs),l[h.name]=d,e.data("$"+h.name+"Controller",d.instance)}return l}function oe(e,t,i){for(var n=0,s=e.length;n<s;n++)e[n]=p(e[n],{$$isolateScope:t,$$newScope:i})}function le(e,i,s,r,a,l,h){if(i===a)return null;var d=null;if(o.hasOwnProperty(i))for(var c=0,u=(a=t.get(i+"Directive")).length;c<u;c++)if(i=a[c],(_(r)||r>i.priority)&&-1!==i.restrict.indexOf(s)){if(l&&(i=p(i,{$$start:l,$$end:h})),!i.$$bindings){var m=d=i,f=i.name,g={isolateScope:null,bindToController:null};if(y(m.scope)&&(!0===m.bindToController?(g.bindToController=n(m.scope,f,!0),g.isolateScope={}):g.isolateScope=n(m.scope,f,!1)),y(m.bindToController)&&(g.bindToController=n(m.bindToController,f,!0)),g.bindToController&&!m.controller)throw hs("noctrl",f);y((d=d.$$bindings=g).isolateScope)&&(i.$$isolateBindings=d.isolateScope)}e.push(i),d=i}return d}function he(e){if(o.hasOwnProperty(e))for(var i=t.get(e+"Directive"),n=0,s=i.length;n<s;n++)if((e=i[n]).multiElement)return!0;return!1}function de(e,t){var i=t.$attr,n=e.$attr;r(e,function(n,s){"$"!==s.charAt(0)&&(t[s]&&t[s]!==n&&(n=n.length?n+("style"===s?";":" ")+t[s]:t[s]),e.$set(s,n,!0,i[s]))}),r(t,function(t,s){e.hasOwnProperty(s)||"$"===s.charAt(0)||(e[s]=t,"class"!==s&&"style"!==s&&(n[s]=i[s]))})}function ce(e,t,i,n,o,l,h,d){var c,u,m=[],f=t[0],g=e.shift(),v=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),_=k(g.templateUrl)?g.templateUrl(t,i):g.templateUrl,b=g.templateNamespace;return t.empty(),a(_).then(function(s){var a,p;if(s=je(s),g.replace){if(s=jn.test(s)?Xe(fe(b,gn(s))):[],a=s[0],1!==s.length||1!==a.nodeType)throw hs("tplrt",g.name,_);s={$attr:{}},ye(n,t,a);var w=J(a,[],s);y(g.scope)&&oe(w,!0),e=w.concat(e),de(i,s)}else a=f,t.html(s);for(e.unshift(v),c=ie(e,a,i,o,t,g,l,h,d),r(n,function(e,i){e===a&&(n[i]=t[0])}),u=G(t[0].childNodes,o);m.length;){s=m.shift(),p=m.shift();var $=m.shift(),C=m.shift();w=t[0];if(!s.$$destroyed){if(p!==f){var x=p.className;d.hasElementTranscludeDirective&&g.replace||(w=ge(a)),ye($,Qi(p),w),W(Qi(w),x)}p=c.transcludeOnThisElement?Q(s,c.transclude,C):C,c(u,s,w,n,p)}}m=null}).catch(function(e){I(e)&&s(e)}),function(e,t,i,n,s){e=s,t.$$destroyed||(m?m.push(t,i,n,e):(c.transcludeOnThisElement&&(e=Q(t,c.transclude,s)),c(u,t,i,n,e)))}}function ue(e,t){var i=t.priority-e.priority;return 0!==i?i:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function pe(e,t,i,n){function s(e){return e?" (module: "+e+")":""}if(t)throw hs("multidir",t.name,s(t.$$moduleName),i.name,s(i.$$moduleName),e,q(n))}function me(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=!!(e=e.parent()).length;return t&&F.$$addBindingClass(e),function(e,i){var s=i.parent();t||F.$$addBindingClass(s),F.$$addBindingInfo(s,n.expressions),e.$watch(n,function(e){i[0].nodeValue=e})}}})}function fe(t,i){switch(t=tn(t||"html")){case"svg":case"math":var n=e.document.createElement("div");return n.innerHTML="<"+t+">"+i+"</"+t+">",n.childNodes[0].childNodes;default:return i}}function ve(e){return V(R.valueOf(e),"ng-prop-srcset")}function _e(e,t,i,n){if(v.test(n))throw hs("nodomevents");var s=function(e,t){var i=t.toLowerCase();return M[e+"|"+i]||M["*|"+i]}(e=P(e),n),r=f;"srcset"!==n||"img"!==e&&"source"!==e?s&&(r=R.getTrusted.bind(R,s)):r=ve,t.push({priority:100,compile:function(e,t){var s=g(t[i]),o=g(t[i],function(e){return R.valueOf(e)});return{pre:function(e,t){function i(){var i=s(e);t[0][n]=r(i)}i(),e.$watch(o,i)}}}})}function be(e,t,n,s,r){var o=P(e),a=function(e,t){return"srcdoc"===t?R.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?R.RESOURCE_URL:R.MEDIA_URL:"xlinkHref"===t?"image"===e?R.MEDIA_URL:"a"===e?R.URL:R.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?R.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:R.URL}(o,s),l=c[s]||r,h=i(n,!r,a,l);if(h){if("multiple"===s&&"select"===o)throw hs("selmulti",q(e));if(v.test(s))throw hs("nodomevents");t.push({priority:100,compile:function(){return{pre:function(e,t,r){t=r.$$observers||(r.$$observers=ae());var o=r[s];o!==n&&(h=o&&i(o,!0,a,l),n=o),h&&(r[s]=h(e),(t[s]||(t[s]=[])).$$inter=!0,(r.$$observers&&r.$$observers[s].$$scope||e).$watch(h,function(e,t){"class"===s&&e!==t?r.$updateClass(e,t):r.$set(s,e)}))}}}})}}function ye(t,i,n){var s,r,o=i[0],a=i.length,l=o.parentNode;if(t)for(s=0,r=t.length;s<r;s++)if(t[s]===o){t[s++]=n,r=s+a-1;for(var h=t.length;s<h;s++,r++)r<h?t[s]=t[r]:delete t[s];t.length-=a-1,t.context===o&&(t.context=n);break}for(l&&l.replaceChild(n,o),t=e.document.createDocumentFragment(),s=0;s<a;s++)t.appendChild(i[s]);for(Qi.hasData(o)&&(Qi.data(n,Qi.data(o)),Qi(o).off("$destroy")),Qi.cleanData(t.querySelectorAll("*")),s=1;s<a;s++)delete i[s];i[0]=n,i.length=1}function we(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function $e(e,t,i,n,r,o){try{e(t,i,n,r,o)}catch(e){s(e,q(i))}}function Ce(e,t){if(x)throw hs("missingattr",e,t)}function xe(e,t,n,s,o){function a(t,i,s){k(n.$onChanges)&&!E(i,s)&&(Se||(e.$$postDigest(z),Se=[]),h||(h={},Se.push(l)),h[t]&&(s=h[t].previousValue),h[t]=new Qe(s,i))}function l(){n.$onChanges(h),h=void 0}var h,d=[],c={};return r(s,function(s,r){var l,h,u,p,f=s.attrName,v=s.optional;switch(s.mode){case"@":v||en.call(t,f)||(Ce(f,o.name),n[r]=t[f]=void 0),v=t.$observe(f,function(e){($(e)||D(e))&&(a(r,e,n[r]),n[r]=e)}),t.$$observers[f].$$scope=e,$(l=t[f])?n[r]=i(l)(e):D(l)&&(n[r]=l),c[r]=new Qe(ds,n[r]),d.push(v);break;case"=":if(!en.call(t,f)){if(v)break;Ce(f,o.name),t[f]=void 0}if(v&&!t[f])break;h=g(t[f]),p=h.literal?N:E,u=h.assign||function(){throw l=n[r]=h(e),hs("nonassign",t[f],f,o.name)},l=n[r]=h(e),v=function(t){return p(t,n[r])||(p(t,l)?u(e,t=n[r]):n[r]=t),l=t},v.$stateful=!0,v=s.collection?e.$watchCollection(t[f],v):e.$watch(g(t[f],v),null,h.literal),d.push(v);break;case"<":if(!en.call(t,f)){if(v)break;Ce(f,o.name),t[f]=void 0}if(v&&!t[f])break;var _=(h=g(t[f])).literal,b=n[r]=h(e);c[r]=new Qe(ds,n[r]),v=e[s.collection?"$watchCollection":"$watch"](h,function(e,t){if(t===e){if(t===b||_&&N(t,b))return;t=b}a(r,e,t),n[r]=e}),d.push(v);break;case"&":if(v||en.call(t,f)||Ce(f,o.name),(h=t.hasOwnProperty(f)?g(t[f]):m)===m&&v)break;n[r]=function(t){return h(e,t)}}}),{initialChanges:c,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var Se,Ie=/^\w/,ke=e.document.createElement("div"),Te=O,Oe=L,Ae=T;H.prototype={$normalize:Je,$addClass:function(e){e&&0<e.length&&B.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&B.removeClass(this.$$element,e)},$updateClass:function(e,t){var i=Ye(e,t);i&&i.length&&B.addClass(this.$$element,i),(i=Ye(t,e))&&i.length&&B.removeClass(this.$$element,i)},$set:function(e,t,i,n){var o=Pe(this.$$element[0],e),a=qn[e],l=e;o?(this.$$element.prop(e,t),n=o):a&&(this[a]=t,l=a),this[e]=t,n?this.$attr[e]=n:(n=this.$attr[e])||(this.$attr[e]=n=te(e,"-")),"img"===P(this.$$element)&&"srcset"===e&&(this[e]=t=V(t,"$set('srcset', value)")),!1!==i&&(null===t||_(t)?this.$$element.removeAttr(n):Ie.test(n)?o&&!1===t?this.$$element.removeAttr(n):this.$$element.attr(n,t):function(e,t,i){ke.innerHTML="<span "+t+">";var n=(t=ke.firstChild.attributes)[0];t.removeNamedItem(n.name),n.value=i,e.attributes.setNamedItem(n)}(this.$$element[0],n,t)),(e=this.$$observers)&&r(e[l],function(e){try{e(t)}catch(e){s(e)}})},$observe:function(e,t){var i=this,n=i.$$observers||(i.$$observers=ae()),s=n[e]||(n[e]=[]);return s.push(t),w.$evalAsync(function(){s.$$inter||!i.hasOwnProperty(e)||_(i[e])||t(i[e])}),function(){j(s,t)}}};var De=i.startSymbol(),Le=i.endSymbol(),je="{{"===De&&"}}"===Le?f:function(e){return e.replace(/\{\{/g,De).replace(/}}/g,Le)},Me=/^ng(Attr|Prop|On)([A-Z].*)$/,Ee=/^(.+)Start$/;return F.$$addBindingInfo=C?function(e,t){var i=e.data("$binding")||[];S(t)?i=i.concat(t):i.push(t),e.data("$binding",i)}:m,F.$$addBindingClass=C?function(e){W(e,"ng-binding")}:m,F.$$addScopeInfo=C?function(e,t,i,n){e.data(i?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:m,F.$$addScopeClass=C?function(e,t){W(e,t?"ng-isolate-scope":"ng-scope")}:m,F.$$createComment=function(t,i){var n="";return C&&(n=" "+(t||"")+": ",i&&(n+=i+" ")),e.document.createComment(n)},F}]}function Qe(e,t){this.previousValue=e,this.currentValue=t}function Je(e){return e.replace(cs,"").replace(us,function(e,t,i){return i?t.toUpperCase():t})}function Ye(e,t){var i="",n=e.split(/\s+/),s=t.split(/\s+/),r=0;e:for(;r<n.length;r++){for(var o=n[r],a=0;a<s.length;a++)if(o===s[a])continue e;i+=(0<i.length?" ":"")+o}return i}function Xe(e){var t=(e=Qi(e)).length;if(1>=t)return e;for(;t--;){var i=e[t];(8===i.nodeType||i.nodeType===Sn&&""===i.nodeValue.trim())&&rn.call(e,t,1)}return e}function Ze(e,t){if(t&&$(t))return t;if($(e)){var i=ms.exec(e);if(i)return i[3]}}function et(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,i){re(t,"controller"),y(t)?d(e,t):e[t]=i},this.$get=["$injector",function(t){function i(e,t,i,s){if(!e||!y(e.$scope))throw n("$controller")("noscp",s,t);e.$scope[t]=i}return function(n,s,r,o){var a,l,h;if(r=!0===r,o&&$(o)&&(h=o),$(n)){if(!(o=n.match(ms)))throw ps("ctrlfmt",n);if(l=o[1],h=h||o[3],n=e.hasOwnProperty(l)?e[l]:function(e,t,i){if(!t)return e;for(var n,s=e,r=(t=t.split(".")).length,o=0;o<r;o++)n=t[o],e&&(e=(s=e)[n]);return!i&&k(e)?U(s,e):e}(s.$scope,l,!0),!n)throw ps("ctrlreg",l);se(n,l,!0)}return r?(r=(S(n)?n[n.length-1]:n).prototype,a=Object.create(r||null),h&&i(s,h,a,l||n.name),d(function(){var e=t.invoke(n,a,s,l);return e!==a&&(y(e)||k(e))&&(a=e,h&&i(s,h,a,l||n.name)),a},{instance:a,identifier:h})):(a=t.instantiate(n,s,l),h&&i(s,h,a,l||n.name),a)}}]}function tt(){this.$get=["$window",function(e){return Qi(e.document)}]}function it(){this.$get=["$document","$rootScope",function(e,t){function i(){s=n.hidden}var n=e[0],s=n&&n.hidden;return e.on("visibilitychange",i),t.$on("$destroy",function(){e.off("visibilitychange",i)}),function(){return s}}]}function nt(){this.$get=["$log",function(e){return function(t,i){e.error.apply(e,arguments)}}]}function st(e){return y(e)?x(e)?e.toISOString():z(e):e}function rt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return o(e,function(e,i){null===e||_(e)||k(e)||(S(e)?r(e,function(e){t.push(J(i)+"="+J(st(e)))}):t.push(J(i)+"="+J(st(e))))}),t.join("&")}}}function ot(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(i,n,s){S(i)?r(i,function(t,i){e(t,n+"["+(y(t)?i:"")+"]")}):y(i)&&!x(i)?o(i,function(t,i){e(t,n+(s?"":"[")+i+(s?"":"]"))}):(k(i)&&(i=i()),t.push(J(n)+"="+(null==i?"":J(st(i)))))}(e,"",!0),t.join("&")}}}function at(e,t){if($(e)){var i,n,s=e.replace(ys,"").trim();if(s)if((n=i=(i=t("Content-Type"))&&0===i.indexOf(gs))||(n=(n=s.match(_s))&&bs[n[0]].test(s)),n)try{e=V(s)}catch(t){if(!i)return e;throw ws("baddata",e,t)}}return e}function lt(e){var t,i=ae();return $(e)?r(e.split("\n"),function(e){t=e.indexOf(":");var n=tn(gn(e.substr(0,t)));e=gn(e.substr(t+1)),n&&(i[n]=i[n]?i[n]+", "+e:e)}):y(e)&&r(e,function(e,t){var n=tn(t),s=gn(e);n&&(i[n]=i[n]?i[n]+", "+s:s)}),i}function ht(e){var t;return function(i){return t||(t=lt(e)),i?(void 0===(i=t[tn(i)])&&(i=null),i):t}}function dt(e,t,i,n){return k(n)?n(e,t,i):(r(n,function(n){e=n(e,t,i)}),e)}function ct(){var e=this.defaults={transformResponse:[at],transformRequest:[function(e){return y(e)&&"[object File]"!==an.call(e)&&"[object Blob]"!==an.call(e)&&"[object FormData]"!==an.call(e)?z(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:he(vs),put:he(vs),patch:he(vs)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return b(e)?(t=!!e,this):t};var i=this.interceptors=[],s=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,a,l,h,c,u,p,f){function g(t){function i(e,t){for(var i=0,n=t.length;i<n;){var s=t[i++],r=t[i++];e=e.then(s,r)}return t.length=0,e}function s(e){var t=d({},e);return t.data=dt(e.data,e.headers,e.status,a.transformResponse),200<=(e=e.status)&&300>e?t:u.reject(t)}if(!y(t))throw n("$http")("badreq",t);if(!$(f.valueOf(t.url)))throw n("$http")("badreq",t.url);var a=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);a.headers=function(t){var i,n,s,o=e.headers,a=d({},t.headers);o=d({},o.common,o[tn(t.method)]);e:for(i in o){for(s in n=tn(i),a)if(tn(s)===n)continue e;a[i]=o[i]}return function(e,t){var i,n={};return r(e,function(e,s){k(e)?null!=(i=e(t))&&(n[s]=i):n[s]=e}),n}(a,he(t))}(t),a.method=nn(a.method),a.paramSerializer=$(a.paramSerializer)?p.get(a.paramSerializer):a.paramSerializer,o.$$incOutstandingRequestCount("$http");var l=[],h=[];return t=u.resolve(a),r(C,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&h.push(e.response,e.responseError)}),t=(t=i(t,l)).then(function(t){var i=t.headers,n=dt(t.data,ht(i),void 0,t.transformRequest);return _(n)&&r(i,function(e,t){"content-type"===tn(t)&&delete i[t]}),_(t.withCredentials)&&!_(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,n).then(s,s)}),(t=i(t,h)).finally(function(){o.$$completeOutstandingRequest(m,"$http")})}function v(i,n){function s(e){if(e){var i={};return r(e,function(e,n){i[n]=function(i){function n(){e(i)}t?c.$applyAsync(n):c.$$phase?n():c.$apply(n)}}),i}}function o(e,t,n,s,r){(200<=(t=-1<=t?t:0)&&300>t?v.resolve:v.reject)({data:e,status:t,headers:ht(n),config:i,statusText:s,xhrStatus:r})}function h(e){o(e.data,e.status,he(e.headers()),e.statusText,e.xhrStatus)}function d(){var e=g.pendingRequests.indexOf(i);-1!==e&&g.pendingRequests.splice(e,1)}var p,m,v=u.defer(),C=v.promise,I=i.headers,T="jsonp"===tn(i.method),O=i.url;return T?O=f.getTrustedResourceUrl(O):$(O)||(O=f.valueOf(O)),O=function(e,t){return 0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}(O,i.paramSerializer(i.params)),T&&(O=function(e,t){var i=e.split("?");if(2<i.length)throw ws("badjsonp",e);return i=K(i[1]),r(i,function(i,n){if("JSON_CALLBACK"===i)throw ws("badjsonp",e);if(n===t)throw ws("badjsonp",t,e)}),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(O,i.jsonpCallbackParam)),g.pendingRequests.push(i),C.then(d,d),!i.cache&&!e.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(p=y(i.cache)?i.cache:y(e.cache)?e.cache:w),p&&(b(m=p.get(O))?m&&k(m.then)?m.then(h,h):S(m)?o(m[1],m[0],he(m[2]),m[3],m[4]):o(m,200,{},"OK","complete"):p.put(O,C)),_(m)&&((m=x(i.url)?l()[i.xsrfCookieName||e.xsrfCookieName]:void 0)&&(I[i.xsrfHeaderName||e.xsrfHeaderName]=m),a(i.method,O,n,function(e,i,n,s,r){function a(){o(i,e,n,s,r)}p&&(200<=e&&300>e?p.put(O,[e,i,lt(n),s,r]):p.remove(O)),t?c.$applyAsync(a):(a(),c.$$phase||c.$apply())},I,i.timeout,i.withCredentials,i.responseType,s(i.eventHandlers),s(i.uploadEventHandlers))),C}var w=h("$http");e.paramSerializer=$(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var C=[];r(i,function(e){C.unshift($(e)?p.get(e):p.invoke(e))});var x=function(e){var t=[Ws].concat(e.map(ii));return function(e){return e=ii(e),t.some(ni.bind(null,e))}}(s);return g.pendingRequests=[],function(e){r(arguments,function(e){g[e]=function(t,i){return g(d({},i||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){r(arguments,function(e){g[e]=function(t,i,n){return g(d({},n||{},{method:e,url:t,data:i}))}})}("post","put","patch"),g.defaults=e,g}]}function ut(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function pt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,i,n){return function(e,t,i,n,s){function o(e,t,i){e=e.replace("JSON_CALLBACK",t);var r=s.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){r.removeEventListener("load",o),r.removeEventListener("error",o),s.body.removeChild(r),r=null;var a=-1,l="unknown";e&&("load"!==e.type||n.wasCalled(t)||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),i&&i(a,l)},r.addEventListener("load",o),r.addEventListener("error",o),s.body.appendChild(r),o}return function(s,a,l,h,d,c,u,p,m,f){function g(e){C="timeout"===e,w&&w(),$&&$.abort()}function v(e,t,n,s,r,o){b(x)&&i.cancel(x),w=$=null,e(t,n,s,r,o)}if(a=a||e.url(),"jsonp"===tn(s))var y=n.createCallback(a),w=o(a,y,function(e,t){var i=200===e&&n.getResponse(y);v(h,e,i,"",t,"complete"),n.removeCallback(y)});else{var $=t(s,a),C=!1;if($.open(s,a,!0),r(d,function(e,t){b(e)&&$.setRequestHeader(t,e)}),$.onload=function(){var e=$.statusText||"",t="response"in $?$.response:$.responseText,i=1223===$.status?204:$.status;0===i&&(i=t?200:"file"===ii(a).protocol?404:0),v(h,i,t,$.getAllResponseHeaders(),e,"complete")},$.onerror=function(){v(h,-1,null,null,"","error")},$.ontimeout=function(){v(h,-1,null,null,"","timeout")},$.onabort=function(){v(h,-1,null,null,"",C?"timeout":"abort")},r(m,function(e,t){$.addEventListener(t,e)}),r(f,function(e,t){$.upload.addEventListener(t,e)}),u&&($.withCredentials=!0),p)try{$.responseType=p}catch(e){if("json"!==p)throw e}$.send(_(l)?null:l)}if(0<c)var x=i(function(){g("timeout")},c);else c&&k(c.then)&&c.then(function(){g(b(c.$$timeoutId)?"timeout":"abort")})}}(e,n,e.defer,t,i[0])}]}function mt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(i,n,s){function r(e){return"\\\\\\"+e}function o(i){return i.replace(u,e).replace(p,t)}function a(e,t,i,n){var s=e.$watch(function(e){return s(),n(e)},t,i);return s}function l(r,l,u,p){var m=u===s.URL||u===s.MEDIA_URL;if(!r.length||-1===r.indexOf(e)){if(l)return;return l=o(r),m&&(l=s.getTrusted(u,l)),(l=g(l)).exp=r,l.expressions=[],l.$$watchDelegate=a,l}p=!!p;for(var f,v,y,w,$=0,C=[],x=r.length,S=[],I=[];$<x;){if(-1===(f=r.indexOf(e,$))||-1===(v=r.indexOf(t,f+h))){$!==x&&S.push(o(r.substring($)));break}$!==f&&S.push(o(r.substring($,f))),$=r.substring(f+h,v),C.push($),$=v+c,I.push(S.length),S.push("")}w=1===S.length&&1===I.length;var k=m&&w?void 0:function(e){try{return e=u&&!m?s.getTrusted(u,e):s.valueOf(e),p&&!b(e)?e:le(e)}catch(e){n($s.interr(r,e))}};if(y=C.map(function(e){return i(e,k)}),!l||C.length){var T=function(e){for(var t=0,i=C.length;t<i;t++){if(p&&_(e[t]))return;S[I[t]]=e[t]}return m?s.getTrusted(u,w?S[0]:S.join("")):(u&&1<S.length&&$s.throwNoconcat(r),S.join(""))};return d(function(e){var t=0,i=C.length,s=Array(i);try{for(;t<i;t++)s[t]=y[t](e);return T(s)}catch(e){n($s.interr(r,e))}},{exp:r,expressions:C,$$watchDelegate:function(e,t){var i;return e.$watchGroup(y,function(n,s){var r=T(n);t.call(this,r,n!==s?i:r,e),i=r})}})}}var h=e.length,c=t.length,u=new RegExp(e.replace(/./g,r),"g"),p=new RegExp(t.replace(/./g,r),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function ft(){this.$get=["$$intervalFactory","$window",function(e,t){var i={},n=function(e){t.clearInterval(e),delete i[e]},s=e(function(e,n,s){return e=t.setInterval(e,n),i[e]=s,e},n);return s.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Cs("badprom");if(!i.hasOwnProperty(e.$$intervalId))return!1;e=e.$$intervalId;var t=i[e],s=t.promise;return s.$$state&&(s.$$state.pur=!0),t.reject("canceled"),n(e),!0},s}]}function gt(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,i,n){return function(s,r){return function(o,a,l,h){function d(){c?o.apply(null,u):o(p)}var c=4<arguments.length,u=c?sn.call(arguments,4):[],p=0,m=b(h)&&!h,f=(m?i:t).defer(),g=f.promise;return l=b(l)?l:0,g.$$intervalId=s(function(){m?e.defer(d):n.$evalAsync(d),f.notify(p++),0<l&&p>=l&&(f.resolve(p),r(g.$$intervalId)),m||n.$apply()},a,f,m),g}}}]}function vt(e,t){var i=ii(e);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=u(i.port)||Is[i.protocol]||null}function _t(e,t,i){if(Ts.test(e))throw ks("badpath",e);(n="/"!==e.charAt(0))&&(e="/"+e),e=ii(e);for(var n,s=(n=(n&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname).split("/")).length;s--;)n[s]=decodeURIComponent(n[s]),i&&(n[s]=n[s].replace(/\//g,"%2F"));i=n.join("/"),t.$$path=i,t.$$search=K(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function bt(e,t){return e.slice(0,t.length)===t}function yt(e,t){if(bt(t,e))return t.substr(e.length)}function wt(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function $t(e,t,i){this.$$html5=!0,i=i||"",vt(e,this),this.$$parse=function(e){var i=yt(t,e);if(!$(i))throw ks("ipthprfx",e,t);_t(i,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(n,s){return s&&"#"===s[0]?(this.hash(s.slice(1)),!0):(b(r=yt(e,n))?(o=r,o=i&&b(r=yt(i,r))?t+(yt("/",r)||r):e+o):b(r=yt(t,n))?o=t+r:t===n+"/"&&(o=t),o&&this.$$parse(o),!!o);var r,o}}function Ct(e,t,i){vt(e,this),this.$$parse=function(n){var s;_(r=yt(e,n)||yt(t,n))||"#"!==r.charAt(0)?this.$$html5?s=r:(s="",_(r)&&(e=n,this.replace())):_(s=yt(i,r))&&(s=r),_t(s,this,!1),n=this.$$path;var r,o=/^\/[A-Z]:(\/.*)/;bt(s,r=e)&&(s=s.replace(r,"")),o.exec(s)||(n=(s=o.exec(n))?s[1]:n),this.$$path=n,this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?i+t:"")},this.$$parseLinkUrl=function(t,i){return wt(e)===wt(t)&&(this.$$parse(t),!0)}}function xt(e,t,i){this.$$html5=!0,Ct.apply(this,arguments),this.$$parseLinkUrl=function(n,s){return s&&"#"===s[0]?(this.hash(s.slice(1)),!0):(e===wt(n)?r=n:(o=yt(t,n))?r=e+i+o:t===n+"/"&&(r=t),r&&this.$$parse(r),!!r);var r,o},this.$$normalizeUrl=function(t){return e+i+t}}function St(e){return function(){return this[e]}}function It(e,t){return function(i){return _(i)?this[e]:(this[e]=t(i),this.$$compose(),this)}}function kt(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return b(t)?(e=t,this):e},this.html5Mode=function(e){return D(e)?(t.enabled=e,this):y(e)?(D(e.enabled)&&(t.enabled=e.enabled),D(e.requireBase)&&(t.requireBase=e.requireBase),(D(e.rewriteLinks)||$(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,n,s,r,o){function a(e,t,i){var s=h.url(),r=h.$$state;try{n.url(e,t,i),h.$$state=n.state()}catch(e){throw h.url(s),h.$$state=r,e}}function l(e,t){i.$broadcast("$locationChangeSuccess",h.absUrl(),e,h.$$state,t)}var h,d;d=n.baseHref();var c,u=n.url();if(t.enabled){if(!d&&t.requireBase)throw ks("nobase");c=u.substring(0,u.indexOf("/",u.indexOf("//")+2))+(d||"/"),d=s.history?$t:xt}else c=wt(u),d=Ct;var p=c.substr(0,wt(c).lastIndexOf("/")+1);(h=new d(c,p,"#"+e)).$$parseLinkUrl(u,u),h.$$state=n.state();var m=/^\s*(javascript|mailto):/i;r.on("click",function(e){if((o=t.rewriteLinks)&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=Qi(e.target);"a"!==P(s[0]);)if(s[0]===r[0]||!(s=s.parent())[0])return;if(!$(o)||!_(s.attr(o))){var o=s.prop("href"),a=s.attr("href")||s.attr("xlink:href");y(o)&&"[object SVGAnimatedString]"===o.toString()&&(o=ii(o.animVal).href),m.test(o)||!o||s.attr("target")||e.isDefaultPrevented()||!h.$$parseLinkUrl(o,a)||(e.preventDefault(),h.absUrl()!==n.url()&&i.$apply())}}}),h.absUrl()!==u&&n.url(h.absUrl(),!0);var f=!0;return n.onUrlChange(function(e,t){bt(e,p)?(i.$evalAsync(function(){var n,s=h.absUrl(),r=h.$$state;h.$$parse(e),h.$$state=t,n=i.$broadcast("$locationChangeStart",e,s,t,r).defaultPrevented,h.absUrl()===e&&(n?(h.$$parse(s),h.$$state=r,a(s,!1,r)):(f=!1,l(s,r)))}),i.$$phase||i.$digest()):o.location.href=e}),i.$watch(function(){if(f||h.$$urlUpdatedByLocation){h.$$urlUpdatedByLocation=!1;var e=n.url(),t=h.absUrl(),r=n.state(),o=h.$$replace,d=!function(e,t){return e===t||ii(e).href===ii(t).href}(e,t)||h.$$html5&&s.history&&r!==h.$$state;(f||d)&&(f=!1,i.$evalAsync(function(){var t=h.absUrl(),n=i.$broadcast("$locationChangeStart",t,e,h.$$state,r).defaultPrevented;h.absUrl()===t&&(n?(h.$$parse(e),h.$$state=r):(d&&a(t,o,r===h.$$state?null:h.$$state),l(e,r)))}))}h.$$replace=!1}),h}]}function Tt(){var e=!0,t=this;this.debugEnabled=function(t){return b(t)?(e=t,this):e},this.$get=["$window",function(i){function n(e){var t=i.console||{},n=t[e]||t.log||m;return function(){var e=[];return r(arguments,function(t){e.push(function(e){return I(e)&&(e.stack&&s?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}(t))}),Function.prototype.apply.call(n,t,e)}}var s=Ki||/\bEdge\//.test(i.navigator&&i.navigator.userAgent);return{log:n("log"),info:n("info"),warn:n("warn"),error:n("error"),debug:function(){var i=n("debug");return function(){e&&i.apply(t,arguments)}}()}}]}function Ot(e){return e+""}function At(e,t){return void 0!==e?e:t}function Dt(e,t){return void 0===e?t:void 0===t?e:e+t}function Lt(e,t,i){var n,s,o=e.isPure=function(e,t){switch(e.type){case Ms.MemberExpression:if(e.computed)return!1;break;case Ms.UnaryExpression:return 1;case Ms.BinaryExpression:return"+"!==e.operator&&1;case Ms.CallExpression:return!1}return void 0===t?Es:t}(e,i);switch(e.type){case Ms.Program:n=!0,r(e.body,function(e){Lt(e.expression,t,o),n=n&&e.expression.constant}),e.constant=n;break;case Ms.Literal:e.constant=!0,e.toWatch=[];break;case Ms.UnaryExpression:Lt(e.argument,t,o),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Ms.BinaryExpression:Lt(e.left,t,o),Lt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Ms.LogicalExpression:Lt(e.left,t,o),Lt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Ms.ConditionalExpression:Lt(e.test,t,o),Lt(e.alternate,t,o),Lt(e.consequent,t,o),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Ms.Identifier:e.constant=!1,e.toWatch=[e];break;case Ms.MemberExpression:Lt(e.object,t,o),e.computed&&Lt(e.property,t,o),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Ms.CallExpression:n=i=!!e.filter&&!t(e.callee.name).$stateful,s=[],r(e.arguments,function(e){Lt(e,t,o),n=n&&e.constant,s.push.apply(s,e.toWatch)}),e.constant=n,e.toWatch=i?s:[e];break;case Ms.AssignmentExpression:Lt(e.left,t,o),Lt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Ms.ArrayExpression:n=!0,s=[],r(e.elements,function(e){Lt(e,t,o),n=n&&e.constant,s.push.apply(s,e.toWatch)}),e.constant=n,e.toWatch=s;break;case Ms.ObjectExpression:n=!0,s=[],r(e.properties,function(e){Lt(e.value,t,o),n=n&&e.value.constant,s.push.apply(s,e.value.toWatch),e.computed&&(Lt(e.key,t,!1),n=n&&e.key.constant,s.push.apply(s,e.key.toWatch))}),e.constant=n,e.toWatch=s;break;case Ms.ThisExpression:case Ms.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Pt(e){if(1===e.length){var t=(e=e[0].expression).toWatch;return 1!==t.length||t[0]!==e?t:void 0}}function jt(e){return e.type===Ms.Identifier||e.type===Ms.MemberExpression}function Mt(e){if(1===e.body.length&&jt(e.body[0].expression))return{type:Ms.AssignmentExpression,left:e.body[0].expression,right:{type:Ms.NGValueParameter},operator:"="}}function Et(e){this.$filter=e}function Nt(e){this.$filter=e}function Rt(e,t,i){this.ast=new Ms(e,i),this.astCompiler=i.csp?new Nt(t):new Et(t)}function Ut(e){return k(e.valueOf)?e.valueOf():Ds.call(e)}function Bt(){var e,t,i=ae(),n={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){n[e]=t},this.setIdentifierFns=function(i,n){return e=i,t=n,this},this.$get=["$filter",function(s){function o(e,t){var n,r;switch(typeof e){case"string":return r=e=e.trim(),(n=i[r])||(n=new Rt(n=new js(g),s,g).parse(e),i[r]=u(n)),p(n,t);case"function":return p(e,t);default:return p(m,t)}}function a(e,t,i){return null==e||null==t?e===t:!("object"==typeof e&&(e=Ut(e),"object"==typeof e&&!i))&&(e===t||e!=e&&t!=t)}function l(e,t,i,n,s){var r;if(1===(l=n.inputs).length){var o=a,l=l[0];return e.$watch(function(e){var t=l(e);return a(t,o,l.isPure)||(r=n(e,void 0,void 0,[t]),o=t&&Ut(t)),r},t,i,s)}for(var h=[],d=[],c=0,u=l.length;c<u;c++)h[c]=a,d[c]=null;return e.$watch(function(e){for(var t=!1,i=0,s=l.length;i<s;i++){var o=l[i](e);(t||(t=!a(o,h[i],l[i].isPure)))&&(d[i]=o,h[i]=o&&Ut(o))}return t&&(r=n(e,void 0,void 0,d)),r},t,i,s)}function h(e,t,i,n,s){function r(){h(l)&&a()}function o(e,t,i,n){return l=m&&n?n[0]:c(e,t,i,n),h(l)&&e.$$postDigest(r),p(l)}var a,l,h=n.literal?d:b,c=n.$$intercepted||n,p=n.$$interceptor||f,m=n.inputs&&!c.inputs;return o.literal=n.literal,o.constant=n.constant,o.inputs=n.inputs,u(o),a=e.$watch(o,t,i,s)}function d(e){var t=!0;return r(e,function(e){b(e)||(t=!1)}),t}function c(e,t,i,n){var s=e.$watch(function(e){return s(),n(e)},t,i);return s}function u(e){return e.constant?e.$$watchDelegate=c:e.oneTime?e.$$watchDelegate=h:e.inputs&&(e.$$watchDelegate=l),e}function p(e,t){if(!t)return e;e.$$interceptor&&(t=function(e,t){function i(i){return t(e(i))}return i.$stateful=e.$stateful||t.$stateful,i.$$pure=e.$$pure&&t.$$pure,i}(e.$$interceptor,t),e=e.$$intercepted);var i=!1,n=function(n,s,r,o){return n=i&&o?o[0]:e(n,s,r,o),t(n)};return n.$$intercepted=e,n.$$interceptor=t,n.literal=e.literal,n.oneTime=e.oneTime,n.constant=e.constant,t.$stateful||(i=!e.inputs,n.inputs=e.inputs?e.inputs:[e],t.$$pure||(n.inputs=n.inputs.map(function(e){return e.isPure===Es?function(t){return e(t)}:e}))),u(n)}var g={csp:_n().noUnsafeEval,literals:M(n),isIdentifierStart:k(e)&&e,isIdentifierContinue:k(t)&&t};return o.$$getAst=function(e){return new Rt(new js(g),s,g).getAst(e).ast},o}]}function zt(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,i){return Ht(function(e){t.$evalAsync(e)},i,e)}],this.errorOnUnhandledRejections=function(t){return b(t)?(e=t,this):e}}function Vt(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,i){return Ht(function(e){t.defer(e)},i,e)}],this.errorOnUnhandledRejections=function(t){return b(t)?(e=t,this):e}}function Ht(e,t,i){function s(){return new o}function o(){var e=this.promise=new a;this.resolve=function(t){c(e,t)},this.reject=function(t){p(e,t)},this.notify=function(t){f(e,t)}}function a(){this.$$state={status:0}}function l(){for(;!C&&x.length;){var e=x.shift();if(!e.pur){e.pur=!0;var i="Possibly unhandled rejection: "+("function"==typeof(i=e.value)?i.toString().replace(/ \{[\s\S]*$/,""):_(i)?"undefined":"string"!=typeof i?de(i,void 0):i);I(e.value)?t(e.value,i):t(i)}}}function h(n){!i||n.pending||2!==n.status||n.pur||(0===C&&0===x.length&&e(l),x.push(n)),!n.processScheduled&&n.pending&&(n.processScheduled=!0,++C,e(function(){var s,r,o;o=n.pending,n.processScheduled=!1,n.pending=void 0;try{for(var a=0,h=o.length;a<h;++a){n.pur=!0,r=o[a][0],s=o[a][n.status];try{k(s)?c(r,s(n.value)):1===n.status?c(r,n.value):p(r,n.value)}catch(e){p(r,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--C,i&&0===C&&e(l)}}))}function c(e,t){e.$$state.status||(t===e?m(e,$("qcycle",t)):u(e,t))}function u(e,t){function i(t){s||(s=!0,m(e,t))}var n,s=!1;try{(y(t)||k(t))&&(n=t.then),k(n)?(e.$$state.status=-1,n.call(t,function(t){s||(s=!0,u(e,t))},i,function(t){f(e,t)})):(e.$$state.value=t,e.$$state.status=1,h(e.$$state))}catch(e){i(e)}}function p(e,t){e.$$state.status||m(e,t)}function m(e,t){e.$$state.value=t,e.$$state.status=2,h(e.$$state)}function f(i,n){var s=i.$$state.pending;0>=i.$$state.status&&s&&s.length&&e(function(){for(var e,i,r=0,o=s.length;r<o;r++){i=s[r][0],e=s[r][3];try{f(i,k(e)?e(n):n)}catch(e){t(e)}}})}function g(e){var t=new a;return p(t,e),t}function v(e,t,i){var n=null;try{k(i)&&(n=i())}catch(e){return g(e)}return n&&k(n.then)?n.then(function(){return t(e)},g):t(e)}function b(e,t,i,n){var s=new a;return c(s,e),s.then(t,i,n)}function w(e){if(!k(e))throw $("norslvr",e);var t=new a;return e(function(e){c(t,e)},function(e){p(t,e)}),t}var $=n("$q",TypeError),C=0,x=[];d(a.prototype,{then:function(e,t,i){if(_(e)&&_(t)&&_(i))return this;var n=new a;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,e,t,i]),0<this.$$state.status&&h(this.$$state),n},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return v(t,T,e)},function(t){return v(t,g,e)},t)}});var T=b;return w.prototype=a.prototype,w.defer=s,w.reject=g,w.when=b,w.resolve=T,w.all=function(e){var t=new a,i=0,n=S(e)?[]:{};return r(e,function(e,s){i++,b(e).then(function(e){n[s]=e,--i||c(t,n)},function(e){p(t,e)})}),0===i&&c(t,n),t},w.race=function(e){var t=s();return r(e,function(e){b(e).then(t.resolve,t.reject)}),t.promise},w}function Wt(){this.$get=["$window","$timeout",function(e,t){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,s=!!i,r=s?function(e){var t=i(e);return function(){n(t)}}:function(e){var i=t(e,16.66,!1);return function(){t.cancel(i)}};return r.supported=s,r}]}function Ft(){var e=10,t=n("$rootScope"),i=null,o=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(n,a,l){function h(e){e.currentScope.$$destroyed=!0}function d(e){9===Ki&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function c(){this.$id=++cn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$suspended=this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function u(e){if(b.$$phase)throw t("inprog",b.$$phase);b.$$phase=e}function p(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function f(e,t,i){do{e.$$listenerCount[i]-=t,0===e.$$listenerCount[i]&&delete e.$$listenerCount[i]}while(e=e.$parent)}function g(){}function v(){for(;C.length;)try{C.shift()()}catch(e){n(e)}o=null}c.prototype={constructor:c,$new:function(e,t){var i;return t=t||this,e?(i=new c).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++cn,this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(e||t!==this)&&i.$on("$destroy",h),i},$watch:function(e,t,n,s){var r=a(e);if(t=k(t)?t:m,r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,l=o.$$watchers,h={fn:t,last:g,get:r,exp:s||e,eq:!!n};return i=null,l||((l=o.$$watchers=[]).$$digestWatchIndex=-1),l.unshift(h),l.$$digestWatchIndex++,p(this,1),function(){var e=j(l,h);0<=e&&(p(o,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),i=null}},$watchGroup:function(e,t){function i(){l=!1;try{h?(h=!1,t(s,s,a)):t(s,n,a)}finally{for(var i=0;i<e.length;i++)n[i]=s[i]}}var n=Array(e.length),s=Array(e.length),o=[],a=this,l=!1,h=!0;if(!e.length){var d=!0;return a.$evalAsync(function(){d&&t(s,s,a)}),function(){d=!1}}return 1===e.length?this.$watch(e[0],function(e,i,r){s[0]=e,n[0]=i,t(s,e===i?s:n,r)}):(r(e,function(e,t){var n=a.$watch(e,function(e){s[t]=e,l||(l=!0,a.$evalAsync(i))});o.push(n)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function i(e){var t,i,o;if(!_(n=e)){if(y(n))if(s(n))for(r!==u&&(f=(r=u).length=0,d++),e=n.length,f!==e&&(d++,r.length=f=e),t=0;t<e;t++)o=r[t],i=n[t],o!=o&&i!=i||o===i||(d++,r[t]=i);else{for(t in r!==p&&(r=p={},f=0,d++),e=0,n)en.call(n,t)&&(e++,i=n[t],o=r[t],t in r?o!=o&&i!=i||o===i||(d++,r[t]=i):(f++,r[t]=i,d++));if(f>e)for(t in d++,r)en.call(n,t)||(f--,delete r[t])}else r!==n&&(r=n,d++);return d}}i.$$pure=a(e).literal,i.$stateful=!i.$$pure;var n,r,o,l=this,h=1<t.length,d=0,c=a(e,i),u=[],p={},m=!0,f=0;return this.$watch(c,function(){if(m?(m=!1,t(n,n,l)):t(n,o,l),h)if(y(n))if(s(n)){o=Array(n.length);for(var e=0;e<n.length;e++)o[e]=n[e]}else for(e in o={},n)en.call(n,e)&&(o[e]=n[e]);else o=n})},$digest:function(){var s,r,a,h,d,c,p,m,f=e,_=w.length?b:this,y=[];u("$digest"),l.$$checkUrlChange(),this===b&&null!==o&&(l.defer.cancel(o),v()),i=null;do{for(d=!1,c=_,h=0;h<w.length;h++){try{(0,(m=w[h]).fn)(m.scope,m.locals)}catch(e){n(e)}i=null}w.length=0;e:do{if(h=!c.$$suspended&&c.$$watchers)for(h.$$digestWatchIndex=h.length;h.$$digestWatchIndex--;)try{if(s=h[h.$$digestWatchIndex])if((r=(0,s.get)(c))===(a=s.last)||(s.eq?N(r,a):un(r)&&un(a))){if(s===i){d=!1;break e}}else d=!0,i=s,s.last=s.eq?M(r,null):r,(0,s.fn)(r,a===g?r:a,c),5>f&&(y[p=4-f]||(y[p]=[]),y[p].push({msg:k(s.exp)?"fn: "+(s.exp.name||s.exp.toString()):s.exp,newVal:r,oldVal:a}))}catch(e){n(e)}if(!(h=!c.$$suspended&&c.$$watchersCount&&c.$$childHead||c!==_&&c.$$nextSibling))for(;c!==_&&!(h=c.$$nextSibling);)c=c.$parent}while(c=h);if((d||w.length)&&!f--)throw b.$$phase=null,t("infdig",e,y)}while(d||w.length);for(b.$$phase=null;x<$.length;)try{$[x++]()}catch(e){n(e)}$.length=x=0,l.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===b&&l.$$applicationDestroyed(),p(this,-this.$$watchersCount),this.$$listenerCount)f(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e,t){b.$$phase||w.length||l.defer(function(){w.length&&b.$digest()},null,"$evalAsync"),w.push({scope:this,fn:a(e),locals:t})},$$postDigest:function(e){$.push(e)},$apply:function(e){try{u("$apply");try{return this.$eval(e)}finally{b.$$phase=null}}catch(e){n(e)}finally{try{b.$digest()}catch(e){throw n(e),e}}},$applyAsync:function(e){var t=this;e&&C.push(function(){t.$eval(e)}),e=a(e),null===o&&(o=l.defer(function(){b.$apply(v)},null,"$applyAsync"))},$on:function(e,t){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(t);var n=this;do{n.$$listenerCount[e]||(n.$$listenerCount[e]=0),n.$$listenerCount[e]++}while(n=n.$parent);var s=this;return function(){var n=i.indexOf(t);-1!==n&&(delete i[n],f(s,1,e))}},$emit:function(e,t){var i,s,r,o=[],a=this,l=!1,h={name:e,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},d=R([h],arguments,1);do{for(i=a.$$listeners[e]||o,h.currentScope=a,s=0,r=i.length;s<r;s++)if(i[s])try{i[s].apply(null,d)}catch(e){n(e)}else i.splice(s,1),s--,r--;if(l)break;a=a.$parent}while(a);return h.currentScope=null,h},$broadcast:function(e,t){var i=this,s=this,r={name:e,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return r;for(var o,a,l=R([r],arguments,1);i=s;){for(r.currentScope=i,o=0,a=(s=i.$$listeners[e]||[]).length;o<a;o++)if(s[o])try{s[o].apply(null,l)}catch(e){n(e)}else s.splice(o,1),o--,a--;if(!(s=i.$$listenerCount[e]&&i.$$childHead||i!==this&&i.$$nextSibling))for(;i!==this&&!(s=i.$$nextSibling);)i=i.$parent}return r.currentScope=null,r}};var b=new c,w=b.$$asyncQueue=[],$=b.$$postDigestQueue=[],C=b.$$applyAsyncQueue=[],x=0;return b}]}function qt(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return b(t)?(e=t,this):e},this.imgSrcSanitizationTrustedUrlList=function(e){return b(e)?(t=e,this):t},this.$get=function(){return function(i,n){var s=n?t:e,r=ii(i&&i.trim()).href;return""===r||r.match(s)?i:"unsafe:"+r}}}function Gt(e){var t=[];return b(e)&&r(e,function(e){t.push(function(e){if("self"===e)return e;if($(e)){if(-1<e.indexOf("***"))throw Rs("iwcard",e);return e=vn(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw Rs("imatcher")}(e))}),t}function Kt(){this.SCE_CONTEXTS=Us;var t=["self"],i=[];this.trustedResourceUrlList=function(e){return arguments.length&&(t=Gt(e)),t},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return arguments.length&&(i=Gt(e)),i},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(n,s){function r(t,i){var n;return"self"===t?(n=ni(i,Ws))||(e.document.baseURI?n=e.document.baseURI:(Ns||((Ns=e.document.createElement("a")).href=".",Ns=Ns.cloneNode(!1)),n=Ns.href),n=ni(i,n)):n=!!t.exec(i.href),n}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var a=function(e){throw Rs("unsafe")};n.has("$sanitize")&&(a=n.get("$sanitize"));var l=o(),h={};return h[Us.HTML]=o(l),h[Us.CSS]=o(l),h[Us.MEDIA_URL]=o(l),h[Us.URL]=o(h[Us.MEDIA_URL]),h[Us.JS]=o(l),h[Us.RESOURCE_URL]=o(h[Us.URL]),{trustAs:function(e,t){var i=h.hasOwnProperty(e)?h[e]:null;if(!i)throw Rs("icontext",e,t);if(null===t||_(t)||""===t)return t;if("string"!=typeof t)throw Rs("itype",e);return new i(t)},getTrusted:function(e,n){if(null===n||_(n)||""===n)return n;if((d=h.hasOwnProperty(e)?h[e]:null)&&n instanceof d)return n.$$unwrapTrustedValue();if(k(n.$$unwrapTrustedValue)&&(n=n.$$unwrapTrustedValue()),e===Us.MEDIA_URL||e===Us.URL)return s(n.toString(),e===Us.MEDIA_URL);if(e===Us.RESOURCE_URL){var o,l,d=ii(n.toString()),c=!1;for(o=0,l=t.length;o<l;o++)if(r(t[o],d)){c=!0;break}if(c)for(o=0,l=i.length;o<l;o++)if(r(i[o],d)){c=!1;break}if(c)return n;throw Rs("insecurl",n.toString())}if(e===Us.HTML)return a(n);throw Rs("unsafe")},valueOf:function(e){return e instanceof l?e.$$unwrapTrustedValue():e}}}]}function Qt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,i){if(e&&8>Ki)throw Rs("iequirks");var n=he(Us);n.isEnabled=function(){return e},n.trustAs=i.trustAs,n.getTrusted=i.getTrusted,n.valueOf=i.valueOf,e||(n.trustAs=n.getTrusted=function(e,t){return t},n.valueOf=f),n.parseAs=function(e,i){var s=t(i);return s.literal&&s.constant?s:t(i,function(t){return n.getTrusted(e,t)})};var s=n.parseAs,o=n.getTrusted,a=n.trustAs;return r(Us,function(e,t){var i=tn(t);n[("parse_as_"+i).replace(Bs,ce)]=function(t){return s(e,t)},n[("get_trusted_"+i).replace(Bs,ce)]=function(t){return o(e,t)},n[("trust_as_"+i).replace(Bs,ce)]=function(t){return a(e,t)}}),n}]}function Jt(){this.$get=["$window","$document",function(e,t){var i={},n=!((!e.nw||!e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,s=u((/android (\d+)/.exec(tn((e.navigator||{}).userAgent))||[])[1]),r=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},a=o.body&&o.body.style,l=!1,h=!1;return a&&(l=!(!("transition"in a)&&!("webkitTransition"in a)),h=!(!("animation"in a)&&!("webkitAnimation"in a))),{history:!(!n||4>s||r),hasEvent:function(e){if("input"===e&&Ki)return!1;if(_(i[e])){var t=o.createElement("div");i[e]="on"+e in t}return i[e]},csp:_n(),transitions:l,animations:h,android:s}}]}function Yt(){this.$get=g(function(e){return new Xt(e)})}function Xt(e){function t(){var e=s.pop();return e&&e.cb}function i(e){for(var t=s.length-1;0<=t;--t){var i=s[t];if(i.type===e)return s.splice(t,1),i.cb}}var n={},s=[],r=this.ALL_TASKS_TYPE="$$all$$",o=this.DEFAULT_TASK_TYPE="$$default$$";this.completeTask=function(s,a){a=a||o;try{s()}finally{var l;n[l=a||o]&&(n[l]--,n[r]--),l=n[a];var h=n[r];if(!h||!l)for(l=h?i:t;h=l(a);)try{h()}catch(t){e.error(t)}}},this.incTaskCount=function(e){n[e=e||o]=(n[e]||0)+1,n[r]=(n[r]||0)+1},this.notifyWhenNoPendingTasks=function(e,t){n[t=t||r]?s.push({type:t,cb:e}):e()}}function Zt(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,i,n,s,r){function o(a,l){o.totalPendingRequests++,$(a)&&!_(i.get(a))||(a=r.getTrustedResourceUrl(a));var h=n.defaults&&n.defaults.transformResponse;return S(h)?h=h.filter(function(e){return e!==at}):h===at&&(h=null),n.get(a,d({cache:i,transformResponse:h},e)).finally(function(){o.totalPendingRequests--}).then(function(e){return i.put(a,e.data)},function(e){return l||(e=zs("tpload",a,e.status,e.statusText),t(e)),s.reject(e)})}return o.totalPendingRequests=0,o}]}function ei(){this.$get=["$rootScope","$browser","$location",function(e,t,i){return{findBindings:function(e,t,i){e=e.getElementsByClassName("ng-binding");var n=[];return r(e,function(e){var s=dn.element(e).data("$binding");s&&r(s,function(s){i?new RegExp("(^|\\s)"+vn(t)+"(\\s|\\||$)").test(s)&&n.push(e):-1!==s.indexOf(t)&&n.push(e)})}),n},findModels:function(e,t,i){for(var n=["ng-","data-ng-","ng\\:"],s=0;s<n.length;++s){var r=e.querySelectorAll("["+n[s]+"model"+(i?"=":"*=")+'"'+t+'"]');if(r.length)return r}},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function ti(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,i,n,s){function r(r,a,l){k(r)||(l=a,a=r,r=m);var h,d=sn.call(arguments,3),c=b(l)&&!l,u=(c?n:i).defer(),p=u.promise;return h=t.defer(function(){try{u.resolve(r.apply(null,d))}catch(e){u.reject(e),s(e)}finally{delete o[p.$$timeoutId]}c||e.$apply()},a,"$timeout"),p.$$timeoutId=h,o[h]=u,p}var o={};return r.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw Vs("badprom");if(!o.hasOwnProperty(e.$$timeoutId))return!1;e=e.$$timeoutId;var i=o[e],n=i.promise;return n.$$state&&(n.$$state.pur=!0),i.reject("canceled"),delete o[e],t.defer.cancel(e)},r}]}function ii(e){return $(e)?(Ki&&(Hs.setAttribute("href",e),e=Hs.href),Hs.setAttribute("href",e),e=Hs.hostname,!Fs&&-1<e.indexOf(":")&&(e="["+e+"]"),{href:Hs.href,protocol:Hs.protocol?Hs.protocol.replace(/:$/,""):"",host:Hs.host,search:Hs.search?Hs.search.replace(/^\?/,""):"",hash:Hs.hash?Hs.hash.replace(/^#/,""):"",hostname:e,port:Hs.port,pathname:"/"===Hs.pathname.charAt(0)?Hs.pathname:"/"+Hs.pathname}):e}function ni(e,t){return e=ii(e),t=ii(t),e.protocol===t.protocol&&e.host===t.host}function si(){this.$get=g(e)}function ri(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var i=e[0]||{},n={},s="";return function(){var e,r,o,a,l;try{e=i.cookie||""}catch(t){e=""}if(e!==s)for(e=(s=e).split("; "),n={},o=0;o<e.length;o++)0<(a=(r=e[o]).indexOf("="))&&(l=t(r.substring(0,a)),_(n[l])&&(n[l]=t(r.substring(a+1))));return n}}function oi(){this.$get=ri}function ai(e){function t(i,n){if(y(i)){var s={};return r(i,function(e,i){s[i]=t(i,e)}),s}return e.factory(i+"Filter",n)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",ci),t("date",yi),t("filter",li),t("json",wi),t("limitTo",$i),t("lowercase",Xs),t("number",ui),t("orderBy",xi),t("uppercase",Zs)}function li(){return function(e,t,i,r){if(!s(e)){if(null==e)return e;throw n("filter")("notarray",e)}var o;switch(r=r||"$",di(t)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":t=function(e,t,i,n){var s=y(e)&&i in e;return!0===t?t=N:k(t)||(t=function(e,t){return!_(e)&&(null===e||null===t?e===t:!(y(t)||y(e)&&!v(e))&&(e=tn(""+e),t=tn(""+t),-1!==e.indexOf(t)))}),function(r){return s&&!y(r)?hi(r,e[i],t,i,!1):hi(r,e,t,i,n)}}(t,i,r,o);break;default:return e}return Array.prototype.filter.call(e,t)}}function hi(e,t,i,n,s,r){var o=di(e),a=di(t);if("string"===a&&"!"===t.charAt(0))return!hi(e,t.substring(1),i,n,s);if(S(e))return e.some(function(e){return hi(e,t,i,n,s)});switch(o){case"object":var l;if(s){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&hi(e[l],t,i,n,!0))return!0;return!r&&hi(e,t,i,n,!1)}if("object"===a){for(l in t)if(!k(r=t[l])&&!_(r)&&!hi((o=l===n)?e:e[l],r,i,n,o,o))return!1;return!0}return i(e,t);case"function":return!1;default:return i(e,t)}}function di(e){return null===e?"null":typeof e}function ci(e){var t=e.NUMBER_FORMATS;return function(e,i,n){_(i)&&(i=t.CURRENCY_SYM),_(n)&&(n=t.PATTERNS[1].maxFrac);var s=i?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:pi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,n).replace(s,i)}}function ui(e){var t=e.NUMBER_FORMATS;return function(e,i){return null==e?e:pi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function pi(e,t,i,n,s){if(!$(e)&&!C(e)||isNaN(e))return"";var r=!isFinite(e),o=!1,a=Math.abs(e)+"",l="";if(r)l="∞";else{for(o=function(e){var t,i,n,s,r,o=0;for(-1<(i=e.indexOf(Gs))&&(e=e.replace(Gs,"")),0<(n=e.search(/e/i))?(0>i&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):0>i&&(i=e.length),n=0;e.charAt(n)===Ks;n++);if(n===(r=e.length))t=[0],i=1;else{for(r--;e.charAt(r)===Ks;)r--;for(i-=n,t=[],s=0;n<=r;n++,s++)t[s]=+e.charAt(n)}return i>qs&&(t=t.splice(0,qs-1),o=i-1,i=1),{d:t,e:o,i:i}}(a),function(e,t,i,n){var s=e.d,r=s.length-e.i;if(n=s[i=(t=_(t)?Math.min(Math.max(i,r),n):+t)+e.i],0<i){s.splice(Math.max(e.i,i));for(var o=i;o<s.length;o++)s[o]=0}else for(r=Math.max(0,r),e.i=1,s.length=Math.max(1,i=t+1),s[0]=0,o=1;o<i;o++)s[o]=0;if(5<=n)if(0>i-1){for(n=0;n>i;n--)s.unshift(0),e.i++;s.unshift(1),e.i++}else s[i-1]++;for(;r<Math.max(0,t);r++)s.push(0);(t=s.reduceRight(function(e,t,i,n){return t+=e,n[i]=t%10,Math.floor(t/10)},0))&&(s.unshift(t),e.i++)}(o,s,t.minFrac,t.maxFrac),l=o.d,a=o.i,s=o.e,r=[],o=l.reduce(function(e,t){return e&&!t},!0);0>a;)l.unshift(0),a++;for(0<a?r=l.splice(a,l.length):(r=l,l=[0]),a=[],l.length>=t.lgSize&&a.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)a.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&a.unshift(l.join("")),l=a.join(i),r.length&&(l+=n+r.join("")),s&&(l+="e+"+s)}return 0>e&&!o?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function mi(e,t,i,n){var s="";for((0>e||n&&0>=e)&&(n?e=1-e:(e=-e,s="-")),e=""+e;e.length<t;)e=Ks+e;return i&&(e=e.substr(e.length-t)),s+e}function fi(e,t,i,n,s){return i=i||0,function(r){return r=r["get"+e](),(0<i||r>-i)&&(r+=i),0===r&&-12===i&&(r=12),mi(r,t,n,s)}}function gi(e,t,i){return function(n,s){var r=n["get"+e]();return s[nn((i?"STANDALONE":"")+(t?"SHORT":"")+e)][r]}}function vi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function _i(e){return function(t){var i=vi(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+i,mi(t=1+Math.round(t/6048e5),e)}}function bi(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function yi(e){function t(e){var t;if(t=e.match(i)){e=new Date(0);var n=0,s=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=u(t[9]+t[10]),s=u(t[9]+t[11])),r.call(e,u(t[1]),u(t[2])-1,u(t[3])),n=u(t[4]||0)-n,s=u(t[5]||0)-s,r=u(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,n,s,r,t)}return e}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,n,s){var o,a,l="",h=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,$(i)&&(i=Ys.test(i)?u(i):t(i)),C(i)&&(i=new Date(i)),!x(i)||!isFinite(i.getTime()))return i;for(;n;)(a=Js.exec(n))?n=(h=R(h,a,1)).pop():(h.push(n),n=null);var d=i.getTimezoneOffset();return s&&(d=H(s,d),i=F(i,s,!0)),r(h,function(t){o=Qs[t],l+=o?o(i,e.DATETIME_FORMATS,d):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function wi(){return function(e,t){return _(t)&&(t=2),z(e,t)}}function $i(){return function(e,t,i){return t=1/0===Math.abs(Number(t))?Number(t):u(t),un(t)?e:(C(e)&&(e=e.toString()),s(e)?(i=0>(i=!i||isNaN(i)?0:u(i))?Math.max(0,e.length+i):i,0<=t?Ci(e,i,i+t):0===i?Ci(e,t,e.length):Ci(e,Math.max(0,i+t),i)):e)}}function Ci(e,t,i){return $(e)?e.slice(t,i):sn.call(e,t,i)}function xi(e){function t(t){return t.map(function(t){var i=1,n=f;if(k(t))n=t;else if($(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(i="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(n=e(t)).constant)){var s=n();n=function(e){return e[s]}}return{get:n,descending:i}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function r(e,t){var i=0,n=e.type;if(n===(s=t.type)){var s=e.value,r=t.value;"string"===n?(s=s.toLowerCase(),r=r.toLowerCase()):"object"===n&&(y(s)&&(s=e.index),y(r)&&(r=t.index)),s!==r&&(i=s<r?-1:1)}else i="undefined"===n?1:"undefined"===s?-1:"null"===n?1:"null"===s||n<s?-1:1;return i}return function(e,o,a,l){if(null==e)return e;if(!s(e))throw n("orderBy")("notarray",e);S(o)||(o=[o]),0===o.length&&(o=["+"]);var h=t(o),d=a?-1:1,c=k(l)?l:r;return e=Array.prototype.map.call(e,function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:h.map(function(n){var s=n.get(e);return n=typeof s,null===s?n="null":"object"===n&&(k(s.valueOf)&&i(s=s.valueOf())||v(s)&&i(s=s.toString())),{value:s,type:n,index:t}})}}),e.sort(function(e,t){for(var i=0,n=h.length;i<n;i++){var s=c(e.predicateValues[i],t.predicateValues[i]);if(s)return s*h[i].descending*d}return(c(e.tieBreaker,t.tieBreaker)||r(e.tieBreaker,t.tieBreaker))*d}),e.map(function(e){return e.value})}}function Si(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function Ii(e,t,i,n,s){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=s(t.name||t.ngForm||"")(i),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=ir,this.$$element=e,this.$$animate=n,ki(this)}function ki(e){e.$$classCache={},e.$$classCache[Rr]=!(e.$$classCache[Nr]=e.$$element.hasClass(Nr))}function Ti(e){function t(e,t,i){i&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!i&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function i(e,i,n){i=i?"-"+te(i,"-"):"",t(e,Nr+i,!0===n),t(e,Rr+i,!1===n)}var n=e.set,s=e.unset;e.clazz.prototype.$setValidity=function(e,r,o){_(r)?(this.$pending||(this.$pending={}),n(this.$pending,e,o)):(this.$pending&&s(this.$pending,e,o),Oi(this.$pending)&&(this.$pending=void 0)),D(r)?r?(s(this.$error,e,o),n(this.$$success,e,o)):(n(this.$error,e,o),s(this.$$success,e,o)):(s(this.$error,e,o),s(this.$$success,e,o)),this.$pending?(t(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(t(this,"ng-pending",!1),this.$valid=Oi(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid)),i(this,e,r=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,r,this)}}function Oi(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Ai(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Di(e,t,i,n,s,r){var o=tn(t[0].type);if(!s.android){var a=!1;t.on("compositionstart",function(){a=!0}),t.on("compositionupdate",function(e){(_(e.data)||""===e.data)&&(a=!1)}),t.on("compositionend",function(){a=!1,h()})}var l,h=function(e){if(l&&(r.defer.cancel(l),l=null),!a){var s=t.val();e=e&&e.type,"password"===o||i.ngTrim&&"false"===i.ngTrim||(s=gn(s)),(n.$viewValue!==s||""===s&&n.$$hasNativeValidators)&&n.$setViewValue(s,e)}};if(s.hasEvent("input"))t.on("input",h);else{var d=function(e,t,i){l||(l=r.defer(function(){l=null,t&&t.value===i||h(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||d(e,this,this.value)}),s.hasEvent("paste")&&t.on("paste cut drop",d)}t.on("change",h),fr[o]&&n.$$hasNativeValidators&&o===i.type&&t.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,i=t.badInput,n=t.typeMismatch;l=r.defer(function(){l=null,t.badInput===i&&t.typeMismatch===n||h(e)})}}),n.$render=function(){var e=n.$isEmpty(n.$viewValue)?"":n.$viewValue;t.val()!==e&&t.val(e)}}function Li(e,t){return function(i,n){var s,o;if(x(i))return i;if($(i)){if('"'===i.charAt(0)&&'"'===i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),or.test(i))return new Date(i);if(e.lastIndex=0,s=e.exec(i))return s.shift(),o=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(s,function(e,i){i<t.length&&(o[t[i]]=+e)}),s=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0),100>o.yyyy&&s.setFullYear(o.yyyy),s}return NaN}}function Pi(e,t,i,n){return function(s,r,o,a,l,h,d,c){function u(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function p(e){return b(e)&&!x(e)?m(e)||void 0:e}function m(e,t){var n=a.$options.getOption("timezone");g&&g!==n&&(t=W(t,H(g)));var s=i(e,t);return!isNaN(s)&&n&&(s=F(s,n)),s}ji(s,r,o,a,e),Di(0,r,o,a,l,h);var f,g,v="time"===e||"datetimelocal"===e;if(a.$parsers.push(function(i){return a.$isEmpty(i)?null:t.test(i)?m(i,f):void(a.$$parserName=e)}),a.$formatters.push(function(e){if(e&&!x(e))throw zr("datefmt",e);if(u(e)){f=e;var t=a.$options.getOption("timezone");t&&(g=t,f=F(f,t,!0));var i=n;return v&&$(a.$options.getOption("timeSecondsFormat"))&&(i=n.replace("ss.sss",a.$options.getOption("timeSecondsFormat")).replace(/:$/,"")),e=d("date")(e,i,t),v&&a.$options.getOption("timeStripZeroSeconds")&&(e=e.replace(/(?::00)?(?:\.000)?$/,"")),e}return g=f=null,""}),b(o.min)||o.ngMin){var y=o.min||c(o.ngMin)(s),w=p(y);a.$validators.min=function(e){return!u(e)||_(w)||i(e)>=w},o.$observe("min",function(e){e!==y&&(w=p(e),y=e,a.$validate())})}if(b(o.max)||o.ngMax){var C=o.max||c(o.ngMax)(s),S=p(C);a.$validators.max=function(e){return!u(e)||_(S)||i(e)<=S},o.$observe("max",function(e){e!==C&&(S=p(e),C=e,a.$validate())})}}}function ji(e,t,i,n,s){(n.$$hasNativeValidators=y(t[0].validity))&&n.$parsers.push(function(e){var i=t.prop("validity")||{};if(!i.badInput&&!i.typeMismatch)return e;n.$$parserName=s})}function Mi(e){e.$parsers.push(function(t){return e.$isEmpty(t)?null:hr.test(t)?parseFloat(t):void(e.$$parserName="number")}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!C(t))throw zr("numfmt",t);t=t.toString()}return t})}function Ei(e){return b(e)&&!C(e)&&(e=parseFloat(e)),un(e)?void 0:e}function Ni(e){var t=e.toString(),i=t.indexOf(".");return-1===i?-1<e&&1>e&&(e=/e-(\d+)$/.exec(t))?Number(e[1]):0:t.length-i-1}function Ri(e,t,i){var n=(0|(e=Number(e)))!==e,s=(0|t)!==t,r=(0|i)!==i;if(n||s||r){var o=n?Ni(e):0,a=s?Ni(t):0,l=r?Ni(i):0;o=Math.max(o,a,l);e*=o=Math.pow(10,o),t*=o,i*=o,n&&(e=Math.round(e)),s&&(t=Math.round(t)),r&&(i=Math.round(i))}return 0===(e-t)%i}function Ui(e,t,i,n,s){if(b(n)){if(!(e=e(n)).constant)throw zr("constexpr",i,n);return e(t)}return s}function Bi(e,t){function i(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var i=[],n=0;e:for(;n<e.length;n++){for(var s=e[n],r=0;r<t.length;r++)if(s===t[r])continue e;i.push(s)}return i}function n(e){if(!e)return e;var t=e;return S(e)?t=e.map(n).join(" "):y(e)?t=Object.keys(e).filter(function(t){return e[t]}).join(" "):$(e)||(t=e+""),t}var s;return e="ngClass"+e,["$parse",function(o){return{restrict:"AC",link:function(a,l,h){function d(e,t){var i=[];return r(e,function(e){(0<t||u[e])&&(u[e]=(u[e]||0)+t,u[e]===+(0<t)&&i.push(e))}),i.join(" ")}var c,u=l.data("$classCounts"),p=!0;u||(u=ae(),l.data("$classCounts",u)),"ngClass"!==e&&(s||(s=o("$index",function(e){return 1&e})),a.$watch(s,function(e){if(e===t){var i=d((i=c)&&i.split(" "),1);h.$addClass(i)}else i=d((i=c)&&i.split(" "),-1),h.$removeClass(i);p=e})),a.$watch(o(h[e],n),function(e){if(p===t){var n=c&&c.split(" "),s=e&&e.split(" "),r=i(n,s);n=i(s,n),r=d(r,-1),n=d(n,1);h.$addClass(n),h.$removeClass(r)}c=e})}}}]}function zi(e,t,i,n,s,r){return{restrict:"A",compile:function(o,a){var l=e(a[n]);return function(e,n){n.on(s,function(n){var s=function(){l(e,{$event:n})};if(t.$$phase)if(r)e.$evalAsync(s);else try{s()}catch(e){i(e)}else e.$apply(s)})}}}}function Vi(e,t,i,n,s,r,o,a,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(i.name||"",!1)(e),this.$$parentForm=ir,this.$options=Vr,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=s(i.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=i,this.$$element=n,this.$$animate=r,this.$$timeout=o,this.$$parse=s,this.$$q=a,this.$$exceptionHandler=t,ki(this),function(e){e.$$scope.$watch(function(t){return(t=e.$$ngModelGet(t))===e.$modelValue||e.$modelValue!=e.$modelValue&&t!=t||e.$$setModelValue(t),t})}(this)}function Hi(e){this.$$options=e}function Wi(e,t){r(t,function(t,i){b(e[i])||(e[i]=t)})}function Fi(e,t){e.prop("selected",t),e.attr("selected",t)}function qi(e,t,i){if(e){if($(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw n("ngPattern")("noregexp",t,e,q(i));return e}}function Gi(e){return e=u(e),un(e)?-1:e}var Ki,Qi,Ji,Yi,Xi={objectMaxDepth:5,urlErrorParamsEnabled:!0},Zi=/^\/(.+)\/([a-z]*)$/,en=Object.prototype.hasOwnProperty,tn=function(e){return $(e)?e.toLowerCase():e},nn=function(e){return $(e)?e.toUpperCase():e},sn=[].slice,rn=[].splice,on=[].push,an=Object.prototype.toString,ln=Object.getPrototypeOf,hn=n("ng"),dn=e.angular||(e.angular={}),cn=0;Ki=e.document.documentMode;var un=Number.isNaN||function(e){return e!=e};m.$inject=[],f.$inject=[];var pn,mn,fn=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,gn=function(e){return $(e)?e.trim():e},vn=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},_n=function(){if(!b(_n.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var i=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");_n.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else{t=_n;try{new Function(""),i=!1}catch(e){i=!0}t.rules={noUnsafeEval:i,noInlineStyle:!1}}}return _n.rules},bn=function(){if(b(bn.name_))return bn.name_;var t,i,n,s,r=wn.length;for(i=0;i<r;++i)if(n=wn[i],t=e.document.querySelector("["+n.replace(":","\\:")+"jq]")){s=t.getAttribute(n+"jq");break}return bn.name_=s},yn=/:/g,wn=["ng-","data-ng-","ng:","x-ng-"],$n=(pn=e.document,!(mn=pn.currentScript)||(mn instanceof e.HTMLScriptElement||mn instanceof e.SVGScriptElement)&&[(mn=mn.attributes).getNamedItem("src"),mn.getNamedItem("href"),mn.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var t=pn.createElement("a");if(t.href=e.value,pn.location.origin===t.origin)return!0;switch(t.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})),Cn=/[A-Z]/g,xn=!1,Sn=3,In={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};fe.expando="ng339";var kn=fe.cache={},Tn=1;fe._data=function(e){return this.cache[e[this.expando]]||{}};var On=/-([a-z])/g,An=/^-ms-/,Dn={mouseleave:"mouseout",mouseenter:"mouseover"},Ln=n("jqLite"),Pn=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,jn=/<|&#?\w+;/,Mn=/<([\w:-]+)/,En=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Nn={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};Nn.tbody=Nn.tfoot=Nn.colgroup=Nn.caption=Nn.thead,Nn.th=Nn.td;var Rn,Un={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(Rn in Nn){var Bn=Nn[Rn],zn=Bn.slice().reverse();Un[Rn]=[zn.length,"<"+zn.join("><")+">","</"+Bn.join("></")+">"]}Un.optgroup=Un.option;var Vn=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Hn=fe.prototype={ready:Le,toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Qi(0<=e?this[e]:this[this.length+e])},length:0,push:on,sort:[].sort,splice:[].splice},Wn={};r("multiple selected checked disabled readOnly required open".split(" "),function(e){Wn[tn(e)]=e});var Fn={};r("input select option textarea button form details".split(" "),function(e){Fn[e]=!0});var qn={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};r({data:Ce,removeData:we,hasData:function(e){for(var t in kn[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,i=e.length;t<i;t++)we(e[t]),ye(e[t])}},function(e,t){fe[t]=e}),r({data:Ce,inheritedData:Oe,scope:function(e){return Qi.data(e,"$scope")||Oe(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Qi.data(e,"$isolateScope")||Qi.data(e,"$isolateScopeNoTemplate")},controller:Te,injector:function(e){return Oe(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:xe,css:function(e,t,i){if(t=ue(t.replace(An,"ms-")),!b(i))return e.style[t];e.style[t]=i},attr:function(e,t,i){if((n=e.nodeType)!==Sn&&2!==n&&8!==n&&e.getAttribute){var n=tn(t),s=Wn[n];if(!b(i))return e=e.getAttribute(t),s&&null!==e&&(e=n),null===e?void 0:e;null===i||!1===i&&s?e.removeAttribute(t):e.setAttribute(t,s?n:i)}},prop:function(e,t,i){if(!b(i))return e[t];e[t]=i},text:function(){function e(e,t){if(_(t)){var i=e.nodeType;return 1===i||i===Sn?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(_(t)){if(e.multiple&&"select"===P(e)){var i=[];return r(e.options,function(e){e.selected&&i.push(e.value||e.text)}),i}return e.value}e.value=t},html:function(e,t){if(_(t))return e.innerHTML;ve(e,!0),e.innerHTML=t},empty:Ae},function(e,t){fe.prototype[t]=function(t,i){var n,s,r=this.length;if(e!==Ae&&_(2===e.length&&e!==xe&&e!==Te?t:i)){if(y(t)){for(n=0;n<r;n++)if(e===Ce)e(this[n],t);else for(s in t)e(this[n],s,t[s]);return this}for(r=_(n=e.$dv)?Math.min(r,1):r,s=0;s<r;s++){var o=e(this[s],t,i);n=n?n+o:o}return n}for(n=0;n<r;n++)e(this[n],t,i);return this}}),r({removeData:we,on:function(e,t,i,n){if(b(n))throw Ln("onargs");if(pe(e)){var s=(n=$e(e,!0)).events,r=n.handle;r||(r=n.handle=function(e,t){var i=function(i,n){i.isDefaultPrevented=function(){return i.defaultPrevented};var s=t[n||i.type],r=s?s.length:0;if(r){if(_(i.immediatePropagationStopped)){var o=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0,i.stopPropagation&&i.stopPropagation(),o&&o.call(i)}}i.isImmediatePropagationStopped=function(){return!0===i.immediatePropagationStopped};var a=s.specialHandlerWrapper||je;1<r&&(s=he(s));for(var l=0;l<r;l++)i.isImmediatePropagationStopped()||a(e,i,s[l])}};return i.elem=e,i}(e,s));for(var o=(n=0<=t.indexOf(" ")?t.split(" "):[t]).length,a=function(t,n,o){var a=s[t];a||((a=s[t]=[]).specialHandlerWrapper=n,"$destroy"===t||o||e.addEventListener(t,r)),a.push(i)};o--;)t=n[o],Dn[t]?(a(Dn[t],Me),a(t,void 0,!0)):a(t)}},off:ye,one:function(e,t,i){(e=Qi(e)).on(t,function n(){e.off(t,i),e.off(t,n)}),e.on(t,i)},replaceWith:function(e,t){var i,n=e.parentNode;ve(e),r(new fe(t),function(t){i?n.insertBefore(t,i.nextSibling):n.replaceChild(t,e),i=t})},children:function(e){var t=[];return r(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){if(1===(i=e.nodeType)||11===i)for(var i=0,n=(t=new fe(t)).length;i<n;i++)e.appendChild(t[i])},prepend:function(e,t){if(1===e.nodeType){var i=e.firstChild;r(new fe(t),function(t){e.insertBefore(t,i)})}},wrap:function(e,t){var i=Qi(t).eq(0).clone()[0],n=e.parentNode;n&&n.replaceChild(i,e),i.appendChild(e)},remove:De,detach:function(e){De(e,!0)},after:function(e,t){var i=e,n=e.parentNode;if(n)for(var s=0,r=(t=new fe(t)).length;s<r;s++){var o=t[s];n.insertBefore(o,i.nextSibling),i=o}},addClass:Ie,removeClass:Se,toggleClass:function(e,t,i){t&&r(t.split(" "),function(t){var n=i;_(n)&&(n=!xe(e,t)),(n?Ie:Se)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ge,triggerHandler:function(e,t,i){var n,s,o=t.type||t,a=$e(e);(a=(a=a&&a.events)&&a[o])&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:m,type:o,target:e},t.type&&(n=d(n,t)),t=he(a),s=i?[n].concat(i):[n],r(t,function(t){n.isImmediatePropagationStopped()||t.apply(e,s)}))}},function(e,t){fe.prototype[t]=function(t,i,n){for(var s,r=0,o=this.length;r<o;r++)_(s)?b(s=e(this[r],t,i,n))&&(s=Qi(s)):ke(s,e(this[r],t,i,n));return b(s)?s:this}}),fe.prototype.bind=fe.prototype.on,fe.prototype.unbind=fe.prototype.off;var Gn=Object.create(null);Re.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return un(e)?Gn:e},get:function(e){if(e=this._transformKey(e),-1!==(e=this._idx(e)))return this._values[e]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var i=this._idx(e);-1===i&&(i=this._lastIndex=this._keys.length),this._keys[i]=e,this._values[i]=t},delete:function(e){return e=this._transformKey(e),-1!==(e=this._idx(e))&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Kn=Re,Qn=[function(){this.$get=[function(){return Kn}]}],Jn=/^([^(]+?)=>/,Yn=/^[^(]*\(\s*([^)]*)\)/m,Xn=/,/,Zn=/^\s*(_?)(\S+?)\1\s*$/,es=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ts=n("$injector");Be.$$annotate=function(e,t,i){var n;if("function"==typeof e){if(!(n=e.$inject)){if(n=[],e.length){if(t)throw $(i)&&i||(i=e.name||function(e){return(e=Ue(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),ts("strictdi",i);r((t=Ue(e))[1].split(Xn),function(e){e.replace(Zn,function(e,t,i){n.push(i)})})}e.$inject=n}}else S(e)?(se(e[t=e.length-1],"fn"),n=e.slice(0,t)):se(e,"fn",!0);return n};var is=n("$animate"),ns=function(){this.$get=m},ss=function(){var e=new Kn,t=[];this.$get=["$$AnimateRunner","$rootScope",function(i,n){function s(e,t,i){var n=!1;return t&&r(t=$(t)?t.split(" "):S(t)?t:[],function(t){t&&(n=!0,e[t]=i)}),n}function o(){r(t,function(t){var i=e.get(t);if(i){var n=function(e){$(e)&&(e=e.split(" "));var t=ae();return r(e,function(e){e.length&&(t[e]=!0)}),t}(t.attr("class")),s="",o="";r(i,function(e,t){e!==!!n[t]&&(e?s+=(s.length?" ":"")+t:o+=(o.length?" ":"")+t)}),r(t,function(e){s&&Ie(e,s),o&&Se(e,o)}),e.delete(t)}}),t.length=0}return{enabled:m,on:m,off:m,pin:m,push:function(r,a,l,h){return h&&h(),(l=l||{}).from&&r.css(l.from),l.to&&r.css(l.to),(l.addClass||l.removeClass)&&(a=l.addClass,h=l.removeClass,a=s(l=e.get(r)||{},a,!0),h=s(l,h,!1),(a||h)&&(e.set(r,l),t.push(r),1===t.length&&n.$$postDigest(o))),(r=new i).complete(),r}}}]},rs=["$provide",function(e){var t=this,i=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(i,n){if(i&&"."!==i.charAt(0))throw is("notcsel",i);var s=i+"-animation";t.$$registeredAnimations[i.substr(1)]=s,e.factory(s,n)},this.customFilter=function(e){return 1===arguments.length&&(n=k(e)?e:null),n},this.classNameFilter=function(e){if(1===arguments.length&&(i=e instanceof RegExp?e:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(i.toString()))throw i=null,is("nongcls","ng-animate");return i},this.$get=["$$animateQueue",function(e){function t(e,t,i){if(i){var n;e:{for(n=0;n<i.length;n++){var s=i[n];if(1===s.nodeType){n=s;break e}}n=void 0}!n||n.parentNode||n.previousElementSibling||(i=null)}i?i.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(i,n,s,r){return n=n&&Qi(n),s=s&&Qi(s),t(i,n=n||s.parent(),s),e.push(i,"enter",He(r))},move:function(i,n,s,r){return n=n&&Qi(n),s=s&&Qi(s),t(i,n=n||s.parent(),s),e.push(i,"move",He(r))},leave:function(t,i){return e.push(t,"leave",He(i),function(){t.remove()})},addClass:function(t,i,n){return(n=He(n)).addClass=Ve(n.addclass,i),e.push(t,"addClass",n)},removeClass:function(t,i,n){return(n=He(n)).removeClass=Ve(n.removeClass,i),e.push(t,"removeClass",n)},setClass:function(t,i,n,s){return(s=He(s)).addClass=Ve(s.addClass,i),s.removeClass=Ve(s.removeClass,n),e.push(t,"setClass",s)},animate:function(t,i,n,s,r){return(r=He(r)).from=r.from?d(r.from,i):i,r.to=r.to?d(r.to,n):n,r.tempClasses=Ve(r.tempClasses,s||"ng-inline-animate"),e.push(t,"animate",r)}}}]}],os=function(){this.$get=["$$rAF",function(e){function t(t){i.push(t),1<i.length||e(function(){for(var e=0;e<i.length;e++)i[e]();i=[]})}var i=[];return function(){var e=!1;return t(function(){e=!0}),function(i){e?i():t(i)}}}]},as=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,i,n,s){function o(e){this.setHost(e);var t=i();this._doneCallbacks=[],this._tick=function(e){n()?s(e,0,!1):t(e)},this._state=0}return o.chain=function(e,t){var i=0;!function n(){i===e.length?t(!0):e[i](function(e){!1===e?t(!1):(i++,n())})}()},o.all=function(e,t){function i(i){s=s&&i,++n===e.length&&t(s)}var n=0,s=!0;r(e,function(e){e.done(i)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:m,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,i){t.done(function(t){!1===t?i():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},ls=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,i){return function(t,n){function s(){return e(function(){r.addClass&&(t.addClass(r.addClass),r.addClass=null),r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null),r.to&&(t.css(r.to),r.to=null),o||a.complete(),o=!0}),a}var r=n||{};r.$$prepared||(r=M(r)),r.cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var o,a=new i;return{start:s,end:s}}}]},hs=n("$compile"),ds=new function(){};Ke.$inject=["$provide","$$sanitizeUriProvider"],Qe.prototype.isFirstChange=function(){return this.previousValue===ds};var cs=/^((?:x|data)[:\-_])/i,us=/[:\-_]+(.)/g,ps=n("$controller"),ms=/^(\S+)(\s+as\s+([\w$]+))?$/,fs=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Qi&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},gs="application/json",vs={"Content-Type":gs+";charset=utf-8"},_s=/^\[|^\{(?!\{)/,bs={"[":/]$/,"{":/}$/},ys=/^\)]\}',?\n/,ws=n("$http"),$s=dn.$interpolateMinErr=n("$interpolate");$s.throwNoconcat=function(e){throw $s("noconcat",e)},$s.interr=function(e,t){return $s("interr",e,t.toString())};var Cs=n("$interval"),xs=function(){this.$get=function(){var e=dn.callbacks,t={};return{createCallback:function(i){var n="angular.callbacks."+(i="_"+(e.$$counter++).toString(36)),s=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(i);return t[n]=e[i]=s,n},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(i){delete e[t[i].id],delete t[i]}}}},Ss=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Is={http:80,https:443,ftp:21},ks=n("$location"),Ts=/^\s*[\\/]{2,}/,Os={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){for(var e=this.$$path,t=this.$$hash,i=function(e){var t=[];return r(e,function(e,i){S(e)?r(e,function(e){t.push(J(i,!0)+(!0===e?"":"="+J(e,!0)))}):t.push(J(i,!0)+(!0===e?"":"="+J(e,!0)))}),t.length?t.join("&"):""}(this.$$search),n=(t=t?"#"+Q(t):"",(e=e.split("/")).length);n--;)e[n]=Q(e[n].replace(/%2F/g,"/"));this.$$url=e.join("/")+(i?"?"+i:"")+t,this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:St("$$absUrl"),url:function(e){if(_(e))return this.$$url;var t=Ss.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:St("$$protocol"),host:St("$$host"),port:St("$$port"),path:It("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if($(e)||C(e))e=e.toString(),this.$$search=K(e);else{if(!y(e))throw ks("isrcharg");r(e=M(e,{}),function(t,i){null==t&&delete e[i]}),this.$$search=e}break;default:_(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:It("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([xt,Ct,$t],function(e){e.prototype=Object.create(Os),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==$t||!this.$$html5)throw ks("nostate");return this.$$state=_(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var As=n("$parse"),Ds={}.constructor.prototype.valueOf,Ls=ae();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Ls[e]=!0});var Ps={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},js=function(e){this.options=e};js.prototype={constructor:js,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(e=this.text.charAt(this.index))||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),i=t+this.peek(2),n=Ls[t],s=Ls[i];Ls[e]||n||s?(e=s?i:n?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var i=e.charCodeAt(0),n=t.charCodeAt(0);return 55296<=i&&56319>=i&&56320<=n&&57343>=n?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,i){throw i=i||this.index,t=b(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i,As("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var i=tn(this.text.charAt(this.index));if("."===i||this.isNumber(i))e+=i;else{var n=this.peek();if("e"===i&&this.isExpOperator(n))e+=i;else if(this.isExpOperator(i)&&n&&this.isNumber(n)&&"e"===e.charAt(e.length-1))e+=i;else{if(!this.isExpOperator(i)||n&&this.isNumber(n)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var i="",n=e,s=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);n=n+r;if(s)"u"===r?((s=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,i+=String.fromCharCode(parseInt(s,16))):i+=Ps[r]||r,s=!1;else if("\\"===r)s=!0;else{if(r===e)return this.index++,void this.tokens.push({index:t,text:n,constant:!0,value:i});i+=r}this.index++}this.throwError("Unterminated quote",t)}};var Ms=function(e,t){this.lexer=e,this.options=t};Ms.Program="Program",Ms.ExpressionStatement="ExpressionStatement",Ms.AssignmentExpression="AssignmentExpression",Ms.ConditionalExpression="ConditionalExpression",Ms.LogicalExpression="LogicalExpression",Ms.BinaryExpression="BinaryExpression",Ms.UnaryExpression="UnaryExpression",Ms.CallExpression="CallExpression",Ms.MemberExpression="MemberExpression",Ms.Identifier="Identifier",Ms.Literal="Literal",Ms.ArrayExpression="ArrayExpression",Ms.Property="Property",Ms.ObjectExpression="ObjectExpression",Ms.ThisExpression="ThisExpression",Ms.LocalsExpression="LocalsExpression",Ms.NGValueParameter="NGValueParameter",Ms.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Ms.Program,body:e}},expressionStatement:function(){return{type:Ms.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!jt(e))throw As("lval");e={type:Ms.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,i=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Ms.ConditionalExpression,test:i,alternate:e,consequent:t}):i},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Ms.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Ms.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Ms.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Ms.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Ms.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Ms.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Ms.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=M(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Ms.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:Ms.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Ms.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Ms.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:Ms.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Ms.Identifier,name:e.text}},constant:function(){return{type:Ms.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ms.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Ms.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ms.ObjectExpression,properties:t}},throwError:function(e,t){throw As("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw As("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw As("ueoe",this.text);return this.tokens[0]},peek:function(e,t,i,n){return this.peekAhead(0,e,t,i,n)},peekAhead:function(e,t,i,n,s){if(this.tokens.length>e){var r=(e=this.tokens[e]).text;if(r===t||r===i||r===n||r===s||!(t||i||n||s))return e}return!1},expect:function(e,t,i,n){return!!(e=this.peek(e,t,i,n))&&(this.tokens.shift(),e)},selfReferential:{this:{type:Ms.ThisExpression},$locals:{type:Ms.LocalsExpression}}};var Es=2;Et.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Lt(e,t.$filter);var i,n="";return this.stage="assign",(i=Mt(e))&&(this.state.computing="assign",n=this.nextId(),this.recurse(i,n),this.return_(n),n="fn.assign="+this.generateFunction("assign","s,v,l")),i=Pt(e.body),t.stage="inputs",r(i,function(e,i){var n="fn"+i;t.state[n]={vars:[],body:[],own:{}},t.state.computing=n;var s=t.nextId();t.recurse(e,s),t.return_(s),t.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=i}),this.state.computing="fn",this.stage="main",this.recurse(e),e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",e=new Function("$filter","getStringValue","ifDefined","plus",e)(this.$filter,Ot,At,Dt),this.state=this.stage=void 0,e},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,i=this;return r(t,function(t){e.push("var "+t.name+"="+i.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(i,n){e.push(i+"=$filter("+t.escape(n)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,i,n,s,o){var a,l,h,d,c,u=this;if(n=n||m,!o&&b(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,i,n,s,!0));else switch(e.type){case Ms.Program:r(e.body,function(t,i){u.recurse(t.expression,void 0,void 0,function(e){l=e}),i!==e.body.length-1?u.current().body.push(l,";"):u.return_(l)});break;case Ms.Literal:d=this.escape(e.value),this.assign(t,d),n(t||d);break;case Ms.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),d=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,d),n(d);break;case Ms.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){a=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),d="+"===e.operator?this.plus(a,l):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(l,0):"("+a+")"+e.operator+"("+l+")",this.assign(t,d),n(d);break;case Ms.LogicalExpression:t=t||this.nextId(),u.recurse(e.left,t),u.if_("&&"===e.operator?t:u.not(t),u.lazyRecurse(e.right,t)),n(t);break;case Ms.ConditionalExpression:t=t||this.nextId(),u.recurse(e.test,t),u.if_(t,u.lazyRecurse(e.alternate,t),u.lazyRecurse(e.consequent,t)),n(t);break;case Ms.Identifier:t=t||this.nextId(),i&&(i.context="inputs"===u.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),i.computed=!1,i.name=e.name),u.if_("inputs"===u.stage||u.not(u.getHasOwnProperty("l",e.name)),function(){u.if_("inputs"===u.stage||"s",function(){s&&1!==s&&u.if_(u.isNull(u.nonComputedMember("s",e.name)),u.lazyAssign(u.nonComputedMember("s",e.name),"{}")),u.assign(t,u.nonComputedMember("s",e.name))})},t&&u.lazyAssign(t,u.nonComputedMember("l",e.name))),n(t);break;case Ms.MemberExpression:a=i&&(i.context=this.nextId())||this.nextId(),t=t||this.nextId(),u.recurse(e.object,a,void 0,function(){u.if_(u.notNull(a),function(){e.computed?(l=u.nextId(),u.recurse(e.property,l),u.getStringValue(l),s&&1!==s&&u.if_(u.not(u.computedMember(a,l)),u.lazyAssign(u.computedMember(a,l),"{}")),d=u.computedMember(a,l),u.assign(t,d),i&&(i.computed=!0,i.name=l)):(s&&1!==s&&u.if_(u.isNull(u.nonComputedMember(a,e.property.name)),u.lazyAssign(u.nonComputedMember(a,e.property.name),"{}")),d=u.nonComputedMember(a,e.property.name),u.assign(t,d),i&&(i.computed=!1,i.name=e.property.name))},function(){u.assign(t,"undefined")}),n(t)},!!s);break;case Ms.CallExpression:t=t||this.nextId(),e.filter?(l=u.filter(e.callee.name),h=[],r(e.arguments,function(e){var t=u.nextId();u.recurse(e,t),h.push(t)}),d=l+"("+h.join(",")+")",u.assign(t,d),n(t)):(l=u.nextId(),a={},h=[],u.recurse(e.callee,l,a,function(){u.if_(u.notNull(l),function(){r(e.arguments,function(t){u.recurse(t,e.constant?void 0:u.nextId(),void 0,function(e){h.push(e)})}),d=a.name?u.member(a.context,a.name,a.computed)+"("+h.join(",")+")":l+"("+h.join(",")+")",u.assign(t,d)},function(){u.assign(t,"undefined")}),n(t)}));break;case Ms.AssignmentExpression:l=this.nextId(),a={},this.recurse(e.left,void 0,a,function(){u.if_(u.notNull(a.context),function(){u.recurse(e.right,l),d=u.member(a.context,a.name,a.computed)+e.operator+l,u.assign(t,d),n(t||d)})},1);break;case Ms.ArrayExpression:h=[],r(e.elements,function(t){u.recurse(t,e.constant?void 0:u.nextId(),void 0,function(e){h.push(e)})}),d="["+h.join(",")+"]",this.assign(t,d),n(t||d);break;case Ms.ObjectExpression:h=[],c=!1,r(e.properties,function(e){e.computed&&(c=!0)}),c?(t=t||this.nextId(),this.assign(t,"{}"),r(e.properties,function(e){e.computed?(a=u.nextId(),u.recurse(e.key,a)):a=e.key.type===Ms.Identifier?e.key.name:""+e.key.value,l=u.nextId(),u.recurse(e.value,l),u.assign(u.member(t,a,e.computed),l)})):(r(e.properties,function(t){u.recurse(t.value,e.constant?void 0:u.nextId(),void 0,function(e){h.push(u.escape(t.key.type===Ms.Identifier?t.key.name:""+t.key.value)+":"+e)})}),d="{"+h.join(",")+"}",this.assign(t,d)),n(t||d);break;case Ms.ThisExpression:this.assign(t,"s"),n(t||"s");break;case Ms.LocalsExpression:this.assign(t,"l"),n(t||"l");break;case Ms.NGValueParameter:this.assign(t,"v"),n(t||"v")}},getHasOwnProperty:function(e,t){var i=e+"."+t,n=this.current().own;return n.hasOwnProperty(i)||(n[i]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),n[i]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,i){if(!0===e)t();else{var n=this.current().body;n.push("if(",e,"){"),t(),n.push("}"),i&&(n.push("else{"),i(),n.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,i){return i?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,i,n,s,r){var o=this;return function(){o.recurse(e,t,i,n,s,r)}},lazyAssign:function(e,t){var i=this;return function(){i.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if($(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw As("esc")},nextId:function(e,t){var i="v"+this.state.nextId++;return e||this.current().vars.push(i+(t?"="+t:"")),i},current:function(){return this.state[this.state.computing]}},Nt.prototype={compile:function(e){var t,i,n,s=this;Lt(e,s.$filter),(t=Mt(e))&&(i=this.recurse(t)),(t=Pt(e.body))&&(n=[],r(t,function(e,t){var i=s.recurse(e);i.isPure=e.isPure,e.input=i,n.push(i),e.watchId=t}));var o=[];return r(e.body,function(e){o.push(s.recurse(e.expression))}),e=0===e.body.length?m:1===e.body.length?o[0]:function(e,t){var i;return r(o,function(n){i=n(e,t)}),i},i&&(e.assign=function(e,t,n){return i(e,n,t)}),n&&(e.inputs=n),e},recurse:function(e,t,i){var n,s,o,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Ms.Literal:return this.value(e.value,t);case Ms.UnaryExpression:return s=this.recurse(e.argument),this["unary"+e.operator](s,t);case Ms.BinaryExpression:case Ms.LogicalExpression:return n=this.recurse(e.left),s=this.recurse(e.right),this["binary"+e.operator](n,s,t);case Ms.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Ms.Identifier:return a.identifier(e.name,t,i);case Ms.MemberExpression:return n=this.recurse(e.object,!1,!!i),e.computed||(s=e.property.name),e.computed&&(s=this.recurse(e.property)),e.computed?this.computedMember(n,s,t,i):this.nonComputedMember(n,s,t,i);case Ms.CallExpression:return o=[],r(e.arguments,function(e){o.push(a.recurse(e))}),e.filter&&(s=this.$filter(e.callee.name)),e.filter||(s=this.recurse(e.callee,!0)),e.filter?function(e,i,n,r){for(var a=[],l=0;l<o.length;++l)a.push(o[l](e,i,n,r));return e=s.apply(void 0,a,r),t?{context:void 0,name:void 0,value:e}:e}:function(e,i,n,r){var a,l=s(e,i,n,r);if(null!=l.value){a=[];for(var h=0;h<o.length;++h)a.push(o[h](e,i,n,r));a=l.value.apply(l.context,a)}return t?{value:a}:a};case Ms.AssignmentExpression:return n=this.recurse(e.left,!0,1),s=this.recurse(e.right),function(e,i,r,o){var a=n(e,i,r,o);return e=s(e,i,r,o),a.context[a.name]=e,t?{value:e}:e};case Ms.ArrayExpression:return o=[],r(e.elements,function(e){o.push(a.recurse(e))}),function(e,i,n,s){for(var r=[],a=0;a<o.length;++a)r.push(o[a](e,i,n,s));return t?{value:r}:r};case Ms.ObjectExpression:return o=[],r(e.properties,function(e){e.computed?o.push({key:a.recurse(e.key),computed:!0,value:a.recurse(e.value)}):o.push({key:e.key.type===Ms.Identifier?e.key.name:""+e.key.value,computed:!1,value:a.recurse(e.value)})}),function(e,i,n,s){for(var r={},a=0;a<o.length;++a)o[a].computed?r[o[a].key(e,i,n,s)]=o[a].value(e,i,n,s):r[o[a].key]=o[a].value(e,i,n,s);return t?{value:r}:r};case Ms.ThisExpression:return function(e){return t?{value:e}:e};case Ms.LocalsExpression:return function(e,i){return t?{value:i}:i};case Ms.NGValueParameter:return function(e,i,n){return t?{value:n}:n}}},"unary+":function(e,t){return function(i,n,s,r){return i=b(i=e(i,n,s,r))?+i:0,t?{value:i}:i}},"unary-":function(e,t){return function(i,n,s,r){return i=b(i=e(i,n,s,r))?-i:-0,t?{value:i}:i}},"unary!":function(e,t){return function(i,n,s,r){return i=!e(i,n,s,r),t?{value:i}:i}},"binary+":function(e,t,i){return function(n,s,r,o){var a=e(n,s,r,o);return a=Dt(a,n=t(n,s,r,o)),i?{value:a}:a}},"binary-":function(e,t,i){return function(n,s,r,o){var a=e(n,s,r,o);return n=t(n,s,r,o),a=(b(a)?a:0)-(b(n)?n:0),i?{value:a}:a}},"binary*":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)*t(n,s,r,o),i?{value:n}:n}},"binary/":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)/t(n,s,r,o),i?{value:n}:n}},"binary%":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)%t(n,s,r,o),i?{value:n}:n}},"binary===":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)===t(n,s,r,o),i?{value:n}:n}},"binary!==":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)!==t(n,s,r,o),i?{value:n}:n}},"binary==":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)==t(n,s,r,o),i?{value:n}:n}},"binary!=":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)!=t(n,s,r,o),i?{value:n}:n}},"binary<":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)<t(n,s,r,o),i?{value:n}:n}},"binary>":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)>t(n,s,r,o),i?{value:n}:n}},"binary<=":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)<=t(n,s,r,o),i?{value:n}:n}},"binary>=":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)>=t(n,s,r,o),i?{value:n}:n}},"binary&&":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)&&t(n,s,r,o),i?{value:n}:n}},"binary||":function(e,t,i){return function(n,s,r,o){return n=e(n,s,r,o)||t(n,s,r,o),i?{value:n}:n}},"ternary?:":function(e,t,i,n){return function(s,r,o,a){return s=e(s,r,o,a)?t(s,r,o,a):i(s,r,o,a),n?{value:s}:s}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,i){return function(n,s,r,o){return n=s&&e in s?s:n,i&&1!==i&&n&&null==n[e]&&(n[e]={}),s=n?n[e]:void 0,t?{context:n,name:e,value:s}:s}},computedMember:function(e,t,i,n){return function(s,r,o,a){var l,h,d=e(s,r,o,a);return null!=d&&(l=t(s,r,o,a),l+="",n&&1!==n&&d&&!d[l]&&(d[l]={}),h=d[l]),i?{context:d,name:l,value:h}:h}},nonComputedMember:function(e,t,i,n){return function(s,r,o,a){return s=e(s,r,o,a),n&&1!==n&&s&&null==s[t]&&(s[t]={}),r=null!=s?s[t]:void 0,i?{context:s,name:t,value:r}:r}},inputs:function(e,t){return function(i,n,s,r){return r?r[t]:e(i,n,s)}}},Rt.prototype={constructor:Rt,parse:function(e){e=this.getAst(e);var t=this.astCompiler.compile(e.ast),i=e.ast;return t.literal=0===i.body.length||1===i.body.length&&(i.body[0].expression.type===Ms.Literal||i.body[0].expression.type===Ms.ArrayExpression||i.body[0].expression.type===Ms.ObjectExpression),t.constant=e.ast.constant,t.oneTime=e.oneTime,t},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Ns,Rs=n("$sce"),Us={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Bs=/_([a-z])/g,zs=n("$templateRequest"),Vs=n("$timeout"),Hs=e.document.createElement("a"),Ws=ii(e.location.href);Hs.href="http://[::1]";var Fs="[::1]"===Hs.hostname;ri.$inject=["$document"],ai.$inject=["$provide"];var qs=22,Gs=".",Ks="0";ci.$inject=["$locale"],ui.$inject=["$locale"];var Qs={yyyy:fi("FullYear",4,0,!1,!0),yy:fi("FullYear",2,0,!0,!0),y:fi("FullYear",1,0,!1,!0),MMMM:gi("Month"),MMM:gi("Month",!0),MM:fi("Month",2,1),M:fi("Month",1,1),LLLL:gi("Month",!1,!0),dd:fi("Date",2),d:fi("Date",1),HH:fi("Hours",2),H:fi("Hours",1),hh:fi("Hours",2,-12),h:fi("Hours",1,-12),mm:fi("Minutes",2),m:fi("Minutes",1),ss:fi("Seconds",2),s:fi("Seconds",1),sss:fi("Milliseconds",3),EEEE:gi("Day"),EEE:gi("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,i){return(0<=(e=-1*i)?"+":"")+(mi(Math[0<e?"floor":"ceil"](e/60),2)+mi(Math.abs(e%60),2))},ww:_i(2),w:_i(1),G:bi,GG:bi,GGG:bi,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Js=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ys=/^-?\d+$/;yi.$inject=["$locale"];var Xs=g(tn),Zs=g(nn);xi.$inject=["$parse"];var er=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===an.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(i)||e.preventDefault()})}}}}),tr={};r(Wn,function(e,t){function i(e,i,s){e.$watch(s[n],function(e){s.$set(t,!!e)})}if("multiple"!==e){var n=Je("ng-"+t),s=i;"checked"===e&&(s=function(e,t,s){s.ngModel!==s[n]&&i(e,0,s)}),tr[n]=function(){return{restrict:"A",priority:100,link:s}}}}),r(qn,function(e,t){tr[t]=function(){return{priority:100,link:function(e,i,n){"ngPattern"===t&&"/"===n.ngPattern.charAt(0)&&(i=n.ngPattern.match(Zi))?n.$set("ngPattern",new RegExp(i[1],i[2])):e.$watch(n[t],function(e){n.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=Je("ng-"+e);tr[t]=["$sce",function(i){return{priority:99,link:function(n,s,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===an.call(s.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$set(t,i.getTrustedMediaUrl(r[t])),r.$observe(t,function(t){t?(r.$set(a,t),Ki&&o&&s.prop(o,r[a])):"href"===e&&r.$set(a,null)})}}}]});var ir={$addControl:m,$getControls:g([]),$$renameControl:function(e,t){e.$name=t},$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m,$$setSubmitted:m};Ii.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ii.prototype={$rollbackViewValue:function(){r(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){r(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){re(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return he(this.$$controls)},$$renameControl:function(e,t){var i=e.$name;this[i]===e&&delete this[i],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],r(this.$pending,function(t,i){this.$setValidity(i,null,e)},this),r(this.$error,function(t,i){this.$setValidity(i,null,e)},this),r(this.$$success,function(t,i){this.$setValidity(i,null,e)},this),j(this.$$controls,e),e.$$parentForm=ir},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ur),this.$$animate.addClass(this.$$element,Br),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ur,Br+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,r(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){r(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==ir;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,r(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},Ti({clazz:Ii,set:function(e,t,i){var n=e[t];n?-1===n.indexOf(i)&&n.push(i):e[t]=[i]},unset:function(e,t,i){var n=e[t];n&&(j(n,i),0===n.length&&delete e[t])}});var nr=function(e){return["$timeout","$parse",function(t,i){function n(e){return""===e?i('this[""]').assign:i(e).assign||m}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Ii,compile:function(i,s){i.addClass(Ur).addClass(Nr);var r=s.name?"name":!(!e||!s.ngForm)&&"ngForm";return{pre:function(e,i,s,o){var a=o[0];if(!("action"in s)){var l=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};i[0].addEventListener("submit",l),i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",l)},0,!1)})}(o[1]||a.$$parentForm).$addControl(a);var h=r?n(a.$name):m;r&&(h(e,a),s.$observe(r,function(t){a.$name!==t&&(h(e,void 0),a.$$parentForm.$$renameControl(a,t),(h=n(a.$name))(e,a))})),i.on("$destroy",function(){a.$$parentForm.$removeControl(a),h(e,void 0),d(a,ir)})}}}}}]},sr=nr(),rr=nr(!0),or=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ar=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,lr=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,hr=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,dr=/^(\d{4,})-(\d{2})-(\d{2})$/,cr=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ur=/^(\d{4,})-W(\d\d)$/,pr=/^(\d{4,})-(\d\d)$/,mr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fr=ae();r(["date","datetime-local","month","time","week"],function(e){fr[e]=!0});var gr={text:function(e,t,i,n,s,r){Di(0,t,i,n,s,r),Ai(n)},date:Pi("date",dr,Li(dr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Pi("datetimelocal",cr,Li(cr,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Pi("time",mr,Li(mr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Pi("week",ur,function(e,t){if(x(e))return e;if($(e)){ur.lastIndex=0;var i=ur.exec(e);if(i){var n=+i[1],s=+i[2],r=i=0,o=0,a=0,l=vi(n);s=7*(s-1);return t&&(i=t.getHours(),r=t.getMinutes(),o=t.getSeconds(),a=t.getMilliseconds()),new Date(n,0,l.getDate()+s,i,r,o,a)}}return NaN},"yyyy-Www"),month:Pi("month",pr,Li(pr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,n,s,r,o,a){var l;if(ji(0,t,0,n,"number"),Mi(n),Di(0,t,i,n,s,r),b(i.min)||i.ngMin){var h=i.min||a(i.ngMin)(e);l=Ei(h),n.$validators.min=function(e,t){return n.$isEmpty(t)||_(l)||t>=l},i.$observe("min",function(e){e!==h&&(l=Ei(e),h=e,n.$validate())})}if(b(i.max)||i.ngMax){var d=i.max||a(i.ngMax)(e),c=Ei(d);n.$validators.max=function(e,t){return n.$isEmpty(t)||_(c)||t<=c},i.$observe("max",function(e){e!==d&&(c=Ei(e),d=e,n.$validate())})}if(b(i.step)||i.ngStep){var u=i.step||a(i.ngStep)(e),p=Ei(u);n.$validators.step=function(e,t){return n.$isEmpty(t)||_(p)||Ri(t,l||0,p)},i.$observe("step",function(e){e!==u&&(p=Ei(e),u=e,n.$validate())})}},url:function(e,t,i,n,s,r){Di(0,t,i,n,s,r),Ai(n),n.$validators.url=function(e,t){var i=e||t;return n.$isEmpty(i)||ar.test(i)}},email:function(e,t,i,n,s,r){Di(0,t,i,n,s,r),Ai(n),n.$validators.email=function(e,t){var i=e||t;return n.$isEmpty(i)||lr.test(i)}},radio:function(e,t,i,n){var s=!i.ngTrim||"false"!==gn(i.ngTrim);_(i.name)&&t.attr("name",++cn),t.on("change",function(e){var r;t[0].checked&&(r=i.value,s&&(r=gn(r)),n.$setViewValue(r,e&&e.type))}),n.$render=function(){var e=i.value;s&&(e=gn(e)),t[0].checked=e===n.$viewValue},i.$observe("value",n.$render)},range:function(e,t,i,n,s,r){function o(e,n){t.attr(e,i[e]);var s=i[e];i.$observe(e,function(e){e!==s&&(s=e,n(e))})}ji(0,t,0,n,"range"),Mi(n),Di(0,t,i,n,s,r);var a=n.$$hasNativeValidators&&"range"===t[0].type,l=a?0:void 0,h=a?100:void 0,d=a?1:void 0,c=t[0].validity;e=b(i.min),s=b(i.max),r=b(i.step);var u=n.$render;n.$render=a&&b(c.rangeUnderflow)&&b(c.rangeOverflow)?function(){u(),n.$setViewValue(t.val())}:u,e&&(l=Ei(i.min),n.$validators.min=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||_(l)||t>=l},o("min",function(e){l=Ei(e),un(n.$modelValue)||(a?(e=t.val(),l>e&&(e=l,t.val(e)),n.$setViewValue(e)):n.$validate())})),s&&(h=Ei(i.max),n.$validators.max=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||_(h)||t<=h},o("max",function(e){h=Ei(e),un(n.$modelValue)||(a?(e=t.val(),h<e&&(t.val(h),e=h<l?l:h),n.$setViewValue(e)):n.$validate())})),r&&(d=Ei(i.step),n.$validators.step=a?function(){return!c.stepMismatch}:function(e,t){return n.$isEmpty(t)||_(d)||Ri(t,l||0,d)},o("step",function(e){d=Ei(e),un(n.$modelValue)||(a?n.$viewValue!==t.val()&&n.$setViewValue(t.val()):n.$validate())}))},checkbox:function(e,t,i,n,s,r,o,a){var l=Ui(a,e,"ngTrueValue",i.ngTrueValue,!0),h=Ui(a,e,"ngFalseValue",i.ngFalseValue,!1);t.on("change",function(e){n.$setViewValue(t[0].checked,e&&e.type)}),n.$render=function(){t[0].checked=n.$viewValue},n.$isEmpty=function(e){return!1===e},n.$formatters.push(function(e){return N(e,l)}),n.$parsers.push(function(e){return e?l:h})},hidden:m,button:m,submit:m,reset:m,file:m},vr=["$browser","$sniffer","$filter","$parse",function(e,t,i,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(s,r,o,a){a[0]&&(gr[tn(o.type)]||gr.text)(s,r,o,a[0],t,e,i,n)}}}}],_r=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,i){if("hidden"===tn(i.type))return{pre:function(t,i,n,s){(t=i[0]).parentNode&&t.parentNode.insertBefore(t,t.nextSibling),Object.defineProperty&&Object.defineProperty(t,"value",e)}}}}},br=/^(true|false|\d+)$/,yr=function(){function e(e,t,i){var n=b(i)?i:9===Ki?"":null;e.prop("value",n),t.$set("value",i)}return{restrict:"A",priority:100,compile:function(t,i){return br.test(i.ngValue)?function(t,i,n){e(i,n,t=t.$eval(n.ngValue))}:function(t,i,n){t.$watch(n.ngValue,function(t){e(i,n,t)})}}}},wr=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,n){e.$$addBindingInfo(i,n.ngBind),i=i[0],t.$watch(n.ngBind,function(e){i.textContent=le(e)})}}}}],$r=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,n,s){i=e(n.attr(s.$attr.ngBindTemplate)),t.$$addBindingInfo(n,i.expressions),n=n[0],s.$observe("ngBindTemplate",function(e){n.textContent=_(e)?"":e})}}}}],Cr=["$sce","$parse","$compile",function(e,t,i){return{restrict:"A",compile:function(n,s){var r=t(s.ngBindHtml),o=t(s.ngBindHtml,function(t){return e.valueOf(t)});return i.$$addBindingClass(n),function(t,n,s){i.$$addBindingInfo(n,s.ngBindHtml),t.$watch(o,function(){var i=r(t);n.html(e.getTrustedHtml(i)||"")})}}}}],xr=g({restrict:"A",require:"ngModel",link:function(e,t,i,n){n.$viewChangeListeners.push(function(){e.$eval(i.ngChange)})}}),Sr=Bi("",!0),Ir=Bi("Odd",0),kr=Bi("Even",1),Tr=Si({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Or=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ar={},Dr={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Je("ng-"+e);Ar[t]=["$parse","$rootScope","$exceptionHandler",function(i,n,s){return zi(i,n,s,t,e,Dr[e])}]});var Lr=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,n,s,r,o){var a,l,h;i.$watch(s.ngIf,function(i){i?l||o(function(i,r){l=r,i[i.length++]=t.$$createComment("end ngIf",s.ngIf),a={clone:i},e.enter(i,n.parent(),n)}):(h&&(h.remove(),h=null),l&&(l.$destroy(),l=null),a&&(h=oe(a.clone),e.leave(h).done(function(e){!1!==e&&(h=null)}),a=null))})}}}],Pr=["$templateRequest","$anchorScroll","$animate",function(e,t,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:dn.noop,compile:function(n,s){var r=s.ngInclude||s.src,o=s.onload||"",a=s.autoscroll;return function(n,s,l,h,d){var c,u,p,m=0,f=function(){u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),p&&(i.leave(p).done(function(e){!1!==e&&(u=null)}),u=p,p=null)};n.$watch(r,function(r){var l=function(e){!1===e||!b(a)||a&&!n.$eval(a)||t()},u=++m;r?(e(r,!0).then(function(e){if(!n.$$destroyed&&u===m){var t=n.$new();h.template=e,e=d(t,function(e){f(),i.enter(e,null,s).done(l)}),p=e,(c=t).$emit("$includeContentLoaded",r),n.$eval(o)}},function(){n.$$destroyed||u!==m||(f(),n.$emit("$includeContentError",r))}),n.$emit("$includeContentRequested",r)):(f(),h.template=null)})}}}}],jr=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,n,s,r){an.call(n[0]).match(/SVG/)?(n.empty(),t(me(r.template,e.document).childNodes)(i,function(e){n.append(e)},{futureParentElement:n})):(n.html(r.template),t(n.contents())(i))}}}],Mr=Si({priority:450,compile:function(){return{pre:function(e,t,i){e.$eval(i.ngInit)}}}}),Er=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,n){var s=i.ngList||", ",o="false"!==i.ngTrim,a=o?gn(s):s;n.$parsers.push(function(e){if(!_(e)){var t=[];return e&&r(e.split(a),function(e){e&&t.push(o?gn(e):e)}),t}}),n.$formatters.push(function(e){if(S(e))return e.join(s)}),n.$isEmpty=function(e){return!e||!e.length}}}},Nr="ng-valid",Rr="ng-invalid",Ur="ng-pristine",Br="ng-dirty",zr=n("ngModel");Vi.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Vi.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var i=this.$$parsedNgModel(t);return k(i)&&(i=e(t)),i},this.$$ngModelSet=function(e,i){k(this.$$parsedNgModel(e))?t(e,{$$$p:i}):this.$$parsedNgModelAssign(e,i)}}else if(!this.$$parsedNgModel.assign)throw zr("nonassign",this.$$attr.ngModel,q(this.$$element))},$render:m,$isEmpty:function(e){return _(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Br),this.$$animate.addClass(this.$$element,Ur)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ur),this.$$animate.addClass(this.$$element,Br),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!un(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,i=this.$valid,n=this.$modelValue,s=this.$options.getOption("allowInvalid"),r=this;this.$$runValidators(t,e,function(e){s||i===e||(r.$modelValue=e?t:void 0,r.$modelValue!==n&&r.$$writeModelToScope())})}},$$runValidators:function(e,t,i){function n(e,t){o===a.$$currentValidationRunId&&a.$setValidity(e,t)}function s(e){o===a.$$currentValidationRunId&&i(e)}this.$$currentValidationRunId++;var o=this.$$currentValidationRunId,a=this;!function(){var e=a.$$parserName;return _(a.$$parserValid)?(n(e,null),!0):(a.$$parserValid||(r(a.$validators,function(e,t){n(t,null)}),r(a.$asyncValidators,function(e,t){n(t,null)})),n(e,a.$$parserValid),a.$$parserValid)}()?s(!1):function(){var i=!0;return r(a.$validators,function(s,r){var o=Boolean(s(e,t));i=i&&o,n(r,o)}),!!i||(r(a.$asyncValidators,function(e,t){n(t,null)}),!1)}()?function(){var i=[],o=!0;r(a.$asyncValidators,function(s,r){var a=s(e,t);if(!a||!k(a.then))throw zr("nopromise",a);n(r,void 0),i.push(a.then(function(){n(r,!0)},function(){o=!1,n(r,!1)}))}),i.length?a.$$q.all(i).then(function(){s(o)},m):s(!0)}():s(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!_(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(_(e=this.$parsers[i](e))){this.$$parserValid=!1;break}un(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var n=this.$modelValue,s=this.$options.getOption("allowInvalid");this.$$rawModelValue=e,s&&(this.$modelValue=e,t.$modelValue!==n&&t.$$writeModelToScope()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(i){s||(t.$modelValue=i?e:void 0,t.$modelValue!==n&&t.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),r(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");C(t[e])?t=t[e]:C(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:C(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var i=this;0<t?this.$$pendingDebounce=this.$$timeout(function(){i.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){i.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,m))},$$format:function(){for(var e=this.$formatters,t=e.length,i=this.$modelValue;t--;)i=e[t](i);return i},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),(this.$$updateEvents=this.$options.getOption("updateOn"))&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},Ti({clazz:Vi,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Vr,Hr=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Vi,priority:1,compile:function(t){return t.addClass(Ur).addClass("ng-untouched").addClass(Nr),{pre:function(e,t,i,n){var s=n[0];t=n[1]||s.$$parentForm,(n=n[2])&&(s.$options=n.$options),s.$$initGetterSetters(),t.$addControl(s),i.$observe("name",function(e){s.$name!==e&&s.$$parentForm.$$renameControl(s,e)}),e.$on("$destroy",function(){s.$$parentForm.$removeControl(s)})},post:function(t,i,n,s){function r(){o.$setTouched()}var o=s[0];o.$$setUpdateOnEvents(),i.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(r):t.$apply(r))})}}}}}],Wr=/(\s+|^)default(\s+|$)/;Hi.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return r(e=d({},e),function(i,n){"$inherit"===i?"*"===n?t=!0:(e[n]=this.$$options[n],"updateOn"===n&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===n&&(e.updateOnDefault=!1,e[n]=gn(i.replace(Wr,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],Wi(e,this.$$options)),Wi(e,Vr.$$options),new Hi(e)}},Vr=new Hi({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Fr=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Vr,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},qr=Si({terminal:!0,priority:1e3}),Gr=n("ngOptions"),Kr=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Qr=["$compile","$document","$parse",function(t,i,n){function o(e,t,i){function r(e,t,i,n,s){this.selectValue=e,this.viewValue=t,this.label=i,this.group=n,this.disabled=s}function o(e){var t;if(!h&&s(e))t=e;else for(var i in t=[],e)e.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i);return t}var a=e.match(Kr);if(!a)throw Gr("iexp",e,q(t));var l=a[5]||a[7],h=a[6];e=/ as /.test(a[0])&&a[1];var d=a[9];t=n(a[2]?a[1]:l);var c=e&&n(e)||t,u=d&&n(d),p=d?function(e,t){return u(i,t)}:function(e){return Ne(e)},m=function(e,t){return p(e,y(e,t))},f=n(a[2]||a[1]),g=n(a[3]||""),v=n(a[4]||""),_=n(a[8]),b={},y=h?function(e,t){return b[h]=t,b[l]=e,b}:function(e){return b[l]=e,b};return{trackBy:d,getTrackByValue:m,getWatchables:n(_,function(e){for(var t=[],n=o(e=e||[]),s=n.length,r=0;r<s;r++){var l=e[h=e===n?r:n[r]],h=y(l,h);l=p(l,h);t.push(l),(a[2]||a[1])&&(l=f(i,h),t.push(l)),a[4]&&(h=v(i,h),t.push(h))}return t}),getOptions:function(){for(var e=[],t={},n=_(i)||[],s=o(n),a=s.length,l=0;l<a;l++){var h=n===s?l:s[l],u=y(n[h],h),b=c(i,u);b=new r(h=p(b,u),b,f(i,u),g(i,u),u=v(i,u));e.push(b),t[h]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[m(e)]},getViewValueFromOption:function(e){return d?M(e.viewValue):e.viewValue}}}}}var a=e.document.createElement("option"),l=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,i,n){n[0].registerOption=m},post:function(e,n,s,h){function d(e){var t=(e=v.getOptionFromViewValue(e))&&e.element;return t&&!t.selected&&(t.selected=!0),e}function c(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}var u=h[0],p=h[1],m=s.multiple;h=0;for(var f=n.children(),g=f.length;h<g;h++)if(""===f[h].value){u.hasEmptyOption=!0,u.emptyOption=f.eq(h);break}n.empty(),h=!!u.emptyOption,Qi(a.cloneNode(!1)).val("?");var v,_=o(s.ngOptions,n,e),y=i[0].createDocumentFragment();u.generateUnknownOptionValue=function(e){return"?"},m?(u.writeValue=function(e){if(v){var t=e&&e.map(d)||[];v.items.forEach(function(e){e.element.selected&&-1===Array.prototype.indexOf.call(t,e)&&(e.element.selected=!1)})}},u.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){(e=v.selectValueMap[e])&&!e.disabled&&t.push(v.getViewValueFromOption(e))}),t},_.trackBy&&e.$watchCollection(function(){if(S(p.$viewValue))return p.$viewValue.map(function(e){return _.getTrackByValue(e)})},function(){p.$render()})):(u.writeValue=function(e){if(v){var t=n[0].options[n[0].selectedIndex],i=v.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),i?(n[0].value!==i.selectValue&&(u.removeUnknownOption(),n[0].value=i.selectValue,i.element.selected=!0),i.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(e)}},u.readValue=function(){var e=v.selectValueMap[n.val()];return e&&!e.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),v.getViewValueFromOption(e)):null},_.trackBy&&e.$watch(function(){return _.getTrackByValue(p.$viewValue)},function(){p.$render()})),h&&(t(u.emptyOption)(e),n.prepend(u.emptyOption),8===u.emptyOption[0].nodeType?(u.hasEmptyOption=!1,u.registerOption=function(e,t){""===t.val()&&(u.hasEmptyOption=!0,u.emptyOption=t,u.emptyOption.removeClass("ng-scope"),p.$render(),t.on("$destroy",function(){var e=u.$isEmptyOptionSelected();u.hasEmptyOption=!1,u.emptyOption=void 0,e&&p.$render()}))}):u.emptyOption.removeClass("ng-scope")),e.$watchCollection(_.getWatchables,function(){var e=v&&u.readValue();if(v)for(var t=v.items.length-1;0<=t;t--){var i=v.items[t];b(i.group)?De(i.element.parentNode):De(i.element)}v=_.getOptions();var s={};v.items.forEach(function(e){var t;if(b(e.group)){(t=s[e.group])||(t=l.cloneNode(!1),y.appendChild(t),t.label=null===e.group?"null":e.group,s[e.group]=t);var i=a.cloneNode(!1);t.appendChild(i),c(e,i)}else t=a.cloneNode(!1),y.appendChild(t),c(e,t)}),n[0].appendChild(y),p.$render(),p.$isEmpty(e)||(t=u.readValue(),(_.trackBy||m?N(e,t):e===t)||(p.$setViewValue(t),p.$render()))})}}}}],Jr=["$locale","$interpolate","$log",function(e,t,i){var n=/{}/g,s=/^when(Minus)?(.+)$/;return{link:function(o,a,l){function h(e){a.text(e||"")}var d,c=l.count,u=l.$attr.when&&a.attr(l.$attr.when),p=l.offset||0,f=o.$eval(u)||{},g={},v=t.startSymbol(),b=t.endSymbol(),y=v+c+"-"+p+b,w=dn.noop;r(l,function(e,t){var i=s.exec(t);i&&(i=(i[1]?"-":"")+tn(i[2]),f[i]=a.attr(l.$attr[t]))}),r(f,function(e,i){g[i]=t(e.replace(n,y))}),o.$watch(c,function(t){var n=parseFloat(t),s=un(n);s||n in f||(n=e.pluralCat(n-p)),n===d||s&&un(d)||(w(),_(s=g[n])?(null!=t&&i.debug("ngPluralize: no rule defined for '"+n+"' in "+u),w=m,h()):w=o.$watch(s,h),d=n)})}}}],Yr=n("ngRef"),Xr=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,i){var n=Je(P(t)),s=e(i.ngRef),r=s.assign||function(){throw Yr("nonassign",i.ngRef)};return function(e,t,o){var a;if(o.hasOwnProperty("ngRefRead")){if("$element"===o.ngRefRead)a=t;else if(!(a=t.data("$"+o.ngRefRead+"Controller")))throw Yr("noctrl",o.ngRefRead,i.ngRef)}else a=t.data("$"+n+"Controller");r(e,a=a||t),t.on("$destroy",function(){s(e)===a&&r(e,null)})}}}}],Zr=["$parse","$animate","$compile",function(e,t,i){var o=n("ngRepeat"),a=function(e,t,i,n,s,r,o){e[i]=n,s&&(e[s]=r),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=!(1&t))},l=function(e,t,i){return Ne(i)},h=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(n,d){var c=d.ngRepeat,u=i.$$createComment("end ngRepeat",c);if(!(p=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw o("iexp",c);var p,m=p[1],f=p[2],g=p[3],v=p[4];if(!(p=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw o("iidexp",m);var _,b=p[3]||p[1],y=p[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw o("badident",g);if(v){var w={$id:Ne},$=e(v);_=function(e,t,i,n){return y&&(w[y]=t),w[b]=i,w.$index=n,$(e,w)}}return function(e,i,n,d,p){var m=ae();e.$watchCollection(f,function(n){var d,f,v,$,C,x,S,I,k,T,O=i[0],A=ae();if(g&&(e[g]=n),s(n))I=n,f=_||l;else for(T in f=_||h,I=[],n)en.call(n,T)&&"$"!==T.charAt(0)&&I.push(T);for($=I.length,T=Array($),d=0;d<$;d++)if(C=n===I?d:I[d],x=n[C],S=f(e,C,x,d),m[S])k=m[S],delete m[S],A[S]=k,T[d]=k;else{if(A[S])throw r(T,function(e){e&&e.scope&&(m[e.id]=e)}),o("dupes",c,S,x);T[d]={id:S,scope:void 0,clone:void 0},A[S]=!0}for(v in w&&(w[b]=void 0),m){if(S=oe((k=m[v]).clone),t.leave(S),S[0].parentNode)for(d=0,f=S.length;d<f;d++)S[d].$$NG_REMOVED=!0;k.scope.$destroy()}for(d=0;d<$;d++)if(C=n===I?d:I[d],x=n[C],(k=T[d]).scope){v=O;do{v=v.nextSibling}while(v&&v.$$NG_REMOVED);k.clone[0]!==v&&t.move(oe(k.clone),null,O),O=k.clone[k.clone.length-1],a(k.scope,d,b,x,y,C,$)}else p(function(e,i){k.scope=i;var n=u.cloneNode(!1);e[e.length++]=n,t.enter(e,null,O),O=n,k.clone=e,A[k.id]=k,a(k.scope,d,b,x,y,C,$)});m=A})}}}}],eo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngShow,function(t){e[t?"removeClass":"addClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],to=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngHide,function(t){e[t?"addClass":"removeClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],io=Si(function(e,t,i){e.$watchCollection(i.ngStyle,function(e,i){i&&e!==i&&r(i,function(e,i){t.css(i,"")}),e&&t.css(e)})}),no=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,n,s,o){var a=[],l=[],h=[],d=[],c=function(e,t){return function(i){!1!==i&&e.splice(t,1)}};i.$watch(s.ngSwitch||s.on,function(i){for(var n,s;h.length;)e.cancel(h.pop());for(n=0,s=d.length;n<s;++n){var u=oe(l[n].clone);d[n].$destroy(),(h[n]=e.leave(u)).done(c(h,n))}l.length=0,d.length=0,(a=o.cases["!"+i]||o.cases["?"])&&r(a,function(i){i.transclude(function(n,s){d.push(s);var r=i.element;n[n.length++]=t.$$createComment("end ngSwitchWhen"),l.push({clone:n}),e.enter(n,r.parent(),r)})})})}}}],so=Si({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,s){e=i.ngSwitchWhen.split(i.ngSwitchWhenSeparator).sort().filter(function(e,t,i){return i[t-1]!==e}),r(e,function(e){n.cases["!"+e]=n.cases["!"+e]||[],n.cases["!"+e].push({transclude:s,element:t})})}}),ro=Si({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,s){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:s,element:t})}}),oo=n("ngTransclude"),ao=["$compile",function(e){return{restrict:"EAC",compile:function(t){var i=e(t.contents());return t.empty(),function(e,t,n,s,r){function o(){i(e,function(e){t.append(e)})}if(!r)throw oo("orphan",q(t));n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),r(function(e,i){var n;if(n=e.length)e:{n=0;for(var s=e.length;n<s;n++){var r=e[n];if(r.nodeType!==Sn||r.nodeValue.trim()){n=!0;break e}}n=void 0}n?t.append(e):(o(),i.$destroy())},null,n=n.ngTransclude||n.ngTranscludeSlot),n&&!r.isSlotFilled(n)&&o()}}}}],lo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,i){"text/ng-template"===i.type&&e.put(i.id,t[0].text)}}}],ho={$setViewValue:m,$render:m},co=["$element","$scope",function(t,i){function n(){a||(a=!0,i.$$postDigest(function(){a=!1,r.ngModelCtrl.$render()}))}function s(e){l||(l=!0,i.$$postDigest(function(){i.$$destroyed||(l=!1,r.ngModelCtrl.$setViewValue(r.readValue()),e&&r.ngModelCtrl.$render())}))}var r=this,o=new Kn;r.selectValueMap={},r.ngModelCtrl=ho,r.multiple=!1,r.unknownOption=Qi(e.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(e){e=r.generateUnknownOptionValue(e),r.unknownOption.val(e),t.prepend(r.unknownOption),Fi(r.unknownOption,!0),t.val(e)},r.updateUnknownOption=function(e){e=r.generateUnknownOptionValue(e),r.unknownOption.val(e),Fi(r.unknownOption,!0),t.val(e)},r.generateUnknownOptionValue=function(e){return"? "+Ne(e)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(t.val(""),Fi(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&Fi(r.emptyOption,!1)},i.$on("$destroy",function(){r.renderUnknownOption=m}),r.readValue=function(){var e=(e=t.val())in r.selectValueMap?r.selectValueMap[e]:e;return r.hasOption(e)?e:null},r.writeValue=function(e){var i=t[0].options[t[0].selectedIndex];i&&Fi(Qi(i),!1),r.hasOption(e)?(r.removeUnknownOption(),i=Ne(e),t.val(i in r.selectValueMap?i:e),Fi(Qi(t[0].options[t[0].selectedIndex]),!0)):r.selectUnknownOrEmptyOption(e)},r.addOption=function(e,t){if(8!==t[0].nodeType){re(e,'"option value"'),""===e&&(r.hasEmptyOption=!0,r.emptyOption=t);var i=o.get(e)||0;o.set(e,i+1),n()}},r.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.delete(e),""===e&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):o.set(e,t-1))},r.hasOption=function(e){return!!o.get(e)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return t[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&t[0].options[t[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(e){null==e&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(e):r.renderUnknownOption(e)};var a=!1,l=!1;r.registerOption=function(e,t,i,o,a){var l,h;i.$attr.ngValue?i.$observe("value",function(e){var i,n=t.prop("selected");b(h)&&(r.removeOption(l),delete r.selectValueMap[h],i=!0),h=Ne(e),l=e,r.selectValueMap[h]=e,r.addOption(e,t),t.attr("value",h),i&&n&&s()}):o?i.$observe("value",function(e){r.readValue();var i,n=t.prop("selected");b(l)&&(r.removeOption(l),i=!0),l=e,r.addOption(e,t),i&&n&&s()}):a?e.$watch(a,function(e,n){i.$set("value",e);var o=t.prop("selected");n!==e&&r.removeOption(n),r.addOption(e,t),n&&o&&s()}):r.addOption(i.value,t);i.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(r.multiple?s(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=r.readValue(),t=i.value;r.removeOption(t),n(),(r.multiple&&e&&-1!==e.indexOf(t)||e===t)&&s(!0)})}}],uo=function(){return{restrict:"E",require:["select","?ngModel"],controller:co,priority:1,link:{pre:function(e,t,i,n){var s=n[0],o=n[1];if(o){if(s.ngModelCtrl=o,t.on("change",function(){s.removeUnknownOption(),e.$apply(function(){o.$setViewValue(s.readValue())})}),i.multiple){s.multiple=!0,s.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&!t.disabled&&(t=t.value,e.push(t in s.selectValueMap?s.selectValueMap[t]:t))}),e},s.writeValue=function(e){r(t.find("option"),function(t){var i=!!e&&(-1!==Array.prototype.indexOf.call(e,t.value)||-1!==Array.prototype.indexOf.call(e,s.selectValueMap[t.value]));i!==t.selected&&Fi(Qi(t),i)})};var a,l=NaN;e.$watch(function(){l!==o.$viewValue||N(a,o.$viewValue)||(a=he(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}else s.registerOption=m},post:function(e,t,i,n){var s=n[1];if(s){var r=n[0];s.$render=function(){r.writeValue(s.$viewValue)}}}}}},po=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,i){var n,s;return b(i.ngValue)||(b(i.value)?n=e(i.value,!0):(s=e(t.text(),!0))||i.$set("value",t.text())),function(e,t,i){var r=t.parent();(r=r.data("$selectController")||r.parent().data("$selectController"))&&r.registerOption(e,t,i,n,s)}}}}],mo=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,i,n,s){if(s){var r=n.hasOwnProperty("required")||e(n.ngRequired)(t);n.ngRequired||(n.required=!0),s.$validators.required=function(e,t){return!r||!s.$isEmpty(t)},n.$observe("required",function(e){r!==e&&(r=e,s.$validate())})}}}}],fo=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,i){var n,s;return i.ngPattern&&(n=i.ngPattern,s="/"===i.ngPattern.charAt(0)&&Zi.test(i.ngPattern)?function(){return i.ngPattern}:e(i.ngPattern)),function(e,t,i,r){if(r){var o=i.pattern;i.ngPattern?o=s(e):n=i.pattern;var a=qi(o,n,t);i.$observe("pattern",function(e){var i=a;a=qi(e,n,t),(i&&i.toString())!==(a&&a.toString())&&r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||_(a)||a.test(t)}}}}}}],go=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,i,n,s){if(s){var r=n.maxlength||e(n.ngMaxlength)(t),o=Gi(r);n.$observe("maxlength",function(e){r!==e&&(o=Gi(e),r=e,s.$validate())}),s.$validators.maxlength=function(e,t){return 0>o||s.$isEmpty(t)||t.length<=o}}}}}],vo=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,i,n,s){if(s){var r=n.minlength||e(n.ngMinlength)(t),o=Gi(r)||-1;n.$observe("minlength",function(e){r!==e&&(o=Gi(e)||-1,r=e,s.$validate())}),s.$validators.minlength=function(e,t){return s.$isEmpty(t)||t.length>=o}}}}}];e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load AngularJS more than once."):(function(){var t;if(!xn){var i=bn();(Ji=_(i)?e.jQuery:i?e[i]:void 0)&&Ji.fn.on?(Qi=Ji,d(Ji.fn,{scope:Hn.scope,isolateScope:Hn.isolateScope,controller:Hn.controller,injector:Hn.injector,inheritedData:Hn.inheritedData})):Qi=fe,t=Qi.cleanData,Qi.cleanData=function(e){for(var i,n,s=0;null!=(n=e[s]);s++)(i=(Qi._data(n)||{}).events)&&i.$destroy&&Qi(n).triggerHandler("$destroy");t(e)},dn.element=Qi,xn=!0}}(),function(i){d(i,{errorHandlingConfig:t,bootstrap:X,copy:M,extend:d,merge:c,equals:N,element:Qi,forEach:r,injector:Be,noop:m,bind:U,toJson:z,fromJson:V,identity:f,isUndefined:_,isDefined:b,isString:$,isFunction:k,isObject:y,isNumber:C,isElement:L,isArray:S,version:In,isDate:x,callbacks:{$$counter:0},getTestability:ee,reloadWithDebugInfo:Z,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:ie,$$minErr:n,$$csp:_n,$$encodeUriSegment:Q,$$encodeUriQuery:J,$$lowercase:tn,$$stringify:le,$$uppercase:nn}),Yi=function(e){function t(e,t,i){return e[t]||(e[t]=i())}var i=n("$injector"),s=n("ng");return(e=t(e,"angular",Object)).$$minErr=e.$$minErr||n,t(e,"module",function(){var e={};return function(n,r,o){var a={};if("hasOwnProperty"===n)throw s("badname","module");return r&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,t,i,n){return n||(n=l),function(){return n[i||"push"]([e,t,arguments]),u}}function t(e,t,i){return i||(i=l),function(s,r){return r&&k(r)&&(r.$$moduleName=n),i.push([e,t,arguments]),u}}if(!r)throw i("nomod",n);var l=[],h=[],d=[],c=e("$injector","invoke","push",h),u={_invokeQueue:l,_configBlocks:h,_runBlocks:d,info:function(e){if(b(e)){if(!y(e))throw s("aobj","value");return a=e,this}return a},requires:r,name:n,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",h),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:c,run:function(e){return d.push(e),this}};return o&&c(o),u})}})}(e),Yi("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:qt}),e.provider("$compile",Ke).directive({a:er,input:vr,textarea:vr,form:sr,script:lo,select:uo,option:po,ngBind:wr,ngBindHtml:Cr,ngBindTemplate:$r,ngClass:Sr,ngClassEven:kr,ngClassOdd:Ir,ngCloak:Tr,ngController:Or,ngForm:rr,ngHide:to,ngIf:Lr,ngInclude:Pr,ngInit:Mr,ngNonBindable:qr,ngPluralize:Jr,ngRef:Xr,ngRepeat:Zr,ngShow:eo,ngStyle:io,ngSwitch:no,ngSwitchWhen:so,ngSwitchDefault:ro,ngOptions:Qr,ngTransclude:ao,ngModel:Hr,ngList:Er,ngChange:xr,pattern:fo,ngPattern:fo,required:mo,ngRequired:mo,minlength:vo,ngMinlength:vo,maxlength:go,ngMaxlength:go,ngValue:yr,ngModelOptions:Fr}).directive({ngInclude:jr,input:_r}).directive(tr).directive(Ar),e.provider({$anchorScroll:ze,$animate:rs,$animateCss:ls,$$animateJs:ns,$$animateQueue:ss,$$AnimateRunner:as,$$animateAsyncRun:os,$browser:Fe,$cacheFactory:qe,$controller:et,$document:tt,$$isDocumentHidden:it,$exceptionHandler:nt,$filter:ai,$$forceReflow:fs,$interpolate:mt,$interval:ft,$$intervalFactory:gt,$http:ct,$httpParamSerializer:rt,$httpParamSerializerJQLike:ot,$httpBackend:pt,$xhrFactory:ut,$jsonpCallbacks:xs,$location:kt,$log:Tt,$parse:Bt,$rootScope:Ft,$q:zt,$$q:Vt,$sce:Qt,$sceDelegate:Kt,$sniffer:Jt,$$taskTrackerFactory:Yt,$templateCache:Ge,$templateRequest:Zt,$$testability:ei,$timeout:ti,$window:si,$$rAF:Wt,$$jqLite:Ee,$$Map:Qn,$$cookieReader:oi})}]).info({angularVersion:"1.8.3"})}(dn),dn.module("ngLocale",[],["$provide",function(e){e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,n=t;return void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3)),Math.pow(10,n),1==i&&0==n?"one":"other"}})}]),Qi(function(){Y(e.document,X)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}')),function(e,t,i){"use strict";function n(e){return A(e)?e:Object.keys(e).map(function(t){return e[t]})}function s(e){return null===e}function r(e,t){return-1==Object.keys(e).map(function(n){return t[n]!==i&&t[n]==e[n]}).indexOf(!1)}function o(e,t){function i(e,t,i){for(var n=0;t+n<=e.length;){if(e.charAt(t+n)==i)return n;n++}return-1}for(var n=0,s=0;s<=t.length;s++){var r=i(e,n,t.charAt(s));if(-1==r)return!1;n+=r+1}return!0}function a(e,t,i){var n=0;return e.filter(function(e){var s=x(i)?n<t&&i(e):n<t;return n=s?n+1:n,s})}function l(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function h(e,t,i){return t=t||[],Object.keys(e).forEach(function(n){if(O(e[n])&&!A(e[n])){var s=i?i+"."+n:i;h(e[n],t,s||n)}else{var r=i?i+"."+n:n;t.push(r)}}),t}function d(e){return e&&e.$evalAsync&&e.$watch}function c(){return function(e,t){return e>t}}function u(){return function(e,t){return e>=t}}function p(){return function(e,t){return e<t}}function m(){return function(e,t){return e<=t}}function f(){return function(e,t){return e==t}}function g(){return function(e,t){return e!=t}}function v(){return function(e,t){return e===t}}function _(){return function(e,t){return e!==t}}function b(e){return function(t,i){return t=O(t)?n(t):t,!(!A(t)||S(i))&&t.some(function(t){return k(i)&&O(t)||I(i)?e(i)(t):t===i})}}function y(e,t){return(t=t||0)>=e.length?e:A(e[t])?y(e.slice(0,t).concat(e[t],e.slice(t+1)),t):y(e,t+1)}function w(e){return function(t,i){if(t=O(t)?n(t):t,!A(t))return t;var s=[],r=e(i);return S(i)?t.filter(function(e,t,i){return i.indexOf(e)===t}):t.filter(function(e){var t=r(e);return!function(e,t){return!S(t)&&e.some(function(e){return j(e,t)})}(s,t)&&(s.push(t),!0)})}}function $(e,t,i){return t?e+i+$(e,--t,i):e}function C(){return function(e){return k(e)?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):e}}var x=t.isDefined,S=t.isUndefined,I=t.isFunction,k=t.isString,T=t.isNumber,O=t.isObject,A=t.isArray,D=t.forEach,L=t.extend,P=t.copy,j=t.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.module("a8m.angular",[]).filter("isUndefined",function(){return function(e){return t.isUndefined(e)}}).filter("isDefined",function(){return function(e){return t.isDefined(e)}}).filter("isFunction",function(){return function(e){return t.isFunction(e)}}).filter("isString",function(){return function(e){return t.isString(e)}}).filter("isNumber",function(){return function(e){return t.isNumber(e)}}).filter("isArray",function(){return function(e){return t.isArray(e)}}).filter("isObject",function(){return function(e){return t.isObject(e)}}).filter("isEqual",function(){return function(e,i){return t.equals(e,i)}}),t.module("a8m.conditions",[]).filter({isGreaterThan:c,">":c,isGreaterThanOrEqualTo:u,">=":u,isLessThan:p,"<":p,isLessThanOrEqualTo:m,"<=":m,isEqualTo:f,"==":f,isNotEqualTo:g,"!=":g,isIdenticalTo:v,"===":v,isNotIdenticalTo:_,"!==":_}),t.module("a8m.is-null",[]).filter("isNull",function(){return function(e){return s(e)}}),t.module("a8m.after-where",[]).filter("afterWhere",function(){return function(e,t){if(e=O(e)?n(e):e,!A(e)||S(t))return e;var i=e.map(function(e){return r(t,e)}).indexOf(!0);return e.slice(-1===i?0:i)}}),t.module("a8m.after",[]).filter("after",function(){return function(e,t){return e=O(e)?n(e):e,A(e)?e.slice(t):e}}),t.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(e,t){if(e=O(e)?n(e):e,!A(e)||S(t))return e;var i=e.map(function(e){return r(t,e)}).indexOf(!0);return e.slice(0,-1===i?e.length:++i)}}),t.module("a8m.before",[]).filter("before",function(){return function(e,t){return e=O(e)?n(e):e,A(e)?e.slice(0,t?--t:t):e}}),t.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(e){return function(t,i,n){return e.isMemoized("chunkBy",arguments)||e.memoize("chunkBy",arguments,this,function(e,t,i){return A(e)?e.map(function(e,n,s){return n*=t,e=s.slice(n,n+t),!S(i)&&e.length<t?e.concat(function(e,t){for(var i=[];e--;)i[e]=t;return i}(t-e.length,i)):e}).slice(0,Math.ceil(e.length/t)):e}(t,i,n))}}]),t.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){if(S(t))return e;if(A(e))return O(t)?e.concat(n(t)):e.concat(t);if(O(e)){var i=n(e);return O(t)?i.concat(n(t)):i.concat(t)}return e}}]),t.module("a8m.contains",[]).filter({contains:["$parse",b],some:["$parse",b]}),t.module("a8m.count-by",[]).filter("countBy",["$parse",function(e){return function(t,i){var s,r={},o=e(i);return t=O(t)?n(t):t,!A(t)||S(i)?t:(t.forEach(function(e){s=o(e),r[s]||(r[s]=0),r[s]++}),r)}}]),t.module("a8m.defaults",[]).filter("defaults",["$parse",function(e){return function(t,i){if(t=O(t)?n(t):t,!A(t)||!O(i))return t;var s=h(i);return t.forEach(function(t){s.forEach(function(n){var s=e(n),r=s.assign;S(s(t))&&r(t,s(i))})}),t}}]),t.module("a8m.every",[]).filter("every",["$parse",function(e){return function(t,i){return t=O(t)?n(t):t,!(A(t)&&!S(i))||t.every(function(t){return O(t)||I(i)?e(i)(t):t===i})}}]),t.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(e){return function(t,s,r,o){var a;return r=k(r)||T(r)?String(r).toLowerCase():i,t=O(t)?n(t):t,!A(t)||S(r)?t:t.filter(function(t){return s.some(function(i){if(~i.indexOf("+")){var n=i.replace(/\s+/g,"").split("+");a=n.map(function(i){return e(i)(t)}).join(" ")}else a=e(i)(t);return!(!k(a)&&!T(a))&&(a=String(a).toLowerCase(),o?a===r:a.contains(r))})})}}]),t.module("a8m.first",[]).filter("first",["$parse",function(e){return function(t){var s,r,o;return t=O(t)?n(t):t,A(t)?(o=Array.prototype.slice.call(arguments,1),s=T(o[0])?o[0]:1,r=T(o[0])?T(o[1])?i:o[1]:o[0],o.length?a(t,s,r?e(r):r):t[0]):t}}]),t.module("a8m.flatten",[]).filter("flatten",function(){return function(e,t){return t=t||!1,e=O(e)?n(e):e,A(e)?t?[].concat.apply([],e):y(e,0):e}}),t.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(e){return function(t,i,s,r){var a,l,h=r||!1;return t=O(t)?n(t):t,!A(t)||S(i)||S(s)?t:(l=e(i),t.filter(function(e){return a=l(e),!!k(a)&&(a=h?a:a.toLowerCase(),s=h?s:s.toLowerCase(),!1!==o(a,s))}))}}]),t.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(e,t,i){var s=i||!1;return e=O(e)?n(e):e,!A(e)||S(t)?e:(t=s?t:t.toLowerCase(),e.filter(function(e){return k(e)?!1!==o(e=s?e:e.toLowerCase(),t):!!O(e)&&function(e,t){var i,n;return 0<Object.keys(e).filter(function(r){return i=e[r],!!n||!!k(i)&&(i=s?i:i.toLowerCase(),n=!1!==o(i,t))}).length}(e,t)}))}}),t.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(e,t){return function(i,n){return!O(i)||S(n)?i:t.isMemoized("groupBy",arguments)||t.memoize("groupBy",arguments,this,function(e,t){var i,n={};return D(e,function(e){i=t(e),n[i]||(n[i]=[]),n[i].push(e)}),n}(i,e(n)))}}]),t.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(e){return O(e)?!n(e).length:!e.length}}),t.module("a8m.join",[]).filter("join",function(){return function(e,t){return S(e)||!A(e)?e:(S(t)&&(t=" "),e.join(t))}}),t.module("a8m.last",[]).filter("last",["$parse",function(e){return function(t){var s,r,o,l=P(t);return l=O(l)?n(l):l,A(l)?(o=Array.prototype.slice.call(arguments,1),s=T(o[0])?o[0]:1,r=T(o[0])?T(o[1])?i:o[1]:o[0],o.length?a(l.reverse(),s,r?e(r):r).reverse():l[l.length-1]):l}}]),t.module("a8m.map",[]).filter("map",["$parse",function(e){return function(t,i){return t=O(t)?n(t):t,!A(t)||S(i)?t:t.map(function(t){return e(i)(t)})}}]),t.module("a8m.omit",[]).filter("omit",["$parse",function(e){return function(t,i){return t=O(t)?n(t):t,!A(t)||S(i)?t:t.filter(function(t){return!e(i)(t)})}}]),t.module("a8m.pick",[]).filter("pick",["$parse",function(e){return function(t,i){return t=O(t)?n(t):t,!A(t)||S(i)?t:t.filter(function(t){return e(i)(t)})}}]),t.module("a8m.range",[]).filter("range",function(){return function(e,t,i,n,s){i=i||0,n=n||1;for(var r=0;r<parseInt(t);r++){var o=i+r*n;e.push(I(s)?s(o):o)}return e}}),t.module("a8m.remove-with",[]).filter("removeWith",function(){return function(e,t){return S(t)?e:(e=O(e)?n(e):e).filter(function(e){return!r(t,e)})}}),t.module("a8m.remove",[]).filter("remove",function(){return function(e){e=O(e)?n(e):e;var t=Array.prototype.slice.call(arguments,1);return A(e)?e.filter(function(e){return!t.some(function(t){return j(t,e)})}):e}}),t.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=O(e)?n(e):e,k(e)?e.split("").reverse().join(""):A(e)?e.slice().reverse():e}}]),t.module("a8m.search-field",[]).filter("searchField",["$parse",function(e){return function(t){var i;t=O(t)?n(t):t;var s=Array.prototype.slice.call(arguments,1);return A(t)&&s.length?t.map(function(t){return i=s.map(function(i){return e(i)(t)}).join(" "),L(t,{searchField:i})}):t}}]),t.module("a8m.to-array",[]).filter("toArray",function(){return function(e,t){return O(e)?t?Object.keys(e).map(function(t){return L(e[t],{$key:t})}):n(e):e}}),t.module("a8m.unique",[]).filter({unique:["$parse",w],uniq:["$parse",w]}),t.module("a8m.where",[]).filter("where",function(){return function(e,t){return S(t)?e:(e=O(e)?n(e):e).filter(function(e){return r(t,e)})}}),t.module("a8m.xor",[]).filter("xor",["$parse",function(e){return function(t,i,s){function r(t,i){var n=e(s);return i.some(function(e){return s?j(n(e),n(t)):j(e,t)})}return s=s||!1,t=O(t)?n(t):t,i=O(i)?n(i):i,A(t)&&A(i)?t.concat(i).filter(function(e){return!(r(e,t)&&r(e,i))}):t}}]),t.module("a8m.math.abs",[]).filter("abs",function(){return function(e){return Math.abs(e)}}),t.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var e=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(t,i){e.push({str:t,val:1024*e[i].val})}),function(t,i){if(T(i)&&isFinite(i)&&i%1==0&&i>=0&&T(t)&&isFinite(t)){for(var n=0;n<e.length-1&&t>=e[n].val;)n++;return l(t/=n>0?e[n-1].val:1,i)+" "+e[n].str}return"NaN"}}),t.module("a8m.math.degrees",[]).filter("degrees",function(){return function(e,t){if(T(t)&&isFinite(t)&&t%1==0&&t>=0&&T(e)&&isFinite(e)){var i=180*e/Math.PI;return Math.round(i*Math.pow(10,t))/Math.pow(10,t)}return"NaN"}}),t.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var e=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(t,i){e.push({str:t,val:1024*e[i].val})}),function(t,i){if(T(i)&&isFinite(i)&&i%1==0&&i>=0&&T(t)&&isFinite(t)){for(var n=0;n<e.length-1&&t>=e[n].val;)n++;return l(t/=n>0?e[n-1].val:1,i)+" "+e[n].str}return"NaN"}}),t.module("a8m.math.max",[]).filter("max",["$parse",function(e){function t(t,i){var n=t.map(function(t){return e(i)(t)});return n.indexOf(Math.max.apply(Math,n))}return function(e,i){return A(e)?S(i)?Math.max.apply(Math,e):e[t(e,i)]:e}}]),t.module("a8m.math.min",[]).filter("min",["$parse",function(e){function t(t,i){var n=t.map(function(t){return e(i)(t)});return n.indexOf(Math.min.apply(Math,n))}return function(e,i){return A(e)?S(i)?Math.min.apply(Math,e):e[t(e,i)]:e}}]),t.module("a8m.math.percent",[]).filter("percent",function(){return function(e,t,i){var n=k(e)?Number(e):e;return t=t||100,i=i||!1,!T(n)||isNaN(n)?e:i?Math.round(n/t*100):n/t*100}}),t.module("a8m.math.radians",[]).filter("radians",function(){return function(e,t){if(T(t)&&isFinite(t)&&t%1==0&&t>=0&&T(e)&&isFinite(e)){var i=3.14159265359*e/180;return Math.round(i*Math.pow(10,t))/Math.pow(10,t)}return"NaN"}}),t.module("a8m.math.radix",[]).filter("radix",function(){return function(e,t){return T(e)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(t)?e.toString(t).toUpperCase():e}}),t.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(e,t){return T(t)&&isFinite(t)&&t%1==0&&t>=0&&T(e)&&isFinite(e)?e<1e3?""+e:e<1e6?l(e/1e3,t)+" K":e<1e9?l(e/1e6,t)+" M":l(e/1e9,t)+" B":"NaN"}}),t.module("a8m.math.sum",[]).filter("sum",function(){return function(e,t){return A(e)?e.reduce(function(e,t){return e+t},t||0):e}}),t.module("a8m.ends-with",[]).filter("endsWith",function(){return function(e,t,i){var n,s=i||!1;return!k(e)||S(t)?e:(n=(e=s?e:e.toLowerCase()).length-t.length,-1!==e.indexOf(s?t:t.toLowerCase(),n))}}),t.module("a8m.latinize",[]).filter("latinize",[function(){for(var e=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],t={},i=0;i<e.length;i++)for(var n=e[i].letters.split(""),s=0;s<n.length;s++)t[n[s]]=e[i].base;return function(e){return k(e)?function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}(e):e}}]),t.module("a8m.ltrim",[]).filter("ltrim",function(){return function(e,t){var i=t||"\\s";return k(e)?e.replace(new RegExp("^"+i+"+"),""):e}}),t.module("a8m.match",[]).filter("match",function(){return function(e,t,i){var n=new RegExp(t,i);return k(e)?e.match(n):null}}),t.module("a8m.phoneUS",[]).filter("phoneUS",function(){return function(e){return"("+(e+="").slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6)}}),t.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,i){var n=~~t;return k(e)&&n?$(e,--t,i||""):e}}]),t.module("a8m.rtrim",[]).filter("rtrim",function(){return function(e,t){var i=t||"\\s";return k(e)?e.replace(new RegExp(i+"+$"),""):e}}),t.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){var i=S(t)?"-":t;return k(e)?e.toLowerCase().replace(/\s+/g,i):e}}]),t.module("a8m.split",[]).filter("split",function(){return function(e,t,i){var n,r,o,a;return S(e)||!k(e)?null:(S(t)&&(t=""),isNaN(i)&&(i=0),n=new RegExp(function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}(t),"g"),s(r=e.match(n))||i>=r.length?[e]:0===i?e.split(t):(a=(o=e.split(t)).splice(0,i+1),o.unshift(a.join(t)),o))}}),t.module("a8m.starts-with",[]).filter("startsWith",function(){return function(e,t,i){var n=i||!1;return!k(e)||S(t)?e:!(e=n?e:e.toLowerCase()).indexOf(n?t:t.toLowerCase())}}),t.module("a8m.stringular",[]).filter("stringular",function(){return function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,i){return S(t[i])?e:t[i]})}}),t.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(e){return k(e)?e.replace(/<\S[^><]*>/g,""):e}}),t.module("a8m.test",[]).filter("test",function(){return function(e,t,i){var n=new RegExp(t,i);return k(e)?n.test(e):e}}),t.module("a8m.trim",[]).filter("trim",function(){return function(e,t){var i=t||"\\s";return k(e)?e.replace(new RegExp("^"+i+"+|"+i+"+$","g"),""):e}}),t.module("a8m.truncate",[]).filter("truncate",function(){return function(e,t,i,n){return t=S(t)?e.length:t,n=n||!1,i=i||"",!k(e)||e.length<=t?e:e.substring(0,n?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+i}}),t.module("a8m.ucfirst",[]).filter({ucfirst:C,titleize:C}),t.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(e){return function(t){return k(t)?e.encodeURIComponent(t):t}}]),t.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(e){return function(t){return k(t)?e.encodeURI(t):t}}]),t.module("a8m.wrap",[]).filter("wrap",function(){return function(e,t,i){return k(e)&&x(t)?[t,e,i||t].join(""):e}}),t.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(e,t){function i(t,i){return[t,JSON.stringify(i,function(){var t=[];return function(i,n){if(O(n)&&!s(n)){if(~t.indexOf(n))return"[Circular]";t.push(n)}return e==n?"$WINDOW":e.document==n?"$DOCUMENT":d(n)?"$SCOPE":n}}())].join("#").replace(/"/g,"")}function n(e){var t=e.targetScope.$id;D(l[t],function(e){delete a[e]}),delete l[t]}function r(){h(function(){t.$$phase||(a={})},2e3)}function o(e,t){var i=e.$id;return S(l[i])&&(e.$on("$destroy",n),l[i]=[]),l[i].push(t)}var a={},l={},h=e.setTimeout;return{isMemoized:function(e,t){var n=i(e,t);return a[n]},memoize:function(e,t,n,s){var l=i(e,t);return a[l]=s,d(n)?o(n,l):r(),s}}}]}),t.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.phoneUS","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),function(e,t){"use strict";var i,n,s,r,o,a,l,h,d,c,u=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function p(e,t){return m(e.split(","),t)}function m(e,t){var i,n={};for(i=0;i<e.length;i++)n[t?a(e[i]):e[i]]=!0;return n}function f(e,t){t&&t.length&&n(e,m(t))}function g(e){for(var t={},i=0,n=e.length;i<n;i++){var s=e[i];t[s.name]=s.value}return t}function v(e){return e.replace(/&/g,"&amp;").replace($,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+((e=e.charCodeAt(1))-56320)+65536)+";"}).replace(C,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var i=t.attributes,n=0,s=i.length;n<s;n++){var r=i[n],o=r.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(r),n--,s--)}(i=t.firstChild)&&_(i),t=b("nextSibling",t)}}function b(e,t){var i=t[e];if(i&&h.call(t,i))throw u("elclob",t.outerHTML||t.outerText);return i}var y=!1,w=!1;this.$get=["$$sanitizeUri",function(e){return y=!0,w&&n(A,T),function(t){var i=[];return d(t,c(i,function(t,i){return!/^unsafe:/.test(e(t,i))})),i.join("")}}],this.enableSvg=function(e){return o(e)?(w=e,this):w},this.addValidElements=function(e){return y||(r(e)&&(e={htmlElements:e}),f(T,e.svgElements),f(x,e.htmlVoidElements),f(A,e.htmlVoidElements),f(A,e.htmlElements)),this},this.addValidAttrs=function(e){return y||n(L,m(e,!0)),this},i=t.bind,n=t.extend,s=t.forEach,r=t.isArray,o=t.isDefined,a=t.$$lowercase,l=t.noop,d=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var i=P(e);if(!i)return"";var n=5;do{if(0===n)throw u("uinput");n--,e=i.innerHTML,i=P(e)}while(e!==i.innerHTML);for(n=i.firstChild;n;){switch(n.nodeType){case 1:t.start(n.nodeName.toLowerCase(),g(n.attributes));break;case 3:t.chars(n.textContent)}var s;if(!(s=n.firstChild)&&(1===n.nodeType&&t.end(n.nodeName.toLowerCase()),!(s=b("nextSibling",n))))for(;null==s&&(n=b("parentNode",n))!==i;)s=b("nextSibling",n),1===n.nodeType&&t.end(n.nodeName.toLowerCase());n=s}for(;n=i.firstChild;)i.removeChild(n)},c=function(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=a(e),!n&&O[e]&&(n=e),n||!0!==A[e]||(r("<"),r(e),s(i,function(i,n){var s=a(n),o="img"===e&&"src"===s||"background"===s;!0!==L[s]||!0===D[s]&&!t(i,o)||(r(" "),r(n),r('="'),r(v(i)),r('"'))}),r(">"))},end:function(e){e=a(e),n||!0!==A[e]||!0===x[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(v(e))}}},h=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var $=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=/([^#-~ |!])/g,x=p("area,br,col,hr,img,wbr"),S=p("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),I=p("rp,rt"),k=n({},I,S),T=(S=n({},S,p("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),I=n({},I,p("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),p("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan")),O=p("script,style"),A=n({},x,S,I,k),D=p("background,cite,href,longdesc,src,xlink:href,xml:base"),L=(k=p("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),I=p("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),n({},D,I,k)),P=function(e,t){function i(t){t="<remove></remove>"+t;try{var i=(new e.DOMParser).parseFromString(t,"text/html").body;return i.firstChild.remove(),i}catch(e){}}var n;try{n=!!i("")}catch(e){n=!1}if(n)return i;if(!t||!t.implementation)throw u("noinert");var s=((n=t.implementation.createHTMLDocument("inert")).documentElement||n.getDocumentElement()).querySelector("body");return function(e){return s.innerHTML=e,t.documentMode&&_(s),s}}(e,e.document)}).info({angularVersion:"1.8.3"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,n=/^mailto:/i,s=t.$$minErr("linky"),r=t.isDefined,o=t.isFunction,a=t.isObject,h=t.isString;return function(t,d,u){function p(e){e&&b.push(function(e){var t=[];return c(t,l).chars(e),t.join("")}(e))}function m(e,t){var i,n=v(e);for(i in b.push("<a "),n)b.push(i+'="'+n[i]+'" ');!r(d)||"target"in n||b.push('target="',d,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),p(t),b.push("</a>")}if(null==t||""===t)return t;if(!h(t))throw s("notstring",t);for(var f,g,v=o(u)?u:a(u)?function(){return u}:function(){return{}},_=t,b=[];t=_.match(i);)f=t[0],t[2]||t[4]||(f=(t[3]?"http://":"mailto:")+f),g=t.index,p(_.substr(0,g)),m(f,t[0].replace(n,"")),_=_.substring(g+t[0].length);return p(_),e(b.join(""))}}])}(window,window.angular);var serverApp=angular.module("serverApp",["angular.filter"]);serverApp.config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"}]),serverApp.controller("menuItemsController",function(){}),serverApp.directive("navItem",function(){return{restrict:"E",replace:!0,template:function(e,t){return"<a class='"+(t.href===t.url?"active":"")+"' href='"+t.href+"'><span class='su "+t.icon+"'></span></a>"}}}),serverApp.service("ajaxService",["$http","$q",function(e,t){var i,n=!1;return{getData:function(o,a){return n&&i.resolve(),n=!0,i=t.defer(),e({method:"post",url:o,data:a,timeout:i.promise}).then(r,s)},postJsonData:function(t,i){return e({method:"post",url:t,data:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then(r,s)},cancelRequest:function(){n&&i.resolve()}};function s(e){return angular.isObject(e.data)&&e.data.message?t.reject(e.data.message):t.reject(window.Server.App.LocalizationContent.UnknownError)}function r(e){return e.data}}]),
/*!
*  filename: ej.core.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i){"use strict";var n,s,r,o;t.version="14.4.0.15",t.consts={NamespaceJoin:"-"},t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},t.Orientation={Horizontal:"horizontal",Vertical:"vertical"},t.serverTimezoneOffset=0,t.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==i}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t.defineClass=function(e,n,s,r){if(!e||!s)return i;for(var o=e.split("."),a=window,l=0;l<o.length-1;l++)t.isNullOrUndefined(a[o[l]])&&(a[o[l]]={}),a=a[o[l]];return(r||t.isNullOrUndefined(a[o[l]]))&&(n="function"==typeof n?n:function(){},a[o[l]]=n,a[o[l]].prototype=s),a[o[l]]},t.util={getNameSpace:function(e){var i=e.toLowerCase().split(".");return"ej"===i[0]&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(e,n){var s,r,o;if(!n)return i;for(s=n,r=e.split("."),o=0;o<r.length&&!t.util.isNullOrUndefined(s);o++)s=s[r[o]];return s},createObject:function(e,n,s){for(var r,o=e.split("."),a=s||window,l=a,h=o.length,d=0;d<h;d++)r=o[d],d+1==h?l[r]=n===i?{}:n:t.isNullOrUndefined(l[r])&&(l[r]={}),l=l[r];return a},isNullOrUndefined:function(e){return e===i||null===e},print:function(i,n){var s,r,o=t.buildTag("div"),a=i.clone();o.append(a),n||(n=window.open("","print","height=452,width=1024,tabbar=no")),n.document.write("<!DOCTYPE html>"),s=e("head").find("link").add("style"),"msie"===t.browserInfo().name?(r="",s.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),r+=i.outerHTML}),n.document.write("<html><head></head><body>"+r+o[0].innerHTML+"</body></html>")):(r="",n.document.write("<html><head>"),s.each(function(t,i){"LINK"==i.tagName&&e(i).attr("href",i.href),r+=i.outerHTML}),n.document.writeln(r+"</head><body>"),n.document.writeln(o[0].innerHTML+"</body></html>")),n.document.close(),n.focus(),setTimeout(function(){t.isNullOrUndefined(n.window)||(n.print(),setTimeout(function(){n.close()},1e3))},1e3)},ieClearRemover:function(t){var i=e(t).height();t.style.paddingTop=parseFloat(i/2)+"px",t.style.paddingBottom=parseFloat(i/2)+"px",t.style.height="1px",t.style.lineHeight="1px"},sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.successHandler,error:t.errorHandler,beforeSend:t.beforeSendHandler,complete:t.completeHandler})},buildTag:function(t,n,s,r){var o,a=/^[a-z]*[0-9a-z]+/gi.exec(t)[0],l=/#([_a-z]+[-_0-9a-z]+)/gi.exec(t);return l=l?l[l.length-1]:i,o=(o=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(t))?o[o.length-1]:i,e(document.createElement(a)).attr(l?{id:l}:{}).addClass(o||"").css(s||{}).attr(r||{}).html(n||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var t=1;return((t=Math.max.apply(null,e.map(e("body *"),function(t){if("absolute"==e(t).css("position")||"fixed"==e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))==i||null==t)&&(t=1),t},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(t,i){var n,s,r,o=e(t).parents().andSelf().filter(":hidden");return o&&(s={visibility:"hidden",display:"block"},r=[],o.each(function(){var e={};for(var t in s)e[t]=this.style[t],this.style[t]=s[t];r.push(e)}),n=/(outer)/g.test(i)?e(t)[i](!0):e(t)[i](),o.each(function(e){var t=r[e];for(var i in s)this.style[i]=t[i]})),n},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||e.support.hasPointer?e.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||e.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(e("head"),"data-ej-forceset",!1)?t.getBooleanVal(e("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&t.isPortrait()&&t.isDevice()||window.innerWidth<=800&&!t.isDevice()||window.innerWidth<=800&&!t.isPortrait()&&t.isWindows()&&t.isDevice()||t.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===t.getBooleanVal(e("head"),"data-ej-tablet",!1)||!t.isMobile()&&t.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&t.isMobile())&&this.isDevice()},getClearString:function(t){return e.trim(t.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,n){var s=e(t).attr(i);return null!=s?"true"==s.toLowerCase():n},_getSkewClass:function(e,t,i){var n=e.width(),s=e.height(),r=e.offset().left,o=e.offset().left+n,a=e.offset().top,l=e.offset().top+s,h=.3*n,d=.3*s;return t<r+h&&i<a+d?"e-m-skew-topleft":t>o-h&&i<a+d?"e-m-skew-topright":t>o-h&&i>l-d?"e-m-skew-bottomright":t<r+h&&i>l-d?"e-m-skew-bottomleft":t>r+h&&i<a+d&&t<o-h?"e-m-skew-top":t<r+h?"e-m-skew-left":t>o-h?"e-m-skew-right":i>l-d?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){e(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){if(e){var i=e.touches?e.touches[0]:e;t._distX=0,t._distY=0,t._moved=!1,t._pointX=i.pageX,t._pointY=i.pageY}},_isTouchMoved:function(e,t){if(e){var i,n,s=e.touches?e.touches[0]:e,r=s.pageX-t._pointX,o=s.pageY-t._pointY;Date.now();return t._pointX=s.pageX,t._pointY=s.pageY,t._distX+=r,t._distY+=o,i=Math.abs(t._distX),n=Math.abs(t._distY),!(i<5&&n<5)}},listenEvents:function(e,i,n,s,r,o){for(var a=0;a<e.length;a++)t.listenTouchEvent(e[a],i[a],n[a],s,r,o)},listenTouchEvent:function(i,n,s,r,o,a){for(var l,h=r?"removeEventListener":"addEventListener",d=r?"off":"on",c=e(i),u=0;u<c.length;u++)switch(l=c[u],n){case"touchstart":t._bindEvent(l,h,n,s,"mousedown","MSPointerDown","pointerdown",a);break;case"touchmove":t._bindEvent(l,h,n,s,"mousemove","MSPointerMove","pointermove",a);break;case"touchend":t._bindEvent(l,h,n,s,"mouseup","MSPointerUp","pointerup",a);break;case"touchcancel":t._bindEvent(l,h,n,s,"mousecancel","MSPointerCancel","pointercancel",a);break;case"tap":case"taphold":case"ejtouchmove":case"click":e(l)[d](n,s);break;default:"msie"==t.browserInfo().name&&t.browserInfo().version<9?o._on(e(l),n,s):l[h](n,s,!0)}},_bindEvent:function(t,i,n,s,r,o,a){e.support.hasPointer?t[i](window.navigator.pointerEnabled?a:o,s,!0):t[i](n,s,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),i=0,n=e.length;i<n;i++)if(e[i]+"ransform"in t.styles)return e[i].substr(0,e[i].length-1);return!1},addPrefix:function(e){return""===t.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),t.userAgent()+e)},destroyWidgets:function(t){e(t).find("[data-role *= ejm]").each(function(t,i){var n=e(i),s=n.data("ejWidgets");s&&n[s]("destroy")})},getAttrVal:function(t,i,n){var s=e(t).attr(i);return null!=s?s:n},getOffset:function(t){var i,n={},s=t.offset()||{left:0,top:0};return e.extend(!0,n,s),"static"!=e("body").css("position")&&(i=e("body").offset(),n.left-=i.left,n.top-=i.top),n},getZindexPartial:function(i,n){var s,r,o;if(!t.isNullOrUndefined(i)&&i.length>0)return s=i.parents(),r=e("body").children(),!t.isNullOrUndefined(i)&&i.length>0&&r.splice(r.index(n),1),e(r).each(function(e,t){s.push(t)}),o=Math.max.apply(o,e.map(s,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})),!o||o<1e4?o=1e4:o+=1,o},isValidAttr:function(t,i){var n;return void 0!==(t=e(t)[0])[i]||(n=!1,e.each(t,function(e){if(e.toLowerCase()==i.toLowerCase())return n=!0,!1}),n)}},e.extend(t,t.util),t.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(i,n,s,r){var o=null;return("object"==typeof i||i.startsWith("#")||i.startsWith("."))&&(o=e(i).attr("type")),o&&(o=o.toLowerCase(),t.template[o])?t.template[o](this,i,n,s,r):t.template.render(this,i,n,s,r)},destroy:function(){var i,n,s,r;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),e(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(i=this.element.data("ejWidgets")||[],r=0;r<i.length;r++)i[r]==this.pluginName&&i.splice(r,1);for(i.length||this.element.removeData("ejWidgets");this._events&&(s=[],n=this._events.pop());){for(r=0;r<n[1].length;r++)e.isPlainObject(n[1][r])||s.push(n[1][r]);e.fn.off.apply(n[0],s)}this._events=null,this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(i){this._events||(this._events=[]);for(var n=[].splice.call(arguments,1,arguments.length-1),s={},r=n.length;s&&"function"!=typeof s;)s=n[--r];return n[r]=t.proxy(n[r],this),this._events.push([i,n,s,n[r]]),e.fn.on.apply(i,n),this},_off:function(t,i,n,s){var r,o,a,l,h=this._events;if(!h||!h.length)return this;for("function"==typeof n&&(r=s,s=n,n=r),o=i.match(/\S+/g)||[""],a=0;a<h.length;a++)if((l=h[a])[0].length&&(!s||l[2]===s)&&(l[1][0]===i||o[0])&&(!n||l[1][1]===n)&&e.inArray(t[0],l[0])>-1){e.fn.off.apply(t,s?[i,n,l[3]]:[i,n]),h.splice(a,1);break}return this},_trigger:function(i,n){var s,r,o,a,l=null,h={};return e.extend(h,n),i in this.model&&(l=this.model[i]),l&&("string"==typeof l&&(l=t.util.getObject(l,window)),e.isFunction(l)&&(r=t.event(i,this.model,n),s=l.call(this,r),(o=this.model._applyScope)&&o.call(),n&&e.extend(n,r),r.cancel||!t.isNullOrUndefined(s)))?!1===s||r.cancel:(a=Boolean(n),(n=n||{}).originalEventType=i,n.type=this.pluginName+i,r=e.Event(n.type,t.event(n.type,this.model,n)),this.element.trigger(r),a&&e.extend(n,r),t.isOnWebForms&&0==r.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,n,h),r.cancel)},setModel:function(t,i){var s,r,o,a;if(!this._trigger("modelChange",{changes:t})){for(s in t){if(!i){if(this.model[s]===t[s]){delete t[s];continue}if(e.isPlainObject(t[s])&&(n(this.model[s],t[s]),e.isEmptyObject(t[s]))){delete t[s];continue}}if(this.dataTypes&&!0!==(r=this._isValidModelValue(s,this.dataTypes,t)))throw"setModel - Invalid input for property :"+s+" - "+r;this.model.notifyOnEachPropertyChanges&&this.model[s]!==t[s]&&(o={oldValue:this.model[s],newValue:t[s]},t[s]=this._trigger(s+"Change",o)?this.model[s]:o.newValue)}e.isEmptyObject(t)||(this._setFirst?((a=t.dataSource)&&delete t.dataSource,e.extend(!0,this.model,t),a&&(this.model.dataSource=a instanceof Array?a.slice():a,t.dataSource=this.model.dataSource),this._setModel&&this._setModel(t)):this._setModel&&!1===this._setModel(t)||e.extend(!0,this.model,t),"enablePersistence"in t&&this._setState(t.enablePersistence))}},option:function(n,s,r){if(!n)return this.model;if(e.isPlainObject(n))return this.setModel(n,r);if("string"==typeof n){n=n.replace(/^model\./,"");var o=t.getObject(n,this.model);if(s===i&&!r)return o;if("enablePersistence"===n)return this._setState(s);if(r&&s===t.extensions.modelGUID)return this._setModel(t.createObject(n,t.getObject(n,this.model),{}));if(r||t.getObject(n,this.model)!==s)return this.setModel(t.createObject(n,s,{}),r)}return i},_isValidModelValue:function(e,t,i){var n,s,r,o=t[e],a=i[e];if(!o)return!0;if("string"==typeof o){if("enum"==o&&(i[e]=a?a.toString().toLowerCase():a,o="string"),"array"===o){if("[object Array]"===Object.prototype.toString.call(a))return!0}else if("data"===o||"parent"===o||typeof a===o)return!0;return"Expected type - "+o}if(a instanceof Array){for(s=0;s<a.length;s++)if(!0!==(n=this._isValidModelValue(e,t,a[s])))return" ["+s+"] - "+n;return!0}for(r in a)if(!0!==(n=this._isValidModelValue(r,o,a)))return r+" : "+n;return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var i,n=this.observables,s=0;s<n.length;s++)i=t.getObject(n[s],e),t.isNullOrUndefined(i)||"function"!=typeof i||this._returnFn(e,n[s]);return JSON.stringify(e)},_setState:function(i){!0===i?(this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler)):(this.deleteState(),e(window).off("unload",this._persistHandler))},_removeProp:function(e,i){t.isNullOrUndefined(e)||(-1!=i.indexOf(".")?this._removeProp(e[i.split(".")[0]],i.split(".").slice(1).join(".")):delete e[i])},persistState:function(){var e,i;if(this._ignoreOnPersist){for(e=a({},this.model),i=0;i<this._ignoreOnPersist.length;i++)this._removeProp(e,this._ignoreOnPersist[i]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},i=0;i<this._addToPersist.length;i++)t.createObject(this._addToPersist[i],t.getObject(this._addToPersist[i],this.model),e);e.addToPersist=this._addToPersist}else e=a({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(t.isNullOrUndefined(t.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",t.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(t.isNullOrUndefined(t.persistStateVersion)||null!=t.cookie.get("persistKey")||t.cookie.set("persistKey",t.persistStateVersion),t.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&t.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(i){var n,s,r=null;if(window.localStorage?r=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(r=t.cookie.get("$ej$"+this.pluginName+this._id)),r&&(n=JSON.parse(r),this._restoreState&&(this._restoreState(n.customPersists),delete n.customPersists),!1===t.isNullOrUndefined(n)&&(t.isNullOrUndefined(n.ignoreOnPersist)?t.isNullOrUndefined(n.addToPersist)||(this._addToPersist=n.addToPersist,delete n.addToPersist):(this._ignoreOnPersist=n.ignoreOnPersist,delete n.ignoreOnPersist))),t.isNullOrUndefined(n)||t.isNullOrUndefined(this._ignoreOnPersist))this.model=e.extend(!0,this.model,n);else{for(s in this._ignoreOnPersist)-1!==this._ignoreOnPersist[s].indexOf(".")?t.createObject(this._ignoreOnPersist[s],t.getObject(this._ignoreOnPersist[s],this.model),n):n[this._ignoreOnPersist[s]]=this.model[this._ignoreOnPersist[s]];this.model=n}!i&&r&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,n,s=[];if("object"==typeof e?s=e:"string"==typeof e&&s.push(e),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<s.length;t++)this._ignoreOnPersist.push(s[t]);else for(t=0;t<s.length;t++)n=this._addToPersist.indexOf(s[t]),this._addToPersist.splice(n,1)},addToPersist:function(t){var n,s,r=[];if("object"==typeof t?r=t:"string"==typeof t&&r.push(t),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],s=0;s<r.length;s++)n=this._ignoreOnPersist.indexOf(r[s]),this._ignoreOnPersist.splice(n,1);else for(s=0;s<r.length;s++)-1===e.inArray(r[s],this._addToPersist)&&this._addToPersist.push(r[s])},formatting:function(i,n,s){var r,o,a,l,h,d,c,u;if(i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),s=t.preferredCulture(s)?s:"en-US",r=i,o=i.split("{0:"),h=i.split("}"),a=o[0],l=h[1],"string"==typeof n&&e.isNumeric(n)&&(n=Number(n)),-1!=i.indexOf("{0:"))return null!=(d=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(i))&&null!=n?null!=a&&null!=l?a+t.format(n,d[2],s)+l:t.format(n,d[2],s):null!=n?n:"";if(r.startsWith("{")&&!r.startsWith("{0:")){var p=r.split(""),m=(n=(n||"")+"").split(""),f=/[0aA\*CN<>\?]/gm;for(c=0,u=0;c<p.length;c++)p[c]=f.test(p[c])?"{"+u+++"}":p[c];return String.format.apply(String,[p.join("")].concat(m)).replace("{","").replace("}","")}return null!=this.data&&null==this.data.Value?(e.each(this.data,function(e,t){r=r.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),r):this.data.Value}},t.WidgetBase=function(){},n=function(t,i){for(var s in t)t[s]===i[s]&&delete i[s],e.isPlainObject(i[s])&&e.isPlainObject(t[s])&&n(t[s],i[s])},t.widget=function(n,r,h){var c,u,p;if("object"!=typeof n)p=h._rootCSS||t.getNameSpace(r),h=t.defineClass(r,function(i,o){var d,c,u,m,f,g,v,_,b,y;if(this.sfType=r,this.pluginName=n,this.instance=l,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},e.extend(this,t.widgetBase),this.dataTypes)for(d in o)if(!0!==(c=this._isValidModelValue(d,this.dataTypes,o)))throw"setModel - Invalid input for property :"+d+" - "+c;for((u=i.data("ejWidgets")||[]).push(n),i.data("ejWidgets",u),f=0;t.widget.observables&&this.observables&&f<this.observables.length;f++)(m=t.getObject(this.observables[f],o))&&t.createObject(this.observables[f],t.widget.observables.register(m,this.observables[f],this,i),o);if(this.element=i.jquery?i:e(i),this.model=a(!0,{},h.prototype.defaults,o),this.model.keyConfigs=a(this.keyConfigs),this.element.addClass(p+" e-js").data(n,this),this._id=i[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!t.isNullOrUndefined(t.persistStateVersion)&&window.localStorage.getItem("persistKey")!=t.persistStateVersion)for(f in window.localStorage)-1!=f.indexOf("$ej$")&&window.localStorage.removeItem(f);else if(document.cookie&&!t.isNullOrUndefined(t.persistStateVersion)&&t.cookie.get("persistKey")!=t.persistStateVersion)for(g in document.cookie.split(/; */))-1!=g.indexOf("$ej$")&&t.cookie.set(g.split("=")[0],model,new Date);this._persistHandler=t.proxy(this.persistState,this),e(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(o),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(_ in v=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==_){v=!0;break}v&&this._keyPressed&&(b=i,y="keydown",this.keySettings&&(b=this.keySettings.getElement&&this.keySettings.getElement()||b,y=this.keySettings.event||y),this._on(b,y,function(e){if(this.model.keyConfigs){var t=s.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey};t&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}}))}this._trigger("create")},h),e.fn[n]=function(s){for(var a,l,c=s,u=0;u<this.length;u++){var m=e(this[u]),f=m.data(n),g=f&&m.hasClass(p),v=null;if(this.length>0&&e.isPlainObject(c)&&(s=t.copyObject({},c)),g){if(s)if(l=[].slice.call(arguments,1),this.length>0&&l[0]&&"option"===c&&e.isPlainObject(l[0])&&(l[0]=t.copyObject({},l[0])),e.isPlainObject(s))f.setModel(s);else if(0!==s.indexOf("_")&&!t.isNullOrUndefined(v=t.getObject(s,f))||0===s.indexOf("model.")){if(!v||!e.isFunction(v)){if(1==arguments.length)return v;f.option(s,arguments[1]);continue}if((a=v.apply(f,l))!==i)return a}else o(r+": function/property - "+s+" does not exist")}else!0!==h.prototype._requiresID||e(this[u]).attr("id")||m.attr("id",d("ejControl_")),s&&"object"!=typeof s?o(n+": methods/properties can be accessed only after plugin creation"):(h.prototype.defaults&&!t.isNullOrUndefined(t.setCulture)&&"locale"in h.prototype.defaults&&"ejChart"!=n&&(!s||"locale"in s?t.isNullOrUndefined(s)&&((s={}).locale=t.setCulture().name):s.locale=t.setCulture().name),new h(m,s))}return-1!=n.indexOf("ejm")&&t.widget.registerInstance(m,n,r,h.prototype),this},t.widget.register(n,r,h.prototype);else for(c in h=r,n)(u=n[c])instanceof Array&&(h._rootCSS=u[1],u=u[0]),t.widget(c,u,h),n[c]instanceof Array&&(h._rootCSS="")},e.extend(t.widget,function(){var e={},i=[];return{register:function(i,n,s){t.isNullOrUndefined(e[i])||o("ej.widget : The widget named "+i+" is trying to register twice."),e[i]={name:i,className:n,proto:s},t.widget.extensions&&t.widget.extensions.registerWidget(i)},registerInstance:function(e,t,n,s){i.push({element:e,pluginName:t,className:n,proto:s})},registeredWidgets:e,registeredInstances:i}}()),t.widget.destroyAll=function(e){var t,i,n,s;if(e&&e.length)for(t=0;t<e.length;t++)if((n=(i=e.eq(t).data()).ejWidgets)&&n.length)for(s=0;s<n.length;s++)i[n[s]]&&i[n[s]].destroy&&i[n[s]].destroy()},t.cookie={get:function(e){var t=RegExp(e+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},s={getActionFromCode:function(e,t,i,n,r){var o,a,l;for(o in i=i||!1,n=n||!1,r=r||!1,e)if("focus"!==o)for(a=s.getKeyObject(e[o]),l=0;l<a.length;l++)if(t===a[l].code&&i==a[l].isCtrl&&n==a[l].isShift&&r==a[l].isAlt)return o;return null},getKeyObject:function(t){for(var i,n,r,o={isCtrl:!1,isShift:!1,isAlt:!1},a=e.extend(!0,{},o),l=t.split(","),h=[],d=0;d<l.length;d++){if(i=null,-1!=l[d].indexOf("+"))for(n=l[d].split("+"),r=0;r<n.length;r++)i=s.getResult(e.trim(n[r]),o);else i=s.getResult(e.trim(l[d]),e.extend(!0,{},a));h.push(i)}return h},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},t.getScrollableParents=function(t){return e(t).parentsUntil("html").filter(function(){return"visible"!=e(this).css("overflow")}).add(e(window))},t.browserInfo=function(){var i,n,s,r,o={},a=[],l={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in l)if(l.hasOwnProperty(i)&&(a=navigator.userAgent.match(l[i]))){if(o.name="opr"==a[1].toLowerCase()?"opera":a[1].toLowerCase(),o.version=a[2],o.culture={},o.culture.name=o.culture.language=navigator.language||navigator.userLanguage,void 0!==t.globalize){for(n=t.preferredCulture().name,s=navigator.language||navigator.userLanguage?t.preferredCulture(navigator.language||navigator.userLanguage):t.preferredCulture("en-US"),r=0;navigator.languages&&r<navigator.languages.length&&(s=t.preferredCulture(navigator.languages[r])).language!=navigator.languages[r];r++);t.preferredCulture(n),e.extend(!0,o.culture,s)}!navigator.userAgent.match(/Trident\/7\./)||(o.name="msie");break}return o.isMSPointerEnabled="msie"==o.name&&o.version>9&&window.navigator.msPointerEnabled,o.pointerEnabled=window.navigator.pointerEnabled,o},t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},t.event=function(t,i,n){return e.extend(n||{},{type:t,model:i,cancel:!1})},t.proxy=function(e,t,i){return e&&"function"==typeof e?"on"in e&&t?i?e.on(t,i):e.on(t):function(){var n=i?[i]:[];return n.push.apply(n,arguments),e.apply(t||this,n)}:null},t.hasStyle=function(e){var t,i,n=document.documentElement.style;if(e in n)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in n)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var a=t.copyObject=function(e,n){var s,r,o,l,h,d,c=2;for("boolean"!=typeof e&&(c=1),o=[].slice.call(arguments,c),1===c&&(n=e,e=i),l=0;l<o.length;l++)for(h in o[l])if(s=n[h],(r=o[l][h])!==i&&s!==r&&o[l]!==r&&n!==r)if(r instanceof Array)if(0===l&&e)for(n[h]=[],d=0;d<r.length;d++)a(!0,n[h],r);else n[h]=r.slice();else t.isPlainObject(r)?(n[h]=s||{},e?a(e,n[h],r):a(n[h],r)):n[h]=r;return n},l=function(){return this},h=0,d=function(e){return e+h++};t.template={},t.template.render=t.template["text/x-jsrender"]=function(t,i,n,s,r){"#"!==i.slice(0,1)&&(i=["<div>",i,"</div>"].join(""));var o={prop:r,index:s};return e(i).render(n,o)},t.isPlainObject=function(e){if(!e||t.DataManager!==i&&e instanceof t.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var n,s=t.support.isOwnLast;for(n in e)if(s)break;return n===i||e.hasOwnProperty(n)},r=!1,t.util.valueFunction=function(e){return function(n,s){var o=t.getObject(e,this.model);if(!1===r&&(r=t.getObject("observables.getValue",t.widget)),n===i)return t.isNullOrUndefined(r)?"function"==typeof o?o.call(this):o:r(o,s);"function"==typeof o?(this["ob.values"][e]=n,o.call(this,n)):t.createObject(e,n,this.model)}},t.util.getVal=function(e){return"function"==typeof e?e():e},t.support={isOwnLast:function(){var e,t=function(){this.a=1};for(e in t.prototype.b=1,new t)return"b"===e}(),outerHTML:document.createElement("div").outerHTML!==i},o=t.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},t.getRandomValue=function(e,n){var s,r;return e===i||n===i?t.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(r=new Uint16Array(1),window.crypto.getRandomValues(r),s=r[0]%(n-e)+e):s=Math.random()*(n-e)+e,0|s)},t.extensions={},t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(e){var t=$(this);$.each(e,function(e,i){i&&i.specified&&t.attr(i.name,i.value)})},$.fn.removeEleAttrs=function(e){return this.each(function(){var t=$(this),i=$(this.attributes).clone();$.each(i,function(i,n){n&&n.specified&&e.test(n.name)&&t.removeAttr(n.name)})})},$.fn.attrNotStartsWith=function(e){var t,n=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;n.push(t[i])}return n},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var e=$(this),t=$(this.attributes).clone();$.each(t,function(t,i){i&&i.specified&&""===i.value&&e.removeAttr(i.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var n=e.attributes,s=0;s<n.length;s++)if(0===n[s].nodeName.indexOf(i[3]))return!1;return!0}});var e=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}()}),
/*!
*  filename: ej.data.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(e,t,i,n){"use strict";var s,r,o,a,l,h,d,c,u;t.DataManager=function(i,s,r){if(!(this instanceof t.DataManager))return new t.DataManager(i,s,r);i||(i=[]),"string"==typeof(r=r||i.adaptor)&&(r=new t[r]);var o=[],a=this;return i instanceof Array?o={json:i,offline:!0}:"object"==typeof i?e.isPlainObject(i)?(i.json||(i.json=[]),i.table&&(i.json=this._getJsonFromElement(i.table,i.headerOption)),o={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,timeTillExpiration:i.timeTillExpiration,cachingPageSize:i.cachingPageSize,enableCaching:i.enableCaching,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,jsonp:i.jsonp,dataType:i.dataType,offline:i.offline!==n?i.offline:!("remoteSaveAdaptor"==i.adaptor||i.adaptor instanceof t.remoteSaveAdaptor)&&!i.url,requiresFormat:i.requiresFormat}):(i.jquery||E(i))&&(o={json:this._getJsonFromElement(i),offline:!0,table:i}):"string"==typeof i&&(o={url:i,offline:!1,dataType:"json",json:[]}),o.requiresFormat!==n||t.support.cors||(o.requiresFormat=!!c(o.crossDomain)||o.crossDomain),o.dataType===n&&(o.dataType="json"),this.dataSource=o,this.defaultQuery=s,o.url&&o.offline&&!o.json.length?(this.isDataAvailable=!1,this.adaptor=r||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(s||t.Query()).done(function(e){a.dataSource.offline=!0,a.isDataAvailable=!0,o.json=e.result,a.adaptor=new t.JsonAdaptor})):this.adaptor=o.offline?new t.JsonAdaptor:new t.ODataAdaptor,!o.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(o.jsonp="callback"),this.adaptor=r||this.adaptor,o.enableCaching&&(this.adaptor=new t.CacheAdaptor(this.adaptor,o.timeTillExpiration,o.cachingPageSize)),this},t.DataManager.prototype={setDefaultQuery:function(e){this.defaultQuery=e},executeQuery:function(i,s,r,o){var a,h,d;return"function"==typeof i&&(o=r,r=s,s=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||u("DataManager - executeQuery() : A query is required to execute"),(a=e.Deferred()).then(s,r,o),h={query:i},this.dataSource.offline||this.dataSource.url==n?t.isNullOrUndefined(this.dataSource.async)||0!=this.dataSource.async?l(function(){this._localQueryProcess(i,h,a)},this):this._localQueryProcess(i,h,a):(d=this.adaptor.processQuery(this,i),t.isNullOrUndefined(d.url)?l(function(){h=this._getDeferedArgs(i,d,h),a.resolveWith(this,[h])},this):this._makeRequest(d,a,h,i)),a.promise()},_localQueryProcess:function(e,t,i){var n=this.executeLocal(e);t=this._getDeferedArgs(e,n,t),i.resolveWith(this,[t])},_getDeferedArgs:function(e,t,i){return e._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=R(e._fromTable,i.result,this),i.getKnockoutModel=U(i.result),i},executeLocal:function(i){var n,s;if(this.defaultQuery||i instanceof t.Query||u("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||u("DataManager - executeLocal() : Json data is required to execute"),i=i||this.defaultQuery,n=this.adaptor.processQuery(this,i),i._subQuery){var r=i._subQuery._fromTable,o=i._subQuery._lookup,a=i._requiresCount?n.result:n;for(o&&o instanceof Array&&p(i._subQuery._fKey,r,a,o,i._subQuery._key),s=0;s<a.length;s++)a[s][r]instanceof Array&&(a[s]=e.extend({},a[s]),a[s][r]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(a[s][r].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(n,this,i)},_makeRequest:function(i,n,s,r){var o,a=!!r._subQuerySelector,l=d(function(e){s.error=e,n.rejectWith(this,[s])},this),c=d(function(e,t,i,o,l,h,d){a||(s.xhr=i,s.count=parseInt(t,10),s.result=e,s.request=o,s.aggregates=h,s.getTableModel=R(r._fromTable,e,this),s.getKnockoutModel=U(e),s.actual=l,s.virtualSelectRecords=d,n.resolveWith(this,[s]))},this),u=d(function(t,i){var n,o,h=e.Deferred(),d={parent:s};return r._subQuery._isChild=!0,n=this.adaptor.processQuery(this,r._subQuery,t?this.adaptor.processResponse(t):i),o=this._makeRequest(n,h,d,r._subQuery),a||h.then(function(e){t&&(p(r._subQuery._fKey,r._subQuery._fromTable,t,e,r._subQuery._key),c(t))},l),o},this),m=h(function(e,i,n,s){-1==n.getResponseHeader("Content-Type").indexOf("xml")&&t.dateParse&&(e=t.parseJSON(e));var o=this.adaptor.processResponse(e,this,r,n,s),l=0,h=null,d=e.virtualSelectRecords;r._requiresCount&&(l=o.count,h=o.aggregates,o=o.result),r._subQuery?a||u(o):c(o,l,n,s,e,h,d)},this),f=e.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:d(this._beforeSend,this),processData:!1,success:m,error:l},i);return"async"in this.dataSource&&(f.async=this.dataSource.async),f=e.ajax(f),a&&((o=r._subQuerySelector.call(this,{query:r._subQuery,parent:r}))&&o.length?(f=e.when(f,u(null,o))).then(h(function(e,t,i){var n,s=this.adaptor.processResponse(e[0],this,r,e[2],i[0]),o=0;r._requiresCount&&(o=s.count,s=s.result),n=this.adaptor.processResponse(t[0],this,r._subQuery,t[2],i[1]),o=0,r._subQuery._requiresCount&&(o=n.count,n=n.result),p(r._subQuery._fKey,r._subQuery._fromTable,s,n,r._subQuery._key),a=!1,c(s,o,e[2])},this),l):a=!1),f},_beforeSend:function(e,t){var i,n,s,r;for(this.adaptor.beforeSend(this,e,t),i=this.dataSource.headers,s=0;i&&s<i.length;s++)for(r in n=[],i[s])n.push(r),e.setRequestHeader(r,i[s][r])},saveChanges:function(i,n,s,r){var o,a,l;return s instanceof t.Query&&(r=s,s=null),o={url:s,key:n||this.dataSource.key},a=this.adaptor.batchRequest(this,i,o,r),this.dataSource.offline?a:(l=e.Deferred(),e.ajax(e.extend({beforeSend:d(this._beforeSend,this),success:h(function(e,t,n,s){l.resolveWith(this,[this.adaptor.processResponse(e,this,null,n,s,i)])},this),error:function(e){l.rejectWith(this,[{error:e}])}},a)),l.promise())},insert:function(i,n,s){var r,o;return i=y.replacer(i),n instanceof t.Query&&(s=n,n=null),r=this.adaptor.insert(this,i,n,s),this.dataSource.offline?r:(o=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:d(this._beforeSend,this),success:h(function(e,i,n,s){try{t.isNullOrUndefined(e)?e=[]:y.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(y.parseJson(e),this,null,n,s),o.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){o.rejectWith(this,[{error:e,dataManager:this}])}},r)),o.promise())},remove:function(i,n,s,r){var o,a;return"object"==typeof n&&(n=n[i]),s instanceof t.Query&&(r=s,s=null),o=this.adaptor.remove(this,i,n,s,r),this.dataSource.offline?o:(a=e.Deferred(),e.ajax(e.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:d(this._beforeSend,this),success:h(function(e,i,n,s){try{t.isNullOrUndefined(e)?e=[]:y.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(y.parseJson(e),this,null,n,s),a.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){a.rejectWith(this,[{error:e,dataManager:this}])}},o)),a.promise())},update:function(i,n,s,r){var o,a;return n=y.replacer(n),s instanceof t.Query&&(r=s,s=null),o=this.adaptor.update(this,i,n,s,r),this.dataSource.offline?o:(a=e.Deferred(),e.ajax(e.extend({contentType:"application/json; charset=utf-8",beforeSend:d(this._beforeSend,this),success:h(function(e,i,n,s){try{t.isNullOrUndefined(e)?e=[]:y.parseJson(e)}catch(t){e=[]}e=this.adaptor.processResponse(y.parseJson(e),this,null,n,s),a.resolveWith(this,[{record:e,dataManager:this}])},this),error:function(e){a.rejectWith(this,[{error:e,dataManager:this}])}},o)),a.promise())},_getJsonFromElement:function(i){"string"==typeof i&&(i=e(e(i).html()));var n=(i=i.jquery?i[0]:i).tagName.toLowerCase();return"table"!==n&&u("ej.DataManager : Unsupported htmlElement : "+n),t.parseTable(i)}};var p=function(e,i,n,s,r){var o,a,l={};for(s.result&&(s=s.result),s.GROUPGUID&&u("ej.DataManager: Do not have support Grouping in hierarchy"),o=0;o<s.length;o++)(l[a=t.getObject(e,s[o])]||(l[a]=[])).push(s[o]);for(o=0;o<n.length;o++)n[o][i]=l[t.getObject(r||e,n[o])]},m="application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",f="multipart/mixed",g="--changeset_",v="batch_",_="Content-Type: application/http\nContent-Transfer-Encoding: binary ",b="Content-Type: application/json; charset=utf-8 ",y={parseJson:function(e){var t=typeof e;return"string"===t?e=JSON.parse(e,y.jsonReviver):e instanceof Array?y.iterateAndReviveArray(e):"object"===t&&y.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)"object"==typeof e[t]?y.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{|\"/g.test(e[t])?y.parseJson(e[t]):y.jsonReviver("",e[t])},iterateAndReviveJson:function(e){var t;for(var i in e)i.startsWith("__")||("object"==typeof(t=e[i])?t instanceof Array?y.iterateAndReviveArray(t):y.iterateAndReviveJson(t):e[i]=y.jsonReviver(i,t))},jsonReviver:function(e,t){var i,n,s=t;if("string"==typeof t){if(i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t))return y.replacer(new Date(parseInt(i[1])));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=y.replacer(new Date(t)),isNaN(t)&&(n=s.split(/[^0-9]/),t=y.replacer(new Date(n[0],n[1]-1,n[2],n[3],n[4],n[5]))))}return t},isJson:function(e){return"string"==typeof e[0]?e:t.parseJSON(e)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(e){return t.isPlainObject(e)?y.jsonReplacer(e):e instanceof Array?y.arrayReplacer(e):e instanceof Date?y.jsonReplacer({val:e}).val:e},jsonReplacer:function(e){var i;for(var n in e)(i=e[n])instanceof Date&&(e[n]=new Date(+i+36e5*t.serverTimezoneOffset));return e},arrayReplacer:function(e){for(var i=0;i<e.length;i++)t.isPlainObject(e[i])?e[i]=y.jsonReplacer(e[i]):e[i]instanceof Date&&(e[i]=y.jsonReplacer({date:e[i]}).date);return e}};t.isJSON=y.isJson,t.parseJSON=y.parseJson,t.dateParse=!0,t.isGUID=y.isGuid,t.Query=function(e){return this instanceof t.Query?(this.queries=[],this._key="",this._fKey="","string"==typeof e?this._fromTable=e||"":e&&e instanceof Array&&(this._lookup=e),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(e)},t.Query.prototype={key:function(e){return"string"==typeof e&&(this._key=e),this},using:function(e){return e instanceof t.DataManager?(this.dataManagar=e,this):u("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(e,i,n,s){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeQuery(this,i,n,s):u("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(e){return(e=e||this.dataManagar)&&e instanceof t.DataManager?e.executeLocal(this):u("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var e=new t.Query;return e.queries=this.queries.slice(0),e._key=this._key,e._isChild=this._isChild,e.dataManagar=this.dataManager,e._fromTable=this._fromTable,e._params=this._params.slice(0),e._expands=this._expands.slice(0),e._sortedColumns=this._sortedColumns.slice(0),e._groupedColumns=this._groupedColumns.slice(0),e._subQuerySelector=this._subQuerySelector,e._subQuery=this._subQuery,e._fKey=this._fKey,e._requiresCount=this._requiresCount,e},from:function(e){return"string"==typeof e&&(this._fromTable=e),this},addParams:function(e,i){return"function"==typeof i||t.isPlainObject(i)?"function"==typeof i&&this._params.push({key:e,fn:i}):this._params.push({key:e,value:i}),this},expand:function(e){return this._expands="string"==typeof e?[].slice.call(arguments,0):e.slice(0),this},where:function(e,i,n,s){i=(i||t.FilterOperators.equal).toLowerCase();var r=null;return"string"==typeof e?r=new t.Predicate(e,i,n,s):e instanceof t.Predicate?r=e:u("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:r}),this},search:function(e,i,n,s){i&&"boolean"!=typeof i?"string"==typeof i&&(i=[i]):s=i=[],"boolean"==typeof n&&(s=n,n=null),(n=n||t.FilterOperators.contains).length<3&&(n=t.data.operatorSymbols[n]);var r=t.data.fnOperators[n]||t.data.fnOperators.processSymbols(n);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:n,searchKey:e,ignoreCase:s,comparer:r}}),this},sortBy:function(e,i,n){var s,r,o,a,l=t.sortOrder.Ascending;if("string"==typeof e&&e.toLowerCase().endsWith(" desc")&&(e=e.replace(/ desc$/i,""),i=t.sortOrder.Descending),e instanceof Array){for(o=0;o<e.length;o++)this.sortBy(e[o],i,n);return this}if("boolean"==typeof i?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:"function"==typeof i&&(l="custom"),i&&"string"!=typeof i||(l=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),n)for(s=w(this.queries,"onSortBy"),o=0;o<s.length;o++)if("string"==typeof(r=s[o].e.fieldName)){if(r===e)return this}else if(r instanceof Array)for(a=0;a<r.length;a++)if(r[a]===e||e.toLowerCase()===r[a]+" desc")return this;return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:i,direction:l}}),this},sortByDesc:function(e){return this.sortBy(e,t.sortOrder.Descending)},group:function(e,t){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,fn:t}}),this},page:function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},range:function(e,t){return("number"!=typeof e||"number"!=typeof t)&&u("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},take:function(e){return"number"!=typeof e&&u("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:e}}),this},skip:function(e){return"number"!=typeof e&&u("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:e}}),this},select:function(e){return"string"==typeof e&&(e=[].slice.call(arguments,0)),e instanceof Array||u("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},hierarchy:function(e,i){return e&&e instanceof t.Query||u("Query() - hierarchy : query must be instance of ej.Query"),"function"==typeof i&&(this._subQuerySelector=i),this._subQuery=e,this},foreignKey:function(e){return"string"==typeof e&&(this._fKey=e),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(e,t){this.queries.push({fn:"onAggregates",e:{field:t,type:e}})}},t.Adaptor=function(e){this.dataSource=e,this.pvt={},this.init.apply(this,[].slice.call(arguments,1))},t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"},init:function(){},extend:function(t){var i,n,s=function(t){this.dataSource=t,this.options&&(this.options=e.extend({},this.options)),this.init.apply(this,[].slice.call(arguments,0)),this.pvt={}};for(n in(s.prototype=new this.type).type=s,i=s.prototype.base={},t)s.prototype[n]&&(i[n]=s.prototype[n]);return e.extend(!0,s.prototype,t),s},processQuery:function(){},processResponse:function(e){return e.d?e.d:e},convertToQueryString:function(t){return e.param(t)},type:t.Adaptor},t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(e,t,i){var n,r,o,a,l,h,d=w(t.queries,"onSortBy"),u=w(t.queries,"onGroup"),p=w(t.queries,"onWhere"),m=w(t.queries,"onSearch"),f=w(t.queries,"onAggregates"),g=$(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),v=t._params,_=e.dataSource.url,b=null,y=this.options,x={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]};for(g.onPage?(n=g.onPage,r=((r=s(n.pageIndex,t))-1)*(b=s(n.pageSize,t))):g.onRange&&(r=(n=g.onRange).start,b=n.end-n.start),o=0;o<d.length;o++)n=s(d[o].e.fieldName,t),x.sorted.push(C(this,"onEachSort",{name:n,direction:d[o].e.direction},t));for(i&&((n=this.getFiltersFrom(i,t))&&x.filters.push(C(this,"onEachWhere",n.toJSON(),t))),o=0;o<p.length;o++)for(l in x.filters.push(C(this,"onEachWhere",p[o].e.toJSON(),t)),x.filters[o])c(x[l])&&delete x[l];for(o=0;o<m.length;o++)n=m[o].e,x.searches.push(C(this,"onEachSearch",{fields:n.fieldNames,operator:n.operator,key:n.searchKey,ignoreCase:n.ignoreCase},t));for(o=0;o<u.length;o++)x.grouped.push(s(u[o].e.fieldName,t));for(o=0;o<f.length;o++)n=f[o].e,x.aggregates.push({type:n.type,field:s(n.field,t)});for(l in(a={})[y.from]=t._fromTable,y.expand&&(a[y.expand]=t._expands),a[y.select]=g.onSelect?C(this,"onSelect",s(g.onSelect.fieldNames,t),t):"",a[y.count]=t._requiresCount?C(this,"onCount",t._requiresCount,t):"",a[y.search]=x.searches.length?C(this,"onSearch",x.searches,t):"",a[y.skip]=g.onSkip?C(this,"onSkip",s(g.onSkip.nos,t),t):"",a[y.take]=g.onTake?C(this,"onTake",s(g.onTake.nos,t),t):"",a[y.where]=x.filters.length||x.searches.length?C(this,"onWhere",x.filters,t):"",a[y.sortBy]=x.sorted.length?C(this,"onSortBy",x.sorted,t):"",a[y.group]=x.grouped.length?C(this,"onGroup",x.grouped,t):"",a[y.aggregates]=x.aggregates.length?C(this,"onAggregates",x.aggregates,t):"",a.param=[],C(this,"addParams",{dm:e,query:t,params:v,reqParams:a}),a)(c(a[l])||""===a[l]||0===a[l].length)&&delete a[l];return y.skip in a&&y.take in a||null===b||(a[y.skip]=C(this,"onSkip",r,t),a[y.take]=C(this,"onTake",b,t)),h=this.pvt,this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(a),url:_,ejPvtData:h,type:"POST",contentType:"application/json; charset=utf-8"}:(n=this.convertToQueryString(a,t,e),{type:"GET",url:(n=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+n).length?_.replace(/\/*$/,n):_,ejPvtData:h})},convertToQueryString:function(t,i,n){return n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")?e.param(t):"?"+e.param(t)},processResponse:function(e,i,s,r,o,a){var l,h,d,c,u=o.ejPvtData||{},p=e.groupDs;if(r&&r.getResponseHeader("Content-Type")&&-1!=r.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return s._requiresCount?{result:[],count:0}:[];if((l=JSON.parse(o.data))&&"batch"===l.action&&e.added)return a.added=e.added,a;if(e.d&&(e=e.d),u&&u.aggregates&&u.aggregates.length){var m,f=u.aggregates,g={},v={};for(("count"in e&&(g.count=e.count),e.result&&(g.result=e.result),e.aggregate&&(e=e.aggregate),d=0);d<f.length;d++)(m=t.aggregates[f[d].type])&&(v[f[d].field+" - "+f[d].type]=m(e,f[d].field));g.aggregates=v,e=g}if(u&&u.groups&&u.groups.length){for((h=u.groups,g={},"count"in e&&(g.count=e.count),e.aggregates&&(g.aggregates=e.aggregates),e.result&&(e=e.result),d=0);d<h.length;d++)c=L(h[d],s.queries),t.isNullOrUndefined(p)||(p=t.group(p,h[d],null,c)),e=t.group(e,h[d],u.aggregates,c,null,p);return g.count!=n?g.result=e:g=e,g}return e},onGroup:function(e){this.pvt.groups=e},onAggregates:function(e){this.pvt.aggregates=e},batchRequest:function(e,t,i,n){var s={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:s}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(s)}},beforeSend:function(){},insert:function(e,t,i,n){var s={value:t,table:i,action:"insert"};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:s}),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(s)}},remove:function(e,t,i,n,s){var r={key:i,keyColumn:t,table:n,action:"remove"};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:r}),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(r)}},update:function(e,t,i,n,s){var r={value:i,action:"update",keyColumn:t,key:i[t],table:n};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:r}),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(r)}},getFiltersFrom:function(e,i){var n;e instanceof Array&&e.length||u("ej.SubQuery: Array of key values required");var s,r=i._fKey,o=r,a=i._key,l=[],h="object"!=typeof e[0];for("object"!=typeof e[0]&&(o=null),n=0;n<e.length;n++)s=h?e[n]:t.pvt.getObject(a||o,e[n]),l.push(new t.Predicate(r,"==",s));return t.Predicate.or(l)},addParams:function(e){var t,i,n=e.dm,s=e.query,r=e.params,o=e.reqParams;for(o.params={},t=0;i=r[t];t++)o[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),o[i.key]=i.value,i.fn&&(o[i.key]=i.fn.call(s,i.key,s,n)),o.params[i.key]=o[i.key]}}),t.WebMethodAdaptor=(new t.UrlAdaptor).extend({processQuery:function(e,i,n){var s=t.UrlAdaptor.prototype.processQuery(e,i,n),r=t.parseJSON(s.data),o={};return o.value=r,C(this,"addParams",{dm:e,query:i,params:i._params,reqParams:o}),{data:JSON.stringify(o),url:s.url,ejPvtData:s.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(e){var t,i,n,s,r=e.dm,o=e.query,a=e.params,l=e.reqParams;for(l.params={},t=0;i=a[t];t++)l[i.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),n=i.key,s=i.value,i.fn&&(s=i.fn.call(o,i.key,o,r)),l[n]=s,l.params[n]=l[n]}}),t.CacheAdaptor=(new t.UrlAdaptor).extend({init:function(e,i,n){var s,r;t.isNullOrUndefined(e)||(this.cacheAdaptor=e),this.pageSize=n,this.guidId=t.getGuid("cacheAdaptor"),s={keys:[],results:[]},window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify(s)),r=this.guidId,t.isNullOrUndefined(i)||setInterval(function(){for(var e=t.parseJSON(window.localStorage.getItem(r)),n=[],s=0;s<e.results.length;s++)e.results[s].timeStamp=new Date-new Date(e.results[s].timeStamp),new Date-new Date(e.results[s].timeStamp)>i&&n.push(s);for(s=0;s<n.length;s++)e.results.splice(n[s],1),e.keys.splice(n[s],1);window.localStorage.removeItem(r),window.localStorage.setItem(r,JSON.stringify(e))},i)},generateKey:function(e,t){var i,n,s,r,o=w(t.queries,"onSortBy"),a=w(t.queries,"onGroup"),l=w(t.queries,"onWhere"),h=w(t.queries,"onSearch"),d=(w(t.queries,"onPage"),$(t.queries,["onSelect","onPage","onSkip","onTake","onRange"])),c=(t._params,e);for(d.onPage&&(c+=d.onPage.pageIndex),o.forEach(function(e){c+=e.e.direction+e.e.fieldName}),a.forEach(function(e){c+=e.e.fieldName}),h.forEach(function(e){c+=e.e.searchKey}),i=0;i<l.length;i++)if((n=l[i]).e.isComplex){for((s=t.clone()).queries=[],r=0;r<n.e.predicates.length;r++)s.queries.push({fn:"onWhere",e:n.e.predicates[r],filter:t.queries.filter});c+=n.e.condition+this.generateKey(e,s)}else c+=n.e.field+n.e.operator+n.e.value;return c},processQuery:function(e,i){var n,s,r=this.generateKey(e.dataSource.url,i);return window.localStorage&&(n=t.parseJSON(window.localStorage.getItem(this.guidId))),null==(s=n?n.results[n.keys.indexOf(r)]:null)||this._crudAction||this._insertAction?(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):s},processResponse:function(i,n,s,r,o,a){var l;if(this._insertAction||o&&this.cacheAdaptor.options.batch&&o.url.endsWith(this.cacheAdaptor.options.batch)&&"post"===o.type.toLowerCase())return this.cacheAdaptor.processResponse(i,n,s,r,o,a);i=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0));var h=this.generateKey(n.dataSource.url,s),d={};for(window.localStorage&&(d=t.parseJSON(window.localStorage.getItem(this.guidId))),-1!=(l=e.inArray(h,d.keys))&&(d.results.splice(l,1),d.keys.splice(l,1)),d.results[d.keys.push(h)-1]={keys:h,result:i.result,timeStamp:new Date,count:i.count};d.results.length>this.pageSize;)d.results.splice(0,1),d.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(d)),i},update:function(e,t,i,n){return this._crudAction=!0,this.cacheAdaptor.update(e,t,i,n)},insert:function(e,t,i){return this._insertAction=!0,this.cacheAdaptor.insert(e,t,i)},remove:function(e,t,i,n){return this._crudAction=!0,this.cacheAdaptor.remove(e,t,i,n)},batchRequest:function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}});var w=function(e,t){return e.filter(function(e){return e.fn===t})||[]},$=function(e,t){for(var i=e.filter(function(e){return-1!==t.indexOf(e.fn)}),n={},s=0;s<i.length;s++)n[i[s].fn]||(n[i[s].fn]=i[s].e);return n},C=function(e,t,i,n){if(e[t]){var s=e[t](i,n);c(s)||(i=s)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(e,t){return e.isComplex?this.onComplexPredicate(e,t):this.onPredicate(e,t)},onPredicate:function(e,i,n){var s,r,o,a="",l=e.value,h=typeof l,d=this._p(e.field);return l instanceof Date&&(l="datetime'"+y.replacer(l).toJSON()+"'"),"string"===h&&(l="'"+l+"'",n&&(d="cast("+d+", 'Edm.String')"),t.isGUID(l)&&(r="guid"),e.ignoreCase&&(r||(d="tolower("+d+")"),l=l.toLowerCase())),(s=t.data.odBiOperator[e.operator])?(a+=d,a+=s,r&&(a+=r),a+l):(s=t.data.odUniOperator[e.operator])&&"string"===h?("substringof"===s&&(o=l,l=d,d=o),a+=s+"(",a+=d+",",r&&(a+=r),a+(l+")")):""},onComplexPredicate:function(e,t){for(var i=[],n=0;n<e.predicates.length;n++)i.push("("+this.onEachWhere(e.predicates[n],t)+")");return i.join(" "+e.condition+" ")},onWhere:function(e){return this.pvt.searches&&e.push(this.onEachWhere(this.pvt.searches,null,!0)),e.join(" and ")},onEachSearch:function(e){var i,n;for(0===e.fields.length&&u("Query() - Search : oData search requires list of field names to search"),i=this.pvt.searches||[],n=0;n<e.fields.length;n++)i.push(new t.Predicate(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.searches=i},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(e){var t,i=[];if(e.name instanceof Array)for(t=0;t<e.name.length;t++)i.push(this._p(e.name[t]));else i.push(this._p(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},onSortBy:function(e){return e.reverse().join(",")},onGroup:function(e){return this.pvt.groups=e,""},onSelect:function(e){for(var t=0;t<e.length;t++)e[t]=this._p(e[t]);return e.join(",")},onAggregates:function(e){return this.pvt.aggregates=e,""},onCount:function(e){return!0===e?"allpages":""},beforeSend:function(e,t,i){i.url.endsWith(this.options.batch)&&"post"===i.type.toLowerCase()&&(t.setRequestHeader("Accept",f),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")),e.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,n,s,r,o,a){var l,h,d,u,p,m,f,g,v,_;if(!t.isNullOrUndefined(i.d)&&(l=s&&s._requiresCount?i.d.results:i.d,!t.isNullOrUndefined(l)))for(v=0;v<l.length;v++)t.isNullOrUndefined(l[v].__metadata)||delete l[v].__metadata;if(h=o&&o.ejPvtData,r&&r.getResponseHeader("Content-Type")&&-1!=r.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return s._requiresCount?{result:[],count:0}:[];if(o&&this.options.batch&&o.url.endsWith(this.options.batch)&&"post"===o.type.toLowerCase()){if(d=(d=r.getResponseHeader("Content-Type")).substring(d.indexOf("=batchresponse")+1),(i=i.split(d)).length<2)return;for(i=i[1],m=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(m[0],""),f=m[1],v=(i=i.split(f)).length;v>-1;v--)/\bContent-ID:/i.test(i[v])&&/\bHTTP.+201/.test(i[v])&&(u=parseInt(/\bContent-ID: (\d+)/i.exec(i[v])[1]),a.added[u]&&(p=y.parseJson(/^\{.+\}/m.exec(i[v])[0]),e.extend(a.added[u],this.processResponse(p))));return a}var b=r&&r.getResponseHeader("DataServiceVersion"),w=null,$={};if(b=b&&parseInt(b,10)||2,s&&s._requiresCount&&((i.__count||i["odata.count"])&&(w=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(w=i.__count||i["odata.count"])),3===b&&i.value&&(i=i.value),i.d&&(i=i.d),b<3&&i.results&&(i=i.results),h&&h.aggregates&&h.aggregates.length){var C,x=h.aggregates,S={};for(v=0;v<x.length;v++)(C=t.aggregates[x[v].type])&&(S[x[v].field+" - "+x[v].type]=C(i,x[v].field));$=S}if(h&&h.groups&&h.groups.length)for(g=h.groups,v=0;v<g.length;v++)_=L(g[v],s.queries),i=t.group(i,g[v],h.aggregates,_);return c(w)?i:{result:i,count:w,aggregates:$}},convertToQueryString:function(e,t,i){var n,s=[],r=e.table||"";for(n in delete e.table,i.dataSource.requiresFormat&&(e.$format="json"),e)s.push(n+"="+e[n]);return s=s.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!r?s:s.length?r+"?"+s:r||""},insert:function(e,t,i){return{url:e.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(e,t,i,n){return{type:"DELETE",url:e.dataSource.url.replace(/\/*$/,n?"/"+n:"")+"("+i+")"}},update:function(e,t,i,n){return{type:"PUT",url:e.dataSource.url.replace(/\/*$/,n?"/"+n:"")+"("+i[t]+")",data:JSON.stringify(i),accept:this.options.accept}},batchRequest:function(e,i,n){var s=n.guid=t.getGuid(v),r=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch),o={url:n.url,key:n.key,cid:1,cSet:t.getGuid(g)},a="--"+s+"\n";return a+="Content-Type: multipart/mixed; boundary="+o.cSet.replace("--","")+"\n",this.pvt.changeSet=0,a+=this.generateInsertRequest(i.added,o),a+=this.generateUpdateRequest(i.changed,o),a+=this.generateDeleteRequest(i.deleted,o),a+=o.cSet+"--\n",{type:"POST",url:r,contentType:"multipart/mixed; charset=UTF-8;boundary="+s,data:a+="--"+s+"--"}},generateDeleteRequest:function(e,t){var i,n;if(!e)return"";for(i="",n=0;n<e.length;n++)i+="\n"+t.cSet+"\n",i+=_+"\n\n",i+="DELETE ",i+=t.url+"("+e[n][t.key]+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+m+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=b+"\n";return i+"\n"},generateInsertRequest:function(e,t){var i,n;if(!e)return"";for(i="",n=0;n<e.length;n++)i+="\n"+t.cSet+"\n",i+=_+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+m+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=b+"\n\n",i+=JSON.stringify(e[n])+"\n";return i},generateUpdateRequest:function(e,t){var i,n;if(!e)return"";for(i="",n=0;n<e.length;n++)i+="\n"+t.cSet+"\n",i+=_+"\n\n",i+="PUT ",i+=t.url+"("+e[n][t.key]+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+m+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=b+"\n\n",i+=JSON.stringify(e[n])+"\n\n";return i},_p:function(e){return e.replace(/\./g,"/")}}),t.ODataV4Adaptor=(new t.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(e){return!0===e?"true":""},onPredicate:function(e,i,n){var s="",r=e.value instanceof Date;return t.data.odUniOperator.contains="contains",s=t.ODataAdaptor.prototype.onPredicate.call(this,e,i,n),t.data.odUniOperator.contains="substringof",r&&(s=s.replace(/datetime'(.*)'$/,"$1")),s},onEachSearch:function(e){var t=this.pvt.search||[];t.push(e.key),this.pvt.search=t},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(e,i){for(var n,s,r=/\/[\d*\/]*/g,o="",a=i._expands.length-1;a>0;a--)if(o.indexOf(i._expands[a])>=0)i._expands.pop();else if(r.test(i._expands[a])){for(n=(o=i._expands.pop()).replace(r,"($expand="),s=0;s<o.split(r).length-1;s++)n+=")";i._expands.unshift(n),a++}return t.ODataAdaptor.prototype.processQuery.apply(this,[e,i])},processResponse:function(i,n,s,r,o,a){var l,h,d,u,p,m,f,g,v,_,b=o&&o.ejPvtData;if(r&&r.getResponseHeader("Content-Type")&&-1!=r.getResponseHeader("Content-Type").indexOf("xml")&&9==i.nodeType)return s._requiresCount?{result:[],count:0}:[];if(o&&this.options.batch&&o.url.endsWith(this.options.batch)&&"post"===o.type.toLowerCase()){if(l=(l=r.getResponseHeader("Content-Type")).substring(l.indexOf("=batchresponse")+1),(i=i.split(l)).length<2)return;for(i=i[1],u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(u[0],""),p=u[1],v=(i=i.split(p)).length;v>-1;v--)/\bContent-ID:/i.test(i[v])&&/\bHTTP.+201/.test(i[v])&&(h=parseInt(/\bContent-ID: (\d+)/i.exec(i[v])[1]),a.added[h]&&(d=y.parseJson(/^\{.+\}/m.exec(i[v])[0]),e.extend(a.added[h],this.processResponse(d))));return a}if(m=null,f={},s&&s._requiresCount&&"@odata.count"in i&&(m=i["@odata.count"]),i=t.isNullOrUndefined(i.value)?i:i.value,b&&b.aggregates&&b.aggregates.length){var w,$=b.aggregates,C={};for(v=0;v<$.length;v++)(w=t.aggregates[$[v].type])&&(C[$[v].field+" - "+$[v].type]=w(i,$[v].field));f=C}if(b&&b.groups&&b.groups.length)for(g=b.groups,v=0;v<g.length;v++)_=L(g[v],s.queries),i=t.group(i,g[v],b.aggregates,_);return c(m)?i:{result:i,count:m,aggregates:f}}}),t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(e,t){for(var i,s,r=e.dataSource.json.slice(0),o=r.length,a=!0,l={},h=0;h<t.queries.length;h++)i=this[(s=t.queries[h]).fn].call(this,r,s.e,t),"onAggregates"==s.fn?l[s.e.field+" - "+s.e.type]=i:r=i!==n?i:r,("onPage"===s.fn||"onSkip"===s.fn||"onTake"===s.fn||"onRange"===s.fn)&&(a=!1),a&&(o=r.length);return t._requiresCount&&(r={result:r,count:o,aggregates:l}),r},batchRequest:function(e,t,i){for(var n=0;n<t.added.length;n++)this.insert(e,t.added[n]);for(n=0;n<t.changed.length;n++)this.update(e,i.key,t.changed[n]);for(n=0;n<t.deleted.length;n++)this.remove(e,i.key,t.deleted[n]);return t},onWhere:function(e,t){return e?e.filter(function(e){return t.validate(e)}):e},onAggregates:function(e,i){var n=t.aggregates[i.type];return e&&n&&0!=e.length?n(e,i.field):null},onSearch:function(e,i){return e&&e.length?(0===i.fieldNames.length&&t.pvt.getFieldList(e[0],i.fieldNames),e.filter(function(e){for(var n=0;n<i.fieldNames.length;n++)if(i.comparer.call(e,t.pvt.getObject(i.fieldNames[n],e),i.searchKey,i.ignoreCase))return!0;return!1})):e},onSortBy:function(e,i,n){var r,o,a;if(!e)return e;if(!(o=s(i.fieldName,n)))return e.sort(i.comparer);if(o instanceof Array){for(a=(o=o.slice(0)).length-1;a>=0;a--)o[a]&&(r=i.comparer,o[a].endsWith(" desc")&&(r=t.pvt.fnSort(t.sortOrder.Descending),o[a]=o[a].replace(" desc","")),e=D(e,o[a],r,[]));return e}return D(e,o,i.comparer,n?n.queries:[])},onGroup:function(e,i,n){var r,o,a,l,h;if(!e)return e;if(o=[],(r=w(n.queries,"onAggregates")).length)for(l=0;l<r.length;l++)a=r[l].e,o.push({type:a.type,field:s(a.field,n)});return h=L(i.fieldName,n.queries),t.group(e,s(i.fieldName,n),o,h)},onPage:function(e,t,i){var n=s(t.pageSize,i),r=(s(t.pageIndex,i)-1)*n,o=r+n;return e?e.slice(r,o):e},onRange:function(e,t){return e?e.slice(s(t.start),s(t.end)):e},onTake:function(e,t){return e?e.slice(0,s(t.nos)):e},onSkip:function(e,t){return e?e.slice(s(t.nos)):e},onSelect:function(e,i){return e?t.select(e,s(i.fieldNames)):e},insert:function(e,t){return e.dataSource.json.push(t)},remove:function(e,i,n){var s,r=e.dataSource.json;for("object"==typeof n&&(n=t.getObject(i,n)),s=0;s<r.length&&t.getObject(i,r[s])!==n;s++);return s!==r.length?r.splice(s,1):null},update:function(i,n,s){for(var r=i.dataSource.json,o=t.getObject(n,s),a=0;a<r.length&&t.getObject(n,r[a])!==o;a++);return a<r.length?e.extend(r[a],s):null}}),t.ForeignKeyAdaptor=function(i,s){var r=(new t[s||"JsonAdaptor"]).extend({init:function(){var e,n;for(this.foreignData=[],this.key=[],this.adaptorType=s,this.value=[],this.fValue=[],this.keyField=[],e=i,n=0;n<e.length;n++)this.foreignData[n]=e[n].dataSource,this.key[n]=e[n].foreignKeyField,this.fValue[n]=t.isNullOrUndefined(e[n].field)?e[n].foreignKeyValue:e[n].field+"_"+e[n].foreignKeyValue,this.value[n]=e[n].foreignKeyValue,this.keyField[n]=e[n].field||e[n].foreignKeyField,this.initial=!0},processQuery:function(e,i){var n,s,r,o=e.dataSource.json;if(this.initial){for(n=0;n<o.length;n++)for(s=this,r=0;r<this.foreignData.length;r++)this.foreignData[r].filter(function(e){t.getObject(s.key[r],e)==t.getObject(s.keyField[r],o[n])&&(o[n][s.fValue[r]]=t.getObject(s.value[r],e))});this.initial=!1}return this.base.processQuery.apply(this,[e,i])},setValue:function(i){for(var s,r,o,a=0;a<this.foreignData.length;a++)s=this,"string"!=typeof(r=i[this.fValue[a]])||isNaN(r)||(r=t.parseFloat(r)),o=e.grep(s.foreignData[a],function(e){return e[s.value[a]]==r})[0],t.isNullOrUndefined(o)&&(o=e.grep(s.foreignData[a],function(e){return e[s.key[a]]==r})[0],t.getObject(this.value[a],o)!=n&&t.createObject(s.value[a],t.getObject(this.value[a],o),i)),t.getObject(this.value[a],o)!=n&&t.createObject(this.keyField[a],t.getObject(this.key[a],o),i)},insert:function(e,t,i){return this.setValue(t),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},update:function(e,i,n,s){return this.setValue(n),t.JsonAdaptor.prototype.update(e,i,n,s),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:n,action:"update",keyColumn:i,key:n[i],table:s})}}});return e.extend(this,new r),this},t.remoteSaveAdaptor=(new t.JsonAdaptor).extend({beforeSend:t.UrlAdaptor.prototype.beforeSend,insert:t.UrlAdaptor.prototype.insert,update:t.UrlAdaptor.prototype.update,remove:t.UrlAdaptor.prototype.remove,addParams:t.UrlAdaptor.prototype.addParams,batchRequest:function(e,i,n){for(var s=0;s<i.added.length;s++)t.JsonAdaptor.prototype.insert(e,i.added[s]);for(s=0;s<i.changed.length;s++)t.JsonAdaptor.prototype.update(e,n.key,i.changed[s]);for(s=0;s<i.deleted.length;s++)t.JsonAdaptor.prototype.remove(e,n.key,i.deleted[s]);return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:i.changed,added:i.added,deleted:i.deleted,action:"batch",table:n.url,key:n.key})}}}),t.WebApiAdaptor=(new t.ODataAdaptor).extend({insert:function(e,t){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(e,t,i){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},processResponse:function(e,i,n,s,r){var o,a,l,h=r&&r.ejPvtData;if(r&&"post"!=r.type.toLowerCase()){var d=s&&s.getResponseHeader("DataServiceVersion"),u=null,p={};if(d=d&&parseInt(d,10)||2,n&&n._requiresCount&&(c(e.Count)||(u=e.Count)),d<3&&e.Items&&(e=e.Items),h&&h.aggregates&&h.aggregates.length){var m,f=h.aggregates,g={};for(a=0;a<f.length;a++)(m=t.aggregates[f[a].type])&&(g[f[a].field+" - "+f[a].type]=m(e,f[a].field));p=g}if(h&&h.groups&&h.groups.length)for(o=h.groups,a=0;a<o.length;a++)l=L(o[a],n.queries),e=t.group(e,o[a],h.aggregates,l);return c(u)?e:{result:e,count:u,aggregates:p}}}}),s=function(e,t){return"function"==typeof e?e.call(t||{}):e},t.TableModel=function(i,n,s,r){var o,a,l,h;if(!N(this,t.TableModel))return new t.TableModel(n);for(N(n,Array)||u("ej.TableModel - Json Array is required"),o=[],l=d(I,this),h=0;h<n.length;h++)(a=new t.Model(n[h],this)).state="unchanged",a.on("stateChange",l),r&&a.computes(r),o.push(a);return this.name=i||"table1",this.rows=t.NotifierArray(o),this._deleted=[],this._events=e({}),this.dataManager=s,this._isDirty=!1,this},t.TableModel.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},setDataManager:function(e){this.dataManagar=e},saveChanges:function(){if(this.dataManager&&N(this.dataManager,t.DataManager)||u("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var e=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);e.done(d(function(e){for(var t=this.toArray(),i=0;i<t.length;i++)"added"===t.state&&t.set(this.key,e.added.filter(function(e){return e[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this)),e.fail(d(function(e){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:e})},this)),this._isDirty=!1}},rejectChanges:function(){for(var e=this.toArray(),t=0;t<e.length;t++)e[t].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(e){var i=new t.Model(e);i._isDirty=this._isDirty=!0,this.rows.push(i),this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(e){var t;this.key||u("TableModel - update : Primary key should be assigned to TableModel.key");var i,n=e,s=this.key,r=n[s];for(t in i=this.rows.array.filter(function(e){return e.get(s)===r}),i=i[0],n)i.set(t,n[t]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:i,table:this})},remove:function(e){var t,i,s,r;for(this.key||u("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,e&&"object"==typeof e&&(e=e[t]!==n?e[t]:e.get(t)),r=0;r<this.rows.length();r++)if(this.rows.array[r].get(t)===e){i=r;break}i>-1&&((s=this.rows.removeAt(i)).markDelete(),this._deleted.push({model:s,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:s,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var e={added:[],changed:[]},i=this.toArray(),n=0;n<i.length;n++)e[i[n].state]&&e[i[n].state].push(i[n].json);return e.deleted=t.select(this._deleted,["model"]),e},toArray:function(){return this.rows.toArray()},setDirty:function(e,t){this._isDirty!==!!e&&(this._isDirty=!!e,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(e){return this.rows.array[e]},length:function(){return this.rows.array.length},bindTo:function(t){var i,n,s=r,a=e(t.html()),l=this.toArray();for(e.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(s=o),s.insertBefore(t),t.detach().empty(),n=0;n<l.length;n++)i=a.clone(),l[n].bindTo(i),t.append(i);t.insertAfter(s),s.remove()}},r=i?e(document.createElement("div")):{},o=i?e(document.createElement("tr")):{},t.Model=function(i,n,s){"string"==typeof n&&(s=n,n=null),this.$id=z("m"),this.json=i,this.table=n instanceof t.TableModel?n:null,this.name=s||this.table&&this.table.name,this.dataManager=n instanceof t.DataManager?n:n.dataManagar,this.actual={},this._events=e({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},t.Model.prototype={computes:function(t){e.extend(this.computed,t)},on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},set:function(e,t){var i,s,r=this.json,o=e;for(e=e.split("."),s=0;s<e.length-1;s++)r=r[(e=e[0])[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),i=r[e],this.actual[e]!==n||e in this.actual||(this.actual[e]=t),r[e]=t,this._updateValues(e,t),this._events.triggerHandler({type:o,current:t,previous:i,model:this})},get:function(e){return t.pvt.getObject(e,this.json)},revert:function(e){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,e?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,n){return i=i||this.dataManagar,n=n||i.dataSource.key,i||u("ej.Model - DataManager is required to commit the changes"),"added"===this.state?i.insert(this.json,this.name).done(t.proxy(function(t){e.extend(this.json,t.record)},this)):"changed"===this.state?i.update(n,this.json,this.name):"deleted"===this.state?i.remove(n,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if("added"===this.state){if("deleted"!==t)return;t="unchanged"}var n=t;i=i||{},this.state=t,this._events.triggerHandler(e.extend({type:"stateChange",current:t,previous:n,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var e in this.json)this._props.push(e),this._updates[e]={read:[],input:[]};return this._props},bindTo:function(t){var i,n,s,r,o=e(t),a=o.find("[ej-observe], [ej-computed], [ej-prop]"),l=a.length;for(o.data("ejModel",this),s={fields:[],props:[],computes:[]},r=0;r<l;r++)(n=(i=a.eq(r)).attr("ej-prop"))&&this._processAttrib(n,i,s),(n=i.attr("ej-observe"))&&-1!==this._props.indexOf(n)?this._processField(i,n,s):(n=i.attr("ej-computed"))&&this._processComputed(n,i,s);o.data("ejModelBinding"+this.$id,s)},unbind:function(t){var i,n,s,r,o,a,l,h={props:this._attrEls,computes:this._computeEls},d=!1;for(n in t&&(h=e(t).removeData("ejModel").data("ejModelBinding"+this.$id)||h,d=!0),this.computed)i=h.computes[n],n=this.computed[n],i&&n.deps&&(this.off(n.deps.join(" "),i.handle),d&&delete this._computeEls[n]);for(n in d||(this._computeEls={}),h.props)(i=h.props[n])&&(this.off(i.deps.join(" "),i.handle),delete h.props[n],d&&delete this._attrEls[n]);if(d||(this._attrEls={}),h.fields&&h.fields.length)for(s=h.fields.length,l=0;l<s;l++)r=h.fields[l],e(r).off("change",null,this._changeHandler),a=-1!==this.formElements.indexOf(r.tagName.toLowerCase())?"input":"read",-1!==(o=this._updates[a].indexOf(r))&&this._updates[a].splice(o,1)},_processComputed:function(e,t,i){if(e){var n,s,r=S(e),o=-1!==this.formElements.indexOf(t[0].tagName.toLowerCase())?"val":"html";this.computed[e]&&this.computed[r]||(this.computed[r]={value:new Function("var e = this; return "+e),deps:this._generateDeps(e)},e=r),(n=this.computed[e]).get||(n.get=function(){n.value.call(this.json)}),s=n.deps,n=n.value,this._updateDeps(s),this._updateElement(t,o,n),n={el:t,handle:d(this._computeHandle,this,{value:e,type:o})},this._computeEls[e]=n,i.computes[e]=n,this.on(s.join(" "),n.handle)}},_computeHandle:function(e){var t=this._computeEls[e.value];t&&this.computed[e.value]&&this._updateElement(t.el,e.type,this.computed[e.value].value)},_updateElement:function(t,i,n){t[i](n.call(e.extend({},this.json,this.computed)))},_updateDeps:function(e){for(var i=0;i<e.length;i++)!(e[i]in this.json)&&e[i]in this.computed&&t.merge(e,this.computed[e[i]].deps)},_generateDeps:function(e){for(var t,i=e.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),n=[],s=0;s<i.length;s++)i[s].startsWith("#ej.#")&&((t=i[s].replace("#ej.#","").split(" ")[0])&&-1!==this._props.indexOf(t)&&n.push(t));return n},_processAttrib:function(e,t,i){var n,s,r,o,a={};for(e=e.replace(/^ +| +$/g,"").split(";"),r=0;r<e.length;r++)e[r]=e[r].split(":"),e[r].length<2||(a[n=e[r][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,"")]=e[r][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));for(n in o=[],e=a)o.push(e[n]);this._updateDeps(o),this._updateProps(t,e),a=z("emak"),s={el:t,handle:d(this._attrHandle,this,a),value:e,deps:o},t.prop("ejmodelattrkey",a),i.props[a]=s,this._attrEls[a]=s,this.on(o.join(" "),s.handle)},_attrHandle:function(e){var t=this._attrEls[e];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var n,s=this.json,r=this.computed;for(var o in i)(n=i[o])in s?n=s[n]:n in r&&((n=r[n])&&(n=n.value.call(e.extend({},this.json,r)))),c(n)||t.prop(o,n)},_updateValues:function(e,t){var i=this._updates[e];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,n){if(t)for(var s=t.length-1;s>-1;s--)t[s].offsetParent?e(t[s])[i](n):t.splice(s,1)},_changeHandler:function(t){t.data.self.set(t.data.prop,e(this).val())},_processField:function(e,t,i){var n={self:this,prop:t},s=this.get(t);return i.fields.push(e[0]),-1===this.formElements.indexOf(e[0].tagName.toLowerCase())?(e.html(s),this._updates[t].read.push(e[0])):(e.val(s).off("change",null,this._changeHandler).on("change",null,n,this._changeHandler),this._updates[t].input.push(e[0]))},formElements:["input","select","textarea"]};var x=/[^\w]+/g,S=function(e){return e.replace(x,"_")},I=function(e){this.setDirty(!0,e.model)};if(t.Predicate=function(e,i,n,s){return this instanceof t.Predicate?("string"==typeof e?(this.field=e,this.operator=i,this.value=n,this.ignoreCase=s,this.isComplex=!1,this._comparer=t.data.fnOperators.processOperator(this.operator)):(e instanceof t.Predicate&&n instanceof t.Predicate||n instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[e],n instanceof Array?[].push.apply(this.predicates,n):this.predicates.push(n)),this):new t.Predicate(e,i,n,s)},t.Predicate.and=function(){return a._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return a._combinePredicates([].slice.call(arguments,0),"or")},t.Predicate.fromJSON=function(e){var t,i,n;if(N(e,Array)){for(t=[],i=0,n=e.length;i<n;i++)t.push(a._fromJSON(e[i]));return t}return a._fromJSON(e)},a={_combinePredicates:function(e,i){if(!e.length)return n;if(1===e.length){if(!N(e[0],Array))return e[0];e=e[0]}return new t.Predicate(e[0],i,e.slice(1))},_combine:function(e,i,n,s,r,o){return i instanceof t.Predicate?t.Predicate[r](e,i):"string"==typeof i?t.Predicate[r](e,new t.Predicate(i,n,s,o)):u("Predicate - "+r+" : invalid arguments")},_fromJSON:function(e){var i;if(!e||N(e,t.Predicate))return e;var n=e.predicates||[],s=n.length,r=[];for(i=0;i<s;i++)r.push(a._fromJSON(n[i]));return e.isComplex?new t.Predicate(r[0],e.condition,r.slice(1)):new t.Predicate(e.field,e.operator,t.parseJSON({val:e.value}).val,e.ignoreCase)}},t.Predicate.prototype={and:function(e,t,i,n){return a._combine(this,e,t,i,"and",n)},or:function(e,t,i,n){return a._combine(this,e,t,i,"or",n)},validate:function(e){var i,n,s,r=this.predicates;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,e),this.value,this.ignoreCase);for(i="and"===this.condition,s=0;s<r.length;s++)if(n=r[s].validate(e),i){if(!n)return!1}else if(n)return!0;return i},toJSON:function(){var e,t,i;if(this.isComplex)for(e=[],t=this.predicates,i=0;i<t.length;i++)e.push(t[i].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,condition:this.condition,predicates:e}}},t.dataUtil={swap:function(e,t,i){if(t!=i){var n=e[t];e[t]=e[i],e[i]=n}},mergeSort:function(e,i,n){return n&&"string"!=typeof n||(n=t.pvt.fnSort(n,!0)),"function"==typeof i&&(n=i,i=null),t.pvt.mergeSort(e,i,n)},max:function(e,i,n){return"function"==typeof i&&(n=i,i=null),t.pvt.getItemFromComparer(e,i,n||t.pvt.fnDescending)},min:function(e,i,n){return"function"==typeof i&&(n=i,i=null),t.pvt.getItemFromComparer(e,i,n||t.pvt.fnAscending)},distinct:function(e,t,i){for(var n,s=[],r={},o=0;o<e.length;o++)(n=M(e,t,o))in r||(s.push(i?e[o]:n),r[n]=1);return s},sum:function(e,t){for(var i,n=0,s="number"!=typeof M(e,t,0),r=0;r<e.length;r++)i=M(e,t,r),isNaN(i)||null===i||(s&&(i=+i),n+=i);return n},avg:function(e,i){return t.sum(e,i)/e.length},select:function(e,i){for(var n=[],s=0;s<e.length;s++)n.push(t.pvt.extractFields(e[s],i));return n},group:function(i,n,s,r,o,a){var l,h,d,c,u,p,m,f,g,v;if(o=o||1,i.GROUPGUID==t.pvt.consts.GROUPGUID){for(g=0;g<i.length;g++)t.isNullOrUndefined(a)?(i[g].items=t.group(i[g].items,n,s,r,i.level+1),i[g].count=i[g].items.length):(-1,v=e.grep(a,function(e){return e.key==i[g].key}),l=a.indexOf(v[0]),i[g].items=t.group(i[g].items,n,s,r,i.level+1,a[l].items),i[g].count=a[l].count);return i.childLevels+=1,i}for(h={},(d=[]).GROUPGUID=t.pvt.consts.GROUPGUID,d.level=o,d.childLevels=0,d.records=i,p=0;p<i.length;p++)c=M(i,n,p),t.isNullOrUndefined(r)||(c=r(c,n)),h[c]||(h[c]={key:c,count:0,items:[],aggregates:{},field:n},d.push(h[c]),t.isNullOrUndefined(a)||(u=e.grep(a,function(e){return e.key==h[c].key}),h[c].count=u[0].count)),h[c].count=t.isNullOrUndefined(a)?h[c].count+=1:h[c].count,h[c].items.push(i[p]);if(s&&s.length)for(p=0;p<d.length;p++){for(m={},g=0;g<s.length;g++)f=t.aggregates[s[g].type],t.isNullOrUndefined(a)?f&&(m[s[g].field+" - "+s[g].type]=f(d[p].items,s[g].field)):(v=e.grep(a,function(e){return e.key==d[p].key}),f&&(m[s[g].field+" - "+s[g].type]=f(v[0].items,s[g].field)));d[p].aggregates=m}return d},parseTable:function(i,n,s){var r,o,a,l,h,d,c,u=i.rows,p=[],m=[];if(!u.length)return[];switch(s=s||0,(n||"").toLowerCase()){case t.headerOption.tHead:r=i.tHead.rows[s];break;case t.headerOption.row:default:r=i.rows[s]}for(a=r.cells,o=0;o<a.length;o++)p.push(e.trim(a[o].innerHTML));for(o=s+1;o<u.length;o++){for(l={},h=u[o].cells,d=0;d<h.length;d++)c=h[d].innerHTML,l[p[d]]="string"==typeof c&&e.isNumeric(c)?Number(c):c;m.push(l)}return m}},t.headerOption={tHead:"thead",row:"row"},t.aggregates={sum:function(e,i){return t.sum(e,i)},average:function(e,i){return t.avg(e,i)},minimum:function(e,i){return t.getObject(i,t.min(e,i))},maximum:function(e,i){return t.getObject(i,t.max(e,i))},truecount:function(e,i){var n=t.Predicate(i,"equal",!0);return t.DataManager(e).executeLocal(t.Query().where(n)).length},falsecount:function(e,i){var n=t.Predicate(i,"equal",!1);return t.DataManager(e).executeLocal(t.Query().where(n)).length},count:function(e){return e.length}},t.pvt={filterQueries:w,mergeSort:function(e,i,n){if(e.length<=1)return e;var s=parseInt(e.length/2,10),r=e.slice(0,s),o=e.slice(s);return r=t.pvt.mergeSort(r,i,n),o=t.pvt.mergeSort(o,i,n),t.pvt.merge(r,o,i,n)},getItemFromComparer:function(e,i,n){var s,r,o,a=0,l="string"==typeof M(e,i,0);if(e.length)for(;t.isNullOrUndefined(s)&&a<e.length;)s=M(e,i,a),o=e[a++];for(;a<e.length;a++)r=M(e,i,a),t.isNullOrUndefined(r)||(l&&(s=+s,r=+r),n(s,r)>0&&(s=r,o=e[a]));return o},quickSelect:function(e,i,n,s,r,o){if(n==s)return e[n];var a=t.pvt.partition(e,i,n,s,o),l=a-n+1;return l==r?e[a]:r<l?t.pvt.quickSelect(e,i,n,a-1,r,o):t.pvt.quickSelect(e,i,a+1,s,r-l,o)},extractFields:function(e,i){var n,s={};if(1==i.length)return t.pvt.getObject(i[0],e);for(n=0;n<i.length;n++)s[i[n].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[n],e);return s},partition:function(e,i,n,s,r){var o,a=parseInt((n+s)/2,10),l=M(e,i,a);for(t.swap(e,a,s),a=n,o=n;o<s;o++)r(M(e,i,o),l)&&(t.swap(e,o,a),a++);return t.swap(e,a,s),a},fnSort:function(e){return(e=e?e.toLowerCase():t.sortOrder.Ascending)==t.sortOrder.Ascending?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(e,i){return function(n,s){return i(t.pvt.getObject(e,n),t.pvt.getObject(e,s))}},fnAscending:function(e,t){return null===t||t===n?-1:"string"==typeof e?e.localeCompare(t):null===e||e===n?1:e-t},fnDescending:function(e,t){return null===t||t===n?1:"string"==typeof e?-1*e.localeCompare(t):null===e||e===n?-1:t-e},merge:function(e,t,i,n){for(var s,r=[];e.length>0||t.length>0;)s=e.length>0&&t.length>0?n?n(M(e,i,0),M(t,i,0))<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,r.push(s.shift());return r},getObject:function(e,t){var i,s,r;if(!t)return n;if(!e)return t;if(-1===e.indexOf("."))return t[e];for(i=t,s=e.split("."),r=0;r<s.length&&null!=i;r++)i=i[s[r]];return i},createObject:function(e,t,i){for(var s=e.split("."),r=i||window,o=r,a=0;a<s.length;a++)a+1==s.length?o[s[a]]=t===n?{}:t:null==o[s[a]]&&(o[s[a]]={}),o=o[s[a]];return r},getFieldList:function(e,i,s){if(s===n&&(s=""),i===n||null===i)return t.pvt.getFieldList(e,[],s);for(var r in e)"object"!=typeof e[r]||e[r]instanceof Array?i.push(s+r):t.pvt.getFieldList(e[r],i,s+r+".");return i}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.data.fnOperators={equal:function(e,t,i){return i?j(e)==j(t):e==t},notequal:function(e,i,n){return!t.data.fnOperators.equal(e,i,n)},lessthan:function(e,t,i){return i?j(e)<j(t):e<t},greaterthan:function(e,t,i){return i?j(e)>j(t):e>t},lessthanorequal:function(e,t,i){return i?j(e)<=j(t):e<=t},greaterthanorequal:function(e,t,i){return i?j(e)>=j(t):e>=t},contains:function(e,t,i){return i?!c(e)&&!c(t)&&-1!=j(e).indexOf(j(t)):!c(e)&&!c(t)&&-1!=e.toString().indexOf(t)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(e,t,i){return i?e&&t&&j(e).startsWith(j(t)):e&&t&&e.startsWith(t)},endswith:function(e,t,i){return i?e&&t&&j(e).endsWith(j(t)):e&&t&&e.endsWith(t)},processSymbols:function(e){var i,n=t.data.operatorSymbols[e];return n&&(i=t.data.fnOperators[n])?i:u("Query - Process Operator : Invalid operator")},processOperator:function(e){var i=t.data.fnOperators[e];return i||t.data.fnOperators.processSymbols(e)}},t.NotifierArray=function(i){return N(this,t.NotifierArray)?(this.array=i,this._events=e({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},push:function(e){var t;return t=N(e,Array)?[].push.apply(this.array,e):this.array.push(e),this._raise("add",{item:e,index:this.length()-1}),t},pop:function(){var e=this.array.pop();return this._raise("remove",{item:e,index:this.length()-1}),e},addAt:function(e,t){return this.array.splice(e,0,t),this._raise("add",{item:t,index:e}),t},removeAt:function(e){var t=this.array.splice(e,1)[0];return this._raise("remove",{item:t,index:e}),t},remove:function(e){var t=this.array.indexOf(e);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:e,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(e.extend({type:t},i)),this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},e.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=0,n=this.length;i<n;++i)e.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0===i)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(e){var t,i,n,s;if("function"!=typeof e)throw new TypeError;for(t=[],i=arguments[1]||this,n=0;n<this.length;n++)s=this[n],e.call(i,s,n,this)&&t.push(s);return t},String.prototype.endsWith=String.prototype.endsWith||function(e){return this.slice(-e.length)===e},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},t.support||(t.support={}),t.support.stableSort=function(){for(var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(function(){return 0}),t=0;t<17;t++)if(t!==e[t])return!1;return!0}(),t.support.cors=e.support.cors,!e.support.cors&&window.XDomainRequest){var k=/^https?:\/\//i,T=/^get|post$/i,O=new RegExp("^"+location.protocol,"i"),A=/\/xml/i;e.ajaxTransport("text html xml json",function(e,t){if(e.crossDomain&&e.async&&T.test(e.type)&&k.test(t.url)&&O.test(t.url)){var i=null,s=(t.dataType||"").toLowerCase();return{send:function(r,o){i=new XDomainRequest,/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout),i.ontimeout=function(){o(500,"timeout")},i.onload=function(){var e,t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,r={code:200,message:"success"},a={text:i.responseText};try{if("json"===s)try{a.json=JSON.parse(i.responseText)}catch(e){r.code=500,r.message="parseerror"}else if("xml"===s||"text"!==s&&A.test(i.contentType)){(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1;try{e.loadXML(i.responseText)}catch(t){e=n}if(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)throw r.code=500,r.message="parseerror","Invalid XML: "+i.responseText;a.xml=e}}catch(e){throw e}finally{o(r.code,r.message,a,t)}},i.onerror=function(){o(500,"error",{text:i.responseText})},-1!=navigator.userAgent.indexOf("MSIE 9.0")&&(i.onprogress=function(){}),i.open(e.type,e.url),i.send(t.data)},abort:function(){i&&i.abort()}}}})}e.support.cors=!0,t.sortOrder={Ascending:"ascending",Descending:"descending"},t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"},l=function(e,t){t&&(e=d(e,t)),(window.setImmediate||window.setTimeout)(e,0)},t.support.enableLocalizedSort=!1;var D=function(e,i,n,s){return t.support.stableSort?t.support.enableLocalizedSort||"string"!=typeof t.pvt.getObject(i,e[0]||{})||n!==t.pvt.fnAscending&&n!==t.pvt.fnDescending||1!==s.filter(function(e){return"onSortBy"===e.fn}).length?e.sort(t.pvt.fnGetComparer(i,n)):P(e,i,n===t.pvt.fnDescending):t.mergeSort(e,i,n)},L=function(i,n){for(var s=e.grep(n,function(e){return"onGroup"==e.fn}),r=0;r<s.length;r++)if(t.getObject("fieldName",s[r].e)==i)return t.getObject("fn",s[r].e)},P=function(e,i,n){var s=Object.prototype.toString;Object.prototype.toString=-1===i.indexOf(".")?function(){return this[i]}:function(){return t.pvt.getObject(i,this)},e=e.sort(),Object.prototype.toString=s,n&&e.reverse()},j=function(e){return e?e.toLowerCase?e.toLowerCase():e.toString().toLowerCase():0===e||!1===e?e.toString():""},M=function(e,i,n){return i?t.pvt.getObject(i,e[n]):e[n]},E=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&1===e.nodeType&&"object"==typeof e&&"string"==typeof e.nodeName},N=function(e,t){return e instanceof t},R=function(e,i,n,s){return function(r){return"object"==typeof r&&(s=r,r=null),new t.TableModel(r||e,i,n,s)}},U=function(t){return function(i,n){var s,r,o,a,l;for((n=n||window.ko)||u("Knockout is undefined"),r=[],l=0;l<t.length;l++){for(o in s={},t[l])o.startsWith("_")||(s[o]=n.observable(t[l][o]));for(o in i)a=i[o],e.isPlainObject(a)?(a.owner||(a.owner=s),a=n.computed(a)):a=n.computed(a,s),s[o]=a;r.push(s)}return n.observableArray(r)}},B=0,z=function(e){return e+(B+=1)};t.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(e,i){if("crypto"in window&&"getRandomValues"in crypto){var n=new Uint8Array(1);window.crypto.getRandomValues(n),t=n[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===i?3&t|8:t]})},h=function(e,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),e.apply(t||this,i)}},d=function(e,t,i){return"bind"in e?i?e.bind(t,i):e.bind(t):function(){var n=i?[i]:[];return n.push.apply(n,arguments),e.apply(t||this,n)}},t.merge=function(e,t){e&&t&&Array.prototype.push.apply(e,t)},c=function(e){return e===n||null===e},u=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}}}(window.jQuery,window.Syncfusion,window.document)}),
/*!
*  filename: ej.radiobutton.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejRadioButton","ej.RadioButton",{_rootCSS:"e-radiobtn",element:null,_requiresID:!0,model:null,validTags:["input"],_addToPersist:["checked"],_setFirst:!1,angular:{require:["?ngModel","^?form","^?ngModelOptions"]},defaults:{id:null,name:null,value:null,checked:!1,cssClass:"",text:"",enableRTL:!1,htmlAttributes:{},enablePersistence:!1,idPrefix:"ej",size:"small",enabled:!0,validationRules:null,validationMessage:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",enablePersistence:"boolean",size:"enum",enabled:"boolean",idPrefix:"string",validationRules:"data",validationMessage:"data",htmlAttributes:"data"},observables:["checked"],checked:t.util.valueFunction("checked"),_init:function(){var e=t.browserInfo();this._cloneElement=this.element.clone(),this._isIE8="msie"==e.name&&"8.0"==e.version,this._setValue(),this._renderControl(),this.isChecked&&this._checkedHandler(),t.isNullOrUndefined(this.radbtn.attr("disabled"))||(this.model.enabled=!1),this._setEnabled(this.model.enabled),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._wireEvents(),this.initialRender=!1},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.div.addClass(e):"name"==t||"required"==t?i.radbtn.attr(t,e):"disabled"==t&&"disabled"==e?i.disable():"checked"==t&&"checked"==e?i._checkedChange(!0,!0):i.div.attr(t,e)})},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,n,s,r;for(n in this.element.find("input").rules("add",this.model.validationRules),i=(i=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=this.element.find("input").attr("name"),i.settings.messages[name]={},this.model.validationRules)if(s=null,!t.isNullOrUndefined(this.model.validationRules[n])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[n]))for(r in i.settings.messages[name][n]=e.validator.messages[n],this.model.validationMessage)n==r&&(s=this.model.validationMessage[n]);else s=this.model.validationRules.messages[n];i.settings.messages[name][n]=null!=s?s:e.validator.messages[n]}},_setModel:function(e){for(var t in e)switch(t){case"cssClass":this._changeSkin(e[t]);break;case"enableRTL":this.model.text?e[t]?this.textWrapDiv.addClass("e-rtl"):this.textWrapDiv.removeClass("e-rtl")&&this.element.closest(".e-radiobtn-wrap").hasClass("e-rtl")&&this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl"):e[t]?this.element.closest(".e-radiobtn-wrap").addClass("e-rtl"):this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl");break;case"text":this._setText(e[t]);break;case"size":this._setSize(e[t]);break;case"validationRules":null!=this.model.validationRules&&(this.element.find("input").rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[t],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[t],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"checked":"boolean"==typeof this.checked()?(this.model.checked=e[t],this._checkedChange(this.model.checked)):null!=e[t]()&&e[t]()==this.element.find(".e-input").attr("value")&&this._checkedChange(e[t]());break;case"enabled":this._setEnabled(e[t]);break;case"id":this._setIdAttr(e[t]);break;case"name":this.radbtn.attr("name",e[t]);break;case"value":this.radbtn.attr("value",e[t]);break;case"htmlAttributes":this._addAttr(e[t])}},_destroy:function(){this.radbtn.remove(),this._cloneElement.removeClass("e-js e-input e-radiobtn"),this._cloneElement.insertBefore(this.element),this.element.remove()},_changeSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass).addClass(e),this.textWrapDiv.removeClass(this.model.cssClass).addClass(e))},_setValue:function(){t.isNullOrUndefined(this.element.attr("type"))&&this.element.attr("type","radio"),t.isNullOrUndefined(this.element.attr("id"))||(this.model.id=this.element.attr("id")),t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value")),this.element.attr({id:this.model.id,name:this.model.name,value:this.model.value}),"boolean"==typeof this.checked()?this.model.checked=this.isChecked=this.model.checked||"checked"==this.element.attr("checked"):this.isChecked=this.element.attr("value")==this.checked(),this.isChecked&&this.element.attr("checked","checked"),this._hiddenValue=this.element.attr("value"),this._isAngularbind=!1},_setIdAttr:function(t){e("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper"),e("#"+this.model.idPrefix+this.model.id).attr("id",this.model.idPrefix+t),this.radbtn.attr("id",t)},_setSize:function(e){e==t.RadioButtonSize.Medium?this.span.removeClass("e-radsmaller").addClass("e-radmedium"):this.span.removeClass("e-radmedium").addClass("e-radsmaller")},_setEnabled:function(e){e?this.enable():this.disable()},_renderControl:function(){this.initialRender=!0;var i=t.browserInfo();this.div="msie"==i.name&&"8.0"==i.version?e('<div class="e-radiobtn-wrap e-widget e-rad-outer" ></div>'):e('<div class="e-radiobtn-wrap e-widget" ></div>'),this.div.attr({id:this.model.idPrefix+this.model.id,role:"radio",tabindex:0,"aria-checked":!1}),this.span=e("<span></span>"),this.span.addClass("e-spanicon"),this._setSize(this.model.size),this.spanImg=e('<span class="e-rad-icon e-icon e-rad-select"></span>',"",{},{role:"presentation"}),this.element.addClass("e-input"),this.div.addClass(this.model.cssClass),this.span.append(this.spanImg),this.div.insertBefore(this.element),this.div.append(this.element),this.div.append(this.span),this._setTextWrapper(this.model.text),this.radbtn=this.element,this.element=this.div},_setTextWrapper:function(i){""!=i?(this.textWrapDiv=t.buildTag("div.e-radiobtn-wrap "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id+"_wrapper"),this.div.wrapAll(this.textWrapDiv),this.txtSpan=t.buildTag("div.e-text",i),this.textWrapDiv=e("#"+this.model.idPrefix+this.model.id+"_wrapper"),this.textWrapDiv.append(this.txtSpan),this.model.enableRTL&&this.textWrapDiv.addClass("e-rtl")):this.model.enableRTL&&this.element.closest(".e-radiobtn-wrap").addClass("e-rtl")},_setText:function(e){""==this.model.text&&""!=e?this._setTextWrapper(e):this.txtSpan.html(e)},_wireEvents:function(){this._on(this.element,"click",this._checkedHandler),this._on(this.element,"focus",this._focusIn),this._on(this.element,"focusout",this._focusOut)},_focusIn:function(){e(this.element).addClass("e-focus"),e(this.element).on("keydown",e.proxy(this._checkUnCheck,this))},_focusOut:function(){e(this.element).removeClass("e-focus"),e(this.element).off("keydown",e.proxy(this._checkUnCheck,this))},_checkUnCheck:function(e){(32==e.keyCode||37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode)&&(e.preventDefault(),this._checkedHandler())},_checkedHandler:function(){this.element.hasClass("e-disable")||(this.isChecked="boolean"==typeof this.checked()?"checked"==this.radbtn.attr("checked"):this.checked()==this.radbtn.attr("value"),e(this.element).find(".e-rad-icon").hasClass("e-circle_01")||this._changeEvent(!0))},_checkedChange:function(e,t){this.isChecked=e,this._changeEvent(t)},_changeEvent:function(t){var i={isChecked:this.isChecked,isInteraction:!!t};if(!this.initialRender&&1==this._trigger("beforeChange",i))return!1;if(e(this.element).find(".e-rad-icon").hasClass("e-circle_01"))this.spanImg.removeClass("e-circle_01").addClass("e-rad-select"),this.span.removeClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!1}),this.radbtn.removeAttr("checked");else{var n=this.element.find(".e-input").attr("name"),s=e('input.e-radiobtn[name="'+n+'"]:radio'),r=this.element.find(".e-input"),o=e(r).data("ejRadioButton");i.isChecked&&(this.spanImg.addClass("e-circle_01").removeClass("e-rad-select"),this.span.addClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!0}),this.radbtn.attr("checked","checked")),e.each(s,function(t,i){e(i).closest(".e-radiobtn-wrap").find(".e-rad-icon").removeClass("e-circle_01").addClass("e-rad-select"),e(i).closest(".e-radiobtn-wrap").find(".e-spanicon").removeClass("e-rad-active"),e(i).closest(".e-radiobtn-wrap").attr({tabindex:0,"aria-checked":!1});var n=e(i).data("ejRadioButton");null!=n&&null!=n.checked()&&"boolean"==typeof n.checked()&&(n.model.checked=!1)}),null!=o&&null!=o.checked()&&"boolean"==typeof o.checked()?o.model.checked=!0:o.checked(o.radbtn.attr("value")),this.element.find(".e-rad-icon").addClass("e-circle_01").removeClass("e-rad-select"),this.span.addClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!0}),this._isAngularbind||this.element.find(".e-input").click(),this.isChecked=!0}i={isChecked:this.isChecked,isInteraction:!!t},this.initialRender||this._trigger("change",i),t&&this._trigger("_change",{value:this._hiddenValue})},disable:function(){this.element.hasClass("e-disable")||(this.element.addClass("e-disable"),this.radbtn.attr("disabled","disabled")),this._isIE8&&this.span.addClass("e-disable"),this.div.attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.hasClass("e-disable")&&(this.element.removeClass("e-disable"),this.radbtn.prop("disabled",!1)),this._isIE8&&this.span.removeClass("e-disable"),this.div.attr("aria-disabled",!1),this.model.enabled=!0}}),t.RadioButtonSize={Small:"small",Medium:"medium"}}),
/*!
*  filename: ej.dropdownlist.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min","./../common/ej.globalize.min","./../common/ej.data.min","./../common/ej.scroller.min","./../common/ej.draggable.min"],e):e()}(function(){var t,i;t=jQuery,(i=Syncfusion).widget("ejDropDownList","ej.DropDownList",{element:null,model:null,validTags:["select","input"],_addToPersist:["value","text","selectedIndex","selectedItemIndex","selectedItems","selectedIndices","popupWidth","popupHeight","itemValue"],_setFirst:!1,_rootCSS:"e-dropdownlist",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{cssClass:"",value:null,htmlAttributes:{},text:null,itemValue:"",itemsCount:0,dataSource:null,delimiterChar:",",query:null,fields:{id:null,text:null,value:null,category:null,groupBy:null,imageUrl:null,imageAttributes:null,spriteCssClass:null,htmlAttributes:null,selected:null,tableName:null},locale:"en-US",watermarkText:null,height:"",width:"",popupHeight:"152px",popupWidth:"auto",maxPopupHeight:null,minPopupHeight:"20",maxPopupWidth:null,minPopupWidth:"0",targetID:null,template:null,headerTemplate:null,selectedItemIndex:-1,selectedIndex:-1,disableItemsByIndex:null,enableItemsByIndex:null,selectedItems:[],selectedIndices:[],cascadeTo:null,enablePopupResize:!1,allowVirtualScrolling:!1,virtualScrollMode:"normal",showRoundedCorner:!1,showPopupOnLoad:!1,enableRTL:!1,enabled:!0,filterType:"contains",sortOrder:"ascending",caseSensitiveSearch:!1,showCheckbox:!1,checkAll:!1,uncheckAll:!1,enablePersistence:!1,enableFilterSearch:!1,enableIncrementalSearch:!0,readOnly:!1,enableAnimation:!1,multiSelectMode:"none",allowGrouping:!1,enableSorting:!1,validationRules:null,validationMessage:null,actionBegin:null,actionComplete:null,actionFailure:null,actionSuccess:null,create:null,popupHide:null,popupShown:null,beforePopupShown:null,beforePopupHide:null,popupResizeStart:null,popupResize:null,popupResizeStop:null,change:null,select:null,dataBound:null,search:null,checkChange:null,cascade:null,destroy:null},dataTypes:{cssClass:"string",itemsCount:"number",watermarkText:"string",template:"string",disableItemsByIndex:"string",enableItemsByIndex:"string",enableIncrementalSearch:"boolean",cascadeTo:"string",delimiterChar:"string",showRoundedCorner:"boolean",showPopupOnLoad:"boolean",enableRTL:"boolean",enablePersistence:"boolean",allowVirtualScrolling:"boolean",virtualScrollMode:"enum",enabled:"boolean",readOnly:"boolean",multiSelectMode:"enum",dataSource:"data",query:"data",fields:"data",selectedItems:"array",enableAnimation:"boolean",allowGrouping:"boolean",enableSorting:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",locale:"string"},observables:["value","selectedItemIndex","selectedIndex"],value:i.util.valueFunction("value"),selectedItemIndex:i.util.valueFunction("selectedItemIndex"),selectedIndex:i.util.valueFunction("selectedIndex"),enable:function(){this._visibleInput.hasClass("e-disable")&&(this.target.disabled=!1,this.model.enabled=!0,this._visibleInput.removeClass("e-disable"),this.dropdownbutton.removeClass("e-disable"),this.popupListWrapper.removeClass("e-disable"),this._isIE8&&this.drpbtnspan.removeClass("e-disable"),this.container.on("mousedown",t.proxy(this._OnDropdownClick,this)),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable"),this.wrapper.attr("tabindex","0")),this._wireEvents()},disable:function(){this._visibleInput.hasClass("e-disable")||(this.target.disabled=!0,this.model.enabled=!1,this._visibleInput.addClass("e-disable"),this.popupListWrapper.addClass("e-disable"),this.dropdownbutton.addClass("e-disable"),this._isIE8&&this.drpbtnspan.addClass("e-disable"),"visualmode"==this.model.multiSelectMode&&this._ulBox.addClass("e-disable"),this.container.off("mousedown",t.proxy(this._OnDropdownClick,this)),this._unwireEvents(),this.wrapper.removeAttr("tabindex"),this._isPopupShown()&&this._hideResult())},getValue:function(){return this._visibleInput.val()},_setValue:function(e){i.isNullOrUndefined(e)||(this._raiseEvents=!1,i.isNullOrUndefined(this.model.text)||this.unselectItemByText(this.model.text),this._raiseEvents=!0,this.selectItemByValue(e))},_setText:function(e){e&&(this._raiseEvents=!1,this.unselectItemByText(this.model.text),this._raiseEvents=!0,this.selectItemByText(e))},_setItemValue:function(e){this.model.itemValue=e},_changeWatermark:function(e){if(!this.model.enabled)return!1;this._isWatermark?this._visibleInput.attr("placeholder",e):this._hiddenSpan.text(e)},hidePopup:function(){if(!this.model.enabled)return!1;this.ultag.find("li").length>0&&this._hideResult()},showPopup:function(){if(!this.model.enabled)return!1;this.ultag.find("li").length>0&&this._showResult()},clearText:function(){this._clearTextboxValue(),this._isWatermark||this._setWatermark()},addItem:function(e){var i,n,s,r,o,a;if(!this.model.enabled||!e||(this._mapFields(),(i=t.isArray(e)?e:[e]).length<1))return!1;for(n=this.mapFld,(s={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null,_category:null})._id=i[0][n._id]?n._id:"id",s._imageUrl=i[0][n._imageUrl]?n._imageUrl:"imageUrl",s._imageAttributes=i[0][n._imageAttributes]?n._imageAttributes:"imageAttributes",s._spriteCSS=i[0][n._spriteCSS]?n._spriteCSS:"spriteCssClass",s._text=i[0][n._text]?n._text:"text",s._value=i[0][n._value]?n._value:"value",s._htmlAttributes=i[0][n._htmlAttributes]?n._htmlAttributes:"htmlAttributes",s._selected=i[0][n._selected]?n._selected:"selected",s._category=i[0][n._category]?n._category:"groupBy",this._generateLi(i,s),r=this.dummyUl,o=0;o<i.length;o++)this._listItem(i[o],"add");this.model.showCheckbox?this._appendCheckbox(r,!0):this._isSingleSelect()||this._multiItemSelection(r,!0),this._virtualUl.append(t(this.dummyUl).clone(!0)),this.ultag.append(this.dummyUl),this._isPopupShown()&&(a=this.scrollerObj?this.scrollerObj.scrollTop():0,this._refreshScroller(),this.scrollerObj&&this.scrollerObj.option("scrollTop",a))},_toArray:function(e,n){var s;return"function"==typeof e&&(e=i.util.getVal(e)),t.isArray(e)?s=e:"string"==typeof e?n&&("visualmode"==this.model.multiSelectMode||"delimiter"==this.model.multiSelectMode||this.model.showCheckbox)?0==(s=e.split(this.model.delimiterChar)).length&&(s=[e]):(n||0==(s=e.split(this.model.delimiterChar)).length)&&(s=[e]):s=[e],s},_trim:function(e){return"string"==typeof e?t.trim(e):e},selectItemByIndex:function(e){this._selectItemByIndex(e)},selectItemsByIndices:function(e){this._selectItemByIndex(e)},_selectItemByIndex:function(e){var i,n,s,r;for(this.listitems=this._getLi(),this._selectedIndices=t.map(this._selectedIndices,function(e){return parseInt(e)}),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,i=this._toArray(e,!0),s=0;s<i.length;s++)if(null!=(n=parseInt(i[s]))&&n>=0){if(-1==t.inArray(n,this._selectedIndices))for(r=0;r<this.listitems.length;r++)t(this.listitems[r]).hasClass("e-disable")||r==n&&(this.selectedIndexValue=r,this._activeItem=n,this._enterTextBoxValue())}else this.model.showCheckbox||"none"!=this.model.multiSelectMode||this._clearTextboxValue()},unselectItemsByIndices:function(e){this._unselectItemByIndex(e)},unselectItemByIndex:function(e){this._unselectItemByIndex(e)},_unselectItemByIndex:function(e){var i,n,s,r;for(this._selectedIndices=t.map(this._selectedIndices,function(e){return parseInt(e)}),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,n=this._toArray(e,!0),this.listitems=this._getLi(),r=0;r<n.length;r++)for(s=parseInt(n[r]),i=0;i<this.listitems.length;i++)i==s&&(this.selectedIndexValue=i,this._activeItem=s,this._activeItem==this._aselectedItem&&(this._aselectedItem=null),this._removeTextBoxValue())},setSelectedValue:function(e){this.selectItemByValue(e)},selectItemByValue:function(e){var n,s,r,o;if(this.listitems=this._getLi(),i.isNullOrUndefined(e)||""===e)this._clearTextboxValue();else for(s=this._toArray(e,!0),r=0;r<s.length;r++)for(n=0;n<this.listitems.length;n++)if(!t(this.listitems[n]).hasClass("e-disable")&&(o=this._getAttributeValue(this.listitems[n])||t(this.listitems[n]).text())&&(this._selectedValue=o,this._selectedValue==s[r])){this._activeItem=n,this._aselectedItem=this._activeItem,this._enterTextBoxValue();break}},unselectItemByValue:function(e){var t,i,n=this._toArray(e,!0);for(this.listitems=this._getLi(),i=0;i<n.length;i++)for(t=0;t<this.listitems.length;t++)if(this._getAttributeValue(this.listitems[t])&&(this._selectedValue=this._getAttributeValue(this.listitems[t]),this._selectedValue==n[i])){this._activeItem=t,this._activeItem==this._aselectedItem&&(this._aselectedItem=null),this._removeTextBoxValue();break}},setSelectedText:function(e){this.selectItemByText(e)},selectItemByText:function(e){var n,s,r;if(this.listitems=this._getLi(),this._mapFields(),i.isNullOrUndefined(e)||""===e)this._clearTextboxValue();else for(s=this._toArray(e,!0),r=0;r<s.length;r++)for(n=0;n<this.listitems.length;n++)if(!t(this.listitems[n]).hasClass("e-disable")&&(this.selectedTextValue=this._isPlainType(this.popupListItems)?this.popupListItems[n]:this._getField(this.popupListItems[n],this.mapFld._text),this.selectedTextValue==s[r])){this._activeItem=n,this._aselectedItem=this._activeItem,this._enterTextBoxValue();break}},unselectItemByText:function(e){var t,i,n=this._toArray(e,!0);for(this.listitems=this._getLi(),this._mapFields(),i=0;i<n.length;i++)for(t=0;t<this.listitems.length;t++)if(this.unselectedTextValue=this._isPlainType(this.popupListItems)?this.popupListItems[t]:this._getField(this.popupListItems[t],this.mapFld._text),this.unselectedTextValue==n[i]){this._activeItem=t,this._activeItem==this._aselectedItem&&(this._aselectedItem=null),this._removeTextBoxValue();break}},getSelectedValue:function(){return this.element.val()},getSelectedItem:function(){var e,t=[];for(this.listitems=this._getLi(),e=0;e<this._selectedIndices.length;e++)t.push(this.listitems[this._selectedIndices[e]]);return t},getItemDataByValue:function(e){for(var t,i=this._toArray(e,!1),n=[],s=this.model.fields&&this.model.fields.value?this.model.fields.value:"value",r=0;r<i.length;r++)for(t=0;t<this._rawList.length;t++)this._rawList[t][s]==i[r]&&n.push(this._rawList[t]);return n},getListData:function(){return this._rawList},getSelectedItemsID:function(){return this._selectedItemsID},disableItemsByIndices:function(e){this._disableItemByIndex(e)},disableItemByIndex:function(e){this._disableItemByIndex(e)},_disableItemByIndex:function(e){var i,n;if(!this.model.enabled)return!1;for(i=this._toArray(e,!1),n=0;n<i.length;n++)null==i[n]||isNaN(parseInt(i[n]))||i.length>0&&!(t.inArray(parseInt(i[n]),this._disabledItems)>-1)&&(index=t.inArray(i[n],this._disabledItems),this._setClass(this._getLi()[parseInt(i[n])],"e-disable"),this._disabledItems.push(parseInt(i[n])),this.model.disableItemsByIndex=String(this._disabledItems.join(",")))},enableItemsByIndices:function(e){this._enableItemByIndex(e)},enableItemByIndex:function(e){this._enableItemByIndex(e)},_enableItemByIndex:function(e){var i,n,s=this._toArray(e,!1);for(this.model.enableItemsByIndex=e,n=0;n<s.length;n++)s.length>0&&t.inArray(parseInt(s[n]),this._disabledItems)>-1&&!isNaN(parseInt(s[n]))&&(i=t.inArray(parseInt(s[n]),this._disabledItems),this._removeClass(this._getLi()[parseInt(s[n])],"e-disable"),this._disabledItems.splice(i,1));this.model.enableItemsByIndex=null,this.model.disableItemsByIndex=this._disabledItems.join(this.model.delimiterChar)},_validateDelimiter:function(e){return 1!=this._trim(e).length||/^[a-zA-Z0-9]+$/.test(e)?",":e},_removeText:function(e){var i=this.element[0].value.split(this.model.delimiterChar),n=this._visibleInput[0].value.split(this.model.delimiterChar),s=t.inArray(e,i);s>=0&&(i.splice(s,1),n.splice(s,1)),this.element[0].value=i.join(this.model.delimiterChar),this._visibleInput[0].value=n.join(this.model.delimiterChar)},_addText:function(e){var t,i,n,s;if(this._checkContains(this._hiddenValue))return!1;for(t=["element","_visibleInput"],n=0;n<t.length;n++)i="element"==t[n]?this._hiddenValue:e,this[t[n]][0].value&&""!=this[t[n]][0].value?((s=this[t[n]][0].value.split(this.model.delimiterChar)).push(i),this[t[n]][0].value=s.join(this.model.delimiterChar)):this[t[n]][0].value=i},_checkContains:function(e){var t,i=this.element[0].value.split(this.model.delimiterChar);for(this.contains=!1,t=0;t<i.length;t++)if(i[t]===e){this.contains=!0;break}return this.contains},_updateLocalConstant:function(){this._localizedLabels=i.getLocalizedConstants("ej.DropDownList",this.model.locale)},_init:function(){var e=i.browserInfo();this._updateLocalConstant(),this._isIE8="msie"==e.name&&"8.0"==e.version,this._textContent=this._isIE8?"innerText":"textContent",(this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))||this.element.is("select"))&&(this._isWatermark="placeholder"in document.createElement("input"),this._id=this.element[0].id,this._initialize(),this._render(),this._addAttr(this.model.htmlAttributes),this._enabled(this.model.enabled),this._initValue=!1,this._checkboxValue=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation()))},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var e,n,s,r,o;if(0!=this.element.closest("form").length)for(s in this.element.rules("add",this.model.validationRules),(e=this.element.closest("form").data("validator"))||(e=this.element.closest("form").validate()),n=this.element.attr("name"),e.settings.messages[n]={},this.model.validationRules)if(r=null,!i.isNullOrUndefined(this.model.validationRules[s])){if(i.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[s]))for(o in e.settings.messages[n][s]=t.validator.messages[s],this.model.validationMessage)s==o&&(r=this.model.validationMessage[s]);else r=this.model.validationRules.messages[s];e.settings.messages[n][s]=null!=r?r:t.validator.messages[s]}},_setInitialPopup:function(e){this.model.enabled&&!this.model.readOnly&&(0==e?this._hideResult():this._showResult())},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.popupListWrapper.removeClass(this.model.cssClass).addClass(e)},_setRTL:function(e){this.model.enableRTL!=e&&(this.model.enableRTL=e,this._RightToLeft(),this._dropbtnRTL())},_changeHeight:function(e){this.wrapper.height(e),this._setListHeight()},_changeWidth:function(e){this.wrapper.width(e),this._setListWidth()},_setModel:function(e){var n,s,r,o,a;for(n in e)switch(n){case"dataSource":this._isEqualDataSource(e[n])||this._checkModelDataBinding(e[n],this.model.query);break;case"query":this._checkModelDataBinding(this.model.dataSource,e[n]);break;case"fields":this.model.fields=t.extend(this.model.fields,e[n]),this._checkModelDataBinding(this.model.dataSource,this.model.query);break;case"itemsCount":this.model.itemsCount=e[n],this._checkModelDataBinding(this.model.dataSource,this.model.query);break;case"template":this.model.template=e[n],this._checkModelDataBinding(this.model.dataSource,this.model.query);break;case"value":s=i.util.getVal(e[n]),i.isNullOrUndefined(s)||""===s?this._clearTextboxValue():(this._setValue(i.util.getVal(e[n])),e[n]=this.model.value);break;case"delimiterChar":r=this.model.delimiterChar,e[n]=this._validateDelimiter(e[n]),this.model.delimiterChar=e[n],this.model.text&&(this.model.text=this.model.text.split(r).join(this.model.delimiterChar),this._visibleInput.val(this.model.text)),this.model.value&&(this.model.value=this.model.value.split(r).join(this.model.delimiterChar),this.element.val(this.model.value));break;case"text":i.isNullOrUndefined(e[n])||""===e[n]?this._clearTextboxValue():(this._setText(e[n]),e[n]=this.model.text);break;case"itemValue":this._setItemValue(e[n]);break;case"enableRTL":this._setRTL(e[n]);break;case"enabled":this._enabled(e[n]);break;case"height":this._changeHeight(e[n]);break;case"width":this._changeWidth(e[n]);break;case"popupHeight":this.model.popupHeight=e[n],this._setListHeight(e[n]);break;case"popupWidth":this.model.popupWidth=e[n],this._setListWidth();break;case"minPopupHeight":this.model.minPopupHeight=e[n],this._setListHeight(e[n]);break;case"minPopupWidth":this.model.minPopupWidth=e[n],this._setListWidth();break;case"maxPopupHeight":this.model.maxPopupHeight=e[n],this._setListHeight(e[n]);break;case"maxPopupWidth":this.model.maxPopupWidth=e[n],this._setListWidth();break;case"cssClass":this._changeSkin(e[n]);break;case"showCheckbox":this.model.showCheckbox=e[n],o=this.model.text,a=this.model.text?this.model.text.split(this.model.delimiterChar):this.model.text,this._raiseEvents=!1,this._clearTextboxValue(),this._raiseEvents=!0,this._checkboxHideShow(e[n]),this.model.showCheckbox||"none"!=this.model.multiSelectMode?("visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),this._setText(o)):a&&a.length&&this._setText(a[0]),this._isPopupShown()&&this._setListPosition();break;case"checkAll":return this._setCheckAll(e[n]),!1;case"uncheckAll":return this._setUncheckAll(e[n]),!1;case"watermarkText":this._changeWatermark(e[n]);break;case"validationRules":0!=this.element.closest("form").length&&(null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[n],null!=this.model.validationRules&&(this._initValidator(),this._setValidation()));break;case"locale":this.model.locale=e[n],this._updateLocalConstant();break;case"validationMessage":0!=this.element.closest("form").length&&(this.model.validationMessage=e[n],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation()));break;case"showRoundedCorner":this._roundedCorner(e[n]),this.model.showRoundedCorner=e[n];break;case"showPopupOnLoad":this._setInitialPopup(e[n]);break;case"targetID":this.model.targetID=e[n],this._showFullList();break;case"selectedItemIndex":case"selectedIndex":this._selectItemByIndex(e[n]),this.model.selectedItemIndex=this.model.selectedIndex=e[n];break;case"unselectItemByIndex":this._unselectItemByIndex(e[n]);break;case"disableItemsByIndex":this._disableItemByIndex(e[n]);break;case"enableItemsByIndex":this._enableItemByIndex(e[n]);break;case"selectedItems":case"selectedIndices":this._selectCheckedItem(e[n]),e[n]=this.model.selectedItems=this.model.selectedIndices=this._selectedIndices;break;case"multiSelectMode":"visualmode"==this.model.multiSelectMode&&(this._swapUlandInput(!1),this._ulBox.remove(),this._ulBox=null),this.model.multiSelectMode=e[n],o=this.model.text,a=this.model.text?this.model.text.split(this.model.delimiterChar):this.model.text,this._raiseEvents=!1,this._clearTextboxValue(),this._raiseEvents=!0,this.model.showCheckbox||"none"!=this.model.multiSelectMode?("visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),this._setText(o)):(this._setText(a[0]),this.wrapper.find("input[name="+this._name+"]").remove()),this._isPopupShown()&&this._setListPosition();break;case"allowGrouping":this._setGroupingAndSorting("allowGrouping",e[n]);break;case"enableSorting":this._setGroupingAndSorting("enableSorting",e[n]);break;case"htmlAttributes":this._addAttr(e[n]);break;case"enablePopupResize":this.model.enablePopupResize=e[n],e[n]?this._enablePopupResize():this.popupListWrapper.removeClass("e-resizable").find(".e-resizebar").remove()&&this._hideResult();break;case"enableFilterSearch":if(e[n]){this.model.enableFilterSearch=!0,this._enableSearch();break}this._removeSearch()}},_clearTextboxValue:function(){this.element.val(""),this._visibleInput.val(""),this._updateValue(""),this.selectedTextValue=this._selectedValue=this._hiddenValue="",this._updateText(),this.selectedIndexValue=this._hiddenDelimiterIndex=this._activeItem=-1,this._selectedItemsID=[],this._selectedIndices=[],this.model.selectedItems=[],this.model.selectedIndices=[],this.selectedIndex(null),this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),this.model.showCheckbox&&this._resetCheck(),0!=this.wrapper.find("ul.e-ul.e-boxes").length&&(this._ulBox.children("li").remove(),""===this._name?this.wrapper.find("input:hidden[id^='#']").remove():this.wrapper.find("input:hidden[id^='#'][name="+this._name+"]").remove(),t(this.element).attr("name",this._name))},_destroy:function(){this._destroyDropdown(),this._visibleInput.removeClass("e-input "),this._setAttr(this.element[0],{accesskey:this.wrapper.attr("accesskey"),type:"text"}),this._isWatermark&&this._visibleInput.removeAttr("placeholder"),this.element[0].value="",this.model.dataSource||(this.selectOptions?this.docbdy&&this.docbdy.append(this.selectOptions.show()).show()&&this.element.remove()&&this.selectOptions&&this.selectOptions.removeClass("e-dropdownlist e-js"):this.docbdy&&this.ultag.find("li").removeClass("e-active")&&this.docbdy.append(this.ultag.html()).show()),this._hideResult(),this.popupPanelWrapper.remove(),this.element.removeAttr("aria-expanded aria-autocomplete aria-haspopup aria-owns accesskey role").css({width:"",display:"block"}),this._unwireEvents()},_finalize:function(){this.model.text!=this._visibleInput.val()&&this._setText(this.model.text),""==this.value()&&""!==this._visibleInput[0].value&&this._updateValue(this.element[0].value),this.value()!==this.element.val()&&this._setValue(this.value()),this.selectedIndex(-1!=this.selectedIndex()?this.selectedIndex():this.selectedItemIndex()),-1!=this.selectedIndex()?this._selectItemByIndex(this.selectedIndex()):this._selectedIndices.length>0&&this._selectCheckedItem(this._selectedIndices),null!=this.model.disableItemsByIndex&&this._disableItemByIndex(this.model.disableItemsByIndex),null!=this.model.enableItemsByIndex&&this._enableItemByIndex(this.model.enableItemsByIndex)},_initialize:function(){this._selectedIndices=this.model.selectedIndices.length>0?this.model.selectedIndices:this.model.selectedItems,this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,this.model.selectedIndex=-1!=this.model.selectedIndex?this.model.selectedIndex:this.model.selectedItemIndex,this.element.is("select")&&(this.selectelement=!0,this._renderSelectToDropdown()),this._selectedItemsID=[],this.target=this.element[0],this._disabledItems=[],this._queryString=null,this.suggLen=0,this._itemId=null,this.checkedStatus=!1,this._incqueryString="",this._activeItem=null,this.ddWidth=0,this._initValue=!0,this._virtualCount=0,this._raiseEvents=!0},_renderSelectToDropdown:function(){var e,n,s,r;if(this.inputElement=i.buildTag("input.e-dropdownlist#"+this._id+"_input","",{},{type:"text","data-role":"none"}),this.inputElement.insertAfter(this.element),this.element.attr("name")&&(this.inputElement.attr("name",this.element.attr("name")),this.element.removeAttr("name")),this.selectOptions=this.element,this.selectOptions.attr("id",this._id),null==this.model.dataSource){for(this.optionDiv=i.buildTag("div#"+this._id+"_list"),this.optionDiv.insertAfter(this.inputElement),this.optionUl=i.buildTag("ul"),this.optionDiv.append(this.optionUl),this.selectOptionItems=this.element.children("option"),n=this.selectOptionItems.length,this.optionDummyUl=t(),e=0;e<n;e++)r=this.selectOptionItems[e],null!=(s=t(r).attr("label")?t(r).attr("label"):r.innerHTML)&&(this.optionLi=i.buildTag("li",s,{},{"data-value":r.value,unselectable:"on"}),this.optionDummyUl.push(this.optionLi[0]),t(r).attr("selected")&&this.model.showCheckbox&&(-1==t.inArray(e,this._selectedIndices)?(this._selectedIndices.push(e),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices):i.isNullOrUndefined(this.selectedIndex())&&this.selectedIndex(e)));this.optionUl.append(this.optionDummyUl)}this.element.css("display","none"),this.element=this.inputElement},_render:function(){var e;this._renderDropdown(),this._setWatermark(),this._renderPopupPanelWrapper(),this._showFullList(),this._roundedCorner(this.model.showRoundedCorner),e=this.model.dataSource,i.DataManager&&e instanceof i.DataManager?e.dataSource.offline&&e.dataSource.json&&e.dataSource.json.length>0&&this._finalize():this._finalize(),i.DataManager&&this.model.dataSource instanceof i.DataManager||this._finalize(),this._setCheckAll(this.model.checkAll)},_isEqualDataSource:function(e){var t,i,n;if(!this.model.dataSource||!e||this.model.dataSource.length!==e.length)return!1;for(t=!0,i=0,n=this.model.dataSource.length;i<n;i++)if(this.model.dataSource[i]!==e[i]){t=!1;break}return t},_checkModelDataBinding:function(e,t){this.element.val(""),this._visibleInput.val(""),this._updateValue(""),this.selectedTextValue=this._selectedValue=this._hiddenValue="",this._updateText(),this.selectedIndexValue=this._hiddenDelimiterIndex=this._activeItem=-1,this._selectedItemsID=[],this.model.selectedItems=this.model.selectedIndices=this._selectedIndices=[],this.model.selectedIndex=this.model.selectedItemIndex=-1,"visualmode"==this.model.multiSelectMode&&this._destroyBoxModel(),this.model.dataSource=e,this.model.query=t,this.ultag.empty(),this._showFullList()},_initDataSource:function(e){var t=this;i.DataManager&&e instanceof i.DataManager&&(t._addLoadingClass(),t._trigger("actionBegin",{requestFrom:"default"})||e.executeQuery(this._getQuery()).done(function(e){t._trigger("actionSuccess",{e:e,requestFrom:"default"}),t._totalCount=e.count,t._listItem(e.result),t._removeLoadingClass(),t._renderPopupList(),t._finalize()}).fail(function(e){t.model.dataSource=null,t._addLoadingClass(),t._trigger("actionFailure",{e:e,requestFrom:"default"})}).always(function(e){t._trigger("actionComplete",{e:e,requestFrom:"default"})}))},_listItem:function(e,i){"add"==i?(this.popupListItems.push(e),this._rawList.push(e)):t.isArray(e)&&(this.popupListItems=e.slice(0),this._rawList=e.slice(0))},_getQuery:function(e){var t,n,s,r=this.model.fields,o=i.Query();if(!i.isNullOrUndefined(this.model.query)||this.model.template||e)this.model.query&&(o=this.model.query.clone());else{for(s in n=[],r)"tableName"!==s&&r[s]&&n.push(r[s]);n.length>0&&o.select(n)}return this.model.allowVirtualScrolling&&o.requiresCount(),this.model.itemsCount>0&&o.take(this.model.itemsCount),t=this.model.dataSource.dataSource,r&&(t&&t.url&&!t.url.match(r.tableName+"$")||t&&!t.url||!t)&&(i.isNullOrUndefined(r.tableName)||o.from(r.tableName)),o},_addLoadingClass:function(){this._isPopupShown()?this.popupListWrapper.addClass("e-load"):(this.dropdownbutton.addClass("e-load"),this.drpbtnspan.removeClass("e-icon e-arrow-sans-down")),this._readOnly=!0},_removeLoadingClass:function(){this.dropdownbutton.removeClass("e-load"),this.drpbtnspan.addClass("e-icon e-arrow-sans-down"),this._readOnly=!1,this.popupListWrapper.removeClass("e-load")},_renderDropdown:function(){if(this.wrapper=i.buildTag("span.e-ddl e-widget "+this.model.cssClass+"#"+this._id+"_wrapper","",{},{tabindex:"0",accesskey:this.element.attr("accesskey")}),this.container=i.buildTag("span.e-in-wrap e-box #"+this._id+"_container"),this.element.removeAttr("accesskey"),null==this.model.value&&null!=this.element.attr("value")&&(this.model.value=this.element.attr("value")),this.element.attr("value","").val(""),this._setAttr(this.element[0],{type:"hidden",role:"combobox","aria-expanded":!1,"aria-autocomplete":"list","aria-haspopup":!0,"aria-owns":this._id+"_popup"}).element.hide(),this.drpbtnspan=i.buildTag("span.e-icon e-arrow-sans-down","",{},{"aria-label":"select",unselectable:"on"}),this.dropdownbutton=i.buildTag("span.e-select#"+this._id+"_dropdown","",{},{role:"button",unselectable:"on"}).append(this.drpbtnspan),this.container.insertAfter(this.element),this.container.append(this.element),this.container.append(this.dropdownbutton),this.wrapper.insertBefore(this.container),this.wrapper.append(this.container),this.selectelement&&this.selectOptions.insertBefore(this.element),this._visibleInput=i.buildTag("input#"+this._id+"_hidden","",{}).insertAfter(this.element),this._visibleInput.addClass("e-input "),this._setAttr(this._visibleInput[0],{readonly:!0,tabindex:-1,"data-role":"none"}),!this._isWatermark){var e=null!=this.model.watermarkText?this.model.watermarkText:this._localizedLabels.watermarkText;this._hiddenSpan=i.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(e),this._hiddenSpan.css("display","none"),this._hiddenSpan.on("mousedown",t.proxy(this._OnDropdownClick,this))}this._checkNameAttr(),this._setDimentions(),this._RightToLeft(),this.ddWidth=this.dropdownbutton.outerWidth()>0?this.dropdownbutton.outerWidth():24,this.container.on("mousedown",t.proxy(this._OnDropdownClick,this))},_checkNameAttr:function(){this._name=i.isNullOrUndefined(this.element.attr("name"))?this._id:this.element.attr("name"),this.element.attr("name",this._name)},_addAttr:function(e){var n=this;t.map(e,function(e,s){var r=s.toLowerCase();"class"==r?n.wrapper.addClass(e):"disabled"==r&&"disabled"==e?n.disable():"readOnly"==r&&"readOnly"==e?n.model.readOnly=!0:"style"==r?n.wrapper.attr(s,e):i.isValidAttr(n._visibleInput[0],s)?t(n._visibleInput).attr(s,e):n.wrapper.attr(s,e)})},_renderBoxModel:function(){if("visualmode"!=this.model.multiSelectMode)return!1;this._ulBox=i.buildTag("ul.e-ul e-boxes"),this.container.prepend(this._ulBox),this._ulBox.css("min-height","30px"),this._ulBox.css("display","none"),this._on(this.container,"click",function(e){if(!this.model.enabled)return!1;var i=t(e.target);i.hasClass("e-options")&&(!e.ctrlKey&&i.siblings().hasClass("e-active")&&this._removeActive(),i.hasClass("e-active")?i.removeClass("e-active"):i.addClass("e-active")),!e.ctrlKey&&i.hasClass("e-boxes")&&this._removeActive()})},_renderPopupPanelWrapper:function(){var e=t("#"+this.element[0].id+"_popup_wrapper").get(0);e&&t(e).remove(),this.popupPanelWrapper=i.buildTag("div#"+this._id+"_popup_wrapper"),t("body").append(this.popupPanelWrapper),this.popupListWrapper=i.buildTag("div.e-ddl-popup e-box e-widget  e-popup#"+this._id+"_popup_list_wrapper","",{display:"none",overflow:"hidden"}),this.popupList=i.buildTag("div#"+this._id+"_popup",{tabIndex:0}),this.popupListWrapper.addClass(this.model.cssClass),this.popup=this.popupList,this.popupScroller=i.buildTag("div"),this.ultag=i.buildTag("ul.e-ul","",{},{role:"listbox"}),this.popupScroller.append(this.ultag),this.popupList.append(this.popupScroller),this.model.headerTemplate&&(this.headerTemplate=t("<div>").append(this.model.headerTemplate),this.popupListWrapper.append(this.headerTemplate)),this.popupListWrapper.append(this.popupList),this.popupPanelWrapper.append(this.popupListWrapper),this.ultag.on({mouseenter:t.proxy(this._OnMouseEnter,this),mouseleave:t.proxy(this._OnMouseLeave,this),click:t.proxy(this._OnMouseClick,this)},"li:not('.e-category')"),i.isTouchDevice()&&this.ultag.on({tap:t.proxy(this._OnMouseEnter,this)},"li:not('.e-category')"),t(window).on("resize",t.proxy(this._OnWindowResize,this))},_updateText:function(){this.model.text=""==this._visibleInput.val()?null:this._visibleInput.val()},_updateValue:function(e){this.value(""==e?null:e)},_setGroupingAndSorting:function(e,t){var i,n,s;if(this.model[e]=t,i=this.model.text,this._updateValue(""),this._selectedIndices=[],this.ultag.empty(),this._showFullList(),this.model.showCheckbox&&i)for(n=i.split(this.model.delimiterChar),s=0;s<n.length;s++)this.selectItemByText(n[s]);else this.selectItemByText(i)},_setSortingList:function(){var e,i,n=document.createElement("ul");if(t(n).append(this.itemsContainer.children()),this.model.allowGrouping||t(n).find(">.e-category").length>0)for(this.popupListWrapper.addClass("e-atc-popup"),e=0;e<t(n).find(">.e-category").length;e++)i=t(n).find(">.e-category").eq(0).first().nextUntil(".e-category").get(),this._setSortList(n,i);else t(n).children(">.e-category").remove(),i=t(n).children("li").get(),this._setSortList(n,i);this.itemsContainer=t(n)},_setSortList:function(e,i){i.sort(function(e,i){var n=t(e).text().toUpperCase(),s=t(i).text().toUpperCase();return n<s?-1:n>s?1:0}),"descending"==this.model.sortOrder&&i.reverse(),(this.model.allowGrouping||t(e).find(">.e-category").length>0)&&(t(e).append(t("<li>").text(t(e).find(">.e-category").eq(0).text()).addClass("e-category")),t(e).find(">.e-category").eq(0).remove()),t.each(i,function(i,n){t(e).append(n)})},_renderPopupList:function(){this._doDataBind(),this._renderRemaining()},_renderRemaining:function(){var e=this;this._dropbtnRTL(),this.model.enableFilterSearch&&this._enableSearch(),this.model.enablePopupResize&&this._enablePopupResize(),this.model.allowVirtualScrolling&&"normal"==this.model.virtualScrollMode&&this._totalCount&&this._totalCount>0&&(this._totalHeight=29*this._totalCount,this._totalPages=this._totalCount/(29*this.model.itemsCount),this._loadedItemHeight=29*this._getLi().length,this._getLi().attr("page",0),this._virtualPages=[0],this.ultag.append(t("<span>").addClass("e-virtual").css({height:this._totalHeight-this._loadedItemHeight,display:"block"}))),this._virtualUl=this.ultag.clone(!0),this._setListWidth(),this._setListHeight(),this._setListPosition(),this.popupScroller.css({height:"",width:""}),this.popupList.ejScroller({height:this._getPopupHeight(),width:0,scrollerSize:20,scroll:function(t){e.model.allowVirtualScrolling&&e._onScroll(t)}}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.find("div.e-scrollbar div").attr("unselectable","on"),this.popupListWrapper.css({display:"none",visibility:"visible"}),this._isSingleSelect()||(this.model.showCheckbox?this._checkboxHideShow(this.model.showCheckbox):this._multiItemSelection(this._getLi())),this._setUncheckAll(this.model.uncheckAll),this._changeSkin(this.model.cssClass),this.model.showPopupOnLoad&&this._showResult()},_enableSearch:function(){this.model.enableFilterSearch&&(this.inputSearch||(this.inputSearch=i.buildTag("input#"+this._id+"_inputSearch.e-input","",{},{type:"text","data-role":"none"}),this.popupListWrapper.prepend(t("<span>").addClass("e-atc e-search").append(t("<span>").addClass("e-in-wrap ").append(this.inputSearch).append(t("<span>").addClass(" e-icon e-search")))),this._on(this.inputSearch,"keyup",this._OnSearchEnter)))},_removeSearch:function(){this.model.enableFilterSearch=!1,this.popupListWrapper.find(".e-atc.e-search").remove(),this._isPopupShown()&&this.hidePopup(),this.inputSearch=null},_OnSearchEnter:function(e){var n,s,r="mozilla"==i.browserInfo().name?e.charCode:e.keyCode;-1!=t.inArray(r,[38,40,13])&&this.ultag.find("li.e-nosuggestion").length<=0?13==r?this._OnKeyUp(e):this._OnKeyDown(e):(this._activeItem=-1,this._queryString=this.inputSearch.val(),""==this._queryString&&this._virtualUl?(s={searchString:this._queryString,searchQuery:null,items:this._rawList},this._trigger("search",s),this._resetList(),this._updateSelectedIndexByValue(this.value()),this._refreshScroller(),this._setListPosition()):(this._mapFields(),n=this._addSearchQuery(i.Query(),!this._isPlainType(this._rawList)),s={searchString:this._queryString,items:this._rawList,searchQuery:n},this.popupListWrapper.find(".e-atc.e-search .e-search").addClass("e-cross-circle").removeClass("e-search"),this._on(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle"),"mousedown",this._refreshSearch),this._trigger("search",s)||this._filterSearch(n,s)))},_refreshSearch:function(){this._resetSearch(),this._refreshPopup()},_filterSearch:function(e,t){var n=!1,s=t.result?t.result:i.DataManager(this._rawList).executeLocal(e);0==s.length&&(n=!0,s.push(this._getLocalizedLabels("emptyResultText"))),this.popupListItems=s,this.ultag.empty(),this._isPlainType(this.popupListItems)?this._plainArrayTypeBinding(s):this._objectArrayTypeBinding(s,"search"),n&&1==this.ultag.find("li").length&&this.ultag.find("li").eq(0).addClass("e-nosuggestion"),this.model.showCheckbox&&!n&&this._appendCheckbox(this._getLi()),this._onSearch=!0,this._setValue(this.value()),this._onSearch=!1,this._updateSelectedIndexByValue(this.value()),this._refreshScroller(),this._setListPosition()},_updateSelectedIndexByValue:function(e){var t,i,n;if(e&&this.model.enableFilterSearch){for(this._selectedIndices=this.model.selectedItems=this.model.selectedIndices=[],this._virtualList=this._virtualUl.children("li:not('.e-category')"),t=this._toArray(e),i=0;i<t.length;i++)for(n=0;n<this._virtualList.length;n++)if(t[i]==this._getIndexedValue(this._virtualList[n])){this._selectedIndices.push(n);break}this.model.selectedItems=this.model.selectedIndices=this._selectedIndices}},_getIndexedValue:function(e){return this._getAttributeValue(e)?this._getAttributeValue(e):e.innerText},_resetSearch:function(){this.inputSearch&&this.model&&this.model.enableFilterSearch&&""!=this.inputSearch.val()&&this._virtualUl&&(this.inputSearch.val(""),this._resetList())},_resetList:function(){1==this.popupListWrapper.find(".e-atc.e-search .e-cross-circle").length&&(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle").addClass("e-search").removeClass("e-cross-circle"),this._off(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle"),"mousedown",this._refreshSearch)),this._listItem(this._rawList),this.ultag.empty().append(this._virtualUl.children().clone(!0)),this._onSearch=!0,this._setValue(this.value()),this._onSearch=!1},_addSearchQuery:function(e,t){var i,n="";return t&&(n=(i=this.model.fields)&&i.text?i.text:"text"),this._queryString&&e.where(n,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch),this.model.itemsCount>0&&e.take(this.model.itemsCount),e},_targetElementBinding:function(){var e,i,n,s,r,o=this.element.parents().last();if(this.docbdy=this.model.targetID?o.find("#"+this.model.targetID):this.optionDiv?this.optionDiv:null,!this.docbdy)return!1;if(this.itemsContainer="UL"==this.docbdy[0].nodeName?this.docbdy:this.docbdy.children("ol,ul"),(this.model.allowGrouping||this.itemsContainer.find(">.e-category").length>0)&&!this.model.enableSorting)for(this.popupListWrapper.addClass("e-atc-popup"),e=0;e<this.itemsContainer.find(">.e-category").length;e++)(i=this.itemsContainer.find(">.e-category").eq(e)).replaceWith(t("<li>").text(i.text()).addClass("e-category"));else this.model.enableSorting&&this._setSortingList();for(this.itemsContainer.children("ol,ul").remove(),this.items=this.itemsContainer.children("li"),this.items.children("img,div").addClass("e-align"),this._listItem([]),n=0;n<this.items.length;n++)s=t(this.items[n]).text(),r=this._getAttributeValue(this.items[n]),t(this.items[n]).attr("data-value")||t(this.items[n]).attr("data-value",r||s),this._listItem({text:s,value:r||s},"add");this.ultag.empty().append(this.itemsContainer.children()),this.ultag.children("li").attr("role","option").attr("unselectable","on"),this.docbdy.css({display:"none"}).children("ol,ul").remove()},_plainArrayTypeBinding:function(e){var n,s;if(this.dummyUl=t(),this.model.enableSorting&&(e.sort(),"descending"==this.model.sortOrder&&e.reverse()),e.length>0){for(n=0;n<e.length;n++)i.isNullOrUndefined(e[n])||(s=i.buildTag("li",e[n],{},{"data-value":e[n],unselectable:"on"}),this.dummyUl.push(s[0]));this.ultag.append(this.dummyUl),this._trigger("dataBound",{data:e})}},_mapFields:function(){this.model.fields.groupBy=this.model.fields.groupBy?this.model.fields.groupBy:this.model.fields.category;var e=this.model.fields;this.mapFld={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null},this.mapFld._id=e&&e.id?e.id:"id",this.mapFld._imageUrl=e&&e.imageUrl?e.imageUrl:"imageUrl",this.mapFld._imageAttributes=e&&e.imageAttributes?e.imageAttributes:"imageAttributes",this.mapFld._spriteCSS=e&&e.spriteCssClass?e.spriteCssClass:"spriteCssClass",this.mapFld._text=e&&e.text?e.text:"text",this.mapFld._value=e&&e.value?e.value:"value",this.mapFld._htmlAttributes=e&&e.htmlAttributes?e.htmlAttributes:"htmlAttributes",this.mapFld._selected=e&&e.selected?e.selected:"selected",this.mapFld._category=e&&e.groupBy?e.groupBy:"groupBy"},_doDataBind:function(){var e=this.model.dataSource,t=this.popupListItems;!e||!t||!t.length||t.length<1?this._targetElementBinding():this._isPlainType(t)?this._plainArrayTypeBinding(t):this._objectArrayTypeBinding(t)},_isPlainType:function(e){return"object"!=typeof e[0]},_objectArrayTypeBinding:function(e,n){var s,r,o,a,l,h;if(this.dummyUl=t(),this._mapFields(),this.model.enableSorting&&(s=i.Query().sortBy(this.mapFld._text,this.model.sortOrder,!0),e=i.DataManager(e).executeLocal(s),this.popupListItems=e),this.model.allowGrouping||this.model.fields.groupBy)for(this.popupListWrapper.addClass("e-atc-popup"),r=this.mapFld._category,a=i.Query().group(r),this.model.enableSorting||a.queries.splice(0,1),o=i.DataManager(e).executeLocal(a),this._swapUnCategorized(o),"search"==n?this.popupListItems=[]:this._listItem([]),l=0;l<o.length;l++)for(o[l].key&&this.ultag.append(i.buildTag("li.e-category",o[l].key).attr("role","option")[0]),this._generateLi(o[l].items,this.mapFld),this.ultag.append(this.dummyUl),h=0;h<o[l].items.length;h++)"search"==n?this.popupListItems.push(o[l].items[h]):this._listItem(o[l].items[h],"add");else this._generateLi(e,this.mapFld),this.ultag.append(this.dummyUl);this._trigger("dataBound",{data:e})},_onScroll:function(e){var n,s,r,o;e.scrollTop&&(n=e.scrollTop,(s=this).model.allowVirtualScrolling&&"continuous"==s.model.virtualScrollMode?(o=i.Query().skip(s._rawList.length).take(s.model.itemsCount).clone(),n>=t(s.popupList).find("ul,ol").height()-t(s.popupList).height()&&s._rawList.length<s._totalCount&&(s._addLoadingClass(),i.DataManager&&s.model.dataSource instanceof i.DataManager?(o=s._getQuery().skip(s._rawList.length).take(s.model.itemsCount).clone(),s._trigger("actionBegin",{requestFrom:"scroll"})||s.model.dataSource.executeQuery(o).done(function(e){s.addItem(e.result),s._removeLoadingClass(),s._trigger("actionSuccess",{e:e,requestFrom:"scroll"})}).fail(function(){s.model.dataSource=null,s._removeLoadingClass(),s._trigger("actionFailure",{e:e,requestFrom:"scroll"})}).always(function(e){s._trigger("actionComplete",{e:e,requestFrom:"scroll"})})):(r=i.DataManager(s.model.dataSource).executeLocal(o),s.addItem(r),s._removeLoadingClass()))):s.model.allowVirtualScrolling&&"normal"==s.model.virtualScrollMode&&window.setTimeout(function(){0==s._virtualCount&&s._loadList()},300))},_loadList:function(){var n,s,r,o,a;this._virtualCount++;var l,h=this.scrollerObj.scrollTop(),d=this,c=0,u=null;if(this._currentPage=Math.round(h/(29*this.model.itemsCount)),-1!=t.inArray(this._currentPage,this._virtualPages.sort(function(e,t){return e-t})))if(0==this._currentPage){if(-1!=t.inArray(this._currentPage+1,this._virtualPages))return this._virtualCount--,!1;this._currentPage=this._currentPage+1}else if(-1!=t.inArray(this._currentPage-1,this._virtualPages)){if(-1!=t.inArray(this._currentPage+1,this._virtualPages))return this._virtualCount--,!1;this._currentPage=this._currentPage+1}else this._currentPage=this._currentPage-1;for(l=!(-1!=t.inArray(this._currentPage-1,this._virtualPages)),this._addLoadingClass(),n=this._virtualPages.length-1;n>=0;n--)if(this._virtualPages[n]<this._currentPage){c=this._virtualPages[n],n+1==this._virtualPages.length||(u=this._virtualPages[n+1]);break}if(s=l?(this._currentPage-1)*this.model.itemsCount:this._currentPage*this.model.itemsCount,r=i.Query().range(s,this._currentPage*this.model.itemsCount+this.model.itemsCount),i.DataManager&&d.model.dataSource instanceof i.DataManager){if(a=l?(this._currentPage-1)*this.model.itemsCount:this._currentPage*this.model.itemsCount,r=this._getQuery().skip(a),l){for(n=0;n<r.queries.length;n++)if("onTake"==r.queries[n].fn){r.queries.splice(n,1);break}r.take(2*this.model.itemsCount)}d._trigger("actionBegin",{requestFrom:"scroll"})||d.model.dataSource.executeQuery(r).done(function(e){d._appendVirtualList(e.result,c,d._currentPage,u,l),d._removeLoadingClass(),d._trigger("actionSuccess",{e:e,requestFrom:"scroll"})}).fail(function(){d._virtualCount--,d._removeLoadingClass(),d._trigger("actionFailure",{e:e,requestFrom:"scroll"})}).always(function(e){d._trigger("actionComplete",{e:e,requestFrom:"scroll"})})}else o=i.DataManager(d.model.dataSource).executeLocal(r),this._appendVirtualList(o,c,this._currentPage,u,l),d._removeLoadingClass()},_appendVirtualList:function(e,i,n,s,r){var o,a,l,h,d,c;if(this._virtualCount--,-1!=t.inArray(n,this._virtualPages.sort(function(e,t){return e-t})))return!1;for(r&&-1!=t.inArray(n-1,this._virtualPages.sort())&&(e.splice(0,this.model.itemsCount),r=!1),o=this.model.itemsCount,a=t("<ul>"),0!=(l=r?(n-1)*o*29-29*(i*o+o):n*o*29-29*(i*o+o))&&a.append(t("<span>").addClass("e-virtual").css({display:"block",height:l})),this._mapFields(),this._generateLi(e,this.mapFld),t(this.dummyUl).attr("page",n),r&&t(this.dummyUl).slice(0,o).attr("page",n-1),this.model.showCheckbox&&this._appendCheckbox(this.dummyUl),a.append(this.dummyUl),h=29*(n*o+o),0!=(h=null!=s?s*o*29-h:this.ultag.height()-h)&&a.append(t("<span>").addClass("e-virtual").css({display:"block",height:h})),(d=this.ultag.find("li[page="+i+"]").last()).next().remove(),a.children().insertAfter(d),this._virtualPages.push(n),r&&this._virtualPages.push(n-1),c=0;c<e.length;c++)this._listItem(e[c],"add");this._virtualUl=this.ultag.clone(!0),this._renderBoxModel()},_generateLi:function(e,n){var s,r,o,a;if(this.mapFld=n,this.dummyUl=[],!e||!e.length||e.length<1)return!1;for(s=0;s<e.length;s++){var l=this._getField(e[s],this.mapFld._id),h=this._getField(e[s],this.mapFld._imageUrl),d=this._getField(e[s],this.mapFld._imageAttributes),c=this._getField(e[s],this.mapFld._spriteCSS),u=this._getField(e[s],this.mapFld._text),p=this._getField(e[s],this.mapFld._value),m=this._getField(e[s],this.mapFld._htmlAttributes),f=this._getField(e[s],this.mapFld._selected),g=document.createElement("li");!i.isNullOrUndefined(p)&&p.toString().length>0?g.setAttribute("data-value","object"==typeof p?JSON.stringify(p):p):g.setAttribute("data-value",u),i.isNullOrUndefined(l)||""===l||g.setAttribute("id",l),i.isNullOrUndefined(m)||""==m||this._setAttr(g,m),this.model.template?t(g).append(this._getTemplatedString(e[s])):(i.isNullOrUndefined(h)||""==h||(r=document.createElement("img"),this._setClass(r,"e-align")._setAttr(r,{src:h,alt:u}),d&&""!=d&&this._setAttr(r,d),g.appendChild(r)),i.isNullOrUndefined(c)||""==c||(o=document.createElement("div"),this._setClass(o,"div.e-align "+c+" sprite-image"),g.appendChild(o)),f&&this._setClass(g,"chkselect"),i.isNullOrUndefined(u)&&(u=String(u)),(a=document.createElement("span")).innerHTML=u,this._setClass(a,"e-ddltxt"),g.innerHTML+=a.outerHTML),this._setAttr(g,{role:"option",unselectable:"on"}),this.dummyUl.push(g)}},_setAttr:function(e,t){var i,n,s;if("string"==typeof t)2==(i=t.replace(/['"]/g,"").split("=")).length&&e.setAttribute(i[0],i[1]);else for(n in t)if("styles"!=n&&"style"!=n||"object"!=typeof t[n])e.setAttribute(n,t[n]);else for(s in t[n])e.style[s]=t[n][s];return this},_setClass:function(e,t){return e.className+=" "+t,this},_removeClass:function(e,t){var i=e.className.indexOf(t);return i>=0&&(e.className=0!=i&&" "===e.className[i-1]?e.className.replace(" "+t,""):e.className.replace(t,"")),this},_hasClass:function(e,t){return e.className.indexOf(t)>=0},_swapUnCategorized:function(e){t(e).each(function(t,i){if(!i.key){for(var n=t;n>0;n--)e[n]=e[n-1];return e[n]=i,!1}})},_getField:function(e,t){return i.pvt.getObject(t,e)},_getTemplatedString:function(e){for(var t,i,n=this.model.template,s=n.indexOf("${"),r=n.indexOf("}");-1!=s&&-1!=r;)i=(t=n.substring(s,r+1)).replace("${","").replace("}",""),s=(n=n.replace(t,this._getField(e,i))).indexOf("${"),r=n.indexOf("}");return n},_setWatermark:function(){if(""==this.element.val()&&""==this._trim(this._visibleInput.val())){var e=null!=this.model.watermarkText?this.model.watermarkText:this._localizedLabels.watermarkText;this._isWatermark?this._visibleInput.attr("placeholder",e):this._hiddenSpan.css("display","block").text(e),"visualmode"==this.model.multiSelectMode&&this._ulBox&&0==this._ulBox.find("li").length&&this._swapUlandInput(!1)}},_checkboxHideShow:function(e){e?(this.listitems=this._getLi(),0==this.listitems.find("input[type=checkbox]").length&&this._appendCheckbox(this.listitems)):this._removeCheck(this.popupList),this.model.showCheckbox=e,this._virtualUl=this.ultag.clone(!0)},_setCheckAll:function(e){!this._isSingleSelect()&&e?this.checkAll():this.model.checkAll=!1},_setUncheckAll:function(e){!this._isSingleSelect()&&e?this.uncheckAll():this.model.uncheckAll=!1},checkAll:function(){var e,n,s=this._selectedIndices,r=!1;if(this._mapFields(),this.listitems=this._getLi(),this._isWatermark||this._hiddenSpan.css("display","none"),!this._isSingleSelect()){for(e=0;e<this.listitems.length;e++)this._currentText=this._isPlainType(this.popupListItems)?this.popupListItems[e]:this._getField(this.popupListItems[e],this.mapFld._text),this._hiddenValue=this._getAttributeValue(this.listitems[e])||this._currentText,this._checkContains(this._hiddenValue)?r=!0:this.model.showCheckbox?(n=t(this.listitems[e]).children(".e-checkwrap")[0])&&!this._isChecked(n)?(this._setClass(n,"e-check-act"),this._setAttr(n,{"aria-checked":!0}),n.firstChild.checked=!0,r=!1):r=!0:(r=!1,t(this.listitems[e]).addClass("e-active")),r||(this.checkedStatus=!0,this._itemID=t(this.listitems[e]).attr("id"),i.isNullOrUndefined(this._itemID)||""==this._itemID||this._selectedItemsID.push(this._itemID),this._createListHidden(this._hiddenValue),"visualmode"==this.model.multiSelectMode&&(this._ulBox.append(this._createBox(this._currentText,this._hiddenValue)),this._isPopupShown()&&this._setListPosition()),this._addText(this._currentText),-1==t.inArray(e,s)&&(this._selectedIndices.push(e),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),this._selectedValue=this._getAttributeValue(this.listitems[e])||"",this._initValue||this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),args={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:e,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus},this._initValue||this._trigger("change",args),this._activeItem=e,this.activeItem=this._getActiveItem(),this._cascadeAction());this._updateValue(this.element.val()),this._updateText(),this.model.itemValue=this._selectedValue,this.model.uncheckAll=!1,this.model.checkAll=!0,this._activeItem=-1,this._setWatermark()}},_createListHidden:function(e){var i=document.createElement("input");this._setAttr(i,{type:"hidden",name:this._name,value:e,id:"#"+e}),this.container.append(i),t(this.element).attr("name","hiddenEle")},_removeListHidden:function(e){var i=document.getElementById("#"+e);t(i).remove()},_getAttributeValue:function(e){return e?e.getAttribute("data-value")||e.getAttribute("value"):null},_selectCheckedItem:function(e){for(var t=0;t<e.length;t++)this._activeItem=e[t],this._enterTextBoxValue()},unCheckAll:function(){this.uncheckAll()},uncheckAll:function(){var e,n,s,r=!1;if(this.listitems=this._getLi(),this._mapFields(),!this._isSingleSelect()){for(e=0;e<this.listitems.length;e++)this._currentText=this._isPlainType(this.popupListItems)?this.popupListItems[e]:this._getField(this.popupListItems[e],this.mapFld._text),this._hiddenValue=this._getAttributeValue(this.listitems[e])||this._currentText,this._checkContains(this._hiddenValue)?this.model.showCheckbox?(n=t(this.listitems[e]).children(".e-checkwrap")[0])&&this._isChecked(n)?(this._removeClass(n,"e-check-act"),this._setAttr(n,{"aria-checked":!1}),n.firstChild.checked=!1,r=!0):r=!1:(t(this.listitems[e]).removeClass("e-active"),r=!0):r=!1,r&&(this.checkedStatus=!1,this._activeItem=e,this.activeItem=this._getActiveItem(),this._removeText(this._hiddenValue),this._removeListHidden(this._hiddenValue),s=this._selectedIndices,t.inArray(e,s)>-1&&(this._selectedIndices.splice(t.inArray(e,s),1),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),this._selectedValue=this._getAttributeValue(this.listitems[e])||"",this._itemID=t(this.listitems[e]).attr("id"),i.isNullOrUndefined(this._itemID)||""==this._itemID||this._removeSelectedItemsID(),this._initValue||this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),args={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:e,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus},this._initValue||this._trigger("change",args),this._cascadeAction(),"visualmode"==this.model.multiSelectMode&&(this._deleteBoxCheck(this._hiddenValue),this._isPopupShown()&&this._setListPosition()));this._updateValue(this.element.val()),this._updateText(),this.model.itemValue=this._selectedValue,this.model.checkAll=!1,this.model.uncheckAll=!0,this._setWatermark(),this._activeItem=-1}},_removeSelectedItemsID:function(){var e;e=this._selectedItemsID.indexOf(this._itemID),this._selectedItemsID.splice(e,1),this._itemID=""},_refreshScroller:function(){this.model.enablePopupResize||(this.popupList.css("height","auto"),this.popupListWrapper.css("height","auto")),this.popupList.find(".e-content, .e-vhandle").removeAttr("style"),this.popupList.find(".e-vhandle div").removeAttr("style"),this.popupList.children(".e-content").removeClass("e-content");var e=this._isPopupShown();this.popupListWrapper.css("display","block"),this.popupList.css({display:"block"}),this.scrollerObj.model.height=Math.ceil(this._getPopupHeight()),this.scrollerObj.refresh(),this.model.enablePopupResize||(this.popupList.css("height","auto"),this.popupListWrapper.css("height","auto")),this.scrollerObj.option("scrollTop",0),e||this.popupListWrapper.css("display","none")},_enablePopupResize:function(){this.model.enablePopupResize&&(this.popupListWrapper.addClass("e-resizable").append(i.buildTag("div.e-resizebar").append(i.buildTag("div.e-icon e-resize-handle"))).find(".e-resize-handle").addClass(this.model.enableRTL?"e-rtl-resize":""),this._resizePopup())},_resizePopup:function(){var e=this,i=!1;this.popupListWrapper.find("div.e-resize-handle").ejResizable({minHeight:e._validatePixelData(e.model.minPopupHeight),minWidth:e._validatePixelData(e.model.minPopupWidth),maxHeight:e._validatePixelData(e.model.maxPopupHeight),maxWidth:e._validatePixelData(e.model.maxPopupWidth),handle:"e-ddl-popup",resizeStart:function(t){if(!e.model.enabled)return!1;i||e._trigger("popupResizeStart",{event:t}),i=!0},resize:function(i){var n=t(i.element).parents("div.e-ddl-popup");e._refreshPopupOnResize(t(n).outerHeight(),t(n).outerWidth()),e._trigger("popupResize",{event:i})},resizeStop:function(t){i&&(e._refreshPopupOnResize(e.model.popupHeight,e.model.popupWidth),i&&e._trigger("popupResizeStop",{event:t}),i=!1)},helper:function(i){var n=t(i.element).parents("div.e-ddl-popup");return e._refreshPopupOnResize(t(n).outerHeight(),t(n).outerWidth()),t(e.popupListWrapper)}})},_refreshPopupOnResize:function(e,t){e&&(this.model.popupHeight=e),t&&(this.model.popupWidth=t),this.popupListWrapper.css({height:this._validatePixelData(this.model.popupHeight),"min-height":this._validatePixelData(this.model.minPopupHeight),"max-height":this._validatePixelData(this.model.maxPopupHeight)}),this._setListWidth(),this._refreshScroller()},_setListWidth:function(){var e=this.model.popupWidth;"auto"!=e?this.popupListWrapper.css({width:e}):this.popupListWrapper.css({"min-width":this._validatePixelData(this.model.minPopupWidth)}),this.popupListWrapper.css({"max-width":this._validatePixelData(this.model.maxPopupWidth)})},_setListHeight:function(){this.model.enablePopupResize&&this.model.enableFilterSearch&&this.model.minPopupHeight&&this.model.minPopupHeight.toString().indexOf("%")<0&&20==this._validatePixelData(this.model.minPopupHeight)&&(this.model.minPopupHeight="65"),this.model.enablePopupResize?this.popupListWrapper.css({"min-height":this._validatePixelData(this.model.minPopupHeight),"max-height":this._validatePixelData(this.model.maxPopupHeight),height:this._validatePixelData(this.model.popupHeight)}):this.popupListWrapper.css({"max-height":this._validatePixelData(this.model.popupHeight),"min-height":this._validatePixelData(this.model.minPopupHeight)})},_validatePixelData:function(e){return e&&!isNaN(e)?Number(e):e},_getPopupHeight:function(){var e,t=this.popupListWrapper.height();return this.model.enablePopupResize&&(t-=this.popupListWrapper.find(">div.e-resizebar").height()),this.model.headerTemplate&&this.headerTemplate&&(t-=this.headerTemplate.height()),this.model.enableFilterSearch&&this.inputSearch&&(e=this.inputSearch.parent(".e-in-wrap"),t-=parseInt(e.css("height"))+parseInt(e.css("margin-top"))+parseInt(e.css("margin-bottom"))),t},_refreshPopup:function(){"auto"!=this.model.popupWidth||this._validatePixelData(this.model.minPopupWidth)?this._validatePixelData(this.model.minPopupWidth)&&this.popupListWrapper.css({"min-width":this._validatePixelData(this.model.minPopupWidth)}):this.popupListWrapper.css({"min-width":this.wrapper.width()}),this._refreshScroller(),this._setListPosition()},_setListPosition:function(){var e,i=this.wrapper,n=this._getOffset(i),s=t(document).scrollTop()+t(window).height()-(n.top+t(i).outerHeight()),r=n.top-t(document).scrollTop(),o=this.popupListWrapper.outerHeight(),a=this.popupListWrapper.outerWidth(),l=n.left,h=i.outerHeight(),d=(h-i.height())/2,c=this._getZindexPartial(),u=(o<s||o>r?n.top+h+3:n.top-o-3)-d;e=t(document).scrollLeft()+t(window).width()-l,(this.model.enableRTL||a>e&&a<l+i.outerWidth())&&(l-=this.popupListWrapper.outerWidth()-i.outerWidth()),this.popupListWrapper.css({left:l+"px",top:u+"px","z-index":c})},_getOffset:function(e){return i.util.getOffset(e)},_getZindexPartial:function(){return i.util.getZindexPartial(this.element,this.popupListWrapper)},_showResult:function(){var e=this,n={text:this._visibleInput[0].value,value:this._selectedValue,refreshPopup:!0};this._trigger("beforePopupShown",n)||(n.refreshPopup&&this._refreshPopup(),t(this.popupListWrapper).slideDown(this.model.enableAnimation?200:1,function(){t(document).on("mousedown",t.proxy(e._OnDocumentClick,e)),e._on(i.getScrollableParents(e.wrapper),"scroll",e._hideResult)}),this.element[0].setAttribute("aria-expanded",!0),this._listSize=this._getLi().length,this._trigger("popupShown",{text:this._visibleInput[0].value,value:this._selectedValue}),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("active")}))},_OnWindowResize:function(){!i.isNullOrUndefined(this.model)&&this._isPopupShown()&&this._refreshPopup()},_hideResult:function(e){if(this.model&&this._isPopupShown()){if(!i.isNullOrUndefined(e)&&!i.isNullOrUndefined(this.inputSearch)&&t(this.inputSearch).is(":focus")&&"scroll"==e.type&&i.isTouchDevice())return!1;var n=this;if(this._trigger("beforePopupHide",{text:this._visibleInput[0].value,value:this._selectedValue}))return;t(this.popupListWrapper).slideUp(this.model.enableAnimation?100:0,function(){t(document).off("mousedown",t.proxy(n._OnDocumentClick,n))}),null!=this.element&&this.element.attr("aria-expanded",!1),this._off(i.getScrollableParents(this.wrapper),"scroll",this._hideResult),null!=this._visibleInput&&this._trigger("popupHide",{text:this._visibleInput[0].value,value:this._selectedValue}),setTimeout(function(){n._resetSearch()},100)}},_isPopupShown:function(){return"block"==this.popupListWrapper.css("display")},_enterTextBoxValue:function(){var e,i,n=!0;this.removeID=!1,this.checkedStatus=!1,this._isWatermark||this._hiddenSpan.css("display","none"),this._chooseSelectionType(),(this._activeItem>=0||null!=this._activeItem)&&(this.model.showCheckbox?(i=this.activeItem.find(".e-checkwrap")[0],this.checkedStatus=this._isChecked(i)):this.checkedStatus=this.activeItem.hasClass("e-active")),e={text:this._currentText,selectedText:this._currentText,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus,isInteraction:!!this._uiInteract},this._initValue||this._onSearch||!this._raiseEvents||!this._trigger("select",e)?((this._activeItem>=0||null!=this._activeItem)&&(this._isSingleSelect()||this._checkContains(this._selectedValue)?this._isSingleSelect()?(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),this.activeItem.addClass("e-active"),this._maintainHiddenValue(),this._visibleInput.val(this._currentText),this.element.val(this._hiddenValue),this.selectedItemIndex(this.selectedIndexValue),this.selectedIndex(this.selectedIndexValue),this._selectedIndices[0]=this.selectedIndexValue):n=!1:(this.model.showCheckbox?(i=this.activeItem.find(".e-checkwrap")[0],this._isChecked(i)||(this._setClass(i,"e-check-act"),this._setAttr(i,{"aria-checked":!0}),t(i).find(".e-check-input")[0].checked=!0)):this.activeItem.addClass("e-active"),"visualmode"==this.model.multiSelectMode&&(this._ulBox.append(this._createBox(this._currentText,this._selectedValue)),this._isPopupShown()&&this._setListPosition()),this._maintainHiddenValue(),this._addText(this._currentText),this._createListHidden(this._hiddenValue),-1==t.inArray(this.selectedIndexValue,this._selectedIndices)&&(this._selectedIndices.push(this.selectedIndexValue),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices)),n&&(this.checkedStatus=!0,this._onValueChange(),this._cascadeAction(),this.selectelement&&t("#"+this._id).children().length>this.selectedIndexValue&&(t("#"+this._id).children()[this.selectedIndexValue].selected=!0))),this.model.uncheckAll=!1,this._setWatermark()):this._setWatermark()},_onValueChange:function(){this.model.itemValue=this._selectedValue,this._updateText(),this.value()==this.element.val()||null==this.value()&&""==this.element.val()||(this._updateSelectedIndexByValue(this._visibleInput.val()),this._updateValue(this.element.val()),args={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:this.selectedIndexValue,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus,isInteraction:!!this._uiInteract},this._initValue||this._onSearch||!this._raiseEvents||(this._trigger("change",args),this.model.showCheckbox&&this._trigger("checkChange",{isChecked:this.checkedStatus,text:this._visibleInput.val(),itemId:this.selectedIndexValue,selectedText:this._currentText,selectedValue:this._selectedValue,value:this._selectedValue,data:this.model})),this._uiInteract=!1)},_decode:function(e){return t("<span>").html(e).text()},_chooseSelectionType:function(){this.activeItem=this._getActiveItem(),this.selectedIndexValue=this._activeItem,this._mapFields(),null==this.model.dataSource||this._isPlainType(this.model.dataSource)?(this._currentText=this.activeItem.text(),this._getAttributeValue(this.activeItem[0])?this._selectedValue=this._getAttributeValue(this.activeItem[0]):null!=this._currentText?(this.activeItem[0].setAttribute("value",this._currentText),this._selectedValue=this._currentText):this._selectedValue="",this._itemID=t(this.activeItem).attr("id")):(this._currentText=this._decode(this._getField(this.popupListItems[this._activeItem],this.mapFld._text)),this._currentText=""===this._currentText||null==this._currentText?this.activeItem.text():this._currentText,this._selectedValue=this._getField(this.popupListItems[this._activeItem],this.mapFld._value),this._selectedValue=null!=this._selectedValue?this._selectedValue:this._currentText,this._itemID=this._getField(this.popupListItems[this._activeItem],this.mapFld._id)),i.isNullOrUndefined(this._itemID)||""==this._itemID||(this.model.showCheckbox?this.removeID?this._removeSelectedItemsID():this._selectedItemsID.push(this._itemID):(this._selectedItemsID=[],this.removeID||this._selectedItemsID.push(this._itemID))),this.selectedTextValue=this._currentText},_maintainHiddenValue:function(){this._hiddenValue=this._getAttributeValue(this.activeItem[0])||this._currentText},_removeTextBoxValue:function(){var e,i;this._uiInteract=!0,this.removeID=!0,this.checkedStatus=!0,this._chooseSelectionType(),(this._activeItem>=0||null!=this._activeItem)&&(this.model.showCheckbox?(i=this.activeItem.find(".e-checkwrap")[0],this.checkedStatus=this._isChecked(i)):this.checkedStatus=this.activeItem.hasClass("e-active")),e={text:this._currentText,selectedText:this._currentText,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this._initValue||this._onSearch||!this._raiseEvents||!this._trigger("select",e)?(this._maintainHiddenValue(),this._removeText(this._hiddenValue),this._removeListHidden(this._hiddenValue),this.activeItem.removeClass("e-active"),this._isSingleSelect()||(this.model.showCheckbox?(i=this.activeItem.find(".e-checkwrap")[0],this._isChecked(i)&&(this._removeClass(i,"e-check-act"),this._setAttr(i,{"aria-checked":!1}),t(i).find(".e-check-input")[0].checked=!0)):this.activeItem.removeClass("e-active"),t.inArray(this.selectedIndexValue,this._selectedIndices)>-1&&(this._selectedIndices.splice(t.inArray(this.selectedIndexValue,this._selectedIndices),1),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),"visualmode"==this.model.multiSelectMode&&(this._deleteBoxCheck(this._hiddenValue),this._isPopupShown()&&this._setListPosition())),this.checkedStatus=!1,this._onValueChange(),null==this.model.cascadeTo||this._isSingleSelect()||this._cascadeAction(),this.model.checkAll=!1,this._setWatermark()):this._setWatermark()},_createBox:function(e,n){if(!this._checkContains(n)){"none"==this._ulBox.css("display")&&"none"!=this._visibleInput.css("display")&&this._swapUlandInput(!0);var s=i.buildTag("span.e-icon e-close","",{},{unselectable:"on"}),r=i.buildTag("li.e-options").text(e).attr("data-value",n).append(s);return this._on(s,"click",function(e){if(!this.model.enabled)return!1;this._deleteBox(t(e.target).parent())}),r}},_deleteBoxCheck:function(e){for(var i=this._ulBox.children("li"),n=0;n<i.length;n++)t(i[n]).attr("data-value")==e&&t(i[n]).remove()},_deleteLastBox:function(){var e=this._ulBox.children("li:not(.e-search-box)").last();e.hasClass("e-active")?this._deleteBox(e):(this._removeActive(),e.addClass("e-active"))},_deleteBox:function(e){for(var i,n,s,r=0;r<e.length;r++)for(i=t(e[r]).attr("data-value"),n=this._getLi(),s=0;s<n.length;s++)if(t(n[s]).attr("data-value")==i){this._activeItem=s,this._removeTextBoxValue();break}this._isFocused||this._isPopupShown()||this._setWatermark()},_swapUlandInput:function(e){e?(this._visibleInput.css("display","none"),this._ulBox.css("display","block"),this.wrapper.css({height:"auto"})):(this._visibleInput.css("display","block"),this._ulBox.css("display","none"),this.wrapper.css({height:this.model.height}))},_removeActive:function(){this._ulBox.children("li").removeClass("e-active")},_adjustWidth:function(){var e=i.buildTag("span",this._visibleInput.val());this.container.append(e),this._visibleInput.width(e.width()+30),e.remove()},_destroyBoxModel:function(){this._visibleInput.css("display","block"),this.wrapper.height(this.model.height),this._ulBox.remove(),this._ulBox=null,this._off(this.container,"click")},_removeListHover:function(){this.ultag.children("li").removeClass("e-hover")},_addListHover:function(){var e=this._getActiveItem();e.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("hover")}),e.focus()},_getLi:function(){return this.ultag.children("li:not('.e-category'):not('.e-nosuggestion')")},_calcScrollTop:function(e){this.ultag.outerHeight();var i,n,s,r,o=this.ultag.find("li"),a=0;for(this._selectedIndices&&this._selectedIndices.length>0&&"active"==e?(r=this._getLi(),i=this._selectedIndices.length==r.length?0:this._selectedIndices[this._selectedIndices.length-1],(null!=this.model.fields.groupBy||this.ultag.find("li.e-category").length>0)&&(i=t.inArray(r.eq(i)[0],o))):i=this.ultag.find("li.e-"+e).index(),s=0;s<i;s++)a+=o.eq(s).outerHeight(!0);return(n=a-(this.popupList.outerHeight()-o.eq(i).outerHeight(!0))/2)<0?0:n},_getActiveItem:function(){return this._getLi().eq(this._activeItem)},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_roundedCorner:function(e){e?(this.container.addClass("e-corner"),this.popupListWrapper.addClass("e-corner"),this.inputSearch&&this.inputSearch.parent(".e-in-wrap").addClass("e-corner")):(this.container.removeClass("e-corner"),this.popupListWrapper.removeClass("e-corner"),this.inputSearch&&this.inputSearch.parent(".e-in-wrap").removeClass("e-corner"))},_enabled:function(e){e?this.enable():this.disable()},_destroyDropdown:function(){this.element.insertAfter(this.wrapper),this.element.width(this.element.width()+this.dropdownbutton.outerWidth()),this.wrapper.remove(),this.container.off("mousedown",t.proxy(this._OnDropdownClick,this))},_RightToLeft:function(){this.model.enableRTL?this.wrapper.addClass("e-rtl"):this.wrapper.removeClass("e-rtl")},_dropbtnRTL:function(){this.model.enableRTL?(this.popupListWrapper.addClass("e-rtl").find(".e-resize-handle").addClass("e-rtl-resize"),this.popupList.addClass("e-rtl")):(this.popupListWrapper.removeClass("e-rtl").find(".e-resize-handle").removeClass("e-rtl-resize"),this.popupList.removeClass("e-rtl"))},_OnDropdownClick:function(e){if(this._preventDefaultAction(e),t(e.target).is("li")&&t(e.target).parent().hasClass("e-boxes")||t(e.target).parents("ul").hasClass("e-boxes")&&t(e.target).hasClass("e-icon e-close")||this.model.readOnly||this._readOnly)return!1;this.ultag.find("li").length>0&&(e.which&&1==e.which||e.button&&0==e.button)&&this._OnPopupHideShow()},_OnPopupHideShow:function(){this._isPopupShown()?this._hideResult():(this._showResult(),this.wrapper.focus())},_showFullList:function(){var e=this.model.dataSource;i.DataManager&&e instanceof i.DataManager?e.dataSource.offline||e.dataSource.json&&e.dataSource.json.length>0?this._getFilteredList(e.dataSource.json):this._initDataSource(e):this._getFilteredList(e)},_getFilteredList:function(e){if(!e||!e.length||e.length<1)this._targetElementBinding(),this._renderRemaining();else{var t=i.DataManager(e).executeLocal(this._isPlainType(e)?i.Query():this._getQuery(!0));this._totalCount=t.count,this._listItem(t.result?t.result:t),this._renderPopupList(),this._rawList=this.popupListItems}},_cascadeAction:function(){if(this.model.cascadeTo)for(var e=this.model.cascadeTo.split(","),n=0;n<e.length;n++)t("#"+e[n]).hasClass("e-dropdownlist")?this._doCascadeAction(e[n],this,this.checkedStatus):t("#"+e[n]).on("ejDropDownListcreate",{Obj:this,status:this.checkedStatus},function(e){i.isNullOrUndefined(e.data.Obj.getValue())||""==e.data.Obj.getValue()||e.data.Obj._doCascadeAction(this.id,e.data.Obj,e.data.status)})},_doCascadeAction:function(e,n,s){n._currentValue=n._getField(n.popupListItems[n._activeItem],n.mapFld._value),n.selectDropObj=t("#"+e).ejDropDownList("instance");var r={cascadeModel:n.selectDropObj.model,cascadeValue:n._currentValue,setCascadeModel:{},requiresDefaultFilter:!0};this._trigger("cascade",r),n.selectDropObj._setCascadeModel=r.setCascadeModel,i.isNullOrUndefined(n[e])&&(n[e]=n.selectDropObj.model.dataSource),i.DataManager&&n[e]instanceof i.DataManager?n._cascadeOdataInit(n[e],r.requiresDefaultFilter,s,r.cascadeQuery):n._cascadeJsonInit(n.selectDropObj,n[e],n.mapFld._value,r.requiresDefaultFilter,s,r.cascadeQuery)},_cascadeOdataInit:function(e,t,i,n){var s,r=this;r._dQuery=this.selectDropObj._getQuery().clone(),s=r._dQuery.clone(),t?s.where(r.mapFld._value,"equal",r._currentValue):s=n,r.selectDropObj._addLoadingClass(),r._trigger("actionBegin",{requestFrom:"cascade"})||e.executeQuery(s).fail(function(e){r._changedSource=null,r.selectDropObj.setModel({dataSource:r._changedSource,enabled:!1}),r._trigger("actionFailure",{e:e,requestFrom:"cascade"})}).done(function(e){r._trigger("actionSuccess",{e:e,requestFrom:"cascade"}),r._cascadeDataBind(r.selectDropObj,e.result,i),r.selectDropObj._removeLoadingClass()}).always(function(e){r._trigger("actionComplete",{e:e,requestFrom:"cascade"})})},_cascadeJsonInit:function(e,t,n,s,r,o){var a=s?i.Query().where(n,"==",this._currentValue):o,l=i.DataManager(t).executeLocal(a);this._cascadeDataBind(e,l,r)},_cascadeDataBind:function(e,n,s){var r,o,a,l,h,d=e.value();if(this.model.showCheckbox&&s||"none"!=this.model.multiSelectMode&&this.activeItem.hasClass("e-active"))this._changedSource=i.isNullOrUndefined(this._changedSource)?n:this._changedSource.concat(n);else if(this.model.showCheckbox||"none"!=this.model.multiSelectMode){for(r=0;r<n.length;r++)if(this._isPlainType(n)&&this._isPlainType(this._changedSource))this._changedSource.splice(this._changedSource.indexOf(n[r]),1);else for(o=0;o<this._changedSource.length;o++)JSON.stringify(this._changedSource[o])==JSON.stringify(n[r])&&this._changedSource.splice(o,1);e.setModel({dataSource:null})}else this._changedSource=n;if(a=JSON.parse(JSON.stringify(e.model)),e.setModel({dataSource:this._changedSource,enabled:this._changedSource.length>0}),this._isSingleSelect()||e.selectItemByValue(d),(e.model.showCheckbox||"none"!=e.model.multiSelectMode)&&(t("input:hidden[id^='#'][name="+e._id+"]").remove(),e._visibleInput.attr("name",e._name)),e._setSelectedItem)e.setModel(e._setCascadeModel);else{for(l=["value","text","selectedIndex","selectedIndices"],h=0;h<l.length;h++)e.model[l[h]]=a[l[h]];e._finalize()}e._setSelectedItem=!0},_OnMouseEnter:function(e){var i,n;if(!this.model.enabled||this.model.readOnly||this._readOnly)return!1;this.ultag.children("li").removeClass("e-hover"),t(e.target).is("li:not('.e-category')")&&t(e.target).addClass("e-hover"),t(e.target).hasClass("e-disable")?t(e.target).removeClass("e-hover"):"li"!=e.target.tagName&&(i=t(e.target).parents("li:not('.e-category')"),t(i).addClass("e-hover")),this.ultag.children("li:not('.e-category')").each(function(e){if(t(this).hasClass("e-hover"))return n=e,!1}),this._activeItem=n},_OnMouseLeave:function(){if(!this.model.enabled||this.model.readOnly||this._readOnly)return!1;this.ultag.children("li").removeClass("e-hover")},_OnMouseClick:function(e){var i,n,s;if(this._uiInteract=!0,!this.model.enabled||this.model.readOnly||this._readOnly||this.model.enableFilterSearch&&t(e.target).is("li")&&t(e.target).hasClass("e-nosuggestion"))return!1;(!t(e.target).is("li")||t(e.target).hasClass("e-disable"))&&(t(e.target).is("li")||t(e.target).closest("li").hasClass("e-disable"))||(this._isSingleSelect()?(this._enterTextBoxValue(),this._hideResult()):this.model.showCheckbox?(i="LI"===e.target.nodeName?e.target:t(e.target).parents("li.e-hover"),n=t(i).find(".e-checkwrap")[0],this._onCheckChange({target:n})):(s=t(e.target).is("li")?e.target:t(e.target).closest("li")[0],this._activeItem=t.inArray(s,this._getLi()),t(s).hasClass("e-active")?this._removeTextBoxValue():this._enterTextBoxValue()))},_OnDocumentClick:function(e){if(this.model&&(!this.model.enabled||this.model.readOnly||this._readOnly))return!1;t(e.target).is(this.popupList)||t(e.target).parents(".e-ddl-popup").is(this.popupListWrapper)||t(e.target).is(this._visibleInput)||t(e.target).parents(".e-ddl").is(this.wrapper)?t(e.target).is(this.inputSearch)?this.inputSearch.focus():(t(e.target).is(this.popupList)||t(e.target).parents(".e-ddl-popup").is(this.popupListWrapper))&&this._preventDefaultAction(e):this._hideResult()},_OnKeyPress:function(e){this.model.enableIncrementalSearch&&13!=e.keyCode&&this._OnTextEnter("mozilla"==i.browserInfo().name?e.charCode:e.keyCode),32==e.keyCode&&this._preventDefaultAction(e)},_OnTextEnter:function(e){var i=this;this._incqueryString+=String.fromCharCode(e),this._incqueryString.length>0&&setTimeout(function(){i._incqueryString=""},1e3);var n,s,r=this._getLi(),o=this.model.caseSensitiveSearch,a=this._incqueryString,l=this._incqueryString.length,h=!1;for(o||(a=a.toLowerCase()),n=0;n<r.length&&(s=t(r[n]).text(),(s=o?s:s.toLowerCase()).substr(0,l)==a&&(this._activeItem=n,this._isSingleSelect()?(this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("active")})):this._isPopupShown()&&(this._removeListHover(),this._addListHover()),h=!0),!h);n++);},_selectItem:function(e){this._isSingle||this._clearTextboxValue(),this._activeItem=e,this._addListHover(),this._enterTextBoxValue()},_focusItem:function(e){this._removeListHover(),this._activeItem=e,this._addListHover()},_selectFocusedItem:function(e){this._focusItem(e),this._enterTextBoxValue()},_selectShiftDown:function(e,i,n){n||this._clearTextboxValue();for(var s=e;s<=i;s++)t.inArray(s,this._disabledItems)<0&&t.inArray(s,this.model.selectedIndices)<0&&this._selectFocusedItem(s)},_selectShiftUp:function(e,i,n){n||this._clearTextboxValue();for(var s=i;s>=e;s--)t.inArray(s,this._disabledItems)<0&&t.inArray(s,this.model.selectedIndices)<0&&this._selectFocusedItem(s)},_selectShiftHome:function(e,i,n){if(n||this._clearTextboxValue(),e>=0&&e<=this._listSize-1){if(0==e)this._clearTextboxValue();else for(var s=e;s>=i;s--)t.inArray(s,this._disabledItems)<0&&t.inArray(s,this.model.selectedIndices)<0&&(this._activeItem=s,this._enterTextBoxValue());this._activeItem=e,0==e&&this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:0})}},_selectShiftEnd:function(e,i,n){if(n||this._clearTextboxValue(),e<=this._listSize-1){if(e==i)this._clearTextboxValue();else for(var s=e;s<=i;s++)t.inArray(s,this._disabledItems)<0&&t.inArray(s,this.model.selectedIndices)<0&&(this._activeItem=s,this._enterTextBoxValue());this._activeItem=e,e==i&&this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:this.ultag.outerHeight()})}},_getLastFocusedLi:function(){return this._selectedIndices&&this._selectedIndices.length>0?this._selectedIndices[this._selectedIndices.length-1]:null},_getLastShiftFocusedLi:function(e,i){var n=i?e-1:e+1;return t.inArray(n,this._selectedIndices)<0?e:this._getLastShiftFocusedLi(n,i)},_shiftUp:function(e,t,i){var n,s,r;if(null==e||e<0)this._checkDisableStep(0,t,!1,!1,!0);else if(e>0&&e<=this._listSize-1&&null!=(n=this._disableItemSelectUp(e-t)))if(null!=this._getLastFocusedLi())if(this._selectedIndices.length>1&&e-1==this._selectedIndices[this._selectedIndices.length-2])for(s=1;s<=t&&e-s==this._selectedIndices[this._selectedIndices.length-2];s++)this._activeItem=e+1-s,this._removeTextBoxValue(),this._focusItem(e-s);else r=this._getLastShiftFocusedLi(this._getLastFocusedLi(),!1),this._selectShiftUp(n,r,i);else this._moveUp(e,t,!1)},_shiftDown:function(e,t,i){var n,s,r;if(null==e||e<0)this._checkDisableStep(-1,t,!0,!1,!0);else if(e<this._listSize-1&&null!=(n=this._disableItemSelectDown(e+t)))if(null!=this._getLastFocusedLi())if(this._selectedIndices.length>1&&e+1==this._selectedIndices[this._selectedIndices.length-2])for(s=1;s<=t&&e+s==this._selectedIndices[this._selectedIndices.length-2];s++)this._activeItem=e-1+s,this._removeTextBoxValue(),this._focusItem(e+s);else r=this._getLastShiftFocusedLi(this._getLastFocusedLi(),!0),this._selectShiftDown(r,n,i);else this._moveDown(e,t,!1)},_moveUp:function(e,t,i){null==e||e<=0?this._checkDisableStep(0,t,!1,i):e>this._listSize-1?this._checkDisableStep(this._listSize-1,t,!1,i):e>0&&e<=this._listSize-1&&this._checkDisableStep(e,t,!1,i)},_moveDown:function(e,t,i){null==e||e<0?this._checkDisableStep(-1,t,!0,i):0==e?this._checkDisableStep(0,t,!0,i):e>=this._listSize-1?this._checkDisableStep(this._listSize-1,t,!0,i):e<this._listSize-1&&this._checkDisableStep(e,t,!0,i)},_checkDisableStep:function(e,t,i,n,s){var r,o=i?"_disableItemSelectDown":"_disableItemSelectUp",a=i?e+t:e-t,l=this[o](a);if(null==l)for(r=t;r>=0&&(a=i?e+r:e-r,null==(l=this[o](a)));r--);null!=l&&(n?this._focusItem(l):this._selectItem(l),s&&n&&this._enterTextBoxValue())},_disableItemSelectDown:function(e){return(null==e||e<0)&&(e=0),e<this._listSize?t.inArray(e,this._disabledItems)<0?e:this._disableItemSelectDown(e+1):this._listSize-1},_disableItemSelectUp:function(e){if((null==e||e<0)&&(e=0),e<this._listSize){if(t.inArray(e,this._disabledItems)<0)return e;if(e>0)return this._disableItemSelectUp(e-1)}},_preventDefaultAction:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},_OnKeyDown:function(e){var t,i,n,s,r;if(this._uiInteract=!0,this.model.enabled)if(this._itemId=null,t=this._getLi(),this._listSize=t.length,n=this.popupList.height(),i=this.ultag.children("li").outerHeight(),s=0!=Math.round(n/i)?Math.round(n/i):5,this._isSingle=this._isSingleSelect(),this._isSingle)switch(e.keyCode){case 38:if(e.altKey){this.ultag.find("li").length>0&&this._hideResult();break}case 33:r=33==e.keyCode?s:1,this._moveUp(this._activeItem,r),this._preventDefaultAction(e,!0);break;case 8:this._preventDefaultAction(e);break;case 40:if(e.altKey){this.ultag.find("li").length>0&&this._showResult();break}case 34:r=34==e.keyCode?s:1,this._moveDown(this._activeItem,r),this._preventDefaultAction(e,!0);break;case 37:this.model.enableRTL?this._moveDown(this._activeItem,1):this._moveUp(this._activeItem,1),this._preventDefaultAction(e);break;case 39:this.model.enableRTL?this._moveUp(this._activeItem,1):this._moveDown(this._activeItem,1),this._preventDefaultAction(e);break;case 9:case 27:this._isPopupShown()&&this._hideResult();break;case 35:this._moveDown(this._listSize-1,0),this._preventDefaultAction(e);break;case 36:r=null!=this._activeItem?this._activeItem:this._listSize-1,this._moveUp(r,r),this._preventDefaultAction(e)}else switch(e.keyCode){case 38:e.altKey?this.ultag.find("li").length>0&&this._hideResult():e.shiftKey?this._shiftUp(this._activeItem,1,e.ctrlKey):this._moveUp(this._activeItem,1,e.ctrlKey),this._preventDefaultAction(e);break;case 33:e.shiftKey?this._shiftUp(this._activeItem,s,e.ctrlKey):this._moveUp(this._activeItem,s,e.ctrlKey),this._preventDefaultAction(e);break;case 8:this._preventDefaultAction(e);break;case 40:e.altKey?this.ultag.find("li").length>0&&this._showResult():e.shiftKey?this._shiftDown(this._activeItem,1,e.ctrlKey):this._moveDown(this._activeItem,1,e.ctrlKey),this._preventDefaultAction(e);break;case 34:e.shiftKey?this._shiftDown(this._activeItem,s,e.ctrlKey):this._moveDown(this._activeItem,s,e.ctrlKey),this._preventDefaultAction(e);break;case 37:this.model.enableRTL?this._moveDown(this._activeItem,1,!1):this._moveUp(this._activeItem,1,!1),this._preventDefaultAction(e);break;case 39:this.model.enableRTL?this._moveUp(this._activeItem,1,!1):this._moveDown(this._activeItem,1,!1),this._preventDefaultAction(e);break;case 9:case 27:this._isPopupShown()&&this._hideResult();break;case 35:e.shiftKey?this._selectShiftEnd(this._activeItem,this._listSize-1,e.ctrlKey):this._moveDown(this._activeItem,this._listSize,e.ctrlKey),this._preventDefaultAction(e);break;case 36:r=null!=this._activeItem?this._activeItem:this._listSize-1,e.shiftKey?this._selectShiftHome(this._activeItem,0,e.ctrlKey):this._moveUp(this._activeItem,r,e.ctrlKey),this._preventDefaultAction(e)}},_OnKeyUp:function(e){if(this.model.enabled){if(this._preventDefaultAction(e),e.target,null==this._activeItem&&(this._activeItem=this._getLi().index(this.popupList.find("ol,ul").children("li.e-hover"))),""==this._trim(this._visibleInput.val())&&38==e.keyCode&&40==e.keyCode)return this._hideResult(),!1;switch(e.keyCode){case 13:!this._isSingle&&this._isPopupShown()&&(e.ctrlKey||e.shiftKey)&&this._activeItem>=0?this._selectAndUnselect():this._isPopupShown()&&this._hideResult(),this._preventDefaultAction(e);break;case 32:this._isPopupShown()&&this._isSingle&&this._hideResult(),!this._isSingle&&this._isPopupShown()&&this._activeItem>=0&&this._selectAndUnselect(),this._preventDefaultAction(e);break;case 8:"visualmode"==this.model.multiSelectMode&&this._deleteLastBox(),this._preventDefaultAction(e);break;case 46:if("visualmode"==this.model.multiSelectMode||this.model.showCheckbox){this._deleteBox(this._ulBox.children("li.e-active"));break}}}},_isSingleSelect:function(){return!this.model.showCheckbox&&"none"==this.model.multiSelectMode},_selectAndUnselect:function(){this.model.showCheckbox?this._isChecked(this._getActiveItem().find(".e-checkwrap")[0])?this._removeTextBoxValue():this._enterTextBoxValue():"none"!=this.model.MultiSelectMode&&(this._getActiveItem().hasClass("e-active")?this._removeTextBoxValue():this._enterTextBoxValue())},_targetFocus:function(){this.model.enabled&&!this._isFocused&&(this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this._isFocused=!0,this._trigger("focusIn"))},_targetBlur:function(){this.model.enabled&&(this._isFocused=!1,this.wrapper.removeClass("e-focus"),this._setWatermark(),this._trigger("focusOut"))},_getLocalizedLabels:function(e){return void 0===this._localizedLabels[e]?i.DropDownList.Locale["en-US"][e]:this._localizedLabels[e]},_wireEvents:function(){this._on(this.wrapper,"focus",this._targetFocus),this._on(this.wrapper,"blur",this._targetBlur),this._on(this.wrapper,"keydown",this._OnKeyDown),this._on(this.popupList,"keydown",this._OnKeyDown),this._on(this.popupList,"keyup",this._OnKeyUp),this._on(this.wrapper,"keyup",this._OnKeyUp),this._on(this.popupList,"keypress",this._OnKeyPress),this._on(this.wrapper,"keypress",this._OnKeyPress)},_unwireEvents:function(){this._off(this.wrapper,"focus",this._targetFocus),this._off(this.wrapper,"blur",this._targetBlur),this._off(this.wrapper,"keydown",this._OnKeyDown),this._off(this.popupList,"keydown",this._OnKeyDown),this._off(this.popupList,"keyup",this._OnKeyUp),this._off(this.wrapper,"keyup",this._OnKeyUp),this._off(this.popupList,"keypress",this._OnKeyPress),this._off(this.wrapper,"keypress",this._OnKeyPress),t(window).off("resize",t.proxy(this._OnWindowResize,this))},_multiItemSelection:function(e,t){var i,n;for(this._ulBox||"visualmode"!=this.model.multiSelectMode||this._renderBoxModel(),i=0;i<e.length;i++)n=t?this._rawList.length-(e.length-i):i,this._hasClass(e[i],"chkselect")&&(this._activeItem=n,this._enterTextBoxValue(),this._removeClass(e[i],"chkselect"));this._setWatermark()},_appendCheckbox:function(e,t){var i;for(this._ulBox||"visualmode"!=this.model.multiSelectMode||this._renderBoxModel(),i=0;i<e.length;i++){var n=t?this._rawList.length-(e.length-i):i,s=document.createElement("input"),r=document.createElement("span");this._setAttr(s,{type:"checkbox",name:"list"+n,"data-role":"none",id:this._id+"_check"+n})._setClass(s,"e-check-input")._setAttr(r,{name:"list"+n+"_wrap","data-role":"none",id:this._id+"_check"+n+"wrap",unselectable:"on"})._setClass(r,"e-checkwrap e-icon "),r.appendChild(s),e[i].insertBefore(r,e[i].childNodes[0]),this._hasClass(e[i],"chkselect")&&(this._activeItem=n,this._enterTextBoxValue(),this._removeClass(e[i],"chkselect"))}this._setWatermark()},_onCheckChange:function(e){var i="INPUT"===e.target.nodeName?e.target.parentElement:e.target;this._activeItem=t.inArray(t(i).parents("li")[0],this._getLi()),this._hasClass(i,"e-check-act")?this._removeTextBoxValue():this._enterTextBoxValue()},_isChecked:function(e){return this._hasClass(e,"e-check-act")&&1==t(e).children(".e-check-input")[0].checked},_removeCheck:function(){this._getLi().find(".e-checkwrap").remove()},_resetCheck:function(){var e,t,i=this._getLi();for(i.find(".e-check-act").removeClass("e-check-act").attr("aria-checked",!1),e=i.find(".e-check-input:checked"),t=0;t<e.length;t++)e[t].checked=!1}}),i.DropDownList.Locale=i.DropDownList.Locale||{},i.DropDownList.Locale.default=i.DropDownList.Locale["en-US"]={emptyResultText:"No suggestions",watermarkText:""},i.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},i.VirtualScrollMode={Normal:"normal",Continuous:"continuous"}}),
/*!
*  filename: ej.dialog.min.js
*  version : 2.4.85
*  Copyright Syncfusion Inc. 2001 - 2020. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e,t){t.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,backgroundScroll:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",backgroundScroll:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(i){var n,s;for(n in i)switch(n){case"closeIconTooltip":this._dialogClose.attr("title",i[n]);break;case"tooltip":this._tooltipText(i[n]);break;case"title":this.model.title=i[n],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(i[n]),this._updateCaptionWidth();break;case"width":this.model.width=i[n],this._changeSize(),this._updateCaptionWidth(),i[n]=this.model.width;break;case"height":this.model.height=i[n],this._changeSize(),i[n]=this.model.height;break;case"position":this.model.position=i[n],this._dialogPosition();break;case"cssClass":this._changeSkin(i[n]);break;case"showRoundedCorner":this.model.showRoundedCorner=i[n],this._roundedCorner(i[n]);break;case"contentType":this.model.contentType=i[n],this._appendContent(i[n]);break;case"enabled":this.model.enabled=i[n],this._enabledAction(i[n]);break;case"contentUrl":this.model.contentUrl=i[n],this._appendContent(this.model.contentType);break;case"backgroundScroll":this.model.backgroundScroll=i[n],!this.model.backgroundScroll&&this.model.enableModal?e("body").addClass("e-dialog-modal"):e("body").removeClass("e-dialog-modal");break;case"content":case"target":this._ejDialog.appendTo(e(i[n])),this.model.target=this.model.content=i[n],this._dialogPosition();break;case"containment":this._setDragArea(i[n]),t.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=i[n]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=i[n],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels,!0),this._tooltipText(this.model.tooltip),this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(this.model.title),this._updateCaptionWidth();break;case"minHeight":this.model.minHeight=i[n],this._ejDialog.css("minHeight",i[n]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=i[n],this._ejDialog.css("minWidth",i[n]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=i[n],this._ejDialog.css("maxHeight",i[n]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=i[n],this._ejDialog.css("maxWidth",i[n]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",i[n]);break;case"faviconCSS":this.model.faviconCSS=i[n],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=i[n],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=i[n],i[n]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=i[n],i[n]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=i[n],i[n]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1-this._dialogTitlebar.outerHeight(!0):"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(t.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=i[n],i[n]?(this._appendContent(),this._ejDialog.find(".e-resizable").remove()):this._ejDialog.find(".e-footerbar").remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=i[n],this.model.showFooter&&(this._ejDialog.find(".e-footerbar").empty(),s=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(s),this._enableResize());break;case"enableRTL":this.model.enableRTL=i[n],this.model.faviconCSS&&this._favIcon(),i[n]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl"),this.scroller&&this._resetScroller()):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr"),this.scroller&&this._resetScroller());break;case"actionButtons":t.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(i[n])),this.model.actionButtons=i[n],this._updateCaptionWidth();break;case"enableModal":this._enableModal(i[n]);break;case"htmlAttributes":this._addAttr(i[n])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this.model.enableAnimation&&this._ejDialog.stop(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1,e(window).off("resize",e.proxy(this._reSizeHandler,this))},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),this.scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"),this.scrObj&&this.scrObj._resetScroller(),this.hidden=!1,this._init=!1,this._keyNavigation=!1},_responsive:function(){this.width=this.model.width,e(this.element).width(this.width),this.height=this.model.height,e(this.element).height(this.height),e(window).on("resize",e.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=e(this._dialogTitlebar).outerWidth(),e(this.contentDiv).width(this.width),e(this.contentDiv).children().width(this.width),this.model.height=this.height=e(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-e(this._dialogTitlebar).outerHeight()-e(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),t.isNullOrUndefined(this.element)||this._collapsible||this._resetScroller()},_setLocaleCulture:function(e,t){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=e.closeIconTooltip),t&&(this.model.tooltip=this.localizedLabels.tooltip,this.model.title=this.localizedLabels.title),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=e.tooltip),this.model.title===this.defaults.title&&(this.model.title=e.title)},_setDragArea:function(i){t.isNullOrUndefined(i)?this._target=null:"string"==typeof i?("parent"==i&&(this._target=e(this.element).parent()),"document"==i.toLowerCase()&&(this._target=e(document)),"window"==i.toLowerCase()?this._target=e(window):e(i).length>0&&(this._target=e(i))):"object"==typeof i?i.length>0&&(this._target=i):this._target=null},_addAttr:function(t){var i=this;e.map(t,function(e,t){if("class"==t)i._ejDialog.addClass(e);else if("disabled"==t&&"disabled"==e)i.model.enabled=!1,i._enabledAction(!1);else if(i._ejDialog[0].hasAttribute("style")){var n=i._ejDialog[0].getAttribute("style")+e;i._ejDialog.attr(t,n)}})},_tooltipText:function(i){e.extend(this.model.tooltip,i),!t.isNullOrUndefined(this._dialogClose)&&this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),!t.isNullOrUndefined(this._dialogCollapsible)&&(i.collapse||i.expand)&&(this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand)),!t.isNullOrUndefined(this._dialogMaximize)&&(i.maximize||i.restore)&&(this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogMinimize)&&(i.minimize||i.restore)&&(this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore)),!t.isNullOrUndefined(this._dialogPin)&&(i.pin||i.unPin)&&(this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin))},_renderControl:function(){var i,n,s;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=t.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,n=t.isNullOrUndefined(i)?document.body:i,(s=e(n).find("#"+this._id+"_wrapper").get(0))&&e(s).remove(),this._ejDialog.appendTo(n),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&this._favIcon()),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize(),"auto"!=this.model.height&&this._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){if("auto"!=this.model.height){var t=this._ejDialog.outerHeight()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1;this.contentDiv.height(t),this.element.outerHeight(t)}return this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){if(this.model.enableResize){this._ejDialog.addClass("e-resizable");var e=t.buildTag("div.e-icon e-resize-handle");this.model.showFooter?e.appendTo(this._dialogFooterbar):e.appendTo(this._ejDialog),this._resizeDialog()}return this},_changeSkin:function(e){this.model.cssClass!=e&&this._ejDialog.removeClass(this.model.cssClass).addClass(e)},_enableModal:function(e){e?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(e){e?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),t.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),t.buildTag("div.e-disable-overlay").appendTo(this.wrapper),t.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=t.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header e-dialog").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=t.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-dialog e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=t.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var e=this.model.faviconCSS&&!t.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&!t.isNullOrUndefined(this._dialogTitlebar)&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-e),this},_iconsRender:function(i){for(var n=0;n<i.length;n++)switch("msie"==t.browserInfo().name&&t.browserInfo().version<=8?e.trim(i[n]):i[n].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(i[n])}},_customIconsRender:function(e){this._customIcon=t.util.buildTag("div#"+this.element[0].id+"_"+e+"button.e-dialog-icon e-icon e-"+e,null,null).attr("tabIndex","0").attr("title",e),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(t){if(!this.element.hasClass("e-disable")){var i={cancel:!1,buttonID:e(t.target).attr("id"),event:t.type,model:this.model,currentTarget:t.currentTarget.title};this._trigger("actionButtonClick",i)}},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(i){var n,s,r,o,a;this.contentDiv=t.isNullOrUndefined(this.contentDiv)?t.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),n=this,t.isNullOrUndefined(this.model.contentUrl)||t.isNullOrUndefined(i)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==i?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==i?(this.element.children(".e-iframe").length>0?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=t.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&e(this.iframe).load(function(){n.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):"image"==i?(s=t.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(s).show().appendTo(this.contentDiv),e(s).on("load",function(){n._dialogPosition()}),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),this._ejDialog.find("div.e-resize-handle").length>0?0==this._ejDialog.find(".e-footerbar").length&&this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(r=this.element.children().find("iframe").contents()[0],t.isNullOrUndefined(r)?0==this._ejDialog.find(".e-footerbar").length?this.contentDiv.appendTo(this._ejDialog):this.contentDiv.insertBefore(this._dialogFooterbar):(this.contentDiv.appendTo(this._ejDialog),o=e("#"+this.contentDiv.find("iframe").attr("id")),e(o[0].contentDocument.lastChild).remove(),o[0].contentDocument.appendChild(r),"mozilla"==t.browserInfo().name&&setTimeout(function(){e(o[0].contentDocument.lastChild).remove(),o[0].contentDocument.appendChild(r)},500))),this.model.showFooter&&0==this._ejDialog.find(".e-footerbar").length&&(this._renderFooterBar(),null!=this.model.footerTemplateId&&(a=e("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(a)))},_roundedCorner:function(e){this._ejDialog[e?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):this.model.showHeader||this.model.showFooter||this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){if(null!=this.scroller&&(this.scroller.refresh(!0),!this.model.enableRTL)){if(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter)var e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=0,i=0;else e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=2,i=this._ejDialog.find("div.e-resize-handle").outerHeight();Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1)&&(this.scroller._vScrollbar.model.height-=i+t,this.scroller._vScrollbar._scrollData.handle-=i,this.scroller._vScrollbar._scrollData.handleSpace-=i+t,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(e-i-t))}if((!this.scroller._vScrollbar||!this.scroller._vScrollbar._scrollData)&&this.scroller._hScrollbar&&this.scroller._hScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter){var n=this.scroller._hScrollbar.element.find("> div.e-hscroll").width();t=0,i=0}else n=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),t=2,i=this._ejDialog.find("div.e-resize-handle").outerWidth();this.scroller._hScrollbar.model.width-=i+t,this.scroller._hScrollbar._scrollData.handle-=i+t,this.scroller._hScrollbar._scrollData.handleSpace-=i+t,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(n-i-t)}}},_dialogMaxZindex:function(){var t,i,n,s=this.element.parents();return t=e("body").children(),e(t).each(function(e,t){s.push(t)}),i=e(this.model.target).children(),e(i).each(function(e,t){s.push(t)}),!(n=Math.max.apply(n,e.map(s,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))||n<1e4?n=1e4:n+=1,n},_setZindex:function(){var e=this._dialogMaxZindex();this.model.zIndex<=e&&this._ejDialog.css({zIndex:e+1})},_createOverlay:function(){var i,n=this._ejDialog.css("zIndex");t.isNullOrUndefined(this._overLay)||this._overLay.remove(),this.model.backgroundScroll||e("body").addClass("e-dialog-modal"),this._overLay=t.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:n-1}),e(this._overLay).addClass("e-widget"),t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?t.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,this._overLay.appendTo(t.isNullOrUndefined(i)?document.body:i);var s=t.isNullOrUndefined(this.model.containment)||t.isNullOrUndefined(this._target)?"fixed":"absolute",r=t.isNullOrUndefined(i)||"fixed"==s||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().left,o=t.isNullOrUndefined(i)||"fixed"==s||"static"!=e(i).css("position").toLowerCase()?0:e(i).offset().top;this._overLay.css({top:o,left:r,position:s})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var n=this,s=this.model.title,r={success:function(e){try{n._ajaxSuccessHandler(e,t,i,s)}catch(e){}},error:function(e){try{n._ajaxErrorHandler({status:e.status,responseText:e.responseText,statusText:e.statusText},t,i,s)}catch(e){}},complete:function(){try{n._setContainerSize(),n._resetScroller(),n.model.showOnInit||n._setHiddenDialogSize()}catch(e){}}};e.extend(!0,r,this.model.ajaxSettings),this._sendAjaxRequest(r)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(t){e.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(e,t,i){t.removeClass("e-load"),t.html(e).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:e,url:i})},_ajaxErrorHandler:function(e,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:e,url:i})},_closeIcon:function(){this._dialogClose=t.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):("close"==this.model.closeIconTooltip&&this.model.tooltip.close,this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close)),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=t.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=t.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=t.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=t.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){if(this._dialogFavIcon)e=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom");else{this._dialogFavIcon=t.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")});var e=t.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"});e.appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)}this.model.faviconCSS?e.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),i=parseInt(this.model.maxWidth),n=parseInt(this.model.maxHeight),s=parseInt(this.model.width),r=parseInt(this.model.height),o=this._getParentObj();isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(e=this._convertPercentageToPixel(o.outerWidth(),e)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(t=this._convertPercentageToPixel(o.outerHeight(),t)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(i=this._convertPercentageToPixel(o.innerWidth(),i)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(n=this._convertPercentageToPixel(o.innerHeight(),n)),isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(s=this._convertPercentageToPixel(o.innerWidth(),s)),isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(r=this._convertPercentageToPixel(o.innerHeight(),r)),(i&&s>i||e&&s<e)&&(this.model.width=s>i?i:e),(n&&r>n||t&&r<t)&&(this.model.height=r>n?n:t)},_setSize:function(){var e=this.model;return this._minMaxValidation(),this._ejDialog.css({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth}),this._ejDialog.css({height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var i,n=this._ejDialog.outerHeight(!0)-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?e(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),s={width:"0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?Math.round(this._ejDialog.width()):Math.round(this._ejDialog.width()-2),enableRTL:this.model.enableRTL,height:"0px"==this.contentDiv.css("border-width")?n:n-1,enableTouchScroll:!1};"auto"==this.model.height&&(this.element.height()<this.model.maxHeight||!this.model.maxHeight)&&!this._maximize&&(s.height="auto"),"auto"!=this.model.width||this._maximize||(s.width=this.model.width),this.contentDiv.ejScroller(s),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(e(this.element).css("padding-top"))+parseInt(e(this.element).css("padding-bottom")),"none"==e(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!t.isNullOrUndefined(this.contentDiv.height())&&this.contentDiv.height()>0&&(i=t.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:!this.scroller._hScrollbar&&this.scroller._vScrollbar?this.contentDiv.outerHeight():this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:i-1}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth("0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?this._ejDialog.width():this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(e,t){this.contentDiv.ejScroller({width:t,height:e,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var i=this;this._ejDialog.parents(".e-dialog-scroller");return this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(e){return e.element.attr("aria-grabbed",!0),i._clickHandler(),!i.dialogPin&&i.model.allowDraggable&&i.model.enabled?i._trigger("dragStart",{event:e})?(e.cancel=!0,!1):void 0:(e.cancel=!0,!1)},drag:function(e){i._trigger("drag",{event:e})},dragStop:function(n){var s,r;i._ejDialog.focus(),n.element.attr("aria-grabbed",!1),i.element.find("> .e-draggable.e-titlebar")&&((s=e("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&s.option("cursorAt",i.element.offset())),r=this.helper.offsetParent().offset(),i._trigger("dragStop",{event:n}),i.model.position.X=t.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[r.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],i.model.position.Y=t.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[r.top+parseFloat(this.helper.offsetParent().css("border-top-width"))],i._positionChanged=!0,i.dlgresized=!0},helper:function(){return e(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){if(this.model.enableResize){var t,i=this,n=!1,s=parseInt(this.model.minWidth),r=parseInt(this.model.minHeight),o=parseInt(this.model.maxWidth),a=parseInt(this.model.maxHeight);return t=this._getParentObj(),isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(s=this._convertPercentageToPixel(t.outerWidth(),s)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(r=this._convertPercentageToPixel(t.outerHeight(),r)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(o=this._convertPercentageToPixel(t.innerWidth(),o)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(a=this._convertPercentageToPixel(t.innerHeight(),a)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:r,minWidth:s,maxHeight:a,maxWidth:o,handle:"e-widget-content",resizeStart:function(e){if(i.dlgresized=!0,!i.model.enabled)return!1;n||i._trigger("resizeStart",{event:e}),n=!0,i.model.position={X:i._ejDialog.css("left"),Y:i._ejDialog.css("top")},i._dialogPosition()},resize:function(t){i.dlgresized=!0;var n=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(n).outerHeight(),i.model.width=e(n).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),i._updateCaptionWidth(),i._trigger("resize",{event:t}),i._sizeType={width:"px",height:"px"},this.scrObj&&this.scrObj._resetScroller()},resizeStop:function(t){i.dlgresized=!0,i._ejDialog.focus(),i._sizeInPercent();var s=e(t.element).parents("div.e-dialog-wrap");i.model.height=e(s).outerHeight(),i.model.width=e(s).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),n&&i._trigger("resizeStop",{event:t}),n=!1,i._setDimension()},helper:function(){return e(i._ejDialog)}}),this}},_dialogPosition:function(){if(this._ejDialog.parents("form").length>0&&t.isNullOrUndefined(this.model.containment)&&t.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y)if(this._ejDialog.css("position","absolute"),t.isNullOrUndefined(this.model.target)&&t.isNullOrUndefined(this.model.containment))this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y);else{var i=t.isNullOrUndefined(this.model.containment)?this.model.target:this.model.containment;this.dlgresized||this._keyNavigation?(this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):(this._ejDialog.css("left",e(i).offset().left+parseInt(this.model.position.X)),this._ejDialog.css("top",e(i).offset().top+parseInt(this.model.position.Y)))}else this._centerPosition();return this},_centerPosition:function(){var i,n,s,r,o=0,a=0;t.isNullOrUndefined(this.model.target)&&(t.isNullOrUndefined(this._target)||e(this._target).is(e(document))||e(this._target).is(e(window)))?(r=document.documentElement,o=(e(window).outerWidth()>this._ejDialog.width()?(e(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||r.scrollLeft),a=(e(window).outerHeight()>this._ejDialog.height()?(e(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||r.scrollTop)):("static"==(i=t.isNullOrUndefined(this._target)?e(this.model.target):e(this._target)).css("position")&&(n=i.offsetParent().offset(),o=(s=i.offset()).left-n.left,a=s.top-n.top),i.outerWidth()>this._ejDialog.width()&&(o+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(a+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:a,left:o}),this._ejDialog.css("position","absolute")},_closeClick:function(e){"touchstart"==e.type&&e.preventDefault(),this.model.enabled&&(e.stopPropagation(),this.close(e))},_collapsibleClick:function(t){this.model.enabled&&(e(t.target).hasClass("e-arrowhead-up")?this._actionCollapse(t):e(t.target).hasClass("e-arrowhead-down")&&this._actionExpand(t))},_actionCollapse:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!e}),this._collapsible=!0)},_actionExpand:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!e}),this._collapsible=!1)},_maximizeClick:function(i){if(this.model.enabled){var n=e(i.target),s=this._dialogMaximize;n.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.minimize)),n.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):n.hasClass("e-restore")&&(this._actionRestore(),n.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!t.isNullOrUndefined(s)&&e(s).hasClass("e-arrowhead-down")&&(e(s).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var i=this;this._dialogCollapsible&&!t.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",function(){i.refresh(),i._reRenderScroller()}),this._resetScroller(),e(this.contentDiv).is(":hidden")&&this.contentDiv.show()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(i){if(this.model.enabled){var n=e(i.target),s=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize;n.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):n.hasClass("e-restore")&&(this._actionRestore(),n.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!t.isNullOrUndefined(s)&&e(s).hasClass("e-arrowhead-down")&&(e(s).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}},_actionMinimize:function(){var t;e(window).height(),this._ejDialog.height(),this.element.height();this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?t=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),t=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",t+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(i){var n=this._dialogCollapsible?this._dialogCollapsible:null;i?(t.isNullOrUndefined(n)||e(n).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(t.isNullOrUndefined(n)||e(n).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(t){if(this.model.enabled){var i=e(t.target);i.hasClass("e-unpin")?(this.dialogPin=!0,i.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):i.hasClass("e-pin")&&(this.dialogPin=!1,i.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin))}},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse)))},_clickHandler:function(){var e=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<e&&this._ejDialog.css({zIndex:e+1})},_mouseClick:function(t){t.currentTarget==this._id&&(e(t.target).hasClass("e-dialog")||e(t.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),e(t.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(t){var i;i=t.keyCode?t.keyCode:t.which?t.which:t.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&e(t.target).hasClass("e-dialog")&&e.inArray(i,this.keyConfigs)>-1&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(i,t.ctrlKey),t.preventDefault()),this.model.closeOnEscape&&27===i&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(t),t.preventDefault())),13===i&&this.model.enabled&&(e(t.target).hasClass("e-close")?this.close(t):(e(t.target).hasClass("e-arrowhead-up")||e(t.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(t),e(t.target).hasClass("e-maximize")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMaximize)?this._maximizeClick(t):(e(t.target).hasClass("e-minus")||e(t.target).hasClass("e-restore")&&e(t.target).is(this._dialogMinimize))&&this._minimizeClick(t),(e(t.target).hasClass("e-pin")||e(t.target).hasClass("e-unpin"))&&this._pinClick(t)),9==i&&this.model.enableModal&&this._focusOnTab(t)},_focusOnTab:function(t){var i=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')");i=e(i).find("a, button, :input, select, [tabindex]:not('')"),t.shiftKey?i[i.index(t.target)-1]||(t.preventDefault(),i.last().focus()):i[i.index(t.target)+1]||(t.preventDefault(),i[0].focus())},_keyPressed:function(e,t){switch(this._keyNavigation=!0,e){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:this._ejDialog.position().top>3?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:this._ejDialog.position().left>3?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(e,t){this.model.enableResize&&this.option(e,t)},_sizeInPercent:function(){if(!this._enableWindowResize())return this;var e=this._getParentObj();return this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(e.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(e.outerHeight(),this._ejDialog.outerHeight()),this._widthPercent>=100&&(this._widthPercent=100,this._ejDialog.outerWidth(e.outerWidth()),this.model.width=this._ejDialog.width()),this._heightPercent>=100&&(this._heightPercent=100,this._ejDialog.outerHeight(e.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return t.isNullOrUndefined(this.model.containment)?t.isNullOrUndefined(this.model.target)?e(document):e(this.model.target):e(this.model.containment)},_convertPercentageToPixel:function(e,t){return Math.round(t*e/100)},_convertPixelToPercentage:function(e,t){return Math.round(t/e*100)},_reSizeHandler:function(){var t;this._maximize?this._resetScroller():(""!=this.model.position.X&&(""!=this.model.position.Y||this._minimize)||this._centerPosition(),t=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=e(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(t):this._pixelsWidthDimension(t):this._windowSize.outerHeight!=e(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(t):this._pixelsHeightDimension(t)),this._change&&this._resizeContainer(t),this._windowSize={outerWidth:e(window).outerWidth(),outerHeight:e(window).outerHeight()},this._centerPosition())},_setDimension:function(){t.isNullOrUndefined(this.model.maxWidth)?t.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:("px"==this._sizeType.width||"auto"==this._sizeType.width)&&(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,t.isNullOrUndefined(this.model.maxHeight)?t.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:("px"==this._sizeType.height||"auto"==this._sizeType.height)&&(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(e){this._ejDialog.outerWidth(this._convertPercentageToPixel(e.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(e){this._ejDialog.outerHeight(this._convertPercentageToPixel(e.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(t){e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<e(t).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(t.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(t){e(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),e(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<e(t).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(t.outerHeight()),this._change=!0)},_setWidth:function(e){this._ejDialog.outerWidth(e.outerWidth()),this._change=!0},_setHeight:function(e){this._ejDialog.outerHeight(e.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width());var i=this._ejDialog.height()-(this.model.showHeader?e(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0);this.contentDiv.height(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.element.outerHeight(t.isNullOrUndefined(this.contentDiv)?i-1:"0px"==this.contentDiv.css("border-width")),this.scroller=this.contentDiv.ejScroller({width:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this._ejDialog.width():this._ejDialog.width()-2),height:!t.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this.element.outerHeight():this.element.outerHeight()-2),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),""==this.model.position.X||""==this.model.position.Y&&!this._minimize||this._positionChanged?this._centerPosition():this._ejDialog.css("height",this._dialogTitlebar.outerHeight()),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&"auto"!=this.model.height)},_wireResizing:function(){e(window)[this._enableWindowResize()?"on":"off"]("resize",e.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var i,n,s,r,o;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),i=this,n={},this._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),"slide"==this.model.animation.show.effect?(r=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),n={left:r,opacity:1}):n={opacity:1}),this._ejDialog.animate(n,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){i.model&&("none"==i._ejDialog.css("display")&&i._ejDialog.show(),i._ejDialog.eq(0).focus(),i._ejDialog.css({opacity:""}),i.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),i._trigger("open"),i._updateCaptionWidth(),i.model.enableModal&&!i.model.backgroundScroll&&(i._ejDialog.height()>e(window).height()&&i._ejDialog.css("height",e(window).height()),i.model.height=e(window).height(),i._overLay.css("position","fixed"),i.scroller.refresh(!0),i.refresh()),(i.model.maxHeight||i.model.maxWidth)&&(s=i._ejDialog.outerHeight(!0)-(i._dialogTitlebar?i._dialogTitlebar.outerHeight(!0):0),("auto"==i.model.height||"100%"==i.model.height)&&(s=i.model.height),i._updateScroller(t.isNullOrUndefined(this.contentDiv)?s-2:"0px"==this.contentDiv.css("border-width"),t.isNullOrUndefined(this.contentDiv)?i._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width")),i.scroller.refresh()))}),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&((o=e("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&o.option("cursorAt",this.element.offset())),this)},close:function(t){var i,n,s;return!this._isOpen||!this.model.enabled||(i=!!t,1!=this._trigger("beforeClose",{event:t,isInteraction:i})&&(this._isOpen=!1,n=this,s={},this.model.enableAnimation&&(s="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(s,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){n._trigger("close",{event:t,isInteraction:i}),n._ejDialog.hide()}),this.model.enableModal&&(this._overLay&&this._overLay.remove(),this.model.backgroundScroll||e("body").removeClass("e-dialog-modal")),this))},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(e){return this.model.title=e,this._titleText.text(e),this._updateCaptionWidth(),this},setContent:function(e){return!!this.model.enabled&&(this.element.html(e),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),e(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),e(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),e(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){if(this.model.showHeader){var t=this._minimize;return this._actionRestore(),e(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(t?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this}},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,e(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,e(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),t.Dialog.Locale=t.Dialog.Locale||{},t.Dialog.Locale.default=t.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},title:"",closeIconTooltip:"close"}}(jQuery,Syncfusion),
/*!
*  filename: ej.button.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e),"disabled"==t&&"disabled"==e&&i.disable()})},_destroy:function(){this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(e){for(var t in e)switch(t){case"size":this._setSize(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"contentType":this._setContentType(e[t]);break;case"imagePosition":this._setImagePosition(e[t]);break;case"text":this._setText(e[t]);break;case"prefixIcon":this._setMajorIcon(e[t]);break;case"suffixIcon":this._setMinorIcon(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"timeInterval":this.model.timeInterval=e[t];break;case"htmlAttributes":this._addAttr(e[t])}},_setSize:function(e){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+e)},_setType:function(e){this.element.prop({type:e})},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(e){this.element.css("width",e)},_setText:function(e){"inputButton"==this.buttonType?this.element.val(e):this.model.contentType==t.ContentType.TextOnly?this.element.html(e):this.textspan.html(e),this.model.text=e},_setMajorIcon:function(e){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(e),this.model.prefixIcon=e},_setMinorIcon:function(e){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(e),this.model.suffixIcon=e},_setContentType:function(e){e!=this.model.contentType&&(this.element.empty(),this.model.contentType=e,this._renderButtonNormal())},_setImagePosition:function(e){this.model.contentType==t.ContentType.TextAndImage&&e!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=e,this._renderButtonNormal())},_setRTL:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(e){e?this.enable():this.disable()},_setSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass),this.element.addClass(e))},_initialize:function(){t.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.model.text&&this.element.attr("aria-describedby",this.model.text)},_renderButtonNormal:function(){if((null==this.model.text||""==this.model.text)&&(this.model.text=this.element.html()),this.element.empty(),this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.model.contentType.indexOf("image")>-1&&(this.majorimgtag=t.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=t.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=t.buildTag("div")),this.model.contentType==t.ContentType.TextAndImage){switch(this.model.imagePosition){case t.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case t.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==t.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(e){1==e?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(t){t&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(e(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(e(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(e){var t,i=this;if(!i.model.enabled)return!1;i.element.hasClass("e-disable")||(t={target:e.currentTarget,e:e,status:i.model.enabled},i._trigger("click",t))},_btnRepatMouseClickEvent:function(e){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(t.model.enabled,(0==e.button||1==e.which)&&(t._timeout=setInterval(function(){t._trigger("click",{target:e.currentTarget,status:t.model.enabled})},this.model.timeInterval)))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(e){var t,i=this;i.element.hasClass("e-disable")||(t={status:i.model.enabled},(32==e.keyCode||13==e.keyCode)&&i._trigger("click",t))},_btnRepatKeyUpEvent:function(e){(32==e.keyCode||13==e.keyCode)&&clearTimeout(this._timeout)}}),t.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},t.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},t.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},t.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}),
/*!
*  filename: ej.autocomplete.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.scroller.min"],e):e()}(function(){!function(e,t,i){t.widget("ejAutocomplete","ej.Autocomplete",{element:null,model:null,validTags:["input"],_ignoreOnPersist:["fields","dataSource","query","focusIn","focusOut","change","select","create","destroy","open","close","actionComplete","actionSuccess","actionFailure"],_setFirst:!1,_rootCSS:"e-autocomplete",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{dataSource:null,query:null,fields:{text:null,key:null,category:null,groupBy:null,htmlAttributes:null},locale:"en-US",template:null,allowGrouping:!1,enableDistinct:!1,allowSorting:!0,sortOrder:"ascending",htmlAttributes:{},multiSelectMode:"none",delimiterChar:",",allowAddNew:!1,addNewText:"Add New",showRoundedCorner:!1,readOnly:!1,cssClass:"",watermarkText:null,value:"",selectValueByKey:null,filterType:"startswith",caseSensitiveSearch:!1,showLoadingIcon:!0,showResetIcon:!1,itemsCount:0,minCharacter:1,delaySuggestionTimeout:200,showPopupButton:!1,highlightSearch:!1,enableAutoFill:!1,enableRTL:!1,enabled:!0,visible:!0,height:"",width:"",emptyResultText:"No suggestions",animateType:"slide",showEmptyResultText:!0,enablePersistence:!1,popupHeight:"152px",popupWidth:"auto",autoFocus:!1,multiColumnSettings:{enable:!1,showHeader:!0,stringFormat:"{0}",columns:[{field:null,headerText:null,textAlign:"left",headerTextAlign:"left",cssClass:"",type:"string",filterType:"startswith"}]},validationRules:null,validationMessage:null,focusIn:null,focusOut:null,change:null,select:null,create:null,open:null,close:null,destroy:null,actionBegin:null,actionComplete:null,actionSuccess:null,actionFailure:null},dataTypes:{autoFocus:"boolean",watermarkText:"string",locale:"string",cssClass:"string",filterType:"enum",caseSensitiveSearch:"boolean",showLoadingIcon:"boolean",template:"string",allowGrouping:"boolean",enableDistinct:"boolean",allowSorting:"boolean",sortOrder:"enum",allowAddNew:"boolean",addNewText:"string",showRoundedCorner:"boolean",showResetIcon:"boolean",readOnly:"boolean",itemsCount:"number",animateType:"enum",minCharacter:"number",showPopupButton:"boolean",highlightSearch:"boolean",enableAutoFill:"boolean",enableRTL:"boolean",multiSelectMode:"enum",delimiterChar:"string",emptyResultText:"string",showEmptyResultText:"boolean",enabled:"boolean",visible:"boolean",enablePersistence:"boolean",dataSource:"data",query:"data",fields:"data",validationRules:"data",validationMessage:"data",htmlAttributes:"data",multiColumnSettings:"data"},observables:["value","selectValueByKey"],value:t.util.valueFunction("value"),_selectValueByKey:t.util.valueFunction("selectValueByKey"),enable:function(){this.model.enabled||(this.model.enabled=!0,this.target.disabled=!1,this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.removeAttr("disabled"),this.model.showPopupButton&&this.dropdownbutton.removeClass("e-disable").attr({"aria-disabled":!1}),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable").attr({"aria-disabled":!1}))},disable:function(){this.model.enabled&&(this._hideResult(),this.model.enabled=!1,this.target.disabled=!0,this.element.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.model.showPopupButton&&this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),"visualmode"==this.model.multiSelectMode&&this._ulBox&&this._ulBox.addClass("e-disable").attr({"aria-disabled":!0}))},clearText:function(){"visualmode"==this.model.multiSelectMode&&this._deleteBox(this._ulBox.children("li")),this.element.val(""),this._valueChange(),this._isFocused?this.element.blur():this._focusOutAction(),this._hideResult()},getValue:function(){var e=this.value();return null==e?"":e},getSelectedItems:function(){return this._isFocused&&"visualmode"!=this.model.multiSelectMode&&this._updateSelectedItemArray(this.getValue()),this._selectedItems},_setValue:function(i){var n,s,r;if(this._isWatermark||this._hiddenSpan.css("display","none"),("object"==typeof i||"number"==typeof i&&isNaN(i)||""==e.trim(i))&&(i=""),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(""),this.element.val(""),i)if("visualmode"==this.model.multiSelectMode)if(this._selectedItems=[],this._modelValue=i,this._deleteBox(this._ulBox.children("li")),n=i.split(this.model.delimiterChar),this.element.width(1).val("").removeAttr("placeholder"),this._hiddenInput||(this._hiddenInput=t.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden",name:this.element.attr("name")}).insertBefore(this.element)),t.DataManager&&this.model.dataSource instanceof t.DataManager)this._createBoxForObjectType(n);else if(this.suggestionListItems=this.model.dataSource,this.suggestionListItems&&"object"!=typeof this.suggestionListItems[0])for(this._hiddenInput.val(i),s=0,r=n.length;s<r;s++)n[s]&&(this._ulBox.append(this._createBox(n[s])),this._selectedItems.push(n[s]));else this._createBoxForObjectType(n);else this.element.val(i),this._updateSelectedItemArray(i);return"visualmode"!=this.model.multiSelectMode&&this.value(this.element.val()),this._preVal=this.element.val(),this._isWatermark||this._setWatermarkTxt(),i},_createBoxForObjectType:function(i){for(var n,s=this,r=this._declareVariable(),o=0,a=i.length;o<a;o++)""!=(n=e.trim(i[o]))&&(t.DataManager&&this.model.dataSource instanceof t.DataManager?(this._dataQuery=this._getQuery().where(r[0],"equal",n,!1),this._promise=this.model.dataSource.executeQuery(this._dataQuery),this._promise.done(function(e){var i=e.result;s._strData=i instanceof Array&&i.length?i[0]:n,t.isNullOrUndefined(s._strData[r[1]])||s._selectKeyInit(),s._selectedItems.push(s._strData)}).fail(function(){s._selectedItems.push(n)})):(this._dataQuery=t.Query().where(r[0],"equal",n,!1),this._promise=t.DataManager(this.suggestionListItems).executeLocal(this._dataQuery),this._strData=this._promise instanceof Array&&this._promise.length?this._promise[0]:n,t.isNullOrUndefined(this._strData[r[1]])||this._selectKeyInit(),this._selectedItems.push(this._strData)),"visualmode"==this.model.multiSelectMode&&this._ulBox.append(this._createBox(n)))},_selectKeyInit:function(){var e,i=this._declareVariable();delimiterChar=this._delimiterChar(),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(this._hiddenInput.val()+(t.isNullOrUndefined(this._strData[i[1]]||this._strData[i[0]])?"":(this._strData[i[1]]||this._strData[i[0]])+this.model.delimiterChar)),t.isNullOrUndefined(this._strData[i[1]])||("none"!=this.model.multiSelectMode?(e=(e=null!=this._selectValueByKey()?this._selectValueByKey()+this._strData[i[1]]+delimiterChar:this._strData[i[1]]+delimiterChar).split(delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),this._selectValueByKey(e.join(delimiterChar))):this._selectValueByKey(this._strData[i[1]]))},_declareVariable:function(){var e=this.model.fields,i={_key:null,_text:null,_attr:null},n=[];if(!t.isNullOrUndefined(e))return i._text=e&&e.text?e.text:"text",i._key=e&&e.key?e.key:"key",n.push(i._text,i._key),n},selectValueByKey:function(t){var i,n=this;t=t.toString(),i="none"!=this.model.multiSelectMode?t.split(this.model.delimiterChar):t.split(","),"[object Array]"===Object.prototype.toString.call(i)&&e.each(i,function(t,i){n._setOperation(e.trim(i),"key")})},selectValueByText:function(e){this._setOperation(e,"text")},setValue:function(e){this._setText(e)},_setOperation:function(e,i){var n,s,r,o="",a=this,l=this.model.dataSource;if(t.isNullOrUndefined(l))return!1;if("object"==typeof l[0]||l instanceof t.DataManager)o=(r=this.model.fields)&&r[i]?r[i]:i;else if("key"==i)return!1;if(t.DataManager&&l instanceof t.DataManager)s=this._getQuery().where(o,"equal",e,!this.model.caseSensitiveSearch),(n=l.executeQuery(s)).done(function(e){a._setText(e.result[0])});else{if(!l||!l.length||l.length<1)return!1;s=t.Query().where(o,"equal",e,!this.model.caseSensitiveSearch),n=t.DataManager(l).executeLocal(s),this._setText(n[0])}},_setText:function(e){var t,i,n;if(!e)return!1;if(i=this.model.fields,t="object"==typeof this.model.dataSource[0]||"object"==typeof e?"string"==typeof e?e:i&&i.text?e[i.text]:e.text:e){if("visualmode"==this.model.multiSelectMode&&this._removeDuplicates(e))return!1;this._valueToTextBox(t,e,!0),n="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val(),this.value(n),this.model.showResetIcon&&this._showReset()}},_textFormateString:function(e){var i,n,s=this.model.multiColumnSettings.stringFormat;if(this._columnsIndex(),t.isNullOrUndefined(e)||"object"!=typeof e)s=t.isNullOrUndefined(e)||"object"==typeof e?this._currList[this._activeItem-1]:s.replace("{"+this._columnIndex[0]+"}",e);else for(i=0,n=this._columnIndex.length;i<n;i++)s=s.replace("{"+this._columnIndex[i]+"}",e[this.model.multiColumnSettings.columns[parseInt(this._columnIndex[i])].field]);return s},_columnsIndex:function(){var t=this;this._columnIndex=[],e.each(this.model.multiColumnSettings.stringFormat.match(/\{.+?\}/g),function(e,i){t._columnIndex[e]=i.slice(1,-1)})},_valueToTextBox:function(e,i,n){var s,r,o;!this._addNewTemplate&&this.model.multiColumnSettings.enable&&"string"!=typeof i&&(e=this._textFormateString(i)),"visualmode"==this.model.multiSelectMode?(i="string"==typeof i&&this._addNewTemplate&&i.substr(i.length-this._addNewTemplate.length)==this._addNewTemplate?i.replace(this._addNewTemplate,""):i,s=e.indexOf(this._addNewTemplate),this._addNewTemplate&&(e=e.substr(0,e.length-this._addNewTemplate.length)),o=this.model.delimiterChar,r=(r=this._getUniqueKey())||(this.model.fields&&this.model.fields.key?i[this.model.fields.key]:t.isNullOrUndefined(i.key)?r:i.key),(!(this._selectValueByKey()==r||null==r)||s>-1)&&this._selectValueByKey(null!=this._selectValueByKey()?this._selectValueByKey()+(s>-1?e:r)+o:(s>-1?e:r)+o),(!(this._hiddenInput.val()==r||null==r)||s>-1)&&this._hiddenInput.val(this._hiddenInput.val()+(r||e)+o),this._modelValue=t.isNullOrUndefined(this.value())?e+o:this.value()+e+o,this.element.val("").removeAttr("placeholder").width(1),this._ulBox.append(this._createBox(e)),this._addNewTemplate=null):"delimiter"==this.model.multiSelectMode?(o=this.target.value.lastIndexOf(this.model.delimiterChar),this._typed||""==this.element.val()||n||!this.model.showPopupButton?n?this.element.val(""==this.element.val()?e+this.model.delimiterChar:this.element.val()+e+this.model.delimiterChar):-1==o?this.element.val(this._queryString.substr(0,o+1)+e+this.model.delimiterChar):this.element.val(this._queryString.substr(0,o+this.model.delimiterChar.length)+e+this.model.delimiterChar):!this.model.enableAutoFill||this.showSuggestionBox?this._checkDeli()?this.element.val(this._queryString.substr(0,o)+this.model.delimiterChar+e+this.model.delimiterChar):this.element.val(this.element.val()+this.model.delimiterChar):this._checkDeli()||this.element.val(this.element.val()+this.model.delimiterChar),this._typed=!1):(this.element.val(e),this._selectedItems=[]),this._selectedItems.push(i),this._originalval.push(e),this._moveCaretToEnd(this.element[0])},_removeDuplicates:function(e){return 0!=this._selectedItems.length&&(-1!=this._selectedItems.indexOf(e)||void 0)},search:function(){this.model.enabled&&this._checkDelimiter()&&(this._hideResult(),this._autoFill=!1,this._queryString=e.trim(this._queryString),this._queryString.length>0&&this._OnTextEnter())},setVisible:function(e){e?this.wrapper.show():this.wrapper.hide()},hide:function(){this._hideResult()},open:function(){this._showFullList()},_changeWatermark:function(e){this._isWatermark?this.element.attr("placeholder",e):this._hiddenSpan.text(e)},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.suggestionList.removeClass(this.model.cssClass).addClass(e)},_setDropdown:function(e){this.model.showPopupButton=e,e?this._renderDropdown():this._destroyDropdown()},_changeHeight:function(e){this.wrapper.height(e)},_changeWidth:function(e){this.wrapper.width(e),this._setListWidth()},_setCulture:function(){this._localizedLabels=this._getLocalizedLabels(),t.isNullOrUndefined(this._options)||(t.isNullOrUndefined(this._options.addNewText)||(this._localizedLabels.addNewText=this._options.addNewText),t.isNullOrUndefined(this._options.emptyResultText)||(this._localizedLabels.emptyResultText=this._options.emptyResultText)),this.model.addNewText=this._localizedLabels.addNewText,this.model.emptyResultText=this._localizedLabels.emptyResultText},_init:function(e){if(this._options=e,this._setCulture(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this.model.fields.groupBy=this.model.fields.groupBy?this.model.fields.groupBy:this.model.fields.category,this._initialize(),this._render(),this._wireEvents(),this.initialRender=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation())},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var i,n,s,r,o;if(this.model.validationRules)for(s in(i="visualmode"==this.model.multiSelectMode?this._hiddenInput:this.element).rules("add",this.model.validationRules),n=(n=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=i.attr("name"),n.settings.messages[name]={},this.model.validationRules)if(r=null,!t.isNullOrUndefined(this.model.validationRules[s])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[s]))for(o in n.settings.messages[name][s]=e.validator.messages[s],this.model.validationMessage)s==o&&(r=this.model.validationMessage[s]);else r=this.model.validationRules.messages[s];n.settings.messages[name][s]=null!=r?r:e.validator.messages[s]}},_removeDuplicateValue:function(e){return e.split(this.model.delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]).join(this.model.delimiterChar)},_delimiterChar:function(){return"none"!=this.model.multiSelectMode?this.model.delimiterChar:""},_setModel:function(e){var i,n,s,r,o,a,l;for(i in e){switch(i){case"dataSource":this.model.dataSource=null;break;case"watermarkText":this._changeWatermark(e[i]);break;case"delaySuggestionTimeout":this.model.delaySuggestionTimeout=parseInt(e[i]);break;case"value":deli=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(l=e[i].substr(e[i].length-deli.length)==deli?e[i]:e[i]+deli,e[i]=""==e[i]?this.value():(this.value()?this.value():"")+l,"visualmode"==this.model.multiSelectMode&&(e[i]=e[i].split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),e[i]=e[i].join(deli))),this.value(this._setValue(e[i])),this._modelValue=this.value(),n="visualmode"==this.model.multiSelectMode?this._hiddenInput.val():this.element.val(),this._changeEvtTrigger(n),this.model.showResetIcon&&this._showReset();break;case"showPopupButton":this._setDropdown(e[i]);break;case"enableRTL":this._RightToLeft(e[i]);break;case"showRoundedCorner":this._setRoundedCorner(e[i]);break;case"readOnly":this._checkReadOnly(e[i]);break;case"delimiterChar":s=this.model.delimiterChar,e[i]=this._validateDelimiter(e[i]),this.model.delimiterChar=e[i],this.element.val(this.value().replace(new RegExp(s,"g"),this.model.delimiterChar)),this.value(this.element.val());break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[i],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[i],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"locale":t.Autocomplete.Locale[e[i]]?(this.model.locale=e[i],this._setCulture()):e[i]=this.model.locale;break;case"filterType":for(a in r=[],t.filterType)t.filterType.hasOwnProperty(a)&&r.push(t.filterType[a]);r.indexOf(e[i])>-1?this.model.filterType=e[i]:e[i]=this.model.filterType;break;case"multiSelectMode":this.model.multiSelectMode=e[i],o=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(a=this._selectValueByKey(),(l=this.value())&&(l=l.substr(l.length-o.length)==o?l:l+o,this.value(l),"visualmode"==this.model.multiSelectMode&&this.value(this._removeDuplicateValue(this.value()))),a&&(this._selectValueByKey(a.substr(a.length-o.length)==o?a:a+o),"visualmode"==this.model.multiSelectMode&&this._selectValueByKey(this._removeDuplicateValue(this._selectValueByKey())))),"visualmode"==e[i]?(null!=this.model.validationRules&&this.element.rules("remove"),""!=this.element.val()&&this._isWatermark&&this.element.removeAttr("placeholder"),this._renderBoxModel()):this.element.hasClass("e-visual-mode")&&this._destroyBoxModel(),this._setValue(this.value()),this._setValidation(),t.isNullOrUndefined(this.element.attr("placeholder"))&&this._isWatermark&&this._setWatermark();break;case"enabled":this._disabled(!e[i]);break;case"visible":this.setVisible(e[i]);break;case"height":this._changeHeight(e[i]);break;case"width":this._changeWidth(e[i]);break;case"cssClass":this._changeSkin(e[i]);break;case"itemsCount ":(e[i]<=0||isNaN(e[i]))&&(e[i]=0);break;case"popupHeight":this.suggestionList.css({"max-height":isNaN(e[i])?e[i]:e[i]+"px"});break;case"popupWidth":this.model.popupWidth=e[i],this._setListWidth();break;case"selectValueByKey":deli=this._delimiterChar(),a=t.util.getVal(e[i]),this.selectValueByKey(a),keyValue="none"!=this.model.multiSelectMode?this._selectValueByKey()+e[i]:e[i],keyValue=keyValue.split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),keyValue=keyValue.join(deli),e[i]=keyValue.substr(keyValue.length-deli.length)==deli?keyValue:keyValue+deli;break;case"htmlAttributes":this._addAttr(e[i]);break;case"emptyResultText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.emptyResultText=this.model.emptyResultText=e[i],this._setCulture();break;case"addNewText":t.isNullOrUndefined(this._options)&&(this._options={}),this._options.addNewText=this.model.emptyResultText=e[i],this._setCulture();break;case"multiColumnSettings":t.isNullOrUndefined(e[i].enable)||(this.model.multiColumnSettings.enable=e[i].enable),t.isNullOrUndefined(e[i].showHeader)||(this.model.multiColumnSettings.showHeader=e[i].showHeader),t.isNullOrUndefined(e[i].stringFormat)||(this.model.multiColumnSettings.stringFormat=e[i].stringFormat),t.isNullOrUndefined(e[i].columns)||(this.model.multiColumnSettings.columns=e[i].columns),this.suggestionList.remove(),this._renderSuggestionList();break;case"showResetIcon":this.model.showResetIcon=e[i],e[i]?this._showReset():this._removeReset()}this._hideResult()}},_destroy:function(){this.element.width("").removeAttr("role aria-label aria-expanded aria-haspopup aria-autocomplete autocomplete placeholder aria-owns aria-disabled disabled"),this.element.insertAfter(this.wrapper),"visualmode"==this.model.multiSelectMode&&this.element.removeClass("e-visual-mode").attr("name",this._hiddenInput.attr("name")),this.model.enabled||this.element.removeClass("e-disable"),this.wrapper.remove(),this.element.removeClass("e-input").val(""),this._isWatermark&&this.element.removeAttr("placeholder"),this._hideResult(),this.suggestionList.remove()},_initialize:function(){this.value(""===this.value()?this.element[0].value:this.value()),this.element.attr("role","combobox").attr("aria-label","Autocomplete textbox").attr("aria-expanded",!1).attr("tabindex",0).attr("aria-autocomplete","list"),/Edge\/12./i.test(navigator.userAgent)&&this.element.addClass("edge-browser"),this.target=this.element[0],this.dropdownbutton=null,this._isIE8="msie"==t.browserInfo().name&&"8.0"==t.browserInfo().version,this.showSuggestionBox=!1,this.noresult=!0,this._queryString=null,this.suggLen=0,this._selectedItems=[],this._modelValue="",this._activeItem=0,this._originalval=[],this.ctrlKeyPressed=!1,this._isFocused=!1,this._isOpened=!1,this._typed=!1,this._cancelEvent=!1,this._isWatermark=this._checkWatermarkSupport(),this._selectedObj=[]},_render:function(){this._renderWrapper(),this._addAttr(this.model.htmlAttributes),this._setDimentions(),this._renderDropdown(),this._checkProperties(),this._isWatermark?this._setWatermark():this._setWatermarkTxt(),this._renderSuggestionList(),this._RightToLeft(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this.setVisible(this.model.visible),this._setListPosition()},_renderWrapper:function(){var e,i;this.element.addClass("e-input").attr("autocomplete","off"),this.wrapper=t.buildTag("span.e-atc e-widget "+this.model.cssClass+"#"+this.target.id+"_wrapper").insertAfter(this.element),document.activeElement==this.element[0]&&(e=!0),this.container=t.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),this._isWatermark||(this._hiddenSpan=t.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this.model.watermarkText),this._hiddenSpan.css("display","none"),i=this,this._hiddenSpan.click(function(){this._isFocused||i.element.focus()})),e&&this.element.focus()},_renderDropdown:function(){if(this.model.showPopupButton){var i=t.buildTag("span.e-icon e-search").attr(this._isIE8?{unselectable:"on"}:{});this.dropdownbutton=t.buildTag("span.e-select#"+this.target.id+"_dropdown").attr(this._isIE8?{unselectable:"on"}:{}).append(i),this.container.append(this.dropdownbutton).addClass("e-padding"),this.model.enabled||this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),this.dropdownbutton.on("mousedown",e.proxy(this._OnDropdownClick,this))}},_addAttr:function(t){var i=this;e.map(t,function(e,t){"required"==t&&i.element.attr(t,e),"class"==t?i.wrapper.addClass(e):"name"==t?i.element.attr(t,e):"disabled"==t&&"disabled"==e?i._disabled(!0):"readOnly"==t&&!0===e?i._checkReadOnly(!0):i.wrapper.attr(t,e)})},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_renderBoxModel:function(){this._ulBox=t.buildTag("ul.e-ul e-boxes");var i=this.model.enabled?"":"e-disable";this._ulBox.addClass(i),this._hiddenInput=t.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden"}).insertBefore(this.element),this._hiddenInput.attr("name",this.element.attr("name")),this.element.val("").removeAttr("name").addClass("e-visual-mode"),this._isWatermark||this.element.width(1),this.container.prepend(this._hiddenInput,this._ulBox),this.wrapper.height("auto"),this._on(this.container,"mousedown",function(t){if(!this.model.enabled)return!1;var i=e(t.target);i.is(this.element)||(t.preventDefault(),this._isFocused||this.element.focus(),i.hasClass("e-options")?(!t.ctrlKey&&i.siblings().hasClass("e-active")&&this._removeActive(),i.hasClass("e-active")?i.removeClass("e-active"):i.addClass("e-active")):this._moveCaretToEnd(this.element[0])),!t.ctrlKey&&(i.hasClass("e-boxes")||i.hasClass("e-input"))&&this._removeActive()})},_destroyBoxModel:function(){this.container.prepend(this.element),this.element.attr({name:this._hiddenInput.attr("name")}).removeAttr("style").removeClass("e-visual-mode"),this.wrapper.height(this.model.height),this._hiddenInput.remove(),this._hiddenInput=null,this._ulBox.remove(),this._off(this.container,"mousedown")},_deleteLastBox:function(){var e=this._ulBox.children().last(),t=e.hasClass("e-active");this._removeActive(),t?this._deleteBox(e):e.addClass("e-active")},_deleteBox:function(t){for(var i,n,s,r,o=0,a=t.length;o<a;o++)i=this._ulBox.children().index(t[o]),this._selectedItems.splice(i,1),n=this.model.delimiterChar,(s=this._hiddenInput.val().split(n)).splice(i,1),this._hiddenInput.val(s.join(n)),this._selectValueByKey(s.join(n)),(r=this._modelValue.split(n)).splice(i,1),this._modelValue=r.join(n),e(t[o]).remove();this.showSuggestionBox&&this._refreshPopup(),this._valueChange(),""==this._hiddenInput.val()&&this._setWatermark()},_removeActive:function(){this._ulBox.children("li.e-active").removeClass("e-active")},_adjustWidth:function(){var e,i=t.buildTag("span",this.element.val());this.container.append(i),e=i.width()+30,this.element.width()!=e&&this.element.width(e),""==this._hiddenInput.val()&&this._setWatermark(),i.remove()},_checkProperties:function(){var i,n;this._checkReadOnly(this.model.readOnly),this.model.delimiterChar=this._validateDelimiter(this.model.delimiterChar),this.model.enabled?this.model.enabled&&e(this.element).hasClass("e-disable")&&(this.model.enabled=!1,this._disabled(!1)):(this.model.enabled=!0,this._disabled(!0)),this._checkNameAttr(),"visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),null!=this._selectValueByKey()&&""==this.value()?(i=this._selectValueByKey().toString(),"none"!=this.model.multiSelectMode&&(i=i.substr(i.length-this.model.delimiterChar.length)==this.model.delimiterChar?i:i+this.model.delimiterChar,"visualmode"==this.model.multiSelectMode?this._selectValueByKey(null):this._selectValueByKey(i)),this.selectValueByKey(i),this.model.showResetIcon&&this._showReset()):(n=this.value(),"none"!=this.model.multiSelectMode&&(t.isNullOrUndefined(n)||""!=n)&&(n=n.substr(n.length-this.model.delimiterChar.length)==this.model.delimiterChar?n:n+this.model.delimiterChar),this.value(this._setValue(n)),this.model.showResetIcon&&""!=this.value()&&this._showReset())},_checkNameAttr:function(){this.element.attr("name")||this.element.attr("name",this.element[0].id)},_disabled:function(e){e?this.disable():this.enable()},_destroyDropdown:function(){this.dropdownbutton.off("mousedown",e.proxy(this._OnDropdownClick,this)),this.dropdownbutton.remove(),this.dropdownbutton=null,this.container.removeClass("e-padding")},_validateDelimiter:function(t){return e.trim(t).length!=t.length&&null==t.length||/^[a-zA-Z0-9]+$/.test(t)?",":t},_checkWatermarkSupport:function(){return"placeholder"in document.createElement("input")},_setWatermark:function(){(this.model.watermarkText&&(""==this.value()||t.isNullOrUndefined(this.value()))||"visualmode"!=this.model.multiSelectMode)&&this.element.attr("placeholder",this.model.watermarkText).width("")},_setWatermarkTxt:function(){null!=this.model.watermarkText&&""==e.trim(this.element.val())&&("visualmode"!=this.model.multiSelectMode||""==e.trim(this._hiddenInput.val()))&&this._hiddenSpan.css("display","block").text(this.model.watermarkText)},_renderSuggestionList:function(){var i,n,s,r,o,a,l=e("#"+this.element[0].id+"_suggestion").get(0);if(l&&e(l).remove(),this.suggestionList=t.buildTag("div.e-atc-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_suggestion","",{display:"none"}).attr("role","listbox"),this.element.attr("aria-owns",this.target.id+"_suggestion"),this.popup=this.suggestionList,i=t.buildTag("div"),this.model.multiColumnSettings.enable){if(this._tableColumn=t.buildTag("table","",{},{role:"listbox","border-collapse":"separate",border:0,cellspacing:0,cellpadding:0,class:"e-atc-tableContent"}),this._listEventBind(this._tableColumn,"tr"),this._headerColGroup=document.createElement("colgroup"),this.model.multiColumnSettings.showHeader){for(this._tableHeaderDiv=t.buildTag("div",{},{},{class:"e-atc-tableHeader "+(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll")}),n=t.buildTag("div",{},{},{class:"e-atc-tableHeaderContent e-atc-tableHeaderBorder"}),s=document.createElement("tr"),this._tableHeader=t.buildTag("table","",{},{cellspacing:"0.25px"}),r=0,o=this.model.multiColumnSettings.columns.length;r<o;r++)e(s).append(t.buildTag("th",this.model.multiColumnSettings.columns[r].headerText?this.model.multiColumnSettings.columns[r].headerText:"column"+r,{"text-align":this.model.multiColumnSettings.columns[r].headerTextAlign?this.model.multiColumnSettings.columns[r].headerTextAlign:"left"},{class:r==this.model.multiColumnSettings.columns.length-1?"":this.model.enableRTL?"e-atc-thleft":"e-atc-thright"})),e(this._headerColGroup).append(document.createElement("col"));e(this._tableHeaderDiv).append(e(n).append(e(this._tableHeader).append(s).append(this._headerColGroup))),this.suggestionList.append(this._tableHeaderDiv)}else{for(r=0,o=this.model.multiColumnSettings.columns.length;r<o;r++)e(this._headerColGroup).append(document.createElement("col"));this._tableColumn.append(this._headerColGroup)}(a=t.buildTag("div")).append(this._tableColumn),i.append(a)}else this.ul=t.buildTag("ul.e-ul").attr("role","listbox"),this._listEventBind(this.ul,"li:not('.e-category')"),i.append(this.ul);this.suggestionList.append(i),e("body").append(this.suggestionList),this._setListWidth(),this._setListHeight(),this.model.multiColumnSettings.enable?(i.ejScroller({height:i.height(),width:0,scrollerSize:20}),this.scrollerObj=i.ejScroller("instance")):(this.suggestionList.ejScroller({height:this.suggestionList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.suggestionList.ejScroller("instance"))},_listEventBind:function(t,i){t.on({mouseenter:e.proxy(this._OnMouseEnter,this),mouseleave:e.proxy(this._OnMouseLeave,this),click:e.proxy(this._OnMouseClick,this)},i)},_checkEmptyList:function(){"visualmode"==this.model.multiSelectMode&&this._removeRepeated(),0==this.suggestionListItems.length?(this.suggestionListItems.push(this.model.emptyResultText),this.noresult=!0):this.noresult=!1},_showSuggestionList:function(e){this.suggestionListItems=this.model.enableDistinct?t.dataUtil.distinct(this.suggestionListItems,"object"!=typeof this.suggestionListItems[0]?"":this.model.fields&&this.model.fields.text?this.model.fields.text:"text",!0):this.suggestionListItems,this.model.itemsCount>0&&(this.suggestionListItems=t.DataManager(this.suggestionListItems).executeLocal(t.Query().take(this.model.itemsCount))),this._checkEmptyList(),this._addNewTemplate=null,this.noresult&&"visualmode"==this.model.multiSelectMode&&this.model.allowAddNew&&""!=this.element.val()&&!this._repeatRemove&&(this.noresult=!1,this.suggestionListItems.pop(),this._addNewTemplate="   ("+this.model.addNewText+")",this.suggestionListItems.push(this.element.val()+this._addNewTemplate),this._checkEmptyList()),(!this.noresult||this.model.showEmptyResultText)&&this._generateSuggestionList(e)},_generateSuggestionList:function(i){var n,s,r,o,a,l,h,d,c,u,p,m=this.suggestionListItems;if(this.model.multiColumnSettings.enable?this._tableColumn.empty()&&this.model.multiColumnSettings.showHeader&&this._tableHeaderDiv.css("display",""):this.ul.empty(),n=this,s=document.createDocumentFragment(),"object"!=typeof m[0]){if(n.model.multiColumnSettings.enable){var f=t.buildTag("tbody"),g=t.buildTag("tr").attr("role","option").attr(n._isIE8?{unselectable:"on"}:{}),v=t.buildTag("td",{},{},{role:"option"});for(o=0,a=m.length;a>o;o++){var _=n.model.highlightSearch&&!n.noresult?n._highlightSuggestion(m[o]):m[o],b=g.clone(),y=v.clone();e(y).attr(n._isIE8?{unselectable:"on"}:{}).attr(m[o]!=m.length-1?{class:"e-atc-tdbottom"}:{}).html(_),b[0].appendChild(y[0]),f[0].appendChild(b[0]),s.appendChild(f[0]),n.model.showEmptyResultText&&n.model.emptyResultText==_&&n.model.multiColumnSettings.showHeader&&n._tableHeaderDiv.css("display","none")&&e(y).removeClass("e-atc-tdbottom"),n._addNewTemplate&&!t.isNullOrUndefined(n._tableHeaderDiv)&&n._tableHeaderDiv.css("display","none")}n._tableColumn[0].appendChild(s)}else{for(r=t.buildTag("li",{},{},{role:"option"}).attr(n._isIE8?{unselectable:"on"}:{}),o=0,a=m.length;a>o;o++)_=n.model.highlightSearch&&!n.noresult?n._highlightSuggestion(m[o]):m[o],(l=r.clone())[0].innerHTML=_,s.appendChild(l[0]);n.ul[0].appendChild(s)}this._currList=m,this._mapper={txt:null,key:null}}else h=this.model.fields,(d={_key:null,_text:null,_attr:null})._key=h&&h.key?h.key:"key",d._text=h&&h.text?h.text:"text",d._attr=h&&h.htmlAttributes?h.htmlAttributes:"htmlAttributes",this._mapper={txt:d._text,key:d._key},this._currList=[],this.model.fields.groupBy?(c=h&&h.groupBy?h.groupBy:"groupBy",p=t.Query().group(c),this._addSortingQuery(p,"key"),u=t.DataManager(m).executeLocal(p),this._swapUnCategorized(u),u.forEach(function(e,i){if(e.key)if(n.model.multiColumnSettings.enable){var s=t.buildTag("tr.e-category").attr("role","option").attr(n._isIE8?{unselectable:"on"}:{});s.append(t.buildTag("td",e.key).attr("role","option").attr(n._isIE8?{unselectable:"on"}:{}).attr(i!=m.length-1?{class:"e-atc-tdbottom"}:{})),n._tableColumn.append(s)}else n.ul.append(t.buildTag("li.e-category",e.key).attr("role","option").attr(n._isIE8?{unselectable:"on"}:{}));n._generateLi(e.items,d)})):this._generateLi(m,d);this._getLiTags().length>0&&(e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),this._showResult(i))},_swapUnCategorized:function(e){for(var t,i=e.length,n=0;n<i;n++)if(!e[n].key){for(t=n;t>0;t--)e[t]=e[t-1];return e[t]=e[n],!1}},_generateLi:function(i,n){var s,r,o,a,l,h,d,c,u,p,m,f=this,g=document.createDocumentFragment(),v=document.createDocumentFragment();if(f.model.multiColumnSettings.enable){for(s=f.model.multiColumnSettings.columns.length,this._tableColumn.append(t.buildTag("tbody")),r=t.buildTag("tr"),o=t.buildTag("td"),d=0,c=i.length;c>d;d++)if(u=i[d][n._text],p=i[d][n._key],!t.isNullOrUndefined(u)||f.model.multiColumnSettings.enable){for(f._getField(i[d]),(a=r.clone())[0].className=d%2?"e-atc-trbgcolor":"",l=0;l<s;l++)(h=o.clone())[0].innerHTML=f.model.highlightSearch&&e.inArray(l.toString(),f._columnIndex)>-1?f._highlightSuggestion(f._getField(i[d],f.model.multiColumnSettings.columns[l].field).toString()):f._getField(i[d],f.model.multiColumnSettings.columns[l].field),h[0].className=(d!=i.length-1?"e-atc-tdbottom ":"")+(l!=f.model.multiColumnSettings.columns.length-1?f.model.enableRTL?"e-atc-tdleft ":"e-atc-tdright ":"")+(f.model.multiColumnSettings.columns[l].cssClass?f.model.multiColumnSettings.columns[l].cssClass:""),h[0].style.textAlign=f.model.multiColumnSettings.columns[l].textAlign?f.model.multiColumnSettings.columns[l].textAlign:"left",v.appendChild(h[0]);a[0].appendChild(v),p&&a.attr("id",p),f._setAttributes(f._getField(i[d],n._attr),a[0]),g.appendChild(a[0]),f._currList=f._currList.concat([i[d]])}e(f._tableColumn).find("tbody")[0].appendChild(g)}else{for(d=0,c=i.length;c>d;d++)u=i[d][n._text],p=i[d][n._key],t.isNullOrUndefined(u)||(f.model.highlightSearch&&(u=f._highlightSuggestion(u)),f.model.template&&(u=f._getTemplatedString(i[d],n._text,u)),(m=document.createElement("li")).innerHTML+=u,p&&m.setAttribute("id",p),f._setAttributes(f._getField(i[d],n._attr),m),g.appendChild(m),f._currList=f._currList.concat([i[d]]));f.ul[0].appendChild(g)}},_getLiTags:function(){return this.model.multiColumnSettings.enable?this._tableColumn.find("tbody tr:not('.e-category')"):this.ul.children("li:not('.e-category')")},_getTemplatedString:function(e,t,i){for(var n=this.model.template,s=n.indexOf("${"),r=n.indexOf("}");-1!=s&&-1!=r;){var o=n.substring(s,r+1),a=o.replace("${","").replace("}",""),l=this._getField(e,a);t==a&&(l=i),l||(l=""),s=(n=n.split(o).join(l)).indexOf("${"),r=n.indexOf("}")}return n},_getField:function(e,i){return t.pvt.getObject(i,e)},_setAttributes:function(t,i){if(t)for(var n in"string"==typeof t&&(t=e.parseJSON(t)),t)i.setAttribute(n,t[n])},_setListWidth:function(){var e=this.model.popupWidth;e&&"auto"!=e?this.suggestionList.css({width:e}):this.suggestionList.css({width:this.wrapper.width()})},_setListHeight:function(){this.suggestionList.css({"max-height":this.model.popupHeight})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.wrapper.outerWidth()!=this.suggestionList.outerWidth()&&(this.suggestionList.css({width:this.wrapper.width()}),this._refreshScroller()),this._setListPosition()},_showResult:function(n){var s,r,o,a;this._refreshScroller(),this._refreshPopup(),this._isOpened?e(document).on("mousedown",e.proxy(this._OnDocumentClick,this)):(this.suggestionList.css("display","none"),s=this,clearTimeout(this._typing),this._typing=setTimeout(function(){s.suggestionList["slide"==s.model.animateType?"slideDown":"fadeIn"]("none"==s.model.animateType?0:300,function(){e(document).on("mousedown",e.proxy(s._OnDocumentClick,s))})},this.model.delaySuggestionTimeout),r=n!=i?{event:n,isInteraction:!0}:{isInteraction:!1},this._trigger("open",r),this.wrapper.addClass("e-active")),this._isOpened=!0,this.showSuggestionBox=!0,o=this._getLiTags(),this._listSize=o.length,e(window).on("resize",e.proxy(this._OnWindowResize,this)),(a=t.getScrollableParents(this.wrapper))[0]!=window&&this._on(a,"scroll",this._hideResult)},_hideResult:function(n){var s,r;this.showSuggestionBox&&(this.showSuggestionBox=!1,this._activeItem=0,clearTimeout(this._hiding),this.element.attr("aria-expanded",!1),s=this,this._isOpened?(this.suggestionList.css("display","none"),r=n!=i?{event:n,isInteraction:!0}:{isInteraction:!1},this._trigger("close",r)):this._hiding=setTimeout(function(){s.model&&s.suggestionList["slide"==s.model.animateType?"slideUp":"fadeOut"]("none"==s.model.animateType?0:100),s._activeItem=0},this.model.delaySuggestionTimeout),e(document).off("mousedown",e.proxy(this._OnDocumentClick,this)),e(window).off("resize",e.proxy(this._OnWindowResize,this)),this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult),this.wrapper.removeClass("e-active"))},_refreshScroller:function(){this.suggestionList.css("height","auto"),this.suggestionList.find(".e-content , .e-scroller").removeAttr("style"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(e(this._tableColumn).attr("width","auto"),e(this._tableHeader).attr("width","auto")),this.suggestionList.css("display","block"),this.model.multiColumnSettings.enable&&(this.scrollerObj.option("height","auto"),this._columnBorderAlign());var i=this.suggestionList.height()>parseInt(e.isNumeric(this.model.popupHeight)?this.model.popupHeight:this.model.popupHeight.replace("px",""))-4;i||this.model.multiColumnSettings.enable&&(this.suggestionList.height()<=this._tableColumn.height()||this.suggestionList.width()<=this._tableColumn.width()||this.model.multiColumnSettings.showHeader&&this.suggestionList.width()<=this._tableHeader.width())?(i&&(this.scrollerObj.model.height=this.model.multiColumnSettings.showHeader&&this._tableHeader?parseInt(this.suggestionList.height())-parseInt(this._tableHeader.height()):this.suggestionList.height()),!this.model.multiColumnSettings.enable&&this.suggestionList.width()<this.suggestionList.find(".e-ul").width()&&this.suggestionList.find(".e-ul").width(this.suggestionList.find(".e-ul").width()),this.scrollerObj.model.width=this.suggestionList.width(),this.scrollerObj.refresh(),this.scrollerObj.option({enableRTL:this.model.enableRTL,scrollTop:0,scrollLeft:0}),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._addThBorder(),this.suggestionList.addClass("e-scroller"),!this.scrollerObj._vScroll&&this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()):(this.suggestionList.removeClass("e-scroller"),this.scrollerObj.refresh(),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()),this.suggestionList.css("height","auto"),this._isIE8&&this.suggestionList.find(".e-vscroll div, .e-hscroll div").attr("unselectable","on"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this.suggestionList.find(".e-content").scroll(t.proxy(function(t){this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(e(t.currentTarget).scrollLeft())},this)),this.suggestionList.find(".e-content").length>0&&this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(this.model.enableRTL?this.suggestionList.find(".e-content")[0].scrollWidth-this.suggestionList.find(".e-content")[0].clientWidth:0))},_columnBorderAlign:function(){var t,i,n;if(this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&"none"!=this._tableHeaderDiv.css("display")){for(this._tableWid=this._tableHeader.outerWidth()>this._tableColumn.outerWidth()?this._tableHeader.outerWidth():this._tableColumn.outerWidth(),this._tableColumn.find("colgroup").remove(),e(this._headerColGroup.children).removeAttr("style"),i=0,n=this._headerColGroup.children.length;i<n;i++)e(this._headerColGroup.children[i]).css({width:parseInt(e(this._tableColumn).find("tr:first td").eq(i).outerWidth())>parseInt(this._tableHeader.find("tr:first th").eq(i).outerWidth())?e(this._tableColumn).find("tr:first td").eq(i).outerWidth():this._tableHeader.find("tr:first th").eq(i).outerWidth()});this._tableColumn.append(e(this._headerColGroup).clone()),t=this._tableWid>this.suggestionList.width()?this._tableWid:"100%",e(this._tableColumn).attr("width",t),e(this._tableHeader).attr("width",t)}else if(this.model.multiColumnSettings.enable&&!this.model.multiColumnSettings.showHeader){if(e(this._tableColumn).attr("width","auto"),this._tableWid=this._tableColumn.outerWidth(),e(this._headerColGroup.children).removeAttr("style"),"100%"!=(t=this._tableWid>this.suggestionList.width()?this._tableWid:"100%")){for(i=0,n=this._headerColGroup.children.length;i<n;i++)e(this._headerColGroup.children[i]).css({width:e(this._tableColumn).find("tr:first td").eq(i).outerWidth()});this._tableColumn.append(this._headerColGroup)}e(this._tableColumn).attr("width",t)}else e(this._tableColumn).attr("width","100%")},_removeThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").removeClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.parent(".e-atc-tableHeaderContent").removeClass("e-atc-tableHeaderBorder")},_addThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").addClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll").removeClass(this.model.enableRTL?"e-atc-tableHeaderScroll":"e-atc-tableHeaderRTL"),this._tableHeader.parent(".e-atc-tableHeaderContent").addClass("e-atc-tableHeaderBorder")},_setListPosition:function(){var t,i=this.wrapper,n=this._getOffset(i),s=e(document).scrollTop()+e(window).height()-(n.top+e(i).outerHeight()),r=n.top-e(document).scrollTop(),o=this.suggestionList.outerHeight(),a=this.suggestionList.outerWidth(),l=n.left,h=i.outerHeight(),d=(h-i.height())/2,c=this._getZindexPartial(),u=(o<s||o>r?n.top+h+3:n.top-o-3)-d;t=e(document).scrollLeft()+e(window).width()-l,(this.model.enableRTL||a>t&&a<l+i.outerWidth())&&(l-=this.suggestionList.outerWidth()-i.outerWidth()),this.suggestionList.css({left:l+"px",top:u+"px","z-index":c})},_getOffset:function(e){return t.util.getOffset(e)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.suggestionList)},_targetFocus:function(e){"visualmode"==this.model.multiSelectMode&&this._setWatermarkWidth(30),this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this._isFocused=!0,this._trigger("focusIn",{event:e,isInteraction:!0,value:this.value()})},_focusOutAction:function(e){var i,n;this._isFocused=!1,this.wrapper.removeClass("e-focus"),this._isWatermark||this._setWatermarkTxt(),this._removeSelection(),"visualmode"==this.model.multiSelectMode&&this.model.showResetIcon&&""!=this.element.val()&&this._removeReset(),"visualmode"==this.model.multiSelectMode?(this._removeActive(),this.element.val(""),this._setWatermarkWidth(1),this._preVal="",this._addNewTemplate=null):("delimiter"==this.model.multiSelectMode&&this._valueChange(e),this._updateSelectedItemArray(this.getValue())),t.isNullOrUndefined(this.value())||""==this.value()||(i=this.value().split(this.model.delimiterChar),("delimiter"==this.model.multiSelectMode||"none"==this.model.multiSelectMode)&&(n=this._removeDuplicateVal(i),this._keyProcess(n))),""==this.element.val()&&(""==this.value()||null==this.value())&&this._selectValueByKey(null)},_targetBlur:function(e){this._focusOutAction(e),this._trigger("focusOut",{event:e,isInteraction:!0,value:this.value()})},_setWatermarkWidth:function(e){this.model.watermarkText&&this.element.attr("placeholder")?this.element.width(""):this.element.val("").width(e)},_checkDeli:function(){var e=this.element.val(),t=this.model.delimiterChar;return e.substr(e.length-t.length,e.length)==t&&(this.element.val(e.substr(0,e.length-t.length)),!0)},_removeSelection:function(){if(this.model.enableAutoFill){this.element.attr("aria-autocomplete","both");var e=this._getCaretSelection();e.end-e.start!=0&&e.end-e.start!=this.element.val().length&&(this.target.value=this.target.value.substr(0,e.start))}},_removeListHover:function(){this._getLiTags().removeClass("e-hover")},_addListHover:function(){var t=e(this._getLiTags()[this._activeItem-1]);t.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),t.focus()},_calcScrollTop:function(){this.model.multiColumnSettings.enable?this.model.multiColumnSettings.showHeader?(this._tableColumn.outerHeight(),this._tableHeader.outerHeight()):this._tableColumn.outerHeight():this.ul.outerHeight();var e,t=this.model.multiColumnSettings.enable?this._tableColumn.find("tr"):this.ul.find("li");return e=this.model.multiColumnSettings.enable?this._tableColumn.find("tr.e-hover").index():this.ul.find("li.e-hover").index(),t.eq(1).outerHeight()*e-((this.model.multiColumnSettings.enable?this._tableColumn.parent().outerHeight():this.suggestionList.outerHeight())-t.eq(e).outerHeight())/2},getActiveText:function(){if(this._activeItem>0)return this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):!t.isNullOrUndefined(this._mapper)&&this._mapper.txt?this._getField(this._currList[this._activeItem-1],this._mapper.txt):this._currList[this._activeItem-1]},_getUniqueKey:function(){var e=null;return t.isNullOrUndefined(this._mapper)||(this._mapper.key&&(e=this._getField(this._currList[this._activeItem-1],this._mapper.key)),t.isNullOrUndefined(e)&&(e=null)),e},_setTextBoxValue:function(){var t,i,n,s,r,o;this._activeItem&&!this.noresult&&(t=this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):this.getActiveText(),i=this._getCaretSelection(),this.suggLen=i.start,n=this.target.value.substr(0,this.suggLen),o=-1==(r=this.target.value.lastIndexOf(this.model.delimiterChar))?e.trim(n.substr(r+1,this.suggLen)):e.trim(n.substr(r+this.model.delimiterChar.length,this.suggLen)),!n||n.toLowerCase()!=t.substr(0,this.suggLen).toLowerCase()&&o.toLowerCase()!=t.substr(0,this.suggLen-(r+this.model.delimiterChar.length)).toLowerCase()?("delimiter"==this.model.multiSelectMode&&t&&o?this.element.val(this.element.val().replace(o,t)):t&&this.element.val(t),this._removeSelection()):(s="delimiter"==this.model.multiSelectMode?n+t.substr(o.length,t.length):n+t.substr(n.length,t.length),this.element.val(s),this._autofilSelection(),"visualmode"==this.model.multiSelectMode&&(this._adjustWidth(),this.model.enableAutoFill&&this._refreshPopup()),this.model.autoFocus&&!this.noresult&&this._addListHover()))},_enterTextBoxValue:function(e){var t,i,n;!this._activeItem||this.noresult||this.model.readOnly||(t=this.getActiveText(),i=this._currList[this._activeItem-1],this._preVal=t+("delimiter"==this.model.multiSelectMode?this.model.delimiterChar:""),this._valueToTextBox(t,i,!1),n="visualmode"==this.model.multiSelectMode?this._modelValue:""==this.element.val()?null:this.element.val(),this._trigger("select",{event:e,isInteraction:!0,value:n,text:t,key:this._getUniqueKey(),item:i}),this._valueChange(e),this.model.showResetIcon&&this._showReset()),this._isOpened&&this._trigger("close",{event:e,isInteraction:!0})},_createBox:function(i){var n=t.buildTag("span.e-icon e-close"),s=t.buildTag("li.e-options",i).append(n);return this._on(n,"click",function(t){if(!this.model.enabled)return!1;this._deleteBox(e(t.target).parent())}),s},_addLoadingClass:function(){this.model.showLoadingIcon&&this.element.addClass("e-load")},_removeLoadingClass:function(){this.element.removeClass("e-load")},_highlightSuggestion:function(t){var i,n,s,r,o,a,l,h,d;if(""!=e.trim(this._queryString)&&(i=this.model.caseSensitiveSearch?"g":"gi",a=e.trim(this._queryString),a=/^[a-zA-Z0-9- ]*$/.test(a)?a:a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n="startswith"==this.model.filterType?"^"+a:"endswith"==this.model.filterType?a+"$":a,(s=new RegExp(n,i)).test(t)))for(r=t.match(s),l=t.replace(s,"~^"),t="",h=0,d=(o=l.split("~^")).length;d>h;h++)t+=r[h]?o[h]+"<span class='e-hilight-txt'>"+r[h]+"</span>":o[h];return t},_RightToLeft:function(e){e?(this.wrapper.addClass("e-rtl"),this.suggestionList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.suggestionList.removeClass("e-rtl")),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this._tableHeaderDiv.removeClass(e?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.find("tr :not(th:last)").addClass(e?"e-atc-thleft":"e-atc-thright").removeClass(e?"e-atc-thright":"e-atc-thleft"))},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.suggestionList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.suggestionList.removeClass("e-corner"))},_checkReadOnly:function(e){this.model.readOnly=e,this.model.readOnly?(this.element.attr({readonly:"readonly","aria-readonly":!0}),this._off(this.element,"keydown",this._OnKeyDown),this._off(this.element,"keyup",this._OnKeyUp),this._off(this.element,"paste",this._OnPaste),this._off(this.element,"keypress",this._onkeyPress)):(this.element.removeAttr("readonly aria-readonly"),this._on(this.element,"keydown",this._OnKeyDown),this._on(this.element,"keyup",this._OnKeyUp),this._on(this.element,"paste",this._OnPaste),this._on(this.element,"keypress",this._onkeyPress))},_onkeyPress:function(e){13==e.keyCode&&this._PreventDefaultAction(e)},_OnPaste:function(e){var t=this;setTimeout(function(){t._OnKeyUp(e)},0)},_OnKeyDown:function(t){var i;switch("startswith"!=this.model.filterType&&(this.model.enableAutoFill=!1),t.keyCode){case 37:case 35:case 36:this._removeSelection();break;case 38:this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),this._activeItem>1?this._activeItem-=1:this._activeItem=this._listSize,this._navigationHover()),this._PreventDefaultAction(t);break;case 40:this.showSuggestionBox&&this.suggestionList?(this._removeListHover(),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=1,this._navigationHover()):t.ctrlKey&&""==this.element.val()?this._showFullList(t):t.ctrlKey&&this._showSuggestionList(t),this._PreventDefaultAction(t);break;case 33:case 34:if(this.showSuggestionBox&&this.suggestionList){this._removeListHover();var n=this.model.multiColumnSettings.enable?this._tableColumn.parent().height():this.suggestionList.height(),s=this.model.multiColumnSettings.enable?this._tableColumn.find("tr").outerHeight():this.ul.children("li").outerHeight(),r=0!=Math.round(n/s)?Math.round(n/s):this._listSize;this._activeItem=33==t.keyCode?this._activeItem-r:this._activeItem+r,this._activeItem<1&&(this._activeItem=1),this._activeItem>this._listSize&&(this._activeItem=this._listSize),this._navigationHover()}this._PreventDefaultAction(t);break;case 8:""==e.trim(this.element.val())&&(this._isOpened=!1),"visualmode"==this.model.multiSelectMode&&""==this.element.val()&&this._deleteLastBox();break;case 17:this.ctrlKeyPressed=!0;break;case 9:this.showSuggestionBox&&(this._queryString=this.element.val(),this._enterTextBoxValue(t),this._hideResult(t),this._isOpened=!1,this._PreventDefaultAction(t));break;case 27:this._isOpened=!1,i=this.showSuggestionBox,this._hideResult(t),this._PreventDefaultAction(t),i&&this._trigger("close",{event:t,isInteraction:!0})}"visualmode"==this.model.multiSelectMode&&(17!=t.keyCode&&8!=t.keyCode&&46!=t.keyCode&&this._removeActive(),this._adjustWidth())},_PreventDefaultAction:function(e){e.preventDefault(),this._cancelEvent||(e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!0)},_bubbleEvent:function(e){return"boolean"==typeof e&&(this._cancelEvent=e),this._cancelEvent},_navigationHover:function(){this._addListHover(),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this._queryString=this.target.value,this._setTextBoxValue())},_OnKeyUp:function(t){if(this._keyDownComplete(t),this.ctrlKeyPressed&&"paste"!=t.type)return 17==t.keyCode&&(this.ctrlKeyPressed=!1),!1;if(""==e.trim(this.element.val())&&38==t.keyCode&&40==t.keyCode)return this._hideResult(t),!1;if(!this._checkDelimiter())return!1;switch(this._queryString=e.trim(this._queryString),t.keyCode){case 34:case 33:case 38:case 40:case 37:case 39:case 20:case 16:case 17:case 18:case 35:case 36:case 144:case 9:case 27:break;case 13:t.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(t),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this.suggLen=this.element.val().length,this._autofilSelection()),this._isOpened=!1,this._hideResult(t);break;case 46:if("visualmode"==this.model.multiSelectMode&&""==this.element.val()){this._deleteBox(this._ulBox.children("li.e-active"));break}case 8:this._queryString.length>=this.model.minCharacter?(this._autoFill=!1,this._OnTextEnter(t)):(this.noresult=!0,this._hideResult(t),""==e.trim(this.element.val())&&(this._isOpened=!1)),this._typed=!0;break;default:this._queryString.length>=this.model.minCharacter?(this._autoFill=!0,this._OnTextEnter(t)):this.noresult=!0,this._typed=!0}},_getFilteredList:function(e,i){var n,s;clearTimeout(this.timeDelay),t.isNullOrUndefined(e)||"object"!=typeof e[0]||(n=this.model.fields.text?this.model.fields.text:"text",this.model.actionFailure&&t.isNullOrUndefined(t.DataManager(e).executeLocal(t.Query().select(n))[0])&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})),!e||!e.length||e.length<1?(this.suggestionListItems=[],this.model.actionFailure&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})):(s=t.Query(),this._addQuery(s,"object"==typeof e[0]),this.suggestionListItems=t.DataManager(e).executeLocal(s),this.model.actionSuccess&&this._trigger("actionSuccess")),this._doneRemaining(i),this.model.actionComplete&&this._trigger("actionComplete")},_performSearch:function(e){var i,n;this.model.actionBegin&&this._trigger("actionBegin"),i=this.model.dataSource,t.DataManager&&i instanceof t.DataManager?i.dataSource.offline||i.dataSource.json&&i.dataSource.json.length>0?(this._getFilteredList(i.dataSource.json,e),this._selectedObj.push(i.dataSource.json)):(window.clearTimeout(this.timer),n=this,this.timer=window.setTimeout(function(){n._fetchRemoteDat(i)},700)):this._getFilteredList(i,e)},_fetchRemoteDat:function(e){var t=this,i=this._getQuery();this._addQuery(i,!0),e.executeQuery(i).fail(function(e){t.suggestionListItems=null,t._removeLoadingClass(),t._trigger("actionFailure",e)}).done(function(e){t.suggestionListItems=e.result,"none"==t.model.multiSelectMode?t._selectedObj=e.result:"delimiter"==t.model.multiSelectMode&&(t._selectedObj=t._selectedObj.concat(e.result)),t._doneRemaining(e),t._trigger("actionSuccess",e)}).always(function(e){t._trigger("actionComplete",e)})},_addSortingQuery:function(e,t){if(this.model.allowSorting){var i="descending"==this.model.sortOrder;e.sortBy(t,i)}},_addQuery:function(e,t){var i,n,s,r,o="";if(t&&(o=(n=this.model.fields)&&n.text?n.text:"text"),this._queryString)if(this.model.multiColumnSettings.enable)if(this._columnsIndex(),t){for(o=[],s=0,r=this._columnIndex.length;s<r;s++)o.push(this.model.multiColumnSettings.columns[this._columnIndex[s]].field),i=this._predicateConvertion(i,this.model.multiColumnSettings.columns[this._columnIndex[s]].field,this.model.multiColumnSettings.columns[this._columnIndex[s]].filterType?this.model.multiColumnSettings.columns[this._columnIndex[s]].filterType:"startswith",this._queryString,!this.model.caseSensitiveSearch,this.model.multiColumnSettings.columns[this._columnIndex[s]].type?this.model.multiColumnSettings.columns[this._columnIndex[s]].type:"string");e.where(i)}else e.where(o,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);else e.where(o,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);this._addSortingQuery(e,o)},_predicateConvertion:function(e,n,s,r,o,a){var l;return"number"==a?l=Number(r):"boolean"==a?"true"==r||"yes"==r||"1"==r?l=!0:("false"==r||"no"==r||"0"==r)&&(l=!1):l="date"==a?new Date(r):r,"number"==a&&isNaN(l)||"boolean"==a&&l==i?e:e!=i?e.or(n,s,l,o):t.Predicate(n,s,l,o)},_getQuery:function(){var e;if(t.isNullOrUndefined(this.model.query)){var i=[],n=t.Query(),s=this.model.fields;for(e in s)"tableName"!==e&&s[e]&&i.push(s[e]);i.length>0&&n.select(i),t.isNullOrUndefined(this.model.dataSource.dataSource.url)||this.model.dataSource.dataSource.url.match(s.tableName+"$")||t.isNullOrUndefined(s.tableName)||n.from(s.tableName)}else n=this.model.query.clone();return n},_OnTextEnter:function(e){var i=this;t.isDevice()?(clearTimeout(this.timeDelay),this.timeDelay=setTimeout(function(){i._onTextProcess(e)},i.model.delaySuggestionTimeout)):i._onTextProcess(e)},_onTextProcess:function(e){this._addLoadingClass(),this.element.attr("aria-expanded",!1),this._performSearch(e),this.model.showResetIcon&&this._showReset()},_showReset:function(){t.isNullOrUndefined(this.resetSpan)&&(this.resetSpan=t.buildTag("span.e-icon e-iclose"),this.model.showPopupButton?(this.dropdownbutton.before(this.resetSpan),this.container.addClass("e-popup e-reset")):this.container.append(this.resetSpan).addClass("e-reset")),this._on(this.resetSpan,"mousedown",this._refreshSearch)},_refreshSearch:function(){this.resetSpan=null,this.clearText(),this._refreshPopup()},_removeReset:function(){this.resetSpan=this.resetSpan&&this.resetSpan[0].remove(),this._refreshPopup()},_doneRemaining:function(e){this._showSuggestionList(e),this.element.attr({"aria-expanded":!0,"aria-haspopup":!0}),(this.model.enableAutoFill&&this._autoFill&&!this.noresult||this.model.autoFocus)&&(this.element.attr("aria-autocomplete","both"),this._activeItem=1,this._queryString=this.target.value),this.model.enableAutoFill&&this._autoFill&&!this.noresult&&this._setTextBoxValue(),this.model.autoFocus&&!this.noresult&&this._addListHover(),this._removeLoadingClass(),this.noresult&&!this.model.showEmptyResultText&&this._hideResult(e)},_removeRepeated:function(){var e,t,i,n=this.suggestionListItems;if(!n||0==n.length||0==this._selectedItems.length||1==this.suggestionListItems.length&&this.suggestionListItems[0]==this.element.val()+this._addNewTemplate)return!1;for(this._repeatRemove=!1,e=0,t=this._selectedItems.length;e<t;e++)-1!=(i=n.indexOf(this._selectedItems[e]))&&this.suggestionListItems.splice(i,1),this.element.val()==this._selectedItems[e]&&(this._repeatRemove=!0)},_checkDelimiter:function(){this._queryString=this.element.val();var e="delimiter"!=this.model.multiSelectMode?-1:this._queryString.lastIndexOf(this.model.delimiterChar);return-1==e||(this._queryString=this._queryString.substr(e+this.model.delimiterChar.length,this._queryString.length)),!0},_autofilSelection:function(){var e=this.element[0],t=this.element.val().length;e.setSelectionRange?e.setSelectionRange(this.suggLen,t):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",this.suggLen),e.select())},_OnDropdownClick:function(e){this.model.enabled&&!this.model.readOnly&&(e.preventDefault(),(e.which&&1==e.which||e.button&&0==e.button)&&(this._addLoadingClass(),this.showSuggestionBox?(this._hideResult(e),this._isOpened=!1,this._removeLoadingClass()):this._showFullList(e)))},_showFullList:function(e){this._isFocused||this.element.focus(),this._queryString=null,this._autoFill=!1,this._performSearch(e)},_OnMouseEnter:function(e){this._getActiveItemIndex(e)},_getActiveItemIndex:function(t){var i=t.target;this.model.multiColumnSettings.enable&&"tr"!=t.target.tagName.toLowerCase()?i=e(t.target).parents("tr"):"li"!=t.target.tagName.toLowerCase()&&(i=e(t.target).parents("li")),this._getLiTags().removeClass("e-hover"),e(i).addClass("e-hover"),this._queryString=this.element.val(),this._activeItem=this._getLiTags().index(e(i))+1},_OnMouseLeave:function(){this._getLiTags().removeClass("e-hover"),this.model.highlightSearch&&this._getLiTags().find(".e-hilight-txt").removeClass("e-hover")},_OnMouseClick:function(e){this._getActiveItemIndex(e),this.noresult||(this._enterTextBoxValue(e),this._isOpened=!1,this._hideResult(e))},_OnDocumentClick:function(t){e(t.target).is(this.suggestionList)||e(t.target).parents(".e-atc-popup").is(this.suggestionList)||e(t.target).is(this.element)||e(t.target).parents(".e-atc").is(this.wrapper)?(e(t.target).is(this.suggestionList)||e(t.target).parents(".e-atc-popup").is(this.suggestionList))&&t.preventDefault():(this._isOpened=!1,this._hideResult(t),this._trigger("close",{event:t,isInteraction:!0}))},_OnWindowResize:function(){this._refreshPopup()},_keyProcess:function(e){var i,n,s,r,o=this._declareVariable();if(i=this._delimiterChar(),!t.isNullOrUndefined(e))for(n=0,s=e.length;n<s;n++)r=e[n],t.DataManager&&this.model.dataSource instanceof t.DataManager?this._selectValueByKey(null):(this._dataQuery=this.model.multiColumnSettings.enable?t.Query():t.Query().where(o[0],this.model.filterType,r,!1),this._promise=t.DataManager(this.model.dataSource).executeLocal(this._dataQuery),this.model.multiColumnSettings.enable?this._formatStringKey(e,o,i):this._promise instanceof Array&&0==this._promise.length?null!=this._selectValueByKey()&&this._selectValueByKey():this._getFieldKey(this._promise[0],o[1],i))},_formatStringKey:function(e,t,i){var n,s,r,o,a,l;for(this._selectValueByKey(null),n=0,s=e.length;n<s;n++)if(""!=e[n]){for(r=e[n],a=0,l=this._promise.length;a<l;a++)r==this._textFormateString(this._promise[a])&&(o=a);o?this._getFieldKey(this._promise[o],t[1],i):null!=this._selectValueByKey()&&this._selectValueByKey()}},_getFieldKey:function(i,n,s){if((t.isNullOrUndefined(this.model.template)||!t.isNullOrUndefined(this._getField(i,n)))&&!t.isNullOrUndefined(this._getField(i,n))){if(a=this._getField(i,n).toString(),"none"!=this.model.multiSelectMode){var r,o,a=this._selectValueByKey();delimiterChar=this.model.delimiterChar,r=this._getField(i,n).toString(),null!=a?(o=a.toString().split(s).filter(function(e){return""!==e}),-1==e.inArray(r,o)?(o.push(r),a=o.join(delimiterChar)+delimiterChar):a=r+delimiterChar):a=r+delimiterChar}this._selectValueByKey(a)}},_removeDuplicateVal:function(i){var n=[];return e.each(i,function(t,i){-1==e.inArray(i,n)&&n.push(i)}),1!=i.length||t.isNullOrUndefined(this._originalval)||-1==e.inArray(i[0],this._originalval)&&this._selectValueByKey(null),n},_valueChange:function(e){var t="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val();(this.value()!=t||""==t&&""!=this.element.val())&&(this.value(t),this._changeEvtTrigger(t,e)),this.model.showResetIcon&&!t&&(this.wrapper.find("span.e-iclose").remove(),this.resetSpan=null)},_changeEvtTrigger:function(e,t){var n=t!=i?{event:t,isInteraction:!0,value:e}:{isInteraction:!1,value:e};this.initialRender||(this._trigger("_change",{value:e}),this._trigger("change",n))},_updateSelectedItemArray:function(i){var n,s,r,o=[];if(this._selectedItems=[],this.suggestionListItems=this.model.dataSource,"delimiter"==this.model.multiSelectMode&&i)if(o=i.split(this.model.delimiterChar),t.DataManager&&this.model.dataSource instanceof t.DataManager||!t.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]){for(n=0,s=o.length;n<s;n++)if(o[n]){var a=this,l=this._selectedObj.length,h={};for(r=0;r<l;r++)this._selectedObj[r][a.model.fields.text]==o[n]&&(h=this._selectedObj[r],r=l);this._selectedItems.push(e.isEmptyObject(h)?o[n]:h)}}else this._createBoxForObjectType(o);else"none"==this.model.multiSelectMode&&i&&(o.push(i),t.DataManager&&this.model.dataSource instanceof t.DataManager||!t.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]?(a=this,h=e.grep(this._selectedObj,function(e){if(e[a.model.fields.text]==i)return e}),this._selectedItems.push(h.length>0?h:i)):this._createBoxForObjectType(o))},_keyDownComplete:function(e){var t=this.element.val();this._preVal!=t&&(this._preVal=t,"visualmode"==this.model.multiSelectMode&&this._adjustWidth(),this._valueChange(e))},_moveCaretToEnd:function(e){var t,i;e.scrollLeft=e.scrollWidth,e.createTextRange&&((t=e.createTextRange()).moveEnd("textedit"),t.moveStart("textedit"),t.select()),"number"==typeof e.selectionStart?e.selectionStart=e.selectionEnd=e.value.length:void 0!==e.createTextRange&&((i=e.createTextRange()).collapse(!1),i.select())},_getCaretSelection:function(){var e,t,i,n,s=this.element[0],r=0,o=0;return isNaN(s.selectionStart)?(e=document.selection.createRange().getBookmark(),(t=s.createTextRange()).moveToBookmark(e),(i=s.createTextRange()).collapse(!0),i.setEndPoint("EndToStart",t),{start:n=i.text.length,end:n+t.text.length}):(r=s.selectionStart,o=s.selectionEnd,{start:Math.abs(r),end:Math.abs(o)})},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur)}}),t.Autocomplete.Locale=t.Autocomplete.Locale||{},t.Autocomplete.Locale.default=t.Autocomplete.Locale["en-US"]={addNewText:"Add New",emptyResultText:"No suggestions",actionFailure:"The specified field doesn't exist in given data source"},t.filterType={StartsWith:"startswith",Contains:"contains",EndsWith:"endswith",LessThan:"lessthan",GreaterThan:"greaterthan",LessThanOrEqual:"lessthanorequal",GreaterThanOrEqual:"greaterthanorequal",Equal:"equal",NotEqual:"notequal"},t.SortOrder={Ascending:"ascending",Descending:"descending"},t.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},t.Animation={None:"none",Slide:"slide",Fade:"fade"},t.Type={Number:"number",String:"string",Boolean:"boolean",Date:"date"}}(jQuery,Syncfusion)}),
/*!
*  filename: ej.toolbar.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min","./../common/ej.data.min","./ej.tooltip.min"],e):e()}(function(){var e,t;e=jQuery,(t=Syncfusion).widget("ejToolbar","ej.Toolbar",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-toolbar",angular:{terminal:!1},defaults:{height:"",width:"",enabled:!0,hide:!1,disabledItemIndices:[],enabledItemIndices:[],enableSeparator:!1,orientation:"horizontal",enableRTL:!1,isResponsive:!1,showRoundedCorner:!1,htmlAttributes:{},dataSource:null,query:null,fields:{id:"id",tooltipText:"tooltipText",imageUrl:"imageUrl",text:"text",imageAttributes:"imageAttributes",spriteCssClass:"spriteCssClass",htmlAttributes:"htmlAttributes",group:"group"},tooltipSettings:{associate:"mouseenter",showShadow:!0,position:{stem:{horizontal:"left",vertical:"top"}},tip:{size:{width:5,height:5}},isBalloon:!1},cssClass:"",targetID:null,create:null,click:null,itemHover:null,itemLeave:null,destroy:null},dataTypes:{enabled:"boolean",hide:"boolean",enableSeparator:"boolean",disabledItemIndices:"data",enabledItemIndices:"data",orientation:"enum",enableRTL:"boolean",showRoundedCorner:"boolean",isResponsive:"boolean",dataSource:"data",query:"data",fields:"data",cssClass:"string",htmlAttributes:"data",targetID:"string"},hide:function(){if(!this.model.enabled&&"none"==this.element.css("display"))return!1;this.element.css("display","none"),this.model.hide=!0},show:function(){if(!this.model.enabled&&"none"!=this.element.css("display"))return!1;this.element.css("display","block"),this.model.hide=!1},_init:function(){null!=this.model.targetID&&this.element.html(e("#"+this.model.targetID).find("ul,ol")),this._cloneElement=e(this.element).clone(),this._localDataSource=null,null!=this.model.dataSource&&this._generateTemplate(),this.model.dataSource instanceof t.DataManager||this._initialize(),this._renderTooltip(this.model.tooltipSettings)},_setModel:function(t){for(var i in t)switch(i){case"height":this._setHeight(t[i]);break;case"width":this.model.width=t[i],this._setWidth(),this._bindUnbindWidth();break;case"enabled":this._controlStatus(t[i]);break;case"disabledItemIndices":this._disableItemByIndex(t[i]),t[i]=this.model.disabledItemIndices;break;case"enabledItemIndices":this._enableItemByIndex(t[i]);break;case"isResponsive":this.model.isResponsive=t[i],this.model.isResponsive?(this._responsiveLayout(),this._renderTooltip(this.model.tooltipSettings)):this._removeResponsive();break;case"hide":this._controlVisibleOptions(t[i]);break;case"orientation":this._setOrientation(t[i]),this.model.orientation=t[i],this._wireResizing();break;case"tooltipSettings":this.model.tooltipSettings=e.extend(!0,this.model.tooltipSettings,t[i]),this._renderTooltip(this.model.tooltipSettings);break;case"enableRTL":this._enableRTL(t[i]);break;case"showRoundedCorner":this._roundedCorner(t[i]);break;case"cssClass":this._setSkin(t[i]);break;case"htmlAttributes":this._addAttr(t[i]);break;case"enableSeparator":this.model.enableSeparator=t[i],this._renderToolbarSeparator();break;case"fields":e.extend(this.model.fields,t[i]);break;case"query":this.model.query=t[i];break;case"dataSource":for(optio in t)"fields"==optio&&e.extend(this.model.fields,t[optio]),"query"==optio&&(this.model.query=t[optio]);this._refreshTagItems(i,t[i]);break;case"targetID":this.model.targetID=t[i],this._setTargetID()}},_setTargetID:function(){this.element.removeAttr("role tabindex aria-disabled style"),e(this._spantag).remove(),e(this._liTemplte).remove(),this._liTemplte=this._tipRes=null,this.element.removeClass("e-widget e-box e-toolbarspan e-rtl"),this.element.find("ul,ol").removeClass("e-ul e-horizontal e-vertical e-separator e-comnrtl"),this.element.find("li").removeClass("e-tooltxt e-comnrtl"),this.element.find("li").removeAttr("aria-label"),this._init()},_refreshTagItems:function(e,t){this.model[e]=t,this.element.empty(),this._generateTemplate(),this._initialize()},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(){var t,i;if("auto"==this.model.width){var n=parseFloat(this.element.css("border-left-width"))+parseFloat(this.element.css("border-right-width")),s=this.element.find("ul").children("li"),r=this.element.find("ul"),o=this.element.find(".e-toolbar-res-arrow");for(t=0,i=r.length;t<i;t++)null!=r[t]&&e(r[t]).hasClass("e-separator")&&(n+=parseFloat(r.eq(t).css("border-right-width"))+parseFloat(r.eq(t).css("border-left-width")));for(null!=o[0]&&(n+=Math.round(this.element.find(".e-toolbar-res-arrow").outerWidth())+8),t=0,i=s.length;t<i;t++)null!=s[t]&&(n+=Math.round(s.eq(t).outerWidth()));this.element.css("width",Math.ceil(n))}else this.element.css("width",this.model.width)},_bindUnbindWidth:function(){"auto"!=this.model.width?this._off(e(window),"resize",this._widthHandler):this._on(e(window),"resize",this._widthHandler)},_widthHandler:function(){this._setWidth(this.model.width)},_setOrientation:function(e){e!=t.Orientation.Vertical?(this.element.removeClass(this.model.cssClass).addClass("e-toolbarspan "+this.model.cssClass),this.itemsContainer.removeClass("e-ul e-vertical").addClass("e-ul e-horizontal")):(this.element.removeClass("e-toolbarspan "+this.model.cssClass).addClass(this.model.cssClass),this.itemsContainer.removeClass("e-ul e-horizontal").addClass("e-ul e-vertical")),this.items.addClass("e-tooltxt")},_reSizeHandler:function(){this._isResized&&this._liTemplte.children().length>0&&(e(this.element).append(this._liTemplte.children()),this._renderToolbarSeparator(),this._liTemplte.addClass("e-display-none"),this._contstatus=!1),this._elementWidth="function"==typeof getComputedStyle?parseFloat(window.getComputedStyle(this.element[0]).width):this.element.width()-1,this._liWidth=this._spanWidth,this._spantag.removeClass("e-display-block").addClass("e-display-none");for(var t=0;t<this.itemsContainer.length;t++)this._liWidth+=e(this.itemsContainer[t]).outerWidth(!0),this._liWidth>this._elementWidth&&(this._spantag.hasClass("e-display-block")||this._spantag.removeClass("e-display-none").addClass("e-display-block"),this._spantag.addClass("e-res-pos"),this._liTemplte.append(this.itemsContainer[t]));this._isResized=!0},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popup)},_getOffset:function(e){return t.util.getOffset(e)},_btnMouseClick:function(i){var n,s,r,o=this.element.outerWidth(),a=this.element.outerHeight(),l=e(this._liTemplte).outerWidth(),h=e(window).width(),d=e(window).scrollLeft();e(i.currentTarget).hasClass("e-disable")||(maxZ=this._getZindexPartial(),n=this._getOffset(this.element),s=this.model.enableRTL?n.left:n.left+o-l,r=n.top+a-1+2,s=s<d?d+1:s+l>h+d?h-l+d-1:s,this._contstatus?(this._liTemplte.addClass("e-display-none"),this._contstatus=!1):(this._liTemplte.removeClass("e-display-none").css({top:r+"px",left:s+"px","z-index":maxZ}),this._contstatus=!0,this._on(t.getScrollableParents(this.element),"scroll",this._hidecontext),this.element.bind("click",e.proxy(this._hidecontext,this))),this._contstatus&&this._on(e(document),"mouseup",this._documentClick),this._removeListHover())},_hidecontext:function(i){e(i.target).is(e("#"+this.element[0].id+"_target"))||(this._liTemplte.addClass("e-display-none"),this._contstatus=!1,this.element.unbind("click",e.proxy(this._hidecontext,this)),this._off(t.getScrollableParents(this.element),"scroll",this._hidecontext),this._off(e(document),"mouseup",this._documentClick))},_documentClick:function(t){e(t.target).is(e("#"+this.element[0].id+"_target"))||0!=e(t.target).closest("div#"+this.element[0].id+"_hiddenlist").length||e(t.target).parents().hasClass("e-ddl-popup")||(this._liTemplte.addClass("e-display-none"),this._contstatus=!1,this._off(e(document),"mouseup",this._documentClick))},_setSkin:function(e){this.element.removeClass(this.model.cssClass).addClass(e);var t="e-toolbarTooltip "+e;this._subControlsSetModel("cssClass",t)},_subControlsSetModel:function(i,n){t.isNullOrUndefined(this._tipToolbar)||e(this.target).ejTooltip("option",i,n),t.isNullOrUndefined(this._tipRes)||e(this._liTemplte).ejTooltip("option",i,n)},_destroy:function(){this.element.html(""),t.isNullOrUndefined(this._tipToolbar)||e(this.target).ejTooltip("destroy"),t.isNullOrUndefined(this._tipRes)||e(this._liTemplte).ejTooltip("destroy"),this._cloneElement.removeClass("e-toolbar e-js"),this.element.replaceWith(this._cloneElement),this._liTemplte&&this._liTemplte.remove(),this._unWireResizing()},_initialize:function(){this.element.attr({role:"toolbar",tabindex:"0"}),this.element.children().find("li"),this._focusEnable=!0,this._renderControl(),this._responsiveLayout(),this._wireEvents()},_responsiveLayout:function(){this._roundedCorner(this.model.showRoundedCorner),this.model.isResponsive&&"horizontal"==this.model.orientation&&(this._spantag=e("<span id='"+this.element[0].id+"_target' class='e-icon e-toolbar-res-arrow e-rel-position e-display-block' unselectable='on'></span>"),this._spantag.appendTo(this.element),this._spanWidth=this._spantag.outerWidth(!0)+8,this._liTemplte=e("<div id='"+this.element[0].id+"_hiddenlist' class='e-responsive-toolbar e-display-none e-abs-position "+e(this.element)[0].className+"'></div>"),this.model.enableRTL&&this._liTemplte.addClass("e-rtl"),this._isResized=!1,this._reSizeHandler(),e("body").append(this._liTemplte)),this._on(e("#"+this.element[0].id+"_target"),"mousedown",this._btnMouseClick),this._wireResizing(),this._controlVisibleOptions(this.model.hide),this._enableRTL(this.model.enableRTL),this._disabledItems=this.model.disabledItemIndices,this._controlStatus(this.model.enabled),this.model.disabledItemIndices=this._disabledItems,0!=this.model.disabledItemIndices.length&&this._disableItemByIndex(this.model.disabledItemIndices),0!=this.model.enabledItemIndices.length&&this._enableItemByIndex(this.model.enabledItemIndices),this._setWidth()},_removeResponsive:function(){e(this._spantag).remove(),t.isNullOrUndefined(this._tipRes)||e(this._liTemplte).ejTooltip("destroy");var i=e(this._liTemplte).children("ul");e(this._liTemplte).detach(),e(this.element).append(i),this.itemsContainer=this.element.children("ol,ul"),this.items=this.itemsContainer.children("li"),this._off(this.items,"mouseup"),this._off(this.items,"mousedown"),this._off(this.element),this._wireEvents(),this._wireResizing(),this._setWidth()},_controlVisibleOptions:function(e){0!=e?this.hide():this.show()},_controlStatus:function(e){1!=e?this.disable():this.enable()},_roundedCorner:function(e){e?(this.element.addClass("e-corner"),this._liTemplte&&this._liTemplte.addClass("e-corner")):(this.element.removeClass("e-corner"),this._liTemplte&&this._liTemplte.removeClass("e-corner")),this._subControlsSetModel("showRoundedCorner",e)},_generateTemplate:function(){var e=this;this.element.css("visibility","hidden"),this.model.dataSource instanceof t.DataManager?this.model.dataSource.executeQuery(this.model.query).done(function(t){e._generateGroup(t.result),e._initialize(),e.element.css("visibility","visible")}):(e._generateGroup(e.model.dataSource),e.element.css("visibility","visible"))},_generateGroup:function(e){var t,i,n,s,r,o=this;for(this._localDataSource=e,t=-1,i=[],n=0;n<e.length;n++)if(this._isNewGroup(e[n].group,i)){for(i[++t]=e[n].group,s=-1,o.itemsSource=[],r=n;r<e.length;r++)e[n].group==e[r].group&&(o.itemsSource[++s]=e[r]);o.element.append(o._generateTagitems())}},_isNewGroup:function(e,t){if(!t)return!0;for(var i=0;i<t.length;i++)if(e==t[i])return!1;return!0},_renderControl:function(){this.element.addClass("e-widget e-box"),this._renderToolbarItems(),this._addAttr(this.model.htmlAttributes),this._setOrientation(this.model.orientation),this._renderToolbarSeparator(),this._setHeight(this.model.height),this._bindUnbindWidth()},_renderToolbarItems:function(){this.target=this.element[0],this.itemsContainer=this.element.children("ol,ul"),this.itemsContainer.children("ol,ul").remove(),this.items=this.itemsContainer.children("li");for(var i=0;i<this.items.length;i++)t.isNullOrUndefined(e(this.items[i]).attr("title"))&&e(this.items[i]).attr("aria-label",this.items[i].id);this._liCount=this.items.length},_generateTagitems:function(){var e,i;for(e=this.itemsSource,this.ultag=t.buildTag("ul"),i=0;i<e.length;i++)this.ultag.append(this._generateLi(e[i]));return this.ultag},_generateLi:function(e){var i,n,s;return i=t.buildTag("li"),e[this.model.fields.id]?i.attr("id",e[this.model.fields.id]):e[this.model.fields.text]&&i.attr("id",e[this.model.fields.text]),e[this.model.fields.tooltipText]&&i.attr("title",e[this.model.fields.tooltipText]),e[this.model.fields.imageUrl]&&""!=e[this.model.fields.imageUrl]&&(n=t.buildTag("img.e-align","",{},{src:e[this.model.fields.imageUrl],alt:e[this.model.fields.text]}),e[this.model.fields.imageAttributes]&&this._setAttributes(e[this.model.fields.imageAttributes],n),i.append(n)),e[this.model.fields.spriteCssClass]&&""!=e[this.model.fields.spriteCssClass]&&(s=t.buildTag("div.e-align "+e[this.model.fields.spriteCssClass]+" e-spriteimg"),i.append(s)),e[this.model.fields.text]&&""!=e[this.model.fields.text]&&i.append(e[this.model.fields.text]),e[this.model.fields.htmlAttributes]&&this._setAttributes(e[this.model.fields.htmlAttributes],i),i},_setAttributes:function(t,i){for(var n in t)e(i).attr(n,t[n])},_renderToolbarSeparator:function(){var t,i;if(this.model.enableSeparator){for(t=0,i=this.itemsContainer.length-1;t<i;t++)e(this.itemsContainer[t]).addClass("e-separator");if(1==this.itemsContainer.length)for(t=0,i=this.itemsContainer[0].children.length;t<i;t++)t==i-1?e(this.itemsContainer[0].children[t]).removeClass("e-separator"):e(this.itemsContainer[0].children[t]).addClass("e-separator")}else this.itemsContainer.removeClass("e-separator").find(".e-separator").removeClass("e-separator");this._setWidth()},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.element.addClass(e):"disabled"==t&&"disabled"==e?i.disable():i.element.attr(t,e)})},_enableRTL:function(e){e?(this.element.addClass("e-rtl"),this.items.addClass("e-comnrtl"),this.model.orientation==t.Orientation.Horizontal&&this.itemsContainer.addClass("e-comnrtl"),this._liTemplte&&this._liTemplte.addClass("e-rtl")):(this.element.removeClass("e-rtl"),this.items.removeClass("e-comnrtl"),this.model.orientation==t.Orientation.Horizontal&&this.itemsContainer.removeClass("e-comnrtl"),this._liTemplte&&this._liTemplte.removeClass("e-rtl")),this.model.enableRTL=e,this._subControlsSetModel("enableRTL",e),this._renderToolbarSeparator()},_renderTooltip:function(i){var n=e.extend(!0,{},i);n.cssClass=t.isNullOrUndefined(n.cssClass)?"e-toolbarTooltip "+this.model.cssClass:n.cssClass+" e-toolbarTooltip "+this.model.cssClass,n.enableRTL=this.model.enableRTL,n.showRoundedCorner=this.model.showRoundedCorner,n.target="li[data-content], li[title]",n.beforeOpen=this._showTooltip,this._tipToolbar=e(this.target).ejTooltip(n).data("ejTooltip"),this.model.isResponsive&&!t.isNullOrUndefined(this._liTemplte)&&(this._tipRes=e(this._liTemplte).ejTooltip(n).data("ejTooltip"))},_showTooltip:function(t){var i=e(t.event.currentTarget);t.event.target,i.hasClass("e-disable")&&(t.cancel=!0)},_hideTooltip:function(){t.isNullOrUndefined(this._tipToolbar)||(this._tipToolbar.hide(),this._tipToolbar._isHidden=!1),t.isNullOrUndefined(this._tipRes)||(this._tipRes.hide(),this._tipRes._isHidden=!1)},_addOverlay:function(i){for(var n,s=0;s<i.length;s++)e(i[s]).hasClass("e-disable")||(e(i[s]).addClass("e-disable"),n=t.buildTag("div.e-item-overlay"),e(i[s]).append(n))},_removeOverlay:function(t){for(var i=0;i<t.length;i++)e(t[i]).children(".e-item-overlay").remove()},disableItem:function(t){var i=e(t);null==i||i.length<=0||(i.hasClass("e-disable")||(i.attr("aria-disabled",!0).removeAttr("aria-label"),this._addOverlay(i)),i.removeClass("e-hover e-active").attr("aria-selected",!1))},enableItem:function(t){var i=e(t);null==i||i.length<=0||(i.removeClass("e-disable").attr("aria-disabled",!1).removeClass("e-disable"),this._removeOverlay(i))},disableItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.disableItem(t)},enableItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.enableItem(t)},_enableItemByIndex:function(t){var i,n;if(!this.model.enabled)return!1;if(0!=t.length)for(n=0;n<t.length;n++)e.inArray(t[n],this.model.disabledItemIndices)>-1&&(i=e.inArray(t[n],this.model.disabledItemIndices),this.enableItem(this.items[this.model.disabledItemIndices[i]]),this.model.disabledItemIndices.splice(i,1))},_disableItemByIndex:function(t){var i;if(!this.model.enabled)return!1;for(this._disabledItems=this.model.disabledItemIndices,i=0;i<t.length;i++)e.inArray(t[i],this.model.disabledItemIndices)<0&&this._disabledItems.push(parseInt(t[i]));for(i=0;i<this.items.length;i++)e.inArray(i,this.model.disabledItemIndices)>-1&&this.disableItem(this.items[i]);this.model.disabledItemIndices=this._disabledItems},disable:function(){if("true"==this.element.attr("aria-disabled"))return!1;this.element.attr("aria-disabled",!0).removeAttr("aria-label"),this._addOverlay(this.items),this.model.isResponsive&&"horizontal"==this.model.orientation&&this._spantag.addClass("e-disable"),this.model.enabled=!1,this._subControlsSetModel("enabled",!1)},enable:function(){if(this.model.disabledItemIndices=[],"false"==this.element.attr("aria-disabled"))return!1;this.items.removeClass("e-disable"),this._removeOverlay(this.items),this.element.attr("aria-disabled",!1),this.model.isResponsive&&"horizontal"==this.model.orientation&&this._spantag.removeClass("e-disable"),this.model.enabled=!0,this._subControlsSetModel("enabled",!0)},selectItem:function(t){var i=e(t);null==i||i.length<=0||(i.addClass("e-active").attr("aria-selected",!0),this._activeItem=e(this.items).index(i))},deselectItem:function(t){var i=e(t);null==i||i.length<=0||i.removeClass("e-active").attr("aria-selected",!1)},selectItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.selectItem(t)},deselectItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.deselectItem(t)},removeItem:function(t){var i,n,s;if(this.model.disabledItemIndices=[],n=0,null!=(i=e(t))&&!(i.length<=0))for(i.remove(),this.items=this.itemsContainer.children("li"),s=0;s<this.items.length;s++)e(this.items[s]).hasClass("e-disable")&&(this.model.disabledItemIndices[n++]=s)},removeItemByID:function(e){var t=this.itemsContainer.find("li#"+e);null==t||t.length<=0||this.removeItem(t)},_wireResizing:function(){this.model.isResponsive&&"horizontal"==this.model.orientation?e(window).bind("resize",e.proxy(this._reSizeHandler,this)):this._unWireResizing()},_unWireResizing:function(){e(window).unbind("resize",e.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this.element,"mousedown",this._clickEventHandler),this._on(this.element,"focus",this._focusElement),this._on(this.element,"blur",this._targetBlur),this._on(this.items,"mouseenter",this._onItemHover),this._on(this.items,"mouseleave",this._onItemLeave),this._on(this.items,"mousedown",this._onItemClick),this._on(this.items,"mouseup",this._onItemClick)},_onItemHover:function(t){var i=e(t.currentTarget),n=t.target;i.hasClass("e-disable")||(this.items.removeClass("e-hover"),i.addClass("e-hover"),args={currentTarget:i,target:n,status:this.model.enabled},this._trigger("itemHover",args))},_onItemClick:function(t){if(e(t.currentTarget).hasClass("e-disable")||1!=t.which)return!1;var i=t.currentTarget,n=t.target;this._hideTooltip(),"mousedown"==t.type?(this._focusEnable=!1,e(i).addClass("e-active"),this._focusedItem=this._currentItem=e(i)):"mouseup"==t.type&&(this._removeSelection(),e(i).hasClass("e-disable")||(args={currentTarget:i,text:e(i).attr("data-content"),target:n,status:this.model.enabled,event:t},this._activeItem=this.model.isResponsive&&this._contstatus&&e(i).closest(".e-responsive-toolbar").length>0?this._liTemplte.find(".e-tooltxt").index(i):e(this.items).index(i),this._trigger("click",args)))},_onItemLeave:function(t){var i=e(t.currentTarget),n=t.target;i.hasClass("e-disable")||(this._removeSelection(),i.removeClass("e-hover"),args={currentTarget:i,target:n,status:this.model.enabled},this._trigger("itemLeave",args))},_onKeyPress:function(i){var n,s,r,o;if(n=i.keyCode?i.keyCode:i.which?i.which:i.charCode,this.model.isResponsive&&this._liTemplte.find(".e-tooltxt").length>0?(this._keyPressed=!0,this._items=this._contstatus?this._liTemplte.find(".e-tooltxt"):this.element.find(".e-tooltxt"),s=this._items.filter(".e-tooltxt:visible:not(.e-hidden, .e-disable)")):(this._keyPressed=!1,s=this.items.filter(".e-tooltxt:visible:not(.e-hidden, .e-disable)")),this._focusedItem?(r=this._focusedItem,this._focusedItem=null):r=s.filter(".e-hover"),"keydown"==i.type)(38==n||39==n)&&this.model.orientation!=t.Orientation.Vertical||(39==n||40==n)&&this.model.orientation==t.Orientation.Vertical?(i.preventDefault(),o=e(s[s.index(r)+1]).length>0?e(s[s.index(r)+1]):s.first()):(37==n||40==n)&&this.model.orientation!=t.Orientation.Vertical||(37==n||38==n)&&this.model.orientation==t.Orientation.Vertical?(i.preventDefault(),o=e(s[s.index(r)-1]).length>0?e(s[s.index(r)-1]):s.last()):33==n||36==n?(i.preventDefault(),o=s.first()):(34==n||35==n)&&(i.preventDefault(),o=s.last()),o&&(this._removeListHover(),o.addClass("e-hover"));else switch(n){case 13:case 32:if(i.preventDefault(),!r[0])break;args={currentTarget:r[0],target:e(r)[0],status:this.model.enabled,event:i},this._trigger("click",args),this._removeListHover();break;case 27:i.preventDefault(),this.element.blur();break;case 9:i.preventDefault(),this._activeItem=e(this.items).filter(".e-tooltxt:visible:not(.e-hidden, .e-disable)").first().index(),this._addListHover()}},_removeListHover:function(){e(this.items).removeClass("e-hover")},_addListHover:function(){var e=this._getActiveItem();e.hasClass("e-disable")||e.addClass("e-hover").focus()},_getActiveItem:function(){return this.model.isResponsive&&this._keyPressed?e(this._items[this._activeItem]):e(this.items[this._activeItem])},_targetBlur:function(e){e.preventDefault(),this.element.focusout().removeClass("e-focus"),this._removeListHover(),this._off(this.element,"keyup",this._onKeyPress)._off(this.element,"keydown",this._onKeyPress),this._trigger("focusOut")},_clickEventHandler:function(){this._clicked=!0},_removeSelection:function(){this._currentItem&&"true"!=this._currentItem.attr("aria-selected")&&this._currentItem.removeClass("e-active")},_focusElement:function(){this.element.hasClass("e-focus")||(this.element.addClass("e-focus"),this._on(this.element,"keyup",this._onKeyPress)._on(this.element,"keydown",this._onKeyPress),this._focusEnable)?(this._removeListHover(),this._activeItem=this._clicked?-1:0,(this._getActiveItem().hasClass("e-disable")||this._getActiveItem().is(":hidden"))&&(this._activeItem=e(this.items).filter('li:not([class*="e-disable"])').first().index()),this._addListHover()):this._focusEnable=!0}})}),
/*!
*  filename: ej.menu.min.js
*  version : 14.4.0.15
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min","./ej.checkbox.min"],e):e()}(function(){var e,t,n;e=jQuery,(t=Syncfusion).widget("ejMenu","ej.Menu",{element:null,model:null,validTags:["ul"],_setFirst:!1,_rootCss:"e-menu",angular:{terminal:!1},defaults:{height:"",width:"",animationType:"default",orientation:t.Orientation.Horizontal,menuType:"normalmenu",isResponsive:!0,contextMenuTarget:null,htmlAttributes:{},cssClass:"",openOnClick:!1,subMenuDirection:"none",enableCenterAlign:!1,showRootLevelArrows:!0,showSubLevelArrows:!0,enableAnimation:!0,enableSeparator:!0,enabled:!0,fields:{child:null,dataSource:null,query:null,tableName:null,id:"id",parentId:"parentId",text:"text",spriteCssClass:"spriteCssClass",url:"url",imageAttribute:"imageAttribute",htmlAttribute:"htmlAttribute",linkAttribute:"linkAttribute",imageUrl:"imageUrl"},enableRTL:!1,titleText:"Menu",excludeTarget:null,beforeOpen:null,open:null,close:null,mouseover:null,mouseout:null,click:null,keydown:null,create:null,destroy:null},dataTypes:{animationType:"enum",cssClass:"string",titleText:"string",openOnClick:"boolean",enabled:"boolean",enableCenterAlign:"boolean",showArrow:"boolean",showRootLevelArrows:"boolean",showSubLevelArrows:"boolean",enableSeparator:"boolean",isResponsive:"boolean",enableRTL:"boolean",enableAnimation:"boolean",fields:{dataSource:"data",query:"data",child:"data"},excludeTarget:"string",htmlAttributes:"data"},_setModel:function(i){for(var n in i)switch(n){case"menuType":i[n]=this.model.menuType;break;case"fields":this._wireEvents("_off"),this.element.empty().insertBefore(this.wrapper),this.wrapper.remove(),e.extend(this.model.fields,i[n]),this._intializeData(),this.model.enabled||this._wireEvents("_off");break;case"orientation":this._setOrientation(i[n]);break;case"showRootLevelArrows":this._addArrow(i[n],this.model.showSubLevelArrows);break;case"showSubLevelArrows":this._addArrow(this.model.showRootLevelArrows,i[n]);break;case"enableSeparator":this._setSeparator(i[n]);break;case"height":this._setHeight(i[n]);break;case"width":this._setWidth(i[n]);break;case"cssClass":this._setSkin(i[n]);break;case"isResponsive":this.model.isResponsive?this._responsiveLayout():(e(this.resWrap).remove(),e(this.wrapper).removeClass("e-menu-responsive"),e(this.element).removeClass("e-menu-responsive"),this.resWrap=null);break;case"htmlAttributes":this._addAttr(i[n]);break;case"enableRTL":this._setRTL(i[n]);break;case"enableCenterAlign":this._centerAlign(i[n]);break;case"excludeTarget":this.model.excludeTarget=i[n];break;case"enabled":this.model.enabled=i[n],this._controlStatus(i[n]);break;case"animationType":this._setAnimation(i[n]);break;case"enableAnimation":this.model.enableAnimation=i[n];break;case"openOnClick":this._hoverOpen=!i[n],this._hoverClose=!i[n];break;case"subMenuDirection":this._setSubMenuDirection(this.model.subMenuDirection);break;case"titleText":this.model.menuType!=t.MenuType.ContextMenu&&"vertical"!=this.model.orientation&&e(this.label).text(i[n])}},_destroy:function(){this.model.menuType==t.MenuType.ContextMenu?this._referenceElement.append(this._cloneElement):this._cloneElement.insertBefore(this.wrapper),this._cloneElement.removeClass("e-menu e-js"),this.wrapper.remove()},_init:function(){this._cloneElement=this.element.clone(),this.element.css("visibility","hidden"),this._setValues(),this._intializeData(),this.element.css("visibility","visible")},_setValues:function(){this._mouseOver=!0,this._hoverOpen=!0,this._hoverClose=!0,this._isMenuOpen=!1,this._hideSpeed=100,this._showSpeed=100,this._isSubMenuOpen=!1,this._isContextMenuOpen=!1,this._disabledMenuItems=[],this._hiddenMenuItems=[],this._delayMenuHover=0,this._delaySubMenuHover=0,this._delaySubMenuShow=0,this._preventContextOpen=!0,this._setAnimation(this.model.animationType),this._isFocused=!0},_intializeData:function(){t.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?(this._renderMenu(),this._wireEvents("_on")):(this._generateTemplate(this.model.fields.dataSource),this._renderMenu())},_renderMenu:function(){this._renderControl(),this._addArrow(this.model.showRootLevelArrows,this.model.showSubLevelArrows),this._renderArrow(),this._intializeMenu()},_renderControl:function(){"normalmenu"==this.model.menuType?(this.wrapper=t.buildTag("div"),this.wrapper.addClass(this.model.cssClass+" e-menu-wrap")):this.wrapper=t.buildTag("div.e-menu-wrap"),this.model.isResponsive&&this._responsiveLayout(),this.model.menuType!=t.MenuType.ContextMenu&&(this.wrapper.insertBefore(this.element),this.wrapper.append(this.element),null!=this.checkBox&&this.checkBox.ejCheckBox({size:"medium",change:this._oncheck})),this.element.addClass("e-menu e-widget e-box").attr({role:"menu",tabindex:0}),this._addAttr(this.model.htmlAttributes),this.model.enableRTL&&this._setRTL(this.model.enableRTL),this._setSubMenuDirection(this.model.subMenuDirection),"normalmenu"==this.model.menuType?"horizontal"==this.model.orientation?this.element.addClass("e-horizontal"):this.element.addClass("e-vertical"):this._contextMenu_Template(),this._addClass(),this.model.enableCenterAlign&&this._centerAlign(this.model.enableCenterAlign),this.model.enableSeparator&&this._setSeparator(!0),this.model.enabled||this.disable()},_responsiveLayout:function(){this.model.menuType!=t.MenuType.ContextMenu&&"vertical"!=this.model.orientation&&(this.wrapper.addClass("e-menu-responsive"),this.element.addClass("e-menu-responsive"),this.resWrap=t.buildTag("span.e-menu-res-wrap e-menu-responsive"),this.inResWrap=t.buildTag("span.e-in-wrap e-box e-menu-res-in-wrap"),this.label=t.buildTag("span.e-res-title",this.model.titleText),this.check=t.buildTag("span.e-check-wrap e-icon"),this.checkBox=t.buildTag("input#responsive.e-res-icon","",{opacity:0},{type:"checkbox"}),this.wrapper.append(this.resWrap),this.resWrap.append(this.inResWrap),this.inResWrap.append(this.label).append(this.check),this.check.append(this.checkBox))},_addAttr:function(t){var i=this;e.map(t,function(e,t){"class"==t?i.wrapper.addClass(e):"disabled"==t&&"disabled"==e?i.disable():i.element.attr(t,e)})},_oncheck:function(e){var t=this.element.parents(".e-menu-wrap").children(".e-menu");e.isChecked?t.removeClass("e-res-hide").addClass("e-res-show"):t.removeClass("e-res-show").addClass("e-res-hide")},_addClass:function(){this.element.find('li:has("> ul")').find("> a,> span").addClass("aschild"),this.element.find(">li").addClass("e-list").attr({role:"menuitem"}),this.element.find("li").find(">a, >span").addClass("e-menulink");var t,n,s=this.element.find(".e-list a.aschild"),r=this.element.find(".e-list span.aschild");for(i=0;i<s.length;i++)(t=e(s[i])).siblings().attr({"aria-hidden":!0}),t.parent().attr({"aria-haspopup":!0,role:"menu"}).addClass("e-haschild"),t.siblings("ul").children("li").addClass("e-list").attr("role","menuitem");for(i=0;i<r.length;i++)(n=e(r[i])).siblings().attr({"aria-hidden":!0}),n.parent().attr({"aria-haspopup":!0,role:"menu"}).addClass("e-haschild"),n.siblings("ul").children("li").addClass("e-list").attr("role","menuitem")},_renderArrow:function(){if(this.model.menuType!=t.MenuType.ContextMenu&&"vertical"!=this.model.orientation&&0==e(e(this.element).find("span.e-menu-arrow")).length){var i=t.buildTag("span.e-menu-arrow e-menu-left");e(i).append("<span class='e-arrowMenuOuter'></span>").append("<span class='e-arrowMenuInner'></span>"),this.element.find(">li.e-list.e-haschild").append(i)}},_generateTemplate:function(e){var i=this;e instanceof t.DataManager?e.executeQuery(this._columnToSelect(this.model.fields)).done(function(e){i._odataFlag=!0,i._generateItemTemplate(e.result),i._wireEvents("_on")}):(i._odataFlag=!1,this._generateItemTemplate(i.model.fields.dataSource),this._wireEvents("_on"))},_generateItemTemplate:function(e){for(var t,i=0;i<e.length;i++)(null==e[i][this.model.fields.parentId]||0==e[i][this.model.fields.parentId])&&(t=this._menuTemplate(e[i],e,this.model.fields),this.element.append(t))},_menuTemplate:function(i,n,s){var r,o,a,l,h,d,c,u,p,m,f;if((r=e(document.createElement("li"))).attr("class","e-list"),i[s.htmlAttribute]&&this._setAttributes(i[s.htmlAttribute],r),(o=e(document.createElement("a"))).attr("class","e-menulink"),i[s.imageUrl]&&""!=i[s.imageUrl]?((a=e(document.createElement("img"))).attr("src",i[s.imageUrl]),i[s.imageAttribute]&&this._setAttributes(i[s.imageAttribute],a),o.append(a)):i[s.spriteCssClass]&&""!=i[s.spriteCssClass]&&((l=e(document.createElement("span"))).addClass(i[s.spriteCssClass]),o.append(l)),o.append(i[s.text]),i[s.linkAttribute]&&this._setAttributes(i[s.linkAttribute],o),i[s.url]&&o.attr("href",i[s.url]),r.append(o),i[s.id]&&r.prop("id",i[s.id]),t.isNullOrUndefined(s.child)){if(!this._odataFlag&&(u=t.DataManager(s.dataSource).executeLocal(t.Query().where(s.parentId,t.FilterOperators.equal,i[s.id])))&&u.length>0){for(p=t.buildTag("ul"),m=0;m<u.length;m++)f=this._menuTemplate(u[m],s.dataSource,s),p.append(f);r.append(p)}}else if(this._odataFlag=!0,s.child.dataSource instanceof t.DataManager)h=this,d=t.Query(),e(r).attr({"aria-haspopup":!0,role:"menu"}).addClass("e-haschild"),(d=this._columnToSelect(s.child)).where(s.child.parentId,t.FilterOperators.equal,i[s.id]),(c=s.child.dataSource.executeQuery(d)).done(function(t){var i,n,o,a=t.result;if(a&&a.length>0){for(i=e(document.createElement("ul")),n=0;n<a.length;n++)o=h._menuTemplate(a[n],s.child.dataSource,s.child),i.append(o);r.append(i),e(r).children("a").addClass("aschild"),e(r).parent().hasClass("e-menu")&&h.model.showRootLevelArrows?e(r).children("a.aschild").append(e("<span>").addClass("e-icon e-arrowhead-down")).addClass("e-arrow-space"):h.model.showSubLevelArrows&&e(r).children("a.aschild").append(e("<span>").addClass("e-icon e-arrowhead-right")).addClass("e-arrow-space")}}),c.then(function(){h._renderArrow()});else if(t.isNullOrUndefined(i.child)||(t.isPlainObject(i.child)?u=t.DataManager(s.child.dataSource).executeLocal(t.Query().where(s.child.parentId,t.FilterOperators.equal,i[s.id])):i.child instanceof Array&&(u=i.child)),u&&u.length>0){for(p=e(document.createElement("ul")),m=0;m<u.length;m++)f=this._menuTemplate(u[m],s.child.dataSource,s.child),p.append(f);r.append(p)}return r},_setAttributes:function(e,t){for(var i in e)"class"==i?t.addClass(e[i]):t.attr(i,e[i])},_addArrow:function(t,i){if(t){var n="horizontal"==this.model.orientation?"e-arrowhead-down":"e-arrowhead-right";this.element.find('>li.e-list:has("> ul")').children("a,span").append(e("<span>").addClass("e-icon "+n)).addClass("e-arrow-space")}else this.element.find('>li.e-list:has("> ul")').children("a,span").removeClass("e-arrow-space").children("span.e-icon").remove();i?this.element.find(">li.e-list > ul li.e-list:has(>ul)").children("a,span").append(e("<span>").addClass("e-icon e-arrowhead-right")).addClass("e-arrow-space"):this.element.find(">li.e-list > ul li.e-list:has(>ul)").children("a,span").removeClass("e-arrow-space").children("span.e-icon").remove()},_intializeMenu:function(){0!=this.model.height&&this._setHeight(this.model.height),0!=this.model.width&&this._setWidth(this.model.width),"contextmenu"==this.model.menuType&&(this.model.openOnClick=!1),this.model.openOnClick&&(this._hoverOpen=!1,this._hoverClose=!1)},_setOrientation:function(e){"horizontal"==e?this.element.removeClass("e-vertical e-horizontal").addClass("e-horizontal"):this.element.removeClass("e-horizontal e-vertical").addClass("e-vertical")},_setHeight:function(e){"horizontal"==this.model.orientation&&"auto"!==e?(e="number"==typeof e?e+"px":e,this.element.find("> li").find(">a:first").css("line-height",e),this.model.showRootLevelArrows&&this.element.find("> li").find(">a:first").find("> span:first").css({"line-height":e,top:"0px"})):this.element.height(e)},_setWidth:function(e){this.element.css("width",e),"horizontal"===this.model.orientation&&this.model.isResponsive&&this.resWrap.css("width",e)},_setRTL:function(e){e?this.element.removeClass("e-rtl").addClass("e-rtl"):this.element.removeClass("e-rtl"),e&&"horizontal"===this.model.orientation?this.wrapper.removeClass("e-menu-rtl").addClass("e-menu-rtl"):this.wrapper.removeClass("e-menu-rtl"),this.model.subMenuDirection=e?"left":"right"},_setSubMenuDirection:function(e){"left"!=e&&"right"!=e&&(this.model.subMenuDirection=this.model.enableRTL?"left":"right")},_setAnimation:function(e){"none"===e?(this._showAnim="none",this._hideAnim="none"):(this._showAnim="slideDown",this._hideAnim="slideUp")},_controlStatus:function(e){1!=e?this.disable():this.enable()},_centerAlign:function(e){"horizontal"==this.model.orientation&&e?this.element.css("text-align","center"):this.element.css("text-align","inherit")},_columnToSelect:function(e){var i,n=[],s=t.Query();if(t.isNullOrUndefined(e.query)){for(i in e)"tableName"!==i&&"child"!==i&&"dataSource"!==i&&e[i]&&n.push(e[i]);n.length>0&&s.select(n),this.model.fields.dataSource.dataSource.url.match(e.tableName+"$")||t.isNullOrUndefined(e.tableName)||s.from(e.tableName)}else s=e.query;return s},_max_zindex:function(){var t,i,n;return"contextmenu"==this.model.menuType?(t=e(this._targetElement).parents()).push(this._targetElement):t=e(this.element).parents(),i=e("body").children(),index=i.index(this.popup),i.splice(index,1),e(i).each(function(e,i){t.push(i)}),!(n=Math.max.apply(n,e.map(t,function(t){if("static"!=e(t).css("position"))return parseInt(e(t).css("z-index"))||1})))||n<1e4?n=1e4:n+=1,n},_recursiveFunction:function(t,i){var n=this,s=!1;e.each(t,function(e,t){return t.Text==i?(n.selectedItem=t,s=!0,!1):(null!=t.ChildItems&&n._recursiveFunction(t.ChildItems,i),!s&&void 0)})},_contextMenu_Template:function(){var t=e(".e-menu-wrap #"+this.element[0].id).get(0);t&&e(t.parentElement).remove(),this.model.orientation="vertical",this.element.addClass(this.model.cssClass+" e-context"),this.element.css("display","none"),this._referenceElement=this.element.parent(),e("body").append(this.element),this.wrapper.insertBefore(this.element),this.wrapper.append(this.element)},_closeMenu:function(){this._hideAnimation(this.element.find('li.e-list:has("> ul")').find("> ul:visible"),this._hideAnim)},_onMenuIntent:function(e,t,i){t._delayMenuHover=window.setTimeout(function(){if(1==t._mouseOver&&i){var n=t._showAnim,s=t._hideAnim;t._showSpeed,t._hideSpeed,t._show(e,n,s)}},this._showSpeed)},_onHide:function(e,t,i){t._delaySubMenuHover=window.setTimeout(function(){0==t._mouseOver&&i&&(t._id,t._hideAnim,t._hideSpeed,t._closeAll())},t._hideSpeed)},_subMenuPos:function(t,i){var s,r,o,a,l,h,d,c,u,p=e(t).offset(),m=p.left,f=e("ul:first",t),g=e(t).outerWidth();if(null==p||p==n)return!1;o=f.outerWidth()+1,a=document.documentElement.clientWidth+e(document).scrollLeft(),"normalmenu"==this.model.menuType?e(t.parentNode).is(this.element)?"horizontal"==this.model.orientation?(f.css("top",e(t).outerHeight()+"px"),this.model.enableRTL?(r=m+g-o<0?m+g-o:1,f.css({left:"auto",right:r+"px"})):(s=a<m+o?m+o-a:1,f.css("left",-1*s+"px"))):"left"==i&&m>o||"right"==i&&a<=p.left+g+o?f.css("left",-(o+4)+"px"):f.css("left",e(t).outerWidth()+4+"px"):"left"==i&&m>o||"right"==i&&a<=p.left+g+o?f.css("left",-(o+4)+"px"):(f.css("left",e(t).outerWidth()+4+"px"),c=f.outerHeight(),(l=e(window).height())<c?(h=p.top-e(window).scrollTop(),f.css("top",4-h+"px")):l-p.top<c&&(h=l-p.top-c,f.css("top",h-2+"px"))):((a-=p.left+2*o+4)<0?(d=null==o?"-206.5px":"-"+(o+5)+"px",f.css("left",d)):f.parent("li.e-list").parent("ul").width()&&"right"==i?f.css("left",f.parent("li.e-list").parent("ul").width()+4+"px"):p.left>o&&f.css("left",-(o+4)+"px"),c=f.outerHeight(),p.top+c>e(window).height()?(u=-c+e(t).outerHeight(),c>p.top+e(t).outerHeight()/2?f.css("top",-c/2+"px"):f.css("top",u+"px")):f.css("top","0px"))},_setSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e+" e-menu-wrap")},_setSeparator:function(e){e?this.element.addClass("e-separator"):this.element.removeClass("e-separator")},_contextMenuEvents:function(t){this[t](e(this.model.contextMenuTarget),"mouseup taphold",this._ContextMenuHandler),this[t](this.element,"contextmenu",this._onDefaultPreventer),this[t](e(this.model.contextMenuTarget),"contextmenu",this._onDefaultPreventer),this[t](e(document),"mousedown",this._onContextClose)},_show:function(t,i,n){var s,r=e("> ul",t),o=this._max_zindex();r.attr({"aria-hidden":!1}),this._hideAnimation(e(t).siblings().find(" > ul:visible"),n),e.inArray(this._disabledMenuItems,t)>-1||("none"!=r.css("display")?(s=this.model.openOnClick?e(r):r.children().find("> ul"),this._hideAnimation(s,n)):e("> ul",t).children().find("> ul").hide(),this._subMenuPos(t,this.model.subMenuDirection),r.css({"z-index":o+1}),e(t).children("span.e-menu-arrow").css({"z-index":o+2}),"block"==e("> ul",t).css("display")||e(t).hasClass("e-disable-item")||(this._showAnimation(r,i),r.closest("li").addClass("e-active e-mfocused")),e(t).siblings("li.e-active").length>0&&e(t).siblings("li.e-active").removeClass("e-active e-mfocused"))},_closeAll:function(){this._hideAnimation(this.element.find('li.e-list:has("> ul")').find("> ul:visible"),this._hideAnim),this._hideAnimation(this.element.find("> ul:visible"),this._hideAnim)},_showAnimation:function(e,t){switch(t){case"slideDown":e.slideDown(this.model.enableAnimation?200:0);break;case"none":e.css("display","block")}},_hideAnimation:function(t,i){switch(i){case"slideUp":e(t).attr({"aria-hidden":!0}),t.slideUp(this.model.enableAnimation?100:0);break;case"none":t.css("display","none")}t.closest("li").removeClass("e-active e-mfocused")},_removeValue:function(i,n){for(var s=t.browserInfo(),r="8.0"===s.version&&"msie"===s.name?i[0].outerText:i[0].textContent,o=e(n).length,a=0,l=0==e(n).children("a").length?e(n).children("span"):e(n).children("a");a<=o;){if(e(l[a]).text()===r)return a;a++}},_createSubLevelItem:function(t,i){var n;(n=e(document.createElement("ul"))).append(i),t.append(n),t.attr({role:"menu","aria-haspopup":"true"}),t.addClass("e-haschild"),this.element.find('li:has("> ul")').find("> a,>span").addClass("aschild e-arrow-space"),this._insertArrows(n)},_insertArrows:function(t){this.model.showRootLevelArrows?t.find(">a,>span").append(e("<span>").addClass("e-icon e-arrowhead-down")).addClass("e-arrow-space"):t.find(">a,>span").removeClass("e-arrow-space").find(">span.e-icon").remove(),this.model.showSubLevelArrows?t.parent("li.e-list:has(>ul)").children("a,span").append(e("<span>").addClass("e-icon e-arrowhead-right")).addClass("e-arrow-space"):t.parent("li.e-list:has(>ul)").children("a,span").removeClass("e-arrow-space").find(">span.e-icon").remove()},_createMenuItem:function(t){var i,n,s,r;return(i=e(document.createElement("li"))).attr({class:"e-list",role:"menuitem"}),t.htmlAttribute&&this._setAttributes(t.htmlAttribute,i),t.text&&""!=t.text&&((n=e(document.createElement("a"))).attr({class:"e-menulink"}),t.imageUrl&&""!=t.imageUrl?((s=e(document.createElement("img"))).attr("src",t.imageUrl),t.imageAttribute&&this._setAttributes(t.imageAttribute,s),n.append(s)):t.spriteCssClass&&""!=t.spriteCssClass&&((r=e(document.createElement("span"))).addClass(t.spriteCssClass),n.append(r)),n.append(t.text),t.linkAttribute&&this._setAttributes(t.linkAttribute,n),t.url&&n.attr("href",t.url),i.append(n)),t.id&&i.prop("id",t.id),this.model.enabled||i.addClass("e-disable-item"),i},_insertNode:function(i,n,s){var r=0,o=0,a=0,l=[];for(e(n).is(this.element)?l.push(this.element):"string"==typeof n?l.push(this.element.find(n)):void 0===n?l.push(this.element):l.push(n),o=0;o<l.length;o++)for(a=0;a<l[o].length;a++)for(r=0;r<i.length&&!t.isNullOrUndefined(i[r]);r++)this._addItem(i[r],l[o][a],s)},_addItem:function(t,i,n){var s,r;switch(this._wireEvents("_off"),s=this._createMenuItem(t),i=e("default"===i?"#"+t.parentId:i),n){case"insert":0!=(r=e(i).is(this.element)?i:i.children("ul")).length?r.append(s):this._createSubLevelItem(i,s);break;case"insertBefore":e(i).is(this.element)?i.prepend(s):s.insertBefore(i);break;case"insertAfter":e(i).is(this.element)?i.append(s):s.insertAfter(i)}this._wireEvents("_on")},_removeItem:function(e){0==e.siblings("li").length?(e.closest("ul").siblings("a.aschild").removeClass("aschild e-arrow-space").children("span.e-icon").remove(),e.closest("ul").hasClass("e-menu")?e.remove():e.closest("ul").remove()):e.remove()},_hiddenElement:function(t){t.length>0&&-1==e.inArray(t[0],this._hiddenMenuItems)&&(t.addClass("e-hidden-item"),this._hiddenMenuItems.push(t[0]))},_showElement:function(t){t.length>0&&e.inArray(t[0],this._hiddenMenuItems)>-1&&(t.removeClass("e-hidden-item"),this._hiddenMenuItems.splice(this._hiddenMenuItems.indexOf(t[0]),1))},_getNodeByID:function(t){return"object"!=typeof t&&""!=t&&(t=this.element.find(".e-list"+t)),e(t)},_processItems:function(t,i){for(var n=this._getNodeByID(t),s=0;s<n.length;s++)i?this._showElement(e(n[s])):this._hiddenElement(e(n[s]))},insert:function(e,t){this._insertNode(e,t,"insert")},insertBefore:function(e,t){this._insertNode(e,t,"insertBefore")},insertAfter:function(e,t){this._insertNode(e,t,"insertAfter")},remove:function(t){var i=0,n=0;for(i=0;i<t.length;i++)for(t[i]="string"==typeof t[i]?this.element.find(t[i]):t[i],n=0;n<t[i].length;n++)"LI"===t[i][n].tagName||"UL"===t[i][n].tagName?this._removeItem(e(t[i][n])):t[i][n].remove()},showContextMenu:function(i,n,s,r,o){if(this._closeMenu(),this._eventArgs=r,t.isNullOrUndefined(r)||!this._checkForExclusion(r.target)){if(this._trigger("beforeOpen",{target:s,events:r}))return!1;if(this._preventContextOpen){if(this._targetElement=t.isNullOrUndefined(s)?t.isNullOrUndefined(target)?this.element:target:s,o){var a=this._calculateContextMenuPosition(r);i=a.X,n=a.Y}this.element.css({left:i,top:n}),this.element.css({"z-index":this._max_zindex()+1}),this._showAnimation(this.element,this._showAnim),this._isContextMenuOpen=!0,this.element.focus(),this._trigger("open",{target:s}),this._on(t.getScrollableParents(e(this.model.contextMenuTarget)),"scroll",this.hideContextMenu)}return!1}},_checkForExclusion:function(i){var n,s;if(!t.isNullOrUndefined(this.model.excludeTarget))for(n=this.model.excludeTarget.split(","),s=0;s<n.length;s++)if(e(i).closest(this.model.excludeTarget).is(e.trim(n[s])))return!0},hideContextMenu:function(i){this._closeMenu(),this.element.find(".e-mhover").removeClass("e-mhover"),this.element.find(".e-mfocused").removeClass("e-mfocused"),this._hideAnimation(this.element,this._hideAnim),this._isContextMenuOpen=!1,this._trigger("close",e.extend({events:i},i)),this._off(t.getScrollableParents(e(this.model.contextMenuTarget)),"scroll",this.hideContextMenu)},disableItem:function(t){var i=e(this.element.find("li.e-list >a ,li.e-list >span")).filter(function(){return e.trim(e(this).text())===t});i.length>0&&!(e.inArray(i.parent()[0],this._disabledMenuItems)>-1)&&(i.parent().addClass("e-disable-item").attr({"aria-disabled":!0}),i.parent().find(">a.aschild span.e-icon").addClass("e-disable"),this._disabledMenuItems.push(i.parent()[0]))},disableItemByID:function(t){if(t&&""!=t){var i=this.element.find("#"+t)?this.element.find("#"+t)[0]:n;!i||e.inArray(i,this._disabledMenuItems)>-1||(e(i).addClass("e-disable-item").attr({"aria-disabled":!0}),e(i).find(">a.aschild span.e-icon").addClass("e-disable"),this._disabledMenuItems.push(i))}},getHiddenItems:function(){return this._hiddenMenuItems},hideItems:function(e){if("object"==typeof e&&e.length!==n)for(var t=0;t<e.length;t++)this._processItems(e[t],!1);else this._processItems(e,!1)},showItems:function(e){if("object"==typeof e&&e.length!==n)for(var t=0;t<e.length;t++)this._processItems(e[t],!0);else this._processItems(e,!0)},enableItem:function(t){var i,n=e(this.element.find("li.e-list >a ,li.e-list >span")).filter(function(){return e.trim(e(this).text())===t});n.length>0&&e.inArray(n.parent()[0],this._disabledMenuItems)>-1&&(n.parent().removeClass("e-disable-item").attr({"aria-disabled":!1}),n.parent().find(">a.aschild span.e-icon").removeClass("e-disable"),i=this._removeValue(n,this._disabledMenuItems),this._disabledMenuItems.splice(i,1))},enableItemByID:function(t){var i,n;if(t&&""!=t&&(i=this.element.find("#"+t)[0])&&e.inArray(i,this._disabledMenuItems)>-1)for(e(i).removeClass("e-disable-item").attr({"aria-disabled":!1}),e(i).find(">a.aschild span.e-icon").removeClass("e-disable"),n=this._disabledMenuItems.length-1;n>=0;n--)this._disabledMenuItems[n].id==t&&this._disabledMenuItems.splice(n,1)},disable:function(){this.model.enabled=!1;var t=this.element.find(">li[class~=e-list]"),i=this;e.each(t,function(t,n){e.inArray(n,i._disabledMenuItems)>-1||(e(n).addClass("e-disable-item").attr({"aria-disabled":!0}),e(n).find(">a.aschild span.e-icon").addClass("e-disable"),i._disabledMenuItems.push(n))})},enable:function(){var t,i=this;this.model.enabled=!0,t=this.element.find("li.e-disable-item"),e.each(t,function(t,n){e(n).removeClass("e-disable-item").attr({"aria-disabled":!1}),e(n).find(">a.aschild span.e-icon").removeClass("e-disable"),i._disabledMenuItems.pop(n)})},show:function(e,t,i,n){if(!this.model.enabled)return!1;"contextmenu"==this.model.menuType?this.showContextMenu(e,t,i,n,!1):this.element.css("display","block")},hide:function(e){if(!this.model.enabled)return!1;"contextmenu"==this.model.menuType?this.hideContextMenu(e):(this._closeMenu(),this.element.css("display","none"))},_wireEvents:function(t){this[t](this.element.find("li.e-list"),"mouseout",this._mouseOutHandler),this[t](this.element.find("li.e-list"),"mouseover",this._mouseOverHandler),this[t](this.element,"click",this._onClickHandler),this[t](this.element,"keydown",this._onKeyDownHandler),this[t](this.element,"focus",this._OnFocusHandler),this[t](this.element,"blur",this._OnFocusOutHandler),"contextmenu"==this.model.menuType&&null!=e(this.model.contextMenuTarget)[0]&&this._contextMenuEvents(t),"contextmenu"!=this.model.menuType&&(this[t](e(document),"click",this._onDocumentClick),this[t](this.element,"mousedown",this._onMouseDownHandler))},_mouseOverHandler:function(i){var n,s;if(this.element.find(".e-mhover").removeClass("e-mhover"),i.currentTarget=e(i.target).closest("li")[0],e(i.currentTarget).hasClass("e-disable-item")?this._isFocused=!1:e(i.currentTarget).addClass("e-mhover"),i.stopPropagation&&i.stopPropagation(),void 0!==this._delaySubMenuHover&&clearTimeout(this._delaySubMenuHover),void 0!==this._delaySubMenuHover&&clearTimeout(this._delayMenuHover),this._mouseOver=!0,this._isMenuOpen=!0,this._isSubMenuOpen=!e(i.currentTarget.parentNode.parentNode).is(this.element),"LI"==i.currentTarget.nodeName)n=i.currentTarget;else{if(!i.currentTarget.parentNode)return i.preventDefault(),!1;if("LI"!=i.currentTarget.parentNode.nodeName)return!1;n=i.currentTarget.parentNode}e(i.currentTarget).hasClass("e-disable-item")||this._onMenuIntent(n,this,this._hoverOpen),e.inArray(n,this._disabledMenuItems)>-1||(s={text:e(n).children("a,span").text(),element:n,event:i,ID:t.isNullOrUndefined(n)?"":e(n)[0].id},this._trigger("mouseover",e.extend({events:s},s)))},_onMouseDownHandler:function(t){e(t.target).hasClass("e-menu")&&(this._isFocused=!1)},_mouseOutHandler:function(i){var n,s;if(e(i.currentTarget).removeClass("e-mhover"),i.stopPropagation&&i.stopPropagation(),void 0!==this._delaySubMenuHover&&clearTimeout(this._delaySubMenuHover),void 0!==this._delaySubMenuHover&&clearTimeout(this._delayMenuHover),this._mouseOver=!1,this._isMenuOpen=!1,"LI"==i.currentTarget.nodeName)n=i.currentTarget;else{if(!i.currentTarget.parentNode)return i.preventDefault(),!1;if("LI"!=i.currentTarget.parentNode.nodeName)return!1;n=i.currentTarget.parentNode}this._onHide(n,this,this._hoverClose),e.inArray(n,this._disabledMenuItems)>-1||(s={text:e(n).children("a,span").text(),element:n,event:i,ID:t.isNullOrUndefined(n)?"":e(n)[0].id},this._trigger("mouseout",e.extend({events:s},s)))},_onClickHandler:function(i){var n,s,r,o,a,l="";this._isFocused=!0,s=!1,!e(i.target).closest("li.e-list").hasClass("e-disable-item")&&e(i.target).closest("li.e-list").length>0?(n=e(i.target).closest("li.e-list")[0],e(n).is(this.element.find(">li.e-list"))&&(this._activeElement=n),e(i.target).is("a")&&e(n).find(">a,>span").hasClass("aschild")&&this.model.openOnClick&&(this._isFocused=!1),!this._hoverOpen&&e(n).find(">a,>span").hasClass("aschild")&&(this._show(n,this._showAnim,this._hideAnim),this._hoverOpen=!1,s=!0),e.inArray(n,this._disabledMenuItems)>-1||("contextmenu"==this.model.menuType&&this._isContextMenuOpen&&!e(n).hasClass("e-haschild")&&(this._hideAnimation(this.element,this._hideAnim),this._isContextMenuOpen=!1,this._trigger("close",e.extend({events:i},i)),this._off(t.getScrollableParents(e(this.model.contextMenuTarget)),"scroll",this.hideContextMenu)),s||e(n).find(">a,>span").hasClass("aschild")||(this._closeMenu(),this.model.openOnClick&&(this._hoverOpen=!1)),r=e(n).children("a,span").text(),0!=(o=e(n).closest("ul").parent("li")).length?(parentId=t.isNullOrUndefined(o.attr("id"))?null:o.attr("id"),parentText=o.children("a,span").text()):(parentId=null,parentText=null),l=t.isNullOrUndefined(n)?"":e(n)[0].id,a={text:r,element:n,event:i,selectedItem:this.selectedItem,ID:l,parentId:parentId,parentText:parentText},this._trigger("click",e.extend({events:a},a)),this.selectedItem=null,this.model.openOnClick&&"contextmenu"!=this.model.menuType&&this.element.focus())):e(i.target).is(this.element)&&(this._activeElement=this.element.find(">li:first"))},_onKeyDownHandler:function(i){var n,s,r;if("contextmenu"!=this.model.menuType||this._isContextMenuOpen){var o,a,l,h="",d=this.element.find(".e-mhover"),c=this.element.find(".e-mfocused");if(!e(d).length>0&&e(this._activeElement).length>0&&(d=c=e(this._activeElement)),9==i.keyCode?(this._isFocused=!1,this._OnFocusOutHandler()):(37==i.keyCode||38==i.keyCode||39==i.keyCode||40==i.keyCode)&&i.preventDefault(),40==i.keyCode&&("horizontal"==this.model.orientation?this.element.find(">li.e-mhover").children("ul").length>0||e(this._activeElement).length>0?("none"===e(d).children("ul").css("display")&&this._show(d[d.length-1],this._showAnim,this._hideAnim),d.removeClass("e-mhover e-mfocused").children("ul:first").find("li:first").addClass("e-mhover"),null==this._activeElement?d.addClass("e-mfocused"):e(this._activeElement).addClass("e-mfocused")):(liVisible=d.parent().children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),e(d[d.length-1]).removeClass("e-mfocused e-mhover"),(a=e(liVisible[liVisible.index(d)+1]).length>0?e(liVisible[liVisible.index(d[d.length-1])+1]):liVisible.first()).addClass("e-mhover")):"horizontal"!=this.model.orientation&&(liVisible=0==d.length?this.element.children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"):d.parent().children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),d.removeClass("e-mfocused e-mfocused"),d.length>0?(d.removeClass("e-mhover"),a=e(liVisible[liVisible.index(d[d.length-1])+1]).length>0?e(liVisible[liVisible.index(d[d.length-1])+1]):liVisible.first()):a=liVisible.first(),a.addClass("e-mhover"))),39==i.keyCode&&("horizontal"==this.model.orientation&&(this.element.find(">li.e-list").hasClass("e-mhover")||e(this._activeElement).length>0)?(d.removeClass("e-mfocused e-mhover"),liVisible=this.element.children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),(a=e(liVisible[liVisible.index(d[d.length-1])+1]).length>0?e(liVisible[liVisible.index(d[d.length-1])+1]):liVisible.first()).addClass("e-mhover")):e(d).children("ul").length>0?(d.removeClass("e-mfocused e-mhover"),n=d.children("ul:first").find("li:first"),this._show(d[d.length-1],this._showAnim,this._hideAnim),liVisible=d.addClass("e-mfocused").children("ul:first").children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),(a=e(liVisible[liVisible.index(n)]).length>0?e(liVisible[liVisible.index(n)]):liVisible.first()).addClass("e-mhover")):d.children("ul").length<=0&&"horizontal"==this.model.orientation&&d.parent().closest(".e-list").parent().hasClass("e-menu")&&(this._hideAnimation(d.parent(),this._hideAnim),d.removeClass("e-mfocused e-mhover"),e(c[c.length-1]).removeClass("e-mfocused"),liVisible=d.parent().closest(".e-list").parent().children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),(a=e(liVisible[liVisible.index(c[c.length-1])+1]).length>0?e(liVisible[liVisible.index(c[c.length-1])+1]):e(liVisible[liVisible.index(c.first())])).addClass("e-mhover"))),38==i.keyCode&&("horizontal"==this.model.orientation?(liVisible=d.parent().children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),d.removeClass("e-mfocused e-mhover"),a=e(liVisible[liVisible.index(d[d.length-1])-1]).length>0?e(liVisible[liVisible.index(d[d.length-1])-1]):liVisible.last()):"horizontal"!=this.model.orientation&&(liVisible=0==d.length?this.element.children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"):d.parent().children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),d.length>0?(d.removeClass("e-mfocused e-mhover"),a=e(liVisible[liVisible.index(d[d.length-1])-1]).length>0?e(liVisible[liVisible.index(d[d.length-1])-1]):liVisible.last()):a=liVisible.last()),a.addClass("e-mhover")),37==i.keyCode&&("horizontal"==this.model.orientation?this.element.find(">li.e-list").hasClass("e-mhover")||e(this._activeElement).length>0?(d.removeClass("e-mfocused e-mhover"),liVisible=this.element.find("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),(a=e(liVisible[liVisible.index(d[d.length-1])-1]).length>0?e(liVisible[liVisible.index(d[d.length-1])-1]):liVisible.last()).addClass("e-mhover")):(this._hideAnimation(d.parent(),this._hideAnim),d.removeClass("e-mfocused e-mhover"),e(c[c.length-1]).removeClass("e-mfocused e-active"),liVisible=d.parent().closest(".e-list").parent().children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),(a=d.parent().closest(".e-list").parent(".e-menu").length>0?e(liVisible[liVisible.index(c[c.length-1])-1]).length>0?e(liVisible[liVisible.index(c[c.length-1])-1]):liVisible.last():e(liVisible[liVisible.index(c[c.length-1])]).length>0?e(liVisible[liVisible.index(c[c.length-1])]):liVisible.last()).addClass("e-mhover")):(0==d.parent("ul.e-menu").length||"contextmenu"==this.model.menuType&&0==d.parent("ul.e-context").length)&&(this._hideAnimation(d.parent(),this._hideAnim),d.removeClass("e-mfocused e-mhover"),e(c[c.length-1]).removeClass("e-mfocused"),liVisible=d.parent().closest(".e-list").parent().children("li.e-list:visible:not(.e-hidden-item, .e-disable-item)"),(a=e(liVisible[liVisible.index(c[c.length-1])]).length>0?e(liVisible[liVisible.index(c[c.length-1])]):e(liVisible[liVisible.index(c.last())])).addClass("e-mhover"))),13==i.keyCode&&(s=e(d).children("a,span").text(),h=t.isNullOrUndefined(e(d)[0])?"":e(d)[0].id,r={menuId:this.element[0].id,text:s,selectedItem:c,ID:h},"contextmenu"==this.model.menuType?this._isContextMenuOpen&&d.length>0&&!c.hasClass("e-disable-item")&&(this.model.click&&this._trigger("click",e.extend({events:r},r)),this.selectedItem=null,this.hideContextMenu(i)):d.length>0&&!d.hasClass("e-disable-item")&&(e(d).find(">a,>span").hasClass("aschild")&&"none"===e(d).children("ul").css("display")?(this._show(d[0],this._showAnim,this._hideAnim),d.removeClass("e-mhover").children("ul:first").find("li:first").addClass("e-mhover")):(this.element.find(".e-mhover >a,.e-mhover >span ").focus(),this.element.find("li.e-list").removeClass("e-mhover e-mfocused"),this._closeAll()),t.isNullOrUndefined(e(d).find(">a").attr("href"))&&this._trigger("click",e.extend({events:r},r)))),27==i.keyCode&&("contextmenu"==this.model.menuType?this.hideContextMenu(i):this.element.find("li.e-list").removeClass("e-mhover"),this.element.find('li.e-list:has("> ul")').find("> ul:visible").parents("li.e-list").addClass("e-mhover"),this._closeAll()),!e(i.target).is(this.element)||!i.target.parentNode)return!1;d.length&&(o=d),e.inArray(o,this._disabledMenuItems)>-1||(s=e(o).children("a,span").text(),h=t.isNullOrUndefined(o)?"":e(o)[0].id,(this.element.find("li.e-mfocused.e-mhover").length||13==i.keyCode)&&(l=13==i.keyCode?d:this.element.find("li.e-mfocused.e-mhover")),r={text:s,element:o,targetElement:l,event:i,ID:h},this._trigger("keydown",e.extend({events:r},r))),this._activeElement=null,c=this.element.find(".e-mfocused")}},_OnFocusHandler:function(){"contextmenu"!=this.model.menuType&&!this.element.find(">li:first").hasClass("e-disable-item")&&this._isFocused&&0==this.element.find(".e-mhover").length?this.element.find(">li:first").addClass("e-mhover"):this._isFocused=!0,"contextmenu"!=this.model.menuType&&(this._activeElement=this.element.find(">li:first"))},_OnFocusOutHandler:function(){this._isFocused||(this.element.find("li.e-list").removeClass("e-mhover e-mfocused"),this._closeAll()),this._isFocused=!1},_onDocumentClick:function(t){this.model.openOnClick&&(this._hoverOpen=!1),e(t.target).parents("ul.e-menu").is(this.element)||(this.element.find("li.e-list").removeClass("e-mhover e-mfocused"),this._closeAll(),this._isFocused=!0)},_ContextMenuHandler:function(e){var t,i,n,s,r=!1;"taphold"==e.type?r=!0:e.button?r=2==e.button:e.which&&(r=3==e.which),t=e.target,r?(i=e,"taphold"==e.type&&(i="touchstart"==e.options.type?e.options.touches[0]:e.options),this._showSpeed,this.showContextMenu(null,null,t,i,!0)):this._isContextMenuOpen&&(n=this._hideAnim,s=this._hideSpeed,this.hideContextMenu(e,n,s))},_calculateContextMenuPosition:function(t){locationX=t.clientX+this.element.width()<e(window).width()?t.pageX:t.pageX-this.element.width(),locationY=t.clientY+this.element.height()<e(window).height()?t.pageY:t.clientY>this.element.height()?t.pageY-this.element.height():e(window).height()-this.element.outerHeight();var i="static"!=e("body").css("position")?e("body").offset():{left:0,top:0};return locationX-=i.left,locationY-=i.top,{X:locationX,Y:locationY}},_onDefaultPreventer:function(e){return e.preventDefault(),e.stopPropagation(),!1},_onContextClose:function(t){var i,n,s,r,o=this;this._isContextMenuOpen&&(i=!1,(e(t.target).is(this.element)||e(t.target).parents(".e-context").is(this.element))&&(i=!0),i||(n=this._hideAnim,s=this._hideSpeed,this.hideContextMenu(t,n,s),r=e(t.target).parents(),e.each(r,function(e,t){t.id,o._ContextTargetId})))}}),t.MenuType={NormalMenu:"normalmenu",ContextMenu:"contextmenu"},t.Direction={Left:"left",Right:"right",None:"none"},t.AnimationType={None:"none",Default:"default"}}),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";var t,i,n,s,r=["sanitize","whiteList","sanitizeFn"],o=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],a=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,h=["title","placeholder"];function d(t,i,n){if(n&&"function"==typeof n)return n(t);for(var s=Object.keys(i),r=0,h=t.length;r<h;r++)for(var d=t[r].querySelectorAll("*"),c=0,u=d.length;c<u;c++){var p=d[c],m=p.nodeName.toLowerCase();if(-1===s.indexOf(m))p.parentNode.removeChild(p);else for(var f=[].slice.call(p.attributes),g=[].concat(i["*"]||[],i[m]||[]),v=0,_=f.length;v<_;v++){var b=f[v];!function(t,i){var n=t.nodeName.toLowerCase();if(-1!==e.inArray(n,i))return-1===e.inArray(n,o)||Boolean(t.nodeValue.match(a)||t.nodeValue.match(l));for(var s=e(i).filter(function(e,t){return t instanceof RegExp}),r=0,h=s.length;r<h;r++)if(n.match(s[r]))return 1}(b,g)&&p.removeAttribute(b.nodeName)}}}function c(e){var t,i={};return h.forEach(function(n){(t=e.attr(n))&&(i[n]=t)}),!i.placeholder&&i.title&&(i.placeholder=i.title),i}if(!("classList"in document.createElement("_"))&&"Element"in(m=window)){var u="classList",p="prototype",m=m.Element[p],f=Object,g=function(){var t=e(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.removeClass(e)},toggle:function(e,i){return t.toggleClass(e,i)},contains:function(e){return t.hasClass(e)}}};if(f.defineProperty){var v={get:g,enumerable:!0,configurable:!0};try{f.defineProperty(m,u,v)}catch(p){void 0!==p.number&&-2146823252!==p.number||(v.enumerable=!1,f.defineProperty(m,u,v))}}else f[p].__defineGetter__&&m.__defineGetter__(u,g)}function _(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==s.call(e))throw new TypeError;var i=t.length,n=String(e),r=n.length,o=((e=(e=1<arguments.length?arguments[1]:void 0)?Number(e):0)!=e&&(e=0),Math.min(Math.max(e,0),i));if(i<r+o)return!1;for(var a=-1;++a<r;)if(t.charCodeAt(o+a)!=n.charCodeAt(a))return!1;return!0}function b(){var e=this.selectpicker.main.data,t=(e=this.options.source.data||this.options.source.search?Object.values(this.selectpicker.optionValuesDataMap):e).filter(function(e){return!(!e.selected||this.options.hideDisabled&&e.disabled)},this);if(this.options.source.data&&!this.multiple&&1<t.length){for(var i=0;i<t.length-1;i++)t[i].selected=!1;t=[t[t.length-1]]}return t}function y(e){for(var t,i=[],n=e||b.call(this),s=0,r=n.length;s<r;s++)(t=n[s]).disabled||i.push(void 0===t.value?t.text:t.value);return this.multiple?i:i.length?i[0]:null}(v=document.createElement("_")).classList.add("c1","c2"),v.classList.contains("c2")||(t=DOMTokenList.prototype.add,i=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,t.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,i.bind(this))}),v.classList.toggle("c3",!1),v.classList.contains("c3")&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}),v=null,Object.values="function"==typeof Object.values?Object.values:function(e){return Object.keys(e).map(function(t){return e[t]})},String.prototype.startsWith||(s={}.toString,Object.defineProperty?Object.defineProperty(String.prototype,"startsWith",{value:_,configurable:!0,writable:!0}):String.prototype.startsWith=_);var w={useDefault:!1,_set:e.valHooks.select.set},$=(e.valHooks.select.set=function(t,i){return i&&!w.useDefault&&e(t).data("selected",!0),w._set.apply(this,arguments)},null),C=function(){try{return new Event("change"),!0}catch(e){return!1}}();function x(e,t,i,n){for(var s=["display","subtext","tokens"],r=!1,o=0;o<s.length;o++){var a=s[o],l=e[a];if(l&&(l=l.toString(),"display"===a&&(l=l.replace(/<[^>]+>/g,"")),l=(l=n?A(l):l).toUpperCase(),r="function"==typeof i?i(l,t):"contains"===i?0<=l.indexOf(t):l.startsWith(t)))break}return r}function S(e){return parseInt(e,10)||0}e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent&&(C?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t))};var I={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},k=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,T=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function O(e){return I[e]}function A(e){return(e=e.toString())&&e.replace(k,O).replace(T,"")}D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},f="(?:"+Object.keys(D).join("|")+")",L=RegExp(f),P=RegExp(f,"g");var D,L,P,j=function(e){return L.test(e=null==e?"":""+e)?e.replace(P,M):e};function M(e){return D[e]}var E={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},N=window.Dropdown||bootstrap.Dropdown;function R(){var t;try{t=e.fn.dropdown.Constructor.VERSION}catch(e){t=N.VERSION}return t}var U={success:!1,major:"3"};try{U.full=(R()||"").split(" ")[0].split("."),U.major=U.full[0],U.success=!0}catch(p){}var B=0,z=".bs.select",V={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},H={MENU:"."+V.MENU,DATA_TOGGLE:'data-toggle="dropdown"'},W={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment(),option:document.createElement("option")},F=(W.selectedOption=W.option.cloneNode(!1),W.selectedOption.setAttribute("selected",!0),W.noResults=W.li.cloneNode(!1),W.noResults.className="no-results",W.a.setAttribute("role","option"),W.a.className="dropdown-item",W.subtext.className="text-muted",W.text=W.span.cloneNode(!1),W.text.className="text",W.checkMark=W.span.cloneNode(!1),new RegExp("38|40")),q=new RegExp("^9$|27"),G={li:function(e,t,i){var n=W.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?n.appendChild(e):n.innerHTML=e),void 0!==t&&""!==t&&(n.className=t),null!=i&&n.classList.add("optgroup-"+i),n},a:function(e,t,i){var n=W.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&n.classList.add.apply(n.classList,t.split(/\s+/)),i&&n.setAttribute("style",i),n},text:function(e,t){var i,n,s=W.text.cloneNode(!1);if(e.content?s.innerHTML=e.content:(s.textContent=e.text,e.icon&&(i=W.whitespace.cloneNode(!1),(n=(!0===t?W.i:W.span).cloneNode(!1)).className=this.options.iconBase+" "+e.icon,W.fragment.appendChild(n),W.fragment.appendChild(i)),e.subtext&&((n=W.subtext.cloneNode(!1)).textContent=e.subtext,s.appendChild(n))),!0===t)for(;0<s.childNodes.length;)W.fragment.appendChild(s.childNodes[0]);else W.fragment.appendChild(s);return W.fragment},label:function(e){var t,i,n=W.text.cloneNode(!1);return n.innerHTML=e.display,e.icon&&(t=W.whitespace.cloneNode(!1),(i=W.span.cloneNode(!1)).className=this.options.iconBase+" "+e.icon,W.fragment.appendChild(i),W.fragment.appendChild(t)),e.subtext&&((i=W.subtext.cloneNode(!1)).textContent=e.subtext,n.appendChild(i)),W.fragment.appendChild(n),W.fragment}},K={fromOption:function(e,t){var i;switch(t){case"divider":i="true"===e.getAttribute("data-divider");break;case"text":i=e.textContent;break;case"label":i=e.label;break;case"style":i=e.style.cssText;break;case"title":i=e.title;break;default:i=e.getAttribute("data-"+t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}))}return i},fromDataSource:function(e,t){var i;switch(t){case"text":case"label":i=e.text||e.value||"";break;default:i=e[t]}return i}};function Q(e,t){e.length||(W.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+j(t)+'"'),this.$menuInner[0].firstChild.appendChild(W.noResults))}function J(e){return!(e.hidden||this.options.hideDisabled&&e.disabled)}function Y(t,i){var n=this;w.useDefault||(e.valHooks.select.set=w._set,w.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{data:[],optionQueue:W.fragment.cloneNode(!1),hasMore:!1},search:{data:[],hasMore:!1},current:{},view:{},optionValuesDataMap:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){n.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},"number"==typeof(t=this.options.windowPadding)&&(this.options.windowPadding=[t,t,t,t]),this.val=Y.prototype.val,this.render=Y.prototype.render,this.refresh=Y.prototype.refresh,this.setStyle=Y.prototype.setStyle,this.selectAll=Y.prototype.selectAll,this.deselectAll=Y.prototype.deselectAll,this.destroy=Y.prototype.destroy,this.remove=Y.prototype.remove,this.show=Y.prototype.show,this.hide=Y.prototype.hide,this.init()}function X(t){var i,n=arguments,s=t;if([].shift.apply(n),!U.success){try{U.full=(R()||"").split(" ")[0].split(".")}catch(t){Y.BootstrapVersion?U.full=Y.BootstrapVersion.split(" ")[0].split("."):(U.full=[U.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",t))}U.major=U.full[0],U.success=!0}if("4"<=U.major){var o=[];Y.DEFAULTS.style===V.BUTTONCLASS&&o.push({name:"style",className:"BUTTONCLASS"}),Y.DEFAULTS.iconBase===V.ICONBASE&&o.push({name:"iconBase",className:"ICONBASE"}),Y.DEFAULTS.tickIcon===V.TICKICON&&o.push({name:"tickIcon",className:"TICKICON"}),V.DIVIDER="dropdown-divider",V.SHOW="show",V.BUTTONCLASS="btn-light",V.POPOVERHEADER="popover-header",V.ICONBASE="",V.TICKICON="bs-ok-default";for(var a=0;a<o.length;a++)t=o[a],Y.DEFAULTS[t.name]=V[t.className]}"4"<U.major&&(H.DATA_TOGGLE='data-bs-toggle="dropdown"');var l=this.each(function(){var t=e(this);if(t.is("select")){var o=t.data("selectpicker"),a="object"==typeof s&&s;if(a.title&&(a.placeholder=a.title),o){if(a)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o.options[l]=a[l])}else{var h,d=t.data();for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&-1!==e.inArray(h,r)&&delete d[h];var u=e.extend({},Y.DEFAULTS,e.fn.selectpicker.defaults||{},c(t),d,a);u.template=e.extend({},Y.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},d.template,a.template),u.source=e.extend({},Y.DEFAULTS.source,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.source:{},a.source),t.data("selectpicker",o=new Y(this,u))}"string"==typeof s&&(i=o[s]instanceof Function?o[s].apply(o,n):o.options[s])}});return void 0!==i?i:l}Y.VERSION="1.14.0-beta3",Y.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",source:{pageSize:40},chunkSize:40,doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:V.BUTTONCLASS,size:"auto",title:null,placeholder:null,allowClear:!1,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:V.ICONBASE,tickIcon:V.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!0,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},Y.prototype={constructor:Y,init:function(){var t=this,i=this.$element.attr("id"),n=this.$element[0],s=n.form;B++,this.selectId="bs-select-"+B,n.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),n.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),s&&null===n.form&&(s.id||(s.id="form-"+this.selectId),n.setAttribute("form",s.id)),this.$button=this.$newElement.children("button"),this.options.allowClear&&(this.$clearButton=this.$button.children(".bs-select-clear-selected")),this.$menu=this.$newElement.children(H.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),n.classList.remove("bs-select-hidden"),this.fetchData(function(){t.render(!0),t.buildList(),requestAnimationFrame(function(){t.$element.trigger("loaded"+z)})}),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(V.MENURIGHT),void 0!==i&&this.$button.attr("data-id",i),this.checkDisabled(),this.clickListener(),4<U.major&&(this.dropdown=new N(this.$button[0])),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+z,function(){var e,i;t.isVirtual()&&(i=(e=t.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(i,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide"+z,e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden"+z,e)},"show.bs.dropdown":function(e){t.$element.trigger("show"+z,e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown"+z,e)}}),n.hasAttribute("required")&&this.$element.on("invalid"+z,function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown"+z+".invalid",function(){t.$element.val(t.$element.val()).off("shown"+z+".invalid")}).on("rendered"+z,function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered"+z)}),t.$button.on("blur"+z,function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur"+z)})}),s&&e(s).on("reset"+z,function(){requestAnimationFrame(function(){t.render()})})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.multiple?' aria-multiselectable="true"':"",n="",s=this.autofocus?" autofocus":"";U.major<4&&this.$element.parent().hasClass("input-group")&&(n=" input-group-btn");var r="",o="",a="",l="",h="";return this.options.header&&(r='<div class="'+V.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(o='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+j(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm"><button type="button" class="actions-btn bs-select-all btn '+V.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+V.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group"><button type="button" class="btn btn-sm '+V.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),this.options.allowClear&&(h='<span class="close bs-select-clear-selected" title="'+this.options.deselectAllText+'"><span>&times;</span>'),t='<div class="dropdown bootstrap-select'+t+n+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+H.DATA_TOGGLE+s+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner">&nbsp;</div></div> </div>'+h+"</span>"+("4"<=U.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+V.MENU+" "+("4"<=U.major?"":V.SHOW)+'">'+r+o+a+'<div class="inner '+V.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+i+'><ul class="'+V.MENU+" inner "+("4"<=U.major?V.SHOW:"")+'" role="presentation"></ul></div>'+l+"</div></div>",e(t)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex&&(this.selectpicker.view.firstHighlightIndex=e)),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.data.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,i,n){var s=this,r=0;function o(e,i){var n,r=s.selectpicker.current.data.length,a=[],l=!0,h=s.isVirtual();s.selectpicker.view.scrollTop=e;for(var c,u=s.options.chunkSize,p=Math.ceil(r/u)||1,m=0;m<p;m++){var f=m===p-1?r:(m+1)*u;if(a[m]=[m*u+(m?1:0),f],!r)break;void 0===n&&e-1<=s.selectpicker.current.data[f-1].position-s.sizeInfo.menuInnerHeight&&(n=m)}if(void 0===n&&(n=0),w=[s.selectpicker.view.position0,s.selectpicker.view.position1],g=Math.max(0,n-1),_=Math.min(p-1,n+1),s.selectpicker.view.position0=!1!==h&&Math.max(0,a[g][0])||0,s.selectpicker.view.position1=!1===h?r:Math.min(r,a[_][1])||0,g=w[0]!==s.selectpicker.view.position0||w[1]!==s.selectpicker.view.position1,void 0!==s.activeElement&&(i&&(s.activeElement!==s.selectedElement&&s.defocusItem(s.activeElement),s.activeElement=void 0),s.activeElement!==s.selectedElement&&s.defocusItem(s.selectedElement)),void 0!==s.prevActiveElement&&s.prevActiveElement!==s.activeElement&&s.prevActiveElement!==s.selectedElement&&s.defocusItem(s.prevActiveElement),i||g||s.selectpicker.current.hasMore){if(_=s.selectpicker.view.visibleElements?s.selectpicker.view.visibleElements.slice():[],s.selectpicker.view.visibleElements=!1===h?s.selectpicker.current.elements:s.selectpicker.current.elements.slice(s.selectpicker.view.position0,s.selectpicker.view.position1),s.setOptionStatus(),(t||!1===h&&i)&&(w=_,c=s.selectpicker.view.visibleElements,l=!(w.length===c.length&&w.every(function(e,t){return e===c[t]}))),(i||!0===h)&&l){var g=s.$menuInner[0],v=document.createDocumentFragment(),_=g.firstChild.cloneNode(!1),b=s.selectpicker.view.visibleElements,y=[];g.replaceChild(_,g.firstChild);m=0;for(var w,$=b.length;m<$;m++){var C,x,S=b[m];s.options.sanitize&&(C=S.lastChild)&&(x=s.selectpicker.current.data[m+s.selectpicker.view.position0])&&x.content&&!x.sanitized&&(y.push(C),x.sanitized=!0),v.appendChild(S)}s.options.sanitize&&y.length&&d(y,s.options.whiteList,s.options.sanitizeFn),!0===h?(w=0===s.selectpicker.view.position0?0:s.selectpicker.current.data[s.selectpicker.view.position0-1].position,l=s.selectpicker.view.position1>r-1?0:s.selectpicker.current.data[r-1].position-s.selectpicker.current.data[s.selectpicker.view.position1-1].position,g.firstChild.style.marginTop=w+"px",g.firstChild.style.marginBottom=l+"px"):(g.firstChild.style.marginTop=0,g.firstChild.style.marginBottom=0),g.firstChild.appendChild(v),!0===h&&s.sizeInfo.hasScrollBar&&(_=g.firstChild.offsetWidth,i&&_<s.sizeInfo.menuInnerInnerWidth&&s.sizeInfo.totalMenuWidth>s.sizeInfo.selectWidth?g.firstChild.style.minWidth=s.sizeInfo.menuInnerInnerWidth+"px":_>s.sizeInfo.menuInnerInnerWidth&&(s.$menu[0].style.minWidth=0,(w=g.firstChild.offsetWidth)>s.sizeInfo.menuInnerInnerWidth&&(s.sizeInfo.menuInnerInnerWidth=w,g.firstChild.style.minWidth=s.sizeInfo.menuInnerInnerWidth+"px"),s.$menu[0].style.minWidth=""))}(!t&&s.options.source.data||t&&s.options.source.search)&&s.selectpicker.current.hasMore&&n===p-1&&0<e&&(l=Math.floor(n*s.options.chunkSize/s.options.source.pageSize)+2,s.fetchData(function(){s.render(),s.buildList(r,t),s.setPositionData(),o(e)},t?"search":"data",l,t?s.selectpicker.search.previousValue:void 0))}s.prevActiveElement=s.activeElement,s.options.liveSearch?t&&i&&(s.selectpicker.view.canHighlight[h=0]||(h=1+s.selectpicker.view.canHighlight.slice(1).indexOf(!0)),_=s.selectpicker.view.visibleElements[h],s.defocusItem(s.selectpicker.view.currentActive),s.activeElement=(s.selectpicker.current.data[h]||{}).element,s.focusItem(_)):s.$menuInner.trigger("focus")}this.selectpicker.isSearching=t,this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),i&&(n?r=this.$menuInner[0].scrollTop:s.multiple||"number"==typeof(n=((i=s.$element[0]).options[i.selectedIndex]||{}).liIndex)&&!1!==s.options.size&&(n=(i=s.selectpicker.main.data[n])&&i.position)&&(r=n-(s.sizeInfo.menuInnerHeight+s.sizeInfo.liHeight)/2)),o(r,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){s.noScroll||o(this.scrollTop,t),s.noScroll=!1}),e(window).off("resize"+z+"."+this.selectId+".createView").on("resize"+z+"."+this.selectId+".createView",function(){s.$newElement.hasClass(V.SHOW)&&o(s.$menuInner[0].scrollTop)})},focusItem:function(e,t,i){var n;e&&(t=t||this.selectpicker.current.data[this.selectpicker.current.elements.indexOf(this.activeElement)],(n=e.firstChild)&&(n.setAttribute("aria-setsize",this.selectpicker.view.size),n.setAttribute("aria-posinset",t.posinset),!0!==i&&(this.focusedParent.setAttribute("aria-activedescendant",n.id),e.classList.add("active"),n.classList.add("active"))))},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var e,t,i,n,s,r,o,a=this,l=!1;return!this.options.placeholder&&!this.options.allowClear||this.multiple||(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=this.$element[0],t=!(l=!0),i=!this.selectpicker.view.titleOption.parentNode,n=e.selectedIndex,s=e.options[n],r=(r=e.querySelector("select > *:not(:disabled)"))?r.index:0,o=(o=window.performance&&window.performance.getEntriesByType("navigation"))&&o.length?"back_forward"!==o[0].type:2!==window.performance.navigation.type,i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",t=!s||n===r&&!1===s.defaultSelected&&void 0===this.$element.data("selected")),!i&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),t&&o?e.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",function(){a.selectpicker.view.displayedValue!==e.value&&a.render()})),l},fetchData:function(e,t,i,n){i=i||1,t=t||"data";var s,r=this,o=this.options.source[t];o?(this.options.virtualScroll=!0,"function"==typeof o?o.call(this,function(i,n,o){var a=r.selectpicker["search"===t?"search":"main"];a.hasMore=n,a.totalItems=o,s=r.buildData(i,t),e.call(r,s),r.$element.trigger("fetched"+z)},i,n):Array.isArray(o)&&(s=r.buildData(o,t),e.call(r,s))):(s=this.buildData(!1,t),e.call(r,s))},buildData:function(t,i){var n=this,s=!1===t?K.fromOption:K.fromDataSource,r=':not([hidden]):not([data-hidden="true"]):not([style*="display: none"])',o=[],a=this.selectpicker.main.data?this.selectpicker.main.data.length:0,l=0,h=this.setPlaceholder()&&!t?1:0,d=("search"===i&&(a=this.selectpicker.search.data.length),this.options.hideDisabled&&(r+=":not(:disabled)"),t?t.filter(J,this):this.$element[0].querySelectorAll("select > *"+r));function c(e){var t=o[o.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",o.push(e))}function u(i,r){var l,h,d;(r=r||{}).divider=s(i,"divider"),!0===r.divider?c({optID:r.optID}):(l=o.length+a,h=(h=s(i,"style"))?j(h):"",d=(i.className||"")+(r.optgroupClass||""),r.optID&&(d="opt "+d),r.optionClass=d.trim(),r.inlineStyle=h,r.text=s(i,"text"),r.title=s(i,"title"),r.content=s(i,"content"),r.tokens=s(i,"tokens"),r.subtext=s(i,"subtext"),r.icon=s(i,"icon"),r.display=r.content||r.text,r.value=void 0===i.value?i.text:i.value,r.type="option",r.index=l,r.option=i.option||i,r.option.liIndex=l,r.selected=!!i.selected,r.disabled=r.disabled||!!i.disabled,!1!==t&&(n.selectpicker.optionValuesDataMap[r.value]?r=e.extend(n.selectpicker.optionValuesDataMap[r.value],r):n.selectpicker.optionValuesDataMap[r.value]=r),o.push(r))}function p(e,i){var n=i[e],a=!(e-1<h)&&i[e-1],d=(i=i[e+1],t?n.children.filter(J,this):n.querySelectorAll("option"+r));if(d.length){var p,m,f={display:j(s(g,"label")),subtext:s(n,"subtext"),icon:s(n,"icon"),type:"optgroup-label",optgroupClass:" "+(n.className||""),optgroup:n};l++,a&&c({optID:l}),f.optID=l,o.push(f);for(var v=0,_=d.length;v<_;v++){var b=d[v];0===v&&(m=(p=o.length-1)+_),u(b,{headerIndex:p,lastIndex:m,optID:f.optID,optgroupClass:f.optgroupClass,disabled:n.disabled})}i&&c({optID:l})}}for(var m=d.length,f=h;f<m;f++){var g=d[f],v=g.children;v&&v.length?p.call(this,f,d):u.call(this,g,{})}switch(i){case"data":this.selectpicker.main.data||(this.selectpicker.main.data=[]),Array.prototype.push.apply(this.selectpicker.main.data,o),this.selectpicker.current.data=this.selectpicker.main.data;break;case"search":Array.prototype.push.apply(this.selectpicker.search.data,o)}return o},buildList:function(e,t){var i=this,n=(t?this.selectpicker.search:this.selectpicker.main).data,s=[],r=0;!i.options.showTick&&!i.multiple||W.checkMark.parentNode||(W.checkMark.className=this.options.iconBase+" "+i.options.tickIcon+" check-mark",W.a.appendChild(W.checkMark));for(var o=n.length,a=e||0;a<o;a++){var l,h=(c=l=d=h=void 0,s),d=n[a],c=0;switch(d.type){case"divider":l=G.li(!1,V.DIVIDER,d.optID?d.optID+"div":void 0);break;case"option":(l=G.li(G.a(G.text.call(i,d),d.optionClass,d.inlineStyle),"",d.optID)).firstChild&&(l.firstChild.id=i.selectId+"-"+d.index);break;case"optgroup-label":l=G.li(G.label.call(i,d),"dropdown-header"+d.optgroupClass,d.optID)}d.element?d.element.innerHTML=l.innerHTML:d.element=l,h.push(d.element),d.display&&(c+=d.display.length),d.subtext&&(c+=d.subtext.length),d.icon&&(c+=1),r<c&&(r=c,i.selectpicker.view.widestOption=h[h.length-1])}e?t?Array.prototype.push.apply(this.selectpicker.search.elements,s):(Array.prototype.push.apply(this.selectpicker.main.elements,s),this.selectpicker.current.elements=this.selectpicker.main.elements):t?this.selectpicker.search.elements=s:this.selectpicker.main.elements=this.selectpicker.current.elements=s},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(e){var t=this,i=this.$element[0],n=this.setPlaceholder()&&0===i.selectedIndex,s=b.call(this),r=s.length,o=y.call(this,s),a=this.$button[0],l=a.querySelector(".filter-option-inner-inner"),h=document.createTextNode(this.options.multipleSeparator),c=W.fragment.cloneNode(!1),u=!1;if(this.options.source.data&&e&&(s.map(function e(i){i.selected?t.createOption(i,!0):i.children&&i.children.length&&i.children.map(e)}),i.appendChild(this.selectpicker.main.optionQueue),n=n&&0===i.selectedIndex),a.classList.toggle("bs-placeholder",t.multiple?!r:!o&&0!==o),t.multiple||1!==s.length||(t.selectpicker.view.displayedValue=o),"static"===this.options.selectedTextFormat)c=G.text.call(this,{text:this.options.placeholder},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&0<r&&(1<(e=this.options.selectedTextFormat.split(">")).length&&r>e[1]||1===e.length&&2<=r))){if(!n){for(var p=0;p<r&&p<50;p++){var m=s[p],f={};m&&(this.multiple&&0<p&&c.appendChild(h.cloneNode(!1)),m.title?f.text=m.title:m.content&&t.options.showContent?(f.content=m.content.toString(),u=!0):(t.options.showIcon&&(f.icon=m.icon),t.options.showSubtext&&!t.multiple&&m.subtext&&(f.subtext=" "+m.subtext),f.text=m.text.trim()),c.appendChild(G.text.call(this,f,!0)))}49<r&&c.appendChild(document.createTextNode("..."))}}else i=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"]):not([style*="display: none"])',o=(this.options.hideDisabled&&(i+=":not(:disabled)"),this.$element[0].querySelectorAll("select > option"+i+", optgroup"+i+" option"+i).length),e="function"==typeof this.options.countSelectedText?this.options.countSelectedText(r,o):this.options.countSelectedText,c=G.text.call(this,{text:e.replace("{0}",r.toString()).replace("{1}",o.toString())},!0);c.childNodes.length||(c=G.text.call(this,{text:this.options.placeholder||this.options.noneSelectedText},!0)),a.title=c.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&u&&d([c],t.options.whiteList,t.options.sanitizeFn),l.innerHTML="",l.appendChild(c),U.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(n=a.querySelector(".filter-expand"),(i=l.cloneNode(!0)).className="filter-expand",n?a.replaceChild(i,n):a.appendChild(i)),this.$element.trigger("rendered"+z)},setStyle:function(e,t){var i=this.$button[0],n=this.$newElement[0],s=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),U.major<4&&(n.classList.add("bs3"),n.parentNode.classList&&n.parentNode.classList.contains("input-group")&&(n.previousElementSibling||n.nextElementSibling)&&(n.previousElementSibling||n.nextElementSibling).classList.contains("input-group-addon")&&n.classList.add("bs3-has-addon")),n=e?e.trim():s,"add"==t?n&&i.classList.add.apply(i.classList,n.split(" ")):"remove"==t?n&&i.classList.remove.apply(i.classList,n.split(" ")):(s&&i.classList.remove.apply(i.classList,s.split(" ")),n&&i.classList.add.apply(i.classList,n.split(" ")))},liHeight:function(t){if(t||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){t=W.div.cloneNode(!1);var i,n=W.div.cloneNode(!1),s=W.div.cloneNode(!1),r=document.createElement("ul"),o=W.li.cloneNode(!1),a=W.li.cloneNode(!1),l=W.a.cloneNode(!1),h=W.span.cloneNode(!1),d=this.options.header&&0<this.$menu.find("."+V.POPOVERHEADER).length?this.$menu.find("."+V.POPOVERHEADER)[0].cloneNode(!0):null,c=this.options.liveSearch?W.div.cloneNode(!1):null,u=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element[0].options[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,h.className="text",l.className="dropdown-item "+(m?m.className:""),t.className=this.$menu[0].parentNode.className+" "+V.SHOW,t.style.width=0,"auto"===this.options.width&&(n.style.minWidth=0),n.className=V.MENU+" "+V.SHOW,s.className="inner "+V.SHOW,r.className=V.MENU+" inner "+("4"<=U.major?V.SHOW:""),o.className=V.DIVIDER,a.className="dropdown-header",h.appendChild(document.createTextNode("​")),this.selectpicker.current.data.length)for(var f=0;f<this.selectpicker.current.data.length;f++){var g=this.selectpicker.current.data[f];if("option"===g.type&&"none"!==e(g.element.firstChild).css("display")){i=g.element;break}}else i=W.li.cloneNode(!1),l.appendChild(h),i.appendChild(l);a.appendChild(h.cloneNode(!0)),this.selectpicker.view.widestOption&&r.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),r.appendChild(i),r.appendChild(o),r.appendChild(a),d&&n.appendChild(d),c&&(m=document.createElement("input"),c.className="bs-searchbox",m.className="form-control",c.appendChild(m),n.appendChild(c)),u&&n.appendChild(u),s.appendChild(r),n.appendChild(s),p&&n.appendChild(p),t.appendChild(n),document.body.appendChild(t),l=i.offsetHeight,h=a?a.offsetHeight:0,m=d?d.offsetHeight:0,r=c?c.offsetHeight:0,a=u?u.offsetHeight:0,d=p?p.offsetHeight:0,c=e(o).outerHeight(!0),u=window.getComputedStyle(n),p=n.offsetWidth,u={vert:(o={vert:S(u.paddingTop)+S(u.paddingBottom)+S(u.borderTopWidth)+S(u.borderBottomWidth),horiz:S(u.paddingLeft)+S(u.paddingRight)+S(u.borderLeftWidth)+S(u.borderRightWidth)}).vert+S(u.marginTop)+S(u.marginBottom)+2,horiz:o.horiz+S(u.marginLeft)+S(u.marginRight)+2},s.style.overflowY="scroll",s=n.offsetWidth-p,document.body.removeChild(t),this.sizeInfo.liHeight=l,this.sizeInfo.dropdownHeaderHeight=h,this.sizeInfo.headerHeight=m,this.sizeInfo.searchHeight=r,this.sizeInfo.actionsHeight=a,this.sizeInfo.doneButtonHeight=d,this.sizeInfo.dividerHeight=c,this.sizeInfo.menuPadding=o,this.sizeInfo.menuExtras=u,this.sizeInfo.menuWidth=p,this.sizeInfo.menuInnerInnerWidth=p-o.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=s,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=e(window),n=this.$newElement.offset(),s=e(this.options.container);this.options.container&&s.length&&!s.is("body")?((t=s.offset()).top+=parseInt(s.css("borderTopWidth")),t.left+=parseInt(s.css("borderLeftWidth"))):t={top:0,left:0},s=this.options.windowPadding;this.sizeInfo.selectOffsetTop=n.top-t.top-i.scrollTop(),this.sizeInfo.selectOffsetBot=i.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-s[2],this.sizeInfo.selectOffsetLeft=n.left-t.left-i.scrollLeft(),this.sizeInfo.selectOffsetRight=i.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-s[1],this.sizeInfo.selectOffsetTop-=s[0],this.sizeInfo.selectOffsetLeft-=s[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,n,s,r,o,a=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,h=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,c=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,f=0;if(this.options.dropupAuto&&(o=l*this.selectpicker.current.data.length+m.vert,o=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&o+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(o=this.selectpicker.dropup),this.$newElement.toggleClass(V.DROPUP,o),this.selectpicker.dropup=o),"auto"===this.options.size)o=3<this.selectpicker.current.data.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=o+h+d+c+u,r=Math.max(o-m.vert,0),t=(s=i=this.$newElement.hasClass(V.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:i)-h-d-c-u-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&f++;t=(i=l*this.options.size+f*p+m.vert)-m.vert,s=i+h+d+c+u,n=r=""}this.$menu.css({"max-height":s+"px",overflow:"hidden","min-height":n+"px"}),this.$menuInner.css({"max-height":t+"px",overflow:"hidden auto","min-height":r+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(V.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-a),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){var i,n;this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(i=this,n=e(window),this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),"auto"===this.options.size?n.off("resize"+z+"."+this.selectId+".setMenuSize scroll"+z+"."+this.selectId+".setMenuSize").on("resize"+z+"."+this.selectId+".setMenuSize scroll"+z+"."+this.selectId+".setMenuSize",function(){return i.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&n.off("resize"+z+"."+this.selectId+".setMenuSize scroll"+z+"."+this.selectId+".setMenuSize")),this.createView(!1,!0,t)},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.$element.on("loaded"+z,function(){e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){function t(t){var a={},l=r.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;r.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(V.DROPUP,t.hasClass(V.DROPUP)),i=t.offset(),o.is("body")?n={top:0,left:0}:((n=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),s=t.hasClass(V.DROPUP)?0:t[0].offsetHeight,(U.major<4||"static"===l)&&(a.top=i.top-n.top+s,a.left=i.left-n.left),a.width=t[0].offsetWidth,r.$bsContainer.css(a)}this.$bsContainer=e('<div class="bs-container" />');var i,n,s,r=this,o=e(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){r.isDisabled()||(t(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(V.SHOW,!r.$button.hasClass(V.SHOW)).append(r.$menu))}),e(window).off("resize"+z+"."+this.selectId+" scroll"+z+"."+this.selectId).on("resize"+z+"."+this.selectId+" scroll"+z+"."+this.selectId,function(){r.$newElement.hasClass(V.SHOW)&&t(r.$newElement)}),this.$element.on("hide"+z,function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},createOption:function(e,t){var i,n=e.option||e;n&&1!==n.nodeType&&(i=(t?W.selectedOption:W.option).cloneNode(!0),void 0!==n.value&&(i.value=n.value),i.textContent=n.text,i.selected=!0,void 0!==n.liIndex?i.liIndex=n.liIndex:t||(i.liIndex=e.index),e.option=i,this.selectpicker.main.optionQueue.appendChild(i))},setOptionStatus:function(e){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length){for(var i=0;i<t.selectpicker.view.visibleElements.length;i++){var n=t.selectpicker.current.data[i+t.selectpicker.view.position0];n.option&&(!0!==e&&t.setDisabled(n),t.setSelected(n))}this.options.source.data&&this.$element[0].appendChild(this.selectpicker.main.optionQueue)}},setSelected:function(e,t){t=void 0===t?e.selected:t;var i,n=e.element,s=void 0!==this.activeElement,r=this.activeElement===n||t&&!this.multiple&&!s;n&&(void 0!==t&&(e.selected=t,e.option&&(e.option.selected=t)),t&&this.options.source.data&&this.createOption(e,!1),i=n.firstChild,t&&(this.selectedElement=n),n.classList.toggle("selected",t),r?(this.focusItem(n,e),this.selectpicker.view.currentActive=n,this.activeElement=n):this.defocusItem(n),i&&(i.classList.toggle("selected",t),t?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),r||s||!t||void 0===this.prevActiveElement||(e=this.prevActiveElement,this.defocusItem(e)))},setDisabled:function(e){var t,i=e.disabled;(e=e.element)&&(t=e.firstChild,e.classList.toggle(V.DISABLED,i),t&&("4"<=U.major&&t.classList.toggle(V.DISABLED,i),i?(t.setAttribute("aria-disabled",i),t.setAttribute("tabindex",-1)):(t.removeAttribute("aria-disabled"),t.setAttribute("tabindex",0))))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(V.DISABLED),this.$button.addClass(V.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(V.DISABLED)&&(this.$newElement[0].classList.remove(V.DISABLED),this.$button.removeClass(V.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var t=this,i=e(document);function n(){(t.options.liveSearch?t.$searchbox:t.$menuInner).trigger("focus")}function s(){t.dropdown&&t.dropdown._popper&&t.dropdown._popper.state?n():requestAnimationFrame(s)}i.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){t.dropdown||"4"!==U.major||(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(e){var i,n,s;t.options.allowClear&&(i=e.target,n=t.$clearButton[0],(i=/MSIE|Trident/.test(window.navigator.userAgent)?document.elementFromPoint(e.clientX,e.clientY):i)!==n&&i.parentElement!==n||(e.stopImmediatePropagation(),t.multiple?t.deselectAll():(n=(i=t.$element[0]).value,e=i.selectedIndex,(s=!!(s=i.options[e])&&t.selectpicker.main.data[s.liIndex])&&t.setSelected(s,!1),i.selectedIndex=0,$=[e,!1,n],t.$element.triggerNative("change")),t.$newElement.hasClass(V.SHOW)&&(t.options.liveSearch&&t.$searchbox.trigger("focus"),t.createView(!1)))),t.$newElement.hasClass(V.SHOW)||t.setSize()}),this.$element.on("shown"+z,function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),3<U.major?requestAnimationFrame(s):n()}),this.$menuInner.on("mouseenter","li a",function(e){var i=this.parentElement,n=t.isVirtual()?t.selectpicker.view.position0:0,s=Array.prototype.indexOf.call(i.parentElement.children,i);s=t.selectpicker.current.data[s+n];t.focusItem(i,s,!0)}),this.$menuInner.on("click","li a",function(i,n){var s=e(this),r=t.$element[0],o=t.isVirtual()?t.selectpicker.view.position0:0,a=t.selectpicker.current.data[s.parent().index()+o],l=(o=a.element,y.call(t)),h=r.selectedIndex,d=!!(d=r.options[h])&&t.selectpicker.main.data[d.liIndex],c=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!s.parent().hasClass(V.DISABLED)){i=a.option,s=e(i);var u=i.selected,p=t.selectpicker.current.data.find(function(e){return e.optID===a.optID&&"optgroup-label"===e.type}),m=p?p.optgroup:void 0,f=(p=m instanceof Element?K.fromOption:K.fromDataSource,m&&m.children),g=parseInt(t.options.maxOptions);p=m&&parseInt(p(m,"maxOptions"))||!1;if((n=o===t.activeElement||n)||(t.prevActiveElement=t.activeElement,t.activeElement=void 0),t.multiple&&1!==g){if(t.setSelected(a,!u),t.focusedParent.focus(),!1!==g||!1!==p){o=g<b.call(t).length;var v=0;if(m&&m.children)for(var _=0;_<m.children.length;_++)m.children[_].selected&&v++;if(n=p<v,g&&o||p&&n)if(g&&1===g)r.selectedIndex=-1,t.setOptionStatus(!0);else if(p&&1===p){for(_=0;_<f.length;_++){var w=f[_];t.setSelected(t.selectpicker.current.data[w.liIndex],!1)}t.setSelected(a,!0)}else{var C=(u="function"==typeof(u="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText)?u(g,p):u)[0].replace("{n}",g),x=u[1].replace("{n}",p),S=e('<div class="notify"></div>');u[2]&&(C=C.replace("{var}",u[2][1<g?0:1]),x=x.replace("{var}",u[2][1<p?0:1])),t.$menu.append(S),g&&o&&(S.append(e("<div>"+C+"</div>")),c=!1,t.$element.trigger("maxReached"+z)),p&&n&&(S.append(e("<div>"+x+"</div>")),c=!1,t.$element.trigger("maxReachedGrp"+z)),setTimeout(function(){t.setSelected(a,!1)},10),S[0].classList.add("fadeOut"),setTimeout(function(){S.remove()},1050)}}}else d&&t.setSelected(d,!1),t.setSelected(a,!0);t.options.source.data&&t.$element[0].appendChild(t.selectpicker.main.optionQueue),!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.trigger("focus"):t.options.liveSearch&&t.$searchbox.trigger("focus"),!c||!t.multiple&&h===r.selectedIndex||($=[i.index,s.prop("selected"),l],t.$element.triggerNative("change"))}}),this.$menu.on("click","li."+V.DISABLED+" a, ."+V.POPOVERHEADER+", ."+V.POPOVERHEADER+" :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),(t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox:t.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(t.options.liveSearch?t.$searchbox:t.$button).trigger("focus")}),this.$menu.on("click","."+V.POPOVERHEADER+" .close",function(){t.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){(t.options.liveSearch?t.$searchbox:t.$button).trigger("focus"),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$button.on("focus"+z,function(e){var i=t.$element[0].getAttribute("tabindex");void 0!==i&&e.originalEvent&&e.originalEvent.isTrusted&&(this.setAttribute("tabindex",i),t.$element[0].setAttribute("tabindex",-1),t.selectpicker.view.tabindex=i)}).on("blur"+z,function(e){void 0!==t.selectpicker.view.tabindex&&e.originalEvent&&e.originalEvent.isTrusted&&(t.$element[0].setAttribute("tabindex",t.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),t.selectpicker.view.tabindex=void 0)}),this.$element.on("change"+z,function(){t.render(),t.$element.trigger("changed"+z,$),$=null}).on("focus"+z,function(){t.options.mobile||t.$button[0].focus()})},liveSearchListener:function(){var e=this;this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&(e.$searchbox.val(""),e.selectpicker.search.previousValue=void 0)}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t=e.$searchbox[0].value;if(e.selectpicker.search.elements=[],e.selectpicker.search.data=[],t)if(e.selectpicker.search.previousValue=t,e.options.source.search)e.fetchData(function(i){e.render(),e.buildList(void 0,!0),e.noScroll=!0,e.$menuInner.scrollTop(0),e.createView(!0),Q.call(e,i,t)},"search",0,t);else{var i=[],n=t.toUpperCase(),s={},r=[],o=e._searchStyle(),a=e.options.liveSearchNormalize;a&&(n=A(n));for(var l=0;l<e.selectpicker.main.data.length;l++){var h=e.selectpicker.main.data[l];s[l]||(s[l]=x(h,n,o,a)),s[l]&&void 0!==h.headerIndex&&-1===r.indexOf(h.headerIndex)&&(0<h.headerIndex&&(s[h.headerIndex-1]=!0,r.push(h.headerIndex-1)),s[h.headerIndex]=!0,r.push(h.headerIndex),s[h.lastIndex+1]=!0),s[l]&&"optgroup-label"!==h.type&&r.push(l)}l=0;for(var d=r.length;l<d;l++){var c=r[l],u=r[l-1];h=e.selectpicker.main.data[c],u=e.selectpicker.main.data[u];("divider"!==h.type||"divider"===h.type&&u&&"divider"!==u.type&&d-1!==l)&&(e.selectpicker.search.data.push(h),i.push(e.selectpicker.main.elements[c]))}e.activeElement=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=i,e.createView(!0),Q.call(e,i,t)}else e.selectpicker.search.previousValue&&(e.$menuInner.scrollTop(0),e.createView(!1))})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){var t=this.$element[0];if(void 0===e)return this.$element.val();var i=b.call(this),n=y.call(this,i);$=[null,null,n],(e=Array.isArray(e)?e:[e]).map(String);for(var s=0;s<i.length;s++){var r=i[s];r&&-1===e.indexOf(String(r.value))&&this.setSelected(r,!1)}return this.selectpicker.main.data.filter(function(t){return-1!==e.indexOf(String(t.value))&&(this.setSelected(t,!0),!0)},this),this.options.source.data&&t.appendChild(this.selectpicker.main.optionQueue),this.$element.trigger("changed"+z,$),this.$newElement.hasClass(V.SHOW)&&(this.multiple?this.setOptionStatus(!0):"number"==typeof(n=(t.options[t.selectedIndex]||{}).liIndex)&&this.setSelected(this.selectpicker.current.data[n],!0)),this.render(),$=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,n=0,s=y.call(this);t.classList.add("bs-select-hidden");for(var r=0,o=this.selectpicker.current.data,a=o.length;r<a;r++){var l=o[r],h=l.option;h&&!l.disabled&&"divider"!==l.type&&(l.selected&&i++,h.selected=e,!0===(l.selected=e)&&n++)}t.classList.remove("bs-select-hidden"),i!==n&&(this.setOptionStatus(),$=[null,null,s],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e,t){var i=void 0===t;(e=e||window.event)&&e.stopPropagation(),!1===i&&(e=this.$newElement[0].classList.contains(V.SHOW),i=!0===t&&!1===e||!1===t&&!0===e),i&&this.$button.trigger("click.bs.dropdown.data-api")},open:function(e){this.toggle(e,!0)},close:function(e){this.toggle(e,!1)},keydown:function(t){var i,n,s,r,o=e(this),a=((d=o.hasClass("dropdown-toggle"))?o.closest(".dropdown"):o.closest(H.MENU)).data("this"),l=a.findLis(),h=!1,d=9===t.which&&!d&&!a.options.selectOnTab,c=F.test(t.which)||d,u=a.$menuInner[0].scrollTop,p=!0===a.isVirtual()?a.selectpicker.view.position0:0;if(!(112<=t.which&&t.which<=123))if(!(i=a.$menu.hasClass(V.SHOW))&&(c||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&(a.$button.trigger("click.bs.dropdown.data-api"),a.options.liveSearch))a.$searchbox.trigger("focus");else{if(27===t.which&&i&&(t.preventDefault(),a.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),c){if(!l.length)return;-1!==(c=(n=a.activeElement)?Array.prototype.indexOf.call(n.parentElement.children,n):-1)&&a.defocusItem(n),38===t.which?(-1!==c&&c--,c+p<0&&(c+=l.length),a.selectpicker.view.canHighlight[c+p]||-1===(c=a.selectpicker.view.canHighlight.slice(0,c+p).lastIndexOf(!0)-p)&&(c=l.length-1)):40!==t.which&&!d||(++c+p>=a.selectpicker.view.canHighlight.length&&(c=a.selectpicker.view.firstHighlightIndex),a.selectpicker.view.canHighlight[c+p]||(c=c+1+a.selectpicker.view.canHighlight.slice(c+p+1).indexOf(!0))),t.preventDefault();var m=p+c;38===t.which?0===p&&c===l.length-1?(a.$menuInner[0].scrollTop=a.$menuInner[0].scrollHeight,m=a.selectpicker.current.elements.length-1):(s=a.selectpicker.current.data[m])&&(h=(r=s.position-s.height)<u):40!==t.which&&!d||(c===a.selectpicker.view.firstHighlightIndex?(a.$menuInner[0].scrollTop=0,m=a.selectpicker.view.firstHighlightIndex):(s=a.selectpicker.current.data[m])&&(h=u<(r=s.position-a.sizeInfo.menuInnerHeight))),n=a.selectpicker.current.elements[m],a.activeElement=(a.selectpicker.current.data[m]||{}).element,a.focusItem(n),a.selectpicker.view.currentActive=n,h&&(a.$menuInner[0].scrollTop=r),(a.options.liveSearch?a.$searchbox:o).trigger("focus")}else if(!o.is("input")&&!q.test(t.which)||32===t.which&&a.selectpicker.keydown.keyHistory){var f,g=[];t.preventDefault(),a.selectpicker.keydown.keyHistory+=E[t.which],a.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(a.selectpicker.keydown.resetKeyHistory.cancel),a.selectpicker.keydown.resetKeyHistory.cancel=a.selectpicker.keydown.resetKeyHistory.start(),f=a.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(f)&&(f=f.charAt(0));for(var v=0;v<a.selectpicker.current.data.length;v++){var _=a.selectpicker.current.data[v];x(_,f,"startsWith",!0)&&a.selectpicker.view.canHighlight[v]&&g.push(_.element)}g.length&&(p=0,l.removeClass("active").find("a").removeClass("active"),1===f.length&&(-1===(p=g.indexOf(a.activeElement))||p===g.length-1?p=0:p++),d=g[p],h=0<u-(s=a.selectpicker.main.data[d]).position?(r=s.position-s.height,!0):(r=s.position-a.sizeInfo.menuInnerHeight,s.position>u+a.sizeInfo.menuInnerHeight),n=a.selectpicker.main.elements[d],a.activeElement=n,a.focusItem(n),n&&n.firstChild.focus(),h&&(a.$menuInner[0].scrollTop=r),o.trigger("focus"))}i&&(32===t.which&&!a.selectpicker.keydown.keyHistory||13===t.which||9===t.which&&a.options.selectOnTab)&&(32!==t.which&&t.preventDefault(),a.options.liveSearch&&32===t.which||(a.$menuInner.find(".active a").trigger("click",!0),o.trigger("focus"),a.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var t=this,i=e.extend({},this.options,c(this.$element),this.$element.data());this.options=i,this.options.source.data?(this.render(),this.buildList()):this.fetchData(function(){t.render(),t.buildList()}),this.checkDisabled(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+z)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(z).removeData("selectpicker").removeClass("bs-select-hidden selectpicker mobile-device"),e(window).off(z+"."+this.selectId)}};var Z=e.fn.selectpicker;function ee(){return U.major<5?e.fn.dropdown?(e.fn.dropdown.Constructor._dataApiKeydownHandler||e.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments):void 0:N.dataApiKeydownHandler}e.fn.selectpicker=X,e.fn.selectpicker.Constructor=Y,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=Z,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > ["+H.DATA_TOGGLE+"]",ee).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",ee).on("keydown"+z,".bootstrap-select ["+H.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',Y.prototype.keydown).on("focusin.modal",".bootstrap-select ["+H.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),document.addEventListener("DOMContentLoaded",function(){e(".selectpicker").each(function(){var t=e(this);X.call(t,t.data())})})}(e)});var browser=ej.browserInfo();function intializeGetLinkDialog(){$.ajax({type:"Get",url:getLinkDialogViewUrl,data:{nonce:tileReportsPageNonce},success:function(e){$("body").append(e),$("#get_item_link").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.GetLink,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onGetLinkDialogClose"});var t=createLoader("get_item_link_wrapper");$("#get_item_link_wrapper").ejWaitingPopup({template:$("#"+t)})}}),document.querySelectorAll('[data-bs-toggle="get-link-tooltip"]').forEach(e=>{new bootstrap.Tooltip(e,{animation:!0,html:!0,placement:"top"})})}function GetLink(e){var t=e.ItemType;3==t?$(".report-link").show():6==t?($(".file-link").show(),$("#compressed-link").prop("checked",!0)):8==t?$(".widget-link").show():$(".link").show();var i=e.Name;e.Id;$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link_wrapper").ejWaitingPopup("show"),$(".get_link").show(),e.IsPublic?($(".private-note").hide(),$(".public-note").show()):($(".private-note").show(),$(".public-note").hide()),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link").css({width:"100%",borderRadius:"4px"}),$("#item-link-copy").attr("data-bs-original-title","")):$("#item-link-copy").tooltip({animation:!1}),$(".report-name").html(i),$(".report-name").attr("title",i),$("#item-link").val(getDashboardShareLink(e.Id,e.CategoryName,e.Name)),$("#item-link").select(),$(".modal-footer .validation-area").css("display","block"),$("#get_item_link_wrapper").ejWaitingPopup("hide")}function onGetLinkDialogClose(){$("#get_item_link").ejDialog("close")}function onGetLinkDialogOpen(){$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link").focus(),$("#item-link").select(),$(".get_link").show(),$("#item-link").val(itemUrl),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link-copy").attr("data-bs-original-title",""))}function getDashboardShareLink(e,t,i){var n=baseUrl.split("/");return encodeURI(n[0]+"//"+n[2]+viewDashboardUrlAction+"/"+e+"/"+t+"/"+i)}$(document).on("click","#item-link-copy",function(e){if($("#item-link").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor))$("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-bs-original-title","");else{document.execCommand("copy");var t=document.querySelector("#item-link-copy"),i=bootstrap.Tooltip.getInstance(t);i&&i.dispose(),(i=new bootstrap.Tooltip(t,{title:window.Server.App.LocalizationContent.Copysuccess,trigger:"hover"})).show(),setTimeout(()=>{i.dispose(),i=new bootstrap.Tooltip(t,{title:window.Server.App.LocalizationContent.LinkCopy,trigger:"hover"})},1e3)}}),$(document).on("click","#get-link-dialog-close",function(e){e.preventDefault(),onGetLinkDialogClose()}),$(document).on("click","#Cancel",onGetLinkDialogClose),$(document).on("click","#item-link",function(){this.setSelectionRange(0,this.value.length)});var sharePermissionDlgObj="",sharePermissionDlgWrapperObj="",sharePermisisonDlgHeader="",sharePermissionDlgHeaderItemName="",sharePermissionConatiner="",accessModeContainer="",dummyContainer="",embedCodeContainer="",sharePermissionDashboardSettingSectionObj="",sharePermissionPublicSectionObj="",sharePermissionPrivateSectionObj="",sharePermissionUserGroupSectionObj="",manageUserGroupContainer="",manageUserGroupBodySection="",getEmbedLinkSection="",changeIndicatorBannerObj="",shareWithLabelObj="",getLinkInputObj="",getLinkCopyLinkobj="",getEmbedCodeInputObj="",getEmbedCodeCopyBtnobj="",accessModeChangeLink="",manageAccessButton="",manageAccessBackButton="",manageAccessSaveBtnObj="",manageAccessCancelBtnObj="",shareDoneBtnObj="",shareBtnObj="",accessModeChngBtnObj="",accessModeCancelBtnObj="",embedCodeDoneBtnObj="",addOwnerBtnObj="",publicRadioBtnObj="",privateRadioBtnObj="",isItemPublic=!1,isEntireDOMRendered=!1,accessModeSelectionInput="",sharedUserGroupsPreservedList=[],sharedAccessModePreservedList=[],markForDeleteBtnObj="",removeMarkForDeleteBtnObj="",toggleMarkForDeletionObj="",modifiedItemIndex=[],addNewItemPermission=[],userMarkedForDeletionList=[],groupMarkedForDeletionList=[],showSharedUserGroupContainer="",showSharedUserGroupNameSection="",showSharedUserGroupName="",showSharedUserGroupCountSection="",showSharedUserGroupCount="",currentItemDetail=[],shareItem=angular.module("serverApp");function sharePermission(e){$("#permission-popup iframe").attr("src",permissionIframeUrl+"?itemId="+e),$("#permission-popup").ejDialog("open"),ShowWaitingProgress("#permission-popup_wrapper","show")}function shareDashboardPermission(e,t){currentItemDetail=e,sharePermissionDlgHeaderItemName.text(currentItemDetail.Name),sharePermissionDlgObj.show();var i=null!=window.granularPermissions&&(window.granularPermissions.All||window.granularPermissions.ReportsSettings),n=null!=window.granularPermissions&&window.granularPermissions.Report,s=null!=window.granularPermissions&&window.granularPermissions.Dataset,r=null!=window.granularPermissions&&window.granularPermissions.Datasource,o=null!=window.granularPermissions&&window.granularPermissions.Category,a=angular.element("#share-permission-content-section").scope();switch(a.currentItemType=e.ItemType,a.isAdmin=isAdmin,a.hasDashboardSettingsPermission=isAdmin||i,$("#share-permission-popup_wrapper, #user-group-search-input_suggestion").addClass("custom-bootstrap-styles"),sharePermissionDlgObj.ejDialog("open"),e.ItemType==ItemType.Report&&(e.CreatedById==currentUserId||isAdmin||n)?(isMarkItemsPublic?e.IsPublic?showPublicContent():showPrivateContent():showDashboardSettingContent(),addAttributeValueToBtnEle(e)):hidePublicPrivateContent(),e.ItemType==ItemType.Report?e.CreatedById==currentUserId||isAdmin||n?(showShareUserGroupPermissionSection(),getShareItemPermission(e.Id),addAttributeValueToBtnEle(e),addAttributeValueToAutoCompleteEle(e)):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Datasource?e.CreatedById==currentUserId||isAdmin||r?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Dataset?e.CreatedById==currentUserId||isAdmin||s?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Category?e.CreatedById==currentUserId||isAdmin||o?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.CreatedById==currentUserId||isAdmin?showShareDialogContent(e):hideShareUserGroupPermissionSection(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-url-copy").hide(),$("#item-url").css({width:"100%",borderRadius:"4px"}),$("#item-url-copy").attr("data-original-title","")):$("#item-url-copy").tooltip({animation:!1}),e.ItemType){case ItemType.Report:$("#item-url").val(getDashboardShareLink(e.Id,e.CategoryName,e.Name,e.UnlistedCode,e.IsUnlisted));break;case ItemType.ItemView:var l=getDashboardShareLink(t.Id,t.CategoryName,t.Name,null,!1);$("#item-url").val(l+"?viewid="+e.Id);break;default:$("#item-url").val("")}}function addGroupOwnerDialogOpen(){var e=$("#add-owner-button").attr("data-groupname"),t=$("#add-owner-button").attr("data-groupid"),i=angular.element("#share-permission-content-section").scope();currentItemDetail.ItemType=ItemType.UserManagement,i.currentItemType=ItemType.UserManagement,i.isAdmin=isAdmin,"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog({height:241}):sharePermissionDlgObj.ejDialog({height:241}),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),sharePermissionDlgHeaderItemName.text(e),sharePermissionDlgObj.show(),$("#share-permission-popup_wrapper, #user-group-search-input_suggestion").addClass("custom-bootstrap-styles"),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog("open"):sharePermissionDlgObj.ejDialog("open"),hidePublicPrivateContent(),getGroupUserPermission(t),addOwnerBtnObj.attr("data-item-id",t),addOwnerBtnObj.attr("data-name",e),addOwnerBtnObj.attr("data-itemtype",ItemType.UserManagement),autoCompleteHiddenEle.attr("data-item-id",t),autoCompleteHiddenEle.attr("data-itemtype",ItemType.UserManagement)}function showShareDialogContent(e){showShareUserGroupPermissionSection(),getShareItemPermission(e.Id),addAttributeValueToBtnEle(e),addAttributeValueToAutoCompleteEle(e)}function onSharePermissionPopupOpen(e){$('[data-bs-toggle="popover"]').popover("hide"),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),showSharePermissionContainer()}function onSharePermissionPopupClose(e){currentItemDetail=[],$(".embed-configuration [type='checkbox']").removeAttr("checked"),$('[data-bs-toggle="popover"]').popover("hide"),showSharePermissionContainer(),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),refreshDialogBoxPosition()}function showAccessModeContainer(){sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionAccessMode),accessModeContainer.show(),accessModeChngBtnObj.show(),accessModeCancelBtnObj.show(),sharePermissionConatiner.hide(),manageAccessButton.hide(),shareBtnObj.hide(),shareDoneBtnObj.hide(),refreshDialogBoxPosition()}function showManageAccessContainer(){hidePublicPrivateContent(),showSharedUserGroupContainer.hide(),shareBtnObj.text(window.Server.App.LocalizationContent.AddPeopleBtn),addOwnerBtnObj.text(window.Server.App.LocalizationContent.AddPeopleBtn),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.ManageAccess),dummyContainer.hide(),""==autoCompleteInstance.getValue()&&(shareBtnObj.hide(),addOwnerBtnObj.hide()),currentItemDetail.ItemType==ItemType.UserManagement&&($(".change-access-mode-selection span").removeClass("caret"),$(".change-access-mode-selection button").attr("disabled",!0)),manageAccessBackButton.show(),manageUserGroupContainer.show(),manageAccessButton.hide(),refreshUserGroupScroll(),refreshDialogBoxPosition(),generateProfileAvatar()}function hideManageAccessContainer(){manageUserGroupContainer.hide(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),embedCodeDoneBtnObj.hide(),embedCodeContainer.hide(),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues()}function showSharePermissionContainer(){currentItemDetail.ItemType==ItemType.UserManagement?(sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),$(".show-shared-user-group-label").text("Group Owners :")):sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionDefault),dummyContainer.show(),shareBtnObj.text(window.Server.App.LocalizationContent.SharePeopleBtn),enableAutocompleteAccessModeSelectionWithoutReset(),refreshAutoComplete(),sharePermissionConatiner.show(),manageAccessButton.show(),shareDoneBtnObj.show(),manageAccessBackButton.hide(),hideManageAccessContainer(),accessModeContainer.hide(),accessModeChngBtnObj.hide(),accessModeCancelBtnObj.hide(),displaySharedUserGroupInfo(),currentItemDetail.ItemType==ItemType.Report&&(void 0!==currentItemDetail.Extension&&".rdl"==currentItemDetail.Extension.toLowerCase()?getEmbedLinkSection.show():getEmbedLinkSection.hide()),embedCodeDoneBtnObj.hide(),sharePermissionDlgHeaderItemName.show(),sharePermisisonDlgHeader.css("line-height",""),refreshDialogBoxPosition()}function showSharePermissionContainerWithRefresh(){$('[data-bs-toggle="popover"]').popover("hide"),resetToActualScope(),hideManageAccessContainer(),enableAutocompleteAccessModeSelectionWithoutReset(),autoCompleteHiddenEle.attr("data-itemtype")!=ItemType.UserManagement?sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionDefault):sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),displaySharedUserGroupInfo(),dummyContainer.show(),shareBtnObj.text(window.Server.App.LocalizationContent.SharePeopleBtn),addOwnerBtnObj.text(window.Server.App.LocalizationContent.AddGroupOwnerBtn),showPublicPrivateContent(),sharePermissionConatiner.show(),manageAccessButton.show(),""!=autoCompleteInstance.getValue()?(autoCompleteHiddenEle.attr("data-itemtype")!=ItemType.UserManagement?shareBtnObj.show():addOwnerBtnObj.show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide()):shareDoneBtnObj.show(),manageAccessBackButton.hide(),accessModeContainer.hide(),accessModeChngBtnObj.hide(),accessModeCancelBtnObj.hide(),refreshDialogBoxPosition()}function showDashboardSettingContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.hide(),sharePermissionDashboardSettingSectionObj.show()}function showPublicContent(){sharePermissionPublicSectionObj.show(),sharePermissionPrivateSectionObj.hide(),isItemPublic=!0}function showPrivateContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.show(),isItemPublic=!1}function showPublicOrPrivateContent(){isItemPublic?showPublicContent():showPrivateContent()}function showShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.show()}function hideShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.hide()}function hidePublicPrivateContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.hide(),sharePermissionDashboardSettingSectionObj.hide()}function showPublicPrivateContent(){var e=null!=window.granularPermissions&&window.granularPermissions.Report;currentItemDetail.ItemType==ItemType.Report&&(currentItemDetail.CreatedById==currentUserId||isAdmin||e)?isMarkItemsPublic?isItemPublic?sharePermissionPublicSectionObj.show():sharePermissionPrivateSectionObj.show():sharePermissionDashboardSettingSectionObj.show():hidePublicPrivateContent()}function changeAccessMode(){sharePermissionDlgWrapperObj.ejWaitingPopup("show"),showAccessModeContainer(),isItemPublic?publicRadioBtnObj.prop("checked",!0):privateRadioBtnObj.prop("checked",!0),accessModeChngBtnObj.attr("disabled",!0),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}function getEmbedCode(){$("#embed-code").val(generateEmbedCode(currentItemDetail)),embedCodeContainer.show(),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.EmbedCode),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&getEmbedCodeCopyBtnobj.hide(),currentItemDetail.IsPublic?($(".private-embed-code-note").hide(),$(".public-embed-code-note").show()):($(".private-embed-code-note").show(),$(".public-embed-code-note").hide()),embedCodeDoneBtnObj.show(),manageAccessBackButton.hide(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),sharePermissionDlgHeaderItemName.hide(),sharePermisisonDlgHeader.css("line-height","32px"),sharePermissionConatiner.hide(),manageAccessButton.hide(),shareBtnObj.hide(),shareDoneBtnObj.hide(),refreshDialogBoxPosition()}function addAttributeValueToBtnEle(e){accessModeChngBtnObj.attr("data-item-id",e.Id),accessModeChngBtnObj.attr("data-name",e.Name),accessModeChngBtnObj.attr("data-itemtype",e.ItemType),shareBtnObj.attr("data-item-id",e.Id),shareBtnObj.attr("data-name",e.Name),shareBtnObj.attr("data-itemtype",e.ItemType)}function addAttributeValueToAutoCompleteEle(e){autoCompleteHiddenEle.attr("data-item-id",e.Id),autoCompleteHiddenEle.attr("data-itemtype",e.ItemType)}function getShareItemPermission(e){sharePermissionDlgWrapperObj.ejWaitingPopup("show"),$.ajax({type:"get",url:getShareItemPermissionUrl,data:{itemId:e},contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if(e.status){var t=angular.element(manageUserGroupBodySection).scope();t.$apply(function(){angular.copy(e.SharedUserGroupList,sharedUserGroupsPreservedList),t.sharedUserGroups=e.SharedUserGroupList}),t.$apply(function(){angular.copy(e.AccessModeOptionList,sharedAccessModePreservedList),t.accessModes=e.AccessModeOptionList}),$(".change-access-mode-selection").selectpicker("destroy"),$(".change-access-mode-selection").selectpicker(),$(".change-access-mode-selection .selectpicker").removeAttr("title"),accessModeSelectionInput.html("");var i=$($.parseHTML(e.AccessModeList));i.length>0&&$(i[0]).attr("selected","selected"),accessModeSelectionInput.append(i),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker(),refreshUserGroupScroll(),sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),displaySharedUserGroupInfo(),isEntireDOMRendered=!0,$('[data-bs-toggle="tooltip"]').tooltip(),$('[data-bs-toggle="popover"]').popover()}},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}})}function getGroupUserPermission(e){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),$.ajax({type:"get",url:getGroupOwnersUrl,data:{groupId:e},contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if(e.status){var t=angular.element(manageUserGroupBodySection).scope();t.$apply(function(){angular.copy(e.SharedUserGroupList,sharedUserGroupsPreservedList),t.sharedUserGroups=e.SharedUserGroupList}),t.$apply(function(){angular.copy(e.AccessModeOptionList,sharedAccessModePreservedList),t.accessModes=e.AccessModeOptionList}),currentItemDetail.ItemType==ItemType.UserManagement?$("#user-group-search-input_suggestion").removeClass("item-user-input_suggestion"):$("#user-group-search-input_suggestion").addClass("item-user-input_suggestion"),$(".change-access-mode-selection").selectpicker("destroy"),$(".change-access-mode-selection").selectpicker(),$(".change-access-mode-selection .selectpicker").removeAttr("title"),$(".change-access-mode-selection span").removeClass("caret"),$(".change-access-mode-selection button").attr("disabled",!0),accessModeSelectionInput.html("");var i=$($.parseHTML(e.AccessModeList));i.length>0&&$(i[0]).attr("selected","selected"),accessModeSelectionInput.append(i),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker(),refreshUserGroupScroll(),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),displaySharedUserGroupInfo(),isEntireDOMRendered=!0,$('[data-bs-toggle="tooltip"]').tooltip(),$('[data-bs-toggle="popover"]').popover()}else null!=e.permissionDenied&&e.permissionDenied&&(WarningAlert(window.Server.App.LocalizationContent.AddGroupOwnerBtn,window.Server.App.LocalizationContent.UserManagementWarningAlert,7e3),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog("close"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):(sharePermissionDlgObj.ejDialog("close"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")))},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}})}function displaySharedUserGroupInfo(){var e=angular.element(manageUserGroupBodySection).scope().sharedUserGroups;if(null!=e){if(e.length>0){var t="";$.each(e,function(i,n){var s="<div class='shared-user-group-name'><span class='shared-user-group-name-label'>";i<3&&(n.TargetUserId>0?s+=n.DisplayName+"</span>":s+=n.TargetGroupName+"</span>",i!=e.length-1?s+="<span class='shared-user-group-name-comma'>,</span> </div>":s+="</div>",t+=s)}),showSharedUserGroupNameSection.html(t),manageUserGroupContainer.is(":visible")||showSharedUserGroupContainer.show()}else showSharedUserGroupContainer.hide();if(e.length>3){var i=e.length-3;showSharedUserGroupCount.text(i),showSharedUserGroupCountSection.show()}else showSharedUserGroupCountSection.hide();generateProfileAvatar()}}function saveItemPermission(){sharePermissionDlgWrapperObj.ejWaitingPopup("show"),splitUserGroupList();var e=userEmailList,t=groupIdList,i=accessModeSelectionInput.val(),n=shareBtnObj.attr("data-item-id"),s=shareBtnObj.attr("data-itemtype");$.ajax({type:"POST",url:sharepermissionUrl,data:{permissionList:JSON.stringify({mode:i,itemType:s,UserList:e,GroupList:t}),itemId:n},success:function(e,t){"true"==e.toString().toLowerCase()?(getShareItemPermission(n),refreshAutoComplete(),refreshAutocompleteAccessModeSelection()):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function addGroupOwnerPermission(){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),splitUserGroupList();var e=userEmailList,t=groupIdList,i=accessModeSelectionInput.val(),n=addOwnerBtnObj.attr("data-item-id"),s=addOwnerBtnObj.attr("data-itemtype");$.ajax({type:"POST",url:addGroupOwnerPermissionUrl,data:{permissionList:JSON.stringify({mode:i,itemType:s,UserList:e,GroupList:t}),groupId:n},success:function(e,t){e.status?(getGroupUserPermission(n),refreshAutoComplete(),refreshAutocompleteAccessModeSelection()):null!=e.permissionDenied&&e.permissionDenied&&(WarningAlert(window.Server.App.LocalizationContent.AddGroupOwnerBtn,window.Server.App.LocalizationContent.UserManagementWarningAlert,7e3),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog("close"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):(sharePermissionDlgObj.ejDialog("close"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")))},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function updateBulkItemPermission(){var e=shareBtnObj.attr("data-item-id"),t=addOwnerBtnObj.attr("data-item-id");$.ajax({type:"POST",url:updateBulkItemPermissionUrl,data:{permissionList:addNewItemPermission,userMarkedForDeletionList:userMarkedForDeletionList,groupMarkedForDeletionList:groupMarkedForDeletionList,itemId:e,groupId:t},success:function(i,n){"true"==i.toString().toLowerCase()?(null!=e?getShareItemPermission(e):getGroupUserPermission(t),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection()):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function refreshDialogBoxPosition(){sharePermissionDlgObj.ejDialog({height:"auto"}),isEntireDOMRendered&&(sharePermissionDlgObj.ejDialog({width:529}),sharePermissionDlgObj.ejDialog({width:530})),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),sharePermissionDlgObj.ejDialog("refresh")}function prepareRequestForAddItemPermission(){if(modifiedItemIndex.length>0){var e=angular.element(manageUserGroupBodySection).scope(),t=e.accessModes,i=e.sharedUserGroups,n=shareBtnObj.attr("data-itemtype");$.each(t,function(t,s){var r=s.Key,o=[],a=[];$.each(modifiedItemIndex,function(t,n){i[n].PermissionAccess!=sharedUserGroupsPreservedList[n].PermissionAccess&&i[n].PermissionAccess==s.Key&&(e.IsUserItem(n)?-1==jQuery.inArray(i[n].Email,o)&&o.push(i[n].Email):e.IsGroupItem(n)&&-1==jQuery.inArray(i[n].TargetGroupId,a)&&a.push(i[n].TargetGroupId))}),(o.length>0||a.length>0)&&addNewItemPermission.push(JSON.stringify({mode:r,itemType:n,UserList:o,GroupList:a}))}),$.each(modifiedItemIndex,function(t,n){i[n].PermissionAccess!=sharedUserGroupsPreservedList[n].PermissionAccess&&(e.IsUserItem(n)?-1==jQuery.inArray(sharedUserGroupsPreservedList[n].PermissionId,userMarkedForDeletionList)&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[n].PermissionId):e.IsGroupItem(n)&&-1==jQuery.inArray(sharedUserGroupsPreservedList[n].PermissionId,groupMarkedForDeletionList)&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[n].PermissionId))})}}function resetPreRequestValues(){modifiedItemIndex=[],addNewItemPermission=[],userMarkedForDeletionList=[],groupMarkedForDeletionList=[]}function resetToActualScope(){var e=angular.element(manageUserGroupBodySection).scope();e.$apply(function(){angular.copy(sharedUserGroupsPreservedList,e.sharedUserGroups)}),e.$apply(function(){angular.copy(sharedAccessModePreservedList,e.accessModes)}),$(".change-access-mode-selection").selectpicker("destroy"),$(".change-access-mode-selection").selectpicker(),$(".change-access-mode-selection .selectpicker").removeAttr("title"),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),$('[data-bs-toggle="tooltip"]').tooltip(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareBtnObj.hide(),shareDoneBtnObj.show()}function enableAutocompleteAccessModeSelectionWithoutReset(){autoCompleteControlEle.ejAutocomplete("enable"),autoCompleteControlWrapperEle.find(".e-in-wrap.e-box.e-corner").removeClass("disable-autocomplete"),accessModeSelectionInput.prop("disabled",!1),$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection"),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker()}function refreshAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("selectedIndex",0),accessModeSelectionInput.selectpicker("destroy"),accessModeSelectionInput.selectpicker()}function enableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!1),$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection"),refreshAutocompleteAccessModeSelection()}function disableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!0),$(".selectpicker[data-id='access-mode-selection']").addClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").addClass("disable-autocomplete-access-mode-selection"),refreshAutocompleteAccessModeSelection()}function onSuggestionListOpen(){$("#user-group-search-input_suggestion li").each(function(){$(this).addClass("d-flex align-items-center")}),manageUserGroupContainer.addClass("disable-element-opacity")}function onSuggestionListClose(){""==autoCompleteInstance.getValue()&&manageUserGroupContainer.removeClass("disable-element-opacity")}function refreshUserGroupScroll(){if(manageUserGroupBodySection.is(":visible")){$(".tooltip").tooltip("hide");manageUserGroupBodySection.ejScroller({height:225,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!0,scrollOneStepBy:20,scroll:function(){$(".tooltip").tooltip("hide"),$('[data-bs-toggle="popover"]').popover("hide")}});var e=manageUserGroupBodySection.ejScroller("instance");e.model.height=225,e.refresh(),$(".manage-user-group-body-section .e-scrollbar").show(),generateProfileAvatar()}}function generateEmbedCode(e){$("#embed-sso").change(function(){$(this).is(":checked")?$(".auth-provider-row").slideDown():$(".auth-provider-row").slideUp()}),$("#sso-providers").change(function(){var t=getDashboardShareLink(e.Id,e.CategoryName,e.Name)+"?isembed=true";if(t+=$("#embed-dashboard-comments").is(":checked")?"&report_comments=true":"",t+=$("#embed-views").is(":checked")?"&views=true":"",t+=$("#embed-export").is(":checked")?"&export=true":"",t+=$("#embed-sso").is(":checked")?"&hassso=true":"",$("#embed-sso").is(":checked"))switch($(this).val()){case"AzureAD":t+="&externallogin=azuread";break;case"OAuth":t+="&externallogin=oauth";break;case"OpenID":t+="&externallogin=openid";break;case"WindowsAD":t+="&externallogin=windowsad"}var i="<iframe src='"+t+"' id='report-frame' width='100%' height='720px' allowfullscreen frameborder='0'></iframe>";$("#embed-code").val(i)});var t=getDashboardShareLink(e.Id,e.CategoryName,e.Name)+"?isembed=true";return t+=$("#embed-dashboard-comments").is(":checked")?"&report_comments=true":"",t+=$("#embed-views").is(":checked")?"&views=true":"",t+=$("#embed-export").is(":checked")?"&export=true":"","<iframe src='"+(t+=$("#embed-sso").is(":checked")?"&hassso=true":"")+"' id='report-frame' width='100%' height='720px' allowfullscreen frameborder='0'></iframe>"}function extractXSRFTokenFromCookie(){var e=parent.document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));return e?e.split("=")[1]:null}function setXSRFRequestHeader(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}function decodeHtmlAsString(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function EscapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('[data-bs-toggle="popover"]').forEach(function(e){new bootstrap.Popover(e)})}),shareItem.controller("shareItemController",["$scope",function(e){e.currentUserId=window.currentUserId,e.sharedUserGroups=window.sharedUserGroupList,e.currentItemType=ItemType.Report,e.accessModes=window.accessModeList,e.showPopover=!1,e.hasDashboardSettingsPermission=!1,e.isUnlisted=!1,e.formatAccessModeString=function(e){return e.toString()},e.ImageLink=function(e){return idpUrl+"/User/Avatar?id="+e+"&ImageSize=64"};e.GetGroupColor=function(e,t){return{"background-color":"#dfdfdf"}},e.typeOptions=[{Key:2,Value:"Read"}],e.parseInt=function(e){return parseInt(e,10)},e.updateValue=function(t,i){e.CheckForModification(t,i)},e.MarkForDeletion=function(t,i,n){e.AddItemInUserGroupDeletionList(n),e.RemoveFromModified(n);var s=angular.element(t.currentTarget).parents(".shared-user-group-list-section").children();s.find(".action-for-delete-container").hide();var r=s.find(".marked-for-delete-container");s.find(".marked-for-delete-container").show(),r.css({display:"flex"}),s.find(".change-indicator").show(),e.ShowChangeIndicatorBanner()},e.RemoveMarkForDeletion=function(t,i,n){e.RemoveItemInUserGroupDeletionList(n);var s=angular.element(t.currentTarget).parents(".shared-user-group-list-section").children();s.find(".marked-for-delete-container").hide(),s.find(".action-for-delete-container").show(),s.find(".change-indicator").hide(),e.CheckForModification(i,n)},e.CheckForModification=function(t,i){sharedUserGroupsPreservedList[i].PermissionAccess!=t?(e.AddToModified(i),$("#select_"+i).parents(".shared-user-group-list-section").children().find(".change-indicator").show()):sharedUserGroupsPreservedList[i].PermissionAccess==t&&(e.RemoveFromModified(i),$("#select_"+i).parents(".shared-user-group-list-section").children().find(".change-indicator").hide()),e.ShowChangeIndicatorBanner()},e.ShowChangeIndicatorBanner=function(){$(".change-indicator").is(":visible")?(changeIndicatorBannerObj.css("visibility","visible"),manageAccessSaveBtnObj.show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide(),disableAutomCompleteControl(),disableAutocompleteAccessModeSelection()):(changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection())},e.AddItemInUserGroupDeletionList=function(t){e.IsUserItem(t)?-1==jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId):e.IsGroupItem(t)&&-1==jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId)},e.RemoveItemInUserGroupDeletionList=function(t){e.IsUserItem(t)?-1!=jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)&&(userMarkedForDeletionList=jQuery.grep(userMarkedForDeletionList,function(e){return e!=sharedUserGroupsPreservedList[t].PermissionId})):e.IsGroupItem(t)&&-1!=jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)&&(groupMarkedForDeletionList=jQuery.grep(groupMarkedForDeletionList,function(e){return e!=sharedUserGroupsPreservedList[t].PermissionId}))},e.AddToModified=function(e){-1==jQuery.inArray(e,modifiedItemIndex)&&modifiedItemIndex.push(e)},e.RemoveFromModified=function(e){modifiedItemIndex=jQuery.grep(modifiedItemIndex,function(t){return t!=e})},e.IsUserItem=function(e){return null!=sharedUserGroupsPreservedList[e].Email&&sharedUserGroupsPreservedList[e].IsUserPermission&&sharedUserGroupsPreservedList[e].TargetUserId>0},e.IsGroupItem=function(e){return null==sharedUserGroupsPreservedList[e].Email&&!sharedUserGroupsPreservedList[e].IsUserPermission&&sharedUserGroupsPreservedList[e].TargetGroupId>0},e.GetManagePermisisionContent=function(t){var i=null!=window.granularPermissions&&window.granularPermissions.Reports,n=window.Server.App.LocalizationContent.RemoveAccess;if(e.IsUserItem(t)){if(n=n+window.Server.App.LocalizationContent.PermissionGlobally+" - <strong>"+sharedUserGroupsPreservedList[t].PermissionEntityDescription+"</strong>.</br></br>",isAdmin||i){var s=editUserPermissionUrl+"?userId="+sharedUserGroupsPreservedList[t].TargetUserId;return n+window.Server.App.LocalizationContent.ManagePermission+" <a target='_blank' href='"+s+"'>"+window.Server.App.LocalizationContent.Here+"</a>."}return n+window.Server.App.LocalizationContent.UserContactSystemAdministrator}if(n=n+window.Server.App.LocalizationContent.AssignedGlobally+" - <strong>"+sharedUserGroupsPreservedList[t].PermissionEntityDescription+"</strong>.</br></br>",isAdmin){var r=editGroupPermissionUrl+"?groupId="+sharedUserGroupsPreservedList[t].TargetGroupId;return n+window.Server.App.LocalizationContent.ManagePermission+" <a target='_blank' href='"+r+"'>"+window.Server.App.LocalizationContent.Here+"</a>."}return n+window.Server.App.LocalizationContent.GroupContactSystemAdministrator}}]),$(function(){sharePermissionDlgObj=$("#share-permission-popup"),sharePermisisonDlgHeader=$("#share-permission-dialog-header"),sharePermissionDlgHeaderItemName=$(".item-name-container #item-name-header"),sharePermissionConatiner=$("#share-permission-container"),accessModeContainer=$("#access-mode-container"),dummyContainer=$("#dummy-container"),embedCodeContainer=$("#get-embed-code-container"),sharePermissionDashboardSettingSectionObj=$(".share-permission-dashboard-setting-section"),sharePermissionPublicSectionObj=$(".share-permission-public-section"),sharePermissionPrivateSectionObj=$(".share-permission-private-section"),sharePermissionUserGroupSectionObj=$("#assign-user-group-container"),manageUserGroupContainer=$("#manage-user-group-container"),manageUserGroupBodySection=$(".manage-user-group-body-section"),getEmbedLinkSection=$(".get-item-embed-link-section"),changeIndicatorBannerObj=$(".changes-indicator-banner"),shareWithLabelObj=$(".share-with-label"),getLinkInputObj=$("#item-url"),getLinkCopyLinkobj=$("#item-url-copy"),getEmbedCodeInputObj=$("#embed-code"),getEmbedCodeCopyBtnobj=$("#copy-embed-code"),accessModeChangeLink=$("#access-mode-change-link"),manageAccessButton=$("#manage-access-button"),manageAccessBackButton=$("#manage-access-back-button"),manageAccessSaveBtnObj=$("#manage-access-save-button"),manageAccessCancelBtnObj=$("#manage-access-cancel-button"),shareDoneBtnObj=$("#share-done-popup-button"),shareBtnObj=$("#share-permission-button"),accessModeChngBtnObj=$("#access-mode-change-button"),accessModeCancelBtnObj=$("#access-mode-cancel-button"),embedCodeDoneBtnObj=$("#copy-embed-code-done-button"),addOwnerBtnObj=$("#add-owner-permission-button"),publicRadioBtnObj=$("#public-access-mode"),privateRadioBtnObj=$("#private-access-mode"),accessModeSelectionInput=$("#access-mode-selection"),markForDeleteBtnObj=$(".mark-for-deletion-icon"),removeMarkForDeleteBtnObj=$(".remove-mark-for-deletion-icon"),showSharedUserGroupContainer=$("#show-shared-user-group-container"),showSharedUserGroupNameSection=$(".shared-user-group-name-section"),showSharedUserGroupName=$(".shared-user-group-name"),showSharedUserGroupCountSection=$(".shared-user-group-count-section"),showSharedUserGroupCount=$(".shared-user-group-count"),toggleMarkForDeletionObj=$(".action-for-delete-container, .marked-for-delete-container"),$("#permission-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0});var e=createLoader("permission-popup_wrapper");$("#permission-popup_wrapper").ejWaitingPopup({template:$("#"+e)}),sharePermissionDlgObj.ejDialog({width:"529px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!1,close:"onSharePermissionPopupClose",open:"onSharePermissionPopupOpen",closeOnEscape:!0}),sharePermissionDlgWrapperObj=$("#share-permission-popup_wrapper");var t=createLoader("share-permission-popup_wrapper");sharePermissionDlgWrapperObj.ejWaitingPopup({template:$("#"+t)}),$("#share-close-popup, #share-done-popup-button").on("click",function(){sharePermissionDlgObj.ejDialog("close")}),accessModeCancelBtnObj.on("click",function(){showSharePermissionContainer()}),manageAccessButton.on("click",function(){showManageAccessContainer()}),manageAccessBackButton.on("click",function(){showSharePermissionContainerWithRefresh()}),manageAccessSaveBtnObj.on("click",function(){$('[data-bs-toggle="popover"]').popover("hide"),sharePermissionDlgWrapperObj.ejWaitingPopup("show"),prepareRequestForAddItemPermission(),updateBulkItemPermission()}),manageAccessCancelBtnObj.on("click",function(){$('[data-bs-toggle="popover"]').popover("hide"),resetToActualScope(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection()}),getLinkCopyLinkobj.on("click",function(e){getLinkInputObj.select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?getLinkCopyLinkobj.attr("data-original-title",""):(document.execCommand("copy"),getLinkCopyLinkobj.attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess),getLinkCopyLinkobj.tooltip("hide").attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){getLinkCopyLinkobj.attr("data-original-title",window.Server.App.LocalizationContent.LinkCopy),getLinkCopyLinkobj.tooltip()},3e3))}),getLinkCopyLinkobj.removeClass("focusdiv"),getLinkInputObj.on("focusin",function(){getLinkCopyLinkobj.addClass("focusdiv")}),getLinkInputObj.on("focusout",function(){getLinkCopyLinkobj.removeClass("focusdiv")}),$("input[type=radio][name=access-mode]").on("change",function(){isItemPublic&&privateRadioBtnObj.prop("checked")||!isItemPublic&&publicRadioBtnObj.prop("checked")?accessModeChngBtnObj.removeAttr("disabled"):accessModeChngBtnObj.attr("disabled",!0)}),$(document).on("click","#access-mode-change-button",function(e){var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),n=$(this).attr("data-itemtype"),s="";isItemPublic&&privateRadioBtnObj.prop("checked")?s=removeItemPublicUrl:!isItemPublic&&publicRadioBtnObj.prop("checked")&&(s=makeItemPublicUrl),$.ajax({type:"POST",url:s,data:{itemId:t,itemTypeId:n,itemName:i},success:function(e){e.validation&&e.result?("function"==typeof ResetItemList&&ResetItemList(ItemType.Report),void 0!==currentItemDetail&&void 0!==currentItemDetail.IsPublic&&(currentItemDetail.IsPublic=!currentItemDetail.IsPublic)):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}}),isItemPublic&&privateRadioBtnObj.prop("checked")?(showSharePermissionContainer(),showPrivateContent(),isItemPublic=!1):!isItemPublic&&publicRadioBtnObj.prop("checked")&&(showSharePermissionContainer(),showPublicContent(),isItemPublic=!0)}),$(document).on("shown.bs.dropdown",".user-group-scroll-content .change-access-mode-select",function(){if($(".tooltip").hide(),$(this).find(".change-access-mode-selection").length>0){var e=manageUserGroupBodySection,t=$(this).offset().top+$(this).outerHeight(!0)/2-e.offset().top,i=e.height()-($(this).offset().top-e.offset().top+$(this).outerHeight(!0)/2),n=$(this).find(".change-access-mode-selection .dropdown-menu").outerHeight(!0);i<=n&&t>=n?$(this).find(".change-access-mode-selection").removeClass("dropdown").addClass("dropup"):refreshUserGroupScroll()}}),$("body").on("click",function(e){"popover"!==$(e.target).data("bs-toggle")&&0===$(e.target).closest('[data-bs-toggle="popover"]').length&&0===$(e.target).closest(".popover").length?$('[data-bs-toggle="popover"]').popover("hide"):"popover"==$(e.target).data("bs-toggle")&&$(".access-info-icon").not(e.target).popover("hide")}),getEmbedCodeInputObj.on("click",function(e){getEmbedCodeInputObj.select()}),getEmbedCodeCopyBtnobj.on("click",function(e){getEmbedCodeInputObj.select(),document.execCommand("copy");var t=$(".embed-copy-success");t.show(),setTimeout(function(){t.fadeOut(3e3)},3e3)}),embedCodeDoneBtnObj.on("click",function(){sharePermissionDlgObj.ejDialog("close")}),$(".embed-configuration [type='checkbox']").on("change",function(e){$("#embed-code").val(generateEmbedCode(currentItemDetail))}),$(document).on("click","#access-mode-change-link",function(e){e.preventDefault(),changeAccessMode()}),$(document).on("click","#item-url",function(){this.setSelectionRange(0,this.value.length)}),$(document).on("click","#get-embed-code-link",function(e){e.preventDefault(),getEmbedCode()}),$(document).on("click","#show-shared-user-group-link",function(e){e.preventDefault(),showManageAccessContainer()}),$(document).on("click","#share-permission-button",saveItemPermission),$(document).on("click","#add-owner-permission-button",addGroupOwnerPermission),$(document).on("click","#add-owner-button",addGroupOwnerDialogOpen)}),$.ajaxSetup({beforeSend:function(e){setXSRFRequestHeader(e)}});
