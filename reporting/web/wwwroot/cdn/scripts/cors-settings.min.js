var originChipData=[],headersChipData=[],exposeHeadersChipData=[],isOriginChipBinded=!1,isHeadersChipBinded=!1,isExposeHeadersChipBinded=!1,isChrome=-1!=navigator.userAgent.indexOf("Chrome"),isEdge=-1!=navigator.userAgent.indexOf("Edge");const preflightMaxAge=5;function disableOrEnableCorsSettingsForm(){$("#enable-cors").is(":checked")?(""==$("#txt-preflightmaxage").val()&&$("#txt-preflightmaxage").val("5"),$("#origin-name-content, #headers-name-content, #expose-headers-name-content").removeClass("origin-disabled"),$("#origin-name-content .origin-names-chip .e-chip, #headers-name-content .headers-names-chip .e-chip, #expose-headers-name-content .expose-headers-names-chip .e-chip, #txt-preflightmaxage").removeClass("disable-bg-color"),$("#allowed-credentials, #allowed-methods, #txt-exposeheaders, #txt-allowedorigins, #txt-allowedheaders, #txt-preflightmaxage").prop("disabled",!1),$("#allowed-credentials-dropdown .bootstrap-select button, #allowed-methods-dropdown .bootstrap-select button").removeClass("disabled").next().find("li").removeClass("disabled"),$("#allowed-credentials-dropdown .bootstrap-select, #allowed-methods-dropdown .bootstrap-select").removeClass("disabled"),$("#allowed-methods-dropdown .bootstrap-select .dropdown-menu ul li").removeClass("selected"),$("#allowed-methods-dropdown .bootstrap-select .dropdown-menu ul li .dropdown-item").removeClass("selected")):($("#txt-allowedorigins, #txt-exposeheaders, #txt-allowedheaders, #txt-preflightmaxage").val(""),$(".credentials-name-validation").html(""),$(".origin-name-validation").html(""),$("#origin-name-content, #headers-name-content, #expose-headers-name-content").addClass("origin-disabled"),$("#origin-name-content .origin-names-chip .e-chip, #headers-name-content .headers-names-chip .e-chip, #expose-headers-name-content .expose-headers-names-chip .e-chip, #txt-preflightmaxage").addClass("disable-bg-color"),$("#allowed-credentials, #allowed-methods, #txt-exposeheaders, #txt-allowedorigins, #txt-allowedheaders, #txt-preflightmaxage").prop("disabled",!0),$("#allowed-credentials-dropdown .bootstrap-select button, #allowed-methods-dropdown .bootstrap-select button").addClass("disabled"),$("#allowed-methods-dropdown .filter-option").html(window.Server.App.LocalizationContent.SelectAllowedMethods),$("#allowed-credentials-dropdown .filter-option").html("False"),$("#allowed-methods-dropdown .bootstrap-select button").attr("data-original-title",window.Server.App.LocalizationContent.SelectAllowedMethods),$("#allowed-methods").val(""),$("#allowed-credentials").val("false"),$("#allowed-credentials-dropdown .bootstrap-select li").filter("[data-original-index='0']").removeClass("selected"),$("#allowed-credentials-dropdown .bootstrap-select li").filter("[data-original-index='1']").addClass("selected"),$("#txt-preflightmaxage").removeClass("has-error"),$("#txt-preflightmaxage").parent().find("span.validation-errors").html(""),getOriginInstance(),getHeadersInstance(),getExposeHeadersInstance(),originChipData=[],headersChipData=[],exposeHeadersChipData=[])}function objectConvertAsOriginChip(e){(e.endsWith(",")||e.endsWith(";")||e.endsWith("\n"))&&(e=e.slice(0,-1).trim()),0!=e.length?isValidOrigin(e)?isOriginChipAlreadyExists(e)&&(originChipData.push(e),originChipConversion(originChipData),$(".origin-name-validation").html("")):($("#txt-allowedorigins").val(e),$(".origin-name-validation").html(window.Server.App.LocalizationContent.OriginValidation)):ClearSettingsFields()}function objectConvertAsHeadersChip(e){(e.endsWith(",")||e.endsWith(";")||e.endsWith("\n"))&&(e=e.slice(0,-1).trim()),0!=e.length?isHeadersChipAlreadyExists(e)&&(headersChipData.push(e),headersChipConversion(headersChipData)):ClearSettingsFields()}function objectConvertAsExposeHeadersChip(e){(e.endsWith(",")||e.endsWith(";")||e.endsWith("\n"))&&(e=e.slice(0,-1).trim()),0!=e.length?isExposeHeadersChipAlreadyExists(e)&&(exposeHeadersChipData.push(e),exposeHeadersChipConversion(exposeHeadersChipData)):ClearSettingsFields()}function onOriginChipDelete(){$("#txt-allowedorigins").focus(),setTimeout(function(){removeOriginValidation()},100),1==document.getElementById("origin-chip-content").ej2_instances[0].chips.length&&applyOriginContainer()}function onHeaderChipDelete(){$("#txt-allowedheaders").focus(),1==document.getElementById("headers-chip-content").ej2_instances[0].chips.length&&applyHeaderContainer()}function onExposeHeaderChipDelete(){$("#txt-exposeheaders").focus(),1==document.getElementById("expose-headers-chip-content").ej2_instances[0].chips.length&&applyExposeHeaderContainer()}function originChipConversion(e){if(isOriginChipBinded){var t=document.getElementById("origin-chip-content").ej2_instances;t[0].chips=[],t[0].chips=e,t[0].createChip(),t[0].refresh()}else new ejs.buttons.ChipList({chips:e,enableDelete:!0,delete:onOriginChipDelete},"#origin-chip-content"),isOriginChipBinded=!0;if($("#origin-name-content").height()>140){var n=document.getElementById("origin-name-content");n.scrollTop=n.scrollHeight}removeOriginContainer(),applyOriginTooltip()}function headersChipConversion(e){if(isHeadersChipBinded){var t=document.getElementById("headers-chip-content").ej2_instances;t[0].chips=[],t[0].chips=e,t[0].createChip(),t[0].refresh()}else new ejs.buttons.ChipList({chips:e,enableDelete:!0,delete:onHeaderChipDelete},"#headers-chip-content"),isHeadersChipBinded=!0;if($("#headers-name-content").height()>140){var n=document.getElementById("headers-name-content");n.scrollTop=n.scrollHeight}removeHeaderContainer(),applyHeaderTooltip()}function exposeHeadersChipConversion(e){if(isExposeHeadersChipBinded){var t=document.getElementById("expose-headers-chip-content").ej2_instances;t[0].chips=[],t[0].chips=e,t[0].createChip(),t[0].refresh()}else new ejs.buttons.ChipList({chips:exposeHeadersChipData,enableDelete:!0,delete:onExposeHeaderChipDelete},"#expose-headers-chip-content"),isExposeHeadersChipBinded=!0;if($("#expose-headers-name-content").height()>140){var n=document.getElementById("expose-headers-name-content");n.scrollTop=n.scrollHeight}removeExposeHeaderContainer(),applyExposeHeaderTooltip()}function applyOriginTooltip(){for(var e=0;e<$("#origin-chip-content .e-chip").length;e++){$("#origin-chip-content .e-chip")[e].setAttribute("data-bs-toggle","tooltip"),$("#origin-chip-content .e-chip")[e].setAttribute("data-bs-placement","top");var t=$("#origin-chip-content .e-chip > .e-chip-text")[e].innerText;$("#origin-chip-content .e-chip")[e].setAttribute("data-original-title",t)}$('[data-bs-toggle="tooltip"]').tooltip()}function applyHeaderTooltip(){for(var e=0;e<$("#headers-chip-content .e-chip").length;e++){$("#headers-chip-content .e-chip")[e].setAttribute("data-bs-toggle","tooltip"),$("#headers-chip-content .e-chip")[e].setAttribute("data-bs-placement","top");var t=$("#headers-chip-content .e-chip > .e-chip-text")[e].innerText;$("#headers-chip-content .e-chip")[e].setAttribute("data-original-title",t)}$('[data-bs-toggle="tooltip"]').tooltip()}function applyExposeHeaderTooltip(){for(var e=0;e<$("#expose-headers-chip-content .e-chip").length;e++){$("#expose-headers-chip-content .e-chip")[e].setAttribute("data-bs-toggle","tooltip"),$("#expose-headers-chip-content .e-chip")[e].setAttribute("data-bs-placement","top");var t=$("#expose-headers-chip-content .e-chip > .e-chip-text")[e].innerText;$("#expose-headers-chip-content .e-chip")[e].setAttribute("data-original-title",t)}$('[data-bs-toggle="tooltip"]').tooltip()}function removeOriginContainer(){$("#txt-allowedorigins").css("width","10%").removeAttr("placeholder").val(""),$("#origin-chip-content").css("display","inline")}function removeHeaderContainer(){$("#txt-allowedheaders").css("width","10%").removeAttr("placeholder").val(""),$("#headers-chip-content").css("display","inline")}function removeExposeHeaderContainer(){$("#txt-exposeheaders").css("width","10%").removeAttr("placeholder").val(""),$("#expose-headers-chip-content").css("display","inline")}function applyOriginContainer(){$("#txt-allowedorigins").css("width","100%").attr("placeholder",window.Server.App.LocalizationContent.OriginPlaceholderContent),$("#origin-chip-content").hide(),"true"==$("#allowed-credentials").val()?$(".origin-name-validation").html(window.Server.App.LocalizationContent.AllowedOriginsValidation):$(".origin-name-validation").html("")}function applyHeaderContainer(){$("#txt-allowedheaders").css("width","100%").attr("placeholder",window.Server.App.LocalizationContent.HeadersPlaceholderContent),$("#headers-chip-content").hide()}function applyExposeHeaderContainer(){$("#txt-exposeheaders").css("width","100%").attr("placeholder",window.Server.App.LocalizationContent.ExposeHeadersPlaceholderContent),$("#expose-headers-chip-content").hide()}function removeOriginValidation(){$("#origin-chip-content .e-chip").hasClass("chip-validation")||""!=$("#txt-allowedorigins").val()||"false"!=$("#allowed-credentials").val()||$(".origin-name-validation").html("")}function isOriginChipAlreadyExists(e){var t=document.getElementById("origin-chip-content").ej2_instances;if(null!=t&&0!=t[0].chips&&null!=t[0].chips)for(i=0;i<t[0].chips.length;i++)if(t[0].chips[i].toLowerCase()==e.toLowerCase())return $("#txt-allowedorigins").val(""),!1;return!0}function isHeadersChipAlreadyExists(e){var t=document.getElementById("headers-chip-content").ej2_instances;if(null!=t&&0!=t[0].chips&&null!=t[0].chips)for(i=0;i<t[0].chips.length;i++)if(t[0].chips[i].toLowerCase()==e.toLowerCase())return $("#txt-allowedheaders").val(""),!1;return!0}function isExposeHeadersChipAlreadyExists(e){var t=document.getElementById("expose-headers-chip-content").ej2_instances;if(null!=t&&0!=t[0].chips&&null!=t[0].chips)for(i=0;i<t[0].chips.length;i++)if(t[0].chips[i].toLowerCase()==e.toLowerCase())return $("#txt-exposeheaders").val(""),!1;return!0}function getOriginInstance(){var e=document.getElementById("origin-chip-content").ej2_instances;null!=e&&(e[0].chips=[],applyOriginContainer()),$("#origin-chip-content").html("")}function getHeadersInstance(){var e=document.getElementById("headers-chip-content").ej2_instances;null!=e&&(e[0].chips=[],applyHeaderContainer()),$("#headers-chip-content").html("")}function getExposeHeadersInstance(){var e=document.getElementById("expose-headers-chip-content").ej2_instances;null!=e&&(e[0].chips=[],applyExposeHeaderContainer()),$("#expose-headers-chip-content").html("")}function checkOriginValidation(){var e=$("#origin-chip-content .e-chip").toArray(),t=0;$("#origin-chip-content .e-chip").each(function(){if(t<e.length){var n=$(e[t]).find(".e-chip-text").text();isValidOrigin(n)||($(this).addClass("chip-validation"),$(".origin-name-validation").html(window.Server.App.LocalizationContent.OriginValidation)),t++}})}function ClearSettingsFields(){$("#txt-allowedorigins").val(""),null==document.getElementById("origin-chip-content").ej2_instances&&0==$("#txt-allowedorigins").val().length&&applyOriginContainer(),$("#txt-allowedheaders").val(""),null==document.getElementById("headers-chip-content").ej2_instances&&0==$("#txt-allowedheaders").val().length&&applyHeaderContainer(),$("#txt-exposeheaders").val(""),null==document.getElementById("expose-headers-chip-content").ej2_instances&&0==$("#txt-exposeheaders").val().length&&applyExposeHeaderContainer()}function extractXSRFTokenFromCookie(){var e=parent.document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));return e?e.split("=")[1]:null}function setXSRFRequestHeader(e){e.setRequestHeader("X-XSRF-TOKEN",extractXSRFTokenFromCookie())}function decodeHtmlAsString(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function EscapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}$(document).ready(function(){if(getOriginInstance(),getHeadersInstance(),getExposeHeadersInstance(),null!=allowedOriginsList&&""!=allowedOriginsList)for(i=0;i<allowedOriginsList.length;i++)originChipData[i]=allowedOriginsList[i],0!=originChipData[i].length&&originChipConversion(originChipData);if(null!=allowedHeadersList&&""!=allowedHeadersList)for(i=0;i<allowedHeadersList.length;i++)headersChipData[i]=allowedHeadersList[i],0!=headersChipData[i].length&&headersChipConversion(headersChipData);if(null!=allowedExposeHeadersList&&""!=allowedExposeHeadersList)for(i=0;i<allowedExposeHeadersList.length;i++)exposeHeadersChipData[i]=allowedExposeHeadersList[i],0!=exposeHeadersChipData[i].length&&exposeHeadersChipConversion(exposeHeadersChipData);disableOrEnableCorsSettingsForm()}),$(document).on("keyup","#txt-preflightmaxage",function(e){var t=$("#txt-preflightmaxage").val();""!=t&&!IsValidNumber(t)||t<5?($("#txt-preflightmaxage").addClass("has-error"),$("#txt-preflightmaxage").parent().find("span.validation-errors").html(window.Server.App.LocalizationContent.PreflightMaxAgeValidation)):($("#txt-preflightmaxage").removeClass("has-error"),$("#txt-preflightmaxage").parent().find("span.validation-errors").html(""))}),$("#txt-preflightmaxage").focusout(function(){var e=$("#txt-preflightmaxage").val();""!=e&&!IsValidNumber(e)||e<5?($("#txt-preflightmaxage").addClass("has-error"),$("#txt-preflightmaxage").parent().find("span.validation-errors").html(window.Server.App.LocalizationContent.PreflightMaxAgeValidation)):($("#txt-preflightmaxage").removeClass("has-error"),$("#txt-preflightmaxage").parent().find("span.validation-errors").html(""))}),$(document).on("click","#enable-cors",function(){disableOrEnableCorsSettingsForm()}),$(document).on("change","#allowed-methods",function(){var e=$(this).val();if(e&&e.length>0){var t=e.join(", ");$("#allowed-methods").next(".dropdown-toggle").html(t)}else $("#allowed-methods").next(".dropdown-toggle").html("Select Method")}),$(document).on("change","#allowed-credentials",function(){var e=document.getElementById("origin-chip-content").ej2_instances,t=($(this).val(),$(this).find("option:selected").text());$(this).next(".dropdown-toggle").html(t),$(this).next(".dropdown-toggle").html(t),"true"!=$("#allowed-credentials").val()||null!=e&&(null==e||null!=e[0].chips&&0!=e[0].chips)||""!=$("#txt-allowedorigins").val()?($(".credentials-name-validation").html(""),$(".origin-name-validation").text()==window.Server.App.LocalizationContent.AllowedOriginsValidation&&$(".origin-name-validation").html("")):$(".credentials-name-validation").html(window.Server.App.LocalizationContent.AllowCredentialsValidation)}),$(document).on("keyup","#txt-allowedorigins",function(e){($(".credentials-name-validation").html(""),$(".origin-name-validation").text()==window.Server.App.LocalizationContent.AllowedOriginsValidation&&$(".origin-name-validation").html(""),1==$("#txt-allowedorigins").length&&$("#txt-allowedorigins").focus(),e.keyCode==keyCode.Comma||e.keyCode==keyCode.SemiColon&&!e.shiftKey||e.keyCode==keyCode.Enter)&&objectConvertAsOriginChip($("#txt-allowedorigins").val())}),$(document).on("keyup","#txt-allowedheaders",function(e){(1==$("#txt-allowedheaders").length&&$("#txt-allowedheaders").focus(),e.keyCode==keyCode.Comma||e.keyCode==keyCode.Enter)&&objectConvertAsHeadersChip($("#txt-allowedheaders").val())}),$(document).on("keyup","#txt-exposeheaders",function(e){(1==$("#txt-exposeheaders").length&&$("#txt-exposeheaders").focus(),e.keyCode==keyCode.Comma||e.keyCode==keyCode.Enter)&&objectConvertAsExposeHeadersChip($("#txt-exposeheaders").val())}),$(document).on("keyup","#origin-name-content",function(e){var t=document.getElementById("origin-chip-content").ej2_instances;null==t||null!=t[0].chips&&0!=t[0].chips?null==t&&0==$("#txt-allowedorigins").val().length&&applyOriginContainer():(""==$("#txt-allowedorigins").val()&&applyOriginContainer(),t[0].chips=[],setTimeout(function(){$("#origin-chip-content").html("")},100)),setTimeout(function(){removeOriginValidation()},100)}),$(document).on("keyup","#headers-name-content",function(e){var t=document.getElementById("headers-chip-content").ej2_instances;null==t||null!=t[0].chips&&0!=t[0].chips?null==t&&0==$("#txt-allowedheaders").val().length&&applyHeaderContainer():(""==$("#txt-allowedheaders").val()&&applyHeaderContainer(),t[0].chips=[],setTimeout(function(){$("#headers-chip-content").html("")},100))}),$(document).on("keyup","#expose-headers-name-content",function(e){var t=document.getElementById("expose-headers-chip-content").ej2_instances;null==t||null!=t[0].chips&&0!=t[0].chips?null==t&&0==$("#txt-exposeheaders").val().length&&applyExposeHeaderContainer():(""==$("#txt-exposeheaders").val()&&applyExposeHeaderContainer(),t[0].chips=[],setTimeout(function(){$("#expose-headers-chip-content").html("")},100))}),$(document).on("focusin","#txt-allowedorigins, #txt-allowedheaders, #txt-exposeheaders",function(e){"txt-allowedorigins"==e.target.id?$("#origin-name-content").addClass("focused"):"txt-allowedheaders"==e.target.id?$("#headers-name-content").addClass("focused"):$("#expose-headers-name-content").addClass("focused")}),$("#txt-allowedorigins").focusout(function(){var e=$("#txt-allowedorigins").val()+",";e.length>1&&objectConvertAsOriginChip(e),$("#origin-name-content").removeClass("focused")}),$("#txt-allowedheaders").focusout(function(){var e=$("#txt-allowedheaders").val()+",";e.length>1&&objectConvertAsHeadersChip(e),$("#headers-name-content").removeClass("focused")}),$("#txt-exposeheaders").focusout(function(){var e=$("#txt-exposeheaders").val()+",";e.length>1&&objectConvertAsExposeHeadersChip(e),$("#expose-headers-name-content").removeClass("focused")}),$(document).on("click","#origin-name-content, #headers-name-content, #expose-headers-name-content",function(e){"origin-name-content"!=e.target.id||$(e.target).hasClass("e-chip")||$(e.target).hasClass("e-chip-text")?"headers-name-content"!=e.target.id||$(e.target).hasClass("e-chip")||$(e.target).hasClass("e-chip-text")?"expose-headers-name-content"!=e.target.id||$(e.target).hasClass("e-chip")||$(e.target).hasClass("e-chip-text")||$("#txt-exposeheaders").focus():$("#txt-allowedheaders").focus():$("#txt-allowedorigins").focus()}),$(document).on("keypress","#txt-allowedorigins, #txt-allowedheaders, #txt-exposeheaders",function(e){var t=8*($("#"+e.target.id).val().length+1);$("#"+e.target.id).css("width",t+"px")}),$(document).on("keydown","#origin-name-content",function(e){if(e.keyCode==keyCode.BackSpace&&0==$("#txt-allowedorigins").val().length){isChrome&&isEdge||e.preventDefault();var t=document.getElementById("origin-chip-content").ej2_instances;null!=t&&0!=t[0].chips&&null!=t[0].chips&&($("#origin-chip-content > .e-chip:last").hasClass("e-focused")?(t[0].chips.pop(),t[0].chips.length>0&&t[0].refresh(),applyOriginTooltip(),checkOriginValidation(),removeOriginValidation(),$("#txt-allowedorigins").focus()):($("#origin-chip-content > .e-chip:last").addClass("e-focused"),$("#origin-chip-content > .e-chip:last").focus()),null!=t[0].chips&&0!=t[0].chips.length||getOriginInstance())}}),$(document).on("keydown","#headers-name-content",function(e){if(e.keyCode==keyCode.BackSpace&&0==$("#txt-allowedheaders").val().length){isChrome&&isEdge||e.preventDefault();var t=document.getElementById("headers-chip-content").ej2_instances;null!=t&&0!=t[0].chips&&null!=t[0].chips&&($("#headers-chip-content > .e-chip:last").hasClass("e-focused")?(t[0].chips.pop(),t[0].chips.length>0&&t[0].refresh(),applyHeaderTooltip(),$("#txt-allowedheaders").focus()):($("#headers-chip-content > .e-chip:last").addClass("e-focused"),$("#headers-chip-content > .e-chip:last").focus()),null!=t[0].chips&&0!=t[0].chips.length||getHeadersInstance())}}),$(document).on("keydown","#expose-headers-name-content",function(e){if(e.keyCode==keyCode.BackSpace&&0==$("#txt-exposeheaders").val().length){isChrome&&isEdge||e.preventDefault();var t=document.getElementById("expose-headers-chip-content").ej2_instances;null!=t&&0!=t[0].chips&&null!=t[0].chips&&($("#expose-headers-chip-content > .e-chip:last").hasClass("e-focused")?(t[0].chips.pop(),t[0].chips.length>0&&t[0].refresh(),applyExposeHeaderTooltip(),$("#txt-exposeheaders").focus()):($("#expose-headers-chip-content > .e-chip:last").addClass("e-focused"),$("#expose-headers-chip-content > .e-chip:last").focus()),null!=t[0].chips&&0!=t[0].chips.length||getExposeHeadersInstance())}}),$(document).on("paste","#txt-allowedorigins",function(e){var t=e.originalEvent.clipboardData.getData("Text").trim().split(/[\s,;\r?\n]+/);if(t.length>1){for(var n=0;n<t.length;n++){var i=t[n];isOriginChipAlreadyExists(i)&&""!=i&&(originChipData.push(i),originChipConversion(originChipData))}setTimeout(function(){$("#txt-allowedorigins").val(""),checkOriginValidation()},100)}}),$(document).on("paste","#txt-allowedheaders",function(e){var t=e.originalEvent.clipboardData.getData("Text").trim().split(/[\s,;\r?\n]+/);if(t.length>1){for(var n=0;n<t.length;n++){var i=t[n];isHeadersChipAlreadyExists(i)&&""!=i&&(headersChipData.push(i),headersChipConversion(headersChipData))}setTimeout(function(){$("#txt-allowedheaders").val("")},100)}}),$(document).on("paste","#txt-exposeheaders",function(e){var t=e.originalEvent.clipboardData.getData("Text").trim().split(/[\s,;\r?\n]+/);if(t.length>1){for(var n=0;n<t.length;n++){var i=t[n];isExposeHeadersChipAlreadyExists(i)&&""!=i&&(exposeHeadersChipData.push(i),exposeHeadersChipConversion(exposeHeadersChipData))}setTimeout(function(){$("#txt-exposeheaders").val("")},100)}}),$(document).on("click","#update-cors-settings",function(){var e="",t=[],n=[],i=[],a=document.getElementById("origin-chip-content").ej2_instances;if(null!=a&&null==(t=a[0].chips)&&(t=[]),""==$(".credentials-name-validation").text()&&""==$(".origin-name-validation").text()){if($("#enable-cors").is(":checked")&&""==$("#txt-preflightmaxage").val()||""!=$("#txt-preflightmaxage").val()&&(!IsValidNumber($("#txt-preflightmaxage").val())||$("#txt-preflightmaxage").val()<5))return $("#txt-preflightmaxage").addClass("has-error"),void $("#txt-preflightmaxage").parent().find("span.validation-errors").html(window.Server.App.LocalizationContent.PreflightMaxAgeValidation);var o=document.getElementById("headers-chip-content").ej2_instances;null!=o&&null==(n=o[0].chips)&&(n=[]);var s=document.getElementById("expose-headers-chip-content").ej2_instances;null!=s&&null==(i=s[0].chips)&&(i=[]),e=$("#enable-cors").is(":checked")?{EnableCors:$("#enable-cors").is(":checked"),AllowedHeaders:n.toString(),AllowedOrigins:t.toString(),AllowedMethods:null!=$("#allowed-methods").val()?$("#allowed-methods").val().toString():"",AllowCredentials:$("#allowed-credentials").val(),ExposeHeaders:i.toString(),PreflightMaxAge:$("#txt-preflightmaxage").val()}:{EnableCors:$("#enable-cors").is(":checked")};var r={SettingsKey:SettingsScopes.CORSPolicySettings,CorsSettings:e};$.ajax({type:"POST",url:updateCorsSettingsUrl,data:{systemSettingsData:JSON.stringify(r)},beforeSend:showWaitingPopup($("#server-app-container")),success:function(e){e.status?SuccessAlert(window.Server.App.LocalizationContent.CorsSettings,window.Server.App.LocalizationContent.SettingsSuccessAlert,7e3):(WarningAlert(null!=e.permissionDenied&&e.permissionDenied?window.Server.App.LocalizationContent.PermissionWarningAlert:window.Server.App.LocalizationContent.SettingsWarningAlert,null!=e.permissionDenied&&e.permissionDenied?null:e.message,null,window.Server.App.LocalizationContent.CorsSettings),$(".error-message, .success-message").css("display","none")),hideWaitingPopup($("#server-app-container"))}})}}),$.ajaxSetup({beforeSend:function(e){setXSRFRequestHeader(e)}});
