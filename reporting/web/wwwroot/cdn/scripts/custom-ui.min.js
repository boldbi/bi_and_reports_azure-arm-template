function applyMenuTranslations(e,n){try{if(!e||!n)return;e.forEach(function(e){var s=(e.Name||e.Display||"").toString(),a=n[s]||n[s.replace(/\s+/g,"")];a&&(e.Display=a)})}catch(e){}}function getDefaultMenu(){return[{Display:"Reports",Name:"Reports",ImageLink:"su su-nav-report",OpenLink:dashboardPageUrl,OpenBehavior:"_self",ShowMenu:!0,Condition:!0,IsSelected:currentUrlLocalPath==dashboardPageUrl?"active":""},{Display:"Data Sources",Name:"Data Sources",ImageLink:"su su-nav-datasource",OpenLink:dataSourcesPageUrl,OpenBehavior:"_self",MobileClassName:"mobile-hidden",ShowMenu:!0,Condition:!(!isMobile&&isUserBasedMenu)||(userPermissionItem.Datasource||allItemsCount.Datasource>0),IsSelected:currentUrlLocalPath==dataSourcesPageUrl?"active":""},{Display:"Data Hub",Name:"DataHub",ImageLink:"su su-bold-etl-beta",OpenLink:boldETLUrl,Id:"bold-etl",HrefId:"bold-etl-href",OpenBehavior:"_blank",MobileClassName:"mobile-hidden",ShowMenu:!0,Condition:!isHideIconBasedOnDnsName&&(!isMobile&&isSelfHosted&&!isHideETLOption&&(isAdmin||null!=userPermissionItem&&userPermissionItem.Datasource)),IsSelected:currentUrlLocalPath==boldETLUrl?"active":""},{Display:"Dataset",Name:"Dataset",ImageLink:"su su-nav-dataset",OpenLink:datasetPageUrl,OpenBehavior:"_self",MobileClassName:"mobile-hidden",ShowMenu:!0,Condition:!(!isMobile&&isUserBasedMenu)||(userPermissionItem.Dataset||allItemsCount.Dataset>0),IsSelected:currentUrlLocalPath==datasetPageUrl?"active":""},{Display:"Schedules",Name:"Schedules",ImageLink:"su su-nav-schedule",OpenLink:schedulePageUrl,OpenBehavior:"_self",ShowMenu:!0,Condition:!isHideIconBasedOnDnsName&&(!isUserBasedMenu||(userPermissionItem.Schedule||allItemsCount.Schedule>0)),IsSelected:currentUrlLocalPath==schedulePageUrl?"active":""},{Display:"Publish",Name:"Publish",ImageLink:"su su-publish",OpenLink:PublishPageUrl,OpenBehavior:"_self",MobileClassName:"mobile-hidden",ShowMenu:!0,Condition:!isHideIconBasedOnDnsName&&(!isMobile&&isMasterTenant&&(!isUserBasedMenu||(userPermissionItem.Report>0||hasOwnedReport))),IsSelected:currentUrlLocalPath==PublishPageUrl?"active":""},{Display:"Settings",Name:"Settings",ImageLink:"su su-nav-settings",OpenLink:adminPageUrl,OpenBehavior:"_self",MobileClassName:"mobile-hidden",ShowMenu:!0,Condition:!isHideIconBasedOnDnsName&&(!isMobile&&!isImageRequest&&(isAdmin||null!=userPermissionItem&&userPermissionItem.Settings)),IsSelected:!currentUrlLocalPath.includes(adminPageUrl)||currentUrlLocalPath.includes(userPageurl)||currentUrlLocalPath.includes(groupPageurl)||currentUrlLocalPath==groupPermissionUrl||currentUrlLocalPath==userPermissionUrl?"":"active"},{Display:"Users",Name:"Users",ImageLink:"su su-group",OpenLink:userPageurl,OpenBehavior:"_self",MobileClassName:"mobile-hidden",ShowMenu:!0,Condition:!isHideIconBasedOnDnsName&&(!isMobile&&!isImageRequest&&(isAdmin||null!=userPermissionItem&&userPermissionItem.UserManagement)),IsSelected:currentUrlLocalPath.includes(userPageurl)||currentUrlLocalPath.includes(groupPageurl)||currentUrlLocalPath==userPermissionUrl||currentUrlLocalPath==groupPermissionUrl?"active":""}]}function getCustomMenu(){var e=angular.element("[ng-controller=CustomMenuCtrl]").scope();if(null!=customUI.Profiles){var n=customUI.Profiles[0];$.each(e.menuList,function(e,s){var a=n[s.Name.replace(/\s+/g,"")];null!=a&&null!=a&&(s.ShowMenu=a.ShowMenu,s.Order=a.Order,""!==a.Display&&null!=a.Display&&null!=a.Display&&(s.Display=a.Display))})}var s=e.menuList.length;null!=customUI.CustomMenus&&$.each(customUI.CustomMenus,function(n,a){a.Condition=!isMobile,a.MobileClassName="mobile-hidden",a.ImageClassName="custom-menu",a.IsSelected=currentUrlLocalPath==a.OpenLink?"active":"",e.menuList[s++]=a}),window&&window.menuTranslations&&applyMenuTranslations(e.menuList,window.menuTranslations)}serverApp.controller("CustomMenuCtrl",["$scope","$window",function(e,n){e.menuList=getDefaultMenu(),window&&window.menuTranslations&&applyMenuTranslations(e.menuList,window.menuTranslations),e.currentCount=0,e.menuCount=window.innerHeight<=600?4:5,e.displayAllMenuItems=window.innerHeight>=800,null!=customUI&&getCustomMenu(),window&&window.menuTranslations&&applyMenuTranslations(e.menuList,window.menuTranslations),e.count=function(){return e.currentCount++},setTimeout(function(){$(".default-lists").show()},100),angular.element(n).bind("resize",function(){e.menuCount=window.innerHeight<=600?4:5,e.$apply()})}]),$(document).ready(function(){$(document).on("click",".prevent-default-action",function(e){e.preventDefault()})});
